/*! For license information please see build.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports["react-infinite-grid-scroller"]=t(require("react"),require("react-dom")):e["react-infinite-grid-scroller"]=t(e.react,e["react-dom"])}(self,((e,t)=>(()=>{var r={281:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(81),o=r.n(n),i=r(645),a=r.n(i)()(o());a.push([e.id,"/*cellframe.css*/\n.rigs-source-highlight {\n    box-shadow: 0px 0px 6px 6px darkorange;\n    border-radius: 8px;\n    z-index: 1;\n}\n\n.rigs-target-highlight {\n    box-shadow: 0 0 0 6px black;\n    border-radius: 8px;\n    opacity: 0.3;\n    z-index: 1;\n}\n\n.rigs-dropped-highlight {\n\n    border-radius: 8px;\n    z-index: 1;\n    animation: rigs-gradual-release 1s /*linear 0.05s*/;\n}\n\n@keyframes rigs-gradual-release {\n\n    20% {box-shadow: 0 0 6px 6px darkorange;}\n\n    50% {box-shadow: 0 0 6px 6px transparent}\n\n}\n\n.rigs-target-finish {\n    border-radius: 8px;\n    z-index: 1;\n    animation: rigs-target-fade .5s;\n}\n\n@keyframes rigs-target-fade {\n\n    0%  { \n        box-shadow: 0 0 0 6px black;\n        opacity: 0.3;\n    }\n\n    100% {\n        box-shadow: 0 0 0 0 transparent;\n        opacity: 1;\n    }\n\n}\n",""]);const s=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},63:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},308:(e,t,r)=>{var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){"use strict";var e,t,n,o,i="undefined"!=typeof window?window:null!=typeof r.g?r.g:this||{},a=i.cancelRequestAnimationFrame&&i.requestAnimationFrame||setTimeout,s=i.cancelRequestAnimationFrame||clearTimeout,l=[],c=0,u=!1,d=7,f=35,h=125,p=0,g=0,v=0,m={get didTimeout(){return!1},timeRemaining:function(){var e=d-(Date.now()-g);return e<0?0:e}},y=b((function(){d=22,h=66,f=0}));function b(e){var t,r,n=99,o=function(){var i=Date.now()-r;i<n?t=setTimeout(o,n-i):(t=null,e())};return function(){r=Date.now(),t||(t=setTimeout(o,n))}}function I(){u&&(o&&s(o),n&&clearTimeout(n),u=!1)}function S(){125!=h&&(d=7,h=125,f=35,u&&(I(),P())),y()}function w(){o=null,n=setTimeout(C,0)}function x(){n=null,a(w)}function P(){u||(t=h-(Date.now()-g),e=Date.now(),u=!0,f&&t<f&&(t=f),t>9?n=setTimeout(x,t):(t=0,x()))}function C(){var r,o,i,a=d>9?9:1;if(g=Date.now(),u=!1,n=null,c>2||g-t-50<e)for(o=0,i=l.length;o<i&&m.timeRemaining()>a;o++)r=l.shift(),v++,r&&r(m);l.length?P():c=0}function O(e){return p++,l.push(e),P(),p}function R(e){var t=e-1-v;l[t]&&(l[t]=null)}if(i.requestIdleCallback&&i.cancelIdleCallback)try{i.requestIdleCallback((function(){}),{timeout:0})}catch(e){!function(e){var t,r;if(i.requestIdleCallback=function(t,r){return r&&"number"==typeof r.timeout?e(t,r.timeout):e(t)},i.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(r=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!r.configurable||!r.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return r.get.call(this)},enumerable:!0,configurable:!0})}}(i.requestIdleCallback)}else i.requestIdleCallback=O,i.cancelIdleCallback=R,i.document&&document.addEventListener&&(i.addEventListener("scroll",S,!0),i.addEventListener("resize",S),document.addEventListener("focus",S,!0),document.addEventListener("mouseover",S,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,S,{capture:!0,passive:!0})})),i.MutationObserver&&new MutationObserver(S).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:O,cancel:R}})?n.apply(t,o):n)||(e.exports=i)},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=n.base?l[0]+n.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var f=r(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=o(h,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var l=n(e,o),c=0;c<i.length;c++){var u=r(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},11:(e,t,r)=>{"use strict";var n=r(156),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.jsx=c},947:(e,t,r)=>{"use strict";e.exports=r(11)},156:t=>{"use strict";t.exports=e},111:e=>{"use strict";e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,exports:{}};return r[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var i={};return(()=>{"use strict";o.r(i),o.d(i,{MasterDndContext:()=>_o,RigsDnd:()=>Bo,ScrollerDndContext:()=>Fo,default:()=>Yo,isSafariIOS:()=>Vo});var e={};o.r(e),o.d(e,{FILE:()=>xe,HTML:()=>Oe,TEXT:()=>Ce,URL:()=>Pe});var t=o(156),r=o.n(t),n=o(947);function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(a(1));return r(d)(e,t)}if("function"!=typeof e)throw new Error(a(2));var o=e,i=t,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function g(){if(h)throw new Error(a(3));return i}function v(e){if("function"!=typeof e)throw new Error(a(4));if(h)throw new Error(a(5));var t=!0;return p(),f.push(e),function(){if(t){if(h)throw new Error(a(6));t=!1,p();var r=f.indexOf(e);f.splice(r,1),l=null}}}function m(e){if(!u(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(h)throw new Error(a(9));try{h=!0,i=o(i,e)}finally{h=!1}for(var t=l=f,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:c.INIT}),(n={dispatch:m,subscribe:v,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(a(10));o=e,m({type:c.REPLACE})}})[s]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function r(){e.next&&e.next(g())}return r(),{unsubscribe:t(r)}}})[s]=function(){return this},e},n}function f(e,t,...r){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function h(e){return"object"==typeof e}const p="dnd-core/INIT_COORDS",g="dnd-core/BEGIN_DRAG",v="dnd-core/PUBLISH_DRAG_SOURCE",m="dnd-core/HOVER",y="dnd-core/DROP",b="dnd-core/END_DRAG";function I(e,t){return{type:p,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const S={type:p,payload:{clientOffset:null,sourceClientOffset:null}};function w(e){return function(t=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:o,getSourceClientOffset:i}=r,a=e.getMonitor(),s=e.getRegistry();e.dispatch(I(o)),function(e,t,r){f(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){f(r.getSource(e),"Expected sourceIds to be registered.")}))}(t,a,s);const l=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,a);if(null==l)return void e.dispatch(S);let c=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");!function(e){f("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),c=i(l)}e.dispatch(I(o,c));const u=s.getSource(l).beginDrag(a,l);if(null==u)return;!function(e){f(h(e),"Item must be an object.")}(u),s.pinSource(l);const d=s.getSourceType(l);return{type:g,payload:{itemType:d,item:u,sourceId:l,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!n}}}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){x(e,t,r[t])}))}return e}function C(e){return function(t={}){const r=e.getMonitor(),n=e.getRegistry();!function(e){f(e.isDragging(),"Cannot call drop while not dragging."),f(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const o=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);o.forEach(((o,i)=>{const a=function(e,t,r,n){const o=r.getTarget(e);let i=o?o.drop(n,e):void 0;(function(e){f(void 0===e||h(e),"Drop result must either be an object or undefined.")})(i),void 0===i&&(i=0===t?{}:n.getDropResult());return i}(o,i,n,r),s={type:y,payload:{dropResult:P({},t,a)}};e.dispatch(s)}))}}function O(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){f(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();if(null!=n){r.getSource(n,!0).endDrag(t,n),r.unpinSource()}return{type:b}}}function R(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function D(e){return function(t,{clientOffset:r}={}){!function(e){f(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),o=e.getMonitor(),i=e.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){const o=e[n];R(t.getTargetType(o),r)||e.splice(n,1)}}(n,i,o.getItemType()),function(e,t,r){f(t.isDragging(),"Cannot call hover while not dragging."),f(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const n=e[t];f(e.lastIndexOf(n)===t,"Expected targetIds to be unique in the passed array.");f(r.getTarget(n),"Expected targetIds to be registered.")}}(n,o,i),function(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}(n,o,i),{type:m,payload:{targetIds:n,clientOffset:r||null}}}}function E(e){return function(){if(e.getMonitor().isDragging())return{type:v}}}class T{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const r=function(e){return{beginDrag:w(e),publishDragSource:E(e),hover:D(e),drop:C(e),endDrag:O(e)}}(this);return Object.keys(r).reduce(((n,o)=>{const i=r[o];var a;return n[o]=(a=i,(...r)=>{const n=a.apply(e,r);void 0!==n&&t(n)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function M(e,t){return{x:e.x-t.x,y:e.y-t.y}}const A=[],k=[];A.__IS_NONE__=!0,k.__IS_ALL__=!0;class L{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;f("function"==typeof e,"listener must be a function."),f(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),o=t.stateId;try{const i=o===n||o===n+1&&!function(e,t){return e!==A&&(e===k||void 0===t||(r=e,t.filter((e=>r.indexOf(e)>-1))).length>0);var r}(t.dirtyHandlerIds,r);i||e()}finally{n=o}}))}subscribeToOffsetChange(e){f("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return f(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(f(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return R(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(f(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),o=this.getItemType();if(o&&!R(n,o))return!1;const i=this.getTargetIds();if(!i.length)return!1;const a=i.indexOf(e);return r?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return t&&r&&n?M((i=n,{x:(o=t).x+i.x,y:o.y+i.y}),r):null;var o,i}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?M(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const j="undefined"!=typeof global?global:self,N=j.MutationObserver||j.WebKitMutationObserver;function H(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const z="function"==typeof N?function(e){let t=1;const r=new N(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:H;class _{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const F=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=z(this.flush),this.requestErrorThrow=H((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},B=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new _(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(F.registerPendingError);const U="dnd-core/ADD_SOURCE",V="dnd-core/ADD_TARGET",W="dnd-core/REMOVE_SOURCE",q="dnd-core/REMOVE_TARGET";function G(e,t){t&&Array.isArray(e)?e.forEach((e=>G(e,!1))):f("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Y;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Y||(Y={}));let X=0;function K(e){const t=(X++).toString();switch(e){case Y.SOURCE:return`S${t}`;case Y.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Z(e){switch(e[0]){case"S":return Y.SOURCE;case"T":return Y.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Q(e,t){const r=e.entries();let n=!1;do{const{done:e,value:[,o]}=r.next();if(o===t)return!0;n=!!e}while(!n);return!1}class ${addSource(e,t){G(e),function(e){f("function"==typeof e.canDrag,"Expected canDrag to be a function."),f("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),f("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(Y.SOURCE,e,t);return this.store.dispatch(function(e){return{type:U,payload:{sourceId:e}}}(r)),r}addTarget(e,t){G(e,!0),function(e){f("function"==typeof e.canDrop,"Expected canDrop to be a function."),f("function"==typeof e.hover,"Expected hover to be a function."),f("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(Y.TARGET,e,t);return this.store.dispatch(function(e){return{type:V,payload:{targetId:e}}}(r)),r}containsHandler(e){return Q(this.dragSources,e)||Q(this.dropTargets,e)}getSource(e,t=!1){f(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return f(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Z(e)===Y.SOURCE}isTargetId(e){return Z(e)===Y.TARGET}removeSource(e){var t;f(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:W,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},F.enqueueTask(B.create(t))}removeTarget(e){f(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:q,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);f(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){f(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const n=K(e);return this.types.set(n,t),e===Y.SOURCE?this.dragSources.set(n,r):e===Y.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const J=(e,t)=>e===t;function ee(e=A,t){switch(t.type){case m:break;case U:case V:case q:case W:return A;default:return k}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,o=function(e,t){const r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);const o=[];return r.forEach(((e,t)=>{1===e&&o.push(t)})),o}(r,n);if(!(o.length>0||!function(e,t,r=J){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(r,n)))return A;const i=n[n.length-1],a=r[r.length-1];return i!==a&&(i&&o.push(i),a&&o.push(a)),o}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const re={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ne(e=re,t){const{payload:r}=t;switch(t.type){case p:case g:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case m:return n=e.clientOffset,o=r.clientOffset,!n&&!o||n&&o&&n.x===o.x&&n.y===o.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){te(e,t,r[t])}))}return e}({},e,{clientOffset:r.clientOffset});case b:case y:return re;default:return e}var n,o}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){oe(e,t,r[t])}))}return e}const ae={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function se(e=ae,t){const{payload:r}=t;switch(t.type){case g:return ie({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case v:return ie({},e,{isSourcePublic:!0});case m:return ie({},e,{targetIds:r.targetIds});case q:return-1===e.targetIds.indexOf(r.targetId)?e:ie({},e,{targetIds:(n=e.targetIds,o=r.targetId,n.filter((e=>e!==o)))});case y:return ie({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case b:return ie({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,o}function le(e=0,t){switch(t.type){case U:case V:return e+1;case W:case q:return e-1;default:return e}}function ce(e=0){return e+1}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ue(e,t,r[t])}))}return e}function fe(e={},t){return{dirtyHandlerIds:ee(e.dirtyHandlerIds,{type:t.type,payload:de({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",o=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:o||null),r))})}),dragOffset:ne(e.dragOffset,t),refCount:le(e.refCount,t),dragOperation:se(e.dragOperation,t),stateId:ce(e.stateId)};var r,n,o}function he(e,t=void 0,r={},n=!1){const o=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return d(fe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n),i=new L(o,new $(o)),a=new T(o,i),s=e(a,t,r);return a.receiveBackend(s),a}const pe=(0,t.createContext)({dragDropManager:void 0});function ge(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}let ve=0;const me=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ye=(0,t.memo)((function(e){var{children:r}=e,o=ge(e,["children"]);const[i,a]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=be(),r,n){const o=t;o[me]||(o[me]={dragDropManager:he(e,t,r,n)});return o[me]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(o);return(0,t.useEffect)((()=>{if(a){const e=be();return++ve,()=>{0==--ve&&(e[me]=null)}}}),[]),(0,n.jsx)(pe.Provider,{value:i,children:r})}));function be(){return"undefined"!=typeof global?global:window}function Ie(e){let t=null;return()=>(null==t&&(t=e()),t)}class Se{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);const o=[];return r.forEach((e=>o.push(e))),o}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,n;return this.entered=(r=this.entered.filter(this.isNodeInDocument),n=e,r.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class we{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((r=>{const n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const xe="__NATIVE_FILE__",Pe="__NATIVE_URL__",Ce="__NATIVE_TEXT__",Oe="__NATIVE_HTML__";function Re(e,t,r){const n=t.reduce(((t,r)=>t||e.getData(r)),"");return null!=n?n:r}const De={[xe]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Oe]:{exposeProperties:{html:(e,t)=>Re(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Pe]:{exposeProperties:{urls:(e,t)=>Re(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Ce]:{exposeProperties:{text:(e,t)=>Re(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ee(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(De).filter((e=>{const r=De[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Te=Ie((()=>/firefox/i.test(navigator.userAgent))),Me=Ie((()=>Boolean(window.safari)));class Ae{interpolate(e){const{xs:t,ys:r,c1s:n,c2s:o,c3s:i}=this;let a=t.length-1;if(e===t[a])return r[a];let s,l=0,c=i.length-1;for(;l<=c;){s=Math.floor(.5*(l+c));const n=t[s];if(n<e)l=s+1;else{if(!(n>e))return r[s];c=s-1}}a=Math.max(0,c);const u=e-t[a],d=u*u;return r[a]+n[a]*u+o[a]*d+i[a]*u*d}constructor(e,t){const{length:r}=e,n=[];for(let e=0;e<r;e++)n.push(e);n.sort(((t,r)=>e[t]<e[r]?-1:1));const o=[],i=[],a=[];let s,l;for(let n=0;n<r-1;n++)s=e[n+1]-e[n],l=t[n+1]-t[n],i.push(s),o.push(l),a.push(l/s);const c=[a[0]];for(let e=0;e<i.length-1;e++){const t=a[e],r=a[e+1];if(t*r<=0)c.push(0);else{s=i[e];const n=i[e+1],o=s+n;c.push(3*o/((o+n)/t+(o+s)/r))}}c.push(a[a.length-1]);const u=[],d=[];let f;for(let e=0;e<c.length-1;e++){f=a[e];const t=c[e],r=1/i[e],n=t+c[e+1]-f-f;u.push((f-t-n)*r),d.push(n*r*r)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}const ke=1;function Le(e){const t=e.nodeType===ke?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function je(e){return{x:e.clientX,y:e.clientY}}function Ne(e,t,r,n,o){const i="IMG"===(a=t).nodeName&&(Te()||!(null===(s=document.documentElement)||void 0===s?void 0:s.contains(a)));var a,s;const l=Le(i?e:t),c={x:r.x-l.x,y:r.y-l.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:f,anchorY:h}=n,{dragPreviewWidth:p,dragPreviewHeight:g}=function(e,t,r,n){let o=e?t.width:r,i=e?t.height:n;return Me()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(i,t,u,d),{offsetX:v,offsetY:m}=o,y=0===m||m;return{x:0===v||v?v:new Ae([0,.5,1],[c.x,c.x/u*p,c.x+p-u]).interpolate(f),y:y?m:(()=>{let e=new Ae([0,.5,1],[c.y,c.y/d*g,c.y+g-d]).interpolate(h);return Me()&&i&&(e+=(window.devicePixelRatio-1)*g),e})()}}class He{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ze(e,t,r[t])}))}return e}class Fe{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const n=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return _e({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return _e({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(e).some((r=>e[r]===t))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=De[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new we(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Le(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=je(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:n}=e,o=Ee(n);if(this.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){const{anchorX:e,anchorY:i,offsetX:a,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=Ne(t,o,r,{anchorX:e,anchorY:i},{offsetX:a,offsetY:s});n.setDragImage(o,l.x,l.y)}}try{null==n||n.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(o)this.beginDragNativeItem(o);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,n=Ee(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:je(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=je(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Ee(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:je(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new He(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Se(this.isNodeInDocument)}}var Be;!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(Be||(Be={}));class Ue{get delay(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}get enableHoverOutsideTarget(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}get enableKeyboardEvents(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}get enableMouseEvents(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}get enableTouchEvents(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,r,n;return null!==(n=null!==(r=null===(e=this.args)||void 0===e?void 0:e.delayTouchStart)&&void 0!==r?r:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==n?n:0}get delayMouseStart(){var e,t,r,n;return null!==(n=null!==(r=null===(e=this.args)||void 0===e?void 0:e.delayMouseStart)&&void 0!==r?r:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==n?n:0}get window(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.context)||void 0===e?void 0:e.document)?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}const Ve=1,We=0;function qe(e){return void 0===e.button||e.button===We}function Ge(e){return!!e.targetTouches}function Ye(e,t){return Ge(e)?function(e,t){return 1===e.targetTouches.length?Ye(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?Ye(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}const Xe=(()=>{let e=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(e=!0,!0)}))}catch(e){}return e})(),Ke={[Be.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Be.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Be.keyboard]:{keydown:"keydown"}};class Ze{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(f(!Ze.isSetUp,"Cannot have two Touch backends at the same time."),Ze.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Ze.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,r,n=!1){const o=Xe?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){const i=Ke[n][t];i&&e.addEventListener(i,r,o)}))}removeEventListener(e,t,r,n=!1){const o=Xe?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){const i=Ke[n][t];i&&e.removeEventListener(i,r,o)}))}connectDragSource(e,t){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",r)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const n=n=>{if(!this.document||!r||!this.monitor.isDragging())return;let o;switch(n.type){case Ke.mouse.move:o={x:n.clientX,y:n.clientY};break;case Ke.touch.move:var i,a;o={x:(null===(i=n.touches[0])||void 0===i?void 0:i.clientX)||0,y:(null===(a=n.touches[0])||void 0===a?void 0:a.clientY)||0}}const s=null!=o?this.document.elementFromPoint(o.x,o.y):void 0,l=s&&t.contains(s);return s===t||l?this.handleMove(n,e):void 0};return this.addEventListener(this.document.body,"move",n),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",n))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,r){this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&function(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}(t)},this.handleTopMoveStartCapture=e=>{qe(e)&&(this.moveStartSourceIds=[])},this.handleMoveStart=e=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=e=>{if(!qe(e))return;const t=Ye(e);t&&(Ge(e)&&(this.lastTargetTouchFallback=e.targetTouches[0]),this._mouseClientOffset=t),this.waitingForDelay=!1},this.handleTopMoveStartDelay=e=>{if(!qe(e))return;const t=e.type===Ke.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,e),t),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(e,t)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(t)},this.handleTopMove=e=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:t,dragOverTargetIds:r}=this,n=this.options.enableHoverOutsideTarget,o=Ye(e,this.lastTargetTouchFallback);if(!o)return;if(this._isScrolling||!this.monitor.isDragging()&&function(e,t,r,n,o){if(!o)return!1;const i=180*Math.atan2(n-t,r-e)/Math.PI+180;for(let e=0;e<o.length;++e){const t=o[e];if(t&&(null==t.start||i>=t.start)&&(null==t.end||i<=t.end))return!0}return!1}(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var i,a,s,l;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&t&&(i=this._mouseClientOffset.x||0,a=this._mouseClientOffset.y||0,s=o.x,l=o.y,Math.sqrt(Math.pow(Math.abs(s-i),2)+Math.pow(Math.abs(l-a),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(t,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const c=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(c),this.actions.publishDragSource(),e.cancelable&&e.preventDefault();const u=(r||[]).map((e=>this.targetNodes.get(e))).filter((e=>!!e)),d=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(o.x,o.y,u):this.document.elementsFromPoint(o.x,o.y),f=[];for(const e in d){if(!d.hasOwnProperty(e))continue;let t=d[e];for(null!=t&&f.push(t);t;)t=t.parentElement,t&&-1===f.indexOf(t)&&f.push(t)}const h=f.filter((e=>u.indexOf(e)>-1)).map((e=>this._getDropTargetId(e))).filter((e=>!!e)).filter(((e,t,r)=>r.indexOf(e)===t));if(n)for(const e in this.targetNodes){const t=this.targetNodes.get(e);if(c&&t&&t.contains(c)&&-1===h.indexOf(e)){h.unshift(e);break}}h.reverse(),this.actions.hover(h,{clientOffset:o})},this._getDropTargetId=e=>{const t=this.targetNodes.keys();let r=t.next();for(;!1===r.done;){const n=r.value;if(e===this.targetNodes.get(n))return n;r=t.next()}},this.handleTopMoveEndCapture=e=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0==(e.buttons&Ve)}(e)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(e.cancelable&&e.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=e=>{"Escape"===e.key&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Ue(r,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Be.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Be.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Be.keyboard)}}const Qe=(0,t.createContext)(null),$e={didCatch:!1,error:null};class Je extends t.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=$e}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];null===(t=(r=this.props).onReset)||void 0===t||t.call(r,{args:o,reason:"imperative-api"}),this.setState($e)}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:n}=this.props;var o,i;r&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,r)=>!Object.is(e,t[r])))}(e.resetKeys,n)&&(null===(o=(i=this.props).onReset)||void 0===o||o.call(i,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState($e))}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:o}=this.props,{didCatch:i,error:a}=this.state;let s=e;if(i){const e={error:a,resetErrorBoundary:this.resetErrorBoundary};if((0,t.isValidElement)(o))s=o;else if("function"==typeof r)s=r(e);else{if(!n)throw a;s=(0,t.createElement)(n,e)}}return(0,t.createElement)(Qe.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}}var et=o(63);const tt="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function rt(e,r,n){const[o,i]=(0,t.useState)((()=>r(e))),a=(0,t.useCallback)((()=>{const t=r(e);et(o,t)||(i(t),n&&n())}),[o,e,n]);return tt(a),[o,a]}function nt(){const{dragDropManager:e}=(0,t.useContext)(pe);return f(null!=e,"Expected drag drop context"),e}const ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAH9JREFUSEvtlMENgDAMA6/zwA7ADgzEQOwA7AD7oEp5ASFUVT4oeaWWXEuu64TzJOf7+b/ABHRi4wbkcx4NvzluWbQDjbAOoJVdw4sFFqAX1goMsmt4sUC2YhTWfLHoCS8WqE6x9QbuApEisyoiRZ8sii56/ayRIjNF7mVXLXACJkowGRxYCQoAAAAASUVORK5CYII=";function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const st=function(e){var n=e.scrollTrackerAPIRef,o=e.styles,i=it((0,t.useState)(null),2),a=i[0],s=i[1],l=(0,t.useRef)(null);l.current=a;var c=(0,t.useRef)(null),u=(0,t.useRef)(null),d="".concat(a," (").concat(a-c.current+1,"/").concat(u.current,")"),f=(0,t.useRef)(Object.assign({top:"3px",left:"3px",position:"absolute",zIndex:3,backgroundColor:"white",border:"1px solid gray",borderRadius:"10px",fontSize:"smaller",padding:"3px",visibility:"hidden"},o));(0,t.useEffect)((function(){n.current={startReposition:h,updateReposition:p,finishReposition:g}}),[]);var h=(0,t.useCallback)((function(e,t,r){s(e+t),c.current=t,u.current=r,f.current=Object.assign(Object.assign({},f.current),{visibility:"visible"})}),[]),p=(0,t.useCallback)((function(e){var t=e+c.current;l.current!=t&&s(t)}),[]),g=(0,t.useCallback)((function(){f.current=Object.assign(Object.assign({},f.current),{visibility:"hidden"}),s(null)}),[]);return r().createElement("div",{"data-name":"scrolltracker",style:f.current},d)};function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ut=r().createContext(null),dt=function(e){var n=lt((0,t.useState)("ready"),2),o=n[0],i=n[1],a=(0,t.useContext)(_o),s=a.dragData.canDrop,l=e.itemID,c=e.index,u=e.dndOptions,d=e.dragData,f=e.scrollerID,h=u.dragText||"Dragging itemID ".concat(l,", index ").concat(c);f!=a.scrollerID||a.setDragBarState||(a.setDragBarState=i);var p=function(e){const r=nt().getMonitor(),[n,o]=rt(r,e);return(0,t.useEffect)((()=>r.subscribeToOffsetChange(o))),(0,t.useEffect)((()=>r.subscribeToStateChange(o))),n}((function(e){return{isDragging:e.isDragging(),currentOffset:e.getSourceClientOffset(),item:e.getItem()}})),g=p.isDragging,v=p.currentOffset;p.item;!g&&d.isDragging&&(d.isDragging=!1,d.itemID=null,d.index=null,d.dndOptions={});var m=s?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAhxJREFUSEu11UvITlEUBuDnTzIxk0uUFJIJykQuRYkIM5RLBgZuhZCB6FeUgZJLLikGcikGCiVSlEuZoSgMjMiljEwwoKV9vvY5nfOdz1//ql3fOd9a77v2u9d+T59Bjr5BxtdGMBwrMBXTMRND8BJv8RA3uzXZjWA2TmNGyy6f4SIupLyVuFHUNBFsxtmU9ATX8Aav8QvjMQ+7MJGOEgF+HasKkjqCZbidwE9gZ4/nVIBHepCsjh9Vgsl4lwDbzifnzcGvYm2dRMNwBwuxDlcG0PklbMjr8i7XIxLuYukAwOOgN6a6g4hVkugo9mA7TvVAkMtyHpsy8ElJhRLBPSzCYtxPyUPxu4YsBz+DbSlnAj7gOWZVd/AZozEGXzAuzXbMd2eukYOfxI5KA3/wHSOqBB8xFqPwLWnYn4qLuc7Bj2F3BXwkvuJTarAk0S0sxwI8yvTMSWK+I+K89tZINz/ZR9yjsJgSwSHsT3qGrkXENBQk8e4I9jUMwdZkL4dxoEqwJs1+WEPYQB4FSaewgeAx5qaLFheutINwzkgIc6uziM5sN4AfTwf+IjX4o0oQz+GgTxPA/1hFlMT0RMxBOOy/qAPJnbQXywjfuZzwtuBcvsOmLnNHDeuIFR+Y+NBExMdnCpakFe9iAsPLStFNhnDWmKYwv27xADE97+uS2nQOh41LNi2t6DwidvIqrbgbP5s6aCNoab7970En+AsVIGoZtgh+dQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAf1JREFUSEu11UuoT1EUBvDfLWViKs8puhMUI49QIjfMGHjN5FUYMCPEjMGVvDLzLEOUSCGvCYVCMZTn2EQGtLSOzv/c8/gb/Hftwems9X1rrf3tbw8Z8BoaML4ugglYi2HMwbws6AVe4R1u4EdToW0EC3Aaczu6fIldeFoX10SwHWcz4TGu4S3eYFx2Mh9bMTXjduBclaSOYDVuZuBJ7G3pYAq2lYjW4FY5vkowA+8zoOt8Cpz7WIrP2c1MfCh+lkHGJ/tybMKVPhRWgD/AQxzCPcQUfkZ+mWAzLuI2Rv4TfBliXM+ziy24VCU4jn3YjVMdBOXKA7xYh7OLE9hfJbiDFViJuy0ETeCRsg7XMz9wekb0FZMwGd8aCNrAI2U6PmZ+4PQQfMr5ha6/1BB0gUfKRHxPRU2rEsSVDx2P0TL6AQ+8kGvExj0Ki+np4CgO4AjisKo6DymWD7RuijvTXo7hYJVgQ2o/LkzYQIyp38oLskdYhI24WiUI54yAMLfoYkm23E/lgTWKPQjzW1w4bNUOwkGflK59v+BB8DvbWFh21jq/KZw0RnUB5xtUVYwlxnE5P8Y4apOhlR21IAqrfoZf+fjMwqrcgV+nvtYXLZz1DML82laYW6jnn4OWg7ssORx2PWbnjmczVjyXr3OHNfx1zrrVRdBRfPfvgRP8AUkbbhkhm2OyAAAAAElFTkSuQmCC";(0,t.useEffect)((function(){if("updateicon"===o)i("ready")}),[o]);var y,b=(0,t.useRef)({float:"left",top:0,left:0,border:"gray solid 1px",borderRadius:"5px",margin:"3px"}),I=(0,t.useRef)({position:"absolute",bottom:"-12px",opacity:"!important 1",right:0,backgroundColor:"whitesmoke",border:"gray solid 1px",borderRadius:"3px",padding:"2px",margin:"3px",height:"20px",width:"20px"}),S=(0,t.useRef)({position:"absolute",top:"-12px",opacity:"!important 1",right:0,backgroundColor:"whitesmoke",border:"gray solid 1px",borderRadius:"3px",padding:"2px",margin:"3px",height:"20px",width:"20px"}),w=(0,t.useRef)({opacity:.75});return g&&(y={zIndex:10,position:"fixed",top:0,left:0,transform:"translate(".concat(v.x,"px, ").concat(v.y,"px)"),pointerEvents:"none",paddingRight:"20px",backgroundColor:"whitesmoke",width:"200px",fontSize:".75em",border:"1px solid black",borderRadius:"5px"}),g&&v?r().createElement("div",{"data-type":"dragbar",style:y},r().createElement("div",{style:S.current},r().createElement("img",{style:w.current,src:m})),r().createElement("div",{style:b.current},r().createElement("img",{style:w.current,src:ot})),h,r().createElement("div",{style:I.current},r().createElement("img",{style:w.current,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAKdJREFUSEvdle0NgzAMRB/zwBAM0RlYozBGp6EMwTxUqUiFDFKODyNofqLLvdjnkAznlTn7czqgBh5ALlb2Bjog7FtctoIWKEXzKOuBQgUMo1BtXVJvjZIbzEmT+tsBYti/0PdWMO1YMH2OH5o4WUcCgncFvKYQBRCDXDm9X3lzCcCak29qkQpwCdletMPH9P9u8iyv03/X7g+OOpKyTn1YZEMrdAd8AOegLRl38DzOAAAAAElFTkSuQmCC"}))):null};const ft=function(e){var n=e.children,o=e.gridSpecs,i=e.styles,a=e.scrollerID,s=e.VIEWPORT_RESIZE_TIMEOUT,l=e.useScrollTracker,c=(0,t.useContext)(_o),u=c.dragData,d=o.orientation,f=lt((0,t.useState)("setup"),2),h=f[0],p=f[1];a!=c.scrollerID||c.setViewportState||(c.setViewportState=p);var g=(0,t.useRef)(null);g.current=h;var v=(0,t.useRef)(!0),m=(0,t.useRef)(null),y=(0,t.useRef)(null),b=(0,t.useRef)({isResizing:!1,elementRef:null,scrollTrackerAPIRef:y});(0,t.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var I=(0,t.useRef)(null),S=(0,t.useRef)(!1),w=(0,t.useRef)(null);(0,t.useEffect)((function(){return w.current=new ResizeObserver(x),w.current.observe(m.current),function(){w.current.disconnect()}}),[]);var x=(0,t.useCallback)((function(e){if("setup"!=g.current){var t=e[0].target;t.dataset.initialized?(S.current||(b.current.isResizing=S.current=!0,b.current=Object.assign({},b.current),v.current&&p("resizing")),clearTimeout(I.current),I.current=setTimeout((function(){S.current=!1,v.current&&p("resized")}),s)):t.dataset.initialized="true"}}),[]),P=(0,t.useRef)(null);return P.current=(0,t.useMemo)((function(){return Object.assign(Object.assign({},i.viewport),{position:"absolute",inset:0,overflow:"scroll",WebkitOverflowScrolling:"touch",overflowAnchor:"none"})}),[i.viewport]),(0,t.useRef)(null).current=(0,t.useMemo)((function(){return{position:"absolute",top:0,left:0}}),[i.viewport]),b.current=(0,t.useMemo)((function(){if("setup"==h)return b.current;var e={elementRef:m,isResizing:S.current};return Object.assign(Object.assign({},b.current),e)}),[d,S.current,h]),(0,t.useLayoutEffect)((function(){switch(h){case"resized":case"startdragbar":case"setup":p("ready")}}),[h]),r().createElement(ut.Provider,{value:b.current},u.isDragging&&a===c.scrollerID&&r().createElement(dt,{itemID:u.itemID,index:u.index,dndOptions:u.dndOptions,dragData:u,scrollerID:a}),r().createElement("div",{"data-type":"viewport","data-scrollerid":a,style:P.current,ref:m},"setup"!=h&&n),l&&r().createElement(st,{scrollTrackerAPIRef:y,styles:i.scrolltracker}))};function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const gt=function(e){var n,o=e.children,i=e.virtualListSpecs,a=e.gridSpecs,s=e.paddingProps,l=e.gapProps,c=e.styles,u=(e.scrollerID,a.orientation),d=a.cellHeight,f=a.cellWidth,h=i.size,p=(0,t.useContext)(ut),g=ht((0,t.useState)("setup"),2),v=g[0],m=g[1],y=(0,t.useRef)(null),b=(0,t.useMemo)((function(){return Object.assign(Object.assign({},c.scrollblock),{position:"relative"})}),[]),I=(0,t.useRef)(b),S={width:(n=p.elementRef.current).offsetWidth,height:n.offsetHeight},w=S.height,x=S.width;(0,t.useLayoutEffect)((function(){P({orientation:u,viewportheight:w,viewportwidth:x,listsize:h,cellHeight:d,cellWidth:f,gapProps:l,paddingProps:s}),I.current=mt(u,I,y,f,d,s),m("update")}),[u,w,x,h,d,f,l,s]);var P=(0,t.useCallback)((function(e){var t=vt(e);y.current=t}),[]);return(0,t.useLayoutEffect)((function(){switch(v){case"setup":case"update":m("ready")}}),[v]),r().createElement("div",{"data-type":"scrollblock",style:I.current},o)};var vt=function(e){var t,r,n,o,i,a=e.orientation,s=e.viewportheight,l=e.viewportwidth,c=e.listsize,u=e.cellHeight,d=e.cellWidth,f=e.gapProps,h=e.paddingProps;"vertical"==a?(o=f.column,t=d+(i=f.row),r=u+o,n=l-h.left-h.right):(t=u+(o=f.row),r=d+(i=f.column),n=s-h.top-h.bottom),(n+=i)<t&&(n=t);var p=Math.floor(n/t),g=Math.ceil(c/p),v=g*r-(g>0?o:0);return"vertical"==a?(h.top,h.bottom):(h.left,h.right),v},mt=function(e,t,r,n,o,i){var a,s,l,c,u=Object.assign({},t.current);return"vertical"==e?(a=r.current+"px",s="100%",c=n+(i.left+i.right)+"px",l=null):(a="100%",s=r.current+"px",l=o+(i.top+i.bottom)+"px",c=null),u.height=a,u.width=s,u.minHeight=l,u.minWidth=c,u.padding=i.CSS,u};function yt(e,t,r){return function(e,t,r){const[n,o]=rt(e,t,r);return tt((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),n}(t,e||(()=>({})),(()=>r.reconnect()))}function bt(e,r){const n=[...r||[]];return null==r&&"function"!=typeof e&&n.push(e),(0,t.useMemo)((()=>"function"==typeof e?e():e),n)}function It(e){return(0,t.useMemo)((()=>e.hooks.dropTarget()),[e])}function St(e,t,r,n){let o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<i.length;a++){const l=i[a];if(!s(l))return!1;const c=e[l],u=t[l];if(o=r?r.call(n,c,u,l):void 0,!1===o||void 0===o&&c!==u)return!1}return!0}function wt(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function xt(e){return(r=null,n=null)=>{if(!(0,t.isValidElement)(r)){const t=r;return e(t,n),t}const o=r;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(o);return function(e,r){const n=e.ref;return f("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,t.cloneElement)(e,{ref:e=>{Ct(n,e),Ct(r,e)}}):(0,t.cloneElement)(e,{ref:r})}(o,n?t=>e(t,n):e)}}function Pt(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const e=xt(n);t[r]=()=>e}})),t}function Ct(e,t){"function"==typeof e?e(t):e.current=t}class Ot{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!St(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Pt({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,wt(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let Rt=!1;class Dt{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;f(!Rt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Rt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Rt=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class Et{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Tt(e,r,n){const o=nt(),i=function(e,r){const n=(0,t.useMemo)((()=>new Et(e,r)),[r]);return(0,t.useEffect)((()=>{n.spec=e}),[e]),n}(e,r),a=function(e){const{accept:r}=e;return(0,t.useMemo)((()=>(f(null!=e.accept,"accept must be defined"),Array.isArray(r)?r:[r])),[r])}(e);tt((function(){const[e,t]=function(e,t,r){const n=r.getRegistry(),o=n.addTarget(e,t);return[o,()=>n.removeTarget(o)]}(a,i,o);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}),[o,r,i,n,a.map((e=>e.toString())).join("|")])}function Mt(e,r){const n=bt(e,r),o=function(){const e=nt();return(0,t.useMemo)((()=>new Dt(e)),[e])}(),i=function(e){const r=nt(),n=(0,t.useMemo)((()=>new Ot(r.getBackend())),[r]);return tt((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return Tt(n,o,i),[yt(n.collect,o,i),It(i)]}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Lt=function(e){var n=(0,t.useContext)(Fo),o=(0,t.useContext)(_o),i=(0,t.useContext)(ut),a=(0,t.useRef)(null),s=i.elementRef.current,l=(e.scrollerID,e.virtualListSpecs.size),c=Mt({accept:n.dndOptions.accept||["Cell"],drop:function(e,t){var r=t.getDropResult();if(r){var i=a.current,s=i.serviceHandler,c=i.cacheAPI,u=i.contentHandler,d=i.stateHandler,f=e.index,h=r.target.index;if(e.scrollerID==r.target.scrollerID)s.moveIndex(h,f),n.displacedIndex=f>h?h+1:h-1;else{var p=o.dragData,g=p.sourceServiceHandler.getPropertiesSnapshot().virtualListProps.size;p.sourceCacheAPI.insertRemoveIndex(f,f,-1,g,!1),p.sourceServiceHandler.newListSize=g-1,p.sourceStateHandler.setCradleState("changelistsizeafterinsertremove");var v=At(c.insertRemoveIndex(h,h,1,l),3),m=v[0],y=v[1],b=v[2];e.scrollerID;c.transferPortalMetadataToScroller(e.itemID,h),u.synchronizeCradleItemIDsToCache(b,y,m),s.newListSize=l+y,d.setCradleState("applyinsertremovechanges"),n.displacedIndex=h+1}n.droppedIndex=h}}}),u=At(c,2);u[0];(0,u[1])(s);var d=Object.assign(Object.assign({},e),{handlerListRef:a});return r().createElement(Xn,Object.assign({},d))};const jt=function(e){var t=e.cradleState,r=e.cradleParameters,n=e.isCachedRef,o=e.wasCachedRef,i=e.hasBeenRenderedRef,a=e.nullItemSetMaxListsize,s=r.cradleInheritedPropertiesRef,l=r.handlersRef,c=r.cradleInternalPropertiesRef,u=r.viewportContextPropertiesRef,d=l.current,f=d.stateHandler,h=d.contentHandler,p=d.serviceHandler,g=d.cacheAPI,v=d.interruptHandler,m=d.scrollHandler,y=d.layoutHandler,b=f.setCradleState,I=h.content;switch(t){case"setup":"preload"!=s.current.cache&&(n.current?b("cached"):b("firstrender"));break;case"viewportresizing":break;case"startpreload":g.preload((function(){var e,t=h.getModelIndexList(),r=p.callbacks.deleteListCallback;r&&(e=function(e){r("pare cache to cacheMax",e)});var o=s.current.cacheMax;g.pareCacheToMax(o,t,e)&&g.renderPortalLists(),n.current?b("cached"):b("finishpreload")}),a);break;case"cached":o.current||n.current||(i.current?b("rerenderfromcache"):b("firstrenderfromcache"));break;case"startreposition":var S=v.signals;if(S.pauseTriggerlinesObserver=!0,S.pauseCradleIntersectionObserver=!0,S.repositioningRequired=!1,m.isScrolling){var w=c.current.virtualListProps,x=w.lowindex,P=w.size;u.current.scrollTrackerAPIRef.current.startReposition(y.cradlePositionData.targetAxisReferencePosition,x,P),b("repositioningRender")}else b("finishreposition");break;case"firstrender":case"firstrenderfromcache":case"rerenderfromcache":case"scrollto":case"changecaching":case"finishpreload":case"finishreposition":case"finishviewportresize":case"pivot":case"reconfigure":case"reconfigureforlistrange":case"reload":if(!f.isMountedRef.current)return;if(n.current){b("cached");break}I.headModelComponents=[],I.tailModelComponents=[];var C=s.current.layout;if(v.triggerlinesIntersect.disconnect(),v.cradleIntersect.disconnect(),"variable"==C&&"finishreposition"!=t&&y.restoreBaseScrollblockConfig(),"reload"==t&&g.clearCache(),"finishreposition"==t&&(u.current.scrollTrackerAPIRef.current.finishReposition(),m.calcImpliedRepositioningData("finishreposition")),c.current.virtualListProps.size&&h.setCradleContent(t),"finishpreload"!=t&&(i.current=!0),"cradle"==s.current.cache){var O,R=h.getModelIndexList(),D=p.callbacks.deleteListCallback;D&&(O=function(e){D("match cache to cradle",e)}),g.matchCacheToCradle(R,O)&&g.renderPortalLists()}I.headDisplayComponents=I.headModelComponents,I.tailDisplayComponents=I.tailModelComponents,b("uniform"==C?"preparerender":"refreshDOMsetforvariability");break;case"preparerender":v.triggerlinesIntersect.connectElements(),v.cradleIntersect.connectElements(),b("restoreinterrupts");break;case"restoreinterrupts":v.restoreInterrupts(),b("ready");break;case"triggerboundarynotications":p.triggerBoundaryCallbacks(),b("ready");break;case"renderupdatedcontent":h.updateCradleContent(),b("finishupdatedcontent");break;case"finishupdatedcontent":"keepload"==c.current.cache&&h.guardAgainstRunawayCaching(),"uniform"==s.current.layout?(v.triggerlinesIntersect.connectElements(),b("ready")):b("refreshDOMupdateforvariability");break;case"refreshDOMsetforvariability":b("preparesetforvariability");break;case"preparesetforvariability":f.isMountedRef.current&&(h.adjustScrollblockForVariability("setcradle"),b("finishsetforvariability"));break;case"finishsetforvariability":b("preparerender");break;case"refreshDOMupdateforvariability":b("adjustupdateforvariability");break;case"adjustupdateforvariability":setTimeout((function(){h.adjustScrollblockForVariability("updatecradle"),b("finishupdateforvariability")}),0);break;case"finishupdateforvariability":v.triggerlinesIntersect.connectElements(),v.signals.pauseCradleIntersectionObserver=!1,b("ready");break;case"channelcradleresetafterinsertremove":g.applyPortalPartitionItemsForDeleteList(),b("changelistsizeafterinsertremove");break;case"applyinsertremovechanges":case"applymovechanges":I.headDisplayComponents=I.headModelComponents,I.tailDisplayComponents=I.tailModelComponents,g.applyPortalPartitionItemsForDeleteList(),b("applyinsertremovechanges"==t?"changelistsizeafterinsertremove":"ready");break;case"changelistsizeafterinsertremove":var E=p.newListSize;p.newListSize=null,b("ready"),p.setListSize(E);break;case"clearcache":h.clearCradle(),I.headDisplayComponents=[],I.tailDisplayComponents=[],g.clearCache(),b("ready")}};function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Nt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Nt(i)?i:String(i)),n)}var o,i}function zt(e,t,r){return t&&Ht(e.prototype,t),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var _t=zt((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollData={start:0,current:0,previous:0,previousupdate:0,currentupdate:0},this._scrolltimerid=null,this.isScrolling=!1,this.resetScrollData=function(e){var t=r.scrollData;t.start=t.current=t.previous=t.previousupdate=t.currentupdate=e},this.onScroll=function(e){var t=r.cradleParameters.cradleInheritedPropertiesRef.current,n=(t.scrollerID,t.ONAFTERSCROLL_TIMEOUT),o=t.layout,i=r.cradleParameters.viewportContextPropertiesRef.current,a=e.currentTarget,s=a.firstChild,l=r.cradleParameters.cradleInheritedPropertiesRef.current.orientation,c="vertical"==l?a.scrollTop:a.scrollLeft,u="horizontal"==l?a.scrollTop:a.scrollLeft;if((clearTimeout(r._scrolltimerid),0!=a.clientWidth||0!=a.clientHeight)&&!(c<0||r.cradleParameters.handlersRef.current.interruptHandler.signals.pauseScrollingEffects)){r.isScrolling||(r.isScrolling=!0,Vo?(r._onAfterScrollTimeout=1e3,clearTimeout(r._iOSsetTimeoutTimerid),r._iOSsetTimeoutTimerid=setTimeout((function(){r._onAfterScrollTimeout=n}),900)):r._onAfterScrollTimeout=n,r.scrollData.start=c,r.scrollData.currentupdate=c);var d,f,h,p,g=r.cradleParameters.handlersRef.current,v=g.layoutHandler,m=g.stateHandler,y=v.cradlePositionData,b=m.cradleStateRef.current;if(y.trackingBlockScrollPos=c,y.trackingXBlockScrollPos=u,r.scrollData.previous=r.scrollData.current,r.scrollData.current=c,i.isResizing||"repositioningRender"==b&&r.calcImpliedRepositioningData("onScroll"),r._scrolltimerid=setTimeout((function(){m.isMountedRef.current&&r.onAfterScroll()}),r._onAfterScrollTimeout),"variable"==o)"vertical"==l?(d=a.scrollHeight,f=a.offsetHeight,h=a.scrollTop,p=s.offsetTop):(d=a.scrollWidth,f=a.offsetWidth,h=a.scrollLeft,p=s.offsetLeft),clearTimeout(r._scrollforvariabletimerid),h-p<0||d<h-p+f?r.onAfterScrollForVariable():r._scrollforvariabletimerid=setTimeout((function(){m.isMountedRef.current&&r.onAfterScrollForVariable()}),r._onAfterScrollTimeout);return!1}},this.onAfterScroll=function(){r.isScrolling=!1;var e=r.cradleParameters.handlersRef.current,t=e.stateHandler,n=e.contentHandler,o=e.serviceHandler,i=r.cradleParameters.cradleInheritedPropertiesRef.current;if("repositioningRender"===t.cradleStateRef.current){r.updateBlockScrollPos();var a=o.callbacks.repositioningFlagCallback;a&&a(!1),t.setCradleState("finishreposition")}else r.scrollData.start==r.scrollData.current&&r.scrollData.current==r.scrollData.previous||t.isMountedRef.current&&r.updateReferenceData();"keepload"==i.cache&&n.pareCacheToMax()},this.onAfterScrollForVariable=function(){r.isScrolling=!1;var e,t=r.cradleParameters.viewportContextPropertiesRef.current.elementRef.current,n=t.firstChild,o=r.cradleParameters.cradleInheritedPropertiesRef.current.orientation,i="vertical"==o?n.offsetTop:n.offsetLeft,a="vertical"==o?t.scrollTop:t.scrollLeft,s=t.scrollTop,l=t.scrollLeft;t.style.overflow="hidden","vertical"==o?(e={top:a-i,left:l,behavior:"instant"},n.style.top=null):(e={top:s,left:a-i,behavior:"instant"},n.style.left=null),t.scroll(e),t.style.overflow="scroll"},this.updateReferenceData=function(){var e=r.cradleParameters.handlersRef.current,t=e.stateHandler,n=e.layoutHandler;if(t.isMountedRef.current){var o,i=r.cradleParameters.cradleInheritedPropertiesRef.current,a=r.cradleParameters.viewportContextPropertiesRef.current,s=n.elements.axisRef.current,l=a.elementRef.current,c=l.firstChild;o="vertical"==i.orientation?s.offsetTop+c.offsetTop-l.scrollTop:s.offsetLeft+c.offsetLeft-l.scrollLeft,n.cradlePositionData.targetPixelOffsetAxisFromViewport=o,a.isResizing||r.updateBlockScrollPos()}},this.updateBlockScrollPos=function(){var e=r.cradleParameters.cradleInheritedPropertiesRef.current,t=r.cradleParameters.viewportContextPropertiesRef.current,n=r.cradleParameters.handlersRef.current.layoutHandler.cradlePositionData,o=t.elementRef.current;0==o.clientWidth&&0==o.clientHeight||("vertical"==e.orientation?(n.trackingBlockScrollPos=o.scrollTop,n.trackingXBlockScrollPos=o.scrollLeft):(n.trackingBlockScrollPos=o.scrollLeft,n.trackingXBlockScrollPos=o.scrollTop))},this.calcImpliedRepositioningData=function(e){var t,n,o,i=r.cradleParameters.viewportContextPropertiesRef.current,a=r.cradleParameters.cradleInheritedPropertiesRef.current,s=r.cradleParameters.cradleInternalPropertiesRef.current,l=s.virtualListProps,c=s.paddingProps,u=s.gapProps,d=i.elementRef.current,f=d.firstChild,h=a.orientation,p=l.crosscount,g=l.size,v=l.lowindex,m=r.cradleParameters.handlersRef.current.serviceHandler.callbacks.repositioningIndexCallback;"vertical"==h?(t=d.scrollTop,n=a.cellHeight+u.column,o=f.offsetTop):(t=d.scrollLeft,n=a.cellWidth+u.row,o=f.offsetLeft);var y=n-(t+o)%n,b="vertical"==h?c.top:c.left;y==n&&(y=0);var I=Math.ceil((t-b)/n)*p;I=Math.min(I,g-1),0==(I-=I%p)&&(y=0);var S=r.cradleParameters.handlersRef.current.layoutHandler.cradlePositionData;S.targetAxisReferencePosition=I,S.targetPixelOffsetAxisFromViewport=y,"onScroll"==e&&(m&&m(I+v),i.scrollTrackerAPIRef.current.updateReposition(I))},this.cradleParameters=t}));function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Ft(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ft(i)?i:String(i)),n)}var o,i}function Ut(e,t,r){return t&&Bt(e.prototype,t),r&&Bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vt,Wt=Ut((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cradleParameters=t;var r=t.cradleInternalPropertiesRef.current;this.setCradleState=r.setCradleState,this.cradleStateRef=r.cradleStateRef,this.isMountedRef=r.isMountedRef})),qt=o(308),Gt=o(111),Yt=(Vt=function(e,t){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Vt(e,t)},function(e,t){function r(){this.constructor=e}Vt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Xt="html",Kt="svg",Zt=function(e,t){var r,n,o,i={};if(e===Xt)o=document.createElement("div");else{if(e!==Kt)throw new Error('Invalid element type "'+e+'" for createPortalNode: must be "html" or "svg".');o=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"==typeof t)for(var a=0,s=Object.entries(t.attributes);a<s.length;a++){var l=s[a],c=l[0],u=l[1];o.setAttribute(c,u)}var d={element:o,elementType:e,setPortalProps:function(e){i=e},getInitialPortalProps:function(){return i},mount:function(t,o){if(o!==n){if(d.unmount(),t!==r&&!function(e,t){if(t===Xt)return e instanceof HTMLElement;if(t===Kt)return e instanceof SVGElement;throw new Error('Unrecognized element type "'+t+'" for validateElementType.')}(t,e))throw new Error('Invalid element type for portal: "'+e+'" portalNodes must be used with '+e+" elements, but OutPortal is within <"+t.tagName+">.");t.replaceChild(d.element,o),r=t,n=o}},unmount:function(e){e&&e!==n||r&&n&&(r.replaceChild(n,d.element),r=void 0,n=void 0)}};return d},Qt=function(e){function r(t){var r=e.call(this,t)||this;return r.addPropsChannel=function(){Object.assign(r.props.node,{setPortalProps:function(e){r.setState({nodeProps:e})}})},r.state={nodeProps:r.props.node.getInitialPortalProps()},r}return Yt(r,e),r.prototype.componentDidMount=function(){this.addPropsChannel()},r.prototype.componentDidUpdate=function(){this.addPropsChannel()},r.prototype.render=function(){var e=this,r=this.props,n=r.children,o=r.node;return Gt.createPortal(t.Children.map(n,(function(r){return t.isValidElement(r)?t.cloneElement(r,e.state.nodeProps):r})),o.element)},r}(t.PureComponent),$t=function(e){function r(r){var n=e.call(this,r)||this;return n.placeholderNode=t.createRef(),n.passPropsThroughPortal(),n}return Yt(r,e),r.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},r.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,r=t.parentNode;e.mount(r,t),this.passPropsThroughPortal()},r.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode.setPortalProps({}),this.currentPortalNode=e);var t=this.placeholderNode.current,r=t.parentNode;e.mount(r,t),this.passPropsThroughPortal()},r.prototype.componentWillUnmount=function(){var e=this.props.node;e.unmount(this.placeholderNode.current),e.setPortalProps({})},r.prototype.render=function(){return t.createElement("div",{ref:this.placeholderNode})},r}(t.PureComponent),Jt=Zt.bind(null,Xt);Zt.bind(null,Kt);function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const rr=function(e){var n=e.index,o=e.listsize,i=e.message,a=e.error,s=e.userFrameStyles,l=e.userLinerStyles,c=e.userErrorFrameStyles,u=e.userErrorLinerStyles,d=er((0,t.useMemo)((function(){var e=a?c:s,t=a?u:l;return[Object.assign(Object.assign({border:"2px solid black",backgroundColor:"cyan"},e),{position:"relative",boxSizing:"border-box",height:"100%",width:"100%",overflow:"hidden"}),Object.assign({top:0,left:0,padding:"3px",margin:"3px",fontSize:"smaller"},t)]}),[a,s,l,c,u]),2),f=d[0],h=d[1];return i=null!=i?i:"(loading...)",r().createElement("div",{"data-type":"placeholderframe",style:f},a?r().createElement("div",{"data-type":"placeholderliner",style:h},"item is not available (",a.message,")"):r().createElement("div",{"data-type":"placeholderliner",style:h},n+1,"/",o," ",i))};var nr=o(379),or=o.n(nr),ir=o(795),ar=o.n(ir),sr=o(569),lr=o.n(sr),cr=o(565),ur=o.n(cr),dr=o(216),fr=o.n(dr),hr=o(589),pr=o.n(hr),gr=o(281),vr={};vr.styleTagTransform=pr(),vr.setAttributes=ur(),vr.insert=lr().bind(null,"head"),vr.domAPI=ar(),vr.insertStyleElement=fr();or()(gr.Z,vr);gr.Z&&gr.Z.locals&&gr.Z.locals;function mr(e){return(0,t.useMemo)((()=>e.hooks.dragSource()),[e])}function yr(e){return(0,t.useMemo)((()=>e.hooks.dragPreview()),[e])}class br{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!St(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!St(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Pt({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,wt(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,wt(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let Ir,Sr=!1,wr=!1;class xr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){f(!Sr,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Sr=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Sr=!1}}isDragging(){if(!this.sourceId)return!1;f(!wr,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return wr=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{wr=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class Pr{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=r?r:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const r=this.spec,n=this.monitor,{isDragging:o}=r;return o?o(n):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:n}=e;n&&n(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function Cr(e,r,n){const o=nt(),i=function(e,r,n){const o=(0,t.useMemo)((()=>new Pr(e,r,n)),[r,n]);return(0,t.useEffect)((()=>{o.spec=e}),[e]),o}(e,r,n),a=function(e){return(0,t.useMemo)((()=>{const t=e.type;return f(null!=t,"spec.type must be defined"),t}),[e])}(e);tt((function(){if(null!=a){const[e,t]=function(e,t,r){const n=r.getRegistry(),o=n.addSource(e,t);return[o,()=>n.removeSource(o)]}(a,i,o);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}}),[o,r,n,i,a])}function Or(e,r){const n=bt(e,r);f(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const o=function(){const e=nt();return(0,t.useMemo)((()=>new xr(e)),[e])}(),i=function(e,r){const n=nt(),o=(0,t.useMemo)((()=>new br(n.getBackend())),[n]);return tt((()=>(o.dragSourceOptions=e||null,o.reconnect(),()=>o.disconnectDragSource())),[o,e]),tt((()=>(o.dragPreviewOptions=r||null,o.reconnect(),()=>o.disconnectDragPreview())),[o,r]),o}(n.options,n.previewOptions);return Cr(n,o,i),[yt(n.collect,o,i),mr(i),yr(i)]}function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Dr(){Dr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",g="completed",v={};function m(){}function y(){}function b(){}var I={};c(I,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(M([])));w&&w!==r&&n.call(w,a)&&(I=w);var x=b.prototype=m.prototype=Object.create(I);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Rr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=R(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?g:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function R(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,R(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Rr(t)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},P(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new C(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mr=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},Ar=function(e){return(0,t.useContext)(_o).dnd?r().createElement(kr,Object.assign({},e)):r().createElement(Lr,Object.assign({},e))},kr=function(e){var n,o,i,a,s=e.itemID,l=e.index,c=(0,t.useContext)(Yn).scrollerPropertiesRef.current,u=(c.orientation,c.scrollerID),d=(c.virtualListProps.crosscount,(0,t.useContext)(_o)),f=(0,t.useContext)(Fo),h=(0,t.useRef)(null),p=Er(Mt({accept:f.dndOptions.accept,drop:function(e,t){return{target:{scrollerID:u,itemID:s,index:l}}},collect:function(e){return{item:e.getItem(),isOver:e.isOver(),canDrop:e.canDrop()}}}),2),g=p[0],v=p[1],m=(0,t.useRef)(!1),y=null===(n=g.item)||void 0===n?void 0:n.index,b=null===(o=g.item)||void 0===o?void 0:o.scrollerID,I=u!==b||y!==l,S="rigs-target-highlight";I&&g.isOver&&g.canDrop&&!(null===(i=h.current)||void 0===i?void 0:i.classList.contains(S))?(m.current=!0,h.current.classList.add(S),d.dropCount++):I&&!g.isOver&&(null===(a=h.current)||void 0===a?void 0:a.classList.contains(S))&&(d.dropCount--,h.current.classList.remove(S),m.current=!1),(0,t.useEffect)((function(){return function(){m.current&&d.dropCount--,w()}}),[]);var w=function(){var e=!!d.dropCount;d.dragData.canDrop!==e&&(d.dragData.canDrop=e,d.setDragBarState&&d.setDragBarState("updateicon"))};w();var x=(0,t.useRef)(!0);(0,t.useEffect)((function(){var e=d.enabled&&f.dndOptions.enabled;x.current!==e&&(x.current=e)}),[d.enabled,f.dndOptions.enabled]);var P=Object.assign(Object.assign({},e),{isDnd:x.current,targetConnector:v,frameRef:h,masterDndContext:d});return r().createElement(Hr,Object.assign({},P))},Lr=function(e){var n=(0,t.useRef)(null),o=Object.assign(Object.assign({},e),{isDnd:!1,targetConnector:function(e){},frameRef:n});return r().createElement(Hr,Object.assign({},o))},jr=function(e){var n=e.itemID,o=e.index,i=e.profile,a=e.contentholderRef,s=e.scrollerID,l=e.masterDndContext,c=((0,t.useContext)(ut),(0,t.useContext)(Fo)),u=((l=null!=l?l:{})||{}).dragData,d=e.dndDragIconStyles,f=e.dndOptions;d=null!=d?d:{};var h=Er(Or((function(){return{type:f.type||"Cell",item:{scrollerID:s,itemID:n,index:o,profile:i},collect:function(e){return{item:e.getItem(),isDragging:!!e.isDragging()}},canDrag:!0}}),[n,f=null!=f?f:{}]),3),p=h[0],g=h[1],v=h[2],m=p.isDragging,y="rigs-source-highlight";m&&!u.isDragging&&(Object.assign(u,{isDragging:m,itemID:n,index:o,dndOptions:f,sourceCacheAPI:c.cacheAPI,sourceStateHandler:c.stateHandler,sourceServiceHandler:c.serviceHandler}),l.setViewportState("startdragbar")),m&&!a.current.classList.contains(y)&&a.current.classList.add(y),!m&&a.current.classList.contains(y)&&a.current.classList.remove(y),(0,t.useEffect)((function(){v((Ir||(Ir=new Image,Ir.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ir),{captureDraggingState:!0})}),[]);var b=(0,t.useRef)({margin:"3px",opacity:.6}),I=(0,t.useRef)(Object.assign({position:"absolute",zIndex:"3",top:0,left:0,opacity:.8,height:"32px",width:"32px"},d));return r().createElement("div",{"data-type":"dragicon",ref:g,style:I.current},r().createElement("img",{style:b.current,src:ot}))},Nr={loading:"(loading...)",retrieving:"(retrieving from cache)",null:"end of list",undefined:'host returned "undefined"',invalid:"invalid React element"},Hr=function(e){var n,o=e.orientation,i=e.cellHeight,a=e.cellWidth,s=e.cellMinHeight,l=e.cellMinWidth,c=e.layout,u=e.getItem,d=e.getItemPack,f=e.listsize,h=e.placeholder,p=e.itemID,g=e.index,v=e.instanceID,m=e.scrollerID,y=e.isTriggercell,b=e.placeholderFrameStyles,I=e.placeholderLinerStyles,S=e.placeholderErrorFrameStyles,w=e.placeholderErrorLinerStyles,x=e.dndDragIconStyles,P=e.placeholderMessages,C=e.usePlaceholder,O=e.gridstartstyle,R=(e.parentframeRef,e.targetConnector),D=e.isDnd,E=e.frameRef,T=e.masterDndContext,M=(0,t.useContext)(Fo),A=(0,t.useRef)(null);A.current={orientation:o,layout:c,cellWidth:a,cellHeight:i};var k=(0,t.useContext)(Yn),L=k.cacheAPI,j=k.scrollerPropertiesRef,N=k.nullItemSetMaxListsize,H=k.itemExceptionCallback,z=k.IDLECALLBACK_TIMEOUT,_=k.triggercellTriggerlinesRef,F=(0,t.useRef)({}),B=(0,t.useRef)({}),U=(0,t.useRef)(null);U.current=(0,t.useMemo)((function(){return Object.assign(Object.assign({},Nr),P)}),[P]);var V=Er((0,t.useState)("setup"),2),W=V[0],q=V[1],G=(0,t.useRef)(null);G.current=W;var Y=(0,t.useRef)(!0),X=(0,t.useRef)(null),K=(0,t.useRef)(null),Z=(0,t.useRef)(null);Z.current=p;var Q=(0,t.useRef)(null),$=(0,t.useRef)(null),J=(0,t.useRef)(D);(0,t.useEffect)((function(){var e,t=null===(e=Q.current)||void 0===e?void 0:e.enabled;t=null==t||t;var r=D&&t;J.current=r}),[D,null===(n=Q.current)||void 0===n?void 0:n.enabled]),$.current={itemID:p,index:g,updateDndOptions:function(e){Q.current=e,q("updatedndoptions")}};var ee=(0,t.useRef)(!1),te=(0,t.useRef)(null);(0,t.useEffect)((function(){return Y.current=!0,function(){Y.current=!1}}),[]);(0,t.useEffect)((function(){return function(){oe(ie.current),L.unregisterPendingPortal(g)}}),[]),(0,t.useEffect)((function(){["inserting","retrieved"].includes(W)&&(function(){if(M.droppedIndex==g){M.droppedIndex=null;var e="rigs-dropped-highlight";se.current.classList.add(e),setTimeout((function(){E.current&&se.current.classList.remove(e)}),2e3)}}(),function(){if(M.displacedIndex==g){M.displacedIndex=null;var e="rigs-target-finish";se.current.classList.add(e),setTimeout((function(){E.current&&se.current.classList.remove(e)}),2e3)}}())}),[W]),(0,t.useLayoutEffect)((function(){"setup"!=G.current&&Y.current&&q("getusercontent")}),[p]);var re=(0,t.useMemo)((function(){return C&&h?r().createElement(h,{index:g,listsize:f,message:te.current,error:ee.current}):null}),[g,h,f,te.current,ee.current,C]);K.current=(0,t.useMemo)((function(){return C?re||r().createElement(rr,{key:"placeholder",index:g,listsize:f,message:te.current,error:ee.current,userFrameStyles:b,userLinerStyles:I,userErrorFrameStyles:S,userErrorLinerStyles:w}):null}),[g,re,f,te.current,ee.current,C,b,I,S,w]);var ne=window.requestIdleCallback?window.requestIdleCallback:qt.requestIdleCallback,oe=window.cancelIdleCallback?window.cancelIdleCallback:qt.cancelIdleCallback,ie=(0,t.useRef)(null);(0,t.useEffect)((function(){var e=zr(o,i,a,s,l,c,F.current);O&&(e=Object.assign(Object.assign({},e),O));var t=_r(c,o,l,s);Y.current&&(F.current=e,B.current=t)}),[o,i,a,s,l,c,O]);var ae=(0,t.useRef)(null);(0,t.useLayoutEffect)((function(){switch(W){case"setup":q("working");break;case"working":q("getusercontent");break;case"getusercontent":var e=Z.current,t=L.hasPortal(e),n=A.current,o=n.layout,i=n.orientation,a=n.cellWidth,s=n.cellHeight;t?(te.current=U.current.retrieving,Y.current&&(X.current=L.getPortalMetadata(e),Object.assign(X.current.scrollerContext,{cellFramePropertiesRef:$,scrollerPropertiesRef:j}),Q.current=X.current.dndOptions,ae.current=X.current.portalNode,Fr(ae.current.element,o,i,a,s),q("retrieved"))):(te.current=U.current.loading,L.registerPendingPortal(g),ie.current=ne((function(){return Mr(void 0,void 0,void 0,Dr().mark((function t(){var n,l,c,f,h,p,v,m,y,b,I,S;return Dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!d){t.next=11;break}return m=d(g,e,{accept:M.dndOptions.accept}),h=m.dndOptions,p=m.profile,Q.current=h,t.next=8,m.content;case 8:f=t.sent,t.next=14;break;case 11:return t.next=13,u(g,e);case 13:f=t.sent;case 14:null===f&&(c=f),void 0===f&&(v=new Error(U.current.undefined)),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),c=f=void 0,v=t.t0;case 22:if(null!=f&&(r().isValidElement(f)||(c=f,f=void 0,v=new Error(U.current.invalid))),!Y.current){t.next=40;break}if(null==f){t.next=38;break}return b={cell:$,scroller:j},I=0,S={},(null===(n=f.props)||void 0===n?void 0:n.hasOwnProperty("scrollerContext"))&&(S.scrollerContext=b,I++),(null===(l=f.props)||void 0===l?void 0:l.hasOwnProperty("cacheAPI"))&&(S.cacheAPI=L.instance,I++),y=I?r().cloneElement(f,S):f,t.next=33,L.createPortal(y,g,e,b,h,p);case 33:(X.current=t.sent)&&(ae.current=X.current.portalNode,Fr(ae.current.element,o,i,a,s)),Y.current&&q("inserting"),t.next=40;break;case 38:L.unregisterPendingPortal(g),null===f?(H&&H(g,e,c,"cellFrame",new Error(U.current.null)),N(g)):(ee.current=v,H&&H(g,e,c,"cellFrame",v),Y.current&&q("error"));case 40:case"end":return t.stop()}}),t,null,[[0,18]])})))}),{timeout:z}));break;case"inserting":case"updatedndoptions":case"retrieved":q("ready")}}),[W]);var se=(0,t.useRef)(null);return r().createElement("div",{ref:function(e){R(e),E.current=e},"data-type":"cellframe","data-scrollerid":m,"data-index":g,"data-instanceid":v,style:F.current},"setup"!=W?r().createElement(r().Fragment,null,r().createElement("div",{"data-type":"contentholder",ref:se,style:B.current},"ready"!=W?K.current:r().createElement($t,{key:"portal",node:ae.current})),J.current&&"ready"==W&&r().createElement(jr,{contentholderRef:se,itemID:p,index:g,dndOptions:Q.current,profile:X.current.profile,dndDragIconStyles:x,scrollerID:m,masterDndContext:T})):r().createElement("div",null),y?_.current:null)},zr=function(e,t,r,n,o,i,a){var s=Object.assign(Object.assign({},a),{position:"relative",overflow:"visible"});return"vertical"===e?(s.width=null,"uniform"==i?(s.height=t+"px",s.minHeight=null,s.maxHeight=null):(s.height=null,s.minHeight=n+"px",s.maxHeight=t+"px")):(s.height=null,"uniform"==i?(s.width=r+"px",s.minWidth=null,s.maxWidth=null):(s.width=null,s.minWidth=o+"px",s.maxWidth=r+"px")),s},_r=function(e,t,r,n){var o={};return"uniform"==e?o={inset:"0px",position:"absolute",height:null,width:null,minWidth:null,minHeight:null}:(o.inset=null,o.position=null,"vertical"==t?(o.width="100%",o.height=null,o.minWidth=null,o.minHeight=n+"px"):(o.width=null,o.height="100%",o.minWidth=r+"px",o.minHeight=null)),o},Fr=function(e,t,r,n,o){"uniform"==t?(e.style.inset="0px",e.style.position="absolute",e.style.maxWidth=null,e.style.maxHeight=null,e.style.height=null,e.style.width=null):(e.style.inset=null,e.style.position=null,"vertical"==r?(e.style.width="100%",e.style.height=null,e.style.maxWidth=null,e.style.maxHeight=o+"px"):(e.style.width=null,e.style.height="100%",e.style.maxWidth=n+"px",e.style.maxHeight=null))};function Br(e){return function(e){if(Array.isArray(e))return Ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vr=function(e){var t=e.cradleInheritedProperties,r=e.cradleInternalProperties,n=e.cacheAPI,o=e.cradleContentCount,i=e.cradleReferenceIndex,a=e.listStartChangeCount,s=e.listEndChangeCount,l=e.workingContentList,c=e.instanceIdCounterRef,u=e.styles,d=e.placeholderMessages,f=Br(l),h=i+f.length-1,p=[],g=[],v=[],m=[];if(a>=0){var y=i,b=a;a>o&&(y=i-(a-o),b=o);for(var I=y-b;I<y;I++)p.push(qr({index:I,cradleInheritedProperties:t,cradleInternalProperties:r,instanceIdCounterRef:c,cacheAPI:n,placeholderFrameStyles:u.placeholderframe,placeholderLinerStyles:u.placeholderliner,placeholderErrorFrameStyles:u.placeholdererrorframe,placeholderErrorLinerStyles:u.placeholdererrorliner,dndDragIconStyles:u.dndDragIcon,placeholderMessages:d}))}else m=f.splice(0,-a);if(s>=0){var S=h,w=s;s>o&&(S=h+(s-o),w=o);for(var x=S+1;x<S+1+w;x++)g.push(qr({index:x,cradleInheritedProperties:t,cradleInternalProperties:r,instanceIdCounterRef:c,cacheAPI:n,placeholderFrameStyles:u.placeholderframe,placeholderLinerStyles:u.placeholderliner,placeholderErrorFrameStyles:u.placeholdererrorframe,placeholderErrorLinerStyles:u.placeholdererrorliner,placeholderMessages:d,dndDragIconStyles:u.dndDragIcon}))}else v=f.splice(s,-s);var P=[].concat(Br(m),Br(v));return[[].concat(p,Br(f),g),P]},Wr=function(e){var t,n=e.contentlist,o=e.axisReferenceIndex,i=e.layoutHandler,a=i.triggercellIndex,s=null===(t=n[0])||void 0===t?void 0:t.props.index,l=s+n.length,c=o-s,u=0==c?o:o-1;if(i.triggercellIsInTail=0==c,void 0!==a&&void 0!==s&&a>=s&&a<=l){var d=a-s,f=n[d];f&&(n[d]=r().cloneElement(f,{isTriggercell:!1}))}var h=u-s,p=n[h];return p?(n[h]=r().cloneElement(p,{isTriggercell:!0}),i.triggercellIndex=u):(console.log("FAILURE TO REGISTER TRIGGERCELL:scrollerID","-"+i.scrollerID+"-"),console.log("axisReferenceIndex, triggercellIndex, lowcontentindex, highcontentindex, headitemcount, targetTriggercellIndex\n",o,a,s,l,c,u),console.log("triggercellPtr, triggercellComponent, triggercellComponent?.props.isTriggecell, contentlist\n",h,p,null==p?void 0:p.props.isTriggecell,Object.assign({},n))),[n.slice(0,c),n.slice(c)]},qr=function(e){var t=e.index,n=e.cradleInheritedProperties,o=e.cradleInternalProperties,i=e.instanceIdCounterRef,a=e.cacheAPI,s=e.placeholderFrameStyles,l=e.placeholderLinerStyles,c=e.placeholderErrorFrameStyles,u=e.placeholderErrorLinerStyles,d=e.placeholderMessages,f=e.dndDragIconStyles,h=i.current++,p=n.orientation,g=n.cellHeight,v=n.cellWidth,m=n.cellMinHeight,y=n.cellMinWidth,b=n.getItem,I=n.getItemPack,S=n.placeholder,w=n.scrollerID,x=n.layout,P=n.usePlaceholder,C={key:h,orientation:p,cellHeight:g,cellWidth:v,cellMinHeight:m,cellMinWidth:y,layout:x,index:t,getItem:b,getItemPack:I,listsize:o.virtualListProps.size,placeholder:S,itemID:a.getNewOrExistingItemID(t),instanceID:h,scrollerID:w,isTriggercell:!1,usePlaceholder:P,placeholderFrameStyles:s,placeholderLinerStyles:l,placeholderErrorFrameStyles:c,placeholderErrorLinerStyles:u,placeholderMessages:d,dndDragIconStyles:f,gridstartstyle:null};return r().createElement(Ar,Object.assign({},C))};function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xr=function(e){var t=e.targetAxisReferenceIndex,r=e.baseRowPixelLength,n=e.targetPixelOffsetAxisFromViewport,o=e.cradleInheritedProperties,i=e.cradleInternalProperties,a=o.orientation,s=i.cradleContentProps,l=i.virtualListProps,c=i.paddingProps,u=s.cradleRowcount,d=s.runwayRowcount,f=l.lowindex,h=l.highindex,p=l.crosscount,g=l.rowcount,v=l.baserowblanks,m=l.endrowblanks,y=l.rowshift;t=Math.min(t,h),t=Math.max(t,f);var b=Math.floor(t/p),I=Math.max(y,b-d),S=I+(u-1),w=g-1+y;if(S>w){var x=S-w;I-=x,S-=x}var P=I*p,C=u*p;return S==w&&m&&(C-=m),I==y&&v&&(C-=v),{targetCradleReferenceIndex:P=Math.max(P,f),targetAxisReferenceIndex:t,targetPixelOffsetViewportFromScrollblock:(b-y)*r+("vertical"==a?c.top:c.left)-n,newCradleContentCount:C}},Kr=function(e,t,r,n){for(var o=[],i=e.childNodes,a=0,s=i[a];s;){var l="vertical"==t?s.offsetHeight+n.column:s.offsetWidth+n.row;o.push(l),s=i[a+=r]}return o},Zr=function(e){var t=[],r=0;return e.forEach((function(e){r+=e,t.push(r)})),t};function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jr=function(e,t,n){var o,i=e.viewportContextPropertiesRef.current.elementRef.current,a=e.cradleInheritedPropertiesRef.current,s=e.cradleInternalPropertiesRef.current,l=e.handlersRef.current,c=l.cacheAPI,u=l.layoutHandler,d=l.stateHandler,f=l.interruptHandler,h=l.serviceHandler,p=f.shiftinstruction,g=f.triggerViewportReferencePixelPos,v=u.elements,m=u.cradlePositionData,y=a.orientation,b=a.cache,I=a.styles,S=a.placeholderMessages,w=a.layout,x=a.cellHeight,P=a.cellWidth,C=(a.scrollerID,s.virtualListProps),O=s.cradleContentProps,R=s.paddingProps,D=s.gapProps,E=C.crosscount,T=C.lowindex,M="vertical"==y?i.scrollTop:i.scrollLeft,A=t.cradleModelComponents||[],k=(null===(o=A[0])||void 0===o?void 0:o.props.index)||0,L=function(e){var t,r,n,o,i,a=e.shiftinstruction,s=e.triggerViewportReferencePixelPos,l=e.currentScrollPos,c=e.scrollblockElement,u=e.cradleInheritedProperties,d=e.cradleInternalProperties,f=e.cradleContentProps,h=e.virtualListProps,p=e.cradleContent,g=e.cradleElements,v=g.axisRef.current,m=g.headRef.current,y=g.tailRef.current,b=u.orientation,I=u.cellHeight,S=u.cellWidth,w=u.layout,x=(u.scrollerID,d.paddingProps,d.gapProps),P=p.cradleModelComponents,C=p.tailModelComponents,O=f.cradleRowcount,R=f.viewportRowcount,D=f.runwayRowcount,E=h.crosscount,T=h.rowcount,M=h.lowindex,A=h.baserowblanks,k=h.endrowblanks,L=h.rowshift,j=(null===(t=P[0])||void 0===t?void 0:t.props.index)||0,N=Math.floor(j/E),H=(null===(r=C[0])||void 0===r?void 0:r.props.index)||0,z=Math.floor(H/E),_=T-1+L,F=("vertical"==b?I:S)+("vertical"==b?x.column:x.row),B=0,U=0,V=!1;if("variable"==w){var W=Kr("moveaxistailward"==a?y:m,b,E,x);"moveaxisheadward"==a&&W.reverse();var q=Zr(W);-1!=(n="moveaxistailward"==a?q.findIndex((function(e){return s+e>=0})):q.findIndex((function(e){return s-e<=0})))?B="moveaxistailward"==a?q[n]:-q[n]:(V=0==q.length)?(U=0,o=0):(o=q[U=q.length-1],i=W.at(-1))}else n=-1,U=0,o=0;if(-1==n){if(!V)if("moveaxistailward"==a){do{o+=F,U++}while(s+o<0);B=o}else{do{if(o+=F,z-L-++U==0)break}while(s-o>0);B=-o}n=U-1}var G="moveaxistailward"==a?n+1:-(n+1),Y=B;z+G>_&&(G-=1,Y-="variable"==w?i:F);var X=("vertical"==b?v.offsetTop:v.offsetLeft)+("vertical"==b?c.offsetTop:c.offsetLeft)-l+Y,K=G,Z=N+K,Q=z+G;if("moveaxistailward"==a){var $=Z-Math.max(L,Q-D-1);$>0&&(Z-=$,K-=$);var J=Z+(O-1)-_;J>0&&(K-=J,Z-=J)}else{if(Z<L){var ee=L-Z;K+=ee,Z+=ee}"variable"==w&&Q==L&&(X=0);var te=N+(O-1)+K-(Q+(R-1)+(D-1));te<0&&(K-=te=Math.max(te,K),Z-=te)}var re=Math.max(M,Z*E)-j,ne=Math.max(M,Q*E),oe=O*E;Z+O-L>=T&&(oe-=k),Z==L&&(oe-=A);var ie=-re;return{cradleReferenceItemShift:re,newAxisReferenceIndex:ne,axisReferenceItemShift:ne-H,newPixelOffsetAxisFromViewport:X,newCradleContentCount:oe,listStartChangeCount:ie,listEndChangeCount:-ie-(P.length-oe)}}({shiftinstruction:p,triggerViewportReferencePixelPos:g,currentScrollPos:M,scrollblockElement:i.firstChild,cradleInheritedProperties:a,cradleInternalProperties:s,cradleContentProps:O,virtualListProps:C,cradleContent:t,cradleElements:v}),j=L.cradleReferenceItemShift,N=L.newAxisReferenceIndex,H=L.axisReferenceItemShift,z=L.newCradleContentCount,_=L.listStartChangeCount,F=L.listEndChangeCount,B=L.newPixelOffsetAxisFromViewport,U=!(0==H&&0==j),V=v.axisRef.current,W=v.headRef.current;if(f.triggerlinesIntersect.disconnect(),U){var q,G=[];if(_||F){var Y,X=Qr(Vr({cacheAPI:c,cradleInheritedProperties:a,cradleInternalProperties:s,cradleContentCount:z,workingContentList:A,listStartChangeCount:_,listEndChangeCount:F,cradleReferenceIndex:k,instanceIdCounterRef:n,styles:I,placeholderMessages:S}),2);if(q=X[0],G=X[1],O.size=q.length,O.size){var K=q[0].props.index,Z=K+O.size-1;Object.assign(O,{lowindex:K,highindex:Z,axisReferenceIndex:N,SOL:C.lowindex==K,EOL:C.highindex==Z}),O.SOL&&!u.SOLSignal&&(u.SOLSignal=!0),O.EOL&&!u.EOLSignal&&(u.EOLSignal=!0)}else Object.assign(O,{lowindex:void 0,highindex:void 0,axisReferenceIndex:void 0,SOL:void 0,EOL:void 0});Y=!0===O.SOL&&void 0!==C.baserowblanks&&0!==C.baserowblanks?"".concat(C.baserowblanks+1):"unset";var Q=q[0],$="vertical"==y?{gridColumnStart:Y}:{gridRowStart:Y},J=r().cloneElement(Q,{gridstartstyle:$});q[0]=J}else q=A,Object.assign(O,{axisReferenceIndex:N});if(G.length&&"cradle"==b){var ee,te=h.callbacks.deleteListCallback;te&&(ee=function(e){te("pare cache to cradle",e)}),function(e,t,r){var n=t.map((function(e){return e.props.index}));e.deletePortalByIndex(n,r)}(c,G,ee)}var re=Qr(Wr({contentlist:q,axisReferenceIndex:N,layoutHandler:u}),2),ne=re[0],oe=re[1];if(t.cradleModelComponents=q,t.headModelComponents=ne,t.tailModelComponents=oe,h.callbacks.referenceIndexCallback){var ie=d.cradleStateRef.current;h.callbacks.referenceIndexCallback(N,"updateCradleContent",ie)}m.targetAxisReferencePosition=N-T,m.targetPixelOffsetAxisFromViewport=B,U&&c.renderPortalLists(),"uniform"==w&&(m.targetPixelOffsetAxisFromViewport=en({layout:w,orientation:y,paddingProps:R,gapProps:D,cellHeight:x,cellWidth:P,crosscount:E,axisReferenceIndex:N,pixelOffsetAxisFromViewport:B,currentScrollPos:M,headcontent:ne,axisElement:V,headElement:W,listlowindex:T})),t.headDisplayComponents=t.headModelComponents,t.tailDisplayComponents=t.tailModelComponents}else m.targetPixelOffsetAxisFromViewport="uniform"==w?en({layout:w,orientation:y,paddingProps:R,gapProps:D,cellHeight:x,cellWidth:P,crosscount:E,axisReferenceIndex:N,pixelOffsetAxisFromViewport:B,currentScrollPos:M,headcontent:t.headModelComponents,axisElement:V,headElement:W,listlowindex:T}):B},en=function(e){e.layout;var t,r,n=e.orientation,o=e.paddingProps,i=e.gapProps,a=e.cellHeight,s=e.cellWidth,l=e.crosscount,c=e.axisReferenceIndex,u=e.pixelOffsetAxisFromViewport,d=e.currentScrollPos,f=e.headcontent,h=e.axisElement,p=e.headElement,g=e.listlowindex,v=Math.ceil((c-g)/l),m=(("vertical"==n?a:s)+("vertical"==n?i.column:i.row))*v+("vertical"==n?o.top:o.left)-u-d;return m&&(u+=m),"vertical"==n?(t=d+u-o.top,h.style.top=t+"px",h.style.left="auto",p.style.padding=f.length?"0px 0px ".concat(i.column,"px 0px"):"0px"):(r=d+u-o.left,h.style.top="auto",h.style.left=r+"px",p.style.padding=f.length?"0px ".concat(i.row,"px 0px 0px"):"0px"),u};function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function on(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==tn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===tn(i)?i:String(i)),n)}var o,i}var an=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content={cradleModelComponents:null,headModelComponents:null,tailModelComponents:null,headDisplayComponents:[],tailDisplayComponents:[]},this.instanceIdCounterRef={current:0},this.updateVirtualListSize=function(e){var t=n.cradleParameters,r=t.cradleInternalPropertiesRef.current,o=r.cradleContentProps,i=r.setVirtualListSize;if(0==e){var a=n.content,s=t.handlersRef.current.layoutHandler.cradlePositionData;n.clearCradle(),a.headDisplayComponents=[],a.tailDisplayComponents=[],Object.assign(o,{SOL:void 0,EOL:void 0,highindex:void 0,lowindex:void 0,axisReferenceIndex:void 0,size:0}),s.targetAxisReferencePosition=0,s.targetPixelOffsetAxisFromViewport=0}i(e)},this.updateVirtualListRange=function(e){var t,r=n.cradleParameters.handlersRef.current.layoutHandler,o=n.cradleParameters.cradleInternalPropertiesRef.current,i=o.setVirtualListRange,a=o.virtualListProps,s=o.cradleContentProps,l=r.cradlePositionData;if(0==e.length)t=0,l.targetAxisReferencePosition=0,l.targetPixelOffsetAxisFromViewport=0;else{var c=rn(e,2),u=c[0],d=c[1];if(a.range.length){var f=u-a.lowindex;l.targetAxisReferencePosition-=f}t=d-u+1}if(0==t){var h=n.content;n.clearCradle(),h.headDisplayComponents=[],h.tailDisplayComponents=[],Object.assign(s,{SOL:void 0,EOL:void 0,highindex:void 0,lowindex:void 0,axisReferenceIndex:void 0,size:0})}i(e)},this.setCradleContent=function(e){!function(e,t,n,o){var i=t.viewportContextPropertiesRef.current,a=t.handlersRef.current,s=t.cradleInheritedPropertiesRef.current,l=t.cradleInternalPropertiesRef.current,c=i.elementRef.current,u=a.cacheAPI,d=a.layoutHandler,f=a.serviceHandler,h=a.scrollHandler,p=d.cradlePositionData,g=p.targetAxisReferencePosition,v=s.orientation,m=s.cellHeight,y=s.cellWidth,b=s.styles,I=s.placeholderMessages,S=(s.scrollerID,l.virtualListProps),w=l.cradleContentProps,x=l.paddingProps,P=l.gapProps,C=S.lowindex,O=S.size,R=S.crosscount,D=S.rowcount,E="vertical"==v?x.top:x.left,T="vertical"==v?P.column:P.row,M=p.targetPixelOffsetAxisFromViewport,A=Math.min(g,O-1),k=(A=Math.max(A,0))+C;k-=k<0?k%R?R-Math.abs(k%R):0:k%R,["firstrender","firstrenderfromcache","finishreposition","reconfigure","scrollto"].includes(e)&&(M=k==C?E:T);var L,j=("vertical"==v?m:y)+T,N=Xr({baseRowPixelLength:j,targetPixelOffsetAxisFromViewport:M,targetAxisReferenceIndex:k,cradleInheritedProperties:s,cradleInternalProperties:l}),H=N.targetCradleReferenceIndex,z=N.targetAxisReferenceIndex,_=N.newCradleContentCount,F=N.targetPixelOffsetViewportFromScrollblock,B=M,U=Gr(Vr({cacheAPI:u,cradleInheritedProperties:s,cradleInternalProperties:l,cradleContentCount:_,cradleReferenceIndex:H,listStartChangeCount:0,listEndChangeCount:_,workingContentList:[],instanceIdCounterRef:o,styles:b,placeholderMessages:I}),1)[0];if(w.size=U.length,w.size){var V=U[0].props.index,W=V+w.size-1;Object.assign(w,{lowindex:V,highindex:W,axisReferenceIndex:z,SOL:S.lowindex==V,EOL:S.highindex==W}),w.SOL&&!d.SOLSignal&&(d.SOLSignal=!0),w.EOL&&!d.EOLSignal&&(d.EOLSignal=!0)}else Object.assign(w,{lowindex:void 0,highindex:void 0,axisReferenceIndex:void 0,SOL:void 0,EOL:void 0});L=!0===w.SOL&&void 0!==S.baserowblanks&&0!==S.baserowblanks?"".concat(S.baserowblanks+1):"unset";var q=U[0];if(q){var G;G="vertical"==v?{gridColumnStart:L}:{gridRowStart:L};var Y=r().cloneElement(q,{gridstartstyle:G});U[0]=Y;var X=Gr(Wr({contentlist:U,axisReferenceIndex:z,layoutHandler:d}),2),K=X[0],Z=X[1];if(n.cradleModelComponents=U,n.headModelComponents=K,n.tailModelComponents=Z,p.targetAxisReferencePosition=z-C,p.targetPixelOffsetAxisFromViewport=B,f.callbacks.referenceIndexCallback){var Q=e;f.callbacks.referenceIndexCallback(z,"setCradleContent",Q)}var $="vertical"==v?x.top+x.bottom:x.left+x.right,J=c.firstChild,ee=D*j-T+$;"pivot"==e&&("vertical"==v?J.style.left=null:J.style.top=null),"vertical"==v?(J.style.top=null,J.style.height=ee+"px"):(J.style.left=null,J.style.width=ee+"px"),p.trackingBlockScrollPos=F,h.resetScrollData(F);var te,re=c.scrollTop,ne=c.scrollLeft;te="scrollTop"==p.blockScrollProperty?{top:p.trackingBlockScrollPos,left:ne,behavior:"instant"}:{left:p.trackingBlockScrollPos,top:re,behavior:"instant"},c.scroll(te);var oe=d.elements,ie=oe.axisRef.current,ae=oe.headRef.current,se=F+B;if("vertical"==v){var le=se-x.top;ie.style.top=le+"px",ie.style.left="auto",ae.style.padding=K.length?"0px 0px ".concat(P.column,"px 0px"):"0px"}else{var ce=se-x.left;ie.style.top="auto",ie.style.left=ce+"px",ae.style.padding=K.length?"0px ".concat(P.row,"px 0px 0px"):"0px"}}}(e,n.cradleParameters,n.content,n.instanceIdCounterRef)},this.updateCradleContent=function(){var e=n.cradleParameters,t=n.content;Jr(e,t,n.instanceIdCounterRef)},this.adjustScrollblockForVariability=function(e){!function(e,t){var r,n,o=t.handlersRef.current,i=t.viewportContextPropertiesRef.current,a=t.cradleInheritedPropertiesRef.current,s=t.cradleInternalPropertiesRef.current,l=o.layoutHandler,c=o.scrollHandler,u=o.interruptHandler,d=l.elements,f=l.cradlePositionData,h=f.targetAxisReferencePosition,p=f.targetPixelOffsetAxisFromViewport,g=i.elementRef.current,v=g.firstChild,m=d.headRef.current,y=d.tailRef.current,b=d.axisRef.current,I=a.orientation,S=a.cellHeight,w=a.cellWidth,x=s.virtualListProps,P=s.paddingProps,C=s.gapProps,O=x.crosscount,R=x.rowcount,D=x.lowindex,E=x.rowshift;c.isScrolling&&r&&(r.disconnect(),r=void 0,clearTimeout(n));var T=h+D,M=Math.ceil(m.childNodes.length/O),A=Math.ceil(y.childNodes.length/O),k=Math.floor(T/O),L=k-M-E,j=R-1+E-(k+(A-1)),N=("vertical"==I?S:w)+("vertical"==I?C.column:C.row),H=j*N+("vertical"==I?y.offsetHeight:y.offsetWidth)+("vertical"==I?P.bottom:P.right),z=(L+M)*N+("vertical"==I?P.top:P.left);u.signals.pauseCradleIntersectionObserver=!0;var _=z+H,F=z-p,B=F+p;"vertical"==I?(b.style.top=B-P.top+"px",v.style.height=_+"px"):(b.style.left=B-P.left+"px",v.style.width=_+"px"),m.style.padding="vertical"==I?M?"0px 0px ".concat(C.column,"px 0px"):"0px":M?"0px ".concat(C.row,"px 0px 0px"):"0px";var U=F-("vertical"==I?g.scrollTop:g.scrollLeft);if("vertical"==I?v.style.top=-U+"px":v.style.left=-U+"px","setcradle"==e&&!j){var V=d.tailRef.current;r=new ResizeObserver((function(){var e=t.handlersRef.current.stateHandler;clearTimeout(n),n=setTimeout((function(){if(clearTimeout(n),e.isMountedRef.current){var o,i=t.viewportContextPropertiesRef.current.elementRef.current,a=i.firstChild,s=t.cradleInheritedPropertiesRef.current.orientation,l="vertical"==s?a.offsetHeight:a.offsetWidth,c="vertical"==s?a.offsetTop:a.offsetLeft,u="vertical"==s?i.offsetHeight:i.offsetWidth,d=i.scrollTop,f=i.scrollLeft;l+c-("vertical"==s?i.scrollTop:i.scrollLeft)<u&&(c&&("vertical"==s?a.style.top=0:a.style.left=0),o="vertical"==s?{top:l-u,left:f,behavior:"smooth"}:{top:d,left:l-u,behavior:"smooth"},i.scroll(o)),r&&(r.disconnect(),r=null)}}),500)})),r.observe(V)}}(e,n.cradleParameters)},this.guardAgainstRunawayCaching=function(){var e=n.cradleParameters.cradleInheritedPropertiesRef.current,t=e.cacheMax,r=e.MAX_CACHE_OVER_RUN,o=n.cradleParameters.handlersRef.current.cacheAPI,i=n.content.cradleModelComponents;o.guardAgainstRunawayCaching(t,i.length,r)&&n.pareCacheToMax()},this.pareCacheToMax=function(){var e=n.cradleParameters.cradleInheritedPropertiesRef.current,t=e.cache;e.scrollerID;if("keepload"==t){var r,o=n.cradleParameters.handlersRef.current,i=o.cacheAPI,a=o.serviceHandler,s=n.getModelIndexList(),l=a.callbacks.deleteListCallback;l&&(r=function(e){l("pare cache to cacheMax",e)}),i.pareCacheToMax(e.cacheMax,s,r)&&i.renderPortalLists()}},this.clearCradle=function(){var e=n.content;e.cradleModelComponents=[],e.headModelComponents=[],e.tailModelComponents=[]},this.cradleParameters=t}var t,n,o;return t=e,n=[{key:"getModelIndexList",value:function(){var e=this.content.cradleModelComponents;return e?e.map((function(e){return e.props.index})):[]}},{key:"synchronizeCradleItemIDsToCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.cradleParameters.handlersRef.current.cacheAPI,i=o.indexToItemIDMap,a=this.content.cradleModelComponents,s=this.cradleParameters.cradleInternalPropertiesRef.current.cradleContentProps;if(0!=s.size){var l,c,u=s.lowindex,d=s.highindex;if(t){if(n>d)return;l=n,c=d}else{if(0==e.length)return;l=e[0],c=e.at(-1)}var f=c-l+1,h=l;if(!(h>d)){h<u&&(h=u);for(var p=h-u,g=t?a.length-1:Math.min(a.length-1,p+f-1),v=p;v<=g;v++)m(a[v],v,a)}}function m(t,n,a){var s=t.props.index,l=i.get(s);if(void 0!==l){var c=t.props.itemID;if(-1!=e.indexOf(s)){if(l==c)return;a[n]=r().cloneElement(t,{itemID:l})}else{var u=o.getNewItemID();a[n]=r().cloneElement(t,{itemID:u})}}else{var d=o.getNewItemID();a[n]=r().cloneElement(t,{itemID:d})}}}}],n&&on(t.prototype,n),o&&on(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==sn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===sn(i)?i:String(i)),n)}var o,i}var cn=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SOLSignal=!1,this.EOLSignal=!1,this.boundaryNotificationsRequired=function(){var e=!1;return(r.SOLSignal||r.EOLSignal)&&(e=!0),e},this.cancelBoundaryNotifications=function(){r.SOLSignal=!1,r.EOLSignal=!1},this.cradlePositionData={trackingBlockScrollPos:null,trackingXBlockScrollPos:null,blockScrollProperty:null,blockXScrollProperty:null,targetAxisReferencePosition:null,targetPixelOffsetAxisFromViewport:null},this.restoreBaseScrollblockConfig=function(){var e=r.cradleParameters.viewportContextPropertiesRef.current.elementRef.current,t=e.firstChild,n=r.cradleParameters.cradleInheritedPropertiesRef.current,o=n.orientation,i=n.cellHeight,a=n.cellWidth,s=n.layout,l=r.cradleParameters.cradleInternalPropertiesRef.current,c=l.virtualListProps,u=l.paddingProps,d=l.gapProps,f=c.rowcount,h=c.crosscount,p=r.cradleParameters.handlersRef.current,g=p.scrollHandler,v=p.layoutHandler,m="vertical"==o?d.column:d.row,y=("vertical"==o?i:a)+m,b=f*y-m+("vertical"==o?u.top+u.bottom:u.left+u.right);"vertical"==o?(t.style.top=null,t.style.height=b+"px"):(t.style.left=null,t.style.width=b+"px");var I=v.cradlePositionData,S=I.targetAxisReferencePosition,w=Math.ceil(S/h)*y+("vertical"==o?u.top:u.left);if("variable"==s){var x=w-("vertical"==o?e.scrollTop:e.scrollLeft);"vertical"==o?t.style.top=x:t.style.left=x}else{var P,C=e.scrollTop,O=e.scrollLeft;P="scrollTop"==I.blockScrollProperty?{top:I.trackingBlockScrollPos,left:O,behavior:"instant"}:{left:I.trackingBlockScrollPos,top:C,behavior:"instant"},e.scroll(P)}I.trackingBlockScrollPos=w,g.resetScrollData(w)},this.cradleParameters=t;var n=t.cradleInternalPropertiesRef.current.cradleElementsRef.current,o=n.axisRef,i=n.headRef,a=n.tailRef,s=n.triggercellTriggerlineHeadRef,l=n.triggercellTriggerlineTailRef;this.elements={axisRef:o,headRef:i,tailRef:a,triggercellTriggerlineHeadRef:s,triggercellTriggerlineTailRef:l};var c=this.cradleParameters.cradleInheritedPropertiesRef.current,u=c.startingIndex,d=(c.orientation,this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps),f=d.size,h=d.lowindex,p=d.highindex;f?(u=Math.max(u,h),u=Math.min(u,p),this.cradlePositionData.targetAxisReferencePosition=u-h):this.cradlePositionData.targetAxisReferencePosition=0,this.cradlePositionData.targetPixelOffsetAxisFromViewport=0}var t,r,n;return t=e,(r=[{key:"scrollerID",get:function(){return this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID}},{key:"triggerlineSpan",get:function(){return"vertical"==this.cradleParameters.cradleInheritedPropertiesRef.current.orientation?this.elements.triggercellTriggerlineTailRef.current.offsetTop-this.elements.triggercellTriggerlineHeadRef.current.offsetTop:this.elements.triggercellTriggerlineTailRef.current.offsetLeft-this.elements.triggercellTriggerlineHeadRef.current.offsetLeft}}])&&ln(t.prototype,r),n&&ln(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==un(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===un(i)?i:String(i)),n)}var o,i}function pn(e,t,r){return t&&hn(e.prototype,t),r&&hn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var gn=pn((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isHeadCradleInView=!0,this.isTailCradleInView=!0,this.axisTriggerlinesObserverCallback=function(e){var t;if(!r.signals.pauseTriggerlinesObserver){var n=r.cradleParameters.viewportContextPropertiesRef.current.elementRef.current,o=n.getBoundingClientRect();if(0!=o.width||0!=o.height){var i=r.cradleParameters.handlersRef.current,a=i.contentHandler,s=i.stateHandler,l=i.scrollHandler,c=i.layoutHandler;if(s.isMountedRef.current){var u=l.scrollData;u.previousupdate=u.currentupdate,u.currentupdate=u.current;var d=r.cradleParameters.cradleInheritedPropertiesRef.current,f=r.cradleParameters.cradleInternalPropertiesRef.current,h=d.orientation,p=f.triggerHistoryRef,g=f.virtualListProps,v=g.crosscount,m=g.size,y=g.rowshift,b="vertical"==h?n.scrollTop:n.scrollLeft,I="vertical"==h?n.scrollHeight:n.scrollWidth,S="vertical"==h?n.offsetHeight:n.offsetWidth;if(b>=0||Math.floor(b+S)<=I){var w=function(e){var t,r=e.orientation,n=e.triggerlineEntries,o=e.triggerlineSpan,i=(e.scrollerID,e.isFirstRowTriggerConfig),a=e.viewportBoundingRect,s=e.triggerHistoryRef,l={headOffset:null,tailOffset:null,span:o,isFirstRowTriggerConfig:i},c=n[n.length-1],u=c.target.dataset.type,d=o,f="vertical"==r?Math.trunc(c.rootBounds.y):Math.trunc(c.rootBounds.x),h="vertical"==r?Math.trunc(a.y):Math.trunc(a.x),p=f==h?f:h,g=("vertical"==r?Math.trunc(c.boundingClientRect.y):Math.trunc(c.boundingClientRect.x))-p,v=s.current;return c.referencename=u,"headtrigger"==u?(l.headOffset=g,l.tailOffset=g+d):(l.headOffset=g-d,l.tailOffset=g),Vo&&(0==l.headOffset||0==l.tailOffset)||!Vo&&(l.headOffset>=-1&&l.headOffset<=1||l.tailOffset>=-1&&l.tailOffset<=1)?v.previousTriggerNameAtBorder?(v.previousTriggerNameAtBorder=null,t="none"):l.headOffset>=-1&&l.headOffset<=1?v.previousTriggerNameAtBorder="headtrigger":v.previousTriggerNameAtBorder="tailtrigger":v.previousTriggerNameAtBorder&&(v.previousTriggerNameAtBorder=null),t?[t,0]:[t=i?l.headOffset<=0?"moveaxistailward":"none":l.tailOffset<=0?"moveaxistailward":l.headOffset>=0?"moveaxisheadward":"none","moveaxistailward"==t?l.tailOffset:l.headOffset]}({scrollerID:d.scrollerID,orientation:h,triggerlineEntries:e,triggerlineSpan:c.triggerlineSpan,isFirstRowTriggerConfig:c.triggercellIsInTail,viewportBoundingRect:o,triggerHistoryRef:p}),x=dn(w,2),P=x[0],C=x[1];if("moveaxistailward"==P){var O=Math.ceil(m/v)-1+y,R=(null===(t=a.content.tailModelComponents[0])||void 0===t?void 0:t.props.index)||0;if(O==Math.ceil(R/v))return}"none"!=P&&(r.shiftinstruction=P,r.triggerViewportReferencePixelPos=C,s.setCradleState("renderupdatedcontent"))}}}}},this.cradleIntersectionObserverCallback=function(e){var t=r.signals,n=r.cradleParameters.handlersRef.current,o=n.stateHandler,i=n.serviceHandler,a=n.scrollHandler,s=n.layoutHandler;if(t.pauseCradleIntersectionObserver)r.isHeadCradleInView=r.isTailCradleInView=!0;else{for(var l=r.cradleParameters.cradleInheritedPropertiesRef.current,c=l.scrollerID,u=l.layout,d=0;d<e.length;d++){var f=e[d];"head"==f.target.dataset.type?r.isHeadCradleInView=f.isIntersecting||0==f.rootBounds.width&&0==f.rootBounds.height:r.isTailCradleInView=f.isIntersecting||0==f.rootBounds.width&&0==f.rootBounds.height}r.signals.repositioningRequired=!r.isHeadCradleInView&&!r.isTailCradleInView;var h=r.cradleParameters.viewportContextPropertiesRef.current;if(r.signals.repositioningRequired){r.isHeadCradleInView=r.isTailCradleInView=!0;var p=o.cradleStateRef.current;if(["repositioningRender","finishreposition","renderupdatedcontent","finishupdatedcontent","finishviewportresize"].includes(p)||h.isResizing)r.signals.repositioningRequired=!1;else{if(!h.elementRef.current)return void console.log("SYSTEM: viewport element not set in cradleIntersectionObserverCallback (scrollerID)",c,h);var g=i.callbacks.repositioningFlagCallback;g&&g(!0),"variable"==u&&(s.restoreBaseScrollblockConfig(),a.calcImpliedRepositioningData("restoreBaseScrollblockConfig")),r.signals.pauseTriggerlinesObserver=!0,o.isMountedRef.current&&o.setCradleState("startreposition")}}}},this.cradleIntersect={observer:null,callback:this.cradleIntersectionObserverCallback,disconnected:!0,connectElements:function(){if(r.cradleIntersect.disconnected){var e=r.cradleIntersect.observer,t=r.cradleParameters.handlersRef.current.layoutHandler.elements;e.observe(t.headRef.current),e.observe(t.tailRef.current),r.cradleIntersect.disconnected=!1}},disconnect:function(){r.cradleIntersect.observer.disconnect(),r.cradleIntersect.disconnected=!0},createObserver:function(){var e=r.cradleParameters.viewportContextPropertiesRef.current;return r.cradleIntersect.observer=new IntersectionObserver(r.cradleIntersect.callback,{root:e.elementRef.current,threshold:0}),r.cradleIntersect.observer}},this.triggerlinesIntersect={observer:null,callback:this.axisTriggerlinesObserverCallback,disconnected:!0,connectElements:function(){if(r.triggerlinesIntersect.disconnected){var e=r.triggerlinesIntersect.observer,t=r.cradleParameters.handlersRef.current.layoutHandler.elements;t.triggercellTriggerlineHeadRef.current&&t.triggercellTriggerlineTailRef.current&&(e.observe(t.triggercellTriggerlineHeadRef.current),e.observe(t.triggercellTriggerlineTailRef.current)),r.triggerlinesIntersect.disconnected=!1}},disconnect:function(){r.triggerlinesIntersect.observer.disconnect(),r.triggerlinesIntersect.disconnected=!0},createObserver:function(){var e=r.cradleParameters.viewportContextPropertiesRef.current;return r.triggerlinesIntersect.observer=new IntersectionObserver(r.triggerlinesIntersect.callback,{root:e.elementRef.current,threshold:0}),r.triggerlinesIntersect.observer}},this.signals={repositioningRequired:!1,pauseTriggerlinesObserver:!1,pauseCradleIntersectionObserver:!1,pauseCradleResizeObserver:!1,pauseScrollingEffects:!1},this.pauseInterrupts=function(){var e=r.signals;e.pauseTriggerlinesObserver=!0,e.pauseCradleIntersectionObserver=!0,e.pauseCradleResizeObserver=!0,e.pauseScrollingEffects=!0},this.restoreInterrupts=function(){var e=r.signals;e.pauseTriggerlinesObserver=!1,e.pauseCradleIntersectionObserver=!1,e.pauseCradleResizeObserver=!1,e.pauseScrollingEffects=!1},this.cradleParameters=t}));function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==vn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===vn(i)?i:String(i)),n)}var o,i}function yn(e,t,r){return t&&mn(e.prototype,t),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var bn=yn((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getCacheIndexMap=function(){return r.cradleParameters.handlersRef.current.cacheAPI.getCacheIndexMap()},this.getCacheItemMap=function(){return r.cradleParameters.handlersRef.current.cacheAPI.getCacheItemMap()},this.getCradleIndexMap=function(){var e=r.cradleParameters.handlersRef.current,t=e.cacheAPI,n=e.contentHandler.getModelIndexList();return t.getCradleIndexMap(n)},this.getPropertiesSnapshot=function(){var e=Object.assign({},r.cradleParameters.scrollerPropertiesRef.current);return e.virtualListProps=Object.assign({},e.virtualListProps),e.cradleContentProps=Object.assign({},e.cradleContentProps),e},this.cradleParameters=t}));function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==In(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===In(i)?i:String(i)),n)}var o,i}function Pn(e,t,r){return t&&xn(e.prototype,t),r&&xn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Cn=Pn((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clearCache=function(){n.cradleParameters.handlersRef.current.stateHandler.setCradleState("clearcache")},this.moveIndex=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,i=o.lowindex;if(o.size){var a=!Nn(e)||!Hn(e,i),s=!Nn(t)||!Hn(t,i),l=!1;if(s||(jn(r)?r=t:l=!Hn(r,t)),e=+e,t=+t,r=+r,a||s||l)return console.log("RIGS ERROR moveIndex(toindex, fromindex, fromhighrange)"),a&&console.log(e,zn.moveTo),s&&console.log(t,zn.moveFrom),l&&console.log(r,zn.moveRange),[];e=Math.max(i,e),t=Math.max(i,t);var c=e+((r=Math.max(i,r))-t+1)-1,u=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size-1;if(c>u){var d=c-u;c=Math.max(i,c-d),e=Math.max(i,e-d)}if(r>u){var f=r-u;r=Math.max(i,r-f),t=Math.max(i,t-f)}if(t==e)return[];var h=n.cradleParameters.handlersRef.current,p=h.cacheAPI,g=h.contentHandler,v=h.stateHandler,m=p.moveIndex(e,t,r);if(m.length){g.synchronizeCradleItemIDsToCache(m);var y=g.content;y.headModelComponents=y.cradleModelComponents.slice(0,y.headModelComponents.length),y.tailModelComponents=y.cradleModelComponents.slice(y.headModelComponents.length),v.setCradleState("applymovechanges")}return m}},this.insertIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,o=r.lowindex,i=r.size,a=!Nn(e);a||(a=!!i&&!Hn(e,o));var s=!1;return a||(jn(t)?t=e:s=!Hn(t,e)),e=+e,t=+t,a||s?(console.log("RIGS ERROR insertIndex(index, rangehighindex)"),a&&console.log(e,zn.insertFrom),s&&console.log(t,zn.insertRange),null):n.insertRemoveIndex(e,t,1)},this.removeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,o=r.lowindex;if(r.size){var i=!Nn(e)||!Hn(e,o),a=!1;return i||(jn(t)?t=e:a=!Hn(t,e)),e=+e,t=+t,i||a?(console.log("RIGS ERROR moveIndex(index, rangehighindex)"),i&&console.log(e,zn.removeFrom),a&&console.log(t,zn.removeRange),null):n.insertRemoveIndex(e,t,-1)}},this.insertRemoveIndex=function(e,t,r){var o=n.cradleParameters,i=n.cradleParameters.handlersRef.current,a=i.cacheAPI,s=i.contentHandler,l=i.stateHandler,c=(i.serviceHandler,o.cradleInternalPropertiesRef.current),u=c.cradleContentProps,d=c.virtualListProps,f=d.lowindex,h=d.crosscount,p=d.size,g=u.lowindex,v=u.highindex,m=u.size,y=u.runwayRowcount,b=u.viewportRowcount;if(p&&(e=Math.max(f,e)),0==p){if(r>0){n.setListRange([e,t]);for(var I=[],S=e;S<=t;S++)I.push(S);return[[],I,[]]}return[[],[],[]]}var w=Sn(a.insertRemoveIndex(e,t,r,p),6),x=w[0],P=w[1],C=w[2],O=w[3],R=w[4],D=w[5];if(null===P)return[[],[],[]];a.portalPartitionItemsForDeleteList=D;var E=P,T=n.serviceHandler.newListSize=p+E;if((0==m?0:v-g+1)<(b+2*y)*h||v>=T-1)l.setCradleState("channelcradleresetafterinsertremove");else{s.synchronizeCradleItemIDsToCache(C,r,x);var M=s.content,A=a.requestedSet,k=setInterval((function(){A.size||(clearInterval(k),M.headModelComponents=M.cradleModelComponents.slice(0,M.headModelComponents.length),M.tailModelComponents=M.cradleModelComponents.slice(M.headModelComponents.length),l.setCradleState("applyinsertremovechanges"))}),100)}return[C,R,O]},this.cradleParameters=t,this.setListRange=r}));function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==On(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===On(i)?i:String(i)),n)}var o,i}function Tn(e,t,r){return t&&En(e.prototype,t),r&&En(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mn=Tn((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reload=function(){var e=n.cradleParameters.handlersRef.current.stateHandler;n.cradleParameters.handlersRef.current.interruptHandler.pauseInterrupts(),e.setCradleState("reload")},this.scrollToIndex=function(e){var t=n.cradleParameters,r=t.cradleInternalPropertiesRef.current.virtualListProps,o=r.lowindex;if(r.size){var i=!Nn(e);if(i||Hn(e,o)||(e=o),e=+e,i)console.log("RIGS ERROR scrollToIndex(index)):",e,zn.scrollToIndex);else{var a=t.handlersRef.current,s=a.interruptHandler,l=a.layoutHandler,c=a.stateHandler;s.signals.pauseScrollingEffects=!0,l.cradlePositionData.targetAxisReferencePosition=e-o,c.setCradleState("scrollto")}}},this.scrollToPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if(["smooth","instant","auto"].includes(t)||(t="smooth"),Nn(e)&&Hn(e,0)){e=+e;var r,o,i=n.cradleParameters,a=i.viewportContextPropertiesRef.current.elementRef.current,s=a.firstChild,l=i.cradleInheritedPropertiesRef.current.orientation,c="vertical"==l?s.offsetHeight:s.offsetWidth,u="vertical"==l?a.offsetHeight:a.offsetWidth,d=Math.max(Math.min(e,c-u),0);"vertical"==l?(r=d,o=a.scrollLeft):(o=d,r=a.scrollTop);var f={top:r,left:o,behavior:t};a.scroll(f)}},this.scrollByPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if(["smooth","instant","auto"].includes(t)||(t="smooth"),Nn(e)&&0!=(e=+e)){var r,o,i,a,s=n.cradleParameters,l=s.viewportContextPropertiesRef.current.elementRef.current,c=l.firstChild,u=s.cradleInheritedPropertiesRef.current.orientation,d="vertical"==u?c.offsetHeight:c.offsetWidth,f="vertical"==u?l.offsetHeight:l.offsetWidth,h="vertical"==u?l.scrollTop:l.scrollLeft;e>0?(o=d-f,r=e-Math.max(e+h-o,0)):r=e-Math.min(e+h,0),"vertical"==u?(i=r,a=0):(a=r,i=0);var p={top:i,left:a,behavior:t};l.scrollBy(p)}},this.setListSize=function(e){if(!Nn(e=+e)||!Hn(e,0))console.log("RIGS ERROR setListSize(newlistsize)",e,zn.setListSize);else{var t,r=n.cradleParameters.handlersRef.current,o=r.cacheAPI,i=r.contentHandler,a=r.stateHandler,s=n.callbacks.deleteListCallback,l=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size,c=n.cradleParameters.cradleInheritedPropertiesRef.current.cache;s&&(t=function(e){s("change list size intervention",e)}),i.updateVirtualListSize(e),o.changeCacheListSize(e,t),o.renderPortalLists(),"preload"==c&&e>l&&a.setCradleState("startpreload")}},this.setListRange=function(e){var t=!Array.isArray(e);if(!t&&!(t=!(0==e.length||2==e.length))&&2==e.length){var r=Rn(e,2),o=r[0],i=r[1];i=+i,(t=!Nn(o=+o)||!Nn(i)||!Hn(i,o))||(e=[o,i])}if(t)console.log("RIGS ERROR setListRange(newlistrange)",e,zn.setListRange);else{var a,s=n.cradleParameters.handlersRef.current,l=s.cacheAPI,c=s.contentHandler,u=s.stateHandler,d=n.callbacks.deleteListCallback,f=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.range,h=n.cradleParameters.cradleInheritedPropertiesRef.current.cache;d&&(a=function(e){d("change list range intervention",e)}),c.updateVirtualListRange(e),l.changeCacheListRange(e,a),l.renderPortalLists(),"preload"==h&&2==e.length&&(e[0]<f[0]||e[1]>f[1])&&u.setCradleState("startpreload")}},this.prependIndexCount=function(e){if(!Nn(e=+e)||!Hn(e,0))console.log("RIGS ERROR, prependIndexCount must be an integer >= 0");else{var t,r=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,o=Rn(r.range,2),i=o[0],a=o[1];t=r.size?[i-e,a]:[1-e,0],n.setListRange(t)}},this.appendIndexCount=function(e){if(!Nn(e=+e)||!Hn(e,0))console.log("RIGS ERROR, appendIndexCount must be an integer >= 0");else{var t,r=n.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,o=Rn(r.range,2),i=o[0],a=o[1];t=r.size?[i,a+e]:[0,e-1],n.setListRange(t)}},this.cradleParameters=t,this.callbacks=r}));function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function kn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==An(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===An(i)?i:String(i)),n)}var o,i}function Ln(e,t,r){return t&&kn(e.prototype,t),r&&kn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var jn=function(e){return""===(null!=e?e:"")},Nn=function(e){var t=+e;return Number.isInteger(t)},Hn=function(e,t){return!(!Nn(e)||!Nn(t))&&+e>=+t},zn={scrollToIndex:"integer: required, greater than or equal to low index",setListSize:"integer: required, greater than or equal to 0",setListRange:"array[lowindex,highindex]: required, both integers, highindex greater than or equal to lowindex",insertFrom:"insertFrom - integer: required, greater than or equal to low index",insertRange:'insertRange - blank, or integer greater than or equal to the "from" index',removeFrom:"removeFrom - integer: required, greater than or equal to low index",removeRange:'removeRange - blank, or integer greater than or equal to the "from" index',moveFrom:"moveFrom - integer: required, greater than or equal to low index",moveRange:'moveRange - blank, or integer greater than or equal to the "from" index',moveTo:"moveTo - integer: required, greater than or equal to low index"},_n=Ln((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.triggerBoundaryCallbacks=function(){var e=r.cradleParameters,t=r.callbacks,n=e.cradleInternalPropertiesRef.current,o=e.cradleInheritedPropertiesRef.current,i=e.handlersRef.current,a=i.layoutHandler,s=i.serviceHandler,l=n.virtualListProps,c=o.getExpansionCount;if(a.boundaryNotificationsRequired()){if(t.boundaryCallback&&(a.SOLSignal&&t.boundaryCallback("SOL",l.lowindex),a.EOLSignal&&t.boundaryCallback("EOL",l.highindex)),c){if(a.SOLSignal){var u=c("SOL",l.lowindex);u=+u,!isNaN(u)&&u>0&&Number.isInteger(u)&&s.prependIndexCount(u)}if(a.EOLSignal){var d=c("EOL",l.highindex);d=+d,!isNaN(d)&&d>0&&Number.isInteger(d)&&s.appendIndexCount(d)}}a.cancelBoundaryNotifications()}},this.reload=function(){r.servicegeneral.reload()},this.scrollToIndex=function(e){r.servicegeneral.scrollToIndex(e)},this.scrollToPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";r.servicegeneral.scrollToPixel(e,t)},this.scrollByPixel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";r.servicegeneral.scrollByPixel(e,t)},this.setListsize=function(e){r.setListSize(e)},this.setListSize=function(e){r.servicegeneral.setListSize(e)},this.setListRange=function(e){r.servicegeneral.setListRange(e)},this.prependIndexCount=function(e){r.servicegeneral.prependIndexCount(e)},this.appendIndexCount=function(e){r.servicegeneral.appendIndexCount(e)},this.getCacheIndexMap=function(){return r.snapshots.getCacheIndexMap()},this.getCacheItemMap=function(){return r.snapshots.getCacheItemMap()},this.getCradleIndexMap=function(){return r.snapshots.getCradleIndexMap()},this.getPropertiesSnapshot=function(){return r.snapshots.getPropertiesSnapshot()},this.clearCache=function(){r.servicecache.clearCache()},this.moveIndex=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.servicecache.moveIndex(e,t,n)},this.insertIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.servicecache.insertIndex(e,t)},this.removeIndex=function(e){return r.servicecache.removeIndex(e,null)},this.cradleParameters=t;var n=t.externalCallbacksRef.current,o={referenceIndexCallback:n.referenceIndexCallback,preloadIndexCallback:n.preloadIndexCallback,deleteListCallback:n.deleteListCallback,changeListSizeCallback:n.changeListSizeCallback,changeListRangeCallback:n.changeListRangeCallback,itemExceptionCallback:n.itemExceptionCallback,repositioningFlagCallback:n.repositioningFlagCallback,repositioningIndexCallback:n.repositioningIndexCallback,boundaryCallback:n.boundaryCallback};this.callbacks=o,this.snapshots=new bn(t),this.servicegeneral=new Mn(t,this.callbacks),this.servicecache=new Cn(t,this.setListRange)}));function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Fn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Fn(i)?i:String(i)),n)}var o,i}function Un(e,t,r){return t&&Bn(e.prototype,t),r&&Bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vn=Un((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getCradleStyles=function(e){var t=e.orientation,n=e.cellHeight,o=e.cellWidth,i=e.gapProps,a=e.crosscount,s=e.userstyles,l=e.triggerlineOffset,c=e.layout,u=r.getBaseHeadStyles(i,t,s.cradle),d=r.getBaseTailStyles(i,t,s.cradle),f=r.getAxisStyles(i,t),h=r.getTriggercellTriggerlineHeadStyles(t,n,o,l,i),p=r.getTriggercellTriggerlineTailStyles(t,n,o,l,i);return u.gap=d.gap=i.CSS,"vertical"==t?(d.padding="0px",u.width=d.width="100%",u.height=d.height="auto",u.gridTemplateRows=d.gridTemplateRows=null,u.gridTemplateColumns=d.gridTemplateColumns="repeat(".concat(a,", minmax(").concat(o,"px, 1fr))"),u.gridAutoFlow=d.gridAutoFlow="row",u.gridAutoRows=d.gridAutoRows="uniform"==c?null:"max-content",u.gridAutoColumns=d.gridAutoColumns=null):(d.padding="0px",u.width=d.width="auto",u.height=d.height="100%",u.gridTemplateRows=d.gridTemplateRows="repeat(".concat(a,", minmax(").concat(n,"px, 1fr))"),u.gridTemplateColumns=d.gridTemplateColumns=null,u.gridAutoFlow=d.gridAutoFlow="column",u.gridAutoRows=d.gridAutoRows=null,u.gridAutoColumns=d.gridAutoColumns="uniform"==c?null:"max-content"),[u,d,f,{zIndex:1,position:"absolute",width:"100%",height:"100%",boxShadow:"0 0 5px 3px red"},h,p]},this.getBaseHeadStyles=function(e,t,r){var n,o,i,a;return"vertical"==t?(n=0,o=null,a=null,i=null):(n=null,o=null,a=0,i=null),Object.assign(Object.assign({},r),{position:"absolute",display:"grid",gridGap:e.CSS,boxSizing:"border-box",bottom:n,left:o,right:a,top:i})},this.getBaseTailStyles=function(e,t,r){var n,o,i,a;return"vertical"==t?(n=null,o=null,a=null,i=0):(n=null,o=0,a=null,i=null),Object.assign(Object.assign({},r),{position:"absolute",display:"grid",gridGap:e.CSS,boxSizing:"border-box",top:i,left:o,right:a,bottom:n})},this.getAxisStyles=function(e,t){var r,n,o,i;return"vertical"==t?(r=0,n="auto",o="100%",i=0):(r="auto",n=0,o=0,i="100%"),{position:"relative",top:r,left:n,width:o,height:i}},this.getTriggercellTriggerlineHeadStyles=function(e,t,r,n,o){var i,a,s,l,c,u;return"vertical"==e?(i="100%",a=0,s=n+"px",l="0px",c=null,u="0px"):(i=0,a="100%",s="0px",l=null,c="0px",u=n+"px"),{position:"absolute",width:i,height:a,top:s,right:l,bottom:c,left:u}},this.getTriggercellTriggerlineTailStyles=function(e,t,r,n,o){var i,a,s,l,c,u;return"vertical"==e?(i="100%",a=0,s=null,l="0px",c=-(n+o.column)+"px",u="0px"):(i=0,a="100%",s="0px",l=-(n+o.row)+"px",c="0px",u=null),{position:"absolute",width:i,height:a,top:s,right:l,bottom:c,left:u}},this.cradleParameters=t}));function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Gn=function(e){var n=(0,t.useContext)(_o),o=(0,t.useRef)(null);if(n.dnd)return r().createElement(Lt,Object.assign({},e));var i=Object.assign(Object.assign({},e),{handlersRef:o});return r().createElement(Xn,Object.assign({},i))};var Yn=r().createContext(null),Xn=function(e){var n=e.gridSpecs,o=e.paddingProps,i=e.gapProps,a=e.runwaySize,s=e.virtualListSpecs,l=e.setVirtualListSize,c=e.setVirtualListRange,u=e.startingIndex,d=e.getItem,f=e.getItemPack,h=e.getExpansionCount,p=e.placeholder,g=e.placeholderMessages,v=e.userCallbacks,m=e.styles,y=e.triggerlineOffset,b=e.cache,I=e.cacheMax,S=e.scrollerID,w=e.cacheAPI,x=e.usePlaceholder,P=e.showAxis,C=e.ONAFTERSCROLL_TIMEOUT,O=e.IDLECALLBACK_TIMEOUT,R=e.MAX_CACHE_OVER_RUN,D=(e.VARIABLE_MEASUREMENTS_TIMEOUT,e.scrollerContext),E=e.handlerListRef,T=s.size,M=s.lowindex,A=s.highindex,k=n.orientation,L=n.cellHeight,j=n.cellWidth,N=n.cellMinHeight,H=n.cellMinWidth,z=n.layout,_=(0,t.useContext)(ut),F=(0,t.useContext)(_o),B=(0,t.useContext)(Fo),U=(0,t.useRef)(null);U.current=_;var V,W=(0,t.useRef)(!0),q=(0,t.useRef)(!1),G=(0,t.useRef)(!1),Y=(0,t.useRef)(!1),X=(0,t.useRef)({previousTriggerNameAtBorder:null}),K={width:(V=_.elementRef.current).offsetWidth,height:V.offsetHeight},Z=K.height,Q=K.width,$=0==Q&&0==Z,J=$!=q.current;J&&(G.current=q.current,q.current=$);var ee=Wn((0,t.useState)("setup"),2),te=ee[0],re=ee[1],ne=(0,t.useRef)(null);ne.current=te;var oe=(0,t.useRef)(null),ie=(0,t.useRef)(null),ae=(0,t.useRef)(null),se=(0,t.useRef)(null),le=(0,t.useRef)(null),ce=(0,t.useRef)({headRef:oe,tailRef:ie,axisRef:ae,triggercellTriggerlineHeadRef:se,triggercellTriggerlineTailRef:le}),ue=(0,t.useMemo)((function(){if(q.current)return 0;var e="vertical"==k?Q:Z,t="vertical"==k?o.left+o.right:o.top+o.bottom,r="vertical"==k?i.column:i.row,n=e-t+r,a=("vertical"==k?j:L)+r,s=Math.min(a,n);return Math.floor(n/s)}),[k,i,o,j,L,Z,Q]),de=(0,t.useMemo)((function(){if(0==T)return[void 0,void 0];var e=A<0?-1:1,t=Math.abs(M)%ue,r=(Math.abs(A)+e)%ue;return M<0&&(t=0==t?0:ue-t),A>=0&&(r=0==r?0:ue-r),[t,r]}),[ue,T,M,A]),fe=Wn(de,2),he=fe[0],pe=fe[1],ge=(0,t.useMemo)((function(){var e,t="vertical"==k?Z:Q,r="vertical"==k?i.column:i.row;e="uniform"==z?"vertical"==k?L:j:"vertical"==k?N:H,e+=r;var n,o=Math.ceil(t/e),s=0==T?0:Math.ceil((T+he+pe)/ue),l=o+2*a,c=Math.min(s,l);if(c==l)n=a;else{var u=l-c;n=a-Math.floor(u/2),n=Math.max(0,n)}var d=c*ue;return d>T&&(d=T,c=Math.ceil((d+he+pe)/ue)),[c,o,s,n,z]}),[k,i,j,L,H,N,Z,Q,T,he,pe,a,ue,z]),ve=Wn(ge,4),me=ve[0],ye=ve[1],be=ve[2],Ie=ve[3],Se=(0,t.useMemo)((function(){return 0==T?void 0:Math.floor(M/ue)}),[ue,M,T]),we=Object.assign(Object.assign({},s),{baserowblanks:he,endrowblanks:pe,crosscount:ue,rowcount:be,rowshift:Se}),xe=(0,t.useRef)({cradleRowcount:me,viewportRowcount:ye,runwayRowcount:Ie,SOL:void 0,EOL:void 0,lowindex:void 0,highindex:void 0,size:0}),Pe=xe.current;Object.assign(Pe,{cradleRowcount:me,viewportRowcount:ye,runwayRowcount:Ie});var Ce=(0,t.useRef)({referenceIndexCallback:null==v?void 0:v.referenceIndexCallback,repositioningFlagCallback:null==v?void 0:v.repositioningFlagCallback,repositioningIndexCallback:null==v?void 0:v.repositioningIndexCallback,preloadIndexCallback:null==v?void 0:v.preloadIndexCallback,deleteListCallback:null==v?void 0:v.deleteListCallback,changeListSizeCallback:null==v?void 0:v.changeListSizeCallback,changeListRangeCallback:null==v?void 0:v.changeListRangeCallback,itemExceptionCallback:null==v?void 0:v.itemExceptionCallback,boundaryCallback:null==v?void 0:v.boundaryCallback}),Oe=(0,t.useRef)(null);Oe.current={orientation:k,layout:z,cellHeight:L,cellWidth:j,cellMinHeight:N,cellMinWidth:H,cache:b,cacheMax:I,startingIndex:u,runwaySize:a,getItem:d,getItemPack:f,getExpansionCount:h,placeholder:p,placeholderMessages:g,usePlaceholder:x,triggerlineOffset:y,scrollerID:S,userCallbacks:v,styles:m,cacheAPI:w,ONAFTERSCROLL_TIMEOUT:C,MAX_CACHE_OVER_RUN:R,scrollerContext:D};var Re=(0,t.useRef)(null);Re.current={orientation:k,gapProps:i,paddingProps:o,layout:z,cellHeight:L,cellWidth:j,cellMinHeight:N,cellMinWidth:H,virtualListProps:we,cradleContentProps:Pe,cache:b,dnd:F.dnd,dndEnabled:F.enabled&&B.dndOptions.enabled,cacheMax:I,startingIndex:u,scrollerID:S};var De=(0,t.useRef)(null);De.current={virtualListProps:we,setVirtualListSize:l,setVirtualListRange:c,cradleContentProps:xe.current,paddingProps:o,gapProps:i,isMountedRef:W,cradleElementsRef:ce,isCachedRef:q,wasCachedRef:G,triggerHistoryRef:X,cradleStateRef:ne,setCradleState:re};var Ee=(0,t.useRef)(null),Te={handlersRef:Ee,viewportContextPropertiesRef:U,cradleInheritedPropertiesRef:Oe,scrollerPropertiesRef:Re,cradleInternalPropertiesRef:De,externalCallbacksRef:Ce};(0,t.useRef)(null).current=Te,Ee.current||(Ee.current=Kn(Te));var Me=Ee.current,Ae=Me.interruptHandler,ke=Me.scrollHandler,Le=Me.stateHandler,je=Me.contentHandler,Ne=Me.layoutHandler,He=Me.serviceHandler,ze=Me.stylesHandler;E.current=Ee.current;J&&!q.current&&function(){var e=Ne.cradlePositionData,t=e.trackingBlockScrollPos,r=e.trackingXBlockScrollPos;if(null!==t){var n,o=U.current.elementRef.current;n="scrollTop"==e.blockScrollProperty?{top:t,left:r,behavior:"instant"}:{left:t,top:r,behavior:"instant"},o.scroll(n)}}(),(0,t.useEffect)((function(){"setup"!=ne.current&&(q.current&&!G.current?re("cached"):!q.current&&G.current&&(G.current=!1,Y.current?re("rerenderfromcache"):re("firstrenderfromcache")))}),[q.current,G.current]),(0,t.useEffect)((function(){return W.current=!0,function(){W.current=!1}}),[]),(0,t.useEffect)((function(){B.cacheAPI=w,B.stateHandler=Le,B.serviceHandler=He}),[]),(0,t.useEffect)((function(){if(v.functionsCallback){var e={scrollToIndex:He.scrollToIndex,scrollToPixel:He.scrollToPixel,scrollByPixel:He.scrollByPixel,reload:He.reload,setListsize:He.setListsize,setListSize:He.setListSize,setListRange:He.setListRange,prependIndexCount:He.prependIndexCount,appendIndexCount:He.appendIndexCount,clearCache:He.clearCache,getCacheIndexMap:He.getCacheIndexMap,getCacheItemMap:He.getCacheItemMap,getCradleIndexMap:He.getCradleIndexMap,getPropertiesSnapshot:He.getPropertiesSnapshot,moveIndex:He.moveIndex,insertIndex:He.insertIndex,removeIndex:He.removeIndex};v.functionsCallback(e)}}),[]),(0,t.useEffect)((function(){var e=U.current.elementRef.current;return e.addEventListener("scroll",ke.onScroll),function(){e&&e.removeEventListener("scroll",ke.onScroll)}}),[]),(0,t.useEffect)((function(){var e=Ae.cradleIntersect,t=Ae.triggerlinesIntersect,r=e.createObserver();e.connectElements();var n=t.createObserver();return function(){r.disconnect(),n.disconnect()}}),[]);var _e=(0,t.useCallback)((function(e){if(e<De.current.virtualListProps.size){var t,r=He.callbacks,n=r.deleteListCallback,o=r.changeListSizeCallback;n&&(t=function(e){n("getItem returned null",e)}),je.updateVirtualListSize(e),w.changeCacheListSize(e,t,o)}}),[]);(0,t.useEffect)((function(){if("preload"!=b){if("setup"!=ne.current)switch(b){case"keepload":var e,t=je.getModelIndexList(),r=He.callbacks.deleteListCallback;r&&(e=function(e){r("pare cache to cacheMax",e)});var n=Te.cradleInheritedPropertiesRef.current.cacheMax;w.pareCacheToMax(n,t,e)&&w.renderPortalLists(),re("changecaching");break;case"cradle":var o,i=je.getModelIndexList(),a=He.callbacks.deleteListCallback;a&&(o=function(e){a("match cache to cradle",e)}),w.matchCacheToCradle(i,o)&&w.renderPortalLists(),re("changecaching")}}else re("startpreload")}),[b,I]),(0,t.useEffect)((function(){"setup"!=ne.current&&(q.current||G.current||(U.current.isResizing&&"viewportresizing"!=ne.current&&(Ae.pauseInterrupts(),re("viewportresizing")),U.current.isResizing||"viewportresizing"!=ne.current||re("finishviewportresize")))}),[U.current.isResizing]),(0,t.useEffect)((function(){"setup"!=ne.current&&(q.current||(Ae.pauseInterrupts(),re("reconfigure")))}),[L,j,i,o,y,z,a]),(0,t.useEffect)((function(){"setup"!=ne.current&&(q.current||(Ae.pauseInterrupts(),re("reconfigureforlistrange")))}),[M,A]),(0,t.useEffect)((function(){"setup"!=ne.current&&(Ae.pauseInterrupts(),re("reload"))}),[d,f]),(0,t.useEffect)((function(){if(Ne.cradlePositionData.blockScrollProperty="vertical"==k?"scrollTop":"scrollLeft",Ne.cradlePositionData.blockXScrollProperty="horizontal"==k?"scrollTop":"scrollLeft","setup"==ne.current)return Ne.cradlePositionData.trackingBlockScrollPos=0,void(Ne.cradlePositionData.trackingXBlockScrollPos=0);if(Ae.pauseInterrupts(),q.current)Y.current=!1;else{var e=Oe.current.layout,t=Ne.cradlePositionData,r="vertical"==k?i.column:i.row,n="vertical"==k?i.row:i.column;if("uniform"==e){var o=Oe.current,a=o.cellWidth,s=o.cellHeight,l=(o.gapProps,("vertical"==k?a:s)+n),c=Ne.cradlePositionData.targetPixelOffsetAxisFromViewport/l*(("vertical"==k?s:a)+r);t.targetPixelOffsetAxisFromViewport=Math.round(c)}else t.targetPixelOffsetAxisFromViewport=n;re("pivot")}}),[k,z]);var Fe=Wn((0,t.useMemo)((function(){return ze.getCradleStyles({orientation:k,cellHeight:L,cellWidth:j,cellMinHeight:N,cellMinWidth:H,gapProps:i,viewportheight:Z,viewportwidth:Q,crosscount:ue,userstyles:m,triggerlineOffset:y,layout:z})}),[k,L,j,N,H,i,Z,Q,ue,m,y,z]),6),Be=Fe[0],Ue=Fe[1],Ve=Fe[2],We=Fe[3],qe=Fe[4],Ge=Fe[5];(0,t.useLayoutEffect)((function(){jt({cradleState:te,cradleParameters:Te,isCachedRef:q,wasCachedRef:G,hasBeenRenderedRef:Y,nullItemSetMaxListsize:_e})}),[te]),(0,t.useEffect)((function(){switch(te){case"repositioningRender":break;case"ready":Ne.boundaryNotificationsRequired()&&re("triggerboundarynotications")}}),[te]);var Ye=je.content,Xe=(0,t.useRef)(null);Xe.current=(0,t.useMemo)((function(){return[r().createElement("div",{key:"head","data-type":"headtrigger",style:qe,ref:se}),r().createElement("div",{key:"tail","data-type":"tailtrigger",style:Ge,ref:le})]}),[qe,Ge]);var Ke=(0,t.useRef)({scrollerPropertiesRef:Re,cacheAPI:w,nullItemSetMaxListsize:_e,itemExceptionCallback:He.callbacks.itemExceptionCallback,IDLECALLBACK_TIMEOUT:O,triggercellTriggerlinesRef:Xe});return r().createElement(Yn.Provider,{value:Ke.current},"repositioningRender"==te?null:r().createElement("div",{"data-type":"cradle-axis",style:Ve,ref:ae},P?r().createElement("div",{"data-type":"cradle-divider",style:We}):null,r().createElement("div",{"data-type":"head",ref:oe,style:Be},"setup"!=te?Ye.headDisplayComponents:null),r().createElement("div",{"data-type":"tail",ref:ie,style:Ue},"setup"!=te?Ye.tailDisplayComponents:null)))},Kn=function(e){var t=function(t){return new t(e)},r=e.cradleInheritedPropertiesRef.current.cacheAPI;return r.cradleParameters=e,{cacheAPI:r,interruptHandler:t(gn),scrollHandler:t(_t),stateHandler:t(Wt),contentHandler:t(an),layoutHandler:t(cn),serviceHandler:t(_n),stylesHandler:t(Vn)}};function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Zn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Zn(i)?i:String(i)),n)}var o,i}var eo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollerDataMap=new Map,this.linkSupport=function(e){var r=e.portalData;t.portalData=r},this.unRegisterScroller=function(e,r){var n=t.scrollerDataMap,o=t.portalData.itemMetadataMap;1!=n.size&&(n.delete(e),r.forEach((function(e){var r=o.get(e).partitionID;t.portalData.removePartitionPortal(r,e),o.delete(e)})),t.portalData.renderPortalLists())},this.clearCache=function(e){var r=t.scrollerDataMap,n=t.portalData.itemMetadataMap,o=r.get(e),i=o.indexToItemIDMap,a=o.itemSet,s=o.requestedSet;1==r.size?(n.clear(),t.portalData.clearCachePartisions()):(a.forEach((function(e){var r=n.get(e).partitionID;t.portalData.removePartitionPortal(r,e)})),t.portalData.renderPortalLists()),i.clear(),a.clear(),s.clear()},this.changeCacheListSize=function(e,r,n){if(0!=r.length){var o=t.scrollerDataMap.get(e).indexToItemIDMap,i=Array.from(o.keys());i.sort((function(e,t){return e-t}));var a=t.scrollerDataMap.get(e).cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.lowindex;if(i.at(-1)>r+a-1){var s=i.filter((function(e){return e>r+a-1}));t.portalData.deletePortalByIndex(e,s,n)}}else t.clearCache(e)},this.changeCacheListRange=function(e,r,n){if(0!=r.length){var o=t.scrollerDataMap.get(e).indexToItemIDMap,i=Array.from(o.keys());i.sort((function(e,t){return e-t}));var a=Qn(r,2),s=a[0],l=a[1],c=i.at(-1),u=i.at(0);if(c>l){var d=l,f=i.filter((function(e){return e>d}));t.portalData.deletePortalByIndex(e,f,n)}if(u<s){var h=s,p=i.filter((function(e){return e<h}));t.portalData.deletePortalByIndex(e,p,n)}}else t.clearCache(e)}}var t,r,n;return t=e,(r=[{key:"registerScroller",value:function(e){this.scrollerDataMap.set(e,{indexToItemIDMap:new Map,itemSet:new Set,cradleParameters:null,requestedSet:new Set,portalPartitionItemsForDeleteList:null})}}])&&Jn(t.prototype,r),n&&Jn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const no=function(e){var n=e.partitionProps,o=e.partitionID,i=e.callback,a=to((0,t.useState)(0),2),s=a[0],l=a[1],c=to((0,t.useState)("setup"),2),u=c[0],d=c[1],f=(0,t.useRef)(s),h=(0,t.useRef)(!0),p=(0,t.useRef)(null),g=n.partitionMetadataMap.get(o),v=(0,t.useCallback)((function(e){p.current=e,h.current&&l(++f.current)}),[]);return(0,t.useEffect)((function(){return h.current=!0,g.forceUpdate=v,i(),function(){h.current=!1}}),[]),(0,t.useEffect)((function(){if("setup"===u)d("ready")}),[u]),r().createElement("div",{key:o,"data-type":"cachepartition","data-partitionid":o},p.current)};function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(){io=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",g="completed",v={};function m(){}function y(){}function b(){}var I={};c(I,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(M([])));w&&w!==r&&n.call(w,a)&&(I=w);var x=b.prototype=m.prototype=Object.create(I);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==oo(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=f;return function(i,a){if(o===p)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=R(s,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?g:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function R(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,R(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(oo(t)+" is not iterable")}return y.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},P(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new C(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||lo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lo(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function lo(e,t){if(e){if("string"==typeof e)return co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?co(e,t):void 0}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==oo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===oo(i)?i:String(i)),n)}var o,i}var fo=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},ho=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalItemID=0,this.itemMetadataMap=new Map,this.linkSupport=function(e){var t=e.scrollerData;n.scrollerData=t},this.globalPartitionID=0,this.partitionProps={partitionMetadataMap:new Map,partitionMap:new Map,partitionRenderList:null,partitionRepoForceUpdate:null,partitionModifiedSet:new Set,partitionPtr:null},this.renderPartitionRepo=function(){n.partitionProps.partitionRenderList=Array.from(n.partitionProps.partitionMap.values()),n.partitionProps.partitionRepoForceUpdate(n.partitionProps.partitionRenderList)},this.addPartition=function(){var e=n.globalPartitionID++;n.partitionProps.partitionMetadataMap.set(e,{portalMap:new Map,mapcount:0,portalRenderList:null,modified:!1,forceUpdate:null,partitionID:e});var t={current:null},o=new Promise((function(e){t.current=e}));return n.partitionProps.partitionMap.set(e,r().createElement(no,{key:e,partitionProps:n.partitionProps,partitionID:e,callback:function(){t.current(e)}})),n.renderPartitionRepo(),o},this.addPartitionPortal=function(e,t,r){n.partitionProps.partitionMetadataMap.get(e).portalMap.set(t,r),n.partitionProps.partitionModifiedSet.add(e)},this.removePartitionPortal=function(e,t){var r=n.partitionProps.partitionMetadataMap.get(e);r.portalMap.delete(t),r.mapcount-=1,n.partitionProps.partitionModifiedSet.add(e)},this.renderPartition=function(e){var t=n.partitionProps.partitionMetadataMap.get(e);t&&(t.portalRenderList=Array.from(t.portalMap.values()),t.forceUpdate&&t.forceUpdate(t.portalRenderList))},this.renderPortalLists=function(){var e=n.partitionProps.partitionModifiedSet;e.size&&(e.forEach((function(e){n.renderPartition(e)})),n.partitionProps.partitionModifiedSet.clear())},this.clearCachePartitions=function(){n.partitionProps.partitionMetadataMap.clear(),n.partitionProps.partitionMap.clear(),n.partitionProps.partitionRenderList=[],n.partitionProps.partitionModifiedSet.clear(),n.partitionProps.partitionPtr=null,n.partitionProps.partitionRepoForceUpdate(null)},this.preload=function(e,t,r){var o=n.scrollerData.scrollerDataMap.get(e).cradleParameters,i=o.scrollerPropertiesRef,a=o.handlersRef.current,s=a.stateHandler,l=a.serviceHandler,c=o.cradleInheritedPropertiesRef.current,u=o.cradleInternalPropertiesRef.current,d=c.getItem,f=c.getItemPack,h=u.virtualListProps,p=h.lowindex,g=h.highindex,v=[],m={current:!1},y=function(e){m.current=!0,r(e)};if(s.isMountedRef.current)for(var b=n.scrollerData.scrollerDataMap.get(e).indexToItemIDMap,I=l.callbacks,S=I.preloadIndexCallback,w=I.itemExceptionCallback,x=p;x<=g;x++){if(S&&S(x),!b.has(x)){var P=n.preloadItem(e,x,d,f,i,w,y);v.push(P)}if(m.current)break}Promise.allSettled(v).then((function(){n.renderPortalLists(),t()}))},this.applyPortalPartitionItemsForDeleteList=function(e){var t=n.scrollerData.scrollerDataMap.get(e).portalPartitionItemsForDeleteList;if(t&&t.length){var r,o=so(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.removePartitionPortal(i.partitionID,i.itemID)}}catch(e){o.e(e)}finally{o.f()}n.scrollerData.scrollerDataMap.get(e).portalPartitionItemsForDeleteList=[],n.renderPortalLists()}},this.CACHE_PARTITION_SIZE=t}var t,n,o;return t=e,n=[{key:"findPartitionWithRoom",value:function(){return fo(this,void 0,void 0,io().mark((function e(){var t,r,n,o,i,a,s,l,c;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.CACHE_PARTITION_SIZE,r=this.partitionProps.partitionMetadataMap,null===(n=this.partitionProps.partitionPtr)){e.next=7;break}if(!((o=r.get(n)).mapcount<t)){e.next=7;break}return o.mapcount+=1,e.abrupt("return",n);case 7:n=null,i=so(r),e.prev=9,i.s();case 11:if((a=i.n()).done){e.next=19;break}if(s=ao(a.value,2),l=s[0],!((c=s[1]).mapcount<t)){e.next=17;break}return c.mapcount+=1,n=l,e.abrupt("break",19);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:if(null!==n){e.next=33;break}return e.next=30,this.addPartition();case 30:n=e.sent,(o=r.get(n)).mapcount+=1;case 33:return this.partitionProps.partitionPtr=n,e.abrupt("return",n);case 35:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})))}},{key:"deletePortalByIndex",value:function(e,t,r){var n,o=Array.isArray(t)?t:[t],i=this.scrollerData.scrollerDataMap.get(e),a=i.indexToItemIDMap,s=i.itemSet,l=this.itemMetadataMap,c=this.removePartitionPortal,u=[],d=so(o);try{for(d.s();!(n=d.n()).done;){var f=n.value,h=a.get(f);void 0!==h&&(u.push({index:f,itemID:h}),c(l.get(h).partitionID,h),l.delete(h),s.delete(h),a.delete(f))}}catch(e){d.e(e)}finally{d.f()}r&&r(u)}},{key:"registerPendingPortal",value:function(e,t){this.scrollerData.scrollerDataMap.get(e).requestedSet.add(t)}},{key:"unregisterPendingPortal",value:function(e,t){var r=this.scrollerData.scrollerDataMap.get(e);r&&r.requestedSet.delete(t)}},{key:"getNewItemID",value:function(){return this.globalItemID++}},{key:"getNewOrExistingItemID",value:function(e,t){var r=this.scrollerData.scrollerDataMap.get(e).indexToItemIDMap;return r.has(t)?r.get(t):this.getNewItemID()}},{key:"transferPortalMetadataToScroller",value:function(e,t,r){var n=this.scrollerData.scrollerDataMap.get(e);if(!n)return null;var o=this.itemMetadataMap.get(t);return o.scrollerID=e,o.index=r,n.itemSet.add(t),n.indexToItemIDMap.set(r,t),o}},{key:"createPortal",value:function(e,t,n,o,i,a,s){var l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return fo(this,void 0,void 0,io().mark((function c(){var u,d,f,h,p;return io().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(this.unregisterPendingPortal(e,n),u=this.scrollerData.scrollerDataMap.get(e)){c.next=4;break}return c.abrupt("return",null);case 4:return d=po(n,o),c.next=7,this.findPartitionWithRoom();case 7:return f=c.sent,h=r().createElement("div",{"data-type":"portalwrapper",key:o,"data-itemid":o},r().createElement(Qt,{key:o,node:d}," ",t," ")),this.addPartitionPortal(f,o,h),p={itemID:o,scrollerID:e,index:n,partitionID:f,portalNode:d,scrollerContext:i,component:t,dndOptions:a,profile:s},this.itemMetadataMap.set(o,p),u.itemSet.add(o),u.indexToItemIDMap.set(n,o),l||this.renderPortalLists(),c.abrupt("return",p);case 16:case"end":return c.stop()}}),c,this)})))}},{key:"preloadItem",value:function(e,t,n,o,i,a,s){return fo(this,void 0,void 0,io().mark((function o(){var l,c,u,d,f,h;return io().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=this.getNewItemID(),o.prev=1,o.next=4,n(t,l);case 4:null===(u=o.sent)&&(c=u),o.next=12;break;case 8:o.prev=8,o.t0=o.catch(1),c=u=void 0,d=o.t0;case 12:if(null!=u&&(r().isValidElement(u)||(c=u,u=void 0,d=new Error("invalid React element"))),null==u){o.next=20;break}return h={scroller:i,cell:{current:{index:t,itemID:l}}},f=u.props.hasOwnProperty("scrollerContext")?r().cloneElement(u,{scrollerContext:h}):u,o.next=18,this.createPortal(e,f,t,l,h,void 0,void 0,!0);case 18:o.next=21;break;case 20:void 0===u?a&&a(t,l,c,"preload",d):(a&&a(t,l,c,"preload",new Error("end of list")),s(t));case 21:case"end":return o.stop()}}),o,this,[[1,8]])})))}},{key:"hasPortal",value:function(e){return this.itemMetadataMap.has(e)}},{key:"getPortalMetadata",value:function(e){if(this.hasPortal(e))return this.itemMetadataMap.get(e)}}],n&&uo(t.prototype,n),o&&uo(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),po=function(e,t){var r=Jt(),n=r.element;return n.dataset.type="contentenvelope",n.dataset.index=e,n.dataset.cacheitemid=t,r};function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function vo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mo(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==go(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===go(i)?i:String(i)),n)}var o,i}var bo=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.linkSupport=function(e){var r=e.scrollerData,n=e.portalData;t.scrollerData=r,t.portalData=n}}var t,r,n;return t=e,r=[{key:"moveIndex",value:function(e,t,r,n){var o,i=this.scrollerData.scrollerDataMap.get(e).indexToItemIDMap,a=this.portalData.itemMetadataMap,s=n-r+1,l=t-r,c=t+(s-1),u=l>0?"up":"down",d=Array.from(i.keys()).sort((function(e,t){return e-t})),f=d.slice().reverse(),h=d.findIndex((function(e){return e>=t})),p=d.findIndex((function(e){return e>=r})),g=f.findIndex((function(e){return e<=c})),v=f.findIndex((function(e){return e<=n})),m=d.length;-1!=g&&(g=m-1-g),-1!=v&&(v=m-1-v),o=-1==p&&-1==v?[]:-1==v?d.slice(p):d.slice(p,v+1);var y,b=new Map;o.forEach((function(e){b.set(e,i.get(e))})),y="down"==u?-1==h&&-1==p?[]:-1==p?d.slice(h):d.slice(h,p):-1==g&&-1==v?[]:-1==g?d.slice(v+1):d.slice(v+1,g+1),"down"==u&&y.reverse();var I=[];y.forEach((function(e){var t=i.get(e),r="up"==u?e-s:e+s;i.set(r,t),a.get(t).index=r,I.push(r)}));var S=[];return b.forEach((function(e,t){var r=t+l;i.set(r,e),a.get(e).index=r,S.push(r)})),[].concat(I,S).sort((function(e,t){return e-t}))}},{key:"insertRemoveIndex",value:function(e,t,r,n,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=1==n,s=-1==n,l=this.scrollerData.scrollerDataMap.get(e).indexToItemIDMap,c=this.portalData.itemMetadataMap,u=Array.from(l.keys()).sort((function(e,t){return e-t})),d=this.scrollerData.scrollerDataMap.get(e).itemSet,f=r,h=t;if(s){if(f>o-1&&(f=o-1)<h)return[null,null,[],[],[],[]]}else if(h>o){var p=h-o;h-=p,f-=p}var g,v=(f-h+1)*n,m=1==n?h:f+(v+1);g=a?h:f+1;var y,b,I=u.findIndex((function(e){return e>=g})),S=u.findIndex((function(e){return e>=h&&e<=f})),w=Array.from(u).reverse().findIndex((function(e){return e<=f&&e>=h}));-1!=w&&(w=u.length-1-w)<S&&(w=-1),-1==S?(y=[],b=[]):-1==w?(y=u.slice(S),b=a?y.slice():-1==I?[]:u.slice(I)):(y=u.slice(S,w+1),b=a?u.slice(I):-1==I?[]:u.slice(I));var x=[],P=[],C=[];if(a)x=y;else{var O,R=vo(P=y);try{for(R.s();!(O=R.n()).done;){var D=O.value;C.push(l.get(D)),l.delete(D)}}catch(e){R.e(e)}finally{R.f()}}a&&b.reverse();var E=[],T=new Set;b.forEach((function(e){var t=l.get(e),r=e+v;s&&(T.add(e),T.delete(r)),l.set(r,t),c.get(t).index=r,E.push(r)}));var M=[],A=[];if(a){var k,L=vo(x);try{for(L.s();!(k=L.n()).done;){var j=k.value;l.delete(j)}}catch(e){L.e(e)}finally{L.f()}}else{var N,H=vo(C);try{for(H.s();!(N=H.n()).done;){var z=N.value;if(i){var _=c.get(z).partitionID;M.push({itemID:z,partitionID:_}),c.delete(z)}d.delete(z)}}catch(e){H.e(e)}finally{H.f()}for(var F=Array.from(T),B=0,U=F;B<U.length;B++){var V=U[B];l.delete(V)}A=P.concat(F)}return a&&E.reverse(),[m,v,E,A,x,M]}}],r&&yo(t.prototype,r),n&&yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function So(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xo(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function wo(e){return function(e){if(Array.isArray(e))return Po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){if(e){if("string"==typeof e)return Po(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Po(e,t):void 0}}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Io(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Io(i)?i:String(i)),n)}var o,i}var Oo=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalItemID=0,this.globalPartitionID=0,this.getFacade=function(e){return{get indexToItemIDMap(){return this.getIndexToItemIDMap()},getIndexToItemIDMap:function(){return r.scrollerData.scrollerDataMap.get(e).indexToItemIDMap},get itemSet(){return this.getItemSet()},getItemSet:function(){return r.scrollerData.scrollerDataMap.get(e).itemSet},itemMetadataMap:r.portalData.itemMetadataMap,get requestedSet(){return this.getRequestedSet()},getRequestedSet:function(){return r.scrollerData.scrollerDataMap.get(e).requestedSet},set partitionRepoForceUpdate(e){this.setPartitionRepoForceUpdate(e)},setPartitionRepoForceUpdate:function(e){r.portalData.partitionProps.partitionRepoForceUpdate=e},set cradleParameters(e){this.setCradleParameters(e)},setCradleParameters:function(t){r.scrollerData.scrollerDataMap.get(e).cradleParameters=t},set portalPartitionItemsForDeleteList(e){this.setPortalPartitionItemsForDeleteList(e)},setPortalPartitionItemsForDeleteList:function(t){r.scrollerData.scrollerDataMap.get(e).portalPartitionItemsForDeleteList=t},get instance(){return this.getInstance()},getInstance:function(){return r},unRegisterScroller:function(t){return r.scrollerData.unRegisterScroller(e,t)},renderPartitionRepo:function(){return r.portalData.renderPartitionRepo()},renderPortalLists:function(){return r.portalData.renderPortalLists()},clearCache:function(){return r.scrollerData.clearCache(e)},changeCacheListSize:function(t,n){return r.scrollerData.changeCacheListSize(e,t,n)},changeCacheListRange:function(t,n){return r.scrollerData.changeCacheListRange(e,t,n)},matchCacheToCradle:function(t,n){return r.matchCacheToCradle(e,t,n)},pareCacheToMax:function(t,n,o){return r.pareCacheToMax(e,t,n,o)},guardAgainstRunawayCaching:function(t,n,o){return r.guardAgainstRunawayCaching(e,t,n,o)},preload:function(t,n){return r.portalData.preload(e,t,n)},getCacheIndexMap:function(){return r.getCacheIndexMap(e)},getCradleIndexMap:function(t){return r.getCradleIndexMap(e,t)},getCacheItemMap:function(){return r.getCacheItemMap(e)},moveIndex:function(t,n,o){return r.cacheService.moveIndex(e,t,n,o)},insertRemoveIndex:function(t,n,o,i,a){return r.cacheService.insertRemoveIndex(e,t,n,o,i,a)},registerPendingPortal:function(t){return r.portalData.registerPendingPortal(e,t)},unregisterPendingPortal:function(t){return r.portalData.unregisterPendingPortal(e,t)},getNewItemID:function(){return r.portalData.getNewItemID()},getNewOrExistingItemID:function(t){return r.portalData.getNewOrExistingItemID(e,t)},transferPortalMetadataToScroller:function(t,n){return r.portalData.transferPortalMetadataToScroller(e,t,n)},createPortal:function(t,n,o,i,a,s){return r.portalData.createPortal(e,t,n,o,i,a,s,!1)},deletePortalByIndex:function(t,n){return r.portalData.deletePortalByIndex(e,t,n)},applyPortalPartitionItemsForDeleteList:function(){return r.portalData.applyPortalPartitionItemsForDeleteList(e)},hasPortal:function(e){return r.portalData.hasPortal(e)},getPortalMetadata:function(e){return r.portalData.getPortalMetadata(e)}}},this.matchCacheToCradle=function(e,t,n){var o=Array.from(r.scrollerData.scrollerDataMap.get(e).indexToItemIDMap.keys()).filter((function(e){return!t.includes(e)}));return!!o.length&&(r.portalData.deletePortalByIndex(e,o,n),!0)},this.pareCacheToMax=function(e,t,n,o){var i=n.length;if(!t||!i)return!1;var a=Math.max(i,t),s=r.scrollerData.scrollerDataMap.get(e).indexToItemIDMap,l=r.scrollerData.scrollerDataMap.get(e).requestedSet;if(s.size+l.size<=a)return!1;var c=Array.from(s.keys()),u=Array.from(l.keys()),d=[].concat(c,u);d.sort((function(e,t){return e-t}));var f=d.length,h=f-a,p=n[0],g=n[i-1],v=d.indexOf(p),m=v+(f-(d.indexOf(g)+1)),y=Math.floor(v/m*h),b=h-y,I=d.slice(0,y),S=d.slice(f-b),w=[].concat(wo(I),wo(S));return r.portalData.deletePortalByIndex(e,w,o),!0},this.guardAgainstRunawayCaching=function(e,t,n,o){if(!t)return!1;var i=r.scrollerData.scrollerDataMap.get(e),a=i.indexToItemIDMap,s=i.requestedSet,l=Math.max(n,t);return!(a.size+s.size<=l*o)},this.scrollerData=new eo,this.portalData=new ho(t),this.cacheService=new bo,this.scrollerData.linkSupport({portalData:this.portalData}),this.portalData.linkSupport({scrollerData:this.scrollerData}),this.cacheService.linkSupport({scrollerData:this.scrollerData,portalData:this.portalData})}var t,r,n;return t=e,(r=[{key:"registerScroller",value:function(e){return this.scrollerData.registerScroller(e),this.getFacade(e)}},{key:"getCacheIndexMap",value:function(e){return new Map(this.scrollerData.scrollerDataMap.get(e).indexToItemIDMap)}},{key:"getCradleIndexMap",value:function(e,t){var r,n=new Map,o=this.scrollerData.scrollerDataMap.get(e).indexToItemIDMap,i=So(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.set(a,o.get(a))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"getCacheItemMap",value:function(e){var t,r=new Map,n=this.scrollerData.scrollerDataMap.get(e).itemSet,o=this.portalData.itemMetadataMap,i=So(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=o.get(a),l=s.index,c=s.component;r.set(a,{index:l,component:c})}}catch(e){i.e(e)}finally{i.f()}return r}}])&&Co(t.prototype,r),n&&Co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Do(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Do(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Eo=function(e){var n=e.CACHE_PARTITION_SIZE,o=e.getCacheAPI,i=e.getUpdateFunction,a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useCallback)((function(e){s.current=e,v.current&&d(++f.current)}),[]);(0,t.useEffect)((function(){if(!a.current){var e=new Oo(n);a.current=e,o(e),i(l)}}),[]);var c=Ro((0,t.useState)(0),2),u=c[0],d=c[1],f=(0,t.useRef)(u),h=Ro((0,t.useState)("setup"),2),p=h[0],g=h[1],v=(0,t.useRef)(!0);return(0,t.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]),(0,t.useEffect)((function(){if("setup"===p)g("ready")}),[p]),r().createElement("div",{"data-type":"portal-master"},s.current)};function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function Mo(e){return function(e){if(Array.isArray(e))return Lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){if(e){if("string"==typeof e)return Lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lo(e,t):void 0}}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jo=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?function(e,t={},r={}){return new Ze(e,t,r)}:function(e,t,r){return new Fe(e,t,r)},No=document&&(document.elementsFromPoint||document.msElementsFromPoint);var Ho,zo,_o=r().createContext({dnd:!1,active:!1,enabled:!1,scrollerID:null,setViewportState:null,setDragBarState:null,dropCount:0,dragData:{isDragging:!1,canDrop:!1,itemID:null,index:null,dndOptions:{},sourceCacheAPI:null,sourceStateHandler:null,sourceServiceHandler:null}}),Fo=r().createContext(null),Bo=function(e){var n=(0,t.useContext)(_o),o=e.dndOptions;(0,t.useEffect)((function(){var e=null==o?void 0:o.enabled;return e=null==e||e,n.dnd||(n.dnd=!0),n.enabled!==e&&(n.enabled=e),function(){Object.assign(n,{dnd:!1,active:!1,enabled:!1,scrollerID:null,setViewportState:null,setDragBarState:null,dropCount:0,dragData:{isDragging:!1,itemID:null,index:null,dndOptions:{},sourceCacheAPI:null,sourceStateHandler:null,sourceServiceHandler:null}})}}),[n,o]);var i=Object.assign(Object.assign({},e),{isDndMaster:!0});return r().createElement(ye,{backend:jo,options:Uo},r().createElement(Go,Object.assign({},i)))},Uo={getDropTargetElementsAtPoint:!No&&function(e,t,r){return r.filter((function(r){var n=r.getBoundingClientRect();return e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top}))}},Vo=(Ho=/iP(ad|od|hone)/i.test(window.navigator.userAgent),zo=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),Ho&&zo);function Wo(e){e.error;var t=e.resetErrorBoundary;return r().createElement("div",{role:"alert",style:{margin:"3px"}},r().createElement("p",null,"Something went wrong inside react-infinite-grid-scroller. See the console for details."),r().createElement("p",null,"Click to cancel the error and try to continue."),r().createElement("button",{style:{border:"1px solid black",margin:"3px",padding:"3px"},onClick:t},"Cancel error"))}var qo=0,Go=function(e){var n=Ao((0,t.useState)("setup"),2),o=n[0],i=n[1],a=e.cellHeight,s=e.cellWidth,l=e.getItem,c=e.getItemPack,u=e.getExpansionCount,d=e.placeholder,f=e.startingListSize,h=e.startingListRange,p=e.orientation,g=e.gap,v=e.padding,m=e.layout,y=e.cellMinHeight,b=e.cellMinWidth,I=e.runwaySize,S=e.startingIndex,w=e.cache,x=e.cacheMax,P=e.usePlaceholder,C=e.useScrollTracker,O=e.styles,R=e.placeholderMessages,D=void 0===R?{}:R,E=e.callbacks,T=e.technical,M=e.cacheAPI,A=e.dndOptions,k=e.scrollerContext,L=e.isDndMaster;e.staticComponent;f=null!=f?f:0,p=null!=p?p:"vertical",g=null!=g?g:0,v=null!=v?v:0,m=null!=m?m:"uniform",y=null!=y?y:25,b=null!=b?b:25,I=null!=I?I:1,S=null!=S?S:0,w=null!=w?w:"cradle",x=null!=x?x:0,P=null==P||P,C=null==C||C,O=null!=O?O:{},D=null!=D?D:{},E=null!=E?E:{},T=null!=T?T:{},A=null!=A?A:{},M=null!=M?M:null;var j=(0,t.useContext)(_o),N=!1;s&&a&&(l||c)||(console.log("RIGS: cellWidth, cellHeight, and getItem or getItemPack are required"),N=!0),N||(s=+s,a=+a,(isNaN(s)||isNaN(a)||"function"!=typeof l&&"function"!=typeof c)&&(console.log("RIGS: cellWidth and cellHeifht must be nunmbers; getItem or getItemPack must be functions"),N=!0));var H=(0,t.useRef)({top:null,right:null,bottom:null,left:null,source:null,original:null,list:[],CSS:""}),z=H.current;if(String(e.padding)!==String(z.source)){if(z.source=e.padding,Array.isArray(v)){var _=!1;v.length>4&&(_=!0),_||v.forEach((function(e,t,r){isNaN(e)&&(_=!0)})),z.original=_?[0]:v}else v=+v,isNaN(v)?z.original=[0]:z.original=[v];var F,B,U=Mo(z.original);switch(z.CSS=U.join("px ")+"px",U.length){case 1:F=Ao(U,1)[0],U.push(F,F,F);break;case 2:var V=Ao(U,2);F=V[0],B=V[1],U.push(F,B);case 3:var W=Ao(U,2);F=W[0],B=W[1],U.push(B)}z.list=U;var q=Ao(U,4),G=q[0],Y=q[1],X=q[2],K=q[3];Object.assign(z,{top:+G,right:+Y,bottom:+X,left:+K}),H.current=z=Object.assign({},z)}var Z=(0,t.useRef)({column:null,row:null,source:null,original:null,list:[],CSS:""}),Q=Z.current;if(String(e.gap)!==String(Q.source)){if(Q.source=e.gap,Array.isArray(g)){var $=!1;g.length>2&&($=!0),$||g.forEach((function(e,t,r){isNaN(e)&&($=!0)})),Q.original=$?[0]:g}else g=+g,isNaN(g)?Q.original=[0]:Q.original=[g];var J,ee=Mo(Q.original);if(Q.CSS=ee.join("px ")+"px",1==ee.length)J=Ao(ee,1)[0],ee.push(J);Q.list=ee;var te=Ao(ee,2),re=te[0],ne=te[1];Object.assign(Q,{column:+re,row:+ne}),Z.current=Q=Object.assign({},Q)}var oe={cellMinHeight:y,cellMinWidth:b,startingIndex:S,startingListSize:f,runwaySize:I,cacheMax:x},ie={cellMinHeight:y,cellMinWidth:b,startingIndex:S,startingListSize:f,runwaySize:I,cacheMax:x},ae=0;for(var se in ie)isNaN(ie[se])&&ae++;if(ae&&console.error("Error: invalid number - compare originalValues and verifiedValues",oe,ie),ae||(y=Math.max(y,25),b=Math.max(b,25),y=Math.min(a,y),b=Math.min(s,b),I=Math.max(1,I),f=Math.max(0,f),S=Math.max(0,S)),!ae&&"setup"==o){var le=!0;if(h&&Array.isArray(h)&&(2==h.length||0==h.length)||(le=!1),le)if(0==h.length)f=0;else{var ce=Ao(h,2),ue=ce[0],de=ce[1];ue=+ue,de=+de,(isNaN(ue)||isNaN(de)||ue>de)&&(le=!1),le&&(f=de-ue+1)}le||((f=+f)&&!isNaN(f)?h=[0,f-1]:(h=[],f=0))}["horizontal","vertical"].includes(p)||(p="vertical"),["preload","keepload","cradle"].includes(w)||(w="cradle"),["uniform","variable"].includes(m)||(m="uniform"),"boolean"!=typeof P&&(P=!0),"boolean"!=typeof C&&(C=!0),"object"!==To(O)&&(O={}),"object"!==To(D)&&(D={}),"object"!==To(E)&&(E={}),"object"!==To(T)&&(T={}),"object"!==To(A)&&(A={}),null!==M&&"object"!==To(M)&&(M=null);var fe={orientation:p,cellHeight:a,cellWidth:s,cellMinHeight:y,cellMinWidth:b,layout:m},he=(0,t.useRef)(fe),pe=(0,t.useRef)(O),ge=(0,t.useRef)(E),ve=(0,t.useRef)(D),me=T,ye=me.showAxis,be=me.triggerlineOffset,Ie=me.VIEWPORT_RESIZE_TIMEOUT,Se=me.ONAFTERSCROLL_TIMEOUT,we=me.IDLECALLBACK_TIMEOUT,xe=me.VARIABLE_MEASUREMENTS_TIMEOUT,Pe=me.MAX_CACHE_OVER_RUN,Ce=me.CACHE_PARTITION_SIZE;Ie=null!=Ie?Ie:250,Se=null!=Se?Se:100,we=null!=we?we:250,xe=null!=xe?xe:250,Pe=null!=Pe?Pe:1.5,Ce=null!=Ce?Ce:30,"boolean"!=typeof ye&&(ye=!1),be=null!=be?be:10;var Oe=(0,t.useRef)(null),Re=Oe.current,De=(0,t.useRef)(M),Ee=(0,t.useRef)(null),Te=(0,t.useRef)(f),Me=(0,t.useRef)(h),Ae=Te.current,ke=Me.current,Le=Ao(ke,2),je={size:Ae,range:ke,lowindex:Le[0],highindex:Le[1]},Ne=(0,t.useRef)(je),He=(0,t.useRef)({scrollerID:Re,dndOptions:A,droppedIndex:null,displacedIndex:null,cacheAPI:null,stateHandler:null,serviceHandler:null});Ko(je,Ne.current)||(Ne.current=je),Ko(fe,he.current)||(he.current=fe),Ko(O,pe.current)||(pe.current=O),Ko(E,ge.current)||(ge.current=E),Ko(D,ve.current)||(ve.current=D);var ze=!M,_e=(0,t.useRef)(!0);(0,t.useEffect)((function(){return _e.current=!0,function(){_e.current=!1}}),[]),(0,t.useEffect)((function(){null===Oe.current&&(He.current.scrollerID=Oe.current=qo++,L&&(j.scrollerID=Oe.current))}),[]),(0,t.useEffect)((function(){var e,t=null===(e=He.current.dndOptions.enabled)||void 0===e||e;He.current.dndOptions.enabled!==t&&(He.current.dndOptions.enabled=t)}),[He.current.dndOptions.enabled]);var Fe=(0,t.useCallback)((function(e){var t;if(0==e.length)t=0;else{var r=Ao(e,2),n=r[0];t=r[1]-n+1}Te.current=t,Me.current=e,ge.current.changeListRangeCallback&&ge.current.changeListRangeCallback(e),i("setlistprops")}),[]),Be=(0,t.useCallback)((function(e){var t=Me.current;if(0==e)t=[];else if(0==t.length)t=[0,e-1];else{var r=Ao(Me.current,1)[0];t=[r,r+e-1]}Te.current=e,Me.current=t,ge.current.changeListSizeCallback&&ge.current.changeListSizeCallback(e),i("setlistprops")}),[]),Ue=(0,t.useRef)(null);return(0,t.useEffect)((function(){if(!N&&!ae){switch(o){case"setup":De.current=De.current.registerScroller(Oe.current),Ue.current=De.current.itemSet,Ee.current&&(De.current.partitionRepoForceUpdate=Ee.current);case"setlistprops":i("ready")}return function(){_e.current||De.current.unRegisterScroller(Ue.current)}}}),[o,N,ae]),ae||N?r().createElement("div",null,"error: see console."):r().createElement(Fo.Provider,{value:He.current},r().createElement(Je,{FallbackComponent:Wo,onReset:function(){},onError:function(){}},"setup"!=o&&r().createElement(ft,{gridSpecs:he.current,styles:pe.current,scrollerID:Re,VIEWPORT_RESIZE_TIMEOUT:Ie,useScrollTracker:C},r().createElement(gt,{gridSpecs:he.current,paddingProps:z,gapProps:Q,styles:pe.current,virtualListSpecs:Ne.current,scrollerID:Re},r().createElement(Gn,{gridSpecs:he.current,paddingProps:z,gapProps:Q,styles:pe.current,virtualListSpecs:Ne.current,setVirtualListSize:Be,setVirtualListRange:Fe,cache:w,cacheMax:x,userCallbacks:ge.current,startingIndex:S,getItem:l,getItemPack:c,getExpansionCount:u,placeholder:d,placeholderMessages:ve.current,runwaySize:I,triggerlineOffset:be,scrollerContext:k,cacheAPI:De.current,usePlaceholder:P,showAxis:ye,ONAFTERSCROLL_TIMEOUT:Se,IDLECALLBACK_TIMEOUT:we,MAX_CACHE_OVER_RUN:Pe,VARIABLE_MEASUREMENTS_TIMEOUT:xe,scrollerID:Re}))),r().createElement("div",{"data-type":"cachewrapper"},ze&&r().createElement("div",{"data-type":"cacheroot",style:Xo},r().createElement(Eo,{getCacheAPI:function(e){De.current=e},getUpdateFunction:function(e){Ee.current=e},CACHE_PARTITION_SIZE:Ce})))))};const Yo=Go;var Xo={display:"none"};function Ko(e,t){if(!e||!t)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];if(!Object.is(e[o],t[o]))return!1}return!0}})(),i})()));