(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["Scroller"] = factory(require("react"), require("react-dom"));
	else
		root["Scroller"] = factory(root["react"], root["react-dom"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/infinitegridscroller.tsx");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/*! exports provided: DOMRectReadOnly */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMRectReadOnly\", function() { return DOMRectReadOnly; });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_0__[\"freeze\"])(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzP2ZkZDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDMEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBET01SZWN0UmVhZE9ubHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERPTVJlY3RSZWFkT25seSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy55O1xuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLng7XG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7XG4gICAgICAgIHJldHVybiBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIERPTVJlY3RSZWFkT25seS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB4ID0gX2EueCwgeSA9IF9hLnksIHRvcCA9IF9hLnRvcCwgcmlnaHQgPSBfYS5yaWdodCwgYm90dG9tID0gX2EuYm90dG9tLCBsZWZ0ID0gX2EubGVmdCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5LCB0b3A6IHRvcCwgcmlnaHQ6IHJpZ2h0LCBib3R0b206IGJvdHRvbSwgbGVmdDogbGVmdCwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH07XG4gICAgRE9NUmVjdFJlYWRPbmx5LmZyb21SZWN0ID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICByZXR1cm4gbmV3IERPTVJlY3RSZWFkT25seShyZWN0YW5nbGUueCwgcmVjdGFuZ2xlLnksIHJlY3RhbmdsZS53aWR0aCwgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gRE9NUmVjdFJlYWRPbmx5O1xufSgpKTtcbmV4cG9ydCB7IERPTVJlY3RSZWFkT25seSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/*! exports provided: ResizeObservation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObservation\", function() { return ResizeObservation; });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !Object(_utils_element__WEBPACK_IMPORTED_MODULE_2__[\"isSVG\"])(target)\n        && !Object(_utils_element__WEBPACK_IMPORTED_MODULE_2__[\"isReplacedElement\"])(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverBoxOptions\"].CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = Object(_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__[\"calculateBoxSize\"])(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanM/NDRjOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNFO0FBQ0w7QUFDTjtBQUMzRDtBQUNBLFlBQVksNERBQUs7QUFDakIsWUFBWSx3RUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrRkFBd0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFGQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDNEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/*! exports provided: ResizeObserver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserver\", function() { return ResizeObserver; });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverController\"].connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!Object(_utils_element__WEBPACK_IMPORTED_MODULE_1__[\"isElement\"])(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverController\"].observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!Object(_utils_element__WEBPACK_IMPORTED_MODULE_1__[\"isElement\"])(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverController\"].unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverController\"].disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXIuanM/ZDAyMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRTtBQUMxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRkFBd0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsa0ZBQXdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdFQUFTO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLGtGQUF3QjtBQUNoQztBQUNBO0FBQ0EsUUFBUSxrRkFBd0I7QUFDaEM7QUFDQTtBQUNBLDRDQUE0QyxrQkFBa0I7QUFDOUQ7QUFDQTtBQUNBLENBQUM7QUFDeUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBSZXNpemVPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCh0aGlzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUodGhpcywgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0KHRoaXMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIgKCkgeyBbcG9seWZpbGwgY29kZV0gfSc7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/*! exports provided: ResizeObserverBoxOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverBoxOptions\", function() { return ResizeObserverBoxOptions; });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzP2U1NTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDREQUE0RDtBQUN6QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/*! exports provided: ResizeObserverController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverController\", function() { return ResizeObserverController; });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__[\"ResizeObserverDetail\"](resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__[\"resizeObservers\"].push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__[\"ResizeObservation\"](target, options && options.box));\n            Object(_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__[\"updateCount\"])(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__[\"scheduler\"].schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__[\"resizeObservers\"].splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__[\"resizeObservers\"].indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            Object(_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__[\"updateCount\"])(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzP2YzNzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJEO0FBQ0g7QUFDTTtBQUNKO0FBQzFEO0FBQ0E7QUFDQSxtQkFBbUIsK0JBQStCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBFQUFvQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0VBQWU7QUFDL0MsK0NBQStDLG9FQUFpQjtBQUNoRSxZQUFZLG9FQUFXO0FBQ3ZCLFlBQVksMERBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0VBQWUsUUFBUSxzRUFBZTtBQUNyRTtBQUNBLFlBQVksb0VBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxtREFBbUQsRUFBRTtBQUN0SDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21DIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH0gZnJvbSAnLi91dGlscy9zY2hlZHVsZXInO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2YXRpb24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmF0aW9uJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckRldGFpbCc7XG5pbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgb2JzZXJ2ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGdldE9ic2VydmF0aW9uSW5kZXggPSBmdW5jdGlvbiAob2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAob2JzZXJ2YXRpb25UYXJnZXRzW2ldLnRhcmdldCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xudmFyIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCkge1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG5ldyBSZXNpemVPYnNlcnZlckRldGFpbChyZXNpemVPYnNlcnZlciwgY2FsbGJhY2spO1xuICAgICAgICBvYnNlcnZlck1hcC5zZXQocmVzaXplT2JzZXJ2ZXIsIGRldGFpbCk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgZmlyc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAwO1xuICAgICAgICBpZiAoZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpIDwgMCkge1xuICAgICAgICAgICAgZmlyc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMucHVzaChkZXRhaWwpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5wdXNoKG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9wdGlvbnMgJiYgb3B0aW9ucy5ib3gpKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KDEpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCkge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0T2JzZXJ2YXRpb25JbmRleChkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLCB0YXJnZXQpO1xuICAgICAgICB2YXIgbGFzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDE7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBsYXN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnNwbGljZShyZXNpemVPYnNlcnZlcnMuaW5kZXhPZihkZXRhaWwpLCAxKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvdW50KC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChvdCkgeyByZXR1cm4gX3RoaXMudW5vYnNlcnZlKHJlc2l6ZU9ic2VydmVyLCBvdC50YXJnZXQpOyB9KTtcbiAgICAgICAgZGV0YWlsLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIGRldGFpbC5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/*! exports provided: ResizeObserverDetail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverDetail\", function() { return ResizeObserverDetail; });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanM/NzgxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUMrQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/*! exports provided: ResizeObserverEntry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverEntry\", function() { return ResizeObserverEntry; });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = Object(_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__[\"calculateBoxSizes\"])(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_1__[\"freeze\"])([boxes.borderBoxSize]);\n        this.contentBoxSize = Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_1__[\"freeze\"])([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_1__[\"freeze\"])([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcz80MWU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWtFO0FBQzFCO0FBQ3hDO0FBQ0E7QUFDQSxvQkFBb0Isc0ZBQWlCO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkIsNERBQU07QUFDbkMsOEJBQThCLDREQUFNO0FBQ3BDLHlDQUF5Qyw0REFBTTtBQUMvQztBQUNBO0FBQ0EsQ0FBQztBQUM4QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemVzIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRW50cnkodGFyZ2V0KSB7XG4gICAgICAgIHZhciBib3hlcyA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0ID0gYm94ZXMuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuYm9yZGVyQm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuYm9yZGVyQm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmNvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5jb250ZW50Qm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmRldmljZVBpeGVsQ29udGVudEJveFNpemVdKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRW50cnk7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/*! exports provided: ResizeObserverSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverSize\", function() { return ResizeObserverSize; });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_0__[\"freeze\"])(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJTaXplLmpzP2M2NTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBTTtBQUNkO0FBQ0E7QUFDQSxDQUFDO0FBQzZCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlclNpemUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgUmVzaXplT2JzZXJ2ZXJTaXplID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNpemUoaW5saW5lU2l6ZSwgYmxvY2tTaXplKSB7XG4gICAgICAgIHRoaXMuaW5saW5lU2l6ZSA9IGlubGluZVNpemU7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgICAgICBmcmVlemUodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlclNpemU7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/*! exports provided: broadcastActiveObservations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"broadcastActiveObservations\", function() { return broadcastActiveObservations; });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__[\"resizeObservers\"].forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__[\"ResizeObserverEntry\"](ot.target);\n            var targetDepth = Object(_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__[\"calculateDepthForNode\"])(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = Object(_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__[\"calculateBoxSize\"])(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMuanM/Y2FiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkQ7QUFDRTtBQUNHO0FBQ1Y7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSSxzRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdFQUFtQjtBQUMvQyw4QkFBOEIsb0ZBQXFCO0FBQ25EO0FBQ0Esa0NBQWtDLDBFQUFnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMseUJBQXlCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDdUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/*! exports provided: calculateBoxSize, calculateBoxSizes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateBoxSize\", function() { return calculateBoxSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateBoxSizes\", function() { return calculateBoxSizes; });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__[\"global\"].navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__[\"global\"].navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__[\"ResizeObserverSize\"]((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_4__[\"freeze\"])({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__[\"DOMRectReadOnly\"](0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (Object(_utils_element__WEBPACK_IMPORTED_MODULE_3__[\"isHidden\"])(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = Object(_utils_element__WEBPACK_IMPORTED_MODULE_3__[\"isSVG\"])(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = Object(_utils_freeze__WEBPACK_IMPORTED_MODULE_4__[\"freeze\"])({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__[\"DOMRectReadOnly\"](paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverBoxOptions\"].DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserverBoxOptions\"].BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplLmpzPzEwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXVFO0FBQ1o7QUFDTjtBQUNGO0FBQ1Y7QUFDQTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0RBQU0sY0FBYyxvREFBTTtBQUMxRCx1Q0FBdUMsaUNBQWlDO0FBQ3hFO0FBQ0EsZ0NBQWdDLGdCQUFnQjtBQUNoRCwrQkFBK0IsZUFBZTtBQUM5QyxpQ0FBaUMscUJBQXFCO0FBQ3RELGVBQWUsc0VBQWtCO0FBQ2pDO0FBQ0EsZ0JBQWdCLDREQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBZTtBQUNwQyxDQUFDO0FBQ0Q7QUFDQSx3Q0FBd0MsNEJBQTRCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0REFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0VBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0ZBQXdCO0FBQ3JDO0FBQ0EsYUFBYSxrRkFBd0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyU2l6ZSc7XG5pbXBvcnQgeyBET01SZWN0UmVhZE9ubHkgfSBmcm9tICcuLi9ET01SZWN0UmVhZE9ubHknO1xuaW1wb3J0IHsgaXNTVkcsIGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG5pbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuLi91dGlscy9mcmVlemUnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi4vdXRpbHMvZ2xvYmFsJztcbnZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2Nyb2xsUmVnZXhwID0gL2F1dG98c2Nyb2xsLztcbnZhciB2ZXJ0aWNhbFJlZ2V4cCA9IC9edGJ8dmVydGljYWwvO1xudmFyIElFID0gKC9tc2llfHRyaWRlbnQvaSkudGVzdChnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBwYXJzZURpbWVuc2lvbiA9IGZ1bmN0aW9uIChwaXhlbCkgeyByZXR1cm4gcGFyc2VGbG9hdChwaXhlbCB8fCAnMCcpOyB9O1xudmFyIHNpemUgPSBmdW5jdGlvbiAoaW5saW5lU2l6ZSwgYmxvY2tTaXplLCBzd2l0Y2hTaXplcykge1xuICAgIGlmIChpbmxpbmVTaXplID09PSB2b2lkIDApIHsgaW5saW5lU2l6ZSA9IDA7IH1cbiAgICBpZiAoYmxvY2tTaXplID09PSB2b2lkIDApIHsgYmxvY2tTaXplID0gMDsgfVxuICAgIGlmIChzd2l0Y2hTaXplcyA9PT0gdm9pZCAwKSB7IHN3aXRjaFNpemVzID0gZmFsc2U7IH1cbiAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyU2l6ZSgoc3dpdGNoU2l6ZXMgPyBibG9ja1NpemUgOiBpbmxpbmVTaXplKSB8fCAwLCAoc3dpdGNoU2l6ZXMgPyBpbmxpbmVTaXplIDogYmxvY2tTaXplKSB8fCAwKTtcbn07XG52YXIgemVyb0JveGVzID0gZnJlZXplKHtcbiAgICBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgYm9yZGVyQm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKCksXG4gICAgY29udGVudFJlY3Q6IG5ldyBET01SZWN0UmVhZE9ubHkoMCwgMCwgMCwgMClcbn0pO1xudmFyIGNhbGN1bGF0ZUJveFNpemVzID0gZnVuY3Rpb24gKHRhcmdldCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgaWYgKGZvcmNlUmVjYWxjdWxhdGlvbiA9PT0gdm9pZCAwKSB7IGZvcmNlUmVjYWxjdWxhdGlvbiA9IGZhbHNlOyB9XG4gICAgaWYgKGNhY2hlLmhhcyh0YXJnZXQpICYmICFmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldCh0YXJnZXQpO1xuICAgIH1cbiAgICBpZiAoaXNIaWRkZW4odGFyZ2V0KSkge1xuICAgICAgICBjYWNoZS5zZXQodGFyZ2V0LCB6ZXJvQm94ZXMpO1xuICAgICAgICByZXR1cm4gemVyb0JveGVzO1xuICAgIH1cbiAgICB2YXIgY3MgPSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gICAgdmFyIHN2ZyA9IGlzU1ZHKHRhcmdldCkgJiYgdGFyZ2V0Lm93bmVyU1ZHRWxlbWVudCAmJiB0YXJnZXQuZ2V0QkJveCgpO1xuICAgIHZhciByZW1vdmVQYWRkaW5nID0gIUlFICYmIGNzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnO1xuICAgIHZhciBzd2l0Y2hTaXplcyA9IHZlcnRpY2FsUmVnZXhwLnRlc3QoY3Mud3JpdGluZ01vZGUgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxWZXJ0aWNhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1kgfHwgJycpO1xuICAgIHZhciBjYW5TY3JvbGxIb3Jpem9udGFsbHkgPSAhc3ZnICYmIHNjcm9sbFJlZ2V4cC50ZXN0KGNzLm92ZXJmbG93WCB8fCAnJyk7XG4gICAgdmFyIHBhZGRpbmdUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1RvcCk7XG4gICAgdmFyIHBhZGRpbmdSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nUmlnaHQpO1xuICAgIHZhciBwYWRkaW5nQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdCb3R0b20pO1xuICAgIHZhciBwYWRkaW5nTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nTGVmdCk7XG4gICAgdmFyIGJvcmRlclRvcCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJUb3BXaWR0aCk7XG4gICAgdmFyIGJvcmRlclJpZ2h0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlclJpZ2h0V2lkdGgpO1xuICAgIHZhciBib3JkZXJCb3R0b20gPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgIHZhciBib3JkZXJMZWZ0ID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgdmFyIGhvcml6b250YWxQYWRkaW5nID0gcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsUGFkZGluZyA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsQm9yZGVyQXJlYSA9IGJvcmRlckxlZnQgKyBib3JkZXJSaWdodDtcbiAgICB2YXIgdmVydGljYWxCb3JkZXJBcmVhID0gYm9yZGVyVG9wICsgYm9yZGVyQm90dG9tO1xuICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbEhvcml6b250YWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0SGVpZ2h0IC0gdmVydGljYWxCb3JkZXJBcmVhIC0gdGFyZ2V0LmNsaWVudEhlaWdodDtcbiAgICB2YXIgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgPSAhY2FuU2Nyb2xsVmVydGljYWxseSA/IDAgOiB0YXJnZXQub2Zmc2V0V2lkdGggLSBob3Jpem9udGFsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICB2YXIgd2lkdGhSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gaG9yaXpvbnRhbFBhZGRpbmcgKyBob3Jpem9udGFsQm9yZGVyQXJlYSA6IDA7XG4gICAgdmFyIGhlaWdodFJlZHVjdGlvbiA9IHJlbW92ZVBhZGRpbmcgPyB2ZXJ0aWNhbFBhZGRpbmcgKyB2ZXJ0aWNhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBjb250ZW50V2lkdGggPSBzdmcgPyBzdmcud2lkdGggOiBwYXJzZURpbWVuc2lvbihjcy53aWR0aCkgLSB3aWR0aFJlZHVjdGlvbiAtIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBjb250ZW50SGVpZ2h0ID0gc3ZnID8gc3ZnLmhlaWdodCA6IHBhcnNlRGltZW5zaW9uKGNzLmhlaWdodCkgLSBoZWlnaHRSZWR1Y3Rpb24gLSBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzO1xuICAgIHZhciBib3JkZXJCb3hXaWR0aCA9IGNvbnRlbnRXaWR0aCArIGhvcml6b250YWxQYWRkaW5nICsgdmVydGljYWxTY3JvbGxiYXJUaGlja25lc3MgKyBob3Jpem9udGFsQm9yZGVyQXJlYTtcbiAgICB2YXIgYm9yZGVyQm94SGVpZ2h0ID0gY29udGVudEhlaWdodCArIHZlcnRpY2FsUGFkZGluZyArIGhvcml6b250YWxTY3JvbGxiYXJUaGlja25lc3MgKyB2ZXJ0aWNhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJveGVzID0gZnJlZXplKHtcbiAgICAgICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZShNYXRoLnJvdW5kKGNvbnRlbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8pLCBNYXRoLnJvdW5kKGNvbnRlbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvKSwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBib3JkZXJCb3hTaXplOiBzaXplKGJvcmRlckJveFdpZHRoLCBib3JkZXJCb3hIZWlnaHQsIHN3aXRjaFNpemVzKSxcbiAgICAgICAgY29udGVudEJveFNpemU6IHNpemUoY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpXG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KHRhcmdldCwgYm94ZXMpO1xuICAgIHJldHVybiBib3hlcztcbn07XG52YXIgY2FsY3VsYXRlQm94U2l6ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9ic2VydmVkQm94LCBmb3JjZVJlY2FsY3VsYXRpb24pIHtcbiAgICB2YXIgX2EgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbiksIGJvcmRlckJveFNpemUgPSBfYS5ib3JkZXJCb3hTaXplLCBjb250ZW50Qm94U2l6ZSA9IF9hLmNvbnRlbnRCb3hTaXplLCBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gX2EuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICBzd2l0Y2ggKG9ic2VydmVkQm94KSB7XG4gICAgICAgIGNhc2UgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkRFVklDRV9QSVhFTF9DT05URU5UX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5CT1JERVJfQk9YOlxuICAgICAgICAgICAgcmV0dXJuIGJvcmRlckJveFNpemU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveFNpemU7XG4gICAgfVxufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZUJveFNpemUsIGNhbGN1bGF0ZUJveFNpemVzIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/*! exports provided: calculateDepthForNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateDepthForNode\", function() { return calculateDepthForNode; });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if (Object(_utils_element__WEBPACK_IMPORTED_MODULE_0__[\"isHidden\"])(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanM/YzkzMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBNEM7QUFDNUM7QUFDQSxRQUFRLCtEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2NhbGN1bGF0ZURlcHRoRm9yTm9kZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSGlkZGVuIH0gZnJvbSAnLi4vdXRpbHMvZWxlbWVudCc7XG52YXIgY2FsY3VsYXRlRGVwdGhGb3JOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoaXNIaWRkZW4obm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBkZXB0aCArPSAxO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoO1xufTtcbmV4cG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/*! exports provided: deliverResizeLoopError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deliverResizeLoopError\", function() { return deliverResizeLoopError; });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yLmpzP2MyZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/*! exports provided: gatherActiveObservationsAtDepth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gatherActiveObservationsAtDepth\", function() { return gatherActiveObservationsAtDepth; });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__[\"resizeObservers\"].forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (Object(_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__[\"calculateDepthForNode\"])(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzPzQ1YjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkQ7QUFDSztBQUNoRTtBQUNBLElBQUksc0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0ZBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDMkMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG52YXIgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCA9IGZ1bmN0aW9uIChkZXB0aCkge1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnNwbGljZSgwLCByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5vYnNlcnZhdGlvblRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICBpZiAob3QuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KSA+IGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLmFjdGl2ZVRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/*! exports provided: hasActiveObservations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasActiveObservations\", function() { return hasActiveObservations; });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__[\"resizeObservers\"].some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMuanM/ZGRhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBMkQ7QUFDM0Q7QUFDQSxXQUFXLHNFQUFlLHFCQUFxQixvQ0FBb0MsRUFBRTtBQUNyRjtBQUNpQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc0FjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc0FjdGl2ZU9ic2VydmF0aW9ucyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/*! exports provided: hasSkippedObservations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasSkippedObservations\", function() { return hasSkippedObservations; });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__[\"resizeObservers\"].some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zLmpzP2MxMGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyxzRUFBZSxxQkFBcUIscUNBQXFDLEVBQUU7QUFDdEY7QUFDa0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXJzLnNvbWUoZnVuY3Rpb24gKHJvKSB7IHJldHVybiByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/*! exports provided: ResizeObserver, ResizeObserverEntry, ResizeObserverSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserver\", function() { return _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__[\"ResizeObserver\"]; });\n\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverEntry\", function() { return _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__[\"ResizeObserverEntry\"]; });\n\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResizeObserverSize\", function() { return _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__[\"ResizeObserverSize\"]; });\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvZXhwb3J0cy9yZXNpemUtb2JzZXJ2ZXIuanM/MWQxZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFtRDtBQUNVO0FBQ0YiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlcic7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/*! exports provided: isSVG, isHidden, isElement, isReplacedElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSVG\", function() { return isSVG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isHidden\", function() { return isHidden; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isElement\", function() { return isElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isReplacedElement\", function() { return isReplacedElement; });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZWxlbWVudC5qcz8zY2Q1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwrQkFBK0IsNERBQTREO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZWxlbWVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc1NWRyA9IGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgJ2dldEJCb3gnIGluIHRhcmdldDsgfTtcbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoaXNTVkcodGFyZ2V0KSkge1xuICAgICAgICB2YXIgX2EgPSB0YXJnZXQuZ2V0QkJveCgpLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAhd2lkdGggJiYgIWhlaWdodDtcbiAgICB9XG4gICAgdmFyIF9iID0gdGFyZ2V0LCBvZmZzZXRXaWR0aCA9IF9iLm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBfYi5vZmZzZXRIZWlnaHQ7XG4gICAgcmV0dXJuICEob2Zmc2V0V2lkdGggfHwgb2Zmc2V0SGVpZ2h0IHx8IHRhcmdldC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG59O1xudmFyIGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgc2NvcGUgPSAoX2IgPSAoX2EgPSBvYmopID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVmYXVsdFZpZXc7XG4gICAgcmV0dXJuICEhKHNjb3BlICYmIG9iaiBpbnN0YW5jZW9mIHNjb3BlLkVsZW1lbnQpO1xufTtcbnZhciBpc1JlcGxhY2VkRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKHRhcmdldC50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ0lOUFVUJzpcbiAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdWSURFTyc6XG4gICAgICAgIGNhc2UgJ0FVRElPJzpcbiAgICAgICAgY2FzZSAnRU1CRUQnOlxuICAgICAgICBjYXNlICdPQkpFQ1QnOlxuICAgICAgICBjYXNlICdDQU5WQVMnOlxuICAgICAgICBjYXNlICdJRlJBTUUnOlxuICAgICAgICBjYXNlICdJTUcnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgeyBpc1NWRywgaXNIaWRkZW4sIGlzRWxlbWVudCwgaXNSZXBsYWNlZEVsZW1lbnQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/element.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/*! exports provided: freeze */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"freeze\", function() { return freeze; });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzP2ZjZjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFPLDZCQUE2QiwyQkFBMkIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgZnJlZXplID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gT2JqZWN0LmZyZWV6ZShvYmopOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/*! exports provided: global */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"global\", function() { return global; });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZ2xvYmFsLmpzP2NiNzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFPIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/global.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/*! exports provided: process */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"process\", function() { return process; });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    Object(_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__[\"gatherActiveObservationsAtDepth\"])(depth);\n    while (Object(_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__[\"hasActiveObservations\"])()) {\n        depth = Object(_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__[\"broadcastActiveObservations\"])();\n        Object(_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__[\"gatherActiveObservationsAtDepth\"])(depth);\n    }\n    if (Object(_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__[\"hasSkippedObservations\"])()) {\n        Object(_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__[\"deliverResizeLoopError\"])();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcHJvY2Vzcy5qcz9kNGMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRFO0FBQ0U7QUFDQTtBQUNVO0FBQ1E7QUFDaEc7QUFDQTtBQUNBLElBQUksbUhBQStCO0FBQ25DLFdBQVcsK0ZBQXFCO0FBQ2hDLGdCQUFnQiwyR0FBMkI7QUFDM0MsUUFBUSxtSEFBK0I7QUFDdkM7QUFDQSxRQUFRLGlHQUFzQjtBQUM5QixRQUFRLGlHQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDbUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfSBmcm9tICcuLi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3InO1xuaW1wb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9IGZyb20gJy4uL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCc7XG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIHdoaWxlIChoYXNBY3RpdmVPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpO1xuICAgICAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB9XG4gICAgaWYgKGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCA+IDA7XG59O1xuZXhwb3J0IHsgcHJvY2VzcyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/process.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/*! exports provided: queueMicroTask */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"queueMicroTask\", function() { return queueMicroTask; });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanM/YTk5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLDBCQUEwQixtREFBbUQsYUFBYSxFQUFFLEVBQUU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsMENBQTBDLGlCQUFpQixFQUFFO0FBQzdELCtCQUErQiw4REFBOEQ7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDMEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRyaWdnZXI7XG52YXIgY2FsbGJhY2tzID0gW107XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2tzLnNwbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoKTsgfSk7IH07XG52YXIgcXVldWVNaWNyb1Rhc2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoIXRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHRvZ2dsZV8xID0gMDtcbiAgICAgICAgdmFyIGVsXzEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHZhciBjb25maWcgPSB7IGNoYXJhY3RlckRhdGE6IHRydWUgfTtcbiAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gbm90aWZ5KCk7IH0pLm9ic2VydmUoZWxfMSwgY29uZmlnKTtcbiAgICAgICAgdHJpZ2dlciA9IGZ1bmN0aW9uICgpIHsgZWxfMS50ZXh0Q29udGVudCA9IFwiXCIgKyAodG9nZ2xlXzEgPyB0b2dnbGVfMS0tIDogdG9nZ2xlXzErKyk7IH07XG4gICAgfVxuICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB0cmlnZ2VyKCk7XG59O1xuZXhwb3J0IHsgcXVldWVNaWNyb1Rhc2sgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/*! exports provided: queueResizeObserver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"queueResizeObserver\", function() { return queueResizeObserver; });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    Object(_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__[\"queueMicroTask\"])(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcz9hMzY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFrRDtBQUNsRDtBQUNBLElBQUksc0VBQWM7QUFDbEI7QUFDQSxLQUFLO0FBQ0w7QUFDK0IiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9IGZyb20gJy4vcXVldWVNaWNyb1Rhc2snO1xudmFyIHF1ZXVlUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICBxdWV1ZU1pY3JvVGFzayhmdW5jdGlvbiBSZXNpemVPYnNlcnZlcigpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBxdWV1ZVJlc2l6ZU9ic2VydmVyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/*! exports provided: resizeObservers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeObservers\", function() { return resizeObservers; });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcmVzaXplT2JzZXJ2ZXJzLmpzP2E4ZTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQzJCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/*! exports provided: scheduler, updateCount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scheduler\", function() { return scheduler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateCount\", function() { return updateCount; });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        Object(_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__[\"queueResizeObserver\"])(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = Object(_process__WEBPACK_IMPORTED_MODULE_0__[\"process\"])();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__[\"global\"].addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__[\"global\"].addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__[\"global\"].removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvc2NoZWR1bGVyLmpzP2IwMDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW9DO0FBQ0Y7QUFDMEI7QUFDNUQ7QUFDQSw4QkFBOEIsbUJBQW1CO0FBQ2pEO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsYUFBYTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5QkFBeUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdCQUF3QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRkFBbUI7QUFDM0I7QUFDQTtBQUNBLHNDQUFzQyx3REFBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdGQUFnRjtBQUM5RywrQkFBK0IsOENBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUSw4Q0FBTSw4Q0FBOEMsRUFBRTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUSw4Q0FBTSxpREFBaUQsRUFBRTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi9nbG9iYWwnO1xuaW1wb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vcXVldWVSZXNpemVPYnNlcnZlcic7XG52YXIgd2F0Y2hpbmcgPSAwO1xudmFyIGlzV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhIXdhdGNoaW5nOyB9O1xudmFyIENBVENIX1BFUklPRCA9IDI1MDtcbnZhciBvYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG52YXIgZXZlbnRzID0gW1xuICAgICdyZXNpemUnLFxuICAgICdsb2FkJyxcbiAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICAna2V5dXAnLFxuICAgICdrZXlkb3duJyxcbiAgICAnbW91c2V1cCcsXG4gICAgJ21vdXNlZG93bicsXG4gICAgJ21vdXNlb3ZlcicsXG4gICAgJ21vdXNlb3V0JyxcbiAgICAnYmx1cicsXG4gICAgJ2ZvY3VzJ1xuXTtcbnZhciB0aW1lID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSAwOyB9XG4gICAgcmV0dXJuIERhdGUubm93KCkgKyB0aW1lb3V0O1xufTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjaGVkdWxlKCk7IH07XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gQ0FUQ0hfUEVSSU9EOyB9XG4gICAgICAgIGlmIChzY2hlZHVsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdW50aWwgPSB0aW1lKHRpbWVvdXQpO1xuICAgICAgICBxdWV1ZVJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50c0hhdmVSZXNpemVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBwcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gdW50aWwgLSB0aW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1dhdGNoaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNIYXZlUmVzaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4oMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bih0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vYnNlcnZlciAmJiBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTsgfTtcbiAgICAgICAgZG9jdW1lbnQuYm9keSA/IGNiKCkgOiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciAmJiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG52YXIgc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcigpO1xudmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAhd2F0Y2hpbmcgJiYgbiA+IDAgJiYgc2NoZWR1bGVyLnN0YXJ0KCk7XG4gICAgd2F0Y2hpbmcgKz0gbjtcbiAgICAhd2F0Y2hpbmcgJiYgc2NoZWR1bGVyLnN0b3AoKTtcbn07XG5leHBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n");

/***/ }),

/***/ "./node_modules/detect-browser/es/index.js":
/*!*************************************************!*\
  !*** ./node_modules/detect-browser/es/index.js ***!
  \*************************************************/
/*! exports provided: BrowserInfo, NodeInfo, SearchBotDeviceInfo, BotInfo, ReactNativeInfo, detect, browserName, parseUserAgent, detectOS, getNodeVersion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrowserInfo\", function() { return BrowserInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NodeInfo\", function() { return NodeInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchBotDeviceInfo\", function() { return SearchBotDeviceInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BotInfo\", function() { return BotInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactNativeInfo\", function() { return ReactNativeInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"detect\", function() { return detect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"browserName\", function() { return browserName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseUserAgent\", function() { return parseUserAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"detectOS\", function() { return detectOS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getNodeVersion\", function() { return getNodeVersion; });\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\n\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\n\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\n\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\n\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\n\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nfunction browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nfunction parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9kZXRlY3QtYnJvd3Nlci9lcy9pbmRleC5qcz83YjQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBc0IsU0FBSSxJQUFJLFNBQUk7QUFDbEMsaURBQWlELFFBQVE7QUFDekQsd0NBQXdDLFFBQVE7QUFDaEQsd0RBQXdELFFBQVE7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDbUI7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUM4QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDa0I7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDMEI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx5REFBeUQsWUFBWTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvZXMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbnZhciBCcm93c2VySW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySW5mbyhuYW1lLCB2ZXJzaW9uLCBvcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMudHlwZSA9ICdicm93c2VyJztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJyb3dzZXJJbmZvIH07XG52YXIgTm9kZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZUluZm8odmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcbiAgICAgICAgdGhpcy5vcyA9IHByb2Nlc3MucGxhdGZvcm07XG4gICAgfVxuICAgIHJldHVybiBOb2RlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBOb2RlSW5mbyB9O1xudmFyIFNlYXJjaEJvdERldmljZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgYm90KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMub3MgPSBvcztcbiAgICAgICAgdGhpcy5ib3QgPSBib3Q7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QtZGV2aWNlJztcbiAgICB9XG4gICAgcmV0dXJuIFNlYXJjaEJvdERldmljZUluZm87XG59KCkpO1xuZXhwb3J0IHsgU2VhcmNoQm90RGV2aWNlSW5mbyB9O1xudmFyIEJvdEluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm90SW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2JvdCc7XG4gICAgICAgIHRoaXMuYm90ID0gdHJ1ZTsgLy8gTk9URTogZGVwcmVjYXRlZCB0ZXN0IG5hbWUgaW5zdGVhZFxuICAgICAgICB0aGlzLm5hbWUgPSAnYm90JztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBCb3RJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJvdEluZm8gfTtcbnZhciBSZWFjdE5hdGl2ZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVhY3ROYXRpdmVJbmZvKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVhY3QtbmF0aXZlJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3ROYXRpdmVJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFJlYWN0TmF0aXZlSW5mbyB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxudmFyIFNFQVJDSEJPWF9VQV9SRUdFWCA9IC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4LztcbnZhciBTRUFSQ0hCT1RfT1NfUkVHRVggPSAvKG51aGt8R29vZ2xlYm90fFlhbW15Ym90fE9wZW5ib3R8U2x1cnB8TVNOQm90fEFza1xcIEplZXZlc1xcL1Rlb21hfGlhX2FyY2hpdmVyKS87XG52YXIgUkVRVUlSRURfVkVSU0lPTl9QQVJUUyA9IDM7XG52YXIgdXNlckFnZW50UnVsZXMgPSBbXG4gICAgWydhb2wnLCAvQU9MU2hpZWxkXFwvKFswLTlcXC5fXSspL10sXG4gICAgWydlZGdlJywgL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UtaW9zJywgL0VkZ2lPU1xcLyhbMC05XFwuX10rKS9dLFxuICAgIFsneWFuZGV4YnJvd3NlcicsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2tha2FvdGFsaycsIC9LQUtBT1RBTEtcXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsnc2Ftc3VuZycsIC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydzaWxrJywgL1xcYlNpbGtcXC8oWzAtOS5fLV0rKVxcYi9dLFxuICAgIFsnbWl1aScsIC9NaXVpQnJvd3NlclxcLyhbMC05XFwuXSspJC9dLFxuICAgIFsnYmVha2VyJywgL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnZWRnZS1jaHJvbWl1bScsIC9FZGdBP1xcLyhbMC05XFwuXSspL10sXG4gICAgW1xuICAgICAgICAnY2hyb21pdW0td2VidmlldycsXG4gICAgICAgIC8oPyFDaHJvbS4qT1BSKXd2XFwpLipDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpLyxcbiAgICBdLFxuICAgIFsnY2hyb21lJywgLyg/IUNocm9tLipPUFIpQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxuICAgIFsncGhhbnRvbWpzJywgL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydjcmlvcycsIC9DcmlPU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydmaXJlZm94JywgL0ZpcmVmb3hcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnZnhpb3MnLCAvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEtbWluaScsIC9PcGVyYSBNaW5pLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ29wZXJhJywgL09wZXJhXFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcbiAgICBbJ29wZXJhJywgL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydpZScsIC9UcmlkZW50XFwvN1xcLjAuKnJ2XFw6KFswLTlcXC5dKykuKlxcKS4qR2Vja28kL10sXG4gICAgWydpZScsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC9dLFxuICAgIFsnaWUnLCAvTVNJRVxccyg3XFwuMCkvXSxcbiAgICBbJ2JiMTAnLCAvQkIxMDtcXHNUb3VjaC4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sXG4gICAgWydhbmRyb2lkJywgL0FuZHJvaWRcXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsnaW9zJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxcbiAgICBbJ3NhZmFyaScsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvXSxcbiAgICBbJ2ZhY2Vib29rJywgL0ZCQVZcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnaW5zdGFncmFtJywgL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3Mtd2VidmlldycsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipNb2JpbGUvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKkdlY2tvXFwpJC9dLFxuICAgIFsnc2VhcmNoYm90JywgU0VBUkNIQk9YX1VBX1JFR0VYXSxcbl07XG52YXIgb3BlcmF0aW5nU3lzdGVtUnVsZXMgPSBbXG4gICAgWydpT1MnLCAvaVAoaG9uZXxvZHxhZCkvXSxcbiAgICBbJ0FuZHJvaWQgT1MnLCAvQW5kcm9pZC9dLFxuICAgIFsnQmxhY2tCZXJyeSBPUycsIC9CbGFja0JlcnJ5fEJCMTAvXSxcbiAgICBbJ1dpbmRvd3MgTW9iaWxlJywgL0lFTW9iaWxlL10sXG4gICAgWydBbWF6b24gT1MnLCAvS2luZGxlL10sXG4gICAgWydXaW5kb3dzIDMuMTEnLCAvV2luMTYvXSxcbiAgICBbJ1dpbmRvd3MgOTUnLCAvKFdpbmRvd3MgOTUpfChXaW45NSl8KFdpbmRvd3NfOTUpL10sXG4gICAgWydXaW5kb3dzIDk4JywgLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sXG4gICAgWydXaW5kb3dzIDIwMDAnLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS9dLFxuICAgIFsnV2luZG93cyBYUCcsIC8oV2luZG93cyBOVCA1LjEpfChXaW5kb3dzIFhQKS9dLFxuICAgIFsnV2luZG93cyBTZXJ2ZXIgMjAwMycsIC8oV2luZG93cyBOVCA1LjIpL10sXG4gICAgWydXaW5kb3dzIFZpc3RhJywgLyhXaW5kb3dzIE5UIDYuMCkvXSxcbiAgICBbJ1dpbmRvd3MgNycsIC8oV2luZG93cyBOVCA2LjEpL10sXG4gICAgWydXaW5kb3dzIDgnLCAvKFdpbmRvd3MgTlQgNi4yKS9dLFxuICAgIFsnV2luZG93cyA4LjEnLCAvKFdpbmRvd3MgTlQgNi4zKS9dLFxuICAgIFsnV2luZG93cyAxMCcsIC8oV2luZG93cyBOVCAxMC4wKS9dLFxuICAgIFsnV2luZG93cyBNRScsIC9XaW5kb3dzIE1FL10sXG4gICAgWydPcGVuIEJTRCcsIC9PcGVuQlNEL10sXG4gICAgWydTdW4gT1MnLCAvU3VuT1MvXSxcbiAgICBbJ0Nocm9tZSBPUycsIC9Dck9TL10sXG4gICAgWydMaW51eCcsIC8oTGludXgpfChYMTEpL10sXG4gICAgWydNYWMgT1MnLCAvKE1hY19Qb3dlclBDKXwoTWFjaW50b3NoKS9dLFxuICAgIFsnUU5YJywgL1FOWC9dLFxuICAgIFsnQmVPUycsIC9CZU9TL10sXG4gICAgWydPUy8yJywgL09TXFwvMi9dLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3QodXNlckFnZW50KSB7XG4gICAgaWYgKCEhdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudCh1c2VyQWdlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgICAgICByZXR1cm4gbmV3IFJlYWN0TmF0aXZlSW5mbygpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Tm9kZVZlcnNpb24oKTtcbn1cbmZ1bmN0aW9uIG1hdGNoVXNlckFnZW50KHVhKSB7XG4gICAgLy8gb3B0ZWQgZm9yIHVzaW5nIHJlZHVjZSBoZXJlIHJhdGhlciB0aGFuIEFycmF5I2ZpcnN0IHdpdGggYSByZWdleC50ZXN0IGNhbGxcbiAgICAvLyB0aGlzIGlzIHByaW1hcmlseSBiZWNhdXNlIHVzaW5nIHRoZSByZWR1Y2Ugd2Ugb25seSBwZXJmb3JtIHRoZSByZWdleFxuICAgIC8vIGV4ZWN1dGlvbiBvbmNlIHJhdGhlciB0aGFuIG9uY2UgZm9yIHRoZSB0ZXN0IGFuZCBmb3IgdGhlIGV4ZWMgYWdhaW4gYmVsb3dcbiAgICAvLyBwcm9iYWJseSBzb21ldGhpbmcgdGhhdCBuZWVkcyB0byBiZSBiZW5jaG1hcmtlZCB0aG91Z2hcbiAgICByZXR1cm4gKHVhICE9PSAnJyAmJlxuICAgICAgICB1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoZWQsIF9hKSB7XG4gICAgICAgICAgICB2YXIgYnJvd3NlciA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1YU1hdGNoID0gcmVnZXguZXhlYyh1YSk7XG4gICAgICAgICAgICByZXR1cm4gISF1YU1hdGNoICYmIFticm93c2VyLCB1YU1hdGNoXTtcbiAgICAgICAgfSwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VyTmFtZSh1YSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hVc2VyQWdlbnQodWEpO1xuICAgIHJldHVybiBkYXRhID8gZGF0YVswXSA6IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVc2VyQWdlbnQodWEpIHtcbiAgICB2YXIgbWF0Y2hlZFJ1bGUgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgaWYgKCFtYXRjaGVkUnVsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBtYXRjaGVkUnVsZVswXSwgbWF0Y2ggPSBtYXRjaGVkUnVsZVsxXTtcbiAgICBpZiAobmFtZSA9PT0gJ3NlYXJjaGJvdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3RJbmZvKCk7XG4gICAgfVxuICAgIHZhciB2ZXJzaW9uUGFydHMgPSBtYXRjaFsxXSAmJiBtYXRjaFsxXS5zcGxpdCgvWy5fXS8pLnNsaWNlKDAsIDMpO1xuICAgIGlmICh2ZXJzaW9uUGFydHMpIHtcbiAgICAgICAgaWYgKHZlcnNpb25QYXJ0cy5sZW5ndGggPCBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTKSB7XG4gICAgICAgICAgICB2ZXJzaW9uUGFydHMgPSBfX3NwcmVhZEFycmF5cyh2ZXJzaW9uUGFydHMsIGNyZWF0ZVZlcnNpb25QYXJ0cyhSRVFVSVJFRF9WRVJTSU9OX1BBUlRTIC0gdmVyc2lvblBhcnRzLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2ZXJzaW9uUGFydHMgPSBbXTtcbiAgICB9XG4gICAgdmFyIHZlcnNpb24gPSB2ZXJzaW9uUGFydHMuam9pbignLicpO1xuICAgIHZhciBvcyA9IGRldGVjdE9TKHVhKTtcbiAgICB2YXIgc2VhcmNoQm90TWF0Y2ggPSBTRUFSQ0hCT1RfT1NfUkVHRVguZXhlYyh1YSk7XG4gICAgaWYgKHNlYXJjaEJvdE1hdGNoICYmIHNlYXJjaEJvdE1hdGNoWzFdKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgc2VhcmNoQm90TWF0Y2hbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJyb3dzZXJJbmZvKG5hbWUsIHZlcnNpb24sIG9zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RPUyh1YSkge1xuICAgIGZvciAodmFyIGlpID0gMCwgY291bnQgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgdmFyIF9hID0gb3BlcmF0aW5nU3lzdGVtUnVsZXNbaWldLCBvcyA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICB2YXIgbWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XG4gICAgdmFyIGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb247XG4gICAgcmV0dXJuIGlzTm9kZSA/IG5ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25QYXJ0cyhjb3VudCkge1xuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgb3V0cHV0LnB1c2goJzAnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/detect-browser/es/index.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanM/ZjI4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/react-is-mounted-hook/lib/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-is-mounted-hook/lib/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar use_is_mounted_1 = __importDefault(__webpack_require__(/*! ./use-is-mounted */ \"./node_modules/react-is-mounted-hook/lib/use-is-mounted.js\"));\nexports.default = use_is_mounted_1.default;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy1tb3VudGVkLWhvb2svbGliL2luZGV4LmpzPzVjOGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRDQUE0QztBQUM1QztBQUNBLDhDQUE4QyxjQUFjO0FBQzVELHVDQUF1QyxtQkFBTyxDQUFDLG9GQUFrQjtBQUNqRTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzLW1vdW50ZWQtaG9vay9saWIvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1c2VfaXNfbW91bnRlZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3VzZS1pcy1tb3VudGVkXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVzZV9pc19tb3VudGVkXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-is-mounted-hook/lib/index.js\n");

/***/ }),

/***/ "./node_modules/react-is-mounted-hook/lib/use-is-mounted.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-is-mounted-hook/lib/use-is-mounted.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __webpack_require__(/*! react */ \"react\");\nfunction useIsMounted() {\n    var ref = react_1.useRef(false);\n    react_1.useEffect(function () {\n        ref.current = true;\n        return function () {\n            ref.current = false;\n        };\n    }, []);\n    return react_1.useCallback(function () { return ref.current; }, [ref]);\n}\nexports.default = useIsMounted;\n//# sourceMappingURL=use-is-mounted.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy1tb3VudGVkLWhvb2svbGliL3VzZS1pcy1tb3VudGVkLmpzPzkzMjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCxjQUFjLG1CQUFPLENBQUMsb0JBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNENBQTRDLG9CQUFvQixFQUFFO0FBQ2xFO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9yZWFjdC1pcy1tb3VudGVkLWhvb2svbGliL3VzZS1pcy1tb3VudGVkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmZ1bmN0aW9uIHVzZUlzTW91bnRlZCgpIHtcbiAgICB2YXIgcmVmID0gcmVhY3RfMS51c2VSZWYoZmFsc2UpO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHJlYWN0XzEudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVmLmN1cnJlbnQ7IH0sIFtyZWZdKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHVzZUlzTW91bnRlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1pcy1tb3VudGVkLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-is-mounted-hook/lib/use-is-mounted.js\n");

/***/ }),

/***/ "./src/cradle.tsx":
/*!************************!*\
  !*** ./src/cradle.tsx ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // cradle.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\n    TODO:\n\n    add scroller name for debugging\n\n    fold shift only happens after delay\n\n    nested horizontal tail boundary is wrong - underlying structure; head bottom boundary is wrong\n\n    for resize, preserve cache for reload\n\n    can't mount error in nested lists\n\n    Debug scrollToItem callback (including setting scrollforward on first action).\n        motion takes place but gets close rather than exact. Position is off by runwaycount\n\n    Make sure item shell triggers are only fired at the leading, not trailing, edge\n\n    Inconsistency in viewportrows, sometimes Math.ceil, sometimes Math.floor\n\n    change height to 0px from auto for spine in vertical\n    \n    update scrollforward logic to take into account rapid opposite scrolling.\n    Use differences in scrollTop?\n\n    ==>> check getShift logic. !scrollforward should select next calculated index\n    to be above the fold if possible.\n\n    QA defend against butterfly getting intersections from opposite scroll direction\n        as the result of a short viewport\n\n    implement sessionid scheme for cell content\n\n    deal with spine being notified by bottom border rather than top\n\n    test ITEM_OBSERVER_THRESHOLD at various levels\n    think through management of items larger than viewport\n\n    Add ITEM_OBSERVER_THRESHOLD to test parameters\n\n    Add show fold to test parameters\n\n */\n\n/*\n    Description\n    -----------\n    The GridSroller provides the illusion of infinite scrolling through the use of a data 'cradle' inside a viewport.\n    The illusion is maintained by synchronizing changes in cradle content with cradle location inside a scrollblock, such\n    that as the scrollblock is moved, the cradle moves oppositely in the scrollblock (to stay visible within the viewport).\n    The scrollblock is sized to approximate the list being viewed, so as to have a scroll thumb size and position which\n    realistically reflects the size of the list being shown.\n\n    The position of the cradle is controlled by a 'spine' which is a 0px height/width (along the medial - ScrollBlock can be\n    verticsl or horizontal). The purpose of the spine is to act as a 'fold', above which cell content expands 'upwards', and\n    below which the cell content expands  'downwards'. GridScroller can be viewed vertically or horizontally. When horizontal,\n    the spine has a 0px width, so that the 'fold' is vertical, and cells expand to the left and right.\n\n    The spine is controlled to always be in the at the leading edge of the leading cellrow of the viewport. Thus\n    in vertical orientation, the spine 'top' css attribute is always equal to the 'scrollTop' position of the scrollblock,\n    plus an adjustment. The adjustment is the result of the alignment of the spine in relation to the top-(or left-)most cell\n    in the viewport (the 'reference' row). The spine can only be placed at the leading edge of the first visible\n    cell in the viewport. Therefore the spine offset from the leading edge of the viewport can be anywhere from minus to\n    plus the length of the leading row. The exact amount depends on where the 'breakpoint' of transition notification is set for\n    cells crossing the viewport threshold (and can be configured). The default of the breakpoint is .5 (half the length of the cell).\n\n    Technically, there are several reference points tracked by the GridScroller. These are:\n        - spineReferenceIndex (the virtual index of the item controlling the location of the spine)\n            The spineReferenceIndex is also used to allocate items above (lower index value) and below (same or higher index value)\n            the fold\n        - cradleReferenceIndex (the virtual index of the item defining the leading bound of the cradle content)\n        - spineOffset (pixels - plus or minus - that the spine is placed in relation to the viewport's leading edge)\n    \n    These reference points are applied to the following structures:\n        - the viewport\n        - the scrollblock\n        - the cradle, consisting of\n            - the spine (contains cradle head and tail)\n            - the head (contains leading items)\n            - the tail (contains trailing items)\n\n    Structure details:\n        the cradle content consists of\n        - the number of rows that are visible in the viewport (according to the default parameters)\n            - this typically includes one partially visible row\n        - the number of runway rows specified in the parameters, times 2 (one et for the head; one for the tail)\n        - the number of items is the number of rows times the 'crosscount' the lateral number of cells.\n        - the last row might consist of fewer items than crosscount, to match the maximum listsize\n        - the cradleRowcount (visible default rows + runwaycount * 2) and viewpointRowcount (visble rows;typicall one partial)\n\n    Item containers:\n        Client cell content is contained in ItemShell's, which are configured according to GridScroller's input parameters.\n        The ItemCell's are in turn contained in CSS grid structures. There are two grid structures - one in the cradle head,\n        and one in the cradle tail. Each grid structure is allowed uniform padding and gaps - identical between the two.\n\n    Overscroll handling:\n        Owing to the weight of the code, and potential rapidity of scrolling, there is an overscroll protocol.\n        if the overscroll is such that part of the cradle is still within the viewport boundaries, then the overscroll\n        is calculated as the number of cell rows that would fit (completely or partially) in the space between the edge of\n        the cradle that is receding from a viewport edge.\n\n        If the overshoot is such that the cradle has entirely passed out of the viewport, the GridScroller goes into 'Repositoining'\n        mode, meaning that it tracks relative location of the spine edge of the viewport, and repaints the cradle accroding to\n        this position when the scrolling stops.\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar react_is_mounted_hook_1 = __importDefault(__webpack_require__(/*! react-is-mounted-hook */ \"./node_modules/react-is-mounted-hook/lib/index.js\")); // import ResizeObserverPolyfill from 'resize-observer-polyfill'\n\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar portalmanager_1 = __webpack_require__(/*! ./portalmanager */ \"./src/portalmanager.tsx\");\n\nvar LocalResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver;\nvar ITEM_OBSERVER_THRESHOLD = 0;\n\nvar cradlefunctions_1 = __webpack_require__(/*! ./cradlefunctions */ \"./src/cradlefunctions.tsx\");\n\nvar scrolltracker_1 = __importDefault(__webpack_require__(/*! ./scrolltracker */ \"./src/scrolltracker.tsx\"));\n\nvar SCROLL_TIMEOUT_FOR_ONAFTERSCROLL = 200;\n\nvar Cradle = function Cradle(_a) {\n  var gap = _a.gap,\n      padding = _a.padding,\n      // runwaylength,\n  runwaycount = _a.runwaycount,\n      listsize = _a.listsize,\n      indexOffset = _a.indexOffset,\n      orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      getItem = _a.getItem,\n      placeholder = _a.placeholder,\n      functions = _a.functions,\n      styles = _a.styles,\n      scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID; // functions and styles handled separately\n\n  var cradlePropsRef = react_1.useRef(null); // access by closures\n\n  cradlePropsRef.current = react_1.useMemo(function () {\n    return {\n      gap: gap,\n      padding: padding,\n      // runwaylength,\n      runwaycount: runwaycount,\n      listsize: listsize,\n      indexOffset: indexOffset,\n      orientation: orientation,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      getItem: getItem,\n      placeholder: placeholder,\n      scrollerName: scrollerName,\n      scrollerID: scrollerID\n    };\n  }, [gap, padding, // runwaylength,\n  runwaycount, listsize, indexOffset, orientation, cellHeight, cellWidth, getItem, placeholder]); // =============================================================================================\n  // --------------------------------------[ INITIALIZATION ]-------------------------------------\n  // =============================================================================================\n\n  var contentmanager = react_1.useContext(portalmanager_1.PortalContext); // -----------------------------------------------------------------------\n  // -----------------------------------[ utilites ]------------------------\n\n  var contentManager = react_1.useContext(portalmanager_1.PortalContext);\n  var isMounted = react_is_mounted_hook_1[\"default\"]();\n  var referenceIndexCallbackRef = react_1.useRef(functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback);\n  var itemObserverRef = react_1.useRef(null); // IntersectionObserver\n\n  var cradleIntersectionObserverRef = react_1.useRef(null);\n  var cradleResizeObserverRef = react_1.useRef(null); // -----------------------------------------------------------------------\n  // ---------------------------[ context data ]----------------------------\n\n  var viewportData = react_1.useContext(viewport_1.ViewportContext);\n  var viewportDataRef = react_1.useRef(null);\n  viewportDataRef.current = viewportData;\n\n  var _b = react_1.useState('setup'),\n      cradleState = _b[0],\n      saveCradleState = _b[1];\n\n  var cradleStateRef = react_1.useRef(null); // access by closures\n\n  cradleStateRef.current = cradleState; // console.log('scrollerID, cradleState', scrollerID, cradleState)\n  // -----------------------------------------------------------------------\n  // -------------------------[ control flags ]-----------------\n\n  var controlFlagsRef = react_1.useRef({\n    pauseItemObserver: true,\n    pauseCradleIntersectionObserver: true,\n    pauseCradleResizeObserver: true,\n    pauseScrollingEffects: true,\n    isTailCradleInView: true,\n    isHeadCradleInView: true,\n    isCradleInView: true\n  }); // ------------------------------------------------------------------------\n  // -----------------------[ initialization effects ]-----------------------\n  //initialize host functions properties\n\n  react_1.useEffect(function () {\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('scrollToItem')) {\n      functions.scrollToItem = scrollToItem;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('getVisibleList')) {\n      functions.getVisibleList = getVisibleList;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('getContentList')) {\n      functions.getContentList = getContentList;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('reload')) {\n      functions.reload = reload;\n    }\n\n    referenceIndexCallbackRef.current = functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback;\n  }, [functions]); // initialize window scroll listener\n\n  react_1.useEffect(function () {\n    var viewportData = viewportDataRef.current;\n    viewportData.elementref.current.addEventListener('scroll', onScroll);\n    contentManager.createScrollerPortalRepository(cradlePropsRef.current.scrollerID);\n    return function () {\n      // console.log('unmounting cradle:scrollerName, portals',\n      //     scrollerName,cradleContentRef.current.portalData)\n      viewportData.elementref.current && viewportData.elementref.current.removeEventListener('scroll', onScroll);\n    };\n  }, []); // -----------------------------------------------------------------------\n  // -----------------------[ reconfiguration effects ]---------------------\n  // trigger resizing based on viewport state\n\n  react_1.useEffect(function () {\n    // console.log('viewportData.isResizing', viewportData.isResizing)\n    if (cradleStateRef.current == 'setup') return;\n\n    if (viewportData.isResizing) {\n      callingReferenceIndexDataRef.current = __assign({}, stableReferenceIndexDataRef.current); // console.log('calling resizing with', callingReferenceIndexDataRef.current)\n\n      controlFlagsRef.current.pauseItemObserver = true;\n      controlFlagsRef.current.pauseCradleIntersectionObserver = true;\n      controlFlagsRef.current.pauseCradleResizeObserver = true;\n      controlFlagsRef.current.pauseScrollingEffects = true;\n      saveCradleState('resizing');\n    } // complete resizing mode\n\n\n    if (!viewportData.isResizing && cradleStateRef.current == 'resizing') {\n      saveCradleState('resize');\n    }\n  }, [viewportData.isResizing]); // reload for changed parameters\n\n  react_1.useEffect(function () {\n    if (cradleStateRef.current == 'setup') return; // let spineoffset\n    // if (cradlePropsRef.current.orientation == 'vertical') {\n    //     spineoffset = spineCradleElementRef.current.offsetTop - viewportDataRef.current.elementref.current.scrollTop\n    // } else {\n    //     spineoffset = spineCradleElementRef.current.offsetLeft - viewportDataRef.current.elementref.current.scrollLeft\n    // }\n\n    callingReferenceIndexDataRef.current = __assign({}, stableReferenceIndexDataRef.current);\n    controlFlagsRef.current.pauseItemObserver = true; // pauseCradleIntersectionObserverRef.current = true\n\n    controlFlagsRef.current.pauseScrollingEffects = true;\n    saveCradleState('reload');\n  }, [listsize, cellHeight, cellWidth, gap, padding]); // trigger pivot on change in orientation\n\n  react_1.useEffect(function () {\n    if (cradleStateRef.current != 'setup') {\n      callingReferenceIndexDataRef.current = __assign({}, stableReferenceIndexDataRef.current); // let orientation = cradlePropsRef.current.orientation\n      // get previous ration\n\n      var previousCellPixelLength = orientation == 'vertical' ? cradlePropsRef.current.cellWidth : cradlePropsRef.current.cellHeight;\n      var previousSpineOffset = callingReferenceIndexDataRef.current.spineoffset;\n      var previousratio = previousSpineOffset / previousCellPixelLength;\n      var currentCellPixelLength = orientation == 'vertical' ? cradlePropsRef.current.cellHeight : cradlePropsRef.current.cellWidth;\n      var currentSpineOffset = previousratio * currentCellPixelLength; // scrollReferenceIndexDataRef.current.spineoffset = \n\n      callingReferenceIndexDataRef.current.spineoffset = Math.round(currentSpineOffset);\n      controlFlagsRef.current.pauseItemObserver = true; // pauseCradleIntersectionObserverRef.current = true\n\n      controlFlagsRef.current.pauseScrollingEffects = true;\n      saveCradleState('pivot');\n    }\n\n    var cradleContent = cradleContentRef.current;\n    cradleContent.headModel = [];\n    cradleContent.tailModel = [];\n    cradleContent.headView = [];\n    cradleContent.tailView = [];\n  }, [orientation]); // =======================================================================\n  // -------------------------[ OPERATION ]---------------------------------\n  // =======================================================================\n  // -----------------------------------------------------------------------\n  // ------------------------[ session data ]-------------------------------\n  // ------------------ current location -- first tail visible item -------------\n\n  var instanceIdCounterRef = react_1.useRef(0);\n  var instanceIdMapRef = react_1.useRef(new Map());\n  var scrollReferenceIndexDataRef = react_1.useRef({\n    index: Math.min(indexOffset, listsize - 1) || 0,\n    spineoffset: padding\n  }); // access by closures\n  // set by onScroll at the end of scroll sessions\n\n  var stableReferenceIndexDataRef = react_1.useRef(scrollReferenceIndexDataRef.current); // anticipate calling of operation which requires ReferenceIndex data\n\n  var callingReferenceIndexDataRef = react_1.useRef(stableReferenceIndexDataRef.current); // anticipate reposition\n  // -------------------------------[ cradle data ]-------------------------------------\n  // TODO: create a datamodel object for this?\n  // cradle butterfly html components\n\n  var headCradleElementRef = react_1.useRef(null);\n  var tailCradleElementRef = react_1.useRef(null);\n  var spineCradleElementRef = react_1.useRef(null);\n  var cradleElementsRef = react_1.useRef({\n    head: headCradleElementRef,\n    tail: tailCradleElementRef,\n    spine: spineCradleElementRef\n  });\n  react_1.useEffect(function () {\n    if (scrollerID == 0 || !spineCradleElementRef.current) return;\n    var parentscrollerid;\n    var parentindex;\n    var el = spineCradleElementRef.current;\n\n    while (el) {\n      // console.log('dataset',el.dataset, el)\n      if (el.dataset && el.dataset.type == 'portalcontainer') {\n        parentindex = parseInt(el.dataset.index);\n        parentscrollerid = parseInt(el.dataset.scrollerid);\n        break;\n      } else {\n        el = el.parentElement;\n      }\n    }\n\n    if (!el) {\n      console.log('ERROR: parent portalcontainer not found');\n      return;\n    }\n\n    portalRef.current = contentmanager.getPortalListItem(parentscrollerid, parentindex); // console.log('viewport of scrollerID has parentscrollerid and parentindex for portal', \n    //     scrollerID, parentscrollerid, parentindex,portalRef.current)\n    // portalIndexRef.current = el.dataset.index\n  }, [spineCradleElementRef.current]);\n  var cradleContentRef = react_1.useRef({\n    cradleModel: null,\n    headModel: null,\n    tailModel: null,\n    headView: [],\n    tailView: [] // portalData: new Map()\n\n  }); // item elements cache...\n\n  var itemElementsRef = react_1.useRef(new Map()); // items register their element\n  // ------------------------------[ cradle configuration ]---------------------------\n\n  var viewportDimensions = viewportData.viewportDimensions;\n  var viewportheight = viewportDimensions.height,\n      viewportwidth = viewportDimensions.width;\n  var crosscount = react_1.useMemo(function () {\n    var crosscount;\n    var size = orientation == 'horizontal' ? viewportheight : viewportwidth;\n    var crossLength = orientation == 'horizontal' ? cellHeight : cellWidth;\n    var lengthforcalc = size - padding * 2 + gap; // length of viewport\n\n    var tilelengthforcalc = crossLength + gap;\n    tilelengthforcalc = Math.min(tilelengthforcalc, lengthforcalc); // result cannot be less than 1\n\n    crosscount = Math.floor(lengthforcalc / tilelengthforcalc);\n    return crosscount;\n  }, [orientation, cellWidth, cellHeight, gap, padding, viewportheight, viewportwidth]); // const crosscountRef = useRef(crosscount) // for easy reference by observer\n  // crosscountRef.current = crosscount // available for observer closure\n\n  var _c = react_1.useMemo(function () {\n    var viewportLength, cellLength;\n\n    if (orientation == 'vertical') {\n      viewportLength = viewportheight;\n      cellLength = cellHeight;\n    } else {\n      viewportLength = viewportwidth;\n      cellLength = cellWidth;\n    }\n\n    cellLength += gap;\n    var viewportrowcount = Math.ceil(viewportLength / cellLength);\n    var cradleRowcount = viewportrowcount + runwaycount * 2;\n    var itemcount = cradleRowcount * crosscount;\n\n    if (itemcount > listsize) {\n      itemcount = listsize;\n      cradleRowcount = Math.ceil(itemcount / crosscount);\n    }\n\n    return [cradleRowcount, viewportrowcount];\n  }, [orientation, cellWidth, cellHeight, gap, listsize, // padding,\n  viewportheight, viewportwidth, runwaycount, crosscount]),\n      cradleRowcount = _c[0],\n      viewportRowcount = _c[1]; // const cradleRowcountRef = useRef(null)\n  // cradleRowcountRef.current = cradleRowcount\n  // const viewportRowcountRef = useRef(null)\n  // viewportRowcountRef.current = viewportRowcount\n\n\n  var cradleConfigRef = react_1.useRef({\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    itemObserverThreshold: ITEM_OBSERVER_THRESHOLD,\n    listRowcount: Math.ceil(listsize / crosscount)\n  });\n  cradleConfigRef.current = {\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    itemObserverThreshold: ITEM_OBSERVER_THRESHOLD,\n    listRowcount: Math.ceil(listsize / crosscount)\n  }; // ----------------------------------[ cradle default styles]----------------------------------\n  // base styles\n\n  var cradleHeadStyle = react_1.useMemo(function () {\n    var bottom, left, top, right;\n\n    if (orientation == 'vertical') {\n      bottom = 0;\n      left = 0;\n      right = 0;\n      top = 'auto';\n    } else {\n      bottom = 0;\n      left = 'auto';\n      right = 0;\n      top = 0;\n    }\n\n    return __assign(__assign({}, {\n      position: 'absolute',\n      backgroundColor: 'blue',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      justifyContent: 'start',\n      alignContent: 'start',\n      boxSizing: 'border-box',\n      bottom: bottom,\n      left: left,\n      right: right,\n      top: top\n    }), styles === null || styles === void 0 ? void 0 : styles.cradle);\n  }, [gap, padding, styles, orientation]);\n  var cradleTailStyle = react_1.useMemo(function () {\n    var bottom, left, top, right;\n\n    if (orientation == 'vertical') {\n      bottom = 'auto';\n      left = 0;\n      right = 0;\n      top = 0;\n    } else {\n      bottom = 0;\n      left = 0;\n      right = 'auto';\n      top = 0;\n    }\n\n    return __assign(__assign({}, {\n      position: 'absolute',\n      backgroundColor: 'blue',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      justifyContent: 'start',\n      alignContent: 'start',\n      boxSizing: 'border-box',\n      top: top,\n      left: left,\n      right: right,\n      bottom: bottom\n    }), styles === null || styles === void 0 ? void 0 : styles.cradle);\n  }, [gap, padding, styles, orientation]); // redundant\n\n  var cradleSpineStyle = react_1.useMemo(function () {\n    var styleobj = {\n      position: 'relative'\n    };\n    return styleobj;\n  }, [padding, orientation]); // enhanced styles for grid\n\n  var _d = react_1.useMemo(function () {\n    // merge base style and revisions (by observer)\n    var headCradleStyles = __assign({}, cradleHeadStyle);\n\n    var tailCradleStyles = __assign({}, cradleTailStyle);\n\n    var _a = cradlefunctions_1.setCradleGridStyles({\n      orientation: orientation,\n      headCradleStyles: headCradleStyles,\n      tailCradleStyles: tailCradleStyles,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      crosscount: crosscount,\n      viewportheight: viewportheight,\n      viewportwidth: viewportwidth\n    }),\n        headstyles = _a[0],\n        tailstyles = _a[1];\n\n    var top, left, width, height;\n\n    if (orientation == 'vertical') {\n      top = padding + 'px';\n      left = 'auto';\n      width = '100%';\n      height = 'auto';\n    } else {\n      top = 'auto';\n      left = padding + 'px';\n      width = 0;\n      height = '100%';\n    }\n\n    var spinestyle = {\n      position: 'relative',\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n    return [headstyles, tailstyles, spinestyle];\n  }, [orientation, cellHeight, cellWidth, gap, padding, viewportheight, viewportwidth, crosscount]),\n      headstyle = _d[0],\n      tailstyle = _d[1],\n      spinestyle = _d[2];\n\n  cradleHeadStyle = headstyle;\n  cradleTailStyle = tailstyle;\n  cradleSpineStyle = spinestyle; // =================================================================================\n  // -------------------------[ IntersectionObserver support]-------------------------\n  // =================================================================================\n\n  /*\n      There are two interection observers, one for the cradle, and another for itemShells;\n          both against the viewport.\n      There is also a resize observer for the cradle wings, to respond to size changes of\n          variable cells.\n  */\n  // --------------------------[ cradle observers ]-----------------------------------\n  // set up cradle resizeobserver\n\n  react_1.useEffect(function () {\n    // ResizeObserver\n    cradleResizeObserverRef.current = new LocalResizeObserver(cradleresizeobservercallback);\n    var cradleElements = cradleElementsRef.current;\n    cradleResizeObserverRef.current.observe(cradleElements.head.current);\n    cradleResizeObserverRef.current.observe(cradleElements.tail.current);\n    return function () {\n      cradleResizeObserverRef.current.disconnect();\n    };\n  }, []);\n  var cradleresizeobservercallback = react_1.useCallback(function (entries) {\n    if (controlFlagsRef.current.pauseCradleResizeObserver) return;\n  }, []); // this sets up an IntersectionObserver of the cradle against the viewport. When the\n  // cradle goes out of the observer scope, the \"repositioning\" cradle state is triggerd.\n\n  react_1.useEffect(function () {\n    var viewportData = viewportDataRef.current; // IntersectionObserver\n\n    cradleIntersectionObserverRef.current = new IntersectionObserver(cradleintersectionobservercallback, {\n      root: viewportData.elementref.current,\n      threshold: 0\n    });\n    var cradleElements = cradleElementsRef.current;\n    cradleIntersectionObserverRef.current.observe(cradleElements.head.current);\n    cradleIntersectionObserverRef.current.observe(cradleElements.tail.current);\n    return function () {\n      cradleIntersectionObserverRef.current.disconnect();\n    };\n  }, []);\n  var cradleintersectionobservercallback = react_1.useCallback(function (entries) {\n    var controlFlags = controlFlagsRef.current;\n    if (controlFlags.pauseCradleIntersectionObserver) return;\n\n    for (var i = 0; i < entries.length; i++) {\n      var entry = entries[i];\n\n      if (entry.target.dataset.name == 'head') {\n        controlFlags.isHeadCradleInView = entry.isIntersecting;\n      } else {\n        controlFlags.isTailCradleInView = entry.isIntersecting;\n      }\n    }\n\n    controlFlags.isCradleInView = controlFlags.isHeadCradleInView || controlFlags.isTailCradleInView;\n\n    if (!controlFlags.isCradleInView) {\n      // console.log('inside cradleintersectionobservercallback portalRef',portalRef)\n      var cradleState_1 = cradleStateRef.current;\n\n      if (!viewportDataRef.current.isResizing && !(cradleState_1 == 'resize') && !(cradleState_1 == 'repositioning') && !(cradleState_1 == 'reposition') && !(cradleState_1 == 'pivot') && !(portalRef.current && portalRef.current.reparenting)) {\n        var rect = viewportDataRef.current.elementref.current.getBoundingClientRect();\n        var top_1 = rect.top,\n            right = rect.right,\n            bottom = rect.bottom,\n            left = rect.left;\n        var width = right - left,\n            height = bottom - top_1;\n        viewportDataRef.current.viewportDimensions = {\n          top: top_1,\n          right: right,\n          bottom: bottom,\n          left: left,\n          width: width,\n          height: height\n        }; // update for scrolltracker\n\n        controlFlags.pauseItemObserver = true; // pauseCradleIntersectionObserverRef.current = true\n        // console.log('REPOSITIONING scrollerID', scrollerID, portalRef.current)\n\n        var cradleContent_1 = cradleContentRef.current;\n        cradleContent_1.headModel = [];\n        cradleContent_1.tailModel = [];\n        cradleContent_1.headView = [];\n        cradleContent_1.tailView = [];\n        saveCradleState('repositioning');\n      }\n    }\n  }, []); // --------------------------[ item shell observer ]-----------------------------\n\n  /*\n      The cradle content is driven by notifications from the IntersectionObserver.\n      - as the user scrolls the cradle, which has a runwaycount at both the leading\n          and trailing edges, itemShells scroll into or out of the scope of the observer\n          (defined by the width/height of the viewport + the lengths of the runways). The observer\n          notifies the app (through itemobservercallback() below) at the crossings of the itemshells\n          of the defined observer cradle boundaries.\n           The no-longer-intersecting notifications trigger dropping of that number of affected items from\n          the cradle contentlist. The dropping of items from the trailing end of the content list\n          triggers the addition of an equal number of items at the leading edge of the cradle content.\n           Technically, the opposite end position spec is set (top or left depending on orientation),\n          and the matching end position spec is set to 'auto' when items are added. This causes items to be\n          \"squeezed\" into the leading or trailing ends of the ui content (out of view) as appropriate.\n           There are exceptions for setup and edge cases.\n  */\n  // change orientation\n\n  react_1.useEffect(function () {\n    if (itemObserverRef.current) itemObserverRef.current.disconnect();\n    itemObserverRef.current = new IntersectionObserver(itemobservercallback, {\n      root: viewportDataRef.current.elementref.current,\n      threshold: cradleConfigRef.current.itemObserverThreshold\n    });\n    return function () {\n      itemObserverRef.current.disconnect();\n    };\n  }, [orientation]); // the async callback from IntersectionObserver.\n\n  var itemobservercallback = react_1.useCallback(function (entries) {\n    var movedentries = [];\n\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n      var entry = entries_1[_i];\n\n      if (entry.target.dataset.initialized) {\n        movedentries.push(entry);\n      } else {\n        entry.target.dataset.initialized = true;\n      }\n    }\n\n    if (controlFlagsRef.current.pauseItemObserver) {\n      return;\n    } // isMounted = useIsMounted()\n\n\n    isMounted() && updateCradleContent(movedentries);\n  }, []);\n  var previousScrollForwardRef = react_1.useRef(undefined);\n\n  var updateCradleContent = function updateCradleContent(entries, source) {\n    // console.log('updating cradle content: entries.length, source', entries.length, source)\n    if (source === void 0) {\n      source = 'notifications';\n    }\n\n    var viewportData = viewportDataRef.current;\n    var viewportElement = viewportData.elementref.current;\n    var cradleProps = cradlePropsRef.current;\n    var scrollOffset;\n\n    if (cradleProps.orientation == 'vertical') {\n      scrollOffset = viewportElement.scrollTop;\n    } else {\n      scrollOffset = viewportElement.scrollLeft;\n    }\n\n    if (scrollOffset < 0) {\n      // for Safari elastic bounce at top of scroll\n      return;\n    } // console.log('updateCradleContent scrollOffset', scrollOffset)\n    // ----------------------------[ 1. initialize ]----------------------------\n\n\n    var scrollPositions = scrollPositionsRef.current;\n    var scrollforward;\n\n    if (scrollPositions.current == scrollPositions.previous) {\n      // edge case \n      scrollforward = previousScrollForwardRef.current;\n    } else {\n      scrollforward = scrollPositions.current > scrollPositions.previous;\n      previousScrollForwardRef.current = scrollforward;\n    }\n\n    if (scrollforward === undefined) {\n      return; // init call\n    }\n\n    var cradleElements = cradleElementsRef.current;\n    var cradleContent = cradleContentRef.current;\n    var cradleConfig = cradleConfigRef.current;\n    var itemElements = itemElementsRef.current;\n    var modelcontentlist = cradleContent.cradleModel;\n    var cradleReferenceIndex = modelcontentlist[0].props.index; // let cradleConfig = cradleConfigRef.current\n    // --------------------[ 2. filter intersections list ]-----------------------\n    // filter out inapplicable intersection entries\n    // we're only interested in intersections proximal to the spine\n\n    var intersections = cradlefunctions_1.isolateRelevantIntersections({\n      scrollforward: scrollforward,\n      intersections: entries,\n      cradleContent: cradleContent,\n      itemObserverThreshold: cradleConfig.itemObserverThreshold\n    }); // console.log('intersections', intersections)\n    // --------------------------------[ 3. Calculate shifts ]-------------------------------\n\n    var _a = cradlefunctions_1.calcContentShifts({\n      cradleProps: cradleProps,\n      cradleConfig: cradleConfig,\n      cradleElements: cradleElements,\n      cradleContent: cradleContent,\n      viewportElement: viewportElement,\n      itemElements: itemElements,\n      intersections: intersections,\n      scrollforward: scrollforward // source,\n\n    }),\n        cradleindex = _a[0],\n        cradleitemshift = _a[1],\n        spineReferenceIndex = _a[2],\n        referenceitemshift = _a[3],\n        spineOffset = _a[4],\n        contentCount = _a[5]; // console.log('in updateCradleContent: cradleindex, cradleitemshift, spineReferenceIndex, referenceitemshift, spineOffset, contentCount',\n    //     cradleindex, cradleitemshift, spineReferenceIndex, referenceitemshift, spineOffset, contentCount)\n\n\n    if (referenceitemshift == 0 && cradleitemshift == 0) return; // ------------------[ 4. calculate head and tail consolidated cradle content changes ]-----------------\n\n    var _b = cradlefunctions_1.calcHeadAndTailChanges({\n      cradleProps: cradleProps,\n      cradleConfig: cradleConfig,\n      cradleContent: cradleContent,\n      cradleshiftcount: cradleitemshift,\n      scrollforward: scrollforward,\n      cradleReferenceIndex: cradleReferenceIndex\n    }),\n        headchangecount = _b[0],\n        tailchangecount = _b[1]; // console.log('headchangecount,tailchangecount',headchangecount,tailchangecount)\n    // ----------------------------------[ 5. reconfigure cradle content ]--------------------------\n    // collect modified content\n\n\n    var localContentList;\n\n    if (headchangecount || tailchangecount) {\n      localContentList = cradlefunctions_1.getUIContentList({\n        cradleProps: cradleProps,\n        cradleConfig: cradleConfig,\n        contentCount: contentCount,\n        localContentList: modelcontentlist,\n        headchangecount: headchangecount,\n        tailchangecount: tailchangecount,\n        cradleReferenceIndex: cradleReferenceIndex,\n        observer: itemObserverRef.current,\n        callbacks: callbacksRef.current,\n        instanceIdCounterRef: instanceIdCounterRef\n      });\n    } else {\n      localContentList = modelcontentlist;\n    } // console.log('localContentList.length', localContentList.length)\n    // ----------------------------------[ 7. allocate cradle content ]--------------------------\n\n\n    var _c = cradlefunctions_1.allocateContentList({\n      contentlist: localContentList,\n      spineReferenceIndex: spineReferenceIndex\n    }),\n        headcontent = _c[0],\n        tailcontent = _c[1]; // console.log('headcontent.length, tailcontent.length',headcontent.length, tailcontent.length)\n\n\n    cradleContent.cradleModel = localContentList;\n    cradleContent.headView = cradleContent.headModel = headcontent;\n    cradleContent.tailView = cradleContent.tailModel = tailcontent; // -------------------------------[ 8. set css changes ]-------------------------\n\n    if (spineOffset !== undefined) {\n      var cradleElements_1 = cradleElementsRef.current;\n\n      if (cradleProps.orientation == 'vertical') {\n        scrollPositionDataRef.current = {\n          property: 'scrollTop',\n          value: viewportElement.scrollTop\n        };\n        cradleElements_1.spine.current.style.top = viewportElement.scrollTop + spineOffset + 'px';\n        cradleElements_1.spine.current.style.left = 'auto';\n        cradleElements_1.head.current.style.paddingBottom = headcontent.length ? cradleProps.gap + 'px' : 0;\n      } else {\n        scrollPositionDataRef.current = {\n          property: 'scrollLeft',\n          value: viewportElement.scrollLeft\n        };\n        cradleElements_1.spine.current.style.top = 'auto';\n        cradleElements_1.spine.current.style.left = viewportElement.scrollLeft + spineOffset + 'px';\n        cradleElements_1.head.current.style.paddingRight = headcontent.length ? cradleProps.gap + 'px' : 0;\n      }\n    }\n\n    scrollReferenceIndexDataRef.current = {\n      index: spineReferenceIndex,\n      spineoffset: spineOffset\n    };\n    saveCradleState('updatecontent');\n  }; // End of IntersectionObserver support\n  // ========================================================================================\n  // -------------------------------[ Assembly of content]-----------------------------------\n  // ========================================================================================\n  // reset cradle, including allocation between head and tail parts of the cradle\n\n\n  var setCradleContent = function setCradleContent(cradleState, referenceIndexData) {\n    // console.log('setCradleContent start: cradleState, referenceIndexData',cradleState, referenceIndexData)\n    var cradleProps = cradlePropsRef.current;\n    var visibletargetindexoffset = referenceIndexData.index,\n        visibletargetscrolloffset = referenceIndexData.spineoffset;\n    var cellHeight = cradleProps.cellHeight,\n        cellWidth = cradleProps.cellWidth,\n        orientation = cradleProps.orientation,\n        runwaycount = cradleProps.runwaycount,\n        gap = cradleProps.gap,\n        padding = cradleProps.padding,\n        listsize = cradleProps.listsize;\n    var cradleConfig = cradleConfigRef.current;\n    var cradleRowcount = cradleConfig.cradleRowcount,\n        crosscount = cradleConfig.crosscount,\n        viewportRowcount = cradleConfig.viewportRowcount;\n\n    if (cradleState == 'reposition') {\n      visibletargetscrolloffset = visibletargetindexoffset == 0 ? padding : gap;\n    }\n\n    var localContentList = [];\n    var cradleContent = cradleContentRef.current; // cradleContent.portalData.clear()\n\n    var _a = cradlefunctions_1.getContentListRequirements({\n      cradleProps: cradleProps,\n      cradleConfig: cradleConfig,\n      visibletargetindexoffset: visibletargetindexoffset,\n      targetViewportOffset: visibletargetscrolloffset,\n      viewportElement: viewportDataRef.current.elementref.current\n    }),\n        cradleReferenceIndex = _a.cradleReferenceIndex,\n        referenceoffset = _a.referenceoffset,\n        contentCount = _a.contentCount,\n        scrollblockoffset = _a.scrollblockoffset,\n        spineOffset = _a.spineOffset,\n        spineadjustment = _a.spineadjustment; // console.log('setCradleContent getContentListRequirements: cradleReferenceIndex, referenceoffset, contentCount, scrollblockoffset, spineOffset, spineadjustment',\n    //     cradleReferenceIndex, referenceoffset, contentCount, scrollblockoffset, spineOffset, spineadjustment)\n    // returns content constrained by cradleRowcount\n\n\n    var childlist = cradlefunctions_1.getUIContentList({\n      cradleProps: cradleProps,\n      cradleConfig: cradleConfig,\n      contentCount: contentCount,\n      cradleReferenceIndex: cradleReferenceIndex,\n      headchangecount: 0,\n      tailchangecount: contentCount,\n      localContentList: localContentList,\n      callbacks: callbacksRef.current,\n      observer: itemObserverRef.current,\n      instanceIdCounterRef: instanceIdCounterRef\n    }); // console.log('childlist.length, contentCount, rows from setContent', childlist.length, contentCount, Math.ceil(contentCount/crosscount))\n\n    var _b = cradlefunctions_1.allocateContentList({\n      contentlist: childlist,\n      spineReferenceIndex: referenceoffset\n    }),\n        headcontentlist = _b[0],\n        tailcontentlist = _b[1]; // console.log('headcontentlist.length, tailcontentlist.length',headcontentlist.length, tailcontentlist.length)\n\n\n    if (headcontentlist.length == 0) {\n      spineOffset = padding;\n    }\n\n    cradleContent.cradleModel = childlist;\n    cradleContent.headModel = headcontentlist;\n    cradleContent.tailModel = tailcontentlist;\n    scrollReferenceIndexDataRef.current = stableReferenceIndexDataRef.current = {\n      index: referenceoffset,\n      spineoffset: spineOffset\n    }; // console.log('setting referenceindexdata in setCradleContent',stableReferenceIndexDataRef.current)\n\n    if (referenceIndexCallbackRef.current) {\n      var cstate = cradleState;\n      if (cstate == 'setreload') cstate = 'reload';\n      referenceIndexCallbackRef.current(stableReferenceIndexDataRef.current.index, 'setCradleContent', cstate);\n    } // console.log('scrollblockoffset, spineOffset, spineadjustment, headcontentlist.length',\n    //     scrollblockoffset, spineOffset, spineadjustment, headcontentlist.length)\n\n\n    var cradleElements = cradleElementsRef.current;\n\n    if (orientation == 'vertical') {\n      scrollPositionDataRef.current = {\n        property: 'scrollTop',\n        value: scrollblockoffset - spineOffset\n      };\n      cradleElements.spine.current.style.top = scrollblockoffset + spineadjustment + 'px';\n      cradleElements.spine.current.style.left = 'auto';\n      cradleElements.head.current.style.paddingBottom = headcontentlist.length ? cradleProps.gap + 'px' : 0; // console.log('CSS adjustments: scrollTop, scrollblockoffset, spineOffset, top, spineadjustment, headcontentlist.length','\\n',\n      //     scrollblockoffset  - spineOffset, scrollblockoffset, spineOffset, \n      //     scrollblockoffset + spineadjustment, spineadjustment, headcontentlist.length )\n    } else {\n      // orientation = 'horizontal'\n      scrollPositionDataRef.current = {\n        property: 'scrollLeft',\n        value: scrollblockoffset - spineOffset\n      };\n      cradleElements.spine.current.style.top = 'auto';\n      cradleElements.spine.current.style.left = scrollblockoffset + spineadjustment + 'px';\n      cradleElements.head.current.style.paddingRight = headcontentlist.length ? cradleProps.gap + 'px' : 0;\n    }\n  }; // =====================================================================================\n  // ----------------------------------[ state management ]-------------------------------\n  // =====================================================================================\n\n\n  var scrollTimeridRef = react_1.useRef(null);\n  var scrollPositionsRef = react_1.useRef({\n    current: 0,\n    previous: 0\n  }); // callback for scrolling\n\n  var onScroll = react_1.useCallback(function (e) {\n    var _a;\n\n    if (controlFlagsRef.current.pauseScrollingEffects) {\n      // console.log('returning from onScroll with pauseScrollingEffects true', \n      //     viewportDataRef.current.elementref.current.scrollTop)\n      return;\n    }\n\n    var viewportElement = viewportDataRef.current.elementref.current;\n    var scrollPositions = scrollPositionsRef.current;\n    var scrollPositioncurrent = cradlePropsRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n\n    if (scrollPositioncurrent < 0) {\n      // for Safari\n      return;\n    }\n\n    scrollPositions.previous = scrollPositions.current;\n    scrollPositions.current = //scrollPositioncurrent\n    cradlePropsRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    clearTimeout(scrollTimeridRef.current);\n    var cradleState = cradleStateRef.current;\n    var cradleContent = cradleContentRef.current;\n\n    if (!viewportDataRef.current.isResizing) {\n      if (cradleState == 'ready' || cradleState == 'repositioning') {\n        if (cradleState == 'ready') {\n          var itemindex = (_a = cradleContent.tailModel[0]) === null || _a === void 0 ? void 0 : _a.props.index;\n\n          if (itemindex === undefined) {\n            console.log('ERROR: scroll encountered undefined tailcontent lead');\n          }\n\n          var spineoffset = void 0;\n          var cradleElements = cradleElementsRef.current;\n\n          if (cradlePropsRef.current.orientation == 'vertical') {\n            spineoffset = cradleElements.spine.current.offsetTop - viewportDataRef.current.elementref.current.scrollTop;\n          } else {\n            spineoffset = cradleElements.spine.current.offsetLeft - viewportDataRef.current.elementref.current.scrollLeft;\n          }\n\n          scrollReferenceIndexDataRef.current = {\n            index: itemindex,\n            spineoffset: spineoffset\n          };\n        } else {\n          scrollReferenceIndexDataRef.current = cradlefunctions_1.getScrollReferenceIndexData({\n            viewportData: viewportDataRef.current,\n            cradleProps: cradlePropsRef.current,\n            cradleConfig: cradleConfigRef.current\n          });\n          saveCradleState('updatereposition');\n        }\n\n        referenceIndexCallbackRef.current && referenceIndexCallbackRef.current(scrollReferenceIndexDataRef.current.index, 'scrolling', cradleState);\n      }\n    }\n\n    scrollTimeridRef.current = setTimeout(function () {\n      // isMounted = useIsMounted()\n      if (!isMounted()) return; // console.log('scrollerName, portalData after SCROLL:',scrollerName, cradleContentRef.current.portalData)\n\n      var spineoffset;\n      var cradleElements = cradleElementsRef.current;\n\n      if (cradlePropsRef.current.orientation == 'vertical') {\n        spineoffset = cradleElements.spine.current.offsetTop - viewportDataRef.current.elementref.current.scrollTop;\n      } else {\n        spineoffset = cradleElements.spine.current.offsetLeft - viewportDataRef.current.elementref.current.scrollLeft;\n      }\n\n      scrollReferenceIndexDataRef.current.spineoffset = spineoffset;\n      var cradleState = cradleStateRef.current;\n\n      if (!viewportDataRef.current.isResizing) {\n        var localrefdata = __assign({}, scrollReferenceIndexDataRef.current);\n\n        stableReferenceIndexDataRef.current = localrefdata;\n      }\n\n      switch (cradleState) {\n        case 'repositioning':\n          {\n            callingReferenceIndexDataRef.current = __assign({}, stableReferenceIndexDataRef.current);\n            saveCradleState('reposition');\n            break;\n          }\n\n        default:\n          {\n            // console.log('------- [ calling endofscroll ]-----------')\n            updateCradleContent([], 'endofscroll'); // for Safari to compensate for overscroll\n          }\n      }\n    }, SCROLL_TIMEOUT_FOR_ONAFTERSCROLL);\n  }, []); // data for state processing\n\n  var callingCradleState = react_1.useRef(cradleStateRef.current);\n  var headlayoutDataRef = react_1.useRef(null);\n  var scrollPositionDataRef = react_1.useRef(null); // this is the core state engine\n  // useLayout for suppressing flashes\n\n  react_1.useLayoutEffect(function () {\n    var viewportData = viewportDataRef.current;\n    var cradleContent = cradleContentRef.current;\n\n    switch (cradleState) {\n      case 'reload':\n        // cradleContent.portalData.clear()\n        saveCradleState('setreload');\n        break;\n\n      case 'updatereposition':\n        saveCradleState('repositioning');\n\n      case 'repositioning':\n        break;\n\n      case 'setscrolloffset':\n        {\n          viewportData.elementref.current[scrollPositionDataRef.current.property] = scrollPositionDataRef.current.value;\n          saveCradleState('normalize');\n          break;\n        }\n\n      case 'updatecontent':\n        {\n          // scroll\n          saveCradleState('ready');\n          break;\n        }\n\n      case 'content':\n        {\n          var cradleContent_2 = cradleContentRef.current;\n          cradleContent_2.headView = cradleContent_2.headModel;\n          cradleContent_2.tailView = cradleContent_2.tailModel;\n          saveCradleState('setscrolloffset'); //'normalize')\n\n          break;\n        }\n    }\n  }, [cradleState]); // standard processing stages\n\n  react_1.useEffect(function () {\n    var viewportData = viewportDataRef.current;\n\n    switch (cradleState) {\n      case 'setup':\n      case 'resize':\n      case 'pivot':\n      case 'setreload':\n      case 'reposition':\n        callingCradleState.current = cradleState;\n        saveCradleState('settle');\n        break;\n\n      case 'settle':\n        {\n          // console.log('settle (setCradleContent): state, refIndex',callingCradleState.current, callingReferenceIndexDataRef.current)\n          cradleContent.headModel = [];\n          cradleContent.tailModel = [];\n          cradleContent.headView = [];\n          cradleContent.tailView = [];\n          contentManager.resetScrollerPortalRepository(scrollerID);\n          setCradleContent(callingCradleState.current, callingReferenceIndexDataRef.current);\n          saveCradleState('content'); //'setscrolloffset')\n\n          break;\n        }\n\n      case 'normalize':\n        {\n          setTimeout(function () {\n            // isMounted = useIsMounted()\n            if (!isMounted()) return; // console.log('inside normalize: viewportData.isResizing', viewportData.isResizing)\n\n            if (!viewportData.isResizing) {\n              // redundant scroll position to avoid accidental positioning at tail end of reposition\n              if (viewportData.elementref.current) {\n                // already unmounted if fails\n                var controlFlags = controlFlagsRef.current; // console.log('clearing control Flags', controlFlags)\n\n                controlFlags.pauseItemObserver && (controlFlags.pauseItemObserver = false);\n                controlFlags.pauseScrollingEffects && (controlFlags.pauseScrollingEffects = false);\n                controlFlags.pauseCradleIntersectionObserver && (controlFlags.pauseCradleIntersectionObserver = false);\n                controlFlags.pauseCradleResizeObserver && (controlFlags.pauseCradleResizeObserver = false);\n              }\n\n              if (controlFlagsRef.current.isCradleInView) {\n                saveCradleState('ready');\n              } else {\n                saveCradleState('repositioning');\n              }\n            } else {\n              saveCradleState('resizing');\n            } // console.log('portalData after set, scrollerName',cradleContentRef.current.portalData, scrollerName)\n\n          }, 100);\n          break;\n        }\n\n      case 'ready':\n        break;\n    }\n  }, [cradleState]); // =============================================================================\n  // ------------------------------[ callbacks ]----------------------------------\n  // =============================================================================\n  // on host demand\n\n  var getVisibleList = react_1.useCallback(function () {\n    // let cradleElements = cradleElementsRef.current\n    var cradleContent = cradleContentRef.current;\n    return cradlefunctions_1.calcVisibleItems({\n      itemElementMap: itemElementsRef.current,\n      viewportElement: viewportDataRef.current.elementref.current,\n      cradleElements: cradleElementsRef.current,\n      // tailElement:cradlePropsRef.current.orientation,\n      // spineElement:cradleElements.spine.current,\n      cradleProps: cradlePropsRef.current,\n      // orientation:cradlePropsRef.current.orientation,\n      cradleContent: cradleContentRef.current // headlist:cradleContent.headView,\n\n    });\n  }, []);\n  var getContentList = react_1.useCallback(function () {\n    var contentlist = Array.from(itemElementsRef.current);\n    contentlist.sort(function (a, b) {\n      return a[0] < b[0] ? -1 : 1;\n    });\n    return contentlist;\n  }, []);\n  var reload = react_1.useCallback(function () {\n    controlFlagsRef.current.pauseItemObserver = true;\n    controlFlagsRef.current.pauseScrollingEffects = true;\n    var spineoffset;\n    var cradleElements = cradleElementsRef.current;\n\n    if (cradlePropsRef.current.orientation == 'vertical') {\n      spineoffset = cradleElements.spine.current.offsetTop - viewportDataRef.current.elementref.current.scrollTop;\n    } else {\n      spineoffset = cradleElements.spine.current.offsetLeft - viewportDataRef.current.elementref.current.scrollLeft;\n    }\n\n    callingReferenceIndexDataRef.current = __assign({}, stableReferenceIndexDataRef.current);\n    saveCradleState('reload');\n  }, []);\n  var portalRef = react_1.useRef(null); // content item registration callback; called from item\n\n  var getItemElementData = react_1.useCallback(function (itemElementData, reportType) {\n    var index = itemElementData[0],\n        shellref = itemElementData[1],\n        portalDataRef = itemElementData[2]; // console.log('getItemElementData: index, shellref, portalDataRef', index, shellref, portalDataRef)\n    // portalRef.current = portalDataRef\n\n    if (reportType == 'register') {\n      itemElementsRef.current.set(index, shellref); // cradleContentRef.current.portalData.set(index,portalDataRef)\n    } else if (reportType == 'unregister') {\n      itemElementsRef.current[\"delete\"](index);\n    }\n  }, []);\n  var scrollToItem = react_1.useCallback(function (index) {\n    controlFlagsRef.current.pauseItemObserver = true;\n    controlFlagsRef.current.pauseScrollingEffects = true;\n    callingReferenceIndexDataRef.current = {\n      index: index,\n      spineoffset: 0\n    };\n    saveCradleState('reposition');\n  }, []);\n  var callbacksRef = react_1.useRef({\n    getElementData: getItemElementData\n  }); // =============================================================================\n  // ------------------------------[ RENDER... ]----------------------------------\n  // =============================================================================\n\n  var scrollTrackerArgs = react_1.useMemo(function () {\n    return {\n      top: viewportDimensions.top + 3,\n      left: viewportDimensions.left + 3,\n      indexOffset: scrollReferenceIndexDataRef.current.index,\n      listsize: cradlePropsRef.current.listsize,\n      styles: cradlePropsRef.current.styles\n    };\n  }, [viewportDimensions, scrollReferenceIndexDataRef.current, cradlePropsRef]);\n  var cradleContent = cradleContentRef.current;\n  return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null, cradleStateRef.current == 'updatereposition' || cradleStateRef.current == 'repositioning' ? react_1[\"default\"].createElement(scrolltracker_1[\"default\"], {\n    top: scrollTrackerArgs.top,\n    left: scrollTrackerArgs.left,\n    offset: scrollTrackerArgs.indexOffset,\n    listsize: scrollTrackerArgs.listsize,\n    styles: scrollTrackerArgs.styles\n  }) : null, react_1[\"default\"].createElement(\"div\", {\n    style: cradleSpineStyle,\n    ref: spineCradleElementRef,\n    \"data-name\": 'spine'\n  }, true ? react_1[\"default\"].createElement(\"div\", {\n    style: {\n      zIndex: 1,\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      boxShadow: '0 0 5px 3px red'\n    }\n  }) : undefined, react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.headView : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.tailView : null)));\n}; // Cradle\n\n\nexports[\"default\"] = Cradle;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9jcmFkbGUudHN4PzE4M2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQ0c7O0FBRUg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRERTs7QUFFRjs7QUFFQTs7QUFFQSxxSixDQUVBOzs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxnQkFBRCxDQUFOLElBQTRCLGdDQUF4RDtBQUVBLElBQU0sdUJBQXVCLEdBQUcsQ0FBaEM7O0FBRUE7O0FBYUE7O0FBRUEsSUFBTSxnQ0FBZ0MsR0FBRyxHQUF6Qzs7QUFFQSxJQUFNLE1BQU0sR0FBRyxTQUFULE1BQVMsQ0FBQyxFQUFELEVBZ0JWO01BZkcsR0FBRyxTO01BQ0gsT0FBTyxhO01BQ1A7QUFDQSxhQUFXLGlCO01BQ1gsUUFBUSxjO01BQ1IsV0FBVyxpQjtNQUNYLFdBQVcsaUI7TUFDWCxVQUFVLGdCO01BQ1YsU0FBUyxlO01BQ1QsT0FBTyxhO01BQ1AsV0FBVyxpQjtNQUNYLFNBQVMsZTtNQUNULE1BQU0sWTtNQUNOLFlBQVksa0I7TUFDWixVQUFVLGdCLENBQ2IsQ0FFRDs7QUFDQSxNQUFNLGNBQWMsR0FBRyxlQUFPLElBQVAsQ0FBdkIsQ0FIQyxDQUdtQzs7QUFDcEMsZ0JBQWMsQ0FBQyxPQUFmLEdBQXlCLGdCQUFRO0FBQzdCLFdBQU87QUFDSCxTQUFHLEtBREE7QUFFSCxhQUFPLFNBRko7QUFHSDtBQUNBLGlCQUFXLGFBSlI7QUFLSCxjQUFRLFVBTEw7QUFNSCxpQkFBVyxhQU5SO0FBT0gsaUJBQVcsYUFQUjtBQVFILGdCQUFVLFlBUlA7QUFTSCxl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LFVBQU0sRUFBSSxpQkFBaUIsQ0FBQztBQUxqQixHQUFkLENBREosR0FRSSxJQVZGLEVBV0g7QUFDSSxTQUFLLEVBQUksZ0JBRGI7QUFFSSxPQUFHLEVBQUkscUJBRlg7QUFFZ0MsaUJBQ2hCO0FBSGhCLEtBS0ssT0FBSztBQUFLLFNBQUssRUFBSTtBQUFDLFlBQU0sRUFBQyxDQUFSO0FBQVcsY0FBUSxFQUFDLFVBQXBCO0FBQStCLFdBQUssRUFBQyxNQUFyQztBQUE0QyxZQUFNLEVBQUMsTUFBbkQ7QUFBMEQsZUFBUyxFQUFDO0FBQXBFO0FBQWQsSUFBTCxHQUFrSCxTQUx2SCxFQU1JO0FBQUEsaUJBRWdCLE1BRmhCO0FBR0ksT0FBRyxFQUFJLG9CQUhYO0FBSUksU0FBSyxFQUFJO0FBSmIsS0FRTSxjQUFjLENBQUMsT0FBZixJQUEwQixPQUEzQixHQUFvQyxhQUFhLENBQUMsUUFBbEQsR0FBMkQsSUFSaEUsQ0FOSixFQWlCSTtBQUFBLGlCQUVnQixNQUZoQjtBQUdJLE9BQUcsRUFBSSxvQkFIWDtBQUlJLFNBQUssRUFBSTtBQUpiLEtBUU0sY0FBYyxDQUFDLE9BQWYsSUFBMEIsT0FBM0IsR0FBb0MsYUFBYSxDQUFDLFFBQWxELEdBQTJELElBUmhFLENBakJKLENBWEcsQ0FBUDtBQTJDSCxDQXg3Q0QsQyxDQXc3Q0U7OztBQUdGLHFCQUFlLE1BQWYiLCJmaWxlIjoiLi9zcmMvY3JhZGxlLnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNyYWRsZS50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRPRE86XG5cbiAgICBhZGQgc2Nyb2xsZXIgbmFtZSBmb3IgZGVidWdnaW5nXG5cbiAgICBmb2xkIHNoaWZ0IG9ubHkgaGFwcGVucyBhZnRlciBkZWxheVxuXG4gICAgbmVzdGVkIGhvcml6b250YWwgdGFpbCBib3VuZGFyeSBpcyB3cm9uZyAtIHVuZGVybHlpbmcgc3RydWN0dXJlOyBoZWFkIGJvdHRvbSBib3VuZGFyeSBpcyB3cm9uZ1xuXG4gICAgZm9yIHJlc2l6ZSwgcHJlc2VydmUgY2FjaGUgZm9yIHJlbG9hZFxuXG4gICAgY2FuJ3QgbW91bnQgZXJyb3IgaW4gbmVzdGVkIGxpc3RzXG5cbiAgICBEZWJ1ZyBzY3JvbGxUb0l0ZW0gY2FsbGJhY2sgKGluY2x1ZGluZyBzZXR0aW5nIHNjcm9sbGZvcndhcmQgb24gZmlyc3QgYWN0aW9uKS5cbiAgICAgICAgbW90aW9uIHRha2VzIHBsYWNlIGJ1dCBnZXRzIGNsb3NlIHJhdGhlciB0aGFuIGV4YWN0LiBQb3NpdGlvbiBpcyBvZmYgYnkgcnVud2F5Y291bnRcblxuICAgIE1ha2Ugc3VyZSBpdGVtIHNoZWxsIHRyaWdnZXJzIGFyZSBvbmx5IGZpcmVkIGF0IHRoZSBsZWFkaW5nLCBub3QgdHJhaWxpbmcsIGVkZ2VcblxuICAgIEluY29uc2lzdGVuY3kgaW4gdmlld3BvcnRyb3dzLCBzb21ldGltZXMgTWF0aC5jZWlsLCBzb21ldGltZXMgTWF0aC5mbG9vclxuXG4gICAgY2hhbmdlIGhlaWdodCB0byAwcHggZnJvbSBhdXRvIGZvciBzcGluZSBpbiB2ZXJ0aWNhbFxuICAgIFxuICAgIHVwZGF0ZSBzY3JvbGxmb3J3YXJkIGxvZ2ljIHRvIHRha2UgaW50byBhY2NvdW50IHJhcGlkIG9wcG9zaXRlIHNjcm9sbGluZy4gXG4gICAgVXNlIGRpZmZlcmVuY2VzIGluIHNjcm9sbFRvcD9cblxuICAgID09Pj4gY2hlY2sgZ2V0U2hpZnQgbG9naWMuICFzY3JvbGxmb3J3YXJkIHNob3VsZCBzZWxlY3QgbmV4dCBjYWxjdWxhdGVkIGluZGV4IFxuICAgIHRvIGJlIGFib3ZlIHRoZSBmb2xkIGlmIHBvc3NpYmxlLlxuXG4gICAgUUEgZGVmZW5kIGFnYWluc3QgYnV0dGVyZmx5IGdldHRpbmcgaW50ZXJzZWN0aW9ucyBmcm9tIG9wcG9zaXRlIHNjcm9sbCBkaXJlY3Rpb25cbiAgICAgICAgYXMgdGhlIHJlc3VsdCBvZiBhIHNob3J0IHZpZXdwb3J0XG5cbiAgICBpbXBsZW1lbnQgc2Vzc2lvbmlkIHNjaGVtZSBmb3IgY2VsbCBjb250ZW50XG5cbiAgICBkZWFsIHdpdGggc3BpbmUgYmVpbmcgbm90aWZpZWQgYnkgYm90dG9tIGJvcmRlciByYXRoZXIgdGhhbiB0b3BcblxuICAgIHRlc3QgSVRFTV9PQlNFUlZFUl9USFJFU0hPTEQgYXQgdmFyaW91cyBsZXZlbHNcbiAgICB0aGluayB0aHJvdWdoIG1hbmFnZW1lbnQgb2YgaXRlbXMgbGFyZ2VyIHRoYW4gdmlld3BvcnRcblxuICAgIEFkZCBJVEVNX09CU0VSVkVSX1RIUkVTSE9MRCB0byB0ZXN0IHBhcmFtZXRlcnNcblxuICAgIEFkZCBzaG93IGZvbGQgdG8gdGVzdCBwYXJhbWV0ZXJzXG5cbiAqL1xuXG4vKlxuICAgIERlc2NyaXB0aW9uXG4gICAgLS0tLS0tLS0tLS1cbiAgICBUaGUgR3JpZFNyb2xsZXIgcHJvdmlkZXMgdGhlIGlsbHVzaW9uIG9mIGluZmluaXRlIHNjcm9sbGluZyB0aHJvdWdoIHRoZSB1c2Ugb2YgYSBkYXRhICdjcmFkbGUnIGluc2lkZSBhIHZpZXdwb3J0LlxuICAgIFRoZSBpbGx1c2lvbiBpcyBtYWludGFpbmVkIGJ5IHN5bmNocm9uaXppbmcgY2hhbmdlcyBpbiBjcmFkbGUgY29udGVudCB3aXRoIGNyYWRsZSBsb2NhdGlvbiBpbnNpZGUgYSBzY3JvbGxibG9jaywgc3VjaFxuICAgIHRoYXQgYXMgdGhlIHNjcm9sbGJsb2NrIGlzIG1vdmVkLCB0aGUgY3JhZGxlIG1vdmVzIG9wcG9zaXRlbHkgaW4gdGhlIHNjcm9sbGJsb2NrICh0byBzdGF5IHZpc2libGUgd2l0aGluIHRoZSB2aWV3cG9ydCkuIFxuICAgIFRoZSBzY3JvbGxibG9jayBpcyBzaXplZCB0byBhcHByb3hpbWF0ZSB0aGUgbGlzdCBiZWluZyB2aWV3ZWQsIHNvIGFzIHRvIGhhdmUgYSBzY3JvbGwgdGh1bWIgc2l6ZSBhbmQgcG9zaXRpb24gd2hpY2ggXG4gICAgcmVhbGlzdGljYWxseSByZWZsZWN0cyB0aGUgc2l6ZSBvZiB0aGUgbGlzdCBiZWluZyBzaG93bi5cblxuICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgY3JhZGxlIGlzIGNvbnRyb2xsZWQgYnkgYSAnc3BpbmUnIHdoaWNoIGlzIGEgMHB4IGhlaWdodC93aWR0aCAoYWxvbmcgdGhlIG1lZGlhbCAtIFNjcm9sbEJsb2NrIGNhbiBiZSBcbiAgICB2ZXJ0aWNzbCBvciBob3Jpem9udGFsKS4gVGhlIHB1cnBvc2Ugb2YgdGhlIHNwaW5lIGlzIHRvIGFjdCBhcyBhICdmb2xkJywgYWJvdmUgd2hpY2ggY2VsbCBjb250ZW50IGV4cGFuZHMgJ3Vwd2FyZHMnLCBhbmQgXG4gICAgYmVsb3cgd2hpY2ggdGhlIGNlbGwgY29udGVudCBleHBhbmRzICAnZG93bndhcmRzJy4gR3JpZFNjcm9sbGVyIGNhbiBiZSB2aWV3ZWQgdmVydGljYWxseSBvciBob3Jpem9udGFsbHkuIFdoZW4gaG9yaXpvbnRhbCwgXG4gICAgdGhlIHNwaW5lIGhhcyBhIDBweCB3aWR0aCwgc28gdGhhdCB0aGUgJ2ZvbGQnIGlzIHZlcnRpY2FsLCBhbmQgY2VsbHMgZXhwYW5kIHRvIHRoZSBsZWZ0IGFuZCByaWdodC5cblxuICAgIFRoZSBzcGluZSBpcyBjb250cm9sbGVkIHRvIGFsd2F5cyBiZSBpbiB0aGUgYXQgdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgbGVhZGluZyBjZWxscm93IG9mIHRoZSB2aWV3cG9ydC4gVGh1c1xuICAgIGluIHZlcnRpY2FsIG9yaWVudGF0aW9uLCB0aGUgc3BpbmUgJ3RvcCcgY3NzIGF0dHJpYnV0ZSBpcyBhbHdheXMgZXF1YWwgdG8gdGhlICdzY3JvbGxUb3AnIHBvc2l0aW9uIG9mIHRoZSBzY3JvbGxibG9jayxcbiAgICBwbHVzIGFuIGFkanVzdG1lbnQuIFRoZSBhZGp1c3RtZW50IGlzIHRoZSByZXN1bHQgb2YgdGhlIGFsaWdubWVudCBvZiB0aGUgc3BpbmUgaW4gcmVsYXRpb24gdG8gdGhlIHRvcC0ob3IgbGVmdC0pbW9zdCBjZWxsXG4gICAgaW4gdGhlIHZpZXdwb3J0ICh0aGUgJ3JlZmVyZW5jZScgcm93KS4gVGhlIHNwaW5lIGNhbiBvbmx5IGJlIHBsYWNlZCBhdCB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSBmaXJzdCB2aXNpYmxlXG4gICAgY2VsbCBpbiB0aGUgdmlld3BvcnQuIFRoZXJlZm9yZSB0aGUgc3BpbmUgb2Zmc2V0IGZyb20gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdmlld3BvcnQgY2FuIGJlIGFueXdoZXJlIGZyb20gbWludXMgdG9cbiAgICBwbHVzIHRoZSBsZW5ndGggb2YgdGhlIGxlYWRpbmcgcm93LiBUaGUgZXhhY3QgYW1vdW50IGRlcGVuZHMgb24gd2hlcmUgdGhlICdicmVha3BvaW50JyBvZiB0cmFuc2l0aW9uIG5vdGlmaWNhdGlvbiBpcyBzZXQgZm9yXG4gICAgY2VsbHMgY3Jvc3NpbmcgdGhlIHZpZXdwb3J0IHRocmVzaG9sZCAoYW5kIGNhbiBiZSBjb25maWd1cmVkKS4gVGhlIGRlZmF1bHQgb2YgdGhlIGJyZWFrcG9pbnQgaXMgLjUgKGhhbGYgdGhlIGxlbmd0aCBvZiB0aGUgY2VsbCkuXG5cbiAgICBUZWNobmljYWxseSwgdGhlcmUgYXJlIHNldmVyYWwgcmVmZXJlbmNlIHBvaW50cyB0cmFja2VkIGJ5IHRoZSBHcmlkU2Nyb2xsZXIuIFRoZXNlIGFyZTpcbiAgICAgICAgLSBzcGluZVJlZmVyZW5jZUluZGV4ICh0aGUgdmlydHVhbCBpbmRleCBvZiB0aGUgaXRlbSBjb250cm9sbGluZyB0aGUgbG9jYXRpb24gb2YgdGhlIHNwaW5lKVxuICAgICAgICAgICAgVGhlIHNwaW5lUmVmZXJlbmNlSW5kZXggaXMgYWxzbyB1c2VkIHRvIGFsbG9jYXRlIGl0ZW1zIGFib3ZlIChsb3dlciBpbmRleCB2YWx1ZSkgYW5kIGJlbG93IChzYW1lIG9yIGhpZ2hlciBpbmRleCB2YWx1ZSlcbiAgICAgICAgICAgIHRoZSBmb2xkXG4gICAgICAgIC0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKHRoZSB2aXJ0dWFsIGluZGV4IG9mIHRoZSBpdGVtIGRlZmluaW5nIHRoZSBsZWFkaW5nIGJvdW5kIG9mIHRoZSBjcmFkbGUgY29udGVudClcbiAgICAgICAgLSBzcGluZU9mZnNldCAocGl4ZWxzIC0gcGx1cyBvciBtaW51cyAtIHRoYXQgdGhlIHNwaW5lIGlzIHBsYWNlZCBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnQncyBsZWFkaW5nIGVkZ2UpIFxuICAgIFxuICAgIFRoZXNlIHJlZmVyZW5jZSBwb2ludHMgYXJlIGFwcGxpZWQgdG8gdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmVzOlxuICAgICAgICAtIHRoZSB2aWV3cG9ydFxuICAgICAgICAtIHRoZSBzY3JvbGxibG9ja1xuICAgICAgICAtIHRoZSBjcmFkbGUsIGNvbnNpc3Rpbmcgb2ZcbiAgICAgICAgICAgIC0gdGhlIHNwaW5lIChjb250YWlucyBjcmFkbGUgaGVhZCBhbmQgdGFpbClcbiAgICAgICAgICAgIC0gdGhlIGhlYWQgKGNvbnRhaW5zIGxlYWRpbmcgaXRlbXMpXG4gICAgICAgICAgICAtIHRoZSB0YWlsIChjb250YWlucyB0cmFpbGluZyBpdGVtcylcblxuICAgIFN0cnVjdHVyZSBkZXRhaWxzOlxuICAgICAgICB0aGUgY3JhZGxlIGNvbnRlbnQgY29uc2lzdHMgb2ZcbiAgICAgICAgLSB0aGUgbnVtYmVyIG9mIHJvd3MgdGhhdCBhcmUgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQgKGFjY29yZGluZyB0byB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzKVxuICAgICAgICAgICAgLSB0aGlzIHR5cGljYWxseSBpbmNsdWRlcyBvbmUgcGFydGlhbGx5IHZpc2libGUgcm93XG4gICAgICAgIC0gdGhlIG51bWJlciBvZiBydW53YXkgcm93cyBzcGVjaWZpZWQgaW4gdGhlIHBhcmFtZXRlcnMsIHRpbWVzIDIgKG9uZSBldCBmb3IgdGhlIGhlYWQ7IG9uZSBmb3IgdGhlIHRhaWwpXG4gICAgICAgIC0gdGhlIG51bWJlciBvZiBpdGVtcyBpcyB0aGUgbnVtYmVyIG9mIHJvd3MgdGltZXMgdGhlICdjcm9zc2NvdW50JyB0aGUgbGF0ZXJhbCBudW1iZXIgb2YgY2VsbHMuIFxuICAgICAgICAtIHRoZSBsYXN0IHJvdyBtaWdodCBjb25zaXN0IG9mIGZld2VyIGl0ZW1zIHRoYW4gY3Jvc3Njb3VudCwgdG8gbWF0Y2ggdGhlIG1heGltdW0gbGlzdHNpemVcbiAgICAgICAgLSB0aGUgY3JhZGxlUm93Y291bnQgKHZpc2libGUgZGVmYXVsdCByb3dzICsgcnVud2F5Y291bnQgKiAyKSBhbmQgdmlld3BvaW50Um93Y291bnQgKHZpc2JsZSByb3dzO3R5cGljYWxsIG9uZSBwYXJ0aWFsKVxuXG4gICAgSXRlbSBjb250YWluZXJzOlxuICAgICAgICBDbGllbnQgY2VsbCBjb250ZW50IGlzIGNvbnRhaW5lZCBpbiBJdGVtU2hlbGwncywgd2hpY2ggYXJlIGNvbmZpZ3VyZWQgYWNjb3JkaW5nIHRvIEdyaWRTY3JvbGxlcidzIGlucHV0IHBhcmFtZXRlcnMuXG4gICAgICAgIFRoZSBJdGVtQ2VsbCdzIGFyZSBpbiB0dXJuIGNvbnRhaW5lZCBpbiBDU1MgZ3JpZCBzdHJ1Y3R1cmVzLiBUaGVyZSBhcmUgdHdvIGdyaWQgc3RydWN0dXJlcyAtIG9uZSBpbiB0aGUgY3JhZGxlIGhlYWQsXG4gICAgICAgIGFuZCBvbmUgaW4gdGhlIGNyYWRsZSB0YWlsLiBFYWNoIGdyaWQgc3RydWN0dXJlIGlzIGFsbG93ZWQgdW5pZm9ybSBwYWRkaW5nIGFuZCBnYXBzIC0gaWRlbnRpY2FsIGJldHdlZW4gdGhlIHR3by5cblxuICAgIE92ZXJzY3JvbGwgaGFuZGxpbmc6XG4gICAgICAgIE93aW5nIHRvIHRoZSB3ZWlnaHQgb2YgdGhlIGNvZGUsIGFuZCBwb3RlbnRpYWwgcmFwaWRpdHkgb2Ygc2Nyb2xsaW5nLCB0aGVyZSBpcyBhbiBvdmVyc2Nyb2xsIHByb3RvY29sLiBcbiAgICAgICAgaWYgdGhlIG92ZXJzY3JvbGwgaXMgc3VjaCB0aGF0IHBhcnQgb2YgdGhlIGNyYWRsZSBpcyBzdGlsbCB3aXRoaW4gdGhlIHZpZXdwb3J0IGJvdW5kYXJpZXMsIHRoZW4gdGhlIG92ZXJzY3JvbGxcbiAgICAgICAgaXMgY2FsY3VsYXRlZCBhcyB0aGUgbnVtYmVyIG9mIGNlbGwgcm93cyB0aGF0IHdvdWxkIGZpdCAoY29tcGxldGVseSBvciBwYXJ0aWFsbHkpIGluIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBlZGdlIG9mIFxuICAgICAgICB0aGUgY3JhZGxlIHRoYXQgaXMgcmVjZWRpbmcgZnJvbSBhIHZpZXdwb3J0IGVkZ2UuIFxuXG4gICAgICAgIElmIHRoZSBvdmVyc2hvb3QgaXMgc3VjaCB0aGF0IHRoZSBjcmFkbGUgaGFzIGVudGlyZWx5IHBhc3NlZCBvdXQgb2YgdGhlIHZpZXdwb3J0LCB0aGUgR3JpZFNjcm9sbGVyIGdvZXMgaW50byAnUmVwb3NpdG9pbmluZydcbiAgICAgICAgbW9kZSwgbWVhbmluZyB0aGF0IGl0IHRyYWNrcyByZWxhdGl2ZSBsb2NhdGlvbiBvZiB0aGUgc3BpbmUgZWRnZSBvZiB0aGUgdmlld3BvcnQsIGFuZCByZXBhaW50cyB0aGUgY3JhZGxlIGFjY3JvZGluZyB0b1xuICAgICAgICB0aGlzIHBvc2l0aW9uIHdoZW4gdGhlIHNjcm9sbGluZyBzdG9wcy5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRDb250ZXh0IH0gZnJvbSAnLi92aWV3cG9ydCdcblxuaW1wb3J0IHVzZUlzTW91bnRlZCBmcm9tICdyZWFjdC1pcy1tb3VudGVkLWhvb2snXG5cbi8vIGltcG9ydCBSZXNpemVPYnNlcnZlclBvbHlmaWxsIGZyb20gJ3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbCdcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICdAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlcidcblxuaW1wb3J0IHsgUG9ydGFsQ29udGV4dCB9IGZyb20gJy4vcG9ydGFsbWFuYWdlcidcblxuY29uc3QgTG9jYWxSZXNpemVPYnNlcnZlciA9IHdpbmRvd1snUmVzaXplT2JzZXJ2ZXInXSB8fCBSZXNpemVPYnNlcnZlclxuXG5jb25zdCBJVEVNX09CU0VSVkVSX1RIUkVTSE9MRCA9IDBcblxuaW1wb3J0IHsgXG4gICAgc2V0Q3JhZGxlR3JpZFN0eWxlcywgXG4gICAgZ2V0VUlDb250ZW50TGlzdCwgXG4gICAgY2FsY0hlYWRBbmRUYWlsQ2hhbmdlcyxcbiAgICBjYWxjQ29udGVudFNoaWZ0cyxcbiAgICBjYWxjVmlzaWJsZUl0ZW1zLCBcbiAgICBnZXRTY3JvbGxSZWZlcmVuY2VJbmRleERhdGEsXG4gICAgZ2V0Q29udGVudExpc3RSZXF1aXJlbWVudHMsXG4gICAgaXNvbGF0ZVJlbGV2YW50SW50ZXJzZWN0aW9ucyxcbiAgICBhbGxvY2F0ZUNvbnRlbnRMaXN0LFxuXG59IGZyb20gJy4vY3JhZGxlZnVuY3Rpb25zJ1xuXG5pbXBvcnQgU2Nyb2xsVHJhY2tlciBmcm9tICcuL3Njcm9sbHRyYWNrZXInXG5cbmNvbnN0IFNDUk9MTF9USU1FT1VUX0ZPUl9PTkFGVEVSU0NST0xMID0gMjAwXG5cbmNvbnN0IENyYWRsZSA9ICh7IFxuICAgICAgICBnYXAsIFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgLy8gcnVud2F5bGVuZ3RoLFxuICAgICAgICBydW53YXljb3VudCwgXG4gICAgICAgIGxpc3RzaXplLCBcbiAgICAgICAgaW5kZXhPZmZzZXQsIFxuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgc2Nyb2xsZXJOYW1lLFxuICAgICAgICBzY3JvbGxlcklELFxuICAgIH0pID0+IHtcblxuICAgIC8vIGZ1bmN0aW9ucyBhbmQgc3R5bGVzIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgIGNvbnN0IGNyYWRsZVByb3BzUmVmID0gdXNlUmVmKG51bGwpIC8vIGFjY2VzcyBieSBjbG9zdXJlc1xuICAgIGNyYWRsZVByb3BzUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBnYXAsIFxuICAgICAgICAgICAgcGFkZGluZywgXG4gICAgICAgICAgICAvLyBydW53YXlsZW5ndGgsXG4gICAgICAgICAgICBydW53YXljb3VudCwgXG4gICAgICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgICAgICBpbmRleE9mZnNldCwgXG4gICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLCBcbiAgICAgICAgICAgIHNjcm9sbGVyTmFtZSxcbiAgICAgICAgICAgIHNjcm9sbGVySUQsXG4gICAgfX0sW1xuICAgICAgICBnYXAsIFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgLy8gcnVud2F5bGVuZ3RoLFxuICAgICAgICBydW53YXljb3VudCwgXG4gICAgICAgIGxpc3RzaXplLCBcbiAgICAgICAgaW5kZXhPZmZzZXQsIFxuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgSU5JVElBTElaQVRJT04gXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNvbnN0IGNvbnRlbnRtYW5hZ2VyID0gdXNlQ29udGV4dChQb3J0YWxDb250ZXh0KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgdXRpbGl0ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgY29udGVudE1hbmFnZXIgPSB1c2VDb250ZXh0KFBvcnRhbENvbnRleHQpXG4gICAgbGV0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpXG4gICAgY29uc3QgcmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZiA9IHVzZVJlZihmdW5jdGlvbnM/LnJlZmVyZW5jZUluZGV4Q2FsbGJhY2spXG5cbiAgICBjb25zdCBpdGVtT2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCkgLy8gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICBjb25zdCBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlclJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGNyYWRsZVJlc2l6ZU9ic2VydmVyUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY29udGV4dCBkYXRhIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCB2aWV3cG9ydERhdGEgPSB1c2VDb250ZXh0KFZpZXdwb3J0Q29udGV4dClcbiAgICBjb25zdCB2aWV3cG9ydERhdGFSZWYgPSB1c2VSZWYobnVsbClcbiAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudCA9IHZpZXdwb3J0RGF0YVxuXG4gICAgY29uc3QgW2NyYWRsZVN0YXRlLCBzYXZlQ3JhZGxlU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJylcbiAgICBjb25zdCBjcmFkbGVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcbiAgICBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID0gY3JhZGxlU3RhdGVcblxuICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxlcklELCBjcmFkbGVTdGF0ZScsIHNjcm9sbGVySUQsIGNyYWRsZVN0YXRlKVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY29udHJvbCBmbGFncyBdLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgY29uc3QgY29udHJvbEZsYWdzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgcGF1c2VJdGVtT2JzZXJ2ZXI6IHRydWUsXG4gICAgICAgIHBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6dHJ1ZSxcbiAgICAgICAgcGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcjogdHJ1ZSxcbiAgICAgICAgcGF1c2VTY3JvbGxpbmdFZmZlY3RzOiB0cnVlLFxuICAgICAgICBpc1RhaWxDcmFkbGVJblZpZXc6dHJ1ZSxcbiAgICAgICAgaXNIZWFkQ3JhZGxlSW5WaWV3OnRydWUsXG4gICAgICAgIGlzQ3JhZGxlSW5WaWV3OnRydWUsXG4gICAgfSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXphdGlvbiBlZmZlY3RzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy9pbml0aWFsaXplIGhvc3QgZnVuY3Rpb25zIHByb3BlcnRpZXNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnc2Nyb2xsVG9JdGVtJykpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9ucy5zY3JvbGxUb0l0ZW0gPSBzY3JvbGxUb0l0ZW1cbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnZ2V0VmlzaWJsZUxpc3QnKSkge1xuICAgICAgICAgICAgZnVuY3Rpb25zLmdldFZpc2libGVMaXN0ID0gZ2V0VmlzaWJsZUxpc3RcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnZ2V0Q29udGVudExpc3QnKSkge1xuICAgICAgICAgICAgZnVuY3Rpb25zLmdldENvbnRlbnRMaXN0ID0gZ2V0Q29udGVudExpc3RcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgncmVsb2FkJykpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9ucy5yZWxvYWQgPSByZWxvYWRcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudCA9IGZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFja1xuXG4gICAgfSxbZnVuY3Rpb25zXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCB2aWV3cG9ydERhdGEgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudFxuICAgICAgICB2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsb25TY3JvbGwpXG5cbiAgICAgICAgY29udGVudE1hbmFnZXIuY3JlYXRlU2Nyb2xsZXJQb3J0YWxSZXBvc2l0b3J5KGNyYWRsZVByb3BzUmVmLmN1cnJlbnQuc2Nyb2xsZXJJRClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndW5tb3VudGluZyBjcmFkbGU6c2Nyb2xsZXJOYW1lLCBwb3J0YWxzJyxcbiAgICAgICAgICAgIC8vICAgICBzY3JvbGxlck5hbWUsY3JhZGxlQ29udGVudFJlZi5jdXJyZW50LnBvcnRhbERhdGEpXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnQgJiYgdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLG9uU2Nyb2xsKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZWNvbmZpZ3VyYXRpb24gZWZmZWN0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyB0cmlnZ2VyIHJlc2l6aW5nIGJhc2VkIG9uIHZpZXdwb3J0IHN0YXRlXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3ZpZXdwb3J0RGF0YS5pc1Jlc2l6aW5nJywgdmlld3BvcnREYXRhLmlzUmVzaXppbmcpXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuICAgICAgICBpZiAodmlld3BvcnREYXRhLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgY2FsbGluZ1JlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50ID0gey4uLnN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50fVxuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGluZyByZXNpemluZyB3aXRoJywgY2FsbGluZ1JlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50KVxuXG4gICAgICAgICAgICBjb250cm9sRmxhZ3NSZWYuY3VycmVudC5wYXVzZUl0ZW1PYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgICAgICBjb250cm9sRmxhZ3NSZWYuY3VycmVudC5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgY29udHJvbEZsYWdzUmVmLmN1cnJlbnQucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbXBsZXRlIHJlc2l6aW5nIG1vZGVcbiAgICAgICAgaWYgKCF2aWV3cG9ydERhdGEuaXNSZXNpemluZyAmJiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAncmVzaXppbmcnKSkge1xuXG4gICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3Jlc2l6ZScpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbdmlld3BvcnREYXRhLmlzUmVzaXppbmddKVxuXG4gICAgLy8gcmVsb2FkIGZvciBjaGFuZ2VkIHBhcmFtZXRlcnNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICAvLyBsZXQgc3BpbmVvZmZzZXRcbiAgICAgICAgLy8gaWYgKGNyYWRsZVByb3BzUmVmLmN1cnJlbnQub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAvLyAgICAgc3BpbmVvZmZzZXQgPSBzcGluZUNyYWRsZUVsZW1lbnRSZWYuY3VycmVudC5vZmZzZXRUb3AgLSB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsVG9wXG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBzcGluZW9mZnNldCA9IHNwaW5lQ3JhZGxlRWxlbWVudFJlZi5jdXJyZW50Lm9mZnNldExlZnQgLSB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsTGVmdFxuICAgICAgICAvLyB9XG5cbiAgICAgICAgY2FsbGluZ1JlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50ID0gey4uLnN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50fVxuXG4gICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlSXRlbU9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAvLyBwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9LFtcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgIF0pXG5cbiAgICAvLyB0cmlnZ2VyIHBpdm90IG9uIGNoYW5nZSBpbiBvcmllbnRhdGlvblxuICAgIHVzZUVmZmVjdCgoKT0+IHtcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCAhPSAnc2V0dXAnKSB7XG5cbiAgICAgICAgICAgIGNhbGxpbmdSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCA9IHsuLi5zdGFibGVSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudH1cblxuICAgICAgICAgICAgLy8gbGV0IG9yaWVudGF0aW9uID0gY3JhZGxlUHJvcHNSZWYuY3VycmVudC5vcmllbnRhdGlvblxuICAgICAgICAgICAgLy8gZ2V0IHByZXZpb3VzIHJhdGlvblxuICAgICAgICAgICAgbGV0IHByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP2NyYWRsZVByb3BzUmVmLmN1cnJlbnQuY2VsbFdpZHRoOmNyYWRsZVByb3BzUmVmLmN1cnJlbnQuY2VsbEhlaWdodFxuICAgICAgICAgICAgbGV0IHByZXZpb3VzU3BpbmVPZmZzZXQgPSBjYWxsaW5nUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQuc3BpbmVvZmZzZXRcblxuICAgICAgICAgICAgbGV0IHByZXZpb3VzcmF0aW8gPSBwcmV2aW91c1NwaW5lT2Zmc2V0L3ByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoXG5cbiAgICAgICAgICAgIGxldCBjdXJyZW50Q2VsbFBpeGVsTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP2NyYWRsZVByb3BzUmVmLmN1cnJlbnQuY2VsbEhlaWdodDpjcmFkbGVQcm9wc1JlZi5jdXJyZW50LmNlbGxXaWR0aFxuXG4gICAgICAgICAgICBsZXQgY3VycmVudFNwaW5lT2Zmc2V0ID0gcHJldmlvdXNyYXRpbyAqIGN1cnJlbnRDZWxsUGl4ZWxMZW5ndGhcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gc2Nyb2xsUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQuc3BpbmVvZmZzZXQgPSBcbiAgICAgICAgICAgIGNhbGxpbmdSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudC5zcGluZW9mZnNldCA9IE1hdGgucm91bmQoY3VycmVudFNwaW5lT2Zmc2V0KVxuXG4gICAgICAgICAgICBjb250cm9sRmxhZ3NSZWYuY3VycmVudC5wYXVzZUl0ZW1PYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIC8vIHBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJSZWYuY3VycmVudCA9IHRydWVcbiAgICAgICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdwaXZvdCcpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY3JhZGxlQ29udGVudFJlZi5jdXJyZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsID0gW11cbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWwgPSBbXVxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRWaWV3ID0gW11cbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsVmlldyA9IFtdXG5cbiAgICB9LFtvcmllbnRhdGlvbl0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE9QRVJBVElPTiBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzZXNzaW9uIGRhdGEgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLSBjdXJyZW50IGxvY2F0aW9uIC0tIGZpcnN0IHRhaWwgdmlzaWJsZSBpdGVtIC0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGluc3RhbmNlSWRDb3VudGVyUmVmID0gdXNlUmVmKDApXG4gICAgY29uc3QgaW5zdGFuY2VJZE1hcFJlZiA9IHVzZVJlZihuZXcgTWFwKCkpXG5cbiAgICBjb25zdCBzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYgPSB1c2VSZWYoeyAvLyBleGlzdGluZyBvciBleHBlY3RlZCwgbW9uaXRvcmVkIHRocm91Z2ggb25TY3JvbGxcbiAgICAgICAgaW5kZXg6TWF0aC5taW4oaW5kZXhPZmZzZXQsKGxpc3RzaXplIC0gMSkpIHx8IDAsXG4gICAgICAgIHNwaW5lb2Zmc2V0OnBhZGRpbmdcbiAgICB9KSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcblxuICAgIC8vIHNldCBieSBvblNjcm9sbCBhdCB0aGUgZW5kIG9mIHNjcm9sbCBzZXNzaW9uc1xuICAgIGNvbnN0IHN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZiA9IHVzZVJlZihzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCkgXG5cbiAgICAvLyBhbnRpY2lwYXRlIGNhbGxpbmcgb2Ygb3BlcmF0aW9uIHdoaWNoIHJlcXVpcmVzIFJlZmVyZW5jZUluZGV4IGRhdGFcbiAgICBjb25zdCBjYWxsaW5nUmVmZXJlbmNlSW5kZXhEYXRhUmVmID0gdXNlUmVmKHN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50KSAvLyBhbnRpY2lwYXRlIHJlcG9zaXRpb25cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNyYWRsZSBkYXRhIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBUT0RPOiBjcmVhdGUgYSBkYXRhbW9kZWwgb2JqZWN0IGZvciB0aGlzP1xuICAgIC8vIGNyYWRsZSBidXR0ZXJmbHkgaHRtbCBjb21wb25lbnRzXG4gICAgY29uc3QgaGVhZENyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCB0YWlsQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IHNwaW5lQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzUmVmID0gdXNlUmVmKFxuICAgICAgICB7XG4gICAgICAgICAgICBoZWFkOmhlYWRDcmFkbGVFbGVtZW50UmVmLCBcbiAgICAgICAgICAgIHRhaWw6dGFpbENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgc3BpbmU6c3BpbmVDcmFkbGVFbGVtZW50UmVmXG4gICAgICAgIH1cbiAgICApXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoc2Nyb2xsZXJJRCA9PSAwIHx8ICFzcGluZUNyYWRsZUVsZW1lbnRSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgICAgIGxldCBwYXJlbnRzY3JvbGxlcmlkXG4gICAgICAgIGxldCBwYXJlbnRpbmRleFxuICAgICAgICBsZXQgZWwgPSBzcGluZUNyYWRsZUVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhc2V0JyxlbC5kYXRhc2V0LCBlbClcbiAgICAgICAgICAgIGlmIChlbC5kYXRhc2V0ICYmIChlbC5kYXRhc2V0LnR5cGUgPT0gJ3BvcnRhbGNvbnRhaW5lcicpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50aW5kZXggPSBwYXJzZUludChlbC5kYXRhc2V0LmluZGV4KVxuICAgICAgICAgICAgICAgIHBhcmVudHNjcm9sbGVyaWQgPSBwYXJzZUludChlbC5kYXRhc2V0LnNjcm9sbGVyaWQpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SOiBwYXJlbnQgcG9ydGFsY29udGFpbmVyIG5vdCBmb3VuZCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBwb3J0YWxSZWYuY3VycmVudCA9IGNvbnRlbnRtYW5hZ2VyLmdldFBvcnRhbExpc3RJdGVtKHBhcmVudHNjcm9sbGVyaWQsIHBhcmVudGluZGV4KVxuICAgICAgICAvLyBjb25zb2xlLmxvZygndmlld3BvcnQgb2Ygc2Nyb2xsZXJJRCBoYXMgcGFyZW50c2Nyb2xsZXJpZCBhbmQgcGFyZW50aW5kZXggZm9yIHBvcnRhbCcsIFxuICAgICAgICAvLyAgICAgc2Nyb2xsZXJJRCwgcGFyZW50c2Nyb2xsZXJpZCwgcGFyZW50aW5kZXgscG9ydGFsUmVmLmN1cnJlbnQpXG4gICAgICAgIC8vIHBvcnRhbEluZGV4UmVmLmN1cnJlbnQgPSBlbC5kYXRhc2V0LmluZGV4XG5cbiAgICB9LFtzcGluZUNyYWRsZUVsZW1lbnRSZWYuY3VycmVudF0pXG5cblxuICAgIGNvbnN0IGNyYWRsZUNvbnRlbnRSZWYgPSB1c2VSZWYoe1xuICAgICAgICBjcmFkbGVNb2RlbDogbnVsbCxcbiAgICAgICAgaGVhZE1vZGVsOiBudWxsLFxuICAgICAgICB0YWlsTW9kZWw6IG51bGwsXG4gICAgICAgIGhlYWRWaWV3OiBbXSxcbiAgICAgICAgdGFpbFZpZXc6IFtdLFxuICAgICAgICAvLyBwb3J0YWxEYXRhOiBuZXcgTWFwKClcbiAgICB9KVxuXG4gICAgLy8gaXRlbSBlbGVtZW50cyBjYWNoZS4uLlxuICAgIGNvbnN0IGl0ZW1FbGVtZW50c1JlZiA9IHVzZVJlZihuZXcgTWFwKCkpIC8vIGl0ZW1zIHJlZ2lzdGVyIHRoZWlyIGVsZW1lbnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY3JhZGxlIGNvbmZpZ3VyYXRpb24gXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgeyB2aWV3cG9ydERpbWVuc2lvbnMgfSA9IHZpZXdwb3J0RGF0YVxuXG4gICAgbGV0IHsgaGVpZ2h0OnZpZXdwb3J0aGVpZ2h0LHdpZHRoOnZpZXdwb3J0d2lkdGggfSA9IHZpZXdwb3J0RGltZW5zaW9uc1xuICAgIFxuICAgIGNvbnN0IGNyb3NzY291bnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBsZXQgY3Jvc3Njb3VudFxuICAgICAgICBsZXQgc2l6ZSA9IChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpP3ZpZXdwb3J0aGVpZ2h0OnZpZXdwb3J0d2lkdGhcbiAgICAgICAgbGV0IGNyb3NzTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/Y2VsbEhlaWdodDpjZWxsV2lkdGhcblxuICAgICAgICBsZXQgbGVuZ3RoZm9yY2FsYyA9IHNpemUgLSAocGFkZGluZyAqIDIpICsgZ2FwIC8vIGxlbmd0aCBvZiB2aWV3cG9ydFxuICAgICAgICBsZXQgdGlsZWxlbmd0aGZvcmNhbGMgPSBjcm9zc0xlbmd0aCArIGdhcFxuICAgICAgICB0aWxlbGVuZ3RoZm9yY2FsYyA9IE1hdGgubWluKHRpbGVsZW5ndGhmb3JjYWxjLGxlbmd0aGZvcmNhbGMpIC8vIHJlc3VsdCBjYW5ub3QgYmUgbGVzcyB0aGFuIDFcbiAgICAgICAgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3IobGVuZ3RoZm9yY2FsYy8odGlsZWxlbmd0aGZvcmNhbGMpKVxuICAgICAgICByZXR1cm4gY3Jvc3Njb3VudFxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGdhcCwgXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgXSlcblxuICAgIC8vIGNvbnN0IGNyb3NzY291bnRSZWYgPSB1c2VSZWYoY3Jvc3Njb3VudCkgLy8gZm9yIGVhc3kgcmVmZXJlbmNlIGJ5IG9ic2VydmVyXG4gICAgLy8gY3Jvc3Njb3VudFJlZi5jdXJyZW50ID0gY3Jvc3Njb3VudCAvLyBhdmFpbGFibGUgZm9yIG9ic2VydmVyIGNsb3N1cmVcblxuICAgIGNvbnN0IFtjcmFkbGVSb3djb3VudCx2aWV3cG9ydFJvd2NvdW50XSA9IHVzZU1lbW8oKCk9PiB7XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0TGVuZ3RoLCBjZWxsTGVuZ3RoXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICB2aWV3cG9ydExlbmd0aCA9IHZpZXdwb3J0aGVpZ2h0XG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbEhlaWdodFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSB2aWV3cG9ydHdpZHRoXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoXG4gICAgICAgIH1cblxuICAgICAgICBjZWxsTGVuZ3RoICs9IGdhcFxuXG4gICAgICAgIGxldCB2aWV3cG9ydHJvd2NvdW50ID0gTWF0aC5jZWlsKHZpZXdwb3J0TGVuZ3RoL2NlbGxMZW5ndGgpXG4gICAgICAgIGxldCBjcmFkbGVSb3djb3VudCA9IHZpZXdwb3J0cm93Y291bnQgKyAocnVud2F5Y291bnQgKiAyKVxuICAgICAgICBsZXQgaXRlbWNvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgICAgIGlmIChpdGVtY291bnQgPiBsaXN0c2l6ZSkge1xuICAgICAgICAgICAgaXRlbWNvdW50ID0gbGlzdHNpemVcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50ID0gTWF0aC5jZWlsKGl0ZW1jb3VudC9jcm9zc2NvdW50KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY3JhZGxlUm93Y291bnQsIHZpZXdwb3J0cm93Y291bnRdXG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIC8vIHBhZGRpbmcsXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgcnVud2F5Y291bnQsXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgXSlcblxuICAgIC8vIGNvbnN0IGNyYWRsZVJvd2NvdW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgLy8gY3JhZGxlUm93Y291bnRSZWYuY3VycmVudCA9IGNyYWRsZVJvd2NvdW50XG4gICAgLy8gY29uc3Qgdmlld3BvcnRSb3djb3VudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIC8vIHZpZXdwb3J0Um93Y291bnRSZWYuY3VycmVudCA9IHZpZXdwb3J0Um93Y291bnRcblxuICAgIGNvbnN0IGNyYWRsZUNvbmZpZ1JlZiA9IHVzZVJlZih7XG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQ6SVRFTV9PQlNFUlZFUl9USFJFU0hPTEQsXG4gICAgICAgIGxpc3RSb3djb3VudDpNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudClcbiAgICB9KVxuXG4gICAgY3JhZGxlQ29uZmlnUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQ6SVRFTV9PQlNFUlZFUl9USFJFU0hPTEQsXG4gICAgICAgIGxpc3RSb3djb3VudDpNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudCksXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY3JhZGxlIGRlZmF1bHQgc3R5bGVzXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGJhc2Ugc3R5bGVzXG4gICAgbGV0IGNyYWRsZUhlYWRTdHlsZSA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9IDBcbiAgICAgICAgICAgIHJpZ2h0ID0gMFxuICAgICAgICAgICAgdG9wID0gJ2F1dG8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b20gPSAwXG4gICAgICAgICAgICBsZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7Li4ue1xuXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgZ3JpZEdhcDogZ2FwICsgJ3B4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcgKyAncHgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGFsaWduQ29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIHRvcCxcblxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsLi4uc3R5bGVzPy5jcmFkbGV9XG5cbiAgICB9LFtcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgIF0pXG5cbiAgICBsZXQgY3JhZGxlVGFpbFN0eWxlID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgbGV0IGJvdHRvbSwgbGVmdCwgdG9wLCByaWdodFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBib3R0b20gPSAnYXV0bydcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgdG9wID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsuLi57XG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgICAgICBncmlkR2FwOiBnYXAgKyAncHgnLFxuICAgICAgICAgICAgcGFkZGluZzogcGFkZGluZyArICdweCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYWxpZ25Db250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcywuLi5zdHlsZXM/LmNyYWRsZX1cblxuICAgIH0sW1xuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgXSlcblxuICAgIC8vIHJlZHVuZGFudFxuICAgIGxldCBjcmFkbGVTcGluZVN0eWxlID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgbGV0IHN0eWxlb2JqOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGVvYmpcblxuICAgIH0sW1xuXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuXG4gICAgXSlcblxuICAgIC8vIGVuaGFuY2VkIHN0eWxlcyBmb3IgZ3JpZFxuICAgIGNvbnN0IFtoZWFkc3R5bGUsIHRhaWxzdHlsZSwgc3BpbmVzdHlsZV0gPSB1c2VNZW1vKCgpPT4ge1xuICAgICAgICAvLyBtZXJnZSBiYXNlIHN0eWxlIGFuZCByZXZpc2lvbnMgKGJ5IG9ic2VydmVyKVxuICAgICAgICBsZXQgaGVhZENyYWRsZVN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gey4uLmNyYWRsZUhlYWRTdHlsZX1cbiAgICAgICAgbGV0IHRhaWxDcmFkbGVTdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHsuLi5jcmFkbGVUYWlsU3R5bGV9XG4gICAgICAgIGxldCBbaGVhZHN0eWxlcywgdGFpbHN0eWxlc10gPSBzZXRDcmFkbGVHcmlkU3R5bGVzKHtcblxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgaGVhZENyYWRsZVN0eWxlcywgXG4gICAgICAgICAgICB0YWlsQ3JhZGxlU3R5bGVzLCBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgICAgIHZpZXdwb3J0d2lkdGgsIFxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdG9wID0gcGFkZGluZyArICdweCdcbiAgICAgICAgICAgIGxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IHBhZGRpbmcgKyAncHgnXG4gICAgICAgICAgICB3aWR0aCA9IDBcbiAgICAgICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNwaW5lc3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG5cbiAgICAgICAgcmV0dXJuIFtoZWFkc3R5bGVzLCB0YWlsc3R5bGVzLCBzcGluZXN0eWxlXVxuXG4gICAgfSxbXG5cbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICB2aWV3cG9ydGhlaWdodCxcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgY3Jvc3Njb3VudCxcblxuICAgICAgXSlcblxuICAgIGNyYWRsZUhlYWRTdHlsZSA9IGhlYWRzdHlsZVxuICAgIGNyYWRsZVRhaWxTdHlsZSA9IHRhaWxzdHlsZVxuICAgIGNyYWRsZVNwaW5lU3R5bGUgPSBzcGluZXN0eWxlXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBJbnRlcnNlY3Rpb25PYnNlcnZlciBzdXBwb3J0XS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qXG4gICAgICAgIFRoZXJlIGFyZSB0d28gaW50ZXJlY3Rpb24gb2JzZXJ2ZXJzLCBvbmUgZm9yIHRoZSBjcmFkbGUsIGFuZCBhbm90aGVyIGZvciBpdGVtU2hlbGxzOyBcbiAgICAgICAgICAgIGJvdGggYWdhaW5zdCB0aGUgdmlld3BvcnQuXG4gICAgICAgIFRoZXJlIGlzIGFsc28gYSByZXNpemUgb2JzZXJ2ZXIgZm9yIHRoZSBjcmFkbGUgd2luZ3MsIHRvIHJlc3BvbmQgdG8gc2l6ZSBjaGFuZ2VzIG9mIFxuICAgICAgICAgICAgdmFyaWFibGUgY2VsbHMuXG4gICAgKi8gICAgXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY3JhZGxlIG9ic2VydmVycyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIHNldCB1cCBjcmFkbGUgcmVzaXplb2JzZXJ2ZXJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIC8vIFJlc2l6ZU9ic2VydmVyXG4gICAgICAgIGNyYWRsZVJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgTG9jYWxSZXNpemVPYnNlcnZlcihjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrKVxuXG4gICAgICAgIGxldCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgY3JhZGxlUmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWQuY3VycmVudClcbiAgICAgICAgY3JhZGxlUmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRhaWwuY3VycmVudClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBjcmFkbGVSZXNpemVPYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICBjb25zdCBjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKGVudHJpZXMpID0+IHtcblxuICAgICAgICBpZiAoY29udHJvbEZsYWdzUmVmLmN1cnJlbnQucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcikgcmV0dXJuXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gdGhpcyBzZXRzIHVwIGFuIEludGVyc2VjdGlvbk9ic2VydmVyIG9mIHRoZSBjcmFkbGUgYWdhaW5zdCB0aGUgdmlld3BvcnQuIFdoZW4gdGhlXG4gICAgLy8gY3JhZGxlIGdvZXMgb3V0IG9mIHRoZSBvYnNlcnZlciBzY29wZSwgdGhlIFwicmVwb3NpdGlvbmluZ1wiIGNyYWRsZSBzdGF0ZSBpcyB0cmlnZ2VyZC5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGxldCB2aWV3cG9ydERhdGEgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudFxuICAgICAgICAvLyBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgICBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuXG4gICAgICAgICAgICBjcmFkbGVpbnRlcnNlY3Rpb25vYnNlcnZlcmNhbGxiYWNrLFxuICAgICAgICAgICAge3Jvb3Q6dmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudCwgdGhyZXNob2xkOjB9XG5cbiAgICAgICAgKVxuXG4gICAgICAgIGxldCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWQuY3VycmVudClcbiAgICAgICAgY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRhaWwuY3VycmVudClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICBjb25zdCBjcmFkbGVpbnRlcnNlY3Rpb25vYnNlcnZlcmNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKGVudHJpZXMpID0+IHtcblxuICAgICAgICBsZXQgY29udHJvbEZsYWdzID0gY29udHJvbEZsYWdzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY29udHJvbEZsYWdzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHJldHVyblxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IGVudHJpZXNbaV1cbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC5uYW1lID09ICdoZWFkJykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xGbGFncy5pc0hlYWRDcmFkbGVJblZpZXcgPSBlbnRyeS5pc0ludGVyc2VjdGluZ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sRmxhZ3MuaXNUYWlsQ3JhZGxlSW5WaWV3ID0gZW50cnkuaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250cm9sRmxhZ3MuaXNDcmFkbGVJblZpZXcgPSAoY29udHJvbEZsYWdzLmlzSGVhZENyYWRsZUluVmlldyB8fCBjb250cm9sRmxhZ3MuaXNUYWlsQ3JhZGxlSW5WaWV3KVxuXG4gICAgICAgIGlmICghY29udHJvbEZsYWdzLmlzQ3JhZGxlSW5WaWV3KSBcblxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaW5zaWRlIGNyYWRsZWludGVyc2VjdGlvbm9ic2VydmVyY2FsbGJhY2sgcG9ydGFsUmVmJyxwb3J0YWxSZWYpXG4gICAgICAgICAgICBsZXQgY3JhZGxlU3RhdGUgPSBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICAgICAgICBcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaXNSZXNpemluZyAmJlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3Jlc2l6ZScpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZycpICYmIFxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb24nKSAmJiBcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdwaXZvdCcpICYmXG4gICAgICAgICAgICAgICAgIShwb3J0YWxSZWYuY3VycmVudCAmJiBwb3J0YWxSZWYuY3VycmVudC5yZXBhcmVudGluZylcbiAgICAgICAgICAgICAgICApIFxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgICAgICBsZXQge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdH0gPSByZWN0XG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gcmlnaHQgLSBsZWZ0LCBoZWlnaHQgPSBib3R0b20gLSB0b3BcbiAgICAgICAgICAgICAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudC52aWV3cG9ydERpbWVuc2lvbnMgPSB7dG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0fSAvLyB1cGRhdGUgZm9yIHNjcm9sbHRyYWNrZXJcbiAgICAgICAgICAgICAgICBjb250cm9sRmxhZ3MucGF1c2VJdGVtT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgICAgICAgICAgLy8gcGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlclJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdSRVBPU0lUSU9OSU5HIHNjcm9sbGVySUQnLCBzY3JvbGxlcklELCBwb3J0YWxSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICBsZXQgY3JhZGxlQ29udGVudCA9IGNyYWRsZUNvbnRlbnRSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdyZXBvc2l0aW9uaW5nJylcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGl0ZW0gc2hlbGwgb2JzZXJ2ZXIgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKlxuICAgICAgICBUaGUgY3JhZGxlIGNvbnRlbnQgaXMgZHJpdmVuIGJ5IG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuXG4gICAgICAgIC0gYXMgdGhlIHVzZXIgc2Nyb2xscyB0aGUgY3JhZGxlLCB3aGljaCBoYXMgYSBydW53YXljb3VudCBhdCBib3RoIHRoZSBsZWFkaW5nXG4gICAgICAgICAgICBhbmQgdHJhaWxpbmcgZWRnZXMsIGl0ZW1TaGVsbHMgc2Nyb2xsIGludG8gb3Igb3V0IG9mIHRoZSBzY29wZSBvZiB0aGUgb2JzZXJ2ZXIgXG4gICAgICAgICAgICAoZGVmaW5lZCBieSB0aGUgd2lkdGgvaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCArIHRoZSBsZW5ndGhzIG9mIHRoZSBydW53YXlzKS4gVGhlIG9ic2VydmVyXG4gICAgICAgICAgICBub3RpZmllcyB0aGUgYXBwICh0aHJvdWdoIGl0ZW1vYnNlcnZlcmNhbGxiYWNrKCkgYmVsb3cpIGF0IHRoZSBjcm9zc2luZ3Mgb2YgdGhlIGl0ZW1zaGVsbHMgXG4gICAgICAgICAgICBvZiB0aGUgZGVmaW5lZCBvYnNlcnZlciBjcmFkbGUgYm91bmRhcmllcy5cblxuICAgICAgICAgICAgVGhlIG5vLWxvbmdlci1pbnRlcnNlY3Rpbmcgbm90aWZpY2F0aW9ucyB0cmlnZ2VyIGRyb3BwaW5nIG9mIHRoYXQgbnVtYmVyIG9mIGFmZmVjdGVkIGl0ZW1zIGZyb20gXG4gICAgICAgICAgICB0aGUgY3JhZGxlIGNvbnRlbnRsaXN0LiBUaGUgZHJvcHBpbmcgb2YgaXRlbXMgZnJvbSB0aGUgdHJhaWxpbmcgZW5kIG9mIHRoZSBjb250ZW50IGxpc3RcbiAgICAgICAgICAgIHRyaWdnZXJzIHRoZSBhZGRpdGlvbiBvZiBhbiBlcXVhbCBudW1iZXIgb2YgaXRlbXMgYXQgdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgY3JhZGxlIGNvbnRlbnQuXG5cbiAgICAgICAgICAgIFRlY2huaWNhbGx5LCB0aGUgb3Bwb3NpdGUgZW5kIHBvc2l0aW9uIHNwZWMgaXMgc2V0ICh0b3Agb3IgbGVmdCBkZXBlbmRpbmcgb24gb3JpZW50YXRpb24pLCBcbiAgICAgICAgICAgIGFuZCB0aGUgbWF0Y2hpbmcgZW5kIHBvc2l0aW9uIHNwZWMgaXMgc2V0IHRvICdhdXRvJyB3aGVuIGl0ZW1zIGFyZSBhZGRlZC4gVGhpcyBjYXVzZXMgaXRlbXMgdG8gYmUgXG4gICAgICAgICAgICBcInNxdWVlemVkXCIgaW50byB0aGUgbGVhZGluZyBvciB0cmFpbGluZyBlbmRzIG9mIHRoZSB1aSBjb250ZW50IChvdXQgb2YgdmlldykgYXMgYXBwcm9wcmlhdGUuXG5cbiAgICAgICAgICAgIFRoZXJlIGFyZSBleGNlcHRpb25zIGZvciBzZXR1cCBhbmQgZWRnZSBjYXNlcy5cbiAgICAqL1xuXG4gICAgLy8gY2hhbmdlIG9yaWVudGF0aW9uXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBpZiAoaXRlbU9ic2VydmVyUmVmLmN1cnJlbnQpIGl0ZW1PYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuICAgICAgICBpdGVtT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcblxuICAgICAgICAgICAgaXRlbW9ic2VydmVyY2FsbGJhY2ssXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm9vdDp2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQsIFxuICAgICAgICAgICAgICAgIHRocmVzaG9sZDpjcmFkbGVDb25maWdSZWYuY3VycmVudC5pdGVtT2JzZXJ2ZXJUaHJlc2hvbGQsXG4gICAgICAgICAgICB9IFxuXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBpdGVtT2JzZXJ2ZXJSZWYuY3VycmVudC5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtvcmllbnRhdGlvbl0pXG5cbiAgICAvLyB0aGUgYXN5bmMgY2FsbGJhY2sgZnJvbSBJbnRlcnNlY3Rpb25PYnNlcnZlci5cbiAgICBjb25zdCBpdGVtb2JzZXJ2ZXJjYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlbnRyaWVzKT0+e1xuXG4gICAgICAgIGxldCBtb3ZlZGVudHJpZXMgPSBbXVxuXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC5pbml0aWFsaXplZCkge1xuXG4gICAgICAgICAgICAgICAgbW92ZWRlbnRyaWVzLnB1c2goZW50cnkpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBlbnRyeS50YXJnZXQuZGF0YXNldC5pbml0aWFsaXplZCA9IHRydWVcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlSXRlbU9ic2VydmVyKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cbiAgICAgICAgLy8gaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKClcbiAgICAgICAgaXNNb3VudGVkKCkgJiYgdXBkYXRlQ3JhZGxlQ29udGVudChtb3ZlZGVudHJpZXMpXG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3QgcHJldmlvdXNTY3JvbGxGb3J3YXJkUmVmID0gdXNlUmVmKHVuZGVmaW5lZClcblxuICAgIGNvbnN0IHVwZGF0ZUNyYWRsZUNvbnRlbnQgPSAoZW50cmllcywgc291cmNlID0gJ25vdGlmaWNhdGlvbnMnKSA9PiB7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3VwZGF0aW5nIGNyYWRsZSBjb250ZW50OiBlbnRyaWVzLmxlbmd0aCwgc291cmNlJywgZW50cmllcy5sZW5ndGgsIHNvdXJjZSlcblxuICAgICAgICBsZXQgdmlld3BvcnREYXRhID0gdmlld3BvcnREYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IHZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IGNyYWRsZVByb3BzID0gY3JhZGxlUHJvcHNSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBzY3JvbGxPZmZzZXRcbiAgICAgICAgaWYgKGNyYWRsZVByb3BzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHNjcm9sbE9mZnNldCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjcm9sbE9mZnNldCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBzY3JvbGxPZmZzZXQgPCAwKSB7IC8vIGZvciBTYWZhcmkgZWxhc3RpYyBib3VuY2UgYXQgdG9wIG9mIHNjcm9sbFxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGVDcmFkbGVDb250ZW50IHNjcm9sbE9mZnNldCcsIHNjcm9sbE9mZnNldClcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMS4gaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGxldCBzY3JvbGxQb3NpdGlvbnMgPSBzY3JvbGxQb3NpdGlvbnNSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBzY3JvbGxmb3J3YXJkXG4gICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbnMuY3VycmVudCA9PSBzY3JvbGxQb3NpdGlvbnMucHJldmlvdXMpIHsgLy8gZWRnZSBjYXNlIFxuXG4gICAgICAgICAgICBzY3JvbGxmb3J3YXJkID0gcHJldmlvdXNTY3JvbGxGb3J3YXJkUmVmLmN1cnJlbnRcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzY3JvbGxmb3J3YXJkID0gc2Nyb2xsUG9zaXRpb25zLmN1cnJlbnQgPiBzY3JvbGxQb3NpdGlvbnMucHJldmlvdXNcbiAgICAgICAgICAgIHByZXZpb3VzU2Nyb2xsRm9yd2FyZFJlZi5jdXJyZW50ID0gc2Nyb2xsZm9yd2FyZFxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsZm9yd2FyZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gLy8gaW5pdCBjYWxsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3JhZGxlRWxlbWVudHMgPSBjcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50XG4gICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY3JhZGxlQ29udGVudFJlZi5jdXJyZW50XG4gICAgICAgIGxldCBjcmFkbGVDb25maWcgPSBjcmFkbGVDb25maWdSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBpdGVtRWxlbWVudHMgPSBpdGVtRWxlbWVudHNSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBtb2RlbGNvbnRlbnRsaXN0ID0gY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbFxuXG4gICAgICAgIGxldCBjcmFkbGVSZWZlcmVuY2VJbmRleCA9IG1vZGVsY29udGVudGxpc3RbMF0ucHJvcHMuaW5kZXhcblxuICAgICAgICAvLyBsZXQgY3JhZGxlQ29uZmlnID0gY3JhZGxlQ29uZmlnUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgMi4gZmlsdGVyIGludGVyc2VjdGlvbnMgbGlzdCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBmaWx0ZXIgb3V0IGluYXBwbGljYWJsZSBpbnRlcnNlY3Rpb24gZW50cmllc1xuICAgICAgICAvLyB3ZSdyZSBvbmx5IGludGVyZXN0ZWQgaW4gaW50ZXJzZWN0aW9ucyBwcm94aW1hbCB0byB0aGUgc3BpbmVcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBpc29sYXRlUmVsZXZhbnRJbnRlcnNlY3Rpb25zKHtcblxuICAgICAgICAgICAgc2Nyb2xsZm9yd2FyZCxcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnM6ZW50cmllcyxcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgICAgICAgICBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQ6Y3JhZGxlQ29uZmlnLml0ZW1PYnNlcnZlclRocmVzaG9sZCxcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnRlcnNlY3Rpb25zJywgaW50ZXJzZWN0aW9ucylcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMy4gQ2FsY3VsYXRlIHNoaWZ0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGxldCBbY3JhZGxlaW5kZXgsIFxuICAgICAgICAgICAgY3JhZGxlaXRlbXNoaWZ0LCBcbiAgICAgICAgICAgIHNwaW5lUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICAgICAgcmVmZXJlbmNlaXRlbXNoaWZ0LFxuICAgICAgICAgICAgc3BpbmVPZmZzZXQsIFxuICAgICAgICAgICAgY29udGVudENvdW50XSA9IGNhbGNDb250ZW50U2hpZnRzKHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbmZpZyxcbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCxcbiAgICAgICAgICAgICAgICBpdGVtRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBzY3JvbGxmb3J3YXJkLFxuICAgICAgICAgICAgICAgIC8vIHNvdXJjZSxcblxuICAgICAgICB9KVxuXG4gICAgICAgICAvLyBjb25zb2xlLmxvZygnaW4gdXBkYXRlQ3JhZGxlQ29udGVudDogY3JhZGxlaW5kZXgsIGNyYWRsZWl0ZW1zaGlmdCwgc3BpbmVSZWZlcmVuY2VJbmRleCwgcmVmZXJlbmNlaXRlbXNoaWZ0LCBzcGluZU9mZnNldCwgY29udGVudENvdW50JyxcbiAgICAgICAgIC8vICAgICBjcmFkbGVpbmRleCwgY3JhZGxlaXRlbXNoaWZ0LCBzcGluZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VpdGVtc2hpZnQsIHNwaW5lT2Zmc2V0LCBjb250ZW50Q291bnQpXG5cbiAgICAgICAgaWYgKChyZWZlcmVuY2VpdGVtc2hpZnQgPT0gMCAmJiBjcmFkbGVpdGVtc2hpZnQgPT0gMCkpIHJldHVyblxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVsgNC4gY2FsY3VsYXRlIGhlYWQgYW5kIHRhaWwgY29uc29saWRhdGVkIGNyYWRsZSBjb250ZW50IGNoYW5nZXMgXS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgbGV0IFtoZWFkY2hhbmdlY291bnQsdGFpbGNoYW5nZWNvdW50XSA9IGNhbGNIZWFkQW5kVGFpbENoYW5nZXMoe1xuXG4gICAgICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgICAgIGNyYWRsZUNvbmZpZyxcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgICAgICAgICBjcmFkbGVzaGlmdGNvdW50OmNyYWRsZWl0ZW1zaGlmdCxcbiAgICAgICAgICAgIHNjcm9sbGZvcndhcmQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdoZWFkY2hhbmdlY291bnQsdGFpbGNoYW5nZWNvdW50JyxoZWFkY2hhbmdlY291bnQsdGFpbGNoYW5nZWNvdW50KVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDUuIHJlY29uZmlndXJlIGNyYWRsZSBjb250ZW50IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNvbGxlY3QgbW9kaWZpZWQgY29udGVudFxuICAgICAgICBsZXQgbG9jYWxDb250ZW50TGlzdCBcblxuICAgICAgICBpZiAoaGVhZGNoYW5nZWNvdW50IHx8IHRhaWxjaGFuZ2Vjb3VudCkge1xuXG4gICAgICAgICAgICBsb2NhbENvbnRlbnRMaXN0ID0gZ2V0VUlDb250ZW50TGlzdCh7XG4gICAgICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29uZmlnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgICAgICBsb2NhbENvbnRlbnRMaXN0Om1vZGVsY29udGVudGxpc3QsXG4gICAgICAgICAgICAgICAgaGVhZGNoYW5nZWNvdW50LFxuICAgICAgICAgICAgICAgIHRhaWxjaGFuZ2Vjb3VudCxcbiAgICAgICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgICAgICBvYnNlcnZlcjogaXRlbU9ic2VydmVyUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOmNhbGxiYWNrc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbG9jYWxDb250ZW50TGlzdCA9IG1vZGVsY29udGVudGxpc3RcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvY2FsQ29udGVudExpc3QubGVuZ3RoJywgbG9jYWxDb250ZW50TGlzdC5sZW5ndGgpXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNy4gYWxsb2NhdGUgY3JhZGxlIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgbGV0IFtoZWFkY29udGVudCwgdGFpbGNvbnRlbnRdID0gYWxsb2NhdGVDb250ZW50TGlzdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250ZW50bGlzdDpsb2NhbENvbnRlbnRMaXN0LFxuICAgICAgICAgICAgICAgIHNwaW5lUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaGVhZGNvbnRlbnQubGVuZ3RoLCB0YWlsY29udGVudC5sZW5ndGgnLGhlYWRjb250ZW50Lmxlbmd0aCwgdGFpbGNvbnRlbnQubGVuZ3RoKVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWwgPSBsb2NhbENvbnRlbnRMaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZFZpZXcgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbCA9IGhlYWRjb250ZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbFZpZXcgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IHRhaWxjb250ZW50XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgOC4gc2V0IGNzcyBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgaWYgKHNwaW5lT2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlRWxlbWVudHNSZWYuY3VycmVudFxuXG4gICAgICAgICAgICBpZiAoY3JhZGxlUHJvcHMub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsUG9zaXRpb25EYXRhUmVmLmN1cnJlbnQgPSB7cHJvcGVydHk6J3Njcm9sbFRvcCcsdmFsdWU6dmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcH1cbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLnRvcCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3AgKyBzcGluZU9mZnNldCArICdweCdcbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLmxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5oZWFkLmN1cnJlbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IGhlYWRjb250ZW50Lmxlbmd0aD9jcmFkbGVQcm9wcy5nYXAgKyAncHgnOjBcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNjcm9sbFBvc2l0aW9uRGF0YVJlZi5jdXJyZW50ID0ge3Byb3BlcnR5OidzY3JvbGxMZWZ0Jyx2YWx1ZTp2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdH1cbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLnRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnNwaW5lLmN1cnJlbnQuc3R5bGUubGVmdCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0ICsgc3BpbmVPZmZzZXQgKyAncHgnXG4gICAgICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuaGVhZC5jdXJyZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IGhlYWRjb250ZW50Lmxlbmd0aD9jcmFkbGVQcm9wcy5nYXAgKyAncHgnOjBcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgIGluZGV4OnNwaW5lUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBzcGluZW9mZnNldDpzcGluZU9mZnNldFxuICAgICAgICB9XG5cbiAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCd1cGRhdGVjb250ZW50JylcblxuICAgIH1cblxuICAgIC8vIEVuZCBvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciBzdXBwb3J0XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgQXNzZW1ibHkgb2YgY29udGVudF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBcbiAgICAvLyByZXNldCBjcmFkbGUsIGluY2x1ZGluZyBhbGxvY2F0aW9uIGJldHdlZW4gaGVhZCBhbmQgdGFpbCBwYXJ0cyBvZiB0aGUgY3JhZGxlXG4gICAgY29uc3Qgc2V0Q3JhZGxlQ29udGVudCA9IChjcmFkbGVTdGF0ZSwgcmVmZXJlbmNlSW5kZXhEYXRhKSA9PiB7IFxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZXRDcmFkbGVDb250ZW50IHN0YXJ0OiBjcmFkbGVTdGF0ZSwgcmVmZXJlbmNlSW5kZXhEYXRhJyxjcmFkbGVTdGF0ZSwgcmVmZXJlbmNlSW5kZXhEYXRhKVxuXG4gICAgICAgIGxldCBjcmFkbGVQcm9wcyA9IGNyYWRsZVByb3BzUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IHsgaW5kZXg6IHZpc2libGV0YXJnZXRpbmRleG9mZnNldCwgXG4gICAgICAgICAgICBzcGluZW9mZnNldDogdmlzaWJsZXRhcmdldHNjcm9sbG9mZnNldCB9ID0gcmVmZXJlbmNlSW5kZXhEYXRhXG5cbiAgICAgICAgbGV0IHtjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIG9yaWVudGF0aW9uLCBydW53YXljb3VudCwgZ2FwLCBwYWRkaW5nLCBsaXN0c2l6ZX0gPSBjcmFkbGVQcm9wc1xuXG4gICAgICAgIGxldCBjcmFkbGVDb25maWcgPSBjcmFkbGVDb25maWdSZWYuY3VycmVudFxuICAgICAgICBsZXQgeyBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50IH0gPSBjcmFkbGVDb25maWdcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb24nKSB7XG5cbiAgICAgICAgICAgIHZpc2libGV0YXJnZXRzY3JvbGxvZmZzZXQgPSAodmlzaWJsZXRhcmdldGluZGV4b2Zmc2V0ID09IDApP3BhZGRpbmc6Z2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb2NhbENvbnRlbnRMaXN0ID0gW11cbiAgICAgICAgbGV0IGNyYWRsZUNvbnRlbnQgPSBjcmFkbGVDb250ZW50UmVmLmN1cnJlbnRcbiAgICAgICAgLy8gY3JhZGxlQ29udGVudC5wb3J0YWxEYXRhLmNsZWFyKClcblxuICAgICAgICBsZXQge2NyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnR9ID0gXG4gICAgICAgICAgICBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyh7XG4gICAgICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29uZmlnLFxuICAgICAgICAgICAgICAgIHZpc2libGV0YXJnZXRpbmRleG9mZnNldCxcbiAgICAgICAgICAgICAgICB0YXJnZXRWaWV3cG9ydE9mZnNldDp2aXNpYmxldGFyZ2V0c2Nyb2xsb2Zmc2V0LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDp2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnRcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3NldENyYWRsZUNvbnRlbnQgZ2V0Q29udGVudExpc3RSZXF1aXJlbWVudHM6IGNyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnQnLFxuICAgICAgICAvLyAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsIHJlZmVyZW5jZW9mZnNldCwgY29udGVudENvdW50LCBzY3JvbGxibG9ja29mZnNldCwgc3BpbmVPZmZzZXQsIHNwaW5lYWRqdXN0bWVudClcblxuICAgICAgICAvLyByZXR1cm5zIGNvbnRlbnQgY29uc3RyYWluZWQgYnkgY3JhZGxlUm93Y291bnRcbiAgICAgICAgbGV0IGNoaWxkbGlzdCA9IGdldFVJQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgICAgIGNyYWRsZUNvbmZpZyxcbiAgICAgICAgICAgIGNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgaGVhZGNoYW5nZWNvdW50OjAsXG4gICAgICAgICAgICB0YWlsY2hhbmdlY291bnQ6Y29udGVudENvdW50LFxuICAgICAgICAgICAgbG9jYWxDb250ZW50TGlzdCxcbiAgICAgICAgICAgIGNhbGxiYWNrczpjYWxsYmFja3NSZWYuY3VycmVudCxcbiAgICAgICAgICAgIG9ic2VydmVyOiBpdGVtT2JzZXJ2ZXJSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICB9KVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hpbGRsaXN0Lmxlbmd0aCwgY29udGVudENvdW50LCByb3dzIGZyb20gc2V0Q29udGVudCcsIGNoaWxkbGlzdC5sZW5ndGgsIGNvbnRlbnRDb3VudCwgTWF0aC5jZWlsKGNvbnRlbnRDb3VudC9jcm9zc2NvdW50KSlcblxuICAgICAgICBsZXQgW2hlYWRjb250ZW50bGlzdCwgdGFpbGNvbnRlbnRsaXN0XSA9IGFsbG9jYXRlQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjb250ZW50bGlzdDpjaGlsZGxpc3QsXG4gICAgICAgICAgICBzcGluZVJlZmVyZW5jZUluZGV4OnJlZmVyZW5jZW9mZnNldCxcbiAgICBcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aCwgdGFpbGNvbnRlbnRsaXN0Lmxlbmd0aCcsaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aCwgdGFpbGNvbnRlbnRsaXN0Lmxlbmd0aClcblxuICAgICAgICBpZiAoaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzcGluZU9mZnNldCA9IHBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWwgPSBjaGlsZGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWwgPSBoZWFkY29udGVudGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWwgPSB0YWlsY29udGVudGxpc3RcblxuICAgICAgICBzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCA9IFxuICAgICAgICBzdGFibGVSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCA9IHtcblxuICAgICAgICAgICAgaW5kZXg6IHJlZmVyZW5jZW9mZnNldCxcbiAgICAgICAgICAgIHNwaW5lb2Zmc2V0OnNwaW5lT2Zmc2V0LFxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0dGluZyByZWZlcmVuY2VpbmRleGRhdGEgaW4gc2V0Q3JhZGxlQ29udGVudCcsc3RhYmxlUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQpXG5cbiAgICAgICAgaWYgKHJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBsZXQgY3N0YXRlID0gY3JhZGxlU3RhdGVcbiAgICAgICAgICAgIGlmIChjc3RhdGUgPT0gJ3NldHJlbG9hZCcpIGNzdGF0ZSA9ICdyZWxvYWQnXG4gICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQoXG4gICAgICAgICAgICAgICAgc3RhYmxlUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQuaW5kZXgsICdzZXRDcmFkbGVDb250ZW50JywgY3N0YXRlKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnQsIGhlYWRjb250ZW50bGlzdC5sZW5ndGgnLFxuICAgICAgICAvLyAgICAgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnQsIGhlYWRjb250ZW50bGlzdC5sZW5ndGgpXG5cbiAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlRWxlbWVudHNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvc2l0aW9uRGF0YVJlZi5jdXJyZW50ID0ge3Byb3BlcnR5OidzY3JvbGxUb3AnLHZhbHVlOnNjcm9sbGJsb2Nrb2Zmc2V0ICAtIHNwaW5lT2Zmc2V0fVxuXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLnRvcCA9IChzY3JvbGxibG9ja29mZnNldCArIHNwaW5lYWRqdXN0bWVudCkgKyAncHgnXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLmxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLmhlYWQuY3VycmVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9jcmFkbGVQcm9wcy5nYXAgKyAncHgnOjBcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDU1MgYWRqdXN0bWVudHM6IHNjcm9sbFRvcCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCB0b3AsIHNwaW5lYWRqdXN0bWVudCwgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aCcsJ1xcbicsXG4gICAgICAgICAgICAvLyAgICAgc2Nyb2xsYmxvY2tvZmZzZXQgIC0gc3BpbmVPZmZzZXQsIHNjcm9sbGJsb2Nrb2Zmc2V0LCBzcGluZU9mZnNldCwgXG4gICAgICAgICAgICAvLyAgICAgc2Nyb2xsYmxvY2tvZmZzZXQgKyBzcGluZWFkanVzdG1lbnQsIHNwaW5lYWRqdXN0bWVudCwgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aCApXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgc2Nyb2xsUG9zaXRpb25EYXRhUmVmLmN1cnJlbnQgPSB7cHJvcGVydHk6J3Njcm9sbExlZnQnLHZhbHVlOnNjcm9sbGJsb2Nrb2Zmc2V0IC0gc3BpbmVPZmZzZXR9XG5cbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnNwaW5lLmN1cnJlbnQuc3R5bGUudG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50LnN0eWxlLmxlZnQgPSAoc2Nyb2xsYmxvY2tvZmZzZXQgKyBzcGluZWFkanVzdG1lbnQpICsgJ3B4J1xuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuaGVhZC5jdXJyZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IGhlYWRjb250ZW50bGlzdC5sZW5ndGg/Y3JhZGxlUHJvcHMuZ2FwICsgJ3B4JzowXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHN0YXRlIG1hbmFnZW1lbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb25zdCBzY3JvbGxUaW1lcmlkUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbnNSZWYgPSB1c2VSZWYoe2N1cnJlbnQ6MCxwcmV2aW91czowfSlcblxuICAgIC8vIGNhbGxiYWNrIGZvciBzY3JvbGxpbmdcbiAgICBjb25zdCBvblNjcm9sbCA9IHVzZUNhbGxiYWNrKChlKSA9PiB7XG5cbiAgICAgICAgaWYgKGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlU2Nyb2xsaW5nRWZmZWN0cykge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JldHVybmluZyBmcm9tIG9uU2Nyb2xsIHdpdGggcGF1c2VTY3JvbGxpbmdFZmZlY3RzIHRydWUnLCBcbiAgICAgICAgICAgIC8vICAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsVG9wKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuZWxlbWVudHJlZi5jdXJyZW50XG4gICAgICAgIGxldCBzY3JvbGxQb3NpdGlvbnMgPSBzY3JvbGxQb3NpdGlvbnNSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBzY3JvbGxQb3NpdGlvbmN1cnJlbnQgPSBcbiAgICAgICAgICAgIChjcmFkbGVQcm9wc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpXG4gICAgICAgICAgICA/dmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgOnZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uY3VycmVudCA8IDApIHsgLy8gZm9yIFNhZmFyaVxuXG4gICAgICAgICAgICByZXR1cm4gXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbFBvc2l0aW9ucy5wcmV2aW91cyA9IHNjcm9sbFBvc2l0aW9ucy5jdXJyZW50XG4gICAgICAgIHNjcm9sbFBvc2l0aW9ucy5jdXJyZW50ID0gLy9zY3JvbGxQb3NpdGlvbmN1cnJlbnRcbiAgICAgICAgICAgIChjcmFkbGVQcm9wc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpXG4gICAgICAgICAgICA/dmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgOnZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyaWRSZWYuY3VycmVudClcblxuICAgICAgICBsZXQgY3JhZGxlU3RhdGUgPSBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IGNyYWRsZUNvbnRlbnQgPSBjcmFkbGVDb250ZW50UmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoIXZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZWFkeScgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlYWR5Jykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbWluZGV4ID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxbMF0/LnByb3BzLmluZGV4IFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbWluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUjogc2Nyb2xsIGVuY291bnRlcmVkIHVuZGVmaW5lZCB0YWlsY29udGVudCBsZWFkJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgc3BpbmVvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlRWxlbWVudHNSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmFkbGVQcm9wc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3BpbmVvZmZzZXQgPSBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50Lm9mZnNldFRvcCAtIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LmVsZW1lbnRyZWYuY3VycmVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3BpbmVvZmZzZXQgPSBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50Lm9mZnNldExlZnQgLSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDppdGVtaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGluZW9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudCA9IGdldFNjcm9sbFJlZmVyZW5jZUluZGV4RGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydERhdGE6dmlld3BvcnREYXRhUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQcm9wczpjcmFkbGVQcm9wc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlQ29uZmlnOmNyYWRsZUNvbmZpZ1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3VwZGF0ZXJlcG9zaXRpb24nKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudCAmJiBcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZi5jdXJyZW50KHNjcm9sbFJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50LmluZGV4LCdzY3JvbGxpbmcnLCBjcmFkbGVTdGF0ZSlcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxUaW1lcmlkUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgLy8gaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKClcblxuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxlck5hbWUsIHBvcnRhbERhdGEgYWZ0ZXIgU0NST0xMOicsc2Nyb2xsZXJOYW1lLCBjcmFkbGVDb250ZW50UmVmLmN1cnJlbnQucG9ydGFsRGF0YSlcblxuICAgICAgICAgICAgbGV0IHNwaW5lb2Zmc2V0XG4gICAgICAgICAgICBsZXQgY3JhZGxlRWxlbWVudHMgPSBjcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIGlmIChjcmFkbGVQcm9wc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIHNwaW5lb2Zmc2V0ID0gY3JhZGxlRWxlbWVudHMuc3BpbmUuY3VycmVudC5vZmZzZXRUb3AgLSBcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuZWxlbWVudHJlZi5jdXJyZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzcGluZW9mZnNldCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lLmN1cnJlbnQub2Zmc2V0TGVmdCAtIFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjcm9sbFJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50LnNwaW5lb2Zmc2V0ID0gc3BpbmVvZmZzZXRcblxuICAgICAgICAgICAgbGV0IGNyYWRsZVN0YXRlID0gY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuICAgICAgICAgICAgaWYgKCF2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxvY2FscmVmZGF0YSA9IHsuLi5zY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudH1cblxuICAgICAgICAgICAgICAgIHN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50ID0gbG9jYWxyZWZkYXRhXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoY3JhZGxlU3RhdGUpIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmcnOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGluZ1JlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50ID0gey4uLnN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50fVxuXG4gICAgICAgICAgICAgICAgICAgIHNhdmVDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbicpXG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0tLS0tLSBbIGNhbGxpbmcgZW5kb2ZzY3JvbGwgXS0tLS0tLS0tLS0tJylcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3JhZGxlQ29udGVudChbXSwgJ2VuZG9mc2Nyb2xsJykgLy8gZm9yIFNhZmFyaSB0byBjb21wZW5zYXRlIGZvciBvdmVyc2Nyb2xsXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxTQ1JPTExfVElNRU9VVF9GT1JfT05BRlRFUlNDUk9MTClcblxuICAgIH0sW10pXG5cbiAgICAvLyBkYXRhIGZvciBzdGF0ZSBwcm9jZXNzaW5nXG4gICAgY29uc3QgY2FsbGluZ0NyYWRsZVN0YXRlID0gdXNlUmVmKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQpXG4gICAgY29uc3QgaGVhZGxheW91dERhdGFSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbkRhdGFSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIHRoaXMgaXMgdGhlIGNvcmUgc3RhdGUgZW5naW5lXG4gICAgLy8gdXNlTGF5b3V0IGZvciBzdXBwcmVzc2luZyBmbGFzaGVzXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0RGF0YSA9IHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50XG4gICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY3JhZGxlQ29udGVudFJlZi5jdXJyZW50XG4gICAgICAgIHN3aXRjaCAoY3JhZGxlU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6XG4gICAgICAgICAgICAgICAgLy8gY3JhZGxlQ29udGVudC5wb3J0YWxEYXRhLmNsZWFyKClcbiAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3NldHJlbG9hZCcpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1cGRhdGVyZXBvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmcnKVxuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nJzpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnc2V0c2Nyb2xsb2Zmc2V0Jzoge1xuXG4gICAgICAgICAgICAgICAgdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFtzY3JvbGxQb3NpdGlvbkRhdGFSZWYuY3VycmVudC5wcm9wZXJ0eV0gPVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb3NpdGlvbkRhdGFSZWYuY3VycmVudC52YWx1ZVxuXG4gICAgICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdub3JtYWxpemUnKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZWNvbnRlbnQnOiB7IC8vIHNjcm9sbFxuXG4gICAgICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnY29udGVudCc6IHtcblxuICAgICAgICAgICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY3JhZGxlQ29udGVudFJlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkVmlldyA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsVmlldyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsXG5cbiAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3NldHNjcm9sbG9mZnNldCcpLy8nbm9ybWFsaXplJylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFtjcmFkbGVTdGF0ZV0pXG5cbiAgICAvLyBzdGFuZGFyZCBwcm9jZXNzaW5nIHN0YWdlc1xuICAgIHVzZUVmZmVjdCgoKT0+IHtcblxuICAgICAgICBsZXQgdmlld3BvcnREYXRhID0gdmlld3BvcnREYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiBcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZSc6XG4gICAgICAgICAgICBjYXNlICdwaXZvdCc6XG4gICAgICAgICAgICBjYXNlICdzZXRyZWxvYWQnOlxuICAgICAgICAgICAgY2FzZSAncmVwb3NpdGlvbic6XG5cbiAgICAgICAgICAgICAgICBjYWxsaW5nQ3JhZGxlU3RhdGUuY3VycmVudCA9IGNyYWRsZVN0YXRlXG4gICAgICAgICAgICAgICAgc2F2ZUNyYWRsZVN0YXRlKCdzZXR0bGUnKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSAnc2V0dGxlJzoge1xuXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NldHRsZSAoc2V0Q3JhZGxlQ29udGVudCk6IHN0YXRlLCByZWZJbmRleCcsY2FsbGluZ0NyYWRsZVN0YXRlLmN1cnJlbnQsIGNhbGxpbmdSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudClcblxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgY29udGVudE1hbmFnZXIucmVzZXRTY3JvbGxlclBvcnRhbFJlcG9zaXRvcnkoc2Nyb2xsZXJJRClcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVDb250ZW50KGNhbGxpbmdDcmFkbGVTdGF0ZS5jdXJyZW50LCBjYWxsaW5nUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQpXG5cbiAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ2NvbnRlbnQnKS8vJ3NldHNjcm9sbG9mZnNldCcpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnbm9ybWFsaXplJzoge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQoKSkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnNpZGUgbm9ybWFsaXplOiB2aWV3cG9ydERhdGEuaXNSZXNpemluZycsIHZpZXdwb3J0RGF0YS5pc1Jlc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpZXdwb3J0RGF0YS5pc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWR1bmRhbnQgc2Nyb2xsIHBvc2l0aW9uIHRvIGF2b2lkIGFjY2lkZW50YWwgcG9zaXRpb25pbmcgYXQgdGFpbCBlbmQgb2YgcmVwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnQpIHsgLy8gYWxyZWFkeSB1bm1vdW50ZWQgaWYgZmFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udHJvbEZsYWdzID0gY29udHJvbEZsYWdzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2xlYXJpbmcgY29udHJvbCBGbGFncycsIGNvbnRyb2xGbGFncylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sRmxhZ3MucGF1c2VJdGVtT2JzZXJ2ZXIgICYmIChjb250cm9sRmxhZ3MucGF1c2VJdGVtT2JzZXJ2ZXIgPSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sRmxhZ3MucGF1c2VTY3JvbGxpbmdFZmZlY3RzICYmIChjb250cm9sRmxhZ3MucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbEZsYWdzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgJiYgKGNvbnRyb2xGbGFncy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbEZsYWdzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgJiYgKGNvbnRyb2xGbGFncy5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyID0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sRmxhZ3NSZWYuY3VycmVudC5pc0NyYWRsZUluVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVDcmFkbGVTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3Jlc2l6aW5nJylcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb3J0YWxEYXRhIGFmdGVyIHNldCwgc2Nyb2xsZXJOYW1lJyxjcmFkbGVDb250ZW50UmVmLmN1cnJlbnQucG9ydGFsRGF0YSwgc2Nyb2xsZXJOYW1lKVxuXG4gICAgICAgICAgICAgICAgfSwxMDApXG5cbiAgICAgICAgICAgICAgICBicmVhayBcblxuICAgICAgICAgICAgfSAgICAgICAgICBcblxuICAgICAgICAgICAgY2FzZSAncmVhZHknOlxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGxiYWNrcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBvbiBob3N0IGRlbWFuZFxuICAgIGNvbnN0IGdldFZpc2libGVMaXN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuXG4gICAgICAgIC8vIGxldCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IGNyYWRsZUNvbnRlbnQgPSBjcmFkbGVDb250ZW50UmVmLmN1cnJlbnRcblxuICAgICAgICByZXR1cm4gY2FsY1Zpc2libGVJdGVtcyh7XG4gICAgICAgICAgICBpdGVtRWxlbWVudE1hcDppdGVtRWxlbWVudHNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDp2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50czpjcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50LCBcbiAgICAgICAgICAgIC8vIHRhaWxFbGVtZW50OmNyYWRsZVByb3BzUmVmLmN1cnJlbnQub3JpZW50YXRpb24sXG4gICAgICAgICAgICAvLyBzcGluZUVsZW1lbnQ6Y3JhZGxlRWxlbWVudHMuc3BpbmUuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZVByb3BzOmNyYWRsZVByb3BzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAvLyBvcmllbnRhdGlvbjpjcmFkbGVQcm9wc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgY3JhZGxlQ29udGVudDpjcmFkbGVDb250ZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAvLyBoZWFkbGlzdDpjcmFkbGVDb250ZW50LmhlYWRWaWV3LFxuICAgICAgICB9KVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IGdldENvbnRlbnRMaXN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBsZXQgY29udGVudGxpc3QgPSBBcnJheS5mcm9tKGl0ZW1FbGVtZW50c1JlZi5jdXJyZW50KVxuXG4gICAgICAgIGNvbnRlbnRsaXN0LnNvcnQoKGEsYik9PntcbiAgICAgICAgICAgIHJldHVybiAoYVswXSA8IGJbMF0pPy0xOjFcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gY29udGVudGxpc3RcbiAgICB9LFtdKVxuXG4gICAgY29uc3QgcmVsb2FkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuXG4gICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlSXRlbU9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBjb250cm9sRmxhZ3NSZWYuY3VycmVudC5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG5cbiAgICAgICAgbGV0IHNwaW5lb2Zmc2V0XG4gICAgICAgIGxldCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlUHJvcHNSZWYuY3VycmVudC5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBzcGluZW9mZnNldCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lLmN1cnJlbnQub2Zmc2V0VG9wIC0gdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuZWxlbWVudHJlZi5jdXJyZW50LnNjcm9sbFRvcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3BpbmVvZmZzZXQgPSBjcmFkbGVFbGVtZW50cy5zcGluZS5jdXJyZW50Lm9mZnNldExlZnQgLSB2aWV3cG9ydERhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsTGVmdFxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGluZ1JlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50ID0gey4uLnN0YWJsZVJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50fVxuICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3QgcG9ydGFsUmVmID0gdXNlUmVmKG51bGwpXG4gICAgLy8gY29udGVudCBpdGVtIHJlZ2lzdHJhdGlvbiBjYWxsYmFjazsgY2FsbGVkIGZyb20gaXRlbVxuICAgIGNvbnN0IGdldEl0ZW1FbGVtZW50RGF0YSA9IHVzZUNhbGxiYWNrKChpdGVtRWxlbWVudERhdGEsIHJlcG9ydFR5cGUpID0+IHsgLy8gY2FuZGlkYXRlIHRvIGV4cG9ydFxuXG4gICAgICAgIGNvbnN0IFtpbmRleCwgc2hlbGxyZWYsIHBvcnRhbERhdGFSZWZdID0gaXRlbUVsZW1lbnREYXRhXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnZXRJdGVtRWxlbWVudERhdGE6IGluZGV4LCBzaGVsbHJlZiwgcG9ydGFsRGF0YVJlZicsIGluZGV4LCBzaGVsbHJlZiwgcG9ydGFsRGF0YVJlZilcbiAgICAgICAgLy8gcG9ydGFsUmVmLmN1cnJlbnQgPSBwb3J0YWxEYXRhUmVmXG5cbiAgICAgICAgaWYgKHJlcG9ydFR5cGUgPT0gJ3JlZ2lzdGVyJykge1xuXG4gICAgICAgICAgICBpdGVtRWxlbWVudHNSZWYuY3VycmVudC5zZXQoaW5kZXgsc2hlbGxyZWYpXG4gICAgICAgICAgICAvLyBjcmFkbGVDb250ZW50UmVmLmN1cnJlbnQucG9ydGFsRGF0YS5zZXQoaW5kZXgscG9ydGFsRGF0YVJlZilcblxuICAgICAgICB9IGVsc2UgaWYgKHJlcG9ydFR5cGUgPT0gJ3VucmVnaXN0ZXInKSB7XG5cbiAgICAgICAgICAgIGl0ZW1FbGVtZW50c1JlZi5jdXJyZW50LmRlbGV0ZShpbmRleClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgc2Nyb2xsVG9JdGVtID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29udHJvbEZsYWdzUmVmLmN1cnJlbnQucGF1c2VJdGVtT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIGNvbnRyb2xGbGFnc1JlZi5jdXJyZW50LnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBjYWxsaW5nUmVmZXJlbmNlSW5kZXhEYXRhUmVmLmN1cnJlbnQgPSB7aW5kZXgsc3BpbmVvZmZzZXQ6MH1cblxuICAgICAgICBzYXZlQ3JhZGxlU3RhdGUoJ3JlcG9zaXRpb24nKVxuXG4gICAgfSwgW10pXG5cbiAgICBjb25zdCBjYWxsYmFja3NSZWYgPSB1c2VSZWYoe1xuICAgICAgICBnZXRFbGVtZW50RGF0YTpnZXRJdGVtRWxlbWVudERhdGFcbiAgICB9KVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFJFTkRFUi4uLiBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb25zdCBzY3JvbGxUcmFja2VyQXJncyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOnZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyAzLFxuICAgICAgICAgICAgbGVmdDp2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIDMsXG4gICAgICAgICAgICBpbmRleE9mZnNldDpzY3JvbGxSZWZlcmVuY2VJbmRleERhdGFSZWYuY3VycmVudC5pbmRleCxcbiAgICAgICAgICAgIGxpc3RzaXplOmNyYWRsZVByb3BzUmVmLmN1cnJlbnQubGlzdHNpemUsXG4gICAgICAgICAgICBzdHlsZXM6Y3JhZGxlUHJvcHNSZWYuY3VycmVudC5zdHlsZXMsXG4gICAgICAgIH1cbiAgICB9LFt2aWV3cG9ydERpbWVuc2lvbnMsIHNjcm9sbFJlZmVyZW5jZUluZGV4RGF0YVJlZi5jdXJyZW50LCBjcmFkbGVQcm9wc1JlZl0pXG5cbiAgICBsZXQgY3JhZGxlQ29udGVudCA9IGNyYWRsZUNvbnRlbnRSZWYuY3VycmVudFxuXG4gICAgcmV0dXJuIDw+XG5cbiAgICAgICAgeyhjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICd1cGRhdGVyZXBvc2l0aW9uJyB8fCBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdyZXBvc2l0aW9uaW5nJylcbiAgICAgICAgICAgID88U2Nyb2xsVHJhY2tlciBcbiAgICAgICAgICAgICAgICB0b3AgPSB7c2Nyb2xsVHJhY2tlckFyZ3MudG9wfSBcbiAgICAgICAgICAgICAgICBsZWZ0ID0ge3Njcm9sbFRyYWNrZXJBcmdzLmxlZnR9IFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHtzY3JvbGxUcmFja2VyQXJncy5pbmRleE9mZnNldH0gXG4gICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGlzdHNpemV9XG4gICAgICAgICAgICAgICAgc3R5bGVzID0ge3Njcm9sbFRyYWNrZXJBcmdzLnN0eWxlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA6bnVsbH1cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHN0eWxlID0ge2NyYWRsZVNwaW5lU3R5bGV9IFxuICAgICAgICAgICAgcmVmID0ge3NwaW5lQ3JhZGxlRWxlbWVudFJlZn1cbiAgICAgICAgICAgIGRhdGEtbmFtZSA9ICdzcGluZSdcbiAgICAgICAgPlxuICAgICAgICAgICAge3RydWU/PGRpdiBzdHlsZSA9IHt7ekluZGV4OjEsIHBvc2l0aW9uOidhYnNvbHV0ZScsd2lkdGg6JzEwMCUnLGhlaWdodDonMTAwJScsYm94U2hhZG93OicwIDAgNXB4IDNweCByZWQnfX0+PC9kaXY+Om51bGx9XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0YS1uYW1lID0gJ2hlYWQnXG4gICAgICAgICAgICAgICAgcmVmID0ge2hlYWRDcmFkbGVFbGVtZW50UmVmfSBcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHtjcmFkbGVIZWFkU3R5bGV9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGVSZWYuY3VycmVudCAhPSAnc2V0dXAnKT9jcmFkbGVDb250ZW50LmhlYWRWaWV3Om51bGx9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRhdGEtbmFtZSA9ICd0YWlsJ1xuICAgICAgICAgICAgICAgIHJlZiA9IHt0YWlsQ3JhZGxlRWxlbWVudFJlZn0gXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlVGFpbFN0eWxlfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7KGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgIT0gJ3NldHVwJyk/Y3JhZGxlQ29udGVudC50YWlsVmlldzpudWxsfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgIDwvPlxuXG59IC8vIENyYWRsZVxuXG5cbmV4cG9ydCBkZWZhdWx0IENyYWRsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle.tsx\n");

/***/ }),

/***/ "./src/cradlefunctions.tsx":
/*!*********************************!*\
  !*** ./src/cradlefunctions.tsx ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // cradlefunctions.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n\n  return to;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setCradleGridStyles = exports.allocateContentList = exports.getUIContentList = exports.calcHeadAndTailChanges = exports.calcContentShifts = exports.isolateRelevantIntersections = exports.getContentListRequirements = exports.getScrollReferenceIndexData = exports.calcVisibleItems = void 0;\n/******************************************************************************************\n ------------------------------------[ SUPPORTING FUNCTIONS ]------------------------------\n*******************************************************************************************/\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar itemshell_1 = __importDefault(__webpack_require__(/*! ./itemshell */ \"./src/itemshell.tsx\"));\n\nvar detect_browser_1 = __webpack_require__(/*! detect-browser */ \"./node_modules/detect-browser/es/index.js\");\n\nvar browser = detect_browser_1.detect();\n\nvar calcVisibleItems = function calcVisibleItems(_a) {\n  var itemElementMap = _a.itemElementMap,\n      viewportElement = _a.viewportElement,\n      cradleElements = _a.cradleElements,\n      cradleProps = _a.cradleProps,\n      cradleContent = _a.cradleContent;\n  var headElement = cradleElements.head.current;\n  var spineElement = cradleElements.spine.current;\n  var orientation = cradleProps.orientation;\n  var headlist = cradleContent.headView;\n  var itemlistindexes = Array.from(itemElementMap.keys());\n  itemlistindexes.sort(function (a, b) {\n    return a < b ? -1 : 1;\n  });\n  var headlistindexes = [];\n\n  for (var _i = 0, headlist_1 = headlist; _i < headlist_1.length; _i++) {\n    var item = headlist_1[_i];\n    headlistindexes.push(parseInt(item.props.index));\n  }\n\n  var list = [];\n  var cradleTop = headElement.offsetTop + spineElement.offsetTop,\n      cradleLeft = headElement.offsetLeft + spineElement.offsetLeft;\n  var scrollblockTopOffset = -viewportElement.scrollTop,\n      scrollblockLeftOffset = -viewportElement.scrollLeft,\n      viewportHeight = viewportElement.offsetHeight,\n      viewportWidth = viewportElement.offsetWidth,\n      viewportTopOffset = -scrollblockTopOffset,\n      viewportBottomOffset = -scrollblockTopOffset + viewportHeight;\n\n  for (var _b = 0, itemlistindexes_1 = itemlistindexes; _b < itemlistindexes_1.length; _b++) {\n    var index = itemlistindexes_1[_b];\n    var element = itemElementMap.get(index).current;\n    var inheadlist = headlistindexes.includes(index);\n    var top_1 = inheadlist ? element.offsetTop : (orientation == 'vertical' ? headElement.offsetHeight : 0) + element.offsetTop,\n        left = inheadlist ? element.offsetLeft : (orientation == 'horizontal' ? headElement.offsetWidth : 0) + element.offsetLeft,\n        width = element.offsetWidth,\n        height = element.offsetHeight,\n        right = left + width,\n        bottom = top_1 + height;\n    var itemTopOffset = scrollblockTopOffset + cradleTop + top_1,\n        // offset from top of viewport\n    itemBottomOffset = scrollblockTopOffset + cradleTop + bottom,\n        // offset from top of viewport\n    itemLeftOffset = scrollblockLeftOffset + cradleLeft + left,\n        itemRightOffset = scrollblockLeftOffset + cradleLeft + right;\n    var isVisible = false; // default\n\n    var topPortion = void 0,\n        bottomPortion = void 0,\n        leftPortion = void 0,\n        rightPortion = void 0;\n\n    if (itemTopOffset < 0 && itemBottomOffset > 0) {\n      orientation == 'vertical' && (isVisible = true);\n      bottomPortion = itemBottomOffset;\n      topPortion = bottomPortion - height;\n    } else if (itemTopOffset >= 0 && itemBottomOffset < viewportHeight) {\n      orientation == 'vertical' && (isVisible = true);\n      topPortion = height;\n      bottomPortion = 0;\n    } else if (itemTopOffset > 0 && itemTopOffset - viewportHeight < 0) {\n      orientation == 'vertical' && (isVisible = true);\n      topPortion = viewportHeight - itemTopOffset;\n      bottomPortion = topPortion - height;\n    } else {\n      if (orientation == 'vertical') continue;\n    }\n\n    if (itemLeftOffset < 0 && itemRightOffset > 0) {\n      orientation == 'horizontal' && (isVisible = true);\n      rightPortion = itemRightOffset;\n      leftPortion = rightPortion - width;\n    } else if (itemLeftOffset >= 0 && itemRightOffset < viewportWidth) {\n      orientation == 'horizontal' && (isVisible = true);\n      leftPortion = width;\n      rightPortion = 0;\n    } else if (itemLeftOffset > 0 && itemLeftOffset - viewportWidth < 0) {\n      orientation == 'horizontal' && (isVisible = true);\n      leftPortion = viewportWidth - itemLeftOffset;\n      rightPortion = leftPortion - width;\n    } else {\n      if (orientation == 'horizontal') continue;\n    }\n\n    var verticalRatio = topPortion > 0 ? topPortion / height : bottomPortion / height,\n        horizontalRatio = leftPortion > 0 ? leftPortion / width : rightPortion / height;\n    var itemData = {\n      index: index,\n      isVisible: isVisible,\n      top: top_1,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height,\n      itemTopOffset: itemTopOffset,\n      itemBottomOffset: itemBottomOffset,\n      topPortion: topPortion,\n      bottomPortion: bottomPortion,\n      itemLeftOffset: itemLeftOffset,\n      itemRightOffset: itemRightOffset,\n      leftPortion: leftPortion,\n      rightPortion: rightPortion,\n      verticalRatio: verticalRatio,\n      horizontalRatio: horizontalRatio\n    };\n    list.push(itemData);\n  }\n\n  return list;\n};\n\nexports.calcVisibleItems = calcVisibleItems;\n\nvar getScrollReferenceIndexData = function getScrollReferenceIndexData(_a) {\n  var viewportData = _a.viewportData,\n      cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig;\n  var crosscount = cradleConfig.crosscount;\n  var viewportElement = viewportData.elementref.current;\n  var orientation = cradleProps.orientation,\n      listsize = cradleProps.listsize;\n  var scrollPos, cellLength;\n\n  if (orientation == 'vertical') {\n    scrollPos = viewportElement.scrollTop;\n    cellLength = cradleProps.cellHeight + cradleProps.gap;\n  } else {\n    scrollPos = viewportElement.scrollLeft;\n    cellLength = cradleProps.cellWidth + cradleProps.gap;\n  }\n\n  var referencescrolloffset = cellLength - scrollPos % cellLength;\n\n  if (referencescrolloffset == cellLength + cradleProps.padding) {\n    referencescrolloffset = 0;\n  }\n\n  var referencerowindex = Math.ceil((scrollPos - cradleProps.padding) / cellLength);\n  var spineReferenceIndex = referencerowindex * crosscount;\n  spineReferenceIndex = Math.min(spineReferenceIndex, listsize - 1);\n  var diff = spineReferenceIndex % crosscount;\n  spineReferenceIndex -= diff;\n  var referenceIndexData = {\n    index: spineReferenceIndex,\n    spineoffset: referencescrolloffset\n  };\n  if (referenceIndexData.index == 0) referenceIndexData.spineoffset = 0; // defensive\n\n  return referenceIndexData;\n};\n\nexports.getScrollReferenceIndexData = getScrollReferenceIndexData;\n\nvar getContentListRequirements = function getContentListRequirements(_a) {\n  var _b;\n\n  var // called from setCradleContent only\n  cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      referenceoffset = _a.visibletargetindexoffset,\n      targetViewportOffset = _a.targetViewportOffset,\n      viewportElement = _a.viewportElement;\n  var orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      runwaycount = cradleProps.runwaycount,\n      gap = cradleProps.gap,\n      padding = cradleProps.padding,\n      listsize = cradleProps.listsize;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount,\n      viewportRowcount = cradleConfig.viewportRowcount; // reconcile spineReferenceIndex to crosscount context\n\n  var diff = referenceoffset % crosscount;\n  referenceoffset -= diff; // -------------[ calc basic inputs: cellLength, contentCount. ]----------\n\n  var cellLength, viewportlength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellHeight + gap;\n    viewportlength = viewportElement.offsetHeight;\n  } else {\n    cellLength = cellWidth + gap;\n    viewportlength = viewportElement.offsetWidth;\n  } // let viewportrows = Math.floor(viewportlength / cellLength)\n\n\n  var viewportrows = viewportRowcount;\n  var contentCount = cradleRowcount * crosscount; // -----------------------[ calc leadingitemcount, referenceoffset ]-----------------------\n\n  var runwayitemcount = runwaycount * crosscount;\n  runwayitemcount = Math.min(runwayitemcount, referenceoffset); // for list head\n  // -----------------------[ calc cradleReferenceIndex ]------------------------\n  // leading edge\n\n  var cradleReferenceIndex = referenceoffset - runwayitemcount; // ------------[ adjust cradleReferenceIndex for underflow ]------------\n\n  diff = 0; // reset\n\n  var indexshift = 0; // adjustment if overshoot head\n\n  if (cradleReferenceIndex < 0) {\n    diff = cradleReferenceIndex;\n    indexshift = Math.floor(cradleReferenceIndex / crosscount) * crosscount;\n    cradleReferenceIndex += indexshift;\n  } // ------------[ adjust cradleReferenceIndex and contentCount for listsize overflow ]------------\n\n\n  var spineOffset = targetViewportOffset % cellLength; // if (spineOffset < 0) { // TODO: this shouldn't happen - reproduce from wide botton to narrow\n  //     spineOffset += (orientation == 'vertical'?cellHeight:cellWidth)\n  //     referenceoffset += crosscount\n  //     cradleReferenceIndex += crosscount\n  // }\n  // --------------------[ calc css positioning ]-----------------------\n\n  var targetrowoffset = Math.ceil(referenceoffset / crosscount);\n  var scrollblockoffset = targetrowoffset * cellLength + padding; // gap\n\n  var spineadjustment;\n\n  if (targetrowoffset == 0) {\n    scrollblockoffset = 0;\n    spineOffset = 0; // padding\n\n    spineadjustment = padding;\n  } else {\n    spineadjustment = 0; //gap;\n\n    _b = adjustSpineOffsetForMaxRefindex({\n      referenceoffset: referenceoffset,\n      spineOffset: spineOffset,\n      scrollblockoffset: scrollblockoffset,\n      targetrowoffset: targetrowoffset,\n      viewportlength: viewportlength,\n      listsize: listsize,\n      viewportrows: viewportrows,\n      crosscount: crosscount,\n      cellLength: cellLength,\n      padding: padding,\n      gap: gap,\n      cradleReferenceIndex: cradleReferenceIndex,\n      contentCount: contentCount\n    }), cradleReferenceIndex = _b[0], contentCount = _b[1], referenceoffset = _b[2], scrollblockoffset = _b[3], spineOffset = _b[4];\n  } // debugger\n  // console.log('cradleReferenceIndex, referenceoffset, contentCount, scrollblockoffset, spineOffset, spineadjustment',\n  //     cradleReferenceIndex, referenceoffset, contentCount, scrollblockoffset, spineOffset, spineadjustment)\n\n\n  return {\n    cradleReferenceIndex: cradleReferenceIndex,\n    referenceoffset: referenceoffset,\n    contentCount: contentCount,\n    scrollblockoffset: scrollblockoffset,\n    spineOffset: spineOffset,\n    spineadjustment: spineadjustment\n  }; // summarize requirements message\n};\n\nexports.getContentListRequirements = getContentListRequirements;\n\nvar adjustSpineOffsetForMaxRefindex = function adjustSpineOffsetForMaxRefindex(_a) {\n  // debugger\n  var listsize = _a.listsize,\n      crosscount = _a.crosscount,\n      contentCount = _a.contentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      referenceoffset = _a.referenceoffset,\n      targetrowoffset = _a.targetrowoffset,\n      scrollblockoffset = _a.scrollblockoffset,\n      spineOffset = _a.spineOffset,\n      viewportlength = _a.viewportlength,\n      viewportrows = _a.viewportrows,\n      cellLength = _a.cellLength,\n      padding = _a.padding,\n      gap = _a.gap;\n  var activelistitemcount = cradleReferenceIndex + contentCount;\n  var activelistrowcount = Math.ceil(activelistitemcount / crosscount);\n  var listRowcount = Math.ceil(listsize / crosscount); // memos\n  // let originalcradleoffset = cradleReferenceIndex\n  // let originalreferenceoffset = referenceoffset\n  // let originalspineOffset = spineOffset\n\n  if (activelistrowcount > listRowcount) {\n    var diffrows = activelistrowcount - listRowcount;\n    var diff = diffrows * crosscount;\n    cradleReferenceIndex -= diff;\n    activelistrowcount -= diffrows; // console.log('adjusting cradleReferemcicradlereference original, adjustment, rows, items, result', \n    //     originalcradleoffset, diff, diffrows, cradleReferenceIndex)\n  } // let testlistrowcount = Math.ceil((cradleReferenceIndex + contentCount + 1)/crosscount)\n\n\n  if (activelistrowcount == listRowcount) {\n    var diff = listsize % crosscount;\n\n    if (diff) {\n      contentCount -= crosscount - diff;\n    } // console.log('final row adjustment through activelistrowcount, listRowcount, listsize, contentCount, crosscount, diff',\n    // activelistrowcount, listRowcount, listsize, contentCount, crosscount, diff)\n\n  }\n\n  var maxrefindexrowoffset = Math.ceil(listsize / crosscount) - viewportrows + 1; // console.log('targetrowoffset, maxrefindexrowoffset', targetrowoffset, maxrefindexrowoffset)\n\n  if (targetrowoffset > maxrefindexrowoffset) {\n    var diff = targetrowoffset - maxrefindexrowoffset;\n    targetrowoffset -= diff; // maxrefindexrowoffset\n    // cradleReferenceIndex -= (diff * crosscount)\n\n    referenceoffset = targetrowoffset * crosscount;\n    scrollblockoffset = targetrowoffset * cellLength + padding;\n    spineOffset = viewportlength - (viewportrows - 1) * cellLength - gap; // console.log('targetrow adjustment: targetrowoffset, cradleReferenceIndex, referenceoffset, scrollblockoffset, spineOffset',\n    //     targetrowoffset, cradleReferenceIndex, referenceoffset, scrollblockoffset, spineOffset)\n  } // debugger\n\n\n  return [cradleReferenceIndex, contentCount, referenceoffset, scrollblockoffset, spineOffset];\n}; // filter out items that not proximate to the spine\n\n\nvar isolateRelevantIntersections = function isolateRelevantIntersections(_a) {\n  var intersections = _a.intersections,\n      cradleContent = _a.cradleContent,\n      itemObserverThreshold = _a.itemObserverThreshold,\n      scrollforward = _a.scrollforward;\n  var headcontent = cradleContent.headModel;\n  var tailcontent = cradleContent.tailModel;\n  var headindexes = [],\n      tailindexes = [],\n      headintersectionindexes = [],\n      headintersections = [],\n      tailintersectionindexes = [],\n      tailintersections = [],\n      intersecting = {},\n      filteredintersections = []; // collect lists of indexes...\n  // headindexes, tailindexes\n\n  for (var _i = 0, headcontent_1 = headcontent; _i < headcontent_1.length; _i++) {\n    var component = headcontent_1[_i];\n    headindexes.push(component.props.index);\n  }\n\n  for (var _b = 0, tailcontent_1 = tailcontent; _b < tailcontent_1.length; _b++) {\n    var component = tailcontent_1[_b];\n    tailindexes.push(component.props.index);\n  }\n\n  var duplicates = {};\n  var intersectionsptr = 0;\n\n  for (var _c = 0, intersections_1 = intersections; _c < intersections_1.length; _c++) {\n    var entry = intersections_1[_c];\n    var index = parseInt(entry.target.dataset.index);\n    var headptr_1 = void 0,\n        tailptr_1 = void 0;\n\n    if (tailindexes.includes(index)) {\n      tailintersectionindexes.push(index);\n      tailintersections.push(entry);\n      tailptr_1 = tailintersections.length - 1; // used for duplicate resolution\n    } else if (headindexes.includes(index)) {\n      headintersectionindexes.push(index);\n      headintersections.push(entry);\n      headptr_1 = headintersections.length - 1; // used for duplicate resolution\n    } else {\n      console.log('error: unknown intersection element, aborting isolateRelevantIntersections', entry);\n      return; // shouldn't happen; give up\n    }\n\n    var ratio = void 0;\n\n    if (browser && browser.name == 'safari') {\n      ratio = entry.intersectionRatio;\n    } else {\n      ratio = Math.round(entry.intersectionRatio * 1000) / 1000;\n    }\n\n    var calcintersecting = ratio >= itemObserverThreshold;\n    var iobj = {\n      index: index,\n      intersecting: calcintersecting,\n      isIntersecting: entry.isIntersecting,\n      ratio: ratio,\n      originalratio: entry.intersectionRatio,\n      time: entry.time,\n      headptr: headptr_1,\n      tailptr: tailptr_1,\n      intersectionsptr: intersectionsptr\n    };\n\n    if (!intersecting[index]) {\n      // new item\n      intersecting[index] = iobj;\n    } else {\n      // duplicate item\n      if (!Array.isArray(intersecting[index])) {\n        var arr = [intersecting[index]];\n        intersecting[index] = arr;\n      }\n\n      intersecting[index].push(iobj);\n\n      if (!duplicates[index]) {\n        duplicates[index] = [];\n        duplicates[index].push(intersecting[index][0]);\n      }\n\n      duplicates[index].push(iobj);\n    }\n\n    intersectionsptr++;\n  } // resolve duplicates. For uneven number, keep the most recent\n  // otherwise delete them, they cancel each other out.\n\n\n  var duplicateslength = Object.keys(duplicates).length;\n\n  if (duplicateslength > 0) {\n    // console.log('DUPLICATES found', duplicateslength, duplicates)\n    var headintersectionsdelete_1 = [],\n        tailintersectionsdelete_1 = [];\n\n    for (var duplicateindex in duplicates) {\n      var duplicate = duplicates[duplicateindex];\n\n      if (duplicate.length % 2) {\n        duplicate.sort(duplicatecompare);\n        var entry = duplicate.slice(duplicate.length - 1, 1);\n        intersecting[entry.index] = entry;\n      } else {\n        delete intersecting[duplicate[0].index]; // intersectingdelete.push(duplicate[0].index)\n      }\n\n      for (var _d = 0, duplicate_1 = duplicate; _d < duplicate_1.length; _d++) {\n        var entryobj = duplicate_1[_d];\n        var headptr_2 = entryobj.headptr;\n        var tailptr_2 = entryobj.tailptr;\n\n        if (headptr_2 !== undefined) {\n          headintersectionsdelete_1.push(headptr_2);\n        }\n\n        if (tailptr_2 !== undefined) {\n          tailintersectionsdelete_1.push(tailptr_2);\n        }\n      }\n    }\n\n    if (headintersectionsdelete_1.length) {\n      headintersectionindexes = headintersectionindexes.filter(function (value, index) {\n        return !headintersectionsdelete_1.includes(index);\n      });\n      headintersections = headintersections.filter(function (value, index) {\n        return !headintersectionsdelete_1.includes(index);\n      });\n    }\n\n    if (tailintersectionsdelete_1.length) {\n      tailintersectionindexes = tailintersectionindexes.filter(function (value, index) {\n        return !tailintersectionsdelete_1.includes(index);\n      });\n      tailintersections = tailintersections.filter(function (value, index) {\n        return !tailintersectionsdelete_1.includes(index);\n      });\n    }\n  }\n\n  headintersectionindexes.sort(indexcompare);\n  tailintersectionindexes.sort(indexcompare);\n  headintersections.sort(entrycompare);\n  tailintersections.sort(entrycompare); // set reference points in relation to the spine\n\n  var headindex = headindexes[headindexes.length - 1];\n  var tailindex = tailindexes[0];\n  var headptr = headintersectionindexes.indexOf(headindex);\n  var tailptr = tailintersectionindexes.indexOf(tailindex); // filter out items that register only because they have just been moved\n\n  if (headptr !== headintersectionindexes.length - 1) {\n    headptr = -1;\n  }\n\n  if (tailptr !== 0) {\n    tailptr = -1;\n  }\n\n  if (headptr > -1 && tailptr > -1) {\n    // edge case\n    if (scrollforward) {\n      headptr = -1;\n    } else {\n      tailptr = -1;\n    }\n  } // collect notifications to main thread (filtered intersections)\n  // for scrollbackward\n\n\n  var headrefindex, tailrefindex; // for return\n\n  if (!scrollforward && headptr >= 0) {\n    headrefindex = headintersectionindexes[headptr];\n    var refindex = headrefindex + 1;\n    var refintersecting = intersecting[refindex - 1].intersecting;\n\n    for (var ptr = headptr; ptr >= 0; ptr--) {\n      var index = headintersectionindexes[ptr]; // test for continuity and consistency\n\n      if (index + 1 == refindex && intersecting[index].intersecting == refintersecting) {\n        filteredintersections.push(headintersections[ptr]);\n      } else {\n        break;\n      }\n\n      refindex = index;\n      refintersecting = intersecting[refindex].intersecting;\n    }\n  } // for scrollforward\n\n\n  if (scrollforward && tailptr >= 0) {\n    tailrefindex = tailintersectionindexes[tailptr];\n    var refindex = tailrefindex - 1;\n    var refintersecting = intersecting[refindex + 1].intersecting;\n\n    for (var ptr = tailptr; ptr < tailintersectionindexes.length; ptr++) {\n      var index = tailintersectionindexes[ptr]; // test for continuity and consistency\n\n      if (index - 1 == refindex && intersecting[index].intersecting == refintersecting) {\n        filteredintersections.push(tailintersections[ptr]);\n      } else {\n        break;\n      }\n\n      refindex = index;\n      refintersecting = intersecting[index].intersecting;\n    }\n  }\n\n  filteredintersections.sort(entrycompare); // TODO this should be integrated into the code above\n\n  return filteredintersections;\n};\n\nexports.isolateRelevantIntersections = isolateRelevantIntersections;\n\nvar indexcompare = function indexcompare(a, b) {\n  var retval = a < b ? -1 : 1;\n  return retval;\n};\n\nvar entrycompare = function entrycompare(a, b) {\n  var retval = parseInt(a.target.dataset.index) < parseInt(b.target.dataset.index) ? -1 : 1;\n  return retval;\n};\n\nvar duplicatecompare = function duplicatecompare(a, b) {\n  var retval = a.time < b.time ? -1 : 1;\n};\n\nvar calcContentShifts = function calcContentShifts(_a) {\n  // ------------------------[ initialize ]--------------\n  var // called only from updateCradleContent\n  cradleProps = _a.cradleProps,\n      cradleElements = _a.cradleElements,\n      cradleContent = _a.cradleContent,\n      cradleConfig = _a.cradleConfig,\n      viewportElement = _a.viewportElement,\n      itemElements = _a.itemElements,\n      intersections = _a.intersections,\n      scrollforward = _a.scrollforward;\n  var gap = cradleProps.gap,\n      orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      listsize = cradleProps.listsize,\n      padding = cradleProps.padding,\n      runwaycount = cradleProps.runwaycount;\n  var spineElement = cradleElements.spine.current;\n  var headElement = cradleElements.head.current;\n  var tailElement = cradleElements.tail.current;\n  var cradlecontentlist = cradleContent.cradleModel;\n  var headcontentlist = cradleContent.headModel;\n  var tailcontentlist = cradleContent.tailModel;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount,\n      listRowcount = cradleConfig.listRowcount,\n      viewportRowcount = cradleConfig.viewportRowcount,\n      itemObserverThreshold = cradleConfig.itemObserverThreshold;\n  var BOD = false,\n      EOD = false; // beginning-of-data, end-of-data\n  // -------[ 1. calculate head overshoot row count, if any ]-------\n\n  var startingspineoffset, headblockoffset, tailblockoffset, viewportlength;\n  var viewportvisiblegaplength = 0;\n  var cellLength = orientation == 'vertical' ? cellHeight + gap : cellWidth + gap;\n\n  if (orientation == 'vertical') {\n    startingspineoffset = spineElement.offsetTop - viewportElement.scrollTop;\n    viewportlength = viewportElement.offsetHeight; // measure any gap between the cradle and the top viewport boundary\n\n    if (!scrollforward) {\n      // if startingspineoffset is below the top by more than the height of the headElment then a gap will be visible\n      viewportvisiblegaplength = startingspineoffset - headElement.offsetHeight;\n    }\n  } else {\n    // horizontal\n    startingspineoffset = spineElement.offsetLeft - viewportElement.scrollLeft;\n    viewportlength = viewportElement.offsetWidth;\n\n    if (!scrollforward) {\n      viewportvisiblegaplength = startingspineoffset - headElement.offsetWidth;\n    }\n  }\n\n  if (viewportvisiblegaplength < 0 || viewportvisiblegaplength > viewportlength) viewportvisiblegaplength = 0; // no visible gap, or reposition should have kicked in\n  // viewportvisiblegaplength is always positive\n\n  var overshootrowcount = viewportvisiblegaplength == 0 ? 0 : Math.ceil(viewportvisiblegaplength / cellLength); // rows to fill viewport\n  // extra rows for runway\n\n  if (overshootrowcount) {\n    overshootrowcount += runwaycount;\n  }\n\n  var overshootitemcount = overshootrowcount * crosscount;\n\n  if (overshootitemcount) {\n    // (!scrollforward && overshootitemcount) { // negation of values for scroll backward\n    overshootitemcount = -overshootitemcount;\n    overshootrowcount = -overshootrowcount;\n  } // ----------------------[ 2. calculate itemshiftcount includng overshoot ]------------------------\n  // shift item count is the number of items the virtual cradle shifts, according to observer notices\n\n\n  var forwardcount = 0,\n      backwardcount = 0;\n\n  if (scrollforward) {\n    backwardcount = intersections.length;\n  } else {\n    forwardcount = intersections.length;\n  }\n\n  var cradleshiftcount = backwardcount - forwardcount + overshootitemcount;\n  var referenceshiftcount = cradleshiftcount;\n  var cradlerowshift = Math.ceil(cradleshiftcount / crosscount);\n  var referencerowshift = cradlerowshift; // --------------------------[ 3. calc cradleindex and referenceindex ]--------------------------\n\n  var previouscradleindex = cradlecontentlist[0].props.index;\n  var previouscradlerowoffset = previouscradleindex / crosscount;\n  var previousreferenceindex = tailcontentlist[0].props.index;\n  var previousreferencerowoffset = previousreferenceindex / crosscount;\n  var diff;\n\n  if (scrollforward) {\n    if (previouscradlerowoffset + cradleRowcount + cradlerowshift >= listRowcount) {\n      EOD = true;\n    }\n\n    diff = previouscradlerowoffset + cradleRowcount + cradlerowshift - listRowcount;\n\n    if (diff > 0) {\n      cradlerowshift -= diff;\n      cradleshiftcount -= diff * crosscount;\n    }\n  } else {\n    if (previouscradlerowoffset + cradlerowshift <= 0) {\n      BOD = true;\n    }\n\n    diff = previouscradlerowoffset + cradlerowshift;\n\n    if (diff < 0) {\n      cradlerowshift -= diff;\n      cradleshiftcount -= diff * crosscount;\n    }\n  }\n\n  var newcradleindex = previouscradleindex + cradleshiftcount;\n  var newreferenceindex = previousreferenceindex + referenceshiftcount;\n\n  if (newreferenceindex < 0) {\n    referenceshiftcount += newreferenceindex;\n    newreferenceindex = 0;\n  } // -------------[ 4. calculate spineAdjustment and spineOffset ]------------------\n\n\n  var referenceitemshiftcount = newreferenceindex - previousreferenceindex;\n  var cradleitemshiftcount = newcradleindex - previouscradleindex;\n  referencerowshift = referenceitemshiftcount / crosscount;\n  var referencepixelshift = referencerowshift * cellLength;\n  var spineOffset = startingspineoffset + referencepixelshift;\n  var spineOffsetTarget = spineOffset;\n  var spineAdjustment = 0;\n\n  if (Math.abs(spineOffset) > cellLength) {\n    spineOffsetTarget = spineOffset % cellLength;\n    spineAdjustment = -(Math.ceil((spineOffset - spineOffsetTarget) / cellLength) * crosscount);\n  }\n\n  if (spineOffsetTarget < 0) {\n    spineOffsetTarget += cellLength;\n    spineAdjustment += crosscount;\n  }\n\n  if (spineAdjustment && (BOD || EOD)) {\n    newreferenceindex += spineAdjustment;\n    referenceitemshiftcount += spineAdjustment;\n    spineOffset = spineOffsetTarget;\n  } else if (spineAdjustment) {\n    newcradleindex += spineAdjustment;\n    cradleitemshiftcount += spineAdjustment;\n    newreferenceindex += spineAdjustment;\n    referenceitemshiftcount += spineAdjustment;\n    spineOffset = spineOffsetTarget;\n  }\n\n  spineOffset = spineOffsetTarget; // ---------------------[ 5. return required values ]-------------------\n\n  var cradleitemcount = cradleRowcount * crosscount;\n  return [newcradleindex, cradleitemshiftcount, newreferenceindex, referenceitemshiftcount, spineOffset, cradleitemcount];\n};\n\nexports.calcContentShifts = calcContentShifts;\n\nvar calcHeadAndTailChanges = function calcHeadAndTailChanges(_a) {\n  var cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      cradleContent = _a.cradleContent,\n      cradleshiftcount = _a.cradleshiftcount,\n      scrollforward = _a.scrollforward,\n      cradleReferenceIndex = _a.cradleReferenceIndex;\n  var listsize = cradleProps.listsize;\n  var headcontent = cradleContent.headModel;\n  var tailcontent = cradleContent.tailModel;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount;\n  cradleshiftcount = Math.abs(cradleshiftcount);\n  var rowshiftcount = Math.ceil(cradleshiftcount / crosscount); //+ boundaryrowcount\n\n  var headrowcount, tailrowcount;\n  headrowcount = Math.ceil(headcontent.length / crosscount);\n  tailrowcount = Math.ceil(tailcontent.length / crosscount);\n  var pendingcontentoffset; // lookahead to new cradleReferenceIndex\n\n  var headchangecount, tailchangecount; // the output instructions for getUIContentList\n  // anticipaate add to one end, clip from the other        \n\n  var additemcount = 0;\n  var cliprowcount = 0,\n      clipitemcount = 0;\n\n  if (scrollforward) {\n    // clip from head; add to tail; scroll forward head is direction of scroll\n    // adjust clipitemcount\n    if (headrowcount + rowshiftcount > cradleProps.runwaycount) {\n      var rowdiff = headrowcount + rowshiftcount - cradleProps.runwaycount;\n      cliprowcount = rowdiff;\n      clipitemcount = cliprowcount * crosscount;\n    }\n\n    additemcount = clipitemcount; // maintain constant cradle count\n\n    pendingcontentoffset = cradleReferenceIndex + clipitemcount; // after clip\n\n    var proposedtailindex = pendingcontentoffset + cradleRowcount * crosscount - 1; // modelcontentlist.length - 1\n    // adkjust changes for list boundaries\n\n    if (proposedtailindex > listsize - 1) {\n      var diffitemcount = proposedtailindex - (listsize - 1); // items outside range\n\n      additemcount -= diffitemcount; // adjust the addcontent accordingly\n\n      var diffrows = Math.floor(diffitemcount / crosscount); // number of full rows to leave in place\n\n      var diffrowitems = diffrows * crosscount; // derived number of items to leave in place\n\n      clipitemcount -= diffrowitems; // apply adjustment to netshift\n\n      if (additemcount <= 0) {\n        // nothing to do\n        additemcount = 0;\n      }\n\n      if (clipitemcount <= 0) {\n        clipitemcount = 0;\n      }\n    }\n\n    headchangecount = -clipitemcount;\n    tailchangecount = additemcount;\n  } else {\n    // scroll backward, in direction of tail; clip from tail, add to head\n    var intersectionindexes = []; // headcount will be less than minimum (runwaycount), so a shift can be accomplished[]\n\n    if (headrowcount - rowshiftcount < cradleProps.runwaycount) {\n      // calculate clip for tail\n      var rowshortfall = cradleProps.runwaycount - (headrowcount - rowshiftcount);\n      cliprowcount = rowshortfall;\n      var tailrowitemcount = tailcontent.length % crosscount;\n      if (tailrowitemcount == 0) tailrowitemcount = crosscount;\n      clipitemcount = tailrowitemcount;\n\n      if (tailrowcount > 1) {\n        if (cliprowcount > tailrowcount) {\n          cliprowcount = tailrowcount;\n        }\n\n        if (cliprowcount > 1) {\n          clipitemcount += (cliprowcount - 1) * crosscount;\n        }\n      } // compenstate with additemcount\n\n\n      additemcount = cliprowcount * crosscount;\n    }\n\n    var proposedindexoffset = cradleReferenceIndex - additemcount;\n\n    if (proposedindexoffset < 0) {\n      var diffitemcount = -proposedindexoffset;\n      var diffrows = Math.ceil(diffitemcount / crosscount); // number of full rows to leave in place\n\n      var diffrowitems = diffrows * crosscount;\n      additemcount -= diffitemcount;\n      clipitemcount -= diffrowitems;\n\n      if (additemcount <= 0) {\n        additemcount = 0;\n      }\n\n      if (clipitemcount <= 0) {\n        clipitemcount = 0;\n      }\n    }\n\n    headchangecount = additemcount;\n    tailchangecount = -clipitemcount;\n  }\n\n  return [headchangecount, tailchangecount];\n};\n\nexports.calcHeadAndTailChanges = calcHeadAndTailChanges; // update content\n// adds itemshells at end of contentlist according to headindexcount and tailindescount,\n// or if indexcount values are <0 removes them.\n\nvar getUIContentList = function getUIContentList(_a) {\n  var cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      contentCount = _a.contentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      headchangecount = _a.headchangecount,\n      tailchangecount = _a.tailchangecount,\n      contentlist = _a.localContentList,\n      callbacks = _a.callbacks,\n      observer = _a.observer,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount;\n\n  var localContentlist = __spreadArray([], contentlist);\n\n  var tailindexoffset = cradleReferenceIndex + contentlist.length; // let headindexoffset = cradleReferenceIndex\n\n  var returnContentlist;\n  var headContentlist = [];\n  var topconstraint = cradleReferenceIndex - headchangecount,\n      bottomconstraint = cradleReferenceIndex - headchangecount + (contentCount + 1); // TODO: validate \"+1\"\n  // console.log('topconstraint, bottomconstraint, cradleReferenceIndex, contentCount, headchangecount, tailchangecount', \n  //     topconstraint, bottomconstraint, cradleReferenceIndex, contentCount, headchangecount, tailchangecount)\n\n  if (headchangecount >= 0) {\n    for (var index = cradleReferenceIndex - headchangecount; index < cradleReferenceIndex; index++) {\n      if (!(index >= topconstraint && index <= bottomconstraint)) {\n        continue;\n      }\n\n      headContentlist.push(acquireItem({\n        index: index,\n        cradleProps: cradleProps,\n        observer: observer,\n        callbacks: callbacks,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    localContentlist.splice(0, -headchangecount);\n  }\n\n  var tailContentlist = [];\n\n  if (tailchangecount >= 0) {\n    for (var index = tailindexoffset; index < tailindexoffset + tailchangecount; index++) {\n      if (!(index >= topconstraint && index <= bottomconstraint)) {\n        continue;\n      }\n\n      tailContentlist.push(acquireItem({\n        index: index,\n        cradleProps: cradleProps,\n        observer: observer,\n        callbacks: callbacks,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    localContentlist.splice(tailchangecount, -tailchangecount);\n  }\n\n  returnContentlist = headContentlist.concat(localContentlist, tailContentlist); // console.log('components of getcontentlist: returnContentList, headContentlist, localContentlist, tailContentlist', \n  //     returnContentlist, headContentlist, localContentlist, tailContentlist)\n\n  return returnContentlist;\n};\n\nexports.getUIContentList = getUIContentList; // butterfly model. Leading (head) all or partially hidden; tail, visible plus following hidden\n\nvar allocateContentList = function allocateContentList(_a) {\n  var contentlist = _a.contentlist,\n      // of cradle, in items (React components)\n  spineReferenceIndex = _a.spineReferenceIndex;\n  var offsetindex = contentlist[0].props.index;\n  var headitemcount;\n  headitemcount = spineReferenceIndex - offsetindex;\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\n\nexports.allocateContentList = allocateContentList;\n\nvar acquireItem = function acquireItem(_a) {\n  var index = _a.index,\n      cradleProps = _a.cradleProps,\n      observer = _a.observer,\n      callbacks = _a.callbacks,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n  var instanceID = instanceIdCounterRef.current++;\n  return emitItem({\n    index: index,\n    cradleProps: cradleProps,\n    observer: observer,\n    callbacks: callbacks,\n    instanceID: instanceID\n  });\n};\n\nvar emitItem = function emitItem(_a) {\n  var index = _a.index,\n      cradleProps = _a.cradleProps,\n      observer = _a.observer,\n      callbacks = _a.callbacks,\n      instanceID = _a.instanceID;\n  var orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      getItem = cradleProps.getItem,\n      placeholder = cradleProps.placeholder,\n      listsize = cradleProps.listsize,\n      scrollerName = cradleProps.scrollerName,\n      scrollerID = cradleProps.scrollerID;\n  return react_1[\"default\"].createElement(itemshell_1[\"default\"], {\n    key: index,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    index: index,\n    observer: observer,\n    callbacks: callbacks,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    instanceID: instanceID,\n    scrollerName: scrollerName,\n    scrollerID: scrollerID\n  });\n}; // ========================================================================================\n// ------------------------------------[ styles ]------------------------------------------\n// ========================================================================================\n\n\nvar setCradleGridStyles = function setCradleGridStyles(_a) {\n  var orientation = _a.orientation,\n      headstylesobject = _a.headCradleStyles,\n      tailstylesobject = _a.tailCradleStyles,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding,\n      crosscount = _a.crosscount,\n      viewportheight = _a.viewportheight,\n      viewportwidth = _a.viewportwidth;\n\n  var headstyles = __assign({}, headstylesobject);\n\n  var tailstyles = __assign({}, tailstylesobject);\n\n  headstyles.gridGap = gap + 'px';\n  tailstyles.gridGap = gap + 'px';\n\n  if (orientation == 'horizontal') {\n    headstyles.padding = padding + \"px 0 \" + padding + \"px \" + padding + \"px\";\n    headstyles.width = 'auto';\n    headstyles.height = '100%';\n    headstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n    //     sets length of horiz cradle items in one line (row), not multi-row config\n\n    headstyles.gridTemplateRows = cellHeight ? \"repeat(\" + crosscount + \", minmax(\" + cellHeight + \"px, 1fr))\" : 'auto';\n    headstyles.gridTemplateColumns = 'none';\n    tailstyles.padding = padding + \"px \" + padding + \"px \" + padding + \"px 0\";\n    tailstyles.width = 'auto';\n    tailstyles.height = '100%';\n    tailstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n    //     sets length of horiz cradle items in one line (row), not multi-row config\n\n    tailstyles.gridTemplateRows = cellHeight ? \"repeat(\" + crosscount + \", minmax(\" + cellHeight + \"px, 1fr))\" : 'auto';\n    tailstyles.gridTemplateColumns = 'none';\n  } else if (orientation == 'vertical') {\n    headstyles.padding = padding + \"px \" + padding + \"px 0 \" + padding + \"px\";\n    headstyles.width = '100%';\n    headstyles.height = 'auto';\n    headstyles.gridAutoFlow = 'row';\n    headstyles.gridTemplateRows = 'none';\n    headstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\" + cellWidth + \"px, 1fr))\" : 'auto';\n    tailstyles.padding = \"0 \" + padding + \"px \" + padding + \"px \" + padding + \"px\";\n    tailstyles.width = '100%';\n    tailstyles.height = 'auto';\n    tailstyles.gridAutoFlow = 'row';\n    tailstyles.gridTemplateRows = 'none';\n    tailstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\" + cellWidth + \"px, 1fr))\" : 'auto';\n  }\n\n  return [headstyles, tailstyles];\n};\n\nexports.setCradleGridStyles = setCradleGridStyles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9jcmFkbGVmdW5jdGlvbnMudHN4PzA4YWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRTRGOztBQUU1Rjs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNLE9BQU8sR0FBRyx5QkFBaEI7O0FBRU8sSUFBTSxnQkFBZ0IsR0FBRyxTQUFuQixnQkFBbUIsQ0FBQyxFQUFELEVBUTNCO01BTkcsY0FBYyxvQjtNQUNkLGVBQWUscUI7TUFDZixjQUFjLG9CO01BQ2QsV0FBVyxpQjtNQUNYLGFBQWEsbUI7QUFJakIsTUFBSSxXQUFXLEdBQUcsY0FBYyxDQUFDLElBQWYsQ0FBb0IsT0FBdEM7QUFDQSxNQUFJLFlBQVksR0FBRyxjQUFjLENBQUMsS0FBZixDQUFxQixPQUF4QztBQUNLLGlCQUFXLEdBQUksV0FBVyxDQUFmLFdBQVg7QUFDTCxNQUFJLFFBQVEsR0FBRyxhQUFhLENBQUMsUUFBN0I7QUFFQSxNQUFJLGVBQWUsR0FBRyxLQUFLLENBQUMsSUFBTixDQUFXLGNBQWMsQ0FBQyxJQUFmLEVBQVgsQ0FBdEI7QUFDQSxpQkFBZSxDQUFDLElBQWhCLENBQXFCLFVBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSTtBQUNyQixXQUFRLENBQUMsR0FBRyxDQUFMLEdBQVEsQ0FBQyxDQUFULEdBQVcsQ0FBbEI7QUFDSCxHQUZEO0FBR0EsTUFBSSxlQUFlLEdBQUcsRUFBdEI7O0FBQ0EsT0FBaUIsaUNBQWpCLEVBQWlCLHNCQUFqQixFQUFpQixJQUFqQixFQUEyQjtBQUF0QixRQUFJLElBQUksaUJBQVI7QUFDRCxtQkFBZSxDQUFDLElBQWhCLENBQXFCLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQVosQ0FBN0I7QUFDSDs7QUFFRCxNQUFJLElBQUksR0FBRyxFQUFYO0FBQ0EsTUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFNBQVosR0FB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QUVELFNBQU8sQ0FBQyxVQUFELEVBQVksVUFBWixDQUFQO0FBRVAsQ0FwRU07O0FBQU0sOEJBQW1CLG1CQUFuQiIsImZpbGUiOiIuL3NyYy9jcmFkbGVmdW5jdGlvbnMudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY3JhZGxlZnVuY3Rpb25zLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFNVUFBPUlRJTkcgRlVOQ1RJT05TIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IEl0ZW1TaGVsbCBmcm9tICcuL2l0ZW1zaGVsbCdcblxuaW1wb3J0IHsgZGV0ZWN0IH0gZnJvbSAnZGV0ZWN0LWJyb3dzZXInXG5cbmNvbnN0IGJyb3dzZXIgPSBkZXRlY3QoKVxuXG5leHBvcnQgY29uc3QgY2FsY1Zpc2libGVJdGVtcyA9ICh7ICAgXG5cbiAgICAgICAgaXRlbUVsZW1lbnRNYXAsIFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQsIFxuICAgICAgICBjcmFkbGVFbGVtZW50cywgXG4gICAgICAgIGNyYWRsZVByb3BzLCBcbiAgICAgICAgY3JhZGxlQ29udGVudFxuXG4gICAgfSkgPT4ge1xuXG4gICAgbGV0IGhlYWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuaGVhZC5jdXJyZW50XG4gICAgbGV0IHNwaW5lRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lLmN1cnJlbnRcbiAgICBsZXQge29yaWVudGF0aW9ufSA9IGNyYWRsZVByb3BzXG4gICAgbGV0IGhlYWRsaXN0ID0gY3JhZGxlQ29udGVudC5oZWFkVmlld1xuXG4gICAgbGV0IGl0ZW1saXN0aW5kZXhlcyA9IEFycmF5LmZyb20oaXRlbUVsZW1lbnRNYXAua2V5cygpKVxuICAgIGl0ZW1saXN0aW5kZXhlcy5zb3J0KChhLGIpPT57XG4gICAgICAgIHJldHVybiAoYSA8IGIpPy0xOjFcbiAgICB9KVxuICAgIGxldCBoZWFkbGlzdGluZGV4ZXMgPSBbXVxuICAgIGZvciAobGV0IGl0ZW0gb2YgaGVhZGxpc3QpIHtcbiAgICAgICAgaGVhZGxpc3RpbmRleGVzLnB1c2gocGFyc2VJbnQoaXRlbS5wcm9wcy5pbmRleCkpXG4gICAgfVxuXG4gICAgbGV0IGxpc3QgPSBbXVxuICAgIGxldCBjcmFkbGVUb3AgPSBoZWFkRWxlbWVudC5vZmZzZXRUb3AgKyBzcGluZUVsZW1lbnQub2Zmc2V0VG9wLCBcbiAgICAgICAgY3JhZGxlTGVmdCA9IGhlYWRFbGVtZW50Lm9mZnNldExlZnQgKyBzcGluZUVsZW1lbnQub2Zmc2V0TGVmdFxuICAgIGxldCBzY3JvbGxibG9ja1RvcE9mZnNldCA9IC12aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wLCBcbiAgICAgICAgc2Nyb2xsYmxvY2tMZWZ0T2Zmc2V0ID0gLXZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB2aWV3cG9ydEhlaWdodCA9IHZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0V2lkdGggPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0V2lkdGgsXG4gICAgICAgIHZpZXdwb3J0VG9wT2Zmc2V0ID0gLXNjcm9sbGJsb2NrVG9wT2Zmc2V0LFxuICAgICAgICB2aWV3cG9ydEJvdHRvbU9mZnNldCA9IC1zY3JvbGxibG9ja1RvcE9mZnNldCArIHZpZXdwb3J0SGVpZ2h0XG5cbiAgICBmb3IgKGxldCBpbmRleCBvZiBpdGVtbGlzdGluZGV4ZXMpIHtcblxuICAgICAgICBsZXQgZWxlbWVudCA9IGl0ZW1FbGVtZW50TWFwLmdldChpbmRleCkuY3VycmVudFxuICAgICAgICBsZXQgaW5oZWFkbGlzdCA9IGhlYWRsaXN0aW5kZXhlcy5pbmNsdWRlcyhpbmRleClcbiAgICAgICAgbGV0IHRvcCA9IGluaGVhZGxpc3Q/KGVsZW1lbnQub2Zmc2V0VG9wKTooKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9oZWFkRWxlbWVudC5vZmZzZXRIZWlnaHQ6MCkgKyBlbGVtZW50Lm9mZnNldFRvcCksIFxuICAgICAgICAgICAgbGVmdCA9IGluaGVhZGxpc3Q/KGVsZW1lbnQub2Zmc2V0TGVmdCk6KCgob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKT9oZWFkRWxlbWVudC5vZmZzZXRXaWR0aDowKSArIGVsZW1lbnQub2Zmc2V0TGVmdCksIFxuICAgICAgICAgICAgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoLCBcbiAgICAgICAgICAgIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgd2lkdGgsXG4gICAgICAgICAgICBib3R0b20gPSB0b3AgKyBoZWlnaHRcblxuICAgICAgICBsZXQgaXRlbVRvcE9mZnNldCA9IHNjcm9sbGJsb2NrVG9wT2Zmc2V0ICsgY3JhZGxlVG9wICsgdG9wLCAvLyBvZmZzZXQgZnJvbSB0b3Agb2Ygdmlld3BvcnRcbiAgICAgICAgICAgIGl0ZW1Cb3R0b21PZmZzZXQgPSBzY3JvbGxibG9ja1RvcE9mZnNldCArIGNyYWRsZVRvcCArIGJvdHRvbSwgLy8gb2Zmc2V0IGZyb20gdG9wIG9mIHZpZXdwb3J0XG4gICAgICAgICAgICBpdGVtTGVmdE9mZnNldCA9IHNjcm9sbGJsb2NrTGVmdE9mZnNldCArIGNyYWRsZUxlZnQgKyBsZWZ0LCBcbiAgICAgICAgICAgIGl0ZW1SaWdodE9mZnNldCA9IHNjcm9sbGJsb2NrTGVmdE9mZnNldCArIGNyYWRsZUxlZnQgKyByaWdodCBcblxuXG4gICAgICAgIGxldCBpc1Zpc2libGUgPSBmYWxzZSAvLyBkZWZhdWx0XG5cbiAgICAgICAgbGV0IHRvcFBvcnRpb24sXG4gICAgICAgICAgICBib3R0b21Qb3J0aW9uLFxuICAgICAgICAgICAgbGVmdFBvcnRpb24sXG4gICAgICAgICAgICByaWdodFBvcnRpb25cblxuICAgICAgICBpZiAoKGl0ZW1Ub3BPZmZzZXQgPCAwKSAmJiAoaXRlbUJvdHRvbU9mZnNldCA+IDApKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSAmJiAoaXNWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24gPSBpdGVtQm90dG9tT2Zmc2V0XG4gICAgICAgICAgICB0b3BQb3J0aW9uID0gYm90dG9tUG9ydGlvbiAtIGhlaWdodFxuXG4gICAgICAgIH0gZWxzZSBpZiAoKGl0ZW1Ub3BPZmZzZXQgPj0gMCkgJiYgKGl0ZW1Cb3R0b21PZmZzZXQgPCB2aWV3cG9ydEhlaWdodCkpIHtcblxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpICYmIChpc1Zpc2libGUgPSB0cnVlKVxuICAgICAgICAgICAgdG9wUG9ydGlvbiA9IGhlaWdodFxuICAgICAgICAgICAgYm90dG9tUG9ydGlvbiA9IDBcblxuICAgICAgICB9IGVsc2UgaWYgKChpdGVtVG9wT2Zmc2V0ID4gMCkgJiYgKChpdGVtVG9wT2Zmc2V0IC0gdmlld3BvcnRIZWlnaHQpIDwgMCkpIHtcblxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpICYmIChpc1Zpc2libGUgPSB0cnVlKVxuICAgICAgICAgICAgdG9wUG9ydGlvbiA9IHZpZXdwb3J0SGVpZ2h0IC0gaXRlbVRvcE9mZnNldFxuICAgICAgICAgICAgYm90dG9tUG9ydGlvbiA9IHRvcFBvcnRpb24gLSBoZWlnaHRcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykgY29udGludWVcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW1MZWZ0T2Zmc2V0IDwgMCAmJiBpdGVtUmlnaHRPZmZzZXQgPiAwKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpICYmIChpc1Zpc2libGUgPSB0cnVlKVxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uID0gaXRlbVJpZ2h0T2Zmc2V0XG4gICAgICAgICAgICBsZWZ0UG9ydGlvbiA9IHJpZ2h0UG9ydGlvbiAtIHdpZHRoXG5cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtTGVmdE9mZnNldCA+PSAwICYmIGl0ZW1SaWdodE9mZnNldCA8IHZpZXdwb3J0V2lkdGgpIHtcblxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykgJiYgKGlzVmlzaWJsZSA9IHRydWUpXG4gICAgICAgICAgICBsZWZ0UG9ydGlvbiA9IHdpZHRoXG4gICAgICAgICAgICByaWdodFBvcnRpb24gPSAwXG5cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtTGVmdE9mZnNldCA+IDAgJiYgKGl0ZW1MZWZ0T2Zmc2V0IC0gdmlld3BvcnRXaWR0aCkgPCAwKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpICYmIChpc1Zpc2libGUgPSB0cnVlKVxuICAgICAgICAgICAgbGVmdFBvcnRpb24gPSB2aWV3cG9ydFdpZHRoIC0gaXRlbUxlZnRPZmZzZXRcbiAgICAgICAgICAgIHJpZ2h0UG9ydGlvbiA9IGxlZnRQb3J0aW9uIC0gd2lkdGhcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSBjb250aW51ZVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmVydGljYWxSYXRpbyA9ICh0b3BQb3J0aW9uID4gMCk/dG9wUG9ydGlvbi9oZWlnaHQ6Ym90dG9tUG9ydGlvbi9oZWlnaHQsXG4gICAgICAgICAgICBob3Jpem9udGFsUmF0aW8gPSAobGVmdFBvcnRpb24gPiAwKT9sZWZ0UG9ydGlvbi93aWR0aDpyaWdodFBvcnRpb24vaGVpZ2h0XG5cbiAgICAgICAgbGV0IGl0ZW1EYXRhID0ge1xuXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGlzVmlzaWJsZSxcblxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG5cbiAgICAgICAgICAgIGl0ZW1Ub3BPZmZzZXQsXG4gICAgICAgICAgICBpdGVtQm90dG9tT2Zmc2V0LFxuICAgICAgICAgICAgdG9wUG9ydGlvbixcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24sXG5cbiAgICAgICAgICAgIGl0ZW1MZWZ0T2Zmc2V0LFxuICAgICAgICAgICAgaXRlbVJpZ2h0T2Zmc2V0LFxuICAgICAgICAgICAgbGVmdFBvcnRpb24sXG4gICAgICAgICAgICByaWdodFBvcnRpb24sXG5cbiAgICAgICAgICAgIHZlcnRpY2FsUmF0aW8sXG4gICAgICAgICAgICBob3Jpem9udGFsUmF0aW8sXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtRGF0YSlcblxuICAgIH1cblxuICAgIHJldHVybiBsaXN0XG59XG5cbmV4cG9ydCBjb25zdCBnZXRTY3JvbGxSZWZlcmVuY2VJbmRleERhdGEgPSAoe1xuXG4gICAgICAgIHZpZXdwb3J0RGF0YSxcbiAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgIGNyYWRsZUNvbmZpZyxcblxuICAgIH0pID0+IHtcblxuICAgIGxldCB7Y3Jvc3Njb3VudH0gPSBjcmFkbGVDb25maWdcbiAgICBsZXQgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFxuICAgIGxldCB7b3JpZW50YXRpb24sIGxpc3RzaXplfSA9IGNyYWRsZVByb3BzXG4gICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgc2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbEhlaWdodCArIGNyYWRsZVByb3BzLmdhcFxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbFdpZHRoICsgY3JhZGxlUHJvcHMuZ2FwXG5cbiAgICB9XG5cbiAgICBsZXQgcmVmZXJlbmNlc2Nyb2xsb2Zmc2V0ID0gY2VsbExlbmd0aCAtIChzY3JvbGxQb3MgJSBjZWxsTGVuZ3RoKVxuICAgIGlmIChyZWZlcmVuY2VzY3JvbGxvZmZzZXQgPT0gKGNlbGxMZW5ndGggKyBjcmFkbGVQcm9wcy5wYWRkaW5nKSkge1xuICAgICAgICByZWZlcmVuY2VzY3JvbGxvZmZzZXQgPSAwXG4gICAgfVxuXG4gICAgbGV0IHJlZmVyZW5jZXJvd2luZGV4ID0gTWF0aC5jZWlsKChzY3JvbGxQb3MgLSBjcmFkbGVQcm9wcy5wYWRkaW5nKS9jZWxsTGVuZ3RoKVxuICAgIGxldCBzcGluZVJlZmVyZW5jZUluZGV4ID0gcmVmZXJlbmNlcm93aW5kZXggKiBjcm9zc2NvdW50XG4gICAgc3BpbmVSZWZlcmVuY2VJbmRleCA9IE1hdGgubWluKHNwaW5lUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgIGxldCBkaWZmID0gc3BpbmVSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnRcbiAgICBzcGluZVJlZmVyZW5jZUluZGV4IC09IGRpZmZcblxuICAgIGxldCByZWZlcmVuY2VJbmRleERhdGEgPSB7XG4gICAgICAgIGluZGV4OnNwaW5lUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgIHNwaW5lb2Zmc2V0OnJlZmVyZW5jZXNjcm9sbG9mZnNldFxuICAgIH1cblxuICAgIGlmIChyZWZlcmVuY2VJbmRleERhdGEuaW5kZXggPT0gMCkgcmVmZXJlbmNlSW5kZXhEYXRhLnNwaW5lb2Zmc2V0ID0gMCAvLyBkZWZlbnNpdmVcblxuICAgIHJldHVybiByZWZlcmVuY2VJbmRleERhdGFcbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRMaXN0UmVxdWlyZW1lbnRzID0gKHsgLy8gY2FsbGVkIGZyb20gc2V0Q3JhZGxlQ29udGVudCBvbmx5XG5cbiAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgIGNyYWRsZUNvbmZpZyxcbiAgICAgICAgdmlzaWJsZXRhcmdldGluZGV4b2Zmc2V0OnJlZmVyZW5jZW9mZnNldCxcbiAgICAgICAgdGFyZ2V0Vmlld3BvcnRPZmZzZXQsXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCxcblxuICAgIH0pID0+IHtcblxuICAgIGxldCB7IG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIHJ1bndheWNvdW50LFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGxpc3RzaXplfSA9IGNyYWRsZVByb3BzXG5cbiAgICBsZXQge2Nyb3NzY291bnQsXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50fSA9IGNyYWRsZUNvbmZpZ1xuICAgIC8vIHJlY29uY2lsZSBzcGluZVJlZmVyZW5jZUluZGV4IHRvIGNyb3NzY291bnQgY29udGV4dFxuICAgIGxldCBkaWZmID0gcmVmZXJlbmNlb2Zmc2V0ICUgY3Jvc3Njb3VudFxuICAgIHJlZmVyZW5jZW9mZnNldCAtPSBkaWZmXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tWyBjYWxjIGJhc2ljIGlucHV0czogY2VsbExlbmd0aCwgY29udGVudENvdW50LiBdLS0tLS0tLS0tLVxuXG4gICAgbGV0IGNlbGxMZW5ndGgsdmlld3BvcnRsZW5ndGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcFxuICAgICAgICB2aWV3cG9ydGxlbmd0aCA9IHZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICB9IGVsc2Uge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoICsgZ2FwXG4gICAgICAgIHZpZXdwb3J0bGVuZ3RoID0gdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoXG4gICAgfVxuICAgIC8vIGxldCB2aWV3cG9ydHJvd3MgPSBNYXRoLmZsb29yKHZpZXdwb3J0bGVuZ3RoIC8gY2VsbExlbmd0aClcblxuICAgIGxldCB2aWV3cG9ydHJvd3MgPSB2aWV3cG9ydFJvd2NvdW50XG5cbiAgICBsZXQgY29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50IFxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgbGVhZGluZ2l0ZW1jb3VudCwgcmVmZXJlbmNlb2Zmc2V0IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHJ1bndheWl0ZW1jb3VudCA9IHJ1bndheWNvdW50ICogY3Jvc3Njb3VudFxuICAgIHJ1bndheWl0ZW1jb3VudCA9IE1hdGgubWluKHJ1bndheWl0ZW1jb3VudCwgcmVmZXJlbmNlb2Zmc2V0KSAvLyBmb3IgbGlzdCBoZWFkXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjcmFkbGVSZWZlcmVuY2VJbmRleCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gbGVhZGluZyBlZGdlXG4gICAgbGV0IGNyYWRsZVJlZmVyZW5jZUluZGV4ID0gcmVmZXJlbmNlb2Zmc2V0IC0gcnVud2F5aXRlbWNvdW50XG5cbiAgICAvLyAtLS0tLS0tLS0tLS1bIGFkanVzdCBjcmFkbGVSZWZlcmVuY2VJbmRleCBmb3IgdW5kZXJmbG93IF0tLS0tLS0tLS0tLS1cblxuICAgIGRpZmYgPSAwIC8vIHJlc2V0XG4gICAgbGV0IGluZGV4c2hpZnQgPSAwIC8vIGFkanVzdG1lbnQgaWYgb3ZlcnNob290IGhlYWRcbiAgICBpZiAoY3JhZGxlUmVmZXJlbmNlSW5kZXggPCAwKSB7XG4gICAgICAgIGRpZmYgPSBjcmFkbGVSZWZlcmVuY2VJbmRleFxuICAgICAgICBpbmRleHNoaWZ0ID0gTWF0aC5mbG9vcihjcmFkbGVSZWZlcmVuY2VJbmRleCAvIGNyb3NzY291bnQpICogY3Jvc3Njb3VudFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCArPSBpbmRleHNoaWZ0XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tWyBhZGp1c3QgY3JhZGxlUmVmZXJlbmNlSW5kZXggYW5kIGNvbnRlbnRDb3VudCBmb3IgbGlzdHNpemUgb3ZlcmZsb3cgXS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHNwaW5lT2Zmc2V0ID0gdGFyZ2V0Vmlld3BvcnRPZmZzZXQgJSBjZWxsTGVuZ3RoXG5cbiAgICAvLyBpZiAoc3BpbmVPZmZzZXQgPCAwKSB7IC8vIFRPRE86IHRoaXMgc2hvdWxkbid0IGhhcHBlbiAtIHJlcHJvZHVjZSBmcm9tIHdpZGUgYm90dG9uIHRvIG5hcnJvd1xuICAgIC8vICAgICBzcGluZU9mZnNldCArPSAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9jZWxsSGVpZ2h0OmNlbGxXaWR0aClcbiAgICAvLyAgICAgcmVmZXJlbmNlb2Zmc2V0ICs9IGNyb3NzY291bnRcbiAgICAvLyAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXggKz0gY3Jvc3Njb3VudFxuICAgIC8vIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjIGNzcyBwb3NpdGlvbmluZyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGxldCB0YXJnZXRyb3dvZmZzZXQgPSBNYXRoLmNlaWwocmVmZXJlbmNlb2Zmc2V0L2Nyb3NzY291bnQpXG4gICAgbGV0IHNjcm9sbGJsb2Nrb2Zmc2V0ID0gKHRhcmdldHJvd29mZnNldCAqIGNlbGxMZW5ndGgpICsgcGFkZGluZyAvLyBnYXBcbiAgICBsZXQgc3BpbmVhZGp1c3RtZW50XG5cbiAgICBpZiAodGFyZ2V0cm93b2Zmc2V0ID09IDApIHtcbiAgICAgICAgc2Nyb2xsYmxvY2tvZmZzZXQgPSAwXG4gICAgICAgIHNwaW5lT2Zmc2V0ID0gMCAvLyBwYWRkaW5nXG4gICAgICAgIHNwaW5lYWRqdXN0bWVudCA9IHBhZGRpbmdcbiAgICB9IGVsc2Uge1xuICAgICAgICBzcGluZWFkanVzdG1lbnQgPSAwOyAvL2dhcDtcblxuICAgICAgICBbY3JhZGxlUmVmZXJlbmNlSW5kZXgsIGNvbnRlbnRDb3VudCwgcmVmZXJlbmNlb2Zmc2V0LCBzY3JvbGxibG9ja29mZnNldCwgc3BpbmVPZmZzZXRdID0gYWRqdXN0U3BpbmVPZmZzZXRGb3JNYXhSZWZpbmRleCh7XG4gICAgICAgICAgICByZWZlcmVuY2VvZmZzZXQsXG4gICAgICAgICAgICBzcGluZU9mZnNldCxcbiAgICAgICAgICAgIHNjcm9sbGJsb2Nrb2Zmc2V0LCAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFyZ2V0cm93b2Zmc2V0LFxuICAgICAgICAgICAgdmlld3BvcnRsZW5ndGgsXG4gICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgIHZpZXdwb3J0cm93cyxcbiAgICAgICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgICAgICBjZWxsTGVuZ3RoLFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgY29udGVudENvdW50LFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vIGRlYnVnZ2VyXG5cbiAgICAvLyBjb25zb2xlLmxvZygnY3JhZGxlUmVmZXJlbmNlSW5kZXgsIHJlZmVyZW5jZW9mZnNldCwgY29udGVudENvdW50LCBzY3JvbGxibG9ja29mZnNldCwgc3BpbmVPZmZzZXQsIHNwaW5lYWRqdXN0bWVudCcsXG4gICAgLy8gICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnQpXG5cbiAgICByZXR1cm4ge2NyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0LCBzcGluZWFkanVzdG1lbnR9IC8vIHN1bW1hcml6ZSByZXF1aXJlbWVudHMgbWVzc2FnZVxuXG59XG5cbmNvbnN0IGFkanVzdFNwaW5lT2Zmc2V0Rm9yTWF4UmVmaW5kZXggPSAoe1xuXG4gICAgbGlzdHNpemUsXG4gICAgY3Jvc3Njb3VudCxcbiAgICBjb250ZW50Q291bnQsXG5cbiAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICByZWZlcmVuY2VvZmZzZXQsXG4gICAgdGFyZ2V0cm93b2Zmc2V0LFxuXG4gICAgc2Nyb2xsYmxvY2tvZmZzZXQsXG4gICAgc3BpbmVPZmZzZXQsXG5cbiAgICB2aWV3cG9ydGxlbmd0aCxcbiAgICB2aWV3cG9ydHJvd3MsXG5cbiAgICBjZWxsTGVuZ3RoLFxuICAgIHBhZGRpbmcsXG4gICAgZ2FwLFxuXG59KSA9PiB7XG5cbiAgICAvLyBkZWJ1Z2dlclxuXG4gICAgbGV0IGFjdGl2ZWxpc3RpdGVtY291bnQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCArIGNvbnRlbnRDb3VudFxuICAgIGxldCBhY3RpdmVsaXN0cm93Y291bnQgPSBNYXRoLmNlaWwoYWN0aXZlbGlzdGl0ZW1jb3VudC9jcm9zc2NvdW50KVxuICAgIGxldCBsaXN0Um93Y291bnQgPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudClcblxuICAgIC8vIG1lbW9zXG4gICAgLy8gbGV0IG9yaWdpbmFsY3JhZGxlb2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXhcbiAgICAvLyBsZXQgb3JpZ2luYWxyZWZlcmVuY2VvZmZzZXQgPSByZWZlcmVuY2VvZmZzZXRcbiAgICAvLyBsZXQgb3JpZ2luYWxzcGluZU9mZnNldCA9IHNwaW5lT2Zmc2V0XG5cbiAgICBpZiAoYWN0aXZlbGlzdHJvd2NvdW50ID4gbGlzdFJvd2NvdW50KSB7XG4gICAgICAgIGxldCBkaWZmcm93cyA9IGFjdGl2ZWxpc3Ryb3djb3VudCAtIGxpc3RSb3djb3VudFxuICAgICAgICBsZXQgZGlmZiA9IGRpZmZyb3dzICogY3Jvc3Njb3VudFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCAtPSBkaWZmXG4gICAgICAgIGFjdGl2ZWxpc3Ryb3djb3VudCAtPSBkaWZmcm93c1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWRqdXN0aW5nIGNyYWRsZVJlZmVyZW1jaWNyYWRsZXJlZmVyZW5jZSBvcmlnaW5hbCwgYWRqdXN0bWVudCwgcm93cywgaXRlbXMsIHJlc3VsdCcsIFxuICAgICAgICAvLyAgICAgb3JpZ2luYWxjcmFkbGVvZmZzZXQsIGRpZmYsIGRpZmZyb3dzLCBjcmFkbGVSZWZlcmVuY2VJbmRleClcbiAgICB9XG5cbiAgICAvLyBsZXQgdGVzdGxpc3Ryb3djb3VudCA9IE1hdGguY2VpbCgoY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjb250ZW50Q291bnQgKyAxKS9jcm9zc2NvdW50KVxuICAgIGlmIChhY3RpdmVsaXN0cm93Y291bnQgPT0gbGlzdFJvd2NvdW50KSB7XG4gICAgICAgIGxldCBkaWZmID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgICBjb250ZW50Q291bnQgLT0gKGNyb3NzY291bnQgLSBkaWZmKVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmaW5hbCByb3cgYWRqdXN0bWVudCB0aHJvdWdoIGFjdGl2ZWxpc3Ryb3djb3VudCwgbGlzdFJvd2NvdW50LCBsaXN0c2l6ZSwgY29udGVudENvdW50LCBjcm9zc2NvdW50LCBkaWZmJyxcbiAgICAgICAgLy8gYWN0aXZlbGlzdHJvd2NvdW50LCBsaXN0Um93Y291bnQsIGxpc3RzaXplLCBjb250ZW50Q291bnQsIGNyb3NzY291bnQsIGRpZmYpXG4gICAgfVxuXG4gICAgbGV0IG1heHJlZmluZGV4cm93b2Zmc2V0ID0gTWF0aC5jZWlsKGxpc3RzaXplL2Nyb3NzY291bnQpIC0gdmlld3BvcnRyb3dzICsgMVxuICAgIC8vIGNvbnNvbGUubG9nKCd0YXJnZXRyb3dvZmZzZXQsIG1heHJlZmluZGV4cm93b2Zmc2V0JywgdGFyZ2V0cm93b2Zmc2V0LCBtYXhyZWZpbmRleHJvd29mZnNldClcbiAgICBpZiAodGFyZ2V0cm93b2Zmc2V0ID4gbWF4cmVmaW5kZXhyb3dvZmZzZXQpIHtcblxuICAgICAgICBsZXQgZGlmZiA9IHRhcmdldHJvd29mZnNldCAtIG1heHJlZmluZGV4cm93b2Zmc2V0XG4gICAgICAgIHRhcmdldHJvd29mZnNldCAtPSBkaWZmIC8vIG1heHJlZmluZGV4cm93b2Zmc2V0XG4gICAgICAgIC8vIGNyYWRsZVJlZmVyZW5jZUluZGV4IC09IChkaWZmICogY3Jvc3Njb3VudClcblxuICAgICAgICByZWZlcmVuY2VvZmZzZXQgPSAodGFyZ2V0cm93b2Zmc2V0ICogY3Jvc3Njb3VudClcblxuICAgICAgICBzY3JvbGxibG9ja29mZnNldCA9ICh0YXJnZXRyb3dvZmZzZXQgKiBjZWxsTGVuZ3RoKSArIHBhZGRpbmdcblxuICAgICAgICBzcGluZU9mZnNldCA9IHZpZXdwb3J0bGVuZ3RoIC0gKCh2aWV3cG9ydHJvd3MgLSAxKSAqIGNlbGxMZW5ndGgpIC0gZ2FwXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3RhcmdldHJvdyBhZGp1c3RtZW50OiB0YXJnZXRyb3dvZmZzZXQsIGNyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIHNjcm9sbGJsb2Nrb2Zmc2V0LCBzcGluZU9mZnNldCcsXG4gICAgICAgIC8vICAgICB0YXJnZXRyb3dvZmZzZXQsIGNyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIHNjcm9sbGJsb2Nrb2Zmc2V0LCBzcGluZU9mZnNldClcblxuICAgIH1cblxuICAgIC8vIGRlYnVnZ2VyXG5cbiAgICByZXR1cm4gW2NyYWRsZVJlZmVyZW5jZUluZGV4LCBjb250ZW50Q291bnQsIHJlZmVyZW5jZW9mZnNldCwgc2Nyb2xsYmxvY2tvZmZzZXQsIHNwaW5lT2Zmc2V0XVxuXG59XG5cbi8vIGZpbHRlciBvdXQgaXRlbXMgdGhhdCBub3QgcHJveGltYXRlIHRvIHRoZSBzcGluZVxuZXhwb3J0IGNvbnN0IGlzb2xhdGVSZWxldmFudEludGVyc2VjdGlvbnMgPSAoe1xuICAgIGludGVyc2VjdGlvbnMsXG4gICAgY3JhZGxlQ29udGVudCxcbiAgICBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQsXG4gICAgc2Nyb2xsZm9yd2FyZCxcbn0pID0+IHtcblxuICAgIGxldCBoZWFkY29udGVudCA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsXG4gICAgbGV0IHRhaWxjb250ZW50ID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxcblxuICAgIGxldCBoZWFkaW5kZXhlcyA9IFtdLCBcbiAgICAgICAgdGFpbGluZGV4ZXMgPSBbXSxcbiAgICAgICAgaGVhZGludGVyc2VjdGlvbmluZGV4ZXMgPSBbXSxcbiAgICAgICAgaGVhZGludGVyc2VjdGlvbnMgPSBbXSxcbiAgICAgICAgdGFpbGludGVyc2VjdGlvbmluZGV4ZXMgPSBbXSxcbiAgICAgICAgdGFpbGludGVyc2VjdGlvbnMgPSBbXSxcbiAgICAgICAgaW50ZXJzZWN0aW5nOmFueSA9IHt9LFxuICAgICAgICBmaWx0ZXJlZGludGVyc2VjdGlvbnMgPSBbXVxuXG4gICAgLy8gY29sbGVjdCBsaXN0cyBvZiBpbmRleGVzLi4uXG4gICAgLy8gaGVhZGluZGV4ZXMsIHRhaWxpbmRleGVzXG4gICAgZm9yIChsZXQgY29tcG9uZW50IG9mIGhlYWRjb250ZW50KSB7XG4gICAgICAgIGhlYWRpbmRleGVzLnB1c2goY29tcG9uZW50LnByb3BzLmluZGV4KVxuICAgIH1cblxuICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiB0YWlsY29udGVudCkge1xuICAgICAgICB0YWlsaW5kZXhlcy5wdXNoKGNvbXBvbmVudC5wcm9wcy5pbmRleClcbiAgICB9XG5cbiAgICBsZXQgZHVwbGljYXRlczphbnkgPSB7fVxuICAgIGxldCBpbnRlcnNlY3Rpb25zcHRyID0gMFxuICAgIGZvciAobGV0IGVudHJ5IG9mIGludGVyc2VjdGlvbnMpIHtcblxuICAgICAgICBsZXQgaW5kZXggPSBwYXJzZUludChlbnRyeS50YXJnZXQuZGF0YXNldC5pbmRleClcbiAgICAgICAgbGV0IGhlYWRwdHIsIHRhaWxwdHJcbiAgICAgICAgaWYgKHRhaWxpbmRleGVzLmluY2x1ZGVzKGluZGV4KSkge1xuXG4gICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlcy5wdXNoKGluZGV4KVxuICAgICAgICAgICAgdGFpbGludGVyc2VjdGlvbnMucHVzaChlbnRyeSlcbiAgICAgICAgICAgIHRhaWxwdHIgPSB0YWlsaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxIC8vIHVzZWQgZm9yIGR1cGxpY2F0ZSByZXNvbHV0aW9uXG5cbiAgICAgICAgfSBlbHNlIGlmIChoZWFkaW5kZXhlcy5pbmNsdWRlcyhpbmRleCkpIHtcblxuICAgICAgICAgICAgaGVhZGludGVyc2VjdGlvbmluZGV4ZXMucHVzaChpbmRleClcbiAgICAgICAgICAgIGhlYWRpbnRlcnNlY3Rpb25zLnB1c2goZW50cnkpXG4gICAgICAgICAgICBoZWFkcHRyID0gaGVhZGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMSAvLyB1c2VkIGZvciBkdXBsaWNhdGUgcmVzb2x1dGlvblxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogdW5rbm93biBpbnRlcnNlY3Rpb24gZWxlbWVudCwgYWJvcnRpbmcgaXNvbGF0ZVJlbGV2YW50SW50ZXJzZWN0aW9ucycsZW50cnkpXG4gICAgICAgICAgICByZXR1cm4gLy8gc2hvdWxkbid0IGhhcHBlbjsgZ2l2ZSB1cFxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmF0aW9cbiAgICAgICAgaWYgKGJyb3dzZXIgJiYgYnJvd3Nlci5uYW1lID09ICdzYWZhcmknKSB7XG4gICAgICAgICAgICByYXRpbyA9IGVudHJ5LmludGVyc2VjdGlvblJhdGlvXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYXRpbyA9IE1hdGgucm91bmQoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gKiAxMDAwKS8xMDAwXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2FsY2ludGVyc2VjdGluZyA9IChyYXRpbyA+PSBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQpXG4gICAgICAgIGxldCBpb2JqID0ge1xuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpbmc6Y2FsY2ludGVyc2VjdGluZywgIC8vIHRvIGFjY29tbW9kYXRlIGJyb3dzZXIgZGlmZmVyZW5jZXNcbiAgICAgICAgICAgIGlzSW50ZXJzZWN0aW5nOmVudHJ5LmlzSW50ZXJzZWN0aW5nLFxuICAgICAgICAgICAgcmF0aW8sXG4gICAgICAgICAgICBvcmlnaW5hbHJhdGlvOmVudHJ5LmludGVyc2VjdGlvblJhdGlvLFxuICAgICAgICAgICAgdGltZTplbnRyeS50aW1lLFxuICAgICAgICAgICAgaGVhZHB0cixcbiAgICAgICAgICAgIHRhaWxwdHIsXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25zcHRyLFxuICAgICAgICB9XG4gICAgICAgIGlmICghaW50ZXJzZWN0aW5nW2luZGV4XSkgeyAvLyBuZXcgaXRlbVxuICAgICAgICAgICAgaW50ZXJzZWN0aW5nW2luZGV4XSA9IGlvYmpcbiAgICAgICAgfSBlbHNlIHsgLy8gZHVwbGljYXRlIGl0ZW1cbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnRlcnNlY3RpbmdbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGxldCBhcnIgPSBbaW50ZXJzZWN0aW5nW2luZGV4XV1cbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RpbmdbaW5kZXhdID0gYXJyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcnNlY3RpbmdbaW5kZXhdLnB1c2goaW9iailcbiAgICAgICAgICAgIGlmICghZHVwbGljYXRlc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVzW2luZGV4XSA9IFtdXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlc1tpbmRleF0ucHVzaChpbnRlcnNlY3RpbmdbaW5kZXhdWzBdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHVwbGljYXRlc1tpbmRleF0ucHVzaChpb2JqKVxuICAgICAgICB9XG4gICAgICAgIGludGVyc2VjdGlvbnNwdHIrK1xuXG4gICAgfVxuICAgIC8vIHJlc29sdmUgZHVwbGljYXRlcy4gRm9yIHVuZXZlbiBudW1iZXIsIGtlZXAgdGhlIG1vc3QgcmVjZW50XG4gICAgLy8gb3RoZXJ3aXNlIGRlbGV0ZSB0aGVtLCB0aGV5IGNhbmNlbCBlYWNoIG90aGVyIG91dC5cblxuICAgIGxldCBkdXBsaWNhdGVzbGVuZ3RoID0gT2JqZWN0LmtleXMoZHVwbGljYXRlcykubGVuZ3RoXG4gICAgaWYgKGR1cGxpY2F0ZXNsZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdEVVBMSUNBVEVTIGZvdW5kJywgZHVwbGljYXRlc2xlbmd0aCwgZHVwbGljYXRlcylcbiAgICAgICAgbGV0IGhlYWRpbnRlcnNlY3Rpb25zZGVsZXRlID0gW10sXG4gICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9uc2RlbGV0ZSA9IFtdXG5cbiAgICAgICAgZm9yIChsZXQgZHVwbGljYXRlaW5kZXggaW4gZHVwbGljYXRlcykge1xuXG4gICAgICAgICAgICBsZXQgZHVwbGljYXRlID0gZHVwbGljYXRlc1tkdXBsaWNhdGVpbmRleF1cblxuICAgICAgICAgICAgaWYgKGR1cGxpY2F0ZS5sZW5ndGggJSAyKSB7XG4gICAgICAgICAgICAgICAgZHVwbGljYXRlLnNvcnQoZHVwbGljYXRlY29tcGFyZSlcbiAgICAgICAgICAgICAgICBsZXQgZW50cnkgPSBkdXBsaWNhdGUuc2xpY2UoZHVwbGljYXRlLmxlbmd0aCAtMSwxKVxuICAgICAgICAgICAgICAgIGludGVyc2VjdGluZ1tlbnRyeS5pbmRleF0gPSBlbnRyeVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaW50ZXJzZWN0aW5nW2R1cGxpY2F0ZVswXS5pbmRleF1cbiAgICAgICAgICAgICAgICAvLyBpbnRlcnNlY3RpbmdkZWxldGUucHVzaChkdXBsaWNhdGVbMF0uaW5kZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRyeW9iaiBvZiBkdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZHB0ciA9IGVudHJ5b2JqLmhlYWRwdHJcbiAgICAgICAgICAgICAgICBsZXQgdGFpbHB0ciA9IGVudHJ5b2JqLnRhaWxwdHJcbiAgICAgICAgICAgICAgICBpZiAoaGVhZHB0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbnRlcnNlY3Rpb25zZGVsZXRlLnB1c2goaGVhZHB0cilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhaWxwdHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9uc2RlbGV0ZS5wdXNoKHRhaWxwdHIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkaW50ZXJzZWN0aW9uc2RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzID0gaGVhZGludGVyc2VjdGlvbmluZGV4ZXMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWhlYWRpbnRlcnNlY3Rpb25zZGVsZXRlLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGhlYWRpbnRlcnNlY3Rpb25zID0gaGVhZGludGVyc2VjdGlvbnMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWhlYWRpbnRlcnNlY3Rpb25zZGVsZXRlLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFpbGludGVyc2VjdGlvbnNkZWxldGUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlcyA9IHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzLmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0YWlsaW50ZXJzZWN0aW9uc2RlbGV0ZS5pbmNsdWRlcyhpbmRleClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9ucyA9IHRhaWxpbnRlcnNlY3Rpb25zLmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0YWlsaW50ZXJzZWN0aW9uc2RlbGV0ZS5pbmNsdWRlcyhpbmRleClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcy5zb3J0KGluZGV4Y29tcGFyZSlcbiAgICB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlcy5zb3J0KGluZGV4Y29tcGFyZSlcblxuICAgIGhlYWRpbnRlcnNlY3Rpb25zLnNvcnQoZW50cnljb21wYXJlKVxuICAgIHRhaWxpbnRlcnNlY3Rpb25zLnNvcnQoZW50cnljb21wYXJlKVxuXG4gICAgLy8gc2V0IHJlZmVyZW5jZSBwb2ludHMgaW4gcmVsYXRpb24gdG8gdGhlIHNwaW5lXG4gICAgbGV0IGhlYWRpbmRleCA9IGhlYWRpbmRleGVzW2hlYWRpbmRleGVzLmxlbmd0aCAtIDFdXG4gICAgbGV0IHRhaWxpbmRleCA9IHRhaWxpbmRleGVzWzBdXG4gICAgbGV0IGhlYWRwdHIgPSBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcy5pbmRleE9mKGhlYWRpbmRleClcbiAgICBsZXQgdGFpbHB0ciA9IHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzLmluZGV4T2YodGFpbGluZGV4KVxuXG4gICAgLy8gZmlsdGVyIG91dCBpdGVtcyB0aGF0IHJlZ2lzdGVyIG9ubHkgYmVjYXVzZSB0aGV5IGhhdmUganVzdCBiZWVuIG1vdmVkXG4gICAgaWYgKGhlYWRwdHIgIT09IChoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcy5sZW5ndGggLSAxKSkgeyBcbiAgICAgICAgaGVhZHB0ciA9IC0xXG4gICAgfVxuXG4gICAgaWYgKHRhaWxwdHIgIT09MCkgeyBcbiAgICAgICAgdGFpbHB0ciA9IC0xXG4gICAgfVxuICAgIGlmICgoaGVhZHB0ciA+IC0xKSAmJiAodGFpbHB0ciA+IC0xKSkgeyAvLyBlZGdlIGNhc2VcblxuICAgICAgICBpZiAoc2Nyb2xsZm9yd2FyZCkge1xuICAgICAgICAgICAgaGVhZHB0ciA9IC0xXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWlscHRyID0gLTFcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gY29sbGVjdCBub3RpZmljYXRpb25zIHRvIG1haW4gdGhyZWFkIChmaWx0ZXJlZCBpbnRlcnNlY3Rpb25zKVxuICAgIC8vIGZvciBzY3JvbGxiYWNrd2FyZFxuICAgIGxldCBoZWFkcmVmaW5kZXgsIHRhaWxyZWZpbmRleCAvLyBmb3IgcmV0dXJuXG4gICAgaWYgKCFzY3JvbGxmb3J3YXJkICYmIChoZWFkcHRyID49IDApKSB7XG4gICAgICAgIGhlYWRyZWZpbmRleCA9IGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzW2hlYWRwdHJdXG4gICAgICAgIGxldCByZWZpbmRleCA9IGhlYWRyZWZpbmRleCArIDFcbiAgICAgICAgbGV0IHJlZmludGVyc2VjdGluZyA9IGludGVyc2VjdGluZ1tyZWZpbmRleCAtIDFdLmludGVyc2VjdGluZ1xuXG4gICAgICAgIGZvciAobGV0IHB0ciA9IGhlYWRwdHI7IHB0ciA+PSAwOyBwdHItLSkge1xuXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlc1twdHJdXG5cbiAgICAgICAgICAgIC8vIHRlc3QgZm9yIGNvbnRpbnVpdHkgYW5kIGNvbnNpc3RlbmN5XG4gICAgICAgICAgICBpZiAoKChpbmRleCArIDEpID09IHJlZmluZGV4KSAmJiAoaW50ZXJzZWN0aW5nW2luZGV4XS5pbnRlcnNlY3RpbmcgPT0gcmVmaW50ZXJzZWN0aW5nKSkge1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRpbnRlcnNlY3Rpb25zLnB1c2goaGVhZGludGVyc2VjdGlvbnNbcHRyXSlcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVmaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgcmVmaW50ZXJzZWN0aW5nID0gaW50ZXJzZWN0aW5nW3JlZmluZGV4XS5pbnRlcnNlY3RpbmdcblxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGZvciBzY3JvbGxmb3J3YXJkXG4gICAgaWYgKHNjcm9sbGZvcndhcmQgJiYgKHRhaWxwdHIgPj0gMCkpIHtcbiAgICAgICAgdGFpbHJlZmluZGV4ID0gdGFpbGludGVyc2VjdGlvbmluZGV4ZXNbdGFpbHB0cl1cbiAgICAgICAgbGV0IHJlZmluZGV4ID0gdGFpbHJlZmluZGV4IC0gMVxuICAgICAgICBsZXQgcmVmaW50ZXJzZWN0aW5nID0gaW50ZXJzZWN0aW5nW3JlZmluZGV4ICsgMV0uaW50ZXJzZWN0aW5nXG5cbiAgICAgICAgZm9yIChsZXQgcHRyID0gdGFpbHB0cjsgcHRyIDwgdGFpbGludGVyc2VjdGlvbmluZGV4ZXMubGVuZ3RoOyBwdHIrKykge1xuXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlc1twdHJdXG5cbiAgICAgICAgICAgIC8vIHRlc3QgZm9yIGNvbnRpbnVpdHkgYW5kIGNvbnNpc3RlbmN5XG4gICAgICAgICAgICBpZiAoKChpbmRleCAtIDEpID09IHJlZmluZGV4KSAmJiAoaW50ZXJzZWN0aW5nW2luZGV4XS5pbnRlcnNlY3RpbmcgPT0gcmVmaW50ZXJzZWN0aW5nKSkge1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRpbnRlcnNlY3Rpb25zLnB1c2godGFpbGludGVyc2VjdGlvbnNbcHRyXSlcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVmaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgcmVmaW50ZXJzZWN0aW5nID0gaW50ZXJzZWN0aW5nW2luZGV4XS5pbnRlcnNlY3RpbmdcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsdGVyZWRpbnRlcnNlY3Rpb25zLnNvcnQoZW50cnljb21wYXJlKSAvLyBUT0RPIHRoaXMgc2hvdWxkIGJlIGludGVncmF0ZWQgaW50byB0aGUgY29kZSBhYm92ZVxuXG4gICAgcmV0dXJuIGZpbHRlcmVkaW50ZXJzZWN0aW9ucyBcblxufVxuXG5sZXQgaW5kZXhjb21wYXJlID0gKGEsYikgPT4ge1xuICAgIGxldCByZXR2YWwgPSAoYSA8IGIpPy0xOjFcbiAgICByZXR1cm4gcmV0dmFsXG59XG5cbmxldCBlbnRyeWNvbXBhcmUgPSAoYSxiKSA9PiB7XG4gICAgbGV0IHJldHZhbCA9IChwYXJzZUludChhLnRhcmdldC5kYXRhc2V0LmluZGV4KSA8IHBhcnNlSW50KGIudGFyZ2V0LmRhdGFzZXQuaW5kZXgpKT8gLTE6MVxuICAgIHJldHVybiByZXR2YWxcbn1cblxubGV0IGR1cGxpY2F0ZWNvbXBhcmUgPSAoYSxiKSA9PiB7XG4gICAgbGV0IHJldHZhbCA9IChhLnRpbWUgPCBiLnRpbWUpPy0xOjFcbn1cblxuZXhwb3J0IGNvbnN0IGNhbGNDb250ZW50U2hpZnRzID0gKHsgLy8gY2FsbGVkIG9ubHkgZnJvbSB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgY3JhZGxlUHJvcHMsXG4gICAgY3JhZGxlRWxlbWVudHMsXG4gICAgY3JhZGxlQ29udGVudCxcbiAgICBjcmFkbGVDb25maWcsXG4gICAgdmlld3BvcnRFbGVtZW50LFxuICAgIGl0ZW1FbGVtZW50cyxcbiAgICBpbnRlcnNlY3Rpb25zLFxuICAgIHNjcm9sbGZvcndhcmQsXG4gICAgLy8gc291cmNlLFxufSkgPT4ge1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHsgZ2FwLFxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgcnVud2F5Y291bnQgfSA9IGNyYWRsZVByb3BzXG5cbiAgICBsZXQgc3BpbmVFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuc3BpbmUuY3VycmVudFxuICAgIGxldCBoZWFkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWQuY3VycmVudFxuICAgIGxldCB0YWlsRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLnRhaWwuY3VycmVudFxuXG4gICAgbGV0IGNyYWRsZWNvbnRlbnRsaXN0ID0gY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbFxuICAgIGxldCBoZWFkY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbFxuICAgIGxldCB0YWlsY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbFxuXG4gICAgbGV0IHsgY3Jvc3Njb3VudCxcbiAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRSb3djb3VudCxcbiAgICAgICAgaXRlbU9ic2VydmVyVGhyZXNob2xkIH0gPSBjcmFkbGVDb25maWdcblxuICAgIGxldCBCT0QgPSBmYWxzZSwgRU9EID0gZmFsc2UgLy8gYmVnaW5uaW5nLW9mLWRhdGEsIGVuZC1vZi1kYXRhXG5cbiAgICAvLyAtLS0tLS0tWyAxLiBjYWxjdWxhdGUgaGVhZCBvdmVyc2hvb3Qgcm93IGNvdW50LCBpZiBhbnkgXS0tLS0tLS1cbiAgICBcbiAgICBsZXQgc3RhcnRpbmdzcGluZW9mZnNldCwgaGVhZGJsb2Nrb2Zmc2V0LCB0YWlsYmxvY2tvZmZzZXQsIHZpZXdwb3J0bGVuZ3RoXG4gICAgbGV0IHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA9IDBcblxuICAgIGxldCBjZWxsTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP2NlbGxIZWlnaHQgKyBnYXA6Y2VsbFdpZHRoICsgZ2FwXG5cbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgIHN0YXJ0aW5nc3BpbmVvZmZzZXQgPSBzcGluZUVsZW1lbnQub2Zmc2V0VG9wIC0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICB2aWV3cG9ydGxlbmd0aCA9IHZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHRcblxuICAgICAgICAvLyBtZWFzdXJlIGFueSBnYXAgYmV0d2VlbiB0aGUgY3JhZGxlIGFuZCB0aGUgdG9wIHZpZXdwb3J0IGJvdW5kYXJ5XG4gICAgICAgIGlmICghc2Nyb2xsZm9yd2FyZCkge1xuXG4gICAgICAgICAgICAvLyBpZiBzdGFydGluZ3NwaW5lb2Zmc2V0IGlzIGJlbG93IHRoZSB0b3AgYnkgbW9yZSB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIGhlYWRFbG1lbnQgdGhlbiBhIGdhcCB3aWxsIGJlIHZpc2libGVcbiAgICAgICAgICAgIHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA9IHN0YXJ0aW5nc3BpbmVvZmZzZXQgLSBoZWFkRWxlbWVudC5vZmZzZXRIZWlnaHRcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgeyAvLyBob3Jpem9udGFsXG5cbiAgICAgICAgc3RhcnRpbmdzcGluZW9mZnNldCA9IHNwaW5lRWxlbWVudC5vZmZzZXRMZWZ0IC0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgdmlld3BvcnRsZW5ndGggPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0V2lkdGhcblxuICAgICAgICBpZiAoIXNjcm9sbGZvcndhcmQpIHtcblxuICAgICAgICAgICAgdmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoID0gc3RhcnRpbmdzcGluZW9mZnNldCAtIGhlYWRFbGVtZW50Lm9mZnNldFdpZHRoXG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICgodmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoIDwgMCkgfHwgKHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA+IHZpZXdwb3J0bGVuZ3RoKSkgdmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoID0gMCAvLyBubyB2aXNpYmxlIGdhcCwgb3IgcmVwb3NpdGlvbiBzaG91bGQgaGF2ZSBraWNrZWQgaW5cblxuICAgIC8vIHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCBpcyBhbHdheXMgcG9zaXRpdmVcbiAgICBsZXQgb3ZlcnNob290cm93Y291bnQgPSAodmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoID09IDApPzA6TWF0aC5jZWlsKHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aC9jZWxsTGVuZ3RoKSAvLyByb3dzIHRvIGZpbGwgdmlld3BvcnRcblxuICAgIC8vIGV4dHJhIHJvd3MgZm9yIHJ1bndheVxuICAgIGlmIChvdmVyc2hvb3Ryb3djb3VudCkge1xuICAgICAgICBvdmVyc2hvb3Ryb3djb3VudCArPSBydW53YXljb3VudFxuICAgIH1cblxuICAgIGxldCBvdmVyc2hvb3RpdGVtY291bnQgPSBvdmVyc2hvb3Ryb3djb3VudCAqIGNyb3NzY291bnRcblxuICAgIGlmIChvdmVyc2hvb3RpdGVtY291bnQpIHsvLyAoIXNjcm9sbGZvcndhcmQgJiYgb3ZlcnNob290aXRlbWNvdW50KSB7IC8vIG5lZ2F0aW9uIG9mIHZhbHVlcyBmb3Igc2Nyb2xsIGJhY2t3YXJkXG4gICAgICAgIG92ZXJzaG9vdGl0ZW1jb3VudCA9IC1vdmVyc2hvb3RpdGVtY291bnRcbiAgICAgICAgb3ZlcnNob290cm93Y291bnQgPSAtb3ZlcnNob290cm93Y291bnRcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBjYWxjdWxhdGUgaXRlbXNoaWZ0Y291bnQgaW5jbHVkbmcgb3ZlcnNob290IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBzaGlmdCBpdGVtIGNvdW50IGlzIHRoZSBudW1iZXIgb2YgaXRlbXMgdGhlIHZpcnR1YWwgY3JhZGxlIHNoaWZ0cywgYWNjb3JkaW5nIHRvIG9ic2VydmVyIG5vdGljZXNcblxuICAgIGxldCBmb3J3YXJkY291bnQgPSAwLCBiYWNrd2FyZGNvdW50ID0gMFxuICAgIGlmIChzY3JvbGxmb3J3YXJkKSB7XG5cbiAgICAgICAgYmFja3dhcmRjb3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGZvcndhcmRjb3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoXG5cbiAgICB9XG5cbiAgICBsZXQgY3JhZGxlc2hpZnRjb3VudCA9IGJhY2t3YXJkY291bnQgLSBmb3J3YXJkY291bnQgKyBvdmVyc2hvb3RpdGVtY291bnRcbiAgICBsZXQgcmVmZXJlbmNlc2hpZnRjb3VudCA9IGNyYWRsZXNoaWZ0Y291bnRcblxuICAgIGxldCBjcmFkbGVyb3dzaGlmdCA9IE1hdGguY2VpbChjcmFkbGVzaGlmdGNvdW50L2Nyb3NzY291bnQpXG4gICAgbGV0IHJlZmVyZW5jZXJvd3NoaWZ0ID0gY3JhZGxlcm93c2hpZnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAzLiBjYWxjIGNyYWRsZWluZGV4IGFuZCByZWZlcmVuY2VpbmRleCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGxldCBwcmV2aW91c2NyYWRsZWluZGV4ID0gY3JhZGxlY29udGVudGxpc3RbMF0ucHJvcHMuaW5kZXhcbiAgICBsZXQgcHJldmlvdXNjcmFkbGVyb3dvZmZzZXQgPSBwcmV2aW91c2NyYWRsZWluZGV4L2Nyb3NzY291bnRcbiAgICBsZXQgcHJldmlvdXNyZWZlcmVuY2VpbmRleCA9IHRhaWxjb250ZW50bGlzdFswXS5wcm9wcy5pbmRleFxuICAgIGxldCBwcmV2aW91c3JlZmVyZW5jZXJvd29mZnNldCA9IHByZXZpb3VzcmVmZXJlbmNlaW5kZXgvY3Jvc3Njb3VudFxuXG4gICAgbGV0IGRpZmYgXG4gICAgaWYgKHNjcm9sbGZvcndhcmQpIHtcblxuICAgICAgICBpZiAoKHByZXZpb3VzY3JhZGxlcm93b2Zmc2V0ICsgY3JhZGxlUm93Y291bnQgKyBjcmFkbGVyb3dzaGlmdCkgPj0gKGxpc3RSb3djb3VudCkpIHtcbiAgICAgICAgICAgIEVPRCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGRpZmYgPSAocHJldmlvdXNjcmFkbGVyb3dvZmZzZXQgKyBjcmFkbGVSb3djb3VudCArIGNyYWRsZXJvd3NoaWZ0KSAtIChsaXN0Um93Y291bnQpXG5cbiAgICAgICAgaWYgKGRpZmYgPiAwKSB7XG5cbiAgICAgICAgICAgIGNyYWRsZXJvd3NoaWZ0IC09IGRpZmZcbiAgICAgICAgICAgIGNyYWRsZXNoaWZ0Y291bnQgLT0gKGRpZmYgKiBjcm9zc2NvdW50KVxuXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgaWYgKChwcmV2aW91c2NyYWRsZXJvd29mZnNldCArIGNyYWRsZXJvd3NoaWZ0KSA8PSAwKSB7XG4gICAgICAgICAgICBCT0QgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgZGlmZiA9IHByZXZpb3VzY3JhZGxlcm93b2Zmc2V0ICsgY3JhZGxlcm93c2hpZnRcbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG5cbiAgICAgICAgICAgIGNyYWRsZXJvd3NoaWZ0IC09IGRpZmZcbiAgICAgICAgICAgIGNyYWRsZXNoaWZ0Y291bnQgLT0gKGRpZmYgKiBjcm9zc2NvdW50KVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGxldCBuZXdjcmFkbGVpbmRleCA9IHByZXZpb3VzY3JhZGxlaW5kZXggKyBjcmFkbGVzaGlmdGNvdW50XG4gICAgbGV0IG5ld3JlZmVyZW5jZWluZGV4ID0gcHJldmlvdXNyZWZlcmVuY2VpbmRleCArIHJlZmVyZW5jZXNoaWZ0Y291bnRcblxuICAgIGlmIChuZXdyZWZlcmVuY2VpbmRleCA8IDApIHtcbiAgICAgICAgcmVmZXJlbmNlc2hpZnRjb3VudCArPSBuZXdyZWZlcmVuY2VpbmRleFxuICAgICAgICBuZXdyZWZlcmVuY2VpbmRleCA9IDBcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tWyA0LiBjYWxjdWxhdGUgc3BpbmVBZGp1c3RtZW50IGFuZCBzcGluZU9mZnNldCBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgcmVmZXJlbmNlaXRlbXNoaWZ0Y291bnQgPSBuZXdyZWZlcmVuY2VpbmRleCAtIHByZXZpb3VzcmVmZXJlbmNlaW5kZXhcbiAgICBsZXQgY3JhZGxlaXRlbXNoaWZ0Y291bnQgPSBuZXdjcmFkbGVpbmRleCAtIHByZXZpb3VzY3JhZGxlaW5kZXhcblxuICAgIHJlZmVyZW5jZXJvd3NoaWZ0ID0gcmVmZXJlbmNlaXRlbXNoaWZ0Y291bnQvY3Jvc3Njb3VudFxuICAgIGxldCByZWZlcmVuY2VwaXhlbHNoaWZ0ID0gcmVmZXJlbmNlcm93c2hpZnQgKiBjZWxsTGVuZ3RoXG5cbiAgICBsZXQgc3BpbmVPZmZzZXQgPSBzdGFydGluZ3NwaW5lb2Zmc2V0ICsgcmVmZXJlbmNlcGl4ZWxzaGlmdFxuXG4gICAgbGV0IHNwaW5lT2Zmc2V0VGFyZ2V0ID0gc3BpbmVPZmZzZXRcbiAgICBsZXQgc3BpbmVBZGp1c3RtZW50ID0gMFxuXG4gICAgaWYgKE1hdGguYWJzKHNwaW5lT2Zmc2V0KSA+IGNlbGxMZW5ndGgpIHtcblxuICAgICAgICBzcGluZU9mZnNldFRhcmdldCA9IChzcGluZU9mZnNldCAlIGNlbGxMZW5ndGgpXG4gICAgICAgIHNwaW5lQWRqdXN0bWVudCA9IC0oTWF0aC5jZWlsKChzcGluZU9mZnNldCAtIHNwaW5lT2Zmc2V0VGFyZ2V0KSAvIGNlbGxMZW5ndGgpICogY3Jvc3Njb3VudClcblxuICAgIH1cblxuICAgIGlmIChzcGluZU9mZnNldFRhcmdldCA8IDApIHtcbiAgICAgICAgc3BpbmVPZmZzZXRUYXJnZXQgKz0gY2VsbExlbmd0aFxuICAgICAgICBzcGluZUFkanVzdG1lbnQgKz0gY3Jvc3Njb3VudCBcbiAgICB9XG5cbiAgICBpZiAoc3BpbmVBZGp1c3RtZW50ICYmIChCT0QgfHwgRU9EKSkge1xuXG4gICAgICAgIG5ld3JlZmVyZW5jZWluZGV4ICs9IHNwaW5lQWRqdXN0bWVudFxuICAgICAgICByZWZlcmVuY2VpdGVtc2hpZnRjb3VudCArPSBzcGluZUFkanVzdG1lbnRcbiAgICAgICAgc3BpbmVPZmZzZXQgPSBzcGluZU9mZnNldFRhcmdldFxuXG4gICAgfSBlbHNlIGlmIChzcGluZUFkanVzdG1lbnQpIHtcblxuICAgICAgICBuZXdjcmFkbGVpbmRleCArPSBzcGluZUFkanVzdG1lbnRcbiAgICAgICAgY3JhZGxlaXRlbXNoaWZ0Y291bnQgKz0gc3BpbmVBZGp1c3RtZW50XG4gICAgICAgIG5ld3JlZmVyZW5jZWluZGV4ICs9IHNwaW5lQWRqdXN0bWVudFxuICAgICAgICByZWZlcmVuY2VpdGVtc2hpZnRjb3VudCArPSBzcGluZUFkanVzdG1lbnRcbiAgICAgICAgc3BpbmVPZmZzZXQgPSBzcGluZU9mZnNldFRhcmdldFxuICAgIH1cblxuICAgIHNwaW5lT2Zmc2V0ID0gc3BpbmVPZmZzZXRUYXJnZXRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNS4gcmV0dXJuIHJlcXVpcmVkIHZhbHVlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IGNyYWRsZWl0ZW1jb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudFxuXG4gICAgcmV0dXJuIFsgbmV3Y3JhZGxlaW5kZXgsIGNyYWRsZWl0ZW1zaGlmdGNvdW50LCBuZXdyZWZlcmVuY2VpbmRleCwgcmVmZXJlbmNlaXRlbXNoaWZ0Y291bnQsIHNwaW5lT2Zmc2V0LCBjcmFkbGVpdGVtY291bnQgXVxuXG59XG5cbmV4cG9ydCBjb25zdCBjYWxjSGVhZEFuZFRhaWxDaGFuZ2VzID0gKHtcblxuICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgY3JhZGxlQ29uZmlnLFxuICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICBjcmFkbGVzaGlmdGNvdW50LFxuICAgICAgICBzY3JvbGxmb3J3YXJkLFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcblxuICAgIH0pID0+IHtcblxuICAgIGxldCBsaXN0c2l6ZSA9IGNyYWRsZVByb3BzLmxpc3RzaXplXG5cbiAgICBsZXQgaGVhZGNvbnRlbnQgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbFxuICAgIGxldCB0YWlsY29udGVudCA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsXG5cbiAgICBsZXQgeyBjcm9zc2NvdW50LFxuICAgIGNyYWRsZVJvd2NvdW50IH0gPSBjcmFkbGVDb25maWdcblxuICAgIGNyYWRsZXNoaWZ0Y291bnQgPSBNYXRoLmFicyhjcmFkbGVzaGlmdGNvdW50KSBcbiAgICBsZXQgcm93c2hpZnRjb3VudCA9IE1hdGguY2VpbChjcmFkbGVzaGlmdGNvdW50L2Nyb3NzY291bnQpIC8vKyBib3VuZGFyeXJvd2NvdW50XG5cbiAgICBsZXQgaGVhZHJvd2NvdW50LCB0YWlscm93Y291bnRcbiAgICBoZWFkcm93Y291bnQgPSBNYXRoLmNlaWwoaGVhZGNvbnRlbnQubGVuZ3RoL2Nyb3NzY291bnQpXG4gICAgdGFpbHJvd2NvdW50ID0gTWF0aC5jZWlsKHRhaWxjb250ZW50Lmxlbmd0aC9jcm9zc2NvdW50KVxuXG4gICAgbGV0IHBlbmRpbmdjb250ZW50b2Zmc2V0IC8vIGxvb2thaGVhZCB0byBuZXcgY3JhZGxlUmVmZXJlbmNlSW5kZXhcblxuICAgIGxldCBoZWFkY2hhbmdlY291bnQsIHRhaWxjaGFuZ2Vjb3VudCAvLyB0aGUgb3V0cHV0IGluc3RydWN0aW9ucyBmb3IgZ2V0VUlDb250ZW50TGlzdFxuXG4gICAgLy8gYW50aWNpcGFhdGUgYWRkIHRvIG9uZSBlbmQsIGNsaXAgZnJvbSB0aGUgb3RoZXIgICAgICAgIFxuICAgIGxldCBhZGRpdGVtY291bnQgPSAwXG4gICAgbGV0IGNsaXByb3djb3VudCA9IDAsIGNsaXBpdGVtY291bnQgPSAwXG5cbiAgICBpZiAoc2Nyb2xsZm9yd2FyZCkgeyAvLyBjbGlwIGZyb20gaGVhZDsgYWRkIHRvIHRhaWw7IHNjcm9sbCBmb3J3YXJkIGhlYWQgaXMgZGlyZWN0aW9uIG9mIHNjcm9sbFxuXG4gICAgICAgIC8vIGFkanVzdCBjbGlwaXRlbWNvdW50XG4gICAgICAgIGlmICgoaGVhZHJvd2NvdW50ICsgcm93c2hpZnRjb3VudCkgPiAoY3JhZGxlUHJvcHMucnVud2F5Y291bnQpKSB7XG5cbiAgICAgICAgICAgIGxldCByb3dkaWZmID0gKGhlYWRyb3djb3VudCArIHJvd3NoaWZ0Y291bnQpIC0gKGNyYWRsZVByb3BzLnJ1bndheWNvdW50KVxuICAgICAgICAgICAgY2xpcHJvd2NvdW50ID0gcm93ZGlmZlxuICAgICAgICAgICAgY2xpcGl0ZW1jb3VudCA9IChjbGlwcm93Y291bnQgKiBjcm9zc2NvdW50KVxuXG4gICAgICAgIH1cblxuICAgICAgICBhZGRpdGVtY291bnQgPSBjbGlwaXRlbWNvdW50IC8vIG1haW50YWluIGNvbnN0YW50IGNyYWRsZSBjb3VudFxuXG4gICAgICAgIHBlbmRpbmdjb250ZW50b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjbGlwaXRlbWNvdW50IC8vIGFmdGVyIGNsaXBcblxuICAgICAgICBsZXQgcHJvcG9zZWR0YWlsaW5kZXggPSBwZW5kaW5nY29udGVudG9mZnNldCArIChjcmFkbGVSb3djb3VudCAqIGNyb3NzY291bnQpIC0gMSAvLyBtb2RlbGNvbnRlbnRsaXN0Lmxlbmd0aCAtIDFcblxuICAgICAgICAvLyBhZGtqdXN0IGNoYW5nZXMgZm9yIGxpc3QgYm91bmRhcmllc1xuICAgICAgICBpZiAoKHByb3Bvc2VkdGFpbGluZGV4KSA+IChsaXN0c2l6ZSAtMSkgKSB7XG5cbiAgICAgICAgICAgIGxldCBkaWZmaXRlbWNvdW50ID0gKHByb3Bvc2VkdGFpbGluZGV4IC0gKGxpc3RzaXplIC0xKSkgLy8gaXRlbXMgb3V0c2lkZSByYW5nZVxuICAgICAgICAgICAgYWRkaXRlbWNvdW50IC09IGRpZmZpdGVtY291bnQgLy8gYWRqdXN0IHRoZSBhZGRjb250ZW50IGFjY29yZGluZ2x5XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBkaWZmcm93cyA9IE1hdGguZmxvb3IoZGlmZml0ZW1jb3VudC9jcm9zc2NvdW50KSAvLyBudW1iZXIgb2YgZnVsbCByb3dzIHRvIGxlYXZlIGluIHBsYWNlXG4gICAgICAgICAgICBsZXQgZGlmZnJvd2l0ZW1zID0gKGRpZmZyb3dzICogY3Jvc3Njb3VudCkgIC8vIGRlcml2ZWQgbnVtYmVyIG9mIGl0ZW1zIHRvIGxlYXZlIGluIHBsYWNlXG5cbiAgICAgICAgICAgIGNsaXBpdGVtY291bnQgLT0gZGlmZnJvd2l0ZW1zIC8vIGFwcGx5IGFkanVzdG1lbnQgdG8gbmV0c2hpZnRcblxuICAgICAgICAgICAgaWYgKGFkZGl0ZW1jb3VudCA8PTApIHsgLy8gbm90aGluZyB0byBkb1xuXG4gICAgICAgICAgICAgICAgYWRkaXRlbWNvdW50ID0gMFxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2xpcGl0ZW1jb3VudCA8PTAgKSB7XG5cbiAgICAgICAgICAgICAgICBjbGlwaXRlbWNvdW50ID0gMFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGNoYW5nZWNvdW50ID0gLWNsaXBpdGVtY291bnRcbiAgICAgICAgdGFpbGNoYW5nZWNvdW50ID0gYWRkaXRlbWNvdW50XG5cbiAgICB9IGVsc2UgeyAvLyBzY3JvbGwgYmFja3dhcmQsIGluIGRpcmVjdGlvbiBvZiB0YWlsOyBjbGlwIGZyb20gdGFpbCwgYWRkIHRvIGhlYWRcblxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uaW5kZXhlcyA9IFtdXG5cbiAgICAgICAgLy8gaGVhZGNvdW50IHdpbGwgYmUgbGVzcyB0aGFuIG1pbmltdW0gKHJ1bndheWNvdW50KSwgc28gYSBzaGlmdCBjYW4gYmUgYWNjb21wbGlzaGVkW11cbiAgICAgICAgaWYgKChoZWFkcm93Y291bnQgLSByb3dzaGlmdGNvdW50KSA8IChjcmFkbGVQcm9wcy5ydW53YXljb3VudCkpIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBjbGlwIGZvciB0YWlsXG4gICAgICAgICAgICBsZXQgcm93c2hvcnRmYWxsID0gKGNyYWRsZVByb3BzLnJ1bndheWNvdW50KSAtIChoZWFkcm93Y291bnQgLSByb3dzaGlmdGNvdW50KVxuXG4gICAgICAgICAgICBjbGlwcm93Y291bnQgPSByb3dzaG9ydGZhbGxcbiAgICAgICAgICAgIGxldCB0YWlscm93aXRlbWNvdW50ID0gKHRhaWxjb250ZW50Lmxlbmd0aCAlIGNyb3NzY291bnQpXG5cbiAgICAgICAgICAgIGlmICh0YWlscm93aXRlbWNvdW50ID09IDApIHRhaWxyb3dpdGVtY291bnQgPSBjcm9zc2NvdW50XG5cbiAgICAgICAgICAgIGNsaXBpdGVtY291bnQgPSB0YWlscm93aXRlbWNvdW50XG4gICAgICAgICAgICBpZiAodGFpbHJvd2NvdW50ID4gMSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsaXByb3djb3VudCA+IHRhaWxyb3djb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjbGlwcm93Y291bnQgPSB0YWlscm93Y291bnRcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xpcHJvd2NvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBjbGlwaXRlbWNvdW50ICs9ICgoY2xpcHJvd2NvdW50IC0xKSAqIGNyb3NzY291bnQpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbXBlbnN0YXRlIHdpdGggYWRkaXRlbWNvdW50XG4gICAgICAgICAgICBhZGRpdGVtY291bnQgPSAoY2xpcHJvd2NvdW50ICogY3Jvc3Njb3VudClcblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb3Bvc2VkaW5kZXhvZmZzZXQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGFkZGl0ZW1jb3VudFxuXG4gICAgICAgIGlmIChwcm9wb3NlZGluZGV4b2Zmc2V0IDwgMCkge1xuXG4gICAgICAgICAgICBsZXQgZGlmZml0ZW1jb3VudCA9IC1wcm9wb3NlZGluZGV4b2Zmc2V0XG4gICAgICAgICAgICBsZXQgZGlmZnJvd3MgPSBNYXRoLmNlaWwoZGlmZml0ZW1jb3VudC9jcm9zc2NvdW50KSAvLyBudW1iZXIgb2YgZnVsbCByb3dzIHRvIGxlYXZlIGluIHBsYWNlXG4gICAgICAgICAgICBsZXQgZGlmZnJvd2l0ZW1zID0gKGRpZmZyb3dzICogY3Jvc3Njb3VudClcblxuICAgICAgICAgICAgYWRkaXRlbWNvdW50IC09IGRpZmZpdGVtY291bnRcbiAgICAgICAgICAgIGNsaXBpdGVtY291bnQgLT0gZGlmZnJvd2l0ZW1zXG5cbiAgICAgICAgICAgIGlmIChhZGRpdGVtY291bnQgPD0gMCkge1xuXG4gICAgICAgICAgICAgICAgYWRkaXRlbWNvdW50ID0gMFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2xpcGl0ZW1jb3VudCA8PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBjbGlwaXRlbWNvdW50ID0gMFxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkY2hhbmdlY291bnQgPSBhZGRpdGVtY291bnRcbiAgICAgICAgdGFpbGNoYW5nZWNvdW50ID0gLWNsaXBpdGVtY291bnRcblxuICAgIH1cbiAgICByZXR1cm4gW2hlYWRjaGFuZ2Vjb3VudCx0YWlsY2hhbmdlY291bnRdXG5cbn1cblxuLy8gdXBkYXRlIGNvbnRlbnRcbi8vIGFkZHMgaXRlbXNoZWxscyBhdCBlbmQgb2YgY29udGVudGxpc3QgYWNjb3JkaW5nIHRvIGhlYWRpbmRleGNvdW50IGFuZCB0YWlsaW5kZXNjb3VudCxcbi8vIG9yIGlmIGluZGV4Y291bnQgdmFsdWVzIGFyZSA8MCByZW1vdmVzIHRoZW0uXG5leHBvcnQgY29uc3QgZ2V0VUlDb250ZW50TGlzdCA9ICh7IFxuXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgIGNvbnRlbnRDb3VudCxcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBoZWFkY2hhbmdlY291bnQsIFxuICAgICAgICB0YWlsY2hhbmdlY291bnQsIFxuICAgICAgICBsb2NhbENvbnRlbnRMaXN0OmNvbnRlbnRsaXN0LFxuICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgIG9ic2VydmVyLFxuICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICB9KSA9PiB7XG5cbiAgICBsZXQgeyBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCB9ID0gY3JhZGxlQ29uZmlnXG5cbiAgICBsZXQgbG9jYWxDb250ZW50bGlzdCA9IFsuLi5jb250ZW50bGlzdF1cbiAgICBsZXQgdGFpbGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjb250ZW50bGlzdC5sZW5ndGhcbiAgICAvLyBsZXQgaGVhZGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXhcbiAgICBsZXQgcmV0dXJuQ29udGVudGxpc3RcblxuICAgIGxldCBoZWFkQ29udGVudGxpc3QgPSBbXVxuXG4gICAgbGV0IHRvcGNvbnN0cmFpbnQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGhlYWRjaGFuZ2Vjb3VudCxcbiAgICBib3R0b21jb25zdHJhaW50ID0gKGNyYWRsZVJlZmVyZW5jZUluZGV4IC0gaGVhZGNoYW5nZWNvdW50KSArIChjb250ZW50Q291bnQgKyAxKSAvLyBUT0RPOiB2YWxpZGF0ZSBcIisxXCJcblxuICAgIC8vIGNvbnNvbGUubG9nKCd0b3Bjb25zdHJhaW50LCBib3R0b21jb25zdHJhaW50LCBjcmFkbGVSZWZlcmVuY2VJbmRleCwgY29udGVudENvdW50LCBoZWFkY2hhbmdlY291bnQsIHRhaWxjaGFuZ2Vjb3VudCcsIFxuICAgIC8vICAgICB0b3Bjb25zdHJhaW50LCBib3R0b21jb25zdHJhaW50LCBjcmFkbGVSZWZlcmVuY2VJbmRleCwgY29udGVudENvdW50LCBoZWFkY2hhbmdlY291bnQsIHRhaWxjaGFuZ2Vjb3VudClcblxuICAgIGlmIChoZWFkY2hhbmdlY291bnQgPj0gMCkge1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggLSBoZWFkY2hhbmdlY291bnQ7IGluZGV4IDwgKGNyYWRsZVJlZmVyZW5jZUluZGV4KTsgaW5kZXgrKykge1xuXG4gICAgICAgICAgICBpZiAoISgoaW5kZXggPj0gdG9wY29uc3RyYWludCkgJiYgKGluZGV4IDw9IGJvdHRvbWNvbnN0cmFpbnQpKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFkQ29udGVudGxpc3QucHVzaChcbiAgICAgICAgICAgICAgICBhY3F1aXJlSXRlbShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MsIFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBsb2NhbENvbnRlbnRsaXN0LnNwbGljZSggMCwgLWhlYWRjaGFuZ2Vjb3VudCApXG5cbiAgICB9XG5cbiAgICBsZXQgdGFpbENvbnRlbnRsaXN0ID0gW11cblxuICAgIGlmICh0YWlsY2hhbmdlY291bnQgPj0gMCkge1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gdGFpbGluZGV4b2Zmc2V0OyBpbmRleCA8ICh0YWlsaW5kZXhvZmZzZXQgKyB0YWlsY2hhbmdlY291bnQpOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIGlmICghKChpbmRleCA+PSB0b3Bjb25zdHJhaW50KSAmJiAoaW5kZXggPD0gYm90dG9tY29uc3RyYWludCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhaWxDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGFjcXVpcmVJdGVtKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcywgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGxvY2FsQ29udGVudGxpc3Quc3BsaWNlKHRhaWxjaGFuZ2Vjb3VudCwtdGFpbGNoYW5nZWNvdW50KVxuXG4gICAgfVxuXG4gICAgcmV0dXJuQ29udGVudGxpc3QgPSBoZWFkQ29udGVudGxpc3QuY29uY2F0KGxvY2FsQ29udGVudGxpc3QsdGFpbENvbnRlbnRsaXN0KVxuXG4gICAgLy8gY29uc29sZS5sb2coJ2NvbXBvbmVudHMgb2YgZ2V0Y29udGVudGxpc3Q6IHJldHVybkNvbnRlbnRMaXN0LCBoZWFkQ29udGVudGxpc3QsIGxvY2FsQ29udGVudGxpc3QsIHRhaWxDb250ZW50bGlzdCcsIFxuICAgIC8vICAgICByZXR1cm5Db250ZW50bGlzdCwgaGVhZENvbnRlbnRsaXN0LCBsb2NhbENvbnRlbnRsaXN0LCB0YWlsQ29udGVudGxpc3QpXG5cbiAgICByZXR1cm4gcmV0dXJuQ29udGVudGxpc3Rcbn1cblxuLy8gYnV0dGVyZmx5IG1vZGVsLiBMZWFkaW5nIChoZWFkKSBhbGwgb3IgcGFydGlhbGx5IGhpZGRlbjsgdGFpbCwgdmlzaWJsZSBwbHVzIGZvbGxvd2luZyBoaWRkZW5cbmV4cG9ydCBjb25zdCBhbGxvY2F0ZUNvbnRlbnRMaXN0ID0gKFxuICAgIHtcblxuICAgICAgICBjb250ZW50bGlzdCwgLy8gb2YgY3JhZGxlLCBpbiBpdGVtcyAoUmVhY3QgY29tcG9uZW50cylcbiAgICAgICAgc3BpbmVSZWZlcmVuY2VJbmRleCwgLy8gZmlyc3QgdGFpbCBpdGVtXG5cbiAgICB9XG4pID0+IHtcblxuICAgIGxldCBvZmZzZXRpbmRleCA9IGNvbnRlbnRsaXN0WzBdLnByb3BzLmluZGV4XG5cbiAgICBsZXQgaGVhZGl0ZW1jb3VudFxuXG4gICAgaGVhZGl0ZW1jb3VudCA9IChzcGluZVJlZmVyZW5jZUluZGV4IC0gb2Zmc2V0aW5kZXgpXG5cbiAgICBsZXQgaGVhZGxpc3QgPSBjb250ZW50bGlzdC5zbGljZSgwLGhlYWRpdGVtY291bnQpXG4gICAgbGV0IHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbaGVhZGxpc3QsdGFpbGxpc3RdXG5cbn1cblxuY29uc3QgYWNxdWlyZUl0ZW0gPSAoe1xuICAgIGluZGV4LCBcbiAgICBjcmFkbGVQcm9wcyxcbiAgICBvYnNlcnZlciwgXG4gICAgY2FsbGJhY2tzLCBcbiAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcblxufSkgPT4ge1xuICAgIGxldCBpbnN0YW5jZUlEID0gaW5zdGFuY2VJZENvdW50ZXJSZWYuY3VycmVudCsrXG5cbiAgICByZXR1cm4gZW1pdEl0ZW0oe1xuICAgICAgICBpbmRleCwgXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBvYnNlcnZlciwgXG4gICAgICAgIGNhbGxiYWNrcywgXG4gICAgICAgIGluc3RhbmNlSUQsXG4gICAgfSlcbn1cblxuY29uc3QgZW1pdEl0ZW0gPSAoe1xuICAgIGluZGV4LCBcbiAgICBjcmFkbGVQcm9wcyxcbiAgICBvYnNlcnZlciwgXG4gICAgY2FsbGJhY2tzLCBcbiAgICBpbnN0YW5jZUlELFxufSkgPT4ge1xuXG4gICAgbGV0IHsgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2V0SXRlbSxcbiAgICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBzY3JvbGxlck5hbWUsXG4gICAgICAgIHNjcm9sbGVySUQgfSA9IGNyYWRsZVByb3BzXG5cbiAgICByZXR1cm4gPEl0ZW1TaGVsbFxuICAgICAgICBrZXkgPSB7aW5kZXh9IFxuICAgICAgICBvcmllbnRhdGlvbiA9IHtvcmllbnRhdGlvbn1cbiAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgaW5kZXggPSB7aW5kZXh9XG4gICAgICAgIG9ic2VydmVyID0ge29ic2VydmVyfVxuICAgICAgICBjYWxsYmFja3MgPSB7Y2FsbGJhY2tzfVxuICAgICAgICBnZXRJdGVtID0ge2dldEl0ZW19XG4gICAgICAgIGxpc3RzaXplID0ge2xpc3RzaXplfVxuICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICBpbnN0YW5jZUlEID0ge2luc3RhbmNlSUR9XG4gICAgICAgIHNjcm9sbGVyTmFtZSA9IHsgc2Nyb2xsZXJOYW1lIH1cbiAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgLz4gICAgXG5cbn1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgc3R5bGVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHNldENyYWRsZUdyaWRTdHlsZXMgPSAoe1xuXG4gICAgb3JpZW50YXRpb24sIFxuICAgIGhlYWRDcmFkbGVTdHlsZXM6aGVhZHN0eWxlc29iamVjdCwgXG4gICAgdGFpbENyYWRsZVN0eWxlczp0YWlsc3R5bGVzb2JqZWN0LFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGNlbGxXaWR0aCwgXG4gICAgZ2FwLFxuICAgIHBhZGRpbmcsIFxuICAgIGNyb3NzY291bnQsIFxuICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICB2aWV3cG9ydHdpZHRoXG5cbn0pID0+IHtcblxuICAgICAgICBsZXQgaGVhZHN0eWxlcyA9IHsuLi5oZWFkc3R5bGVzb2JqZWN0fSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gICAgICAgIGxldCB0YWlsc3R5bGVzID0gey4uLnRhaWxzdHlsZXNvYmplY3R9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXNcblxuICAgICAgICBoZWFkc3R5bGVzLmdyaWRHYXAgPSBnYXAgKyAncHgnXG5cbiAgICAgICAgdGFpbHN0eWxlcy5ncmlkR2FwID0gZ2FwICsgJ3B4J1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5wYWRkaW5nID0gYCR7cGFkZGluZ31weCAwICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMud2lkdGggPSAnYXV0bydcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdjb2x1bW4nXG4gICAgICAgICAgICAvLyBleHBsaWN0IGNyb3NzY291bnQgbmV4dCBsaW5lIGFzIHdvcmthcm91bmQgZm9yIEZGIHByb2JsZW0gLSBcbiAgICAgICAgICAgIC8vICAgICBzZXRzIGxlbmd0aCBvZiBob3JpeiBjcmFkbGUgaXRlbXMgaW4gb25lIGxpbmUgKHJvdyksIG5vdCBtdWx0aS1yb3cgY29uZmlnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBjZWxsSGVpZ2h0P2ByZXBlYXQoJHtjcm9zc2NvdW50fSwgbWlubWF4KCR7Y2VsbEhlaWdodH1weCwgMWZyKSlgOidhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gJ25vbmUnXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwYFxuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgLy8gZXhwbGljdCBjcm9zc2NvdW50IG5leHQgbGluZSBhcyB3b3JrYXJvdW5kIGZvciBGRiBwcm9ibGVtIC0gXG4gICAgICAgICAgICAvLyAgICAgc2V0cyBsZW5ndGggb2YgaG9yaXogY3JhZGxlIGl0ZW1zIGluIG9uZSBsaW5lIChyb3cpLCBub3QgbXVsdGktcm93IGNvbmZpZ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gY2VsbEhlaWdodD9gcmVwZWF0KCR7Y3Jvc3Njb3VudH0sIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYDonYXV0bydcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9ICdub25lJ1xuXG4gICAgICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLnBhZGRpbmcgPSBgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ3JvdydcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gJ25vbmUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBjZWxsV2lkdGg/YHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWA6J2F1dG8nXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAwICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAncm93J1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSAnbm9uZSdcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGNlbGxXaWR0aD9gcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoJHtjZWxsV2lkdGh9cHgsIDFmcikpYDonYXV0bydcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtoZWFkc3R5bGVzLHRhaWxzdHlsZXNdXG4gICAgICAgIFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradlefunctions.tsx\n");

/***/ }),

/***/ "./src/infinitegridscroller.tsx":
/*!**************************************!*\
  !*** ./src/infinitegridscroller.tsx ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // infinitegridscroller.tsx\n// copyright (c) 2019 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __importDefault(__webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"));\n\nvar scrollblock_1 = __importDefault(__webpack_require__(/*! ./scrollblock */ \"./src/scrollblock.tsx\"));\n\nvar cradle_1 = __importDefault(__webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\"));\n\nvar portalmanager_1 = __webpack_require__(/*! ./portalmanager */ \"./src/portalmanager.tsx\");\n\nvar scrollerID = 0;\n\nvar getScrollerID = function getScrollerID() {\n  // console.log('fetching scrollerID', scrollerID)\n  return scrollerID++;\n};\n/*\n    BACKLOG:\n    - cache: none/preload/keepload\n*/\n// ===================================[ INITIALIZE ]===========================\n\n/*\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the scrollblock, which in turn contains the cradle\n        - a component that contains displayed (or nearly displayed) items.\n    The items are skeletons which contain the host content components.\n\n    Scrollblock virtually represents the entirety of the list, and of course scrolls\n    Cradle contains the list items, and is 'virtualiized' -- it appears as\n      though it is the full scrollblock, but in fact it is only slightly larger than\n      the viewport.\n    - individual items are framed by ItemShell, managed by Cradle\n\n    Overall the infinitegridscroller manages the often asynchronous interactions of the\n    components of the mechanism\n*/\n\n\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  var orientation = props.orientation,\n      // vertical or horizontal\n  gap = props.gap,\n      // space between grid cells, not including the leading and trailing edges\n  padding = props.padding,\n      // the space between the items and the viewport, applied to the cradle\n  cellHeight = props.cellHeight,\n      // the outer pixel height - literal for vertical; approximate for horizontal\n  cellWidth = props.cellWidth,\n      // the outer pixel width - literal for horizontal; approximate for vertical\n  runway = props.runway,\n      // the number of items outside the view of each side of the viewport \n  // -- gives time to assemble before display\n  listsize = props.listsize,\n      // the exact number of the size of the virtual list\n  indexOffset = props.indexOffset,\n      // the 0-based starting index of the list, when first loaded\n  getItem = props.getItem,\n      // function provided by host - parameter is index number, set by system; return value is \n  // host-selected component or promise of a component\n  functions = props.functions,\n      // properties with direct access to some component utilites, optional\n  placeholder = props.placeholder,\n      // a sparse component to stand in for content until the content arrives; \n  // optional, replaces default\n  styles = props.styles,\n      // passive style over-rides (eg. color, opacity) for viewport, scrollblock, cradle, or scrolltracker\n  // to come...\n  // cache = \"preload\", \"keepload\", \"none\"\n  // dense, // boolean (only with preload)\n  layout = props.layout,\n      // uniform, variable\n  scrollerName = props.scrollerName;\n  var globalScrollerID = react_1.useMemo(function () {\n    return getScrollerID();\n  }, []);\n  var scrollerIDRef = react_1.useRef(globalScrollerID); // console.log('scrollerIDRef, scrollerID',scrollerIDRef, scrollerID)\n  // defaults\n\n  (_a = functions) !== null && _a !== void 0 ? _a : functions = {};\n  (_b = gap) !== null && _b !== void 0 ? _b : gap = 0;\n  (_c = padding) !== null && _c !== void 0 ? _c : padding = 0;\n  (_d = runway) !== null && _d !== void 0 ? _d : runway = 3;\n  (_e = indexOffset) !== null && _e !== void 0 ? _e : indexOffset = 0;\n  (_f = listsize) !== null && _f !== void 0 ? _f : listsize = 0;\n  (_g = layout) !== null && _g !== void 0 ? _g : layout = 'uniform'; // constraints\n\n  indexOffset = Math.max(0, indexOffset); // non-negative\n\n  indexOffset = Math.min(listsize, indexOffset); // not larger than list\n\n  if (!['horizontal', 'vertical'].includes(orientation)) {\n    orientation = 'vertical';\n  }\n\n  return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null, // activate portals by placing them in React Tree at root scroller\n  scrollerIDRef.current == 0 ? react_1[\"default\"].createElement(portalmanager_1.PortalTree, null) : null, react_1[\"default\"].createElement(viewport_1[\"default\"], {\n    orientation: orientation,\n    cellWidth: cellHeight,\n    cellHeight: cellHeight,\n    gap: gap,\n    padding: padding,\n    functions: functions,\n    styles: styles,\n    scrollerID: scrollerIDRef.current\n  }, react_1[\"default\"].createElement(scrollblock_1[\"default\"], {\n    listsize: listsize,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight,\n    gap: gap,\n    padding: padding,\n    orientation: orientation,\n    functions: functions,\n    styles: styles\n  }, react_1[\"default\"].createElement(cradle_1[\"default\"], {\n    gap: gap,\n    padding: padding,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight,\n    listsize: listsize,\n    indexOffset: indexOffset,\n    orientation: orientation,\n    // runwaylength = { runwaylength } \n    getItem: getItem,\n    functions: functions,\n    placeholder: placeholder,\n    styles: styles,\n    runwaycount: runway,\n    scrollerName: scrollerName,\n    scrollerID: scrollerIDRef.current\n  }))));\n};\n\nexports[\"default\"] = InfiniteGridScroller;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9pbmZpbml0ZWdyaWRzY3JvbGxlci50c3g/NjNlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBSSxVQUFVLEdBQUcsQ0FBakI7O0FBQ0EsSUFBTSxhQUFhLEdBQUcsU0FBaEIsYUFBZ0I7QUFDbEI7QUFDQSxTQUFPLFVBQVUsRUFBakI7QUFDSCxDQUhEO0FBSUE7OztBQUdFO0FBRUY7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0FBY0U7OztBQUNGLElBQU0sb0JBQW9CLEdBQUcsU0FBdkIsb0JBQXVCLENBQUMsS0FBRCxFQUFNOzs7QUFFM0IsaUJBQVcsR0FvQlgsS0FBSyxDQXBCTSxXQUFYO0FBQUEsTUFBYTtBQUNiLEtBQUcsR0FtQkgsS0FBSyxDQW5CRixHQURIO0FBQUEsTUFDSztBQUNMLFNBQU8sR0FrQlAsS0FBSyxDQWxCRSxPQUZQO0FBQUEsTUFFUztBQUNULFlBQVUsR0FpQlYsS0FBSyxDQWpCSyxVQUhWO0FBQUEsTUFHWTtBQUNaLFdBQVMsR0FnQlQsS0FBSyxDQWhCSSxTQUpUO0FBQUEsTUFJVztBQUNYLFFBQU0sR0FlTixLQUFLLENBZkMsTUFMTjtBQUFBLE1BS1E7QUFDSjtBQUNKLFVBQVEsR0FhUixLQUFLLENBYkcsUUFQUjtBQUFBLE1BT1U7QUFDVixhQUFXLEdBWVgsS0FBSyxDQVpNLFdBUlg7QUFBQSxNQVFhO0FBQ2IsU0FBTyxHQVdQLEtBQUssQ0FYRSxPQVRQO0FBQUEsTUFTUztBQUNMO0FBQ0osV0FBUyxHQVNULEtBQUssQ0FUSSxTQVhUO0FBQUEsTUFXVztBQUNYLGFBQVcsR0FRWCxLQUFLLENBUk0sV0FaWDtBQUFBLE1BWWE7QUFDVDtBQUNKLFFBQU0sR0FNTixLQUFLLENBTkMsTUFkTjtBQUFBLE1BY1E7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFNLEdBRU4sS0FBSyxDQUZDLE1BbEJOO0FBQUEsTUFrQlE7QUFDUixjQUFZLEdBQ1osS0FBSyxDQURPLFlBbkJaO0FBc0JKLE1BQU0sZ0JBQWdCLEdBQUcsZ0JBQVE7QUFDN0IsV0FBTyxhQUFhLEVBQXBCO0FBQ0gsR0FGd0IsRUFFdkIsRUFGdUIsQ0FBekI7QUFJQSxNQUFNLGFBQWEsR0FBRyxlQUFPLGdCQUFQLENBQXRCLENBNUIrQixDQThCL0I7QUFFQTs7QUFDQSx1QkFBVyxJQUFYLElBQVcsYUFBWCxHQUFXLEVBQVgsR0FBZSxTQUFTLEdBQUcsRUFBM0I7QUFDQSxpQkFBSyxJQUFMLElBQUssYUFBTCxHQUFLLEVBQUwsR0FBUyxHQUFHLEdBQUcsQ0FBZjtBQUNBLHFCQUFTLElBQVQsSUFBUyxhQUFULEdBQVMsRUFBVCxHQUFhLE9BQU8sR0FBRyxDQUF2QjtBQUNBLG9CQUFRLElBQVIsSUFBUSxhQUFSLEdBQVEsRUFBUixHQUFZLE1BQU0sR0FBRyxDQUFyQjtBQUNBLHlCQUFhLElBQWIsSUFBYSxhQUFiLEdBQWEsRUFBYixHQUFpQixXQUFXLEdBQUcsQ0FBL0I7QUFDQSxzQkFBVSxJQUFWLElBQVUsYUFBVixHQUFVLEVBQVYsR0FBYyxRQUFRLEdBQUcsQ0FBekI7QUFDQSxvQkFBUSxJQUFSLElBQVEsYUFBUixHQUFRLEVBQVIsR0FBWSxNQUFNLEdBQUcsU0FBckIsQ0F2QytCLENBd0MvQjs7QUFDQSxhQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFULEVBQVcsV0FBWCxDQUFkLENBekMrQixDQXlDTzs7QUFDdEMsYUFBVyxHQUFHLElBQUksQ0FBQyxHQUFMLENBQVMsUUFBVCxFQUFtQixXQUFuQixDQUFkLENBMUMrQixDQTBDZTs7QUFDOUMsTUFBSSxDQUFDLENBQUMsWUFBRCxFQUFjLFVBQWQsRUFBMEIsUUFBMUIsQ0FBbUMsV0FBbkMsQ0FBTCxFQUFzRDtBQUNsRCxlQUFXLEdBQUcsVUFBZDtBQUNIOztBQUNELFNBQU8sb0VBRUg7QUFDQSxlQUFhLENBQUMsT0FBZCxJQUF5QixDQUF6QixHQUEyQixpQ0FBQywwQkFBRCxFQUFXLElBQVgsQ0FBM0IsR0FBeUMsSUFIdEMsRUFLUCxpQ0FBQyxxQkFBRCxFQUFTO0FBRUwsZUFBVyxFQUFLLFdBRlg7QUFHTCxhQUFTLEVBQUssVUFIVDtBQUlMLGNBQVUsRUFBSyxVQUpWO0FBS0wsT0FBRyxFQUFLLEdBTEg7QUFNTCxXQUFPLEVBQUssT0FOUDtBQU9MLGFBQVMsRUFBSyxTQVBUO0FBUUwsVUFBTSxFQUFLLE1BUk47QUFTTCxjQUFVLEVBQUksYUFBYSxDQUFDO0FBVHZCLEdBQVQsRUFZSSxpQ0FBQyx3QkFBRCxFQUFZO0FBRVIsWUFBUSxFQUFLLFFBRkw7QUFHUixhQUFTLEVBQUssU0FITjtBQUlSLGNBQVUsRUFBSyxVQUpQO0FBS1IsT0FBRyxFQUFLLEdBTEE7QUFNUixXQUFPLEVBQUssT0FOSjtBQU9SLGVBQVcsRUFBSyxXQVBSO0FBUVIsYUFBUyxFQUFLLFNBUk47QUFTUixVQUFNLEVBQUs7QUFUSCxHQUFaLEVBWUksaUNBQUMsbUJBQUQsRUFBTztBQUVILE9BQUcsRUFBSyxHQUZMO0FBR0gsV0FBTyxFQUFLLE9BSFQ7QUFJSCxhQUFTLEVBQUssU0FKWDtBQUtILGNBQVUsRUFBSyxVQUxaO0FBTUgsWUFBUSxFQUFLLFFBTlY7QUFPSCxlQUFXLEVBQUssV0FQYjtBQVFILGVBQVcsRUFBSyxXQVJiO0FBU0g7QUFDQSxXQUFPLEVBQUssT0FWVDtBQVdILGFBQVMsRUFBSyxTQVhYO0FBWUgsZUFBVyxFQUFLLFdBWmI7QUFhSCxVQUFNLEVBQUssTUFiUjtBQWNILGVBQVcsRUFBSyxNQWRiO0FBZUgsZ0JBQVksRUFBSSxZQWZiO0FBZ0JILGNBQVUsRUFBSSxhQUFhLENBQUM7QUFoQnpCLEdBQVAsQ0FaSixDQVpKLENBTE8sQ0FBUDtBQW1ESCxDQWpHRDs7QUFtR0EscUJBQWUsb0JBQWYiLCJmaWxlIjoiLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTkgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmLCB1c2VNZW1vfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5cbmltcG9ydCBWaWV3cG9ydCBmcm9tICcuL3ZpZXdwb3J0J1xuaW1wb3J0IFNjcm9sbGJsb2NrIGZyb20gJy4vc2Nyb2xsYmxvY2snXG5pbXBvcnQgQ3JhZGxlIGZyb20gJy4vY3JhZGxlJ1xuaW1wb3J0IHsgUG9ydGFsVHJlZSB9IGZyb20gJy4vcG9ydGFsbWFuYWdlcidcblxubGV0IHNjcm9sbGVySUQgPSAwXG5jb25zdCBnZXRTY3JvbGxlcklEID0gKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdmZXRjaGluZyBzY3JvbGxlcklEJywgc2Nyb2xsZXJJRClcbiAgICByZXR1cm4gc2Nyb2xsZXJJRCsrXG59XG4vKlxuICAgIEJBQ0tMT0c6IFxuICAgIC0gY2FjaGU6IG5vbmUvcHJlbG9hZC9rZWVwbG9hZFxuKi9cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkUgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKlxuICAgIFRoZSBqb2Igb2YgSW5maW5pdGVHcmlkU2Nyb2xsZXIgaXMgdG8gcGFzcyBwYXJhbWV0ZXJzIHRvIGRlcGVuZGVudHMuXG4gICAgVmlld3BvcnQgY29udGFpbnMgdGhlIHNjcm9sbGJsb2NrLCB3aGljaCBpbiB0dXJuIGNvbnRhaW5zIHRoZSBjcmFkbGUgXG4gICAgICAgIC0gYSBjb21wb25lbnQgdGhhdCBjb250YWlucyBkaXNwbGF5ZWQgKG9yIG5lYXJseSBkaXNwbGF5ZWQpIGl0ZW1zLiBcbiAgICBUaGUgaXRlbXMgYXJlIHNrZWxldG9ucyB3aGljaCBjb250YWluIHRoZSBob3N0IGNvbnRlbnQgY29tcG9uZW50cy5cblxuICAgIFNjcm9sbGJsb2NrIHZpcnR1YWxseSByZXByZXNlbnRzIHRoZSBlbnRpcmV0eSBvZiB0aGUgbGlzdCwgYW5kIG9mIGNvdXJzZSBzY3JvbGxzXG4gICAgQ3JhZGxlIGNvbnRhaW5zIHRoZSBsaXN0IGl0ZW1zLCBhbmQgaXMgJ3ZpcnR1YWxpaXplZCcgLS0gaXQgYXBwZWFycyBhc1xuICAgICAgdGhvdWdoIGl0IGlzIHRoZSBmdWxsIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuXG4gICAgICB0aGUgdmlld3BvcnQuXG4gICAgLSBpbmRpdmlkdWFsIGl0ZW1zIGFyZSBmcmFtZWQgYnkgSXRlbVNoZWxsLCBtYW5hZ2VkIGJ5IENyYWRsZVxuXG4gICAgT3ZlcmFsbCB0aGUgaW5maW5pdGVncmlkc2Nyb2xsZXIgbWFuYWdlcyB0aGUgb2Z0ZW4gYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBvZiB0aGUgXG4gICAgY29tcG9uZW50cyBvZiB0aGUgbWVjaGFuaXNtXG4qL1xuY29uc3QgSW5maW5pdGVHcmlkU2Nyb2xsZXIgPSAocHJvcHMpID0+IHtcbiAgICBsZXQgeyBcbiAgICAgICAgb3JpZW50YXRpb24sIC8vIHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICAgICAgZ2FwLCAvLyBzcGFjZSBiZXR3ZWVuIGdyaWQgY2VsbHMsIG5vdCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGVkZ2VzXG4gICAgICAgIHBhZGRpbmcsIC8vIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBpdGVtcyBhbmQgdGhlIHZpZXdwb3J0LCBhcHBsaWVkIHRvIHRoZSBjcmFkbGVcbiAgICAgICAgY2VsbEhlaWdodCwgLy8gdGhlIG91dGVyIHBpeGVsIGhlaWdodCAtIGxpdGVyYWwgZm9yIHZlcnRpY2FsOyBhcHByb3hpbWF0ZSBmb3IgaG9yaXpvbnRhbFxuICAgICAgICBjZWxsV2lkdGgsIC8vIHRoZSBvdXRlciBwaXhlbCB3aWR0aCAtIGxpdGVyYWwgZm9yIGhvcml6b250YWw7IGFwcHJveGltYXRlIGZvciB2ZXJ0aWNhbFxuICAgICAgICBydW53YXksIC8vIHRoZSBudW1iZXIgb2YgaXRlbXMgb3V0c2lkZSB0aGUgdmlldyBvZiBlYWNoIHNpZGUgb2YgdGhlIHZpZXdwb3J0IFxuICAgICAgICAgICAgLy8gLS0gZ2l2ZXMgdGltZSB0byBhc3NlbWJsZSBiZWZvcmUgZGlzcGxheVxuICAgICAgICBsaXN0c2l6ZSwgLy8gdGhlIGV4YWN0IG51bWJlciBvZiB0aGUgc2l6ZSBvZiB0aGUgdmlydHVhbCBsaXN0XG4gICAgICAgIGluZGV4T2Zmc2V0LCAvLyB0aGUgMC1iYXNlZCBzdGFydGluZyBpbmRleCBvZiB0aGUgbGlzdCwgd2hlbiBmaXJzdCBsb2FkZWRcbiAgICAgICAgZ2V0SXRlbSwgLy8gZnVuY3Rpb24gcHJvdmlkZWQgYnkgaG9zdCAtIHBhcmFtZXRlciBpcyBpbmRleCBudW1iZXIsIHNldCBieSBzeXN0ZW07IHJldHVybiB2YWx1ZSBpcyBcbiAgICAgICAgICAgIC8vIGhvc3Qtc2VsZWN0ZWQgY29tcG9uZW50IG9yIHByb21pc2Ugb2YgYSBjb21wb25lbnRcbiAgICAgICAgZnVuY3Rpb25zLCAvLyBwcm9wZXJ0aWVzIHdpdGggZGlyZWN0IGFjY2VzcyB0byBzb21lIGNvbXBvbmVudCB1dGlsaXRlcywgb3B0aW9uYWxcbiAgICAgICAgcGxhY2Vob2xkZXIsIC8vIGEgc3BhcnNlIGNvbXBvbmVudCB0byBzdGFuZCBpbiBmb3IgY29udGVudCB1bnRpbCB0aGUgY29udGVudCBhcnJpdmVzOyBcbiAgICAgICAgICAgIC8vIG9wdGlvbmFsLCByZXBsYWNlcyBkZWZhdWx0XG4gICAgICAgIHN0eWxlcywgLy8gcGFzc2l2ZSBzdHlsZSBvdmVyLXJpZGVzIChlZy4gY29sb3IsIG9wYWNpdHkpIGZvciB2aWV3cG9ydCwgc2Nyb2xsYmxvY2ssIGNyYWRsZSwgb3Igc2Nyb2xsdHJhY2tlclxuICAgICAgICAvLyB0byBjb21lLi4uXG4gICAgICAgIC8vIGNhY2hlID0gXCJwcmVsb2FkXCIsIFwia2VlcGxvYWRcIiwgXCJub25lXCJcbiAgICAgICAgLy8gZGVuc2UsIC8vIGJvb2xlYW4gKG9ubHkgd2l0aCBwcmVsb2FkKVxuICAgICAgICBsYXlvdXQsIC8vIHVuaWZvcm0sIHZhcmlhYmxlXG4gICAgICAgIHNjcm9sbGVyTmFtZSwgLy8gZm9yIGRlYnVnZ2luZ1xuICAgIH0gPSBwcm9wc1xuXG4gICAgY29uc3QgZ2xvYmFsU2Nyb2xsZXJJRCA9IHVzZU1lbW8oKCk9PntcbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbGVySUQoKVxuICAgIH0sW10pXG5cbiAgICBjb25zdCBzY3JvbGxlcklEUmVmID0gdXNlUmVmKGdsb2JhbFNjcm9sbGVySUQpXG5cbiAgICAvLyBjb25zb2xlLmxvZygnc2Nyb2xsZXJJRFJlZiwgc2Nyb2xsZXJJRCcsc2Nyb2xsZXJJRFJlZiwgc2Nyb2xsZXJJRClcblxuICAgIC8vIGRlZmF1bHRzXG4gICAgZnVuY3Rpb25zICE/PyAoZnVuY3Rpb25zID0ge30pXG4gICAgZ2FwICE/PyAoZ2FwID0gMClcbiAgICBwYWRkaW5nICE/PyAocGFkZGluZyA9IDApXG4gICAgcnVud2F5ICE/PyAocnVud2F5ID0gMylcbiAgICBpbmRleE9mZnNldCAhPz8gKGluZGV4T2Zmc2V0ID0gMClcbiAgICBsaXN0c2l6ZSAhPz8gKGxpc3RzaXplID0gMClcbiAgICBsYXlvdXQgIT8/IChsYXlvdXQgPSAndW5pZm9ybScpXG4gICAgLy8gY29uc3RyYWludHNcbiAgICBpbmRleE9mZnNldCA9IE1hdGgubWF4KDAsaW5kZXhPZmZzZXQpIC8vIG5vbi1uZWdhdGl2ZVxuICAgIGluZGV4T2Zmc2V0ID0gTWF0aC5taW4obGlzdHNpemUsIGluZGV4T2Zmc2V0KSAvLyBub3QgbGFyZ2VyIHRoYW4gbGlzdFxuICAgIGlmICghWydob3Jpem9udGFsJywndmVydGljYWwnXS5pbmNsdWRlcyhvcmllbnRhdGlvbikpIHtcbiAgICAgICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnXG4gICAgfVxuICAgIHJldHVybiA8PlxuICAgIHtcbiAgICAgICAgLy8gYWN0aXZhdGUgcG9ydGFscyBieSBwbGFjaW5nIHRoZW0gaW4gUmVhY3QgVHJlZSBhdCByb290IHNjcm9sbGVyXG4gICAgICAgIHNjcm9sbGVySURSZWYuY3VycmVudCA9PSAwPzxQb3J0YWxUcmVlLz46bnVsbCBcbiAgICB9XG4gICAgPFZpZXdwb3J0IFxuXG4gICAgICAgIG9yaWVudGF0aW9uID0geyBvcmllbnRhdGlvbiB9IFxuICAgICAgICBjZWxsV2lkdGggPSB7IGNlbGxIZWlnaHQgfVxuICAgICAgICBjZWxsSGVpZ2h0ID0geyBjZWxsSGVpZ2h0IH1cbiAgICAgICAgZ2FwID0geyBnYXAgfVxuICAgICAgICBwYWRkaW5nID0geyBwYWRkaW5nIH1cbiAgICAgICAgZnVuY3Rpb25zID0geyBmdW5jdGlvbnMgfVxuICAgICAgICBzdHlsZXMgPSB7IHN0eWxlcyB9XG4gICAgICAgIHNjcm9sbGVySUQgPSB7c2Nyb2xsZXJJRFJlZi5jdXJyZW50fVxuICAgID5cbiAgICBcbiAgICAgICAgPFNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgICAgICBjZWxsV2lkdGggPSB7IGNlbGxXaWR0aCB9XG4gICAgICAgICAgICBjZWxsSGVpZ2h0ID0geyBjZWxsSGVpZ2h0IH1cbiAgICAgICAgICAgIGdhcCA9IHsgZ2FwfVxuICAgICAgICAgICAgcGFkZGluZyA9IHsgcGFkZGluZyB9XG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IHsgb3JpZW50YXRpb24gfVxuICAgICAgICAgICAgZnVuY3Rpb25zID0geyBmdW5jdGlvbnMgfVxuICAgICAgICAgICAgc3R5bGVzID0geyBzdHlsZXMgfVxuXG4gICAgICAgID5cbiAgICAgICAgICAgIDxDcmFkbGUgXG5cbiAgICAgICAgICAgICAgICBnYXAgPSB7IGdhcCB9XG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IHsgcGFkZGluZyB9XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoID0geyBjZWxsV2lkdGggfVxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQgPSB7IGNlbGxIZWlnaHQgfVxuICAgICAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgICAgICAgICAgaW5kZXhPZmZzZXQgPSB7IGluZGV4T2Zmc2V0IH1cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHsgb3JpZW50YXRpb24gfVxuICAgICAgICAgICAgICAgIC8vIHJ1bndheWxlbmd0aCA9IHsgcnVud2F5bGVuZ3RoIH0gXG4gICAgICAgICAgICAgICAgZ2V0SXRlbSA9IHsgZ2V0SXRlbSB9XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25zID0geyBmdW5jdGlvbnMgfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0geyBwbGFjZWhvbGRlciB9XG4gICAgICAgICAgICAgICAgc3R5bGVzID0geyBzdHlsZXMgfVxuICAgICAgICAgICAgICAgIHJ1bndheWNvdW50ID0geyBydW53YXkgfVxuICAgICAgICAgICAgICAgIHNjcm9sbGVyTmFtZSA9IHtzY3JvbGxlck5hbWV9XG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCA9IHtzY3JvbGxlcklEUmVmLmN1cnJlbnR9XG5cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvU2Nyb2xsYmxvY2s+XG4gICAgPC9WaWV3cG9ydD5cbiAgICA8Lz5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/infinitegridscroller.tsx\n");

/***/ }),

/***/ "./src/itemshell.tsx":
/*!***************************!*\
  !*** ./src/itemshell.tsx ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // itemframe.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\")); // import {requestIdleCallback, cancelIdleCallback} from 'requestidlecallback'\n\n\nvar react_is_mounted_hook_1 = __importDefault(__webpack_require__(/*! react-is-mounted-hook */ \"./node_modules/react-is-mounted-hook/lib/index.js\"));\n\nvar placeholder_1 = __importDefault(__webpack_require__(/*! ./placeholder */ \"./src/placeholder.tsx\"));\n\nvar portalmanager_1 = __webpack_require__(/*! ./portalmanager */ \"./src/portalmanager.tsx\");\n\nvar ItemShell = function ItemShell(_a) {\n  var orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      index = _a.index,\n      observer = _a.observer,\n      callbacks = _a.callbacks,\n      getItem = _a.getItem,\n      listsize = _a.listsize,\n      placeholder = _a.placeholder,\n      instanceID = _a.instanceID,\n      scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID;\n  var portalManager = react_1.useContext(portalmanager_1.PortalContext); // const linkedContentRef = useRef(false)\n  // const portalRef = useRef(null)\n\n  var _b = react_1.useState(null),\n      error = _b[0],\n      saveError = _b[1];\n\n  var _c = react_1.useState({\n    overflow: 'hidden'\n  }),\n      styles = _c[0],\n      saveStyles = _c[1];\n\n  var _d = react_1.useState('setup'),\n      itemstate = _d[0],\n      setItemstate = _d[1];\n\n  var shellRef = react_1.useRef(undefined);\n  var instanceIDRef = react_1.useRef(instanceID);\n  var isMounted = react_is_mounted_hook_1[\"default\"]();\n  var itemrequestRef = react_1.useRef(null);\n\n  var _e = react_1.useState(null),\n      content = _e[0],\n      saveContent = _e[1];\n\n  var _f = react_1.useState(false),\n      hasportal = _f[0],\n      saveHasPortal = _f[1]; // console.log('index itemstate', index, itemstate)\n  // initialize\n\n\n  react_1.useLayoutEffect(function () {\n    console.log('fetching item scrollerName-scrollerID:index', scrollerName, '-', scrollerID, index); // let requestidlecallback = window['requestIdleCallback']?window['requestIdleCallback']:requestIdleCallback\n    // let cancelidlecallback = window['cancelIdleCallback']?window['cancelIdleCallback']:cancelIdleCallback\n\n    if (portalManager.hasPortalListItem(scrollerID, index)) {\n      console.log('fetching PORTAL CACHE item');\n      var portalitem = portalManager.getPortalListItem(scrollerID, index);\n      console.log('saving cache usercontent', portalitem);\n      saveContent(portalitem.content);\n      return;\n    } else {\n      if (getItem) {\n        console.log('fetching NEW item (queue)'); // itemrequestRef.current = requestidlecallback(()=> {\n\n        var contentItem = getItem(index);\n\n        if (contentItem && contentItem.then) {\n          contentItem.then(function (usercontent) {\n            if (isMounted()) {\n              console.log('saving new usercontent by promise', scrollerName, scrollerID, index, usercontent);\n              saveContent(usercontent);\n              portalManager.createPortalListItem(scrollerID, index, usercontent);\n              saveError(null);\n            }\n          })[\"catch\"](function (e) {\n            if (isMounted()) {\n              saveContent(null);\n              saveError(e);\n            }\n          });\n        } else {\n          if (isMounted()) {\n            if (contentItem) {\n              var usercontent = contentItem;\n              console.log('saving new usercontent', scrollerName, scrollerID, index, usercontent);\n              saveContent(usercontent);\n              portalManager.createPortalListItem(scrollerID, index, usercontent);\n              saveError(null);\n            } else {\n              saveError(true);\n              saveContent(null);\n            }\n          }\n        } // },{timeout:50})\n\n      }\n    } // return () => {\n    //     let requesthandle = itemrequestRef.current\n    //     cancelidlecallback(requesthandle)\n    // }\n\n  }, []);\n  react_1.useEffect(function () {\n    if (itemstate == 'setup') {\n      setItemstate('ready');\n    }\n  }, [itemstate]); // initialize\n\n  react_1.useEffect(function () {\n    var localcalls = callbacks;\n    localcalls.getElementData && localcalls.getElementData(getElementData(), 'register');\n    return function () {\n      localcalls.getElementData && localcalls.getElementData(getElementData(), 'unregister');\n    };\n  }, [callbacks]);\n  var shellelement;\n  react_1.useEffect(function () {\n    // if (!shellRef.current) return\n    // console.log('shellRef.current',shellRef.current)\n    observer.observe(shellRef.current);\n    shellelement = shellRef.current;\n    return function () {// console.log('unobserving',shellRef.current)\n      // if (!shellRef.current) return // TODO: memory leak?\n      // console.log('unobserve',shellRef.current)\n      // observer.unobserve(shellRef.current)\n      // console.log('unobserving',shellelement)\n      // if (!shellelement) return // TODO: memory leak?\n      // console.log('unobserve',shellRef.current)\n      // observer.unobserve(shellelement)\n    };\n  }, [observer]);\n  react_1.useEffect(function () {\n    var newStyles = getShellStyles(orientation, cellHeight, cellWidth, styles); // isMounted = useIsMounted()\n\n    if (isMounted()) {\n      saveStyles(newStyles);\n    }\n  }, [orientation, cellHeight, cellWidth]); // cradle ondemand callback parameter value\n\n  var getElementData = react_1.useCallback(function () {\n    return [index, shellRef];\n  }, []); // placeholder handling\n\n  var customplaceholderRef = react_1.useRef(placeholder ? react_1[\"default\"].createElement(placeholder, {\n    index: index,\n    listsize: listsize\n  }) : null);\n  react_1.useLayoutEffect(function () {\n    if (!shellRef.current) return;\n    console.log('linking scrollerName, scrollerID, index, shellRef.current, content; ', scrollerName, scrollerID, index, shellRef.current, content);\n\n    if (content) {\n      observer.unobserve(shellRef.current);\n      portalManager.attachPortalListItem(scrollerID, index, shellRef.current);\n      console.log('setting hasportal true for scrollerID, index', scrollerID, index);\n      saveHasPortal(true); // return () => {\n      //     portalManager.detachPortalListItem(scrollerID,index)\n      // }\n    }\n  }, [shellRef.current, content]);\n  var placeholderchild = react_1.useMemo(function () {\n    var child = customplaceholderRef.current ? customplaceholderRef.current : react_1[\"default\"].createElement(placeholder_1[\"default\"], {\n      index: index,\n      listsize: listsize,\n      error: error\n    });\n    return child;\n  }, [index, content, customplaceholderRef.current, listsize, error]);\n  return react_1[\"default\"].createElement(\"div\", {\n    ref: shellRef,\n    \"data-index\": index,\n    \"data-instanceid\": instanceID,\n    style: styles\n  }, !content ? placeholderchild : null);\n}; // ItemShell\n// TODO: memoize this\n\n\nvar getShellStyles = function getShellStyles(orientation, cellHeight, cellWidth, styles) {\n  var styleset = Object.assign({\n    position: 'relative'\n  }, styles);\n\n  if (orientation == 'horizontal') {\n    styleset.width = cellWidth ? cellWidth + 'px' : 'auto';\n    styleset.height = 'auto';\n  } else if (orientation === 'vertical') {\n    styleset.width = 'auto';\n    styleset.height = cellHeight ? cellHeight + 'px' : 'auto';\n  }\n\n  return styleset;\n};\n\nexports[\"default\"] = ItemShell;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9pdGVtc2hlbGwudHN4P2ZhYTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLHNFLENBSUE7OztBQUVBOztBQUVBOztBQUVBOztBQUVBLElBQU0sU0FBUyxHQUFHLFNBQVosU0FBWSxDQUFDLEVBQUQsRUFhakI7TUFaRyxXQUFXLGlCO01BQ1gsVUFBVSxnQjtNQUNWLFNBQVMsZTtNQUNULEtBQUssVztNQUNMLFFBQVEsYztNQUNSLFNBQVMsZTtNQUNULE9BQU8sYTtNQUNQLFFBQVEsYztNQUNSLFdBQVcsaUI7TUFDWCxVQUFVLGdCO01BQ1YsWUFBWSxrQjtNQUNaLFVBQVUsZ0I7QUFHVixNQUFNLGFBQWEsR0FBRyxtQkFBVyw2QkFBWCxDQUF0QixDQUZILENBR0c7QUFDQTs7QUFDTSxXQUFxQixpQkFBUyxJQUFULENBQXJCO0FBQUEsTUFBQyxLQUFLLFFBQU47QUFBQSxNQUFRLFNBQVMsUUFBakI7O0FBQ0EsV0FBc0IsaUJBQVM7QUFDakMsWUFBUSxFQUFDO0FBRHdCLEdBQVQsQ0FBdEI7QUFBQSxNQUFDLE1BQU0sUUFBUDtBQUFBLE1BQVEsVUFBVSxRQUFsQjs7QUFHQSxXQUEyQixpQkFBUyxPQUFULENBQTNCO0FBQUEsTUFBQyxTQUFTLFFBQVY7QUFBQSxNQUFXLFlBQVksUUFBdkI7O0FBQ04sTUFBTSxRQUFRLEdBQUcsZUFBTyxTQUFQLENBQWpCO0FBQ0EsTUFBTSxhQUFhLEdBQUcsZUFBTyxVQUFQLENBQXRCO0FBQ0EsTUFBSSxTQUFTLEdBQUcsb0NBQWhCO0FBQ0EsTUFBTSxjQUFjLEdBQUcsZUFBTyxJQUFQLENBQXZCOztBQUNNLFdBQXlCLGlCQUFTLElBQVQsQ0FBekI7QUFBQSxNQUFDLE9BQU8sUUFBUjtBQUFBLE1BQVUsV0FBVyxRQUFyQjs7QUFDQSxXQUE2QixpQkFBUyxLQUFULENBQTdCO0FB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QUNILEdBSEQsTUFHTyxJQUFJLFdBQVcsS0FBSyxVQUFwQixFQUFnQztBQUNuQyxZQUFRLENBQUMsS0FBVCxHQUFpQixNQUFqQjtBQUNBLFlBQVEsQ0FBQyxNQUFULEdBQWtCLFVBQVUsR0FBRSxVQUFVLEdBQUcsSUFBZixHQUFxQixNQUFqRDtBQUNIOztBQUVELFNBQU8sUUFBUDtBQUVILENBYkQ7O0FBZUEscUJBQWUsU0FBZiIsImZpbGUiOiIuL3NyYy9pdGVtc2hlbGwudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaXRlbWZyYW1lLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuXG4vLyBpbXBvcnQge3JlcXVlc3RJZGxlQ2FsbGJhY2ssIGNhbmNlbElkbGVDYWxsYmFja30gZnJvbSAncmVxdWVzdGlkbGVjYWxsYmFjaydcblxuaW1wb3J0IHVzZUlzTW91bnRlZCBmcm9tICdyZWFjdC1pcy1tb3VudGVkLWhvb2snXG5cbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuL3BsYWNlaG9sZGVyJ1xuXG5pbXBvcnQgeyBQb3J0YWxDb250ZXh0IH0gZnJvbSAnLi9wb3J0YWxtYW5hZ2VyJ1xuXG5jb25zdCBJdGVtU2hlbGwgPSAoe1xuICAgIG9yaWVudGF0aW9uLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGluZGV4LCBcbiAgICBvYnNlcnZlciwgXG4gICAgY2FsbGJhY2tzLCBcbiAgICBnZXRJdGVtLCBcbiAgICBsaXN0c2l6ZSwgXG4gICAgcGxhY2Vob2xkZXIsIFxuICAgIGluc3RhbmNlSUQsIFxuICAgIHNjcm9sbGVyTmFtZSxcbiAgICBzY3JvbGxlcklELFxufSkgPT4ge1xuICAgIFxuICAgIGNvbnN0IHBvcnRhbE1hbmFnZXIgPSB1c2VDb250ZXh0KFBvcnRhbENvbnRleHQpXG4gICAgLy8gY29uc3QgbGlua2VkQ29udGVudFJlZiA9IHVzZVJlZihmYWxzZSlcbiAgICAvLyBjb25zdCBwb3J0YWxSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBbZXJyb3IsIHNhdmVFcnJvcl0gPSB1c2VTdGF0ZShudWxsKVxuICAgIGNvbnN0IFtzdHlsZXMsc2F2ZVN0eWxlc10gPSB1c2VTdGF0ZSh7XG4gICAgICAgIG92ZXJmbG93OidoaWRkZW4nLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcylcbiAgICBjb25zdCBbaXRlbXN0YXRlLHNldEl0ZW1zdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuICAgIGNvbnN0IHNoZWxsUmVmID0gdXNlUmVmKHVuZGVmaW5lZClcbiAgICBjb25zdCBpbnN0YW5jZUlEUmVmID0gdXNlUmVmKGluc3RhbmNlSUQpXG4gICAgbGV0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpXG4gICAgY29uc3QgaXRlbXJlcXVlc3RSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBbY29udGVudCwgc2F2ZUNvbnRlbnRdID0gdXNlU3RhdGUobnVsbClcbiAgICBjb25zdCBbaGFzcG9ydGFsLCBzYXZlSGFzUG9ydGFsXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gICAgLy8gY29uc29sZS5sb2coJ2luZGV4IGl0ZW1zdGF0ZScsIGluZGV4LCBpdGVtc3RhdGUpXG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmZXRjaGluZyBpdGVtIHNjcm9sbGVyTmFtZS1zY3JvbGxlcklEOmluZGV4JyxzY3JvbGxlck5hbWUsJy0nLCBzY3JvbGxlcklELCBpbmRleClcblxuICAgICAgICAvLyBsZXQgcmVxdWVzdGlkbGVjYWxsYmFjayA9IHdpbmRvd1sncmVxdWVzdElkbGVDYWxsYmFjayddP3dpbmRvd1sncmVxdWVzdElkbGVDYWxsYmFjayddOnJlcXVlc3RJZGxlQ2FsbGJhY2tcbiAgICAgICAgLy8gbGV0IGNhbmNlbGlkbGVjYWxsYmFjayA9IHdpbmRvd1snY2FuY2VsSWRsZUNhbGxiYWNrJ10/d2luZG93WydjYW5jZWxJZGxlQ2FsbGJhY2snXTpjYW5jZWxJZGxlQ2FsbGJhY2tcblxuICAgICAgICBpZiAocG9ydGFsTWFuYWdlci5oYXNQb3J0YWxMaXN0SXRlbShzY3JvbGxlcklELGluZGV4KSkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2hpbmcgUE9SVEFMIENBQ0hFIGl0ZW0nKVxuXG4gICAgICAgICAgICBsZXQgcG9ydGFsaXRlbSA9IHBvcnRhbE1hbmFnZXIuZ2V0UG9ydGFsTGlzdEl0ZW0oc2Nyb2xsZXJJRCxpbmRleCkgXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZpbmcgY2FjaGUgdXNlcmNvbnRlbnQnLHBvcnRhbGl0ZW0pXG5cbiAgICAgICAgICAgIHNhdmVDb250ZW50KHBvcnRhbGl0ZW0uY29udGVudClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZ2V0SXRlbSkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2hpbmcgTkVXIGl0ZW0gKHF1ZXVlKScpXG5cbiAgICAgICAgICAgIC8vIGl0ZW1yZXF1ZXN0UmVmLmN1cnJlbnQgPSByZXF1ZXN0aWRsZWNhbGxiYWNrKCgpPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZW50SXRlbSA9IGdldEl0ZW0oaW5kZXgpXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRJdGVtICYmIGNvbnRlbnRJdGVtLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEl0ZW0udGhlbigodXNlcmNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWQoKSkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2F2aW5nIG5ldyB1c2VyY29udGVudCBieSBwcm9taXNlJyxzY3JvbGxlck5hbWUsIHNjcm9sbGVySUQsIGluZGV4LCB1c2VyY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQ29udGVudCh1c2VyY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxNYW5hZ2VyLmNyZWF0ZVBvcnRhbExpc3RJdGVtKHNjcm9sbGVySUQsaW5kZXgsdXNlcmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUVycm9yKG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKCkpIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUNvbnRlbnQobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRXJyb3IoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1c2VyY29udGVudCA9IGNvbnRlbnRJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmluZyBuZXcgdXNlcmNvbnRlbnQnLHNjcm9sbGVyTmFtZSwgc2Nyb2xsZXJJRCwgaW5kZXgsIHVzZXJjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVDb250ZW50KHVzZXJjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE1hbmFnZXIuY3JlYXRlUG9ydGFsTGlzdEl0ZW0oc2Nyb2xsZXJJRCxpbmRleCx1c2VyY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRXJyb3IobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUVycm9yKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUNvbnRlbnQobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIH0se3RpbWVvdXQ6NTB9KVxuICAgICAgICB9fVxuXG4gICAgICAgIC8vIHJldHVybiAoKSA9PiB7XG4gICAgICAgIC8vICAgICBsZXQgcmVxdWVzdGhhbmRsZSA9IGl0ZW1yZXF1ZXN0UmVmLmN1cnJlbnRcbiAgICAgICAgLy8gICAgIGNhbmNlbGlkbGVjYWxsYmFjayhyZXF1ZXN0aGFuZGxlKVxuICAgICAgICAvLyB9XG4gICAgfSxbXSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBpZiAoaXRlbXN0YXRlID09ICdzZXR1cCcpIHtcbiAgICAgICAgICAgIHNldEl0ZW1zdGF0ZSgncmVhZHknKVxuICAgICAgICB9XG5cbiAgICB9LFtpdGVtc3RhdGVdKVxuXG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgbGV0IGxvY2FsY2FsbHMgPSBjYWxsYmFja3NcblxuICAgICAgICBsb2NhbGNhbGxzLmdldEVsZW1lbnREYXRhICYmIGxvY2FsY2FsbHMuZ2V0RWxlbWVudERhdGEoZ2V0RWxlbWVudERhdGEoKSwncmVnaXN0ZXInKVxuXG4gICAgICAgIHJldHVybiAoKCk9PntcblxuICAgICAgICAgICAgbG9jYWxjYWxscy5nZXRFbGVtZW50RGF0YSAmJiBsb2NhbGNhbGxzLmdldEVsZW1lbnREYXRhKGdldEVsZW1lbnREYXRhKCksJ3VucmVnaXN0ZXInKVxuXG4gICAgICAgIH0pXG5cbiAgICB9LFtjYWxsYmFja3NdKVxuXG4gICAgbGV0IHNoZWxsZWxlbWVudFxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgLy8gaWYgKCFzaGVsbFJlZi5jdXJyZW50KSByZXR1cm5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3NoZWxsUmVmLmN1cnJlbnQnLHNoZWxsUmVmLmN1cnJlbnQpXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoc2hlbGxSZWYuY3VycmVudClcbiAgICAgICAgc2hlbGxlbGVtZW50ID0gc2hlbGxSZWYuY3VycmVudFxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1bm9ic2VydmluZycsc2hlbGxSZWYuY3VycmVudClcbiAgICAgICAgICAgIC8vIGlmICghc2hlbGxSZWYuY3VycmVudCkgcmV0dXJuIC8vIFRPRE86IG1lbW9yeSBsZWFrP1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Vub2JzZXJ2ZScsc2hlbGxSZWYuY3VycmVudClcbiAgICAgICAgICAgIC8vIG9ic2VydmVyLnVub2JzZXJ2ZShzaGVsbFJlZi5jdXJyZW50KVxuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndW5vYnNlcnZpbmcnLHNoZWxsZWxlbWVudClcbiAgICAgICAgICAgIC8vIGlmICghc2hlbGxlbGVtZW50KSByZXR1cm4gLy8gVE9ETzogbWVtb3J5IGxlYWs/XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndW5vYnNlcnZlJyxzaGVsbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIudW5vYnNlcnZlKHNoZWxsZWxlbWVudClcbiAgICAgICAgfVxuXG4gICAgfSxbb2JzZXJ2ZXJdKVxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgbGV0IG5ld1N0eWxlcyA9IGdldFNoZWxsU3R5bGVzKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHN0eWxlcylcbiAgICAgICAgLy8gaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKClcbiAgICAgICAgaWYgKGlzTW91bnRlZCgpKSB7XG4gICAgICAgICAgICBzYXZlU3R5bGVzKG5ld1N0eWxlcylcbiAgICAgICAgfVxuXG4gICAgfSxbb3JpZW50YXRpb24sY2VsbEhlaWdodCxjZWxsV2lkdGhdKVxuXG4gICAgLy8gY3JhZGxlIG9uZGVtYW5kIGNhbGxiYWNrIHBhcmFtZXRlciB2YWx1ZVxuICAgIGNvbnN0IGdldEVsZW1lbnREYXRhID0gdXNlQ2FsbGJhY2soKCk9PntcbiAgICAgICAgcmV0dXJuIFtpbmRleCwgc2hlbGxSZWZdXG4gICAgfSxbXSlcblxuICAgIC8vIHBsYWNlaG9sZGVyIGhhbmRsaW5nXG4gICAgY29uc3QgY3VzdG9tcGxhY2Vob2xkZXJSZWYgPSB1c2VSZWYoXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj9SZWFjdC5jcmVhdGVFbGVtZW50KHBsYWNlaG9sZGVyLCB7aW5kZXgsIGxpc3RzaXplfSk6bnVsbFxuICAgIClcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2hlbGxSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgICAgIGNvbnNvbGUubG9nKCdsaW5raW5nIHNjcm9sbGVyTmFtZSwgc2Nyb2xsZXJJRCwgaW5kZXgsIHNoZWxsUmVmLmN1cnJlbnQsIGNvbnRlbnQ7ICcsc2Nyb2xsZXJOYW1lLCBzY3JvbGxlcklELCBpbmRleCwgc2hlbGxSZWYuY3VycmVudCxjb250ZW50KVxuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHNoZWxsUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBwb3J0YWxNYW5hZ2VyLmF0dGFjaFBvcnRhbExpc3RJdGVtKHNjcm9sbGVySUQsaW5kZXgsc2hlbGxSZWYuY3VycmVudClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXR0aW5nIGhhc3BvcnRhbCB0cnVlIGZvciBzY3JvbGxlcklELCBpbmRleCcsIHNjcm9sbGVySUQsIGluZGV4KVxuICAgICAgICAgICAgc2F2ZUhhc1BvcnRhbCh0cnVlKVxuICAgICAgICAgICAgLy8gcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vICAgICBwb3J0YWxNYW5hZ2VyLmRldGFjaFBvcnRhbExpc3RJdGVtKHNjcm9sbGVySUQsaW5kZXgpXG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfVxuICAgIH0sW3NoZWxsUmVmLmN1cnJlbnQsY29udGVudF0pXG5cbiAgICBjb25zdCBwbGFjZWhvbGRlcmNoaWxkID0gdXNlTWVtbygoKT0+e1xuICAgICAgICBsZXQgY2hpbGQgPSBjdXN0b21wbGFjZWhvbGRlclJlZi5jdXJyZW50P1xuICAgICAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyUmVmLmN1cnJlbnQ6PFBsYWNlaG9sZGVyIGluZGV4ID0ge2luZGV4fSBsaXN0c2l6ZSA9IHtsaXN0c2l6ZX0gZXJyb3IgPSB7ZXJyb3J9Lz5cbiAgICAgICAgcmV0dXJuIGNoaWxkXG4gICAgfSwgW2luZGV4LCBjb250ZW50LCBjdXN0b21wbGFjZWhvbGRlclJlZi5jdXJyZW50LCBsaXN0c2l6ZSwgZXJyb3JdKVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmID0geyBzaGVsbFJlZiB9IGRhdGEtaW5kZXggPSB7aW5kZXh9IGRhdGEtaW5zdGFuY2VpZCA9IHtpbnN0YW5jZUlEfSBzdHlsZSA9IHtzdHlsZXN9PlxuICAgICAgICAgICAgeyghY29udGVudCk/cGxhY2Vob2xkZXJjaGlsZDpudWxsfVxuICAgIDwvZGl2PlxuXG59IC8vIEl0ZW1TaGVsbFxuXG4vLyBUT0RPOiBtZW1vaXplIHRoaXNcbmNvbnN0IGdldFNoZWxsU3R5bGVzID0gKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHN0eWxlcykgPT4ge1xuXG4gICAgbGV0IHN0eWxlc2V0ID0gT2JqZWN0LmFzc2lnbih7cG9zaXRpb246J3JlbGF0aXZlJ30sc3R5bGVzKVxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgc3R5bGVzZXQud2lkdGggPSBjZWxsV2lkdGg/KGNlbGxXaWR0aCArICdweCcpOidhdXRvJ1xuICAgICAgICBzdHlsZXNldC5oZWlnaHQgPSAnYXV0bydcbiAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHN0eWxlc2V0LndpZHRoID0gJ2F1dG8nXG4gICAgICAgIHN0eWxlc2V0LmhlaWdodCA9IGNlbGxIZWlnaHQ/KGNlbGxIZWlnaHQgKyAncHgnKTonYXV0bydcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzZXRcblxufVxuXG5leHBvcnQgZGVmYXVsdCBJdGVtU2hlbGxcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/itemshell.tsx\n");

/***/ }),

/***/ "./src/placeholder.tsx":
/*!*****************************!*\
  !*** ./src/placeholder.tsx ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // placeholder.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Placeholder = function Placeholder(_a) {\n  var index = _a.index,\n      listsize = _a.listsize,\n      error = _a.error;\n  var stylesRef = react_1.useRef({\n    position: 'relative',\n    boxSizing: 'border-box',\n    backgroundColor: 'cyan',\n    border: '2px solid black',\n    height: '100%',\n    width: '100%'\n  });\n  var itemStylesRef = react_1.useRef({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    padding: '3px',\n    opacity: .5,\n    borderRadius: '8px',\n    backgroundColor: 'white',\n    margin: '3px',\n    fontSize: 'smaller'\n  });\n  return react_1[\"default\"].createElement(\"div\", {\n    style: stylesRef.current\n  }, !error ? react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, index + 1, \"/\", listsize) : react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, \"item is not available at this time\"));\n};\n\nexports[\"default\"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9wbGFjZWhvbGRlci50c3g/MTEzMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRUEsSUFBTSxXQUFXLEdBQUcsU0FBZCxXQUFjLENBQUMsRUFBRCxFQUF5QjtNQUF2QixLQUFLLFc7TUFBRSxRQUFRLGM7TUFBRSxLQUFLLFc7QUFFeEMsTUFBTSxTQUFTLEdBQUcsZUFBTztBQUNyQixZQUFRLEVBQUMsVUFEWTtBQUVyQixhQUFTLEVBQUMsWUFGVztBQUdyQixtQkFBZSxFQUFDLE1BSEs7QUFJckIsVUFBTSxFQUFDLGlCQUpjO0FBS3JCLFVBQU0sRUFBQyxNQUxjO0FBTXJCLFNBQUssRUFBQztBQU5lLEdBQVAsQ0FBbEI7QUFRQSxNQUFNLGFBQWEsR0FBRyxlQUNsQjtBQUNJLFlBQVEsRUFBQyxVQURiO0FBRUksT0FBRyxFQUFDLENBRlI7QUFHSSxRQUFJLEVBQUMsQ0FIVDtBQUlJLFdBQU8sRUFBQyxLQUpaO0FBS0ksV0FBTyxFQUFDLEVBTFo7QUFNSSxnQkFBWSxFQUFDLEtBTmpCO0FBT0ksbUJBQWUsRUFBQyxPQVBwQjtBQVFJLFVBQU0sRUFBQyxLQVJYO0FBU0ksWUFBUSxFQUFDO0FBVGIsR0FEa0IsQ0FBdEI7QUFjQSxTQUFPO0FBQUssU0FBSyxFQUFJLFNBQVMsQ0FBQztBQUF4QixLQUNELENBQUMsS0FBRCxHQUNFO0FBQUssU0FBSyxFQUFJLGFBQWEsQ0FBQztBQUE1QixLQUFzQyxLQUFLLEdBQUcsQ0FBOUMsRSxHQUFBLEVBQWtELFFBQWxELENBREYsR0FFRTtBQUFLLFNBQUssRUFBSSxhQUFhLENBQUM7QUFBNUIsS0FBbUMsb0NBQW5DLENBSEQsQ0FBUDtBQU9ILENBL0JEOztBQWlDQSxxQkFBZSxXQUFmIiwiZmlsZSI6Ii4vc3JjL3BsYWNlaG9sZGVyLnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHBsYWNlaG9sZGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcblxuY29uc3QgUGxhY2Vob2xkZXIgPSAoe2luZGV4LCBsaXN0c2l6ZSwgZXJyb3J9KSA9PiB7XG5cbiAgICBjb25zdCBzdHlsZXNSZWYgPSB1c2VSZWYoe1xuICAgICAgICBwb3NpdGlvbjoncmVsYXRpdmUnLFxuICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J2N5YW4nLFxuICAgICAgICBib3JkZXI6JzJweCBzb2xpZCBibGFjaycsXG4gICAgICAgIGhlaWdodDonMTAwJScsXG4gICAgICAgIHdpZHRoOicxMDAlJ1xuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcylcbiAgICBjb25zdCBpdGVtU3R5bGVzUmVmID0gdXNlUmVmKFxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOjAsXG4gICAgICAgICAgICBsZWZ0OjAsXG4gICAgICAgICAgICBwYWRkaW5nOiczcHgnLFxuICAgICAgICAgICAgb3BhY2l0eTouNSxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czonOHB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLCBcbiAgICAgICAgICAgIG1hcmdpbjonM3B4JyxcbiAgICAgICAgICAgIGZvbnRTaXplOidzbWFsbGVyJyxcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gICAgKVxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGUgPSB7c3R5bGVzUmVmLmN1cnJlbnR9PlxuICAgICAgICB7ICFlcnJvcj9cbiAgICAgICAgICAgIDxkaXYgc3R5bGUgPSB7aXRlbVN0eWxlc1JlZi5jdXJyZW50fT57aW5kZXggKyAxfS97bGlzdHNpemV9PC9kaXY+OlxuICAgICAgICAgICAgPGRpdiBzdHlsZSA9IHtpdGVtU3R5bGVzUmVmLmN1cnJlbnR9Pml0ZW0gaXMgbm90IGF2YWlsYWJsZSBhdCB0aGlzIHRpbWU8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICA8L2Rpdj5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxhY2Vob2xkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/placeholder.tsx\n");

/***/ }),

/***/ "./src/portalmanager.tsx":
/*!*******************************!*\
  !*** ./src/portalmanager.tsx ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // contentmanager.tsx\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PortalContext = exports.PortalTree = exports.maincachetrigger = void 0;\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar react_dom_1 = __importDefault(__webpack_require__(/*! react-dom */ \"react-dom\"));\n\nvar scrollerPortalMetaMaps = new Map();\nvar scrollerPortalBlockMaps = new Map();\nexports.maincachetrigger = true;\nvar cacheSetTrigger;\nvar portalblockstyles = {\n  visibility: 'hidden'\n};\n\nvar PortalTree = function PortalTree() {\n  var _a = react_1.useState(exports.maincachetrigger),\n      cachetoggle = _a[0],\n      setCachetoggle = _a[1];\n\n  console.log('running PORTALTREE', cachetoggle);\n  var portalSets = [];\n  var portalKeys = [];\n  react_1.useEffect(function () {\n    cacheSetTrigger = setCachetoggle;\n  }, []);\n  scrollerPortalBlockMaps.forEach(function (block, key) {\n    if (block.modified) {\n      block.portalList = Array.from(block.portalMap.values());\n      block.modified = false;\n    }\n\n    portalSets.push(block.portalList);\n    portalKeys.push(key);\n  });\n  var index = 0;\n  var portalTreeBlocksList = [];\n\n  for (var _i = 0, portalKeys_1 = portalKeys; _i < portalKeys_1.length; _i++) {\n    var key = portalKeys_1[_i];\n    portalTreeBlocksList.push(react_1[\"default\"].createElement(\"div\", {\n      key: key\n    }, portalSets[index]));\n    index++;\n  }\n\n  return react_1[\"default\"].createElement(\"div\", {\n    key: 'portalblocks',\n    id: 'portalblocks',\n    style: portalblockstyles\n  }, portalTreeBlocksList);\n};\n\nexports.PortalTree = PortalTree;\n\nvar getPortal = function getPortal(content, container, index) {\n  // console.log('returning from getPortal')\n  return react_dom_1[\"default\"].createPortal(content, container, index);\n};\n\nvar PortalManager =\n/** @class */\nfunction () {\n  function PortalManager() {}\n\n  PortalManager.prototype.createScrollerPortalRepository = function (scrollerID) {\n    if (!scrollerPortalMetaMaps.has(scrollerID)) {\n      scrollerPortalMetaMaps.set(scrollerID, new Map());\n    }\n\n    if (!scrollerPortalBlockMaps.has(scrollerID)) {\n      scrollerPortalBlockMaps.set(scrollerID, {\n        modified: false,\n        portalMap: new Map(),\n        portalList: []\n      });\n    }\n  };\n\n  PortalManager.prototype.clearScrollerPortalRepository = function (scrollerID) {\n    if (scrollerPortalMetaMaps.has(scrollerID)) {\n      scrollerPortalMetaMaps.get(scrollerID).clear();\n    }\n\n    if (scrollerPortalBlockMaps.has(scrollerID)) {\n      scrollerPortalBlockMaps[\"delete\"](scrollerID);\n    }\n  };\n\n  PortalManager.prototype.resetScrollerPortalRepository = function (scrollerID) {\n    this.clearScrollerPortalRepository(scrollerID);\n    this.createScrollerPortalRepository(scrollerID);\n  };\n\n  PortalManager.prototype.deleteScrollerPortalRepository = function (scrollerID) {\n    scrollerPortalMetaMaps[\"delete\"](scrollerID);\n    scrollerPortalBlockMaps[\"delete\"](scrollerID);\n  };\n\n  PortalManager.prototype.createPortalListItem = function (scrollerID, index, usercontent) {\n    // console.log('setting item ScrollerID, index, content', scrollerID, index, content)\n    if (this.hasPortalListItem(scrollerID, index)) {\n      return this.getPortalListItem(scrollerID, index).portal;\n    }\n\n    var container = document.createElement('div'); // container.style.inset = '0px' // not recognized by React\n\n    container.style.top = '0px';\n    container.style.right = '0px';\n    container.style.left = '0px';\n    container.style.bottom = '0px';\n    container.style.position = 'absolute';\n    container.dataset.type = 'portalcontainer';\n    container.dataset.index = index;\n    container.dataset.scrollerid = scrollerID;\n    var portal = getPortal(usercontent, container, index); // portalList.push(<div key = {index}>{portal}</div>)\n\n    var scrollerportals = scrollerPortalBlockMaps.get(scrollerID);\n    scrollerportals.portalMap.set(index, portal);\n    scrollerportals.modified = true;\n    scrollerPortalMetaMaps.get(scrollerID).set(index, {\n      usercontent: usercontent,\n      target: null,\n      container: container,\n      portal: portal,\n      reparenting: false,\n      indexid: index,\n      scrollerid: scrollerID\n    });\n    exports.maincachetrigger = !exports.maincachetrigger;\n    cacheSetTrigger(exports.maincachetrigger);\n  };\n\n  PortalManager.prototype.deletePortalListItem = function (scrollerID, index) {\n    // let itemdata = portalLists.get(scrollerID).get(index)\n    scrollerPortalMetaMaps.get(scrollerID)[\"delete\"](index);\n    var portalitem = scrollerPortalBlockMaps.get(scrollerID);\n    portalitem.portalMap[\"delete\"](index);\n    portalitem.modified = true;\n    exports.maincachetrigger = !exports.maincachetrigger;\n    cacheSetTrigger(exports.maincachetrigger);\n  };\n\n  PortalManager.prototype.attachPortalListItem = function (scrollerID, index, target) {\n    var item = scrollerPortalMetaMaps.get(scrollerID).get(index); // console.log('item to be attached; scrollerID, index',item, scrollerID, index)\n\n    if (!item) return; // console.log('setting reparenting to true: scrollerID, index', scrollerID, index)\n\n    item.reparenting = true; // this.detachContentlistItem(scrollerID, index)\n\n    target.appendChild(item.container); // console.log('scrollerID, index, getBoundingClientRect',scrollerID, index, item.container.getBoundingClientRect())\n\n    item.target = target;\n    setTimeout(function () {\n      item.reparenting = false; // console.log('setting reparenting to false', scrollerID, index)\n    });\n  };\n\n  PortalManager.prototype.detachPortalListItem = function (scrollerID, index) {\n    var item = scrollerPortalMetaMaps.get(scrollerID).get(index);\n\n    if (item) {\n      // console.log('detach child item scrollerID, index',item, scrollerID, index)\n      if (item.target && item.container) {\n        try {\n          item.target.removeChild(item.container);\n        } catch (e) {// noop\n        }\n      }\n    }\n  };\n\n  PortalManager.prototype.hasPortalListItem = function (scrollerID, index) {\n    return scrollerPortalMetaMaps.get(scrollerID).has(index);\n  };\n\n  PortalManager.prototype.getPortalListItem = function (scrollerID, index) {\n    return scrollerPortalMetaMaps.get(scrollerID).get(index);\n  };\n\n  return PortalManager;\n}();\n\nvar portalManager = new PortalManager();\nexports.PortalContext = react_1[\"default\"].createContext(portalManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9wb3J0YWxtYW5hZ2VyLnRzeD9hYzgyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUVBLElBQU0sc0JBQXNCLEdBQUcsSUFBSSxHQUFKLEVBQS9CO0FBRUEsSUFBTSx1QkFBdUIsR0FBRyxJQUFJLEdBQUosRUFBaEM7QUFFVywyQkFBbUIsSUFBbkI7QUFFWCxJQUFJLGVBQUo7QUFFQSxJQUFJLGlCQUFpQixHQUF1QjtBQUFDLFlBQVUsRUFBQztBQUFaLENBQTVDOztBQUVPLElBQU0sVUFBVSxHQUFHLFNBQWIsVUFBYTtBQUNoQixXQUFnQyxpQkFBUyx3QkFBVCxDQUFoQztBQUFBLE1BQUMsV0FBVyxRQUFaO0FBQUEsTUFBYyxjQUFjLFFBQTVCOztBQUNOLFNBQU8sQ0FBQyxHQUFSLENBQVksb0JBQVosRUFBa0MsV0FBbEM7QUFDQSxNQUFJLFVBQVUsR0FBRyxFQUFqQjtBQUNBLE1BQUksVUFBVSxHQUFHLEVBQWpCO0FBQ0Esb0JBQVU7QUFDTixtQkFBZSxHQUFHLGNBQWxCO0FBQ0gsR0FGRCxFQUVFLEVBRkY7QUFHQSx5QkFBdUIsQ0FBQyxPQUF4QixDQUFnQyxVQUFDLEtBQUQsRUFBUSxHQUFSLEVBQVc7QUFDdkMsUUFBSSxLQUFLLENBQUMsUUFBVixFQUFvQjtBQUNoQixXQUFLLENBQUMsVUFBTixHQUFtQixLQUFLLENBQUMsSUFBTixDQUFXLEtBQUssQ0FBQyxTQUFOLENBQWdCLE1BQWhCLEVBQVgsQ0FBbkI7QUFDQSxXQUFLLENBQUMsUUFBTixHQUFpQixLQUFqQjtBQUNIOztBQUNELGNBQVUsQ0FBQyxJQUFYLENBQWdCLEtBQUssQ0FBQyxVQUF0QjtBQUNBLGNBQVUsQ0FBQyxJQUFYLENBQWdCLEdBQWhCO0FBQ0gsR0FQRDtBQVFBLE1BQUksS0FBSyxHQUFHLENBQVo7QUFDQSxNQUFJLG9C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QjtBQUVhLHdCQUFnQixtQkFBTSxhQUFOLENBQW9CLGFBQXBCLENBQWhCIiwiZmlsZSI6Ii4vc3JjL3BvcnRhbG1hbmFnZXIudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudG1hbmFnZXIudHN4XG5cbmltcG9ydCBSZWFjdCwge3VzZVN0YXRlLCB1c2VFZmZlY3R9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcblxuY29uc3Qgc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcyA9IG5ldyBNYXAoKVxuXG5jb25zdCBzY3JvbGxlclBvcnRhbEJsb2NrTWFwcyA9IG5ldyBNYXAoKVxuXG5leHBvcnQgbGV0IG1haW5jYWNoZXRyaWdnZXIgPSB0cnVlXG5cbmxldCBjYWNoZVNldFRyaWdnZXJcblxubGV0IHBvcnRhbGJsb2Nrc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7dmlzaWJpbGl0eTonaGlkZGVuJ31cblxuZXhwb3J0IGNvbnN0IFBvcnRhbFRyZWUgPSAoKSA9PiB7XG4gICAgY29uc3QgW2NhY2hldG9nZ2xlLCBzZXRDYWNoZXRvZ2dsZV0gPSB1c2VTdGF0ZShtYWluY2FjaGV0cmlnZ2VyKVxuICAgIGNvbnNvbGUubG9nKCdydW5uaW5nIFBPUlRBTFRSRUUnLCBjYWNoZXRvZ2dsZSlcbiAgICBsZXQgcG9ydGFsU2V0cyA9IFtdXG4gICAgbGV0IHBvcnRhbEtleXMgPSBbXVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBjYWNoZVNldFRyaWdnZXIgPSBzZXRDYWNoZXRvZ2dsZVxuICAgIH0sW10pXG4gICAgc2Nyb2xsZXJQb3J0YWxCbG9ja01hcHMuZm9yRWFjaCgoYmxvY2ssIGtleSkgPT4ge1xuICAgICAgICBpZiAoYmxvY2subW9kaWZpZWQpIHtcbiAgICAgICAgICAgIGJsb2NrLnBvcnRhbExpc3QgPSBBcnJheS5mcm9tKGJsb2NrLnBvcnRhbE1hcC52YWx1ZXMoKSlcbiAgICAgICAgICAgIGJsb2NrLm1vZGlmaWVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBwb3J0YWxTZXRzLnB1c2goYmxvY2sucG9ydGFsTGlzdClcbiAgICAgICAgcG9ydGFsS2V5cy5wdXNoKGtleSlcbiAgICB9KVxuICAgIGxldCBpbmRleCA9IDBcbiAgICBsZXQgcG9ydGFsVHJlZUJsb2Nrc0xpc3QgPSBbXVxuICAgIGZvciAobGV0IGtleSBvZiBwb3J0YWxLZXlzKSB7XG4gICAgICAgIHBvcnRhbFRyZWVCbG9ja3NMaXN0LnB1c2goPGRpdiBrZXkgPSB7a2V5fT57cG9ydGFsU2V0c1tpbmRleF19PC9kaXY+KVxuICAgICAgICBpbmRleCsrXG4gICAgfVxuICAgIHJldHVybiA8ZGl2IGtleSA9ICdwb3J0YWxibG9ja3MnIGlkID0gJ3BvcnRhbGJsb2Nrcycgc3R5bGU9e3BvcnRhbGJsb2Nrc3R5bGVzfT57cG9ydGFsVHJlZUJsb2Nrc0xpc3R9PC9kaXY+XG59XG5cbmNvbnN0IGdldFBvcnRhbCA9IChjb250ZW50LCBjb250YWluZXIsIGluZGV4KSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3JldHVybmluZyBmcm9tIGdldFBvcnRhbCcpXG4gICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChjb250ZW50LCBjb250YWluZXIsIGluZGV4KVxufSBcbmNsYXNzIFBvcnRhbE1hbmFnZXIge1xuXG4gICAgY3JlYXRlU2Nyb2xsZXJQb3J0YWxSZXBvc2l0b3J5IChzY3JvbGxlcklEKSB7XG4gICAgICAgIGlmICghc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcy5oYXMoc2Nyb2xsZXJJRCkpIHtcbiAgICAgICAgICAgIHNjcm9sbGVyUG9ydGFsTWV0YU1hcHMuc2V0KHNjcm9sbGVySUQsIG5ldyBNYXAoKSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjcm9sbGVyUG9ydGFsQmxvY2tNYXBzLmhhcyhzY3JvbGxlcklEKSkge1xuICAgICAgICAgICAgc2Nyb2xsZXJQb3J0YWxCbG9ja01hcHMuc2V0KHNjcm9sbGVySUQsIHttb2RpZmllZDpmYWxzZSxwb3J0YWxNYXA6bmV3IE1hcCgpLHBvcnRhbExpc3Q6W119KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJTY3JvbGxlclBvcnRhbFJlcG9zaXRvcnkgKHNjcm9sbGVySUQpIHtcbiAgICAgICAgaWYgKHNjcm9sbGVyUG9ydGFsTWV0YU1hcHMuaGFzKHNjcm9sbGVySUQpKSB7XG4gICAgICAgICAgICBzY3JvbGxlclBvcnRhbE1ldGFNYXBzLmdldChzY3JvbGxlcklEKS5jbGVhcigpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjcm9sbGVyUG9ydGFsQmxvY2tNYXBzLmhhcyhzY3JvbGxlcklEKSkge1xuICAgICAgICAgICAgc2Nyb2xsZXJQb3J0YWxCbG9ja01hcHMuZGVsZXRlKHNjcm9sbGVySUQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldFNjcm9sbGVyUG9ydGFsUmVwb3NpdG9yeShzY3JvbGxlcklEKSB7XG4gICAgICAgIHRoaXMuY2xlYXJTY3JvbGxlclBvcnRhbFJlcG9zaXRvcnkoc2Nyb2xsZXJJRClcbiAgICAgICAgdGhpcy5jcmVhdGVTY3JvbGxlclBvcnRhbFJlcG9zaXRvcnkoc2Nyb2xsZXJJRClcbiAgICB9XG5cbiAgICBkZWxldGVTY3JvbGxlclBvcnRhbFJlcG9zaXRvcnkgKHNjcm9sbGVySUQpIHtcbiAgICAgICAgc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcy5kZWxldGUoc2Nyb2xsZXJJRClcbiAgICAgICAgc2Nyb2xsZXJQb3J0YWxCbG9ja01hcHMuZGVsZXRlKHNjcm9sbGVySUQpXG4gICAgfVxuXG4gICAgY3JlYXRlUG9ydGFsTGlzdEl0ZW0gKHNjcm9sbGVySUQsIGluZGV4LCB1c2VyY29udGVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0dGluZyBpdGVtIFNjcm9sbGVySUQsIGluZGV4LCBjb250ZW50Jywgc2Nyb2xsZXJJRCwgaW5kZXgsIGNvbnRlbnQpXG4gICAgICAgIGlmICh0aGlzLmhhc1BvcnRhbExpc3RJdGVtKHNjcm9sbGVySUQsIGluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9ydGFsTGlzdEl0ZW0oc2Nyb2xsZXJJRCxpbmRleCkucG9ydGFsXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIC8vIGNvbnRhaW5lci5zdHlsZS5pbnNldCA9ICcwcHgnIC8vIG5vdCByZWNvZ25pemVkIGJ5IFJlYWN0XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4J1xuICAgICAgICBjb250YWluZXIuc3R5bGUucmlnaHQgPSAnMHB4J1xuICAgICAgICBjb250YWluZXIuc3R5bGUubGVmdCA9ICcwcHgnXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMHB4J1xuICAgICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgICAgIGNvbnRhaW5lci5kYXRhc2V0LnR5cGUgPSAncG9ydGFsY29udGFpbmVyJ1xuICAgICAgICBjb250YWluZXIuZGF0YXNldC5pbmRleCA9IGluZGV4XG4gICAgICAgIGNvbnRhaW5lci5kYXRhc2V0LnNjcm9sbGVyaWQgPSBzY3JvbGxlcklEXG4gICAgICAgIGxldCBwb3J0YWwgPSBnZXRQb3J0YWwodXNlcmNvbnRlbnQsIGNvbnRhaW5lciwgaW5kZXgpXG4gICAgICAgIC8vIHBvcnRhbExpc3QucHVzaCg8ZGl2IGtleSA9IHtpbmRleH0+e3BvcnRhbH08L2Rpdj4pXG4gICAgICAgIGxldCBzY3JvbGxlcnBvcnRhbHMgPSBzY3JvbGxlclBvcnRhbEJsb2NrTWFwcy5nZXQoc2Nyb2xsZXJJRClcbiAgICAgICAgc2Nyb2xsZXJwb3J0YWxzLnBvcnRhbE1hcC5zZXQoaW5kZXgscG9ydGFsKVxuICAgICAgICBzY3JvbGxlcnBvcnRhbHMubW9kaWZpZWQgPSB0cnVlXG4gICAgICAgIHNjcm9sbGVyUG9ydGFsTWV0YU1hcHMuZ2V0KHNjcm9sbGVySUQpLnNldChpbmRleCwgXG4gICAgICAgICAgICB7dXNlcmNvbnRlbnQsIHRhcmdldDpudWxsLCBjb250YWluZXIsIHBvcnRhbCwgcmVwYXJlbnRpbmc6ZmFsc2UsIGluZGV4aWQ6aW5kZXgsc2Nyb2xsZXJpZDpzY3JvbGxlcklEfSApXG4gICAgICAgIG1haW5jYWNoZXRyaWdnZXIgPSAhbWFpbmNhY2hldHJpZ2dlclxuICAgICAgICBjYWNoZVNldFRyaWdnZXIobWFpbmNhY2hldHJpZ2dlcilcbiAgICB9XG5cbiAgICBkZWxldGVQb3J0YWxMaXN0SXRlbSAoc2Nyb2xsZXJJRCwgaW5kZXgpIHtcbiAgICAgICAgLy8gbGV0IGl0ZW1kYXRhID0gcG9ydGFsTGlzdHMuZ2V0KHNjcm9sbGVySUQpLmdldChpbmRleClcbiAgICAgICAgc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcy5nZXQoc2Nyb2xsZXJJRCkuZGVsZXRlKGluZGV4KVxuICAgICAgICBsZXQgcG9ydGFsaXRlbSA9IHNjcm9sbGVyUG9ydGFsQmxvY2tNYXBzLmdldChzY3JvbGxlcklEKVxuICAgICAgICBwb3J0YWxpdGVtLnBvcnRhbE1hcC5kZWxldGUoaW5kZXgpXG4gICAgICAgIHBvcnRhbGl0ZW0ubW9kaWZpZWQgPSB0cnVlXG4gICAgICAgIG1haW5jYWNoZXRyaWdnZXIgPSAhbWFpbmNhY2hldHJpZ2dlclxuICAgICAgICBjYWNoZVNldFRyaWdnZXIobWFpbmNhY2hldHJpZ2dlcilcbiAgICB9XG5cbiAgICBhdHRhY2hQb3J0YWxMaXN0SXRlbSAoc2Nyb2xsZXJJRCwgaW5kZXgsIHRhcmdldCkge1xuICAgICAgICBsZXQgaXRlbSA9IHNjcm9sbGVyUG9ydGFsTWV0YU1hcHMuZ2V0KHNjcm9sbGVySUQpLmdldChpbmRleClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2l0ZW0gdG8gYmUgYXR0YWNoZWQ7IHNjcm9sbGVySUQsIGluZGV4JyxpdGVtLCBzY3JvbGxlcklELCBpbmRleClcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3NldHRpbmcgcmVwYXJlbnRpbmcgdG8gdHJ1ZTogc2Nyb2xsZXJJRCwgaW5kZXgnLCBzY3JvbGxlcklELCBpbmRleClcbiAgICAgICAgaXRlbS5yZXBhcmVudGluZyA9IHRydWVcbiAgICAgICAgLy8gdGhpcy5kZXRhY2hDb250ZW50bGlzdEl0ZW0oc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChpdGVtLmNvbnRhaW5lcilcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbGVySUQsIGluZGV4LCBnZXRCb3VuZGluZ0NsaWVudFJlY3QnLHNjcm9sbGVySUQsIGluZGV4LCBpdGVtLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSlcbiAgICAgICAgaXRlbS50YXJnZXQgPSB0YXJnZXRcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgaXRlbS5yZXBhcmVudGluZyA9IGZhbHNlXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0dGluZyByZXBhcmVudGluZyB0byBmYWxzZScsIHNjcm9sbGVySUQsIGluZGV4KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRldGFjaFBvcnRhbExpc3RJdGVtIChzY3JvbGxlcklELCBpbmRleCkge1xuICAgICAgICBsZXQgaXRlbSA9IHNjcm9sbGVyUG9ydGFsTWV0YU1hcHMuZ2V0KHNjcm9sbGVySUQpLmdldChpbmRleClcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkZXRhY2ggY2hpbGQgaXRlbSBzY3JvbGxlcklELCBpbmRleCcsaXRlbSwgc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgICAgICBpZiAoaXRlbS50YXJnZXQgJiYgaXRlbS5jb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnRhcmdldC5yZW1vdmVDaGlsZChpdGVtLmNvbnRhaW5lcilcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhc1BvcnRhbExpc3RJdGVtIChzY3JvbGxlcklELCBpbmRleCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcy5nZXQoc2Nyb2xsZXJJRCkuaGFzKGluZGV4KVxuICAgIH1cblxuICAgIGdldFBvcnRhbExpc3RJdGVtIChzY3JvbGxlcklELCBpbmRleCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsZXJQb3J0YWxNZXRhTWFwcy5nZXQoc2Nyb2xsZXJJRCkuZ2V0KGluZGV4KVxuICAgIH1cbn1cblxuY29uc3QgcG9ydGFsTWFuYWdlciA9IG5ldyBQb3J0YWxNYW5hZ2VyKClcblxuZXhwb3J0IGNvbnN0IFBvcnRhbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHBvcnRhbE1hbmFnZXIpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/portalmanager.tsx\n");

/***/ }),

/***/ "./src/scrollblock.tsx":
/*!*****************************!*\
  !*** ./src/scrollblock.tsx ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // scrollblock.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar Scrollblock = function Scrollblock(_a) {\n  var children = _a.children,\n      listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding,\n      orientation = _a.orientation,\n      functions = _a.functions,\n      styles = _a.styles; // -------------------------[ context and state ]-------------------------\n\n  var viewportData = react_1.useContext(viewport_1.ViewportContext);\n\n  var _b = react_1.useState('prepare'),\n      blockstate = _b[0],\n      setBlockState = _b[1]; // -----------------------------------[ data heap ]-------------------------\n\n\n  var scrollBlockLengthRef = react_1.useRef(null);\n  var scrollblockRef = react_1.useRef(null);\n  var divlinerstyleRef = react_1.useRef(Object.assign({\n    backgroundColor: 'white',\n    position: 'relative'\n  }, styles === null || styles === void 0 ? void 0 : styles.cradle));\n\n  var _c = react_1.useState(divlinerstyleRef.current),\n      divlinerstyle = _c[0],\n      saveDivlinerstyle = _c[1]; // to trigger render\n\n\n  var viewportDimensions = viewportData.viewportDimensions,\n      itemobserver = viewportData.itemobserver,\n      isResizing = viewportData.isResizing;\n  var top = viewportDimensions.top,\n      right = viewportDimensions.right,\n      bottom = viewportDimensions.bottom,\n      left = viewportDimensions.left,\n      width = viewportDimensions.width,\n      height = viewportDimensions.height; // state engine\n\n  react_1.useEffect(function () {\n    switch (blockstate) {\n      case 'prepare':\n        {\n          setBlockState('render');\n          break;\n        }\n    }\n  }, [blockstate]);\n  react_1.useLayoutEffect(function () {\n    updateBlockLength();\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, scrollBlockLengthRef);\n    saveDivlinerstyle(divlinerstyleRef.current);\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBlockLength = react_1.useCallback(function () {\n    var scrollblocklength = calcScrollblockLength({\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width\n    });\n    scrollBlockLengthRef.current = scrollblocklength;\n  }, [listsize, cellHeight, cellWidth, gap, padding, orientation, height, width]);\n  return blockstate != 'prepare' ? react_1[\"default\"].createElement(\"div\", {\n    ref: scrollblockRef,\n    style: divlinerstyleRef.current\n  }, children) : null;\n}; // Scrollblock\n// all the parameters affect the length\n\n\nvar calcScrollblockLength = function calcScrollblockLength(_a) {\n  var listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding,\n      orientation = _a.orientation,\n      viewportheight = _a.viewportheight,\n      viewportwidth = _a.viewportwidth; // dependents of orientation\n\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n\n  if (orientation == 'vertical') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  } // adjustments to viewportcrosslength\n\n\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap;\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  var listlength = Math.ceil(listsize / crosscount);\n  var straightlength = listlength * cellLength - (listlength > 0 ? gap : 0) + padding * 2;\n  return straightlength;\n};\n\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, scrollblocklengthRef) {\n  var localstyles = Object.assign({}, stylesRef.current);\n  var height;\n  var width;\n\n  if (orientation == 'horizontal') {\n    height = '100%';\n    width = scrollblocklengthRef.current + 'px';\n  } else if (orientation == 'vertical') {\n    height = scrollblocklengthRef.current + 'px';\n    width = '100%';\n  }\n\n  localstyles.height = height;\n  localstyles.width = width;\n  return localstyles;\n};\n\nexports[\"default\"] = Scrollblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9zY3JvbGxibG9jay50c3g/MmZhNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRUE7O0FBRUEsSUFBTSxXQUFXLEdBQUcsU0FBZCxXQUFjLENBQUMsRUFBRCxFQVVuQjtNQVRHLFFBQVEsYztNQUNSLFFBQVEsYztNQUNSLFVBQVUsZ0I7TUFDVixTQUFTLGU7TUFDVCxHQUFHLFM7TUFDSCxPQUFPLGE7TUFDUCxXQUFXLGlCO01BQ1gsU0FBUyxlO01BQ1QsTUFBTSxZLENBQ1QsQ0FFRzs7QUFDQSxNQUFNLFlBQVksR0FBRyxtQkFBVywwQkFBWCxDQUFyQjs7QUFDTSxXQUE2QixpQkFBUyxTQUFULENBQTdCO0FBQUEsTUFBQyxVQUFVLFFBQVg7QUFBQSxNQUFZLGFBQWEsUUFBekIsQ0FKVCxDQU1HOzs7QUFDQSxNQUFNLG9CQUFvQixHQUFHLGVBQU8sSUFBUCxDQUE3QjtBQUNBLE1BQU0sY0FBYyxHQUFHLGVBQU8sSUFBUCxDQUF2QjtBQUNBLE1BQU0sZ0JBQWdCLEdBQUcsZUFDckIsTUFBTSxDQUFDLE1BQVAsQ0FDQTtBQUVJLG1CQUFlLEVBQUMsT0FGcEI7QUFHSSxZQUFRLEVBQUM7QUFIYixHQURBLEVBTTBCLE1BQU0sU0FBTixVQUFNLFdBQU4sR0FBTSxNQUFOLFNBQU0sQ0FBRSxNQU5sQyxDQURxQixDQUF6Qjs7QUFVTSxXQUFvQyxpQkFBUyxnQkFBZ0IsQ0FBQyxPQUExQixDQUFwQztBQUFBLE1BQUMsYUFBYSxRQUFkO0FBQUEsTUFBZSxpQkFBaUIsUUFBaEMsQ0FuQlQsQ0FtQmdGOzs7QUFFdkUsd0JBQWtCLEdBQStCLFlBQVksQ0FBM0Msa0JBQWxCO0FBQUEsTUFBb0IsWUFBWSxHQUFpQixZQUFZLENBQTdCLFlBQWhDO0FBQUEsTUFBa0MsVUFBVSxHQUFLLFlBQVksQ0FBakIsVUFBNUM7QUFDQSxTQUFH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QUFJLGNBQWMsR0FBSSxVQUFVLEdBQUcsVUFBZCxJQUE4QixVQUFVLEdBQUcsQ0FBZCxHQUFpQixHQUFqQixHQUFxQixDQUFsRCxJQUF3RCxPQUFPLEdBQUcsQ0FBdkY7QUFFQSxTQUFPLGNBQVA7QUFFSCxDQXpDRDs7QUEyQ0EsSUFBTSx1QkFBdUIsR0FBRyxTQUExQix1QkFBMEIsQ0FBQyxXQUFELEVBQWEsU0FBYixFQUF1QixvQkFBdkIsRUFBMkM7QUFFdkUsTUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxFQUFkLEVBQWlCLFNBQVMsQ0FBQyxPQUEzQixDQUFsQjtBQUNBLE1BQUksTUFBSjtBQUNBLE1BQUksS0FBSjs7QUFDQSxNQUFJLFdBQVcsSUFBSSxZQUFuQixFQUFpQztBQUM3QixVQUFNLEdBQUcsTUFBVDtBQUNBLFNBQUssR0FBRyxvQkFBb0IsQ0FBQyxPQUFyQixHQUErQixJQUF2QztBQUNILEdBSEQsTUFHTyxJQUFJLFdBQVcsSUFBSSxVQUFuQixFQUErQjtBQUNsQyxVQUFNLEdBQUcsb0JBQW9CLENBQUMsT0FBckIsR0FBK0IsSUFBeEM7QUFDQSxTQUFLLEdBQUcsTUFBUjtBQUNIOztBQUNELGFBQVcsQ0FBQyxNQUFaLEdBQXFCLE1BQXJCO0FBQ0EsYUFBVyxDQUFDLEtBQVosR0FBb0IsS0FBcEI7QUFFQSxTQUFPLFdBQVA7QUFDSCxDQWhCRDs7QUFrQkEscUJBQWUsV0FBZiIsImZpbGUiOiIuL3NyYy9zY3JvbGxibG9jay50c3guanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzY3JvbGxibG9jay50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBWaWV3cG9ydENvbnRleHQgfSBmcm9tICcuL3ZpZXdwb3J0J1xuXG5jb25zdCBTY3JvbGxibG9jayA9ICh7XG4gICAgY2hpbGRyZW4sXG4gICAgbGlzdHNpemUsIFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGNlbGxXaWR0aCwgXG4gICAgZ2FwLCBcbiAgICBwYWRkaW5nLCBcbiAgICBvcmllbnRhdGlvbiwgXG4gICAgZnVuY3Rpb25zLCBcbiAgICBzdHlsZXMgXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb250ZXh0IGFuZCBzdGF0ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IHZpZXdwb3J0RGF0YSA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KVxuICAgIGNvbnN0IFtibG9ja3N0YXRlLHNldEJsb2NrU3RhdGVdID0gdXNlU3RhdGUoJ3ByZXBhcmUnKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGRhdGEgaGVhcCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IHNjcm9sbEJsb2NrTGVuZ3RoUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3Qgc2Nyb2xsYmxvY2tSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgICAgIFxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsIHN0eWxlcz8uY3JhZGxlKVxuXG4gICAgKVxuICAgIGNvbnN0IFtkaXZsaW5lcnN0eWxlLHNhdmVEaXZsaW5lcnN0eWxlXSA9IHVzZVN0YXRlKGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCkgLy8gdG8gdHJpZ2dlciByZW5kZXJcblxuICAgIGxldCB7IHZpZXdwb3J0RGltZW5zaW9ucywgaXRlbW9ic2VydmVyLCBpc1Jlc2l6aW5nIH0gPSB2aWV3cG9ydERhdGFcbiAgICBsZXQgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IHZpZXdwb3J0RGltZW5zaW9uc1xuXG4gICAgLy8gc3RhdGUgZW5naW5lXG4gICAgdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHN3aXRjaCAoYmxvY2tzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAncHJlcGFyZSc6IHtcbiAgICAgICAgICAgICAgICBzZXRCbG9ja1N0YXRlKCdyZW5kZXInKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFtibG9ja3N0YXRlXSlcbiAgICBcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIHVwZGF0ZUJsb2NrTGVuZ3RoKClcbiAgICAgICAgZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50ID0gdXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMob3JpZW50YXRpb24sZGl2bGluZXJzdHlsZVJlZixzY3JvbGxCbG9ja0xlbmd0aFJlZilcbiAgICAgICAgc2F2ZURpdmxpbmVyc3R5bGUoZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KVxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgXSlcblxuICAgIGNvbnN0IHVwZGF0ZUJsb2NrTGVuZ3RoID0gdXNlQ2FsbGJhY2soXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGxldCBzY3JvbGxibG9ja2xlbmd0aCA9IFxuICAgICAgICAgICAgICAgIGNhbGNTY3JvbGxibG9ja0xlbmd0aChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0OmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0d2lkdGg6d2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgIHNjcm9sbEJsb2NrTGVuZ3RoUmVmLmN1cnJlbnQgPSBzY3JvbGxibG9ja2xlbmd0aFxuXG4gICAgICAgIH0sW1xuICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgXVxuICAgIClcblxuICAgIHJldHVybiAoYmxvY2tzdGF0ZSAhPSAncHJlcGFyZScpXG4gICAgICAgID88ZGl2IHJlZiA9IHtzY3JvbGxibG9ja1JlZn0gc3R5bGU9e2RpdmxpbmVyc3R5bGVSZWYuY3VycmVudH0+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgICA6bnVsbFxuXG59IC8vIFNjcm9sbGJsb2NrXG5cbi8vIGFsbCB0aGUgcGFyYW1ldGVycyBhZmZlY3QgdGhlIGxlbmd0aFxuY29uc3QgY2FsY1Njcm9sbGJsb2NrTGVuZ3RoID0gKHtcbiAgICBsaXN0c2l6ZSwgXG4gICAgY2VsbEhlaWdodCwgXG4gICAgY2VsbFdpZHRoLCBcbiAgICBnYXAsIFxuICAgIHBhZGRpbmcsIFxuICAgIG9yaWVudGF0aW9uLCBcbiAgICB2aWV3cG9ydGhlaWdodCxcbiAgICB2aWV3cG9ydHdpZHRoLFxuICAgIH0pID0+IHtcblxuICAgIC8vIGRlcGVuZGVudHMgb2Ygb3JpZW50YXRpb25cbiAgICBsZXQgY3Jvc3NsZW5ndGhcbiAgICBsZXQgY2VsbExlbmd0aFxuICAgIGxldCB2aWV3cG9ydGNyb3NzbGVuZ3RoXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICBjcm9zc2xlbmd0aCA9IGNlbGxXaWR0aCArIGdhcFxuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcFxuICAgICAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gdmlld3BvcnR3aWR0aCBcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsSGVpZ2h0ICsgZ2FwXG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsV2lkdGggKyBnYXBcbiAgICAgICAgdmlld3BvcnRjcm9zc2xlbmd0aCA9IHZpZXdwb3J0aGVpZ2h0XG5cbiAgICB9XG4gICAgLy8gYWRqdXN0bWVudHMgdG8gdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggLT0gKHBhZGRpbmcgKiAyKVxuICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggKz0gZ2FwXG5cbiAgICBpZiAodmlld3BvcnRjcm9zc2xlbmd0aCA8IGNyb3NzbGVuZ3RoKSB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gY3Jvc3NsZW5ndGggLy8gbXVzdCBiZSBhdCBsZWFzdCBvbmVcbiAgICBsZXQgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3Iodmlld3BvcnRjcm9zc2xlbmd0aC9jcm9zc2xlbmd0aClcblxuICAgIGxldCBsaXN0bGVuZ3RoID0gTWF0aC5jZWlsKGxpc3RzaXplL2Nyb3NzY291bnQpXG5cbiAgICBsZXQgc3RyYWlnaHRsZW5ndGggPSAobGlzdGxlbmd0aCAqIGNlbGxMZW5ndGgpIC0gKChsaXN0bGVuZ3RoID4gMCk/Z2FwOjApICsgKHBhZGRpbmcgKiAyKVxuXG4gICAgcmV0dXJuIHN0cmFpZ2h0bGVuZ3RoXG5cbn1cblxuY29uc3QgdXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMgPSAob3JpZW50YXRpb24sc3R5bGVzUmVmLHNjcm9sbGJsb2NrbGVuZ3RoUmVmKSA9PiB7XG5cbiAgICBsZXQgbG9jYWxzdHlsZXMgPSBPYmplY3QuYXNzaWduKHt9LHN0eWxlc1JlZi5jdXJyZW50KSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gICAgbGV0IGhlaWdodCBcbiAgICBsZXQgd2lkdGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICB3aWR0aCA9IHNjcm9sbGJsb2NrbGVuZ3RoUmVmLmN1cnJlbnQgKyAncHgnXG4gICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgIGhlaWdodCA9IHNjcm9sbGJsb2NrbGVuZ3RoUmVmLmN1cnJlbnQgKyAncHgnXG4gICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgfVxuICAgIGxvY2Fsc3R5bGVzLmhlaWdodCA9IGhlaWdodFxuICAgIGxvY2Fsc3R5bGVzLndpZHRoID0gd2lkdGhcblxuICAgIHJldHVybiBsb2NhbHN0eWxlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxibG9ja1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scrollblock.tsx\n");

/***/ }),

/***/ "./src/scrolltracker.tsx":
/*!*******************************!*\
  !*** ./src/scrolltracker.tsx ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // scrolltracker.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar ScrollTracker = function ScrollTracker(_a) {\n  var top = _a.top,\n      left = _a.left,\n      offset = _a.offset,\n      listsize = _a.listsize,\n      styles = _a.styles;\n  var trackdata = offset + 1 + \"/\" + listsize;\n  var styleRef = react_1.useRef(Object.assign({\n    top: top + 'px',\n    left: left + 'px',\n    position: 'fixed',\n    zIndex: 3,\n    backgroundColor: 'white',\n    border: '1px solid gray',\n    borderRadius: '10px',\n    fontSize: 'smaller',\n    padding: '3px'\n  }, styles === null || styles === void 0 ? void 0 : styles.scrolltracker));\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'scrolltracker',\n    style: styleRef.current\n  }, trackdata);\n};\n\nexports[\"default\"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy9zY3JvbGx0cmFja2VyLnRzeD9mZjgxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNLGFBQWEsR0FBRyxTQUFoQixhQUFnQixDQUFDLEVBQUQsRUFBd0M7TUFBckMsR0FBRyxTO01BQUUsSUFBSSxVO01BQUUsTUFBTSxZO01BQUUsUUFBUSxjO01BQUUsTUFBTSxZO0FBRXhELE1BQUksU0FBUyxHQUFNLE1BQU0sR0FBRyxDQUFULEdBQVUsR0FBVixHQUFjLFFBQWpDO0FBRUEsTUFBSSxRQUFRLEdBQUcsZUFBTyxNQUFNLENBQUMsTUFBUCxDQUFjO0FBQ2hDLE9BQUcsRUFBRSxHQUFHLEdBQUcsSUFEcUI7QUFFaEMsUUFBSSxFQUFFLElBQUksR0FBRyxJQUZtQjtBQUdoQyxZQUFRLEVBQUMsT0FIdUI7QUFJaEMsVUFBTSxFQUFDLENBSnlCO0FBS2hDLG1CQUFlLEVBQUMsT0FMZ0I7QUFNaEMsVUFBTSxFQUFFLGdCQU53QjtBQU9oQyxnQkFBWSxFQUFDLE1BUG1CO0FBUWhDLFlBQVEsRUFBQyxTQVJ1QjtBQVNoQyxXQUFPLEVBQUM7QUFUd0IsR0FBZCxFQVVHLE1BQU0sU0FBTixVQUFNLFdBQU4sR0FBTSxNQUFOLFNBQU0sQ0FBRSxhQVZYLENBQVAsQ0FBZjtBQVlBLFNBQU87QUFBQSxpQkFBaUIsZUFBakI7QUFBaUMsU0FBSyxFQUFJLFFBQVEsQ0FBQztBQUFuRCxLQUE4RCxTQUE5RCxDQUFQO0FBQ0gsQ0FqQkQ7O0FBbUJBLHFCQUFlLGFBQWYiLCJmaWxlIjoiLi9zcmMvc2Nyb2xsdHJhY2tlci50c3guanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzY3JvbGx0cmFja2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZn0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFNjcm9sbFRyYWNrZXIgPSAoeyB0b3AsIGxlZnQsIG9mZnNldCwgbGlzdHNpemUsIHN0eWxlcyB9KSA9PiB7XG5cbiAgICBsZXQgdHJhY2tkYXRhID0gYCR7b2Zmc2V0ICsgMX0vJHtsaXN0c2l6ZX1gXG5cbiAgICBsZXQgc3R5bGVSZWYgPSB1c2VSZWYoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHRvcDogdG9wICsgJ3B4JyxcbiAgICAgICAgbGVmdDogbGVmdCArICdweCcsXG4gICAgICAgIHBvc2l0aW9uOidmaXhlZCcsXG4gICAgICAgIHpJbmRleDozLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJyxcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGdyYXknLFxuICAgICAgICBib3JkZXJSYWRpdXM6JzEwcHgnLFxuICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgIHBhZGRpbmc6JzNweCdcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsc3R5bGVzPy5zY3JvbGx0cmFja2VyKSlcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtbmFtZSA9ICdzY3JvbGx0cmFja2VyJyBzdHlsZSA9IHtzdHlsZVJlZi5jdXJyZW50fSA+e3RyYWNrZGF0YX08L2Rpdj5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsVHJhY2tlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scrolltracker.tsx\n");

/***/ }),

/***/ "./src/viewport.tsx":
/*!**************************!*\
  !*** ./src/viewport.tsx ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" // viewport.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewportContext = void 0;\n/*\n    The role of viewport is to provide data to its children (scrollblock and cradle),\n    and act as the visible portal of the list being shown\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nexports.ViewportContext = react_1[\"default\"].createContext(null);\n\nvar react_is_mounted_hook_1 = __importDefault(__webpack_require__(/*! react-is-mounted-hook */ \"./node_modules/react-is-mounted-hook/lib/index.js\")); // import ResizeObserverPolyfill from 'resize-observer-polyfill'\n\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar portalmanager_1 = __webpack_require__(/*! ./portalmanager */ \"./src/portalmanager.tsx\");\n\nvar LocalResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver; // control constant\n\nvar RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE = 250;\n\nvar Viewport = function Viewport(_a) {\n  // -----------------------[ initialize ]------------------\n  var children = _a.children,\n      orientation = _a.orientation,\n      cellWidth = _a.cellWidth,\n      cellHeight = _a.cellHeight,\n      gap = _a.gap,\n      padding = _a.padding,\n      functions = _a.functions,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID; // processing state\n\n  var contentmanager = react_1.useContext(portalmanager_1.PortalContext);\n\n  var _b = react_1.useState('prepare'),\n      portstate = _b[0],\n      setPortState = _b[1];\n\n  var portstateRef = react_1.useRef(null);\n  portstateRef.current = portstate;\n  var isMounted = react_is_mounted_hook_1[\"default\"](); // data heap\n\n  var timeoutidRef = react_1.useRef(null);\n  var viewportdivRef = react_1.useRef(undefined);\n  var divlinerstyleRef = react_1.useRef(Object.assign({\n    position: 'absolute',\n    // height:'100%',\n    // width:'100%',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    overflow: 'auto',\n    // WebkitOverflowScrolling:'touch',\n    backgroundColor: 'red'\n  }, styles === null || styles === void 0 ? void 0 : styles.viewport));\n  var resizeTimeridRef = react_1.useRef(null);\n  var isResizingRef = react_1.useRef(false);\n  var viewportDataRef = react_1.useRef(null);\n  var resizeObserverRef = react_1.useRef(null);\n  var portalRef = react_1.useRef(null); // initialize\n\n  react_1.useEffect(function () {\n    resizeObserverRef.current = new LocalResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportdivRef.current);\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []);\n  react_1.useEffect(function () {\n    if (scrollerID == 0 || !viewportdivRef.current) return;\n    var parentscrollerid;\n    var parentindex;\n    var el = viewportdivRef.current;\n\n    while (el) {\n      // console.log('dataset',el.dataset, el)\n      if (el.dataset && el.dataset.type == 'portalcontainer') {\n        parentindex = parseInt(el.dataset.index);\n        parentscrollerid = parseInt(el.dataset.scrollerid);\n        break;\n      } else {\n        el = el.parentElement;\n      }\n    }\n\n    if (!el) {\n      console.log('ERROR: parent portalcontainer not found');\n      return;\n    }\n\n    portalRef.current = contentmanager.getPortalListItem(parentscrollerid, parentindex); // console.log('viewport of scrollerID has parentscrollerid and parentindex for portal', \n    //     scrollerID, parentscrollerid, parentindex,portalRef.current)\n    // portalIndexRef.current = el.dataset.index\n  }, [viewportdivRef.current]);\n  var resizeCallback = react_1.useCallback(function (entries) {\n    if (portstateRef.current == 'prepare') return; // console.log('checking portal reparenting',portalRef.current)\n\n    if (portalRef.current && portalRef.current.reparenting) {\n      // console.log('returning from viewport resizeCallback')\n      return;\n    }\n\n    var target = entries[0].target;\n\n    if (!target.dataset.initialized) {\n      target.dataset.initialized = true;\n      return;\n    }\n\n    if (!isResizingRef.current) {\n      isResizingRef.current = true; // below is a realtime message to cradle.onScroll\n      // to stop updating the referenceIndexData, and to the item observer to stop\n      // triggering responses (anticipating reset of cradle content based on resize)\n\n      viewportDataRef.current.isResizing = true; // isMounted = useIsMounted()\n\n      if (isMounted()) setPortState('resizing');\n    }\n\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false; // isMounted = useIsMounted()\n\n      if (isMounted()) setPortState('resize');\n    }, RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE);\n  }, []); // ----------------------------------[ calculate ]--------------------------------\n  // calculated values\n\n  divlinerstyleRef.current = react_1.useMemo(function () {\n    var mincrosslength = calcMinViewportCrossLength(orientation, cellWidth, cellHeight, padding);\n\n    var styles = __assign({}, divlinerstyleRef.current);\n\n    if (orientation == 'vertical') {\n      styles.minWidth = mincrosslength + 'px';\n      styles.minHeight = 'auto';\n    } else {\n      styles.minWidth = 'auto';\n      styles.minHeight = mincrosslength + 'px';\n    }\n\n    return styles;\n  }, [orientation, cellWidth, cellHeight, padding]); // TODO: gap?\n\n  var viewportClientRect;\n\n  if (viewportdivRef.current) {\n    viewportClientRect = viewportdivRef.current.getBoundingClientRect();\n  } else {\n    viewportClientRect = {};\n  }\n\n  var top = viewportClientRect.top,\n      right = viewportClientRect.right,\n      bottom = viewportClientRect.bottom,\n      left = viewportClientRect.left; // set context data for children\n\n  viewportDataRef.current = react_1.useMemo(function () {\n    var width, height, localViewportData;\n\n    if (!(top === undefined)) {\n      //proxy\n      width = right - left;\n      height = bottom - top;\n      localViewportData = {\n        viewportDimensions: {\n          top: top,\n          right: right,\n          bottom: bottom,\n          left: left,\n          width: width,\n          height: height\n        },\n        elementref: viewportdivRef,\n        isResizing: isResizingRef.current\n      };\n    }\n\n    return localViewportData;\n  }, [orientation, top, right, bottom, left, isResizingRef.current]); // --------------------[ state processing ]---------------------------\n\n  react_1.useEffect(function () {\n    switch (portstate) {\n      case 'prepare':\n      case 'resize':\n        {\n          setPortState('render');\n          break;\n        }\n    }\n  }, [portstate]); // ----------------------[ render ]--------------------------------\n  // console.log('scrollerID, viewportDataRef.current',scrollerID, viewportDataRef.current)\n\n  return react_1[\"default\"].createElement(exports.ViewportContext.Provider, {\n    value: viewportDataRef.current\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'viewport',\n    \"data-masterscrollerid\": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportdivRef\n  }, portstate != 'prepare' ? children : null));\n}; // Viewport\n// establish minimum width/height for the viewport -- approximately one item\n\n\nvar calcMinViewportCrossLength = function calcMinViewportCrossLength(orientation, cellWidth, cellHeight, padding) {\n  var crosslength, cellLength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellWidth;\n  } else {\n    cellLength = cellHeight;\n  }\n\n  crosslength = cellLength + padding * 2;\n  return crosslength;\n};\n\nexports[\"default\"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci8uL3NyYy92aWV3cG9ydC50c3g/MGRlMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7QUFHRTs7QUFFRjs7QUFFYSwwQkFBa0IsbUJBQU0sYUFBTixDQUFvQixJQUFwQixDQUFsQjs7QUFFYixxSixDQUVBOzs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxnQkFBRCxDQUFOLElBQTRCLGdDQUF4RCxDLENBRUE7O0FBQ0EsSUFBTSxpQ0FBaUMsR0FBRyxHQUExQzs7QUFFQSxJQUFNLFFBQVEsR0FBRyxTQUFYLFFBQVcsQ0FBQyxFQUFELEVBVWhCO0FBRUc7TUFYQSxRQUFRLGM7TUFDUixXQUFXLGlCO01BQ1gsU0FBUyxlO01BQ1QsVUFBVSxnQjtNQUNWLEdBQUcsUztNQUNILE9BQU8sYTtNQUNQLFNBQVMsZTtNQUNULE1BQU0sWTtNQUNOLFVBQVUsZ0IsQ0FDYixDQUlHOztBQUNBLE1BQU0sY0FBYyxHQUFHLG1CQUFXLDZCQUFYLENBQXZCOztBQUNNLFdBQTJCLGlCQUFTLFNBQVQsQ0FBM0I7QUFBQSxNQUFDLFNBQVMsUUFBVjtBQUFBLE1BQVcsWUFBWSxRQUF2Qjs7QUFDTixNQUFNLFlBQVksR0FBRyxlQUFPLElBQVAsQ0FBckI7QUFDQSxjQUFZLENBQUMsT0FBYixHQUF1QixTQUF2QjtBQUNBLE1BQUksU0FBUyxHQUFHLG9DQUFoQixDQVRILENBVUc7O0FBQ0EsTUFBTSxZQUFZLEdBQUcsZUFBTyxJQUFQLENBQXJCO0FBQ0EsTUFBTSxjQUFjLEdBQUcsZUFBTyxTQUFQLENBQXZCO0FBQ0EsTUFBTSxnQkFBZ0IsR0FBRyxlQUNyQixNQUFNLENBQUMsTUFBUCxDQUFjO0FBQ2QsWUFBUSxFQUFDLFVBREs7QUFFZDtBQUNBO0FBQ0EsT0FBRyxFQUFDLENB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QUpYLEtBTU8sU0FBUyxJQUFJLFNBQWQsR0FBeUIsUUFBekIsR0FBa0MsSUFOeEMsQ0FERyxDQUFQO0FBV0gsQ0E3TEQsQyxDQTZMRTtBQUVGOzs7QUFDQSxJQUFNLDBCQUEwQixHQUFHLFNBQTdCLDBCQUE2QixDQUFDLFdBQUQsRUFBYyxTQUFkLEVBQXlCLFVBQXpCLEVBQXFDLE9BQXJDLEVBQTRDO0FBQzNFLE1BQUksV0FBSixFQUFpQixVQUFqQjs7QUFDQSxNQUFJLFdBQVcsSUFBSSxVQUFuQixFQUErQjtBQUMzQixjQUFVLEdBQUcsU0FBYjtBQUNILEdBRkQsTUFFTztBQUNILGNBQVUsR0FBRyxVQUFiO0FBQ0g7O0FBQ0QsYUFBVyxHQUFHLFVBQVUsR0FBSSxPQUFPLEdBQUcsQ0FBdEM7QUFDQSxTQUFPLFdBQVA7QUFDSCxDQVREOztBQVdBLHFCQUFlLFFBQWYiLCJmaWxlIjoiLi9zcmMvdmlld3BvcnQudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gdmlld3BvcnQudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiB2aWV3cG9ydCBpcyB0byBwcm92aWRlIGRhdGEgdG8gaXRzIGNoaWxkcmVuIChzY3JvbGxibG9jayBhbmQgY3JhZGxlKSwgXG4gICAgYW5kIGFjdCBhcyB0aGUgdmlzaWJsZSBwb3J0YWwgb2YgdGhlIGxpc3QgYmVpbmcgc2hvd25cbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHR9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgVmlld3BvcnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKVxuXG5pbXBvcnQgdXNlSXNNb3VudGVkIGZyb20gJ3JlYWN0LWlzLW1vdW50ZWQtaG9vaydcblxuLy8gaW1wb3J0IFJlc2l6ZU9ic2VydmVyUG9seWZpbGwgZnJvbSAncmVzaXplLW9ic2VydmVyLXBvbHlmaWxsJ1xuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciB9IGZyb20gJ0BqdWdnbGUvcmVzaXplLW9ic2VydmVyJ1xuXG5pbXBvcnQgeyBQb3J0YWxDb250ZXh0IH0gZnJvbSAnLi9wb3J0YWxtYW5hZ2VyJ1xuXG5jb25zdCBMb2NhbFJlc2l6ZU9ic2VydmVyID0gd2luZG93WydSZXNpemVPYnNlcnZlciddIHx8IFJlc2l6ZU9ic2VydmVyXG5cbi8vIGNvbnRyb2wgY29uc3RhbnRcbmNvbnN0IFJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRSA9IDI1MFxuXG5jb25zdCBWaWV3cG9ydCA9ICh7XG4gICAgY2hpbGRyZW4sIFxuICAgIG9yaWVudGF0aW9uLCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGdhcCwgXG4gICAgcGFkZGluZywgXG4gICAgZnVuY3Rpb25zLCBcbiAgICBzdHlsZXMsXG4gICAgc2Nyb2xsZXJJRCxcbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBjb25zdCBjb250ZW50bWFuYWdlciA9IHVzZUNvbnRleHQoUG9ydGFsQ29udGV4dClcbiAgICBjb25zdCBbcG9ydHN0YXRlLHNldFBvcnRTdGF0ZV0gPSB1c2VTdGF0ZSgncHJlcGFyZScpXG4gICAgY29uc3QgcG9ydHN0YXRlUmVmID0gdXNlUmVmKG51bGwpXG4gICAgcG9ydHN0YXRlUmVmLmN1cnJlbnQgPSBwb3J0c3RhdGVcbiAgICBsZXQgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKClcbiAgICAvLyBkYXRhIGhlYXBcbiAgICBjb25zdCB0aW1lb3V0aWRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCB2aWV3cG9ydGRpdlJlZiA9IHVzZVJlZih1bmRlZmluZWQpXG4gICAgY29uc3QgZGl2bGluZXJzdHlsZVJlZiA9IHVzZVJlZihcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgIC8vIGhlaWdodDonMTAwJScsXG4gICAgICAgIC8vIHdpZHRoOicxMDAlJyxcbiAgICAgICAgdG9wOjAsXG4gICAgICAgIHJpZ2h0OjAsXG4gICAgICAgIGJvdHRvbTowLFxuICAgICAgICBsZWZ0OjAsXG4gICAgICAgIG92ZXJmbG93OidhdXRvJyxcbiAgICAgICAgLy8gV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6J3RvdWNoJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOidyZWQnLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcyxzdHlsZXM/LnZpZXdwb3J0KSlcbiAgICBjb25zdCByZXNpemVUaW1lcmlkUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgaXNSZXNpemluZ1JlZiA9IHVzZVJlZihmYWxzZSlcbiAgICBjb25zdCB2aWV3cG9ydERhdGFSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgcG9ydGFsUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBMb2NhbFJlc2l6ZU9ic2VydmVyKHJlc2l6ZUNhbGxiYWNrKVxuICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50Lm9ic2VydmUodmlld3BvcnRkaXZSZWYuY3VycmVudClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoc2Nyb2xsZXJJRCA9PSAwIHx8ICF2aWV3cG9ydGRpdlJlZi5jdXJyZW50KSByZXR1cm5cbiAgICAgICAgbGV0IHBhcmVudHNjcm9sbGVyaWRcbiAgICAgICAgbGV0IHBhcmVudGluZGV4XG4gICAgICAgIGxldCBlbCA9IHZpZXdwb3J0ZGl2UmVmLmN1cnJlbnRcbiAgICAgICAgd2hpbGUgKGVsKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YXNldCcsZWwuZGF0YXNldCwgZWwpXG4gICAgICAgICAgICBpZiAoZWwuZGF0YXNldCAmJiAoZWwuZGF0YXNldC50eXBlID09ICdwb3J0YWxjb250YWluZXInKSkge1xuICAgICAgICAgICAgICAgIHBhcmVudGluZGV4ID0gcGFyc2VJbnQoZWwuZGF0YXNldC5pbmRleClcbiAgICAgICAgICAgICAgICBwYXJlbnRzY3JvbGxlcmlkID0gcGFyc2VJbnQoZWwuZGF0YXNldC5zY3JvbGxlcmlkKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuXG4gICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUjogcGFyZW50IHBvcnRhbGNvbnRhaW5lciBub3QgZm91bmQnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgcG9ydGFsUmVmLmN1cnJlbnQgPSBjb250ZW50bWFuYWdlci5nZXRQb3J0YWxMaXN0SXRlbShwYXJlbnRzY3JvbGxlcmlkLCBwYXJlbnRpbmRleClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3ZpZXdwb3J0IG9mIHNjcm9sbGVySUQgaGFzIHBhcmVudHNjcm9sbGVyaWQgYW5kIHBhcmVudGluZGV4IGZvciBwb3J0YWwnLCBcbiAgICAgICAgLy8gICAgIHNjcm9sbGVySUQsIHBhcmVudHNjcm9sbGVyaWQsIHBhcmVudGluZGV4LHBvcnRhbFJlZi5jdXJyZW50KVxuICAgICAgICAvLyBwb3J0YWxJbmRleFJlZi5jdXJyZW50ID0gZWwuZGF0YXNldC5pbmRleFxuXG4gICAgfSxbdmlld3BvcnRkaXZSZWYuY3VycmVudF0pXG5cbiAgICBjb25zdCByZXNpemVDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlbnRyaWVzKT0+e1xuXG4gICAgICAgIGlmIChwb3J0c3RhdGVSZWYuY3VycmVudCA9PSAncHJlcGFyZScpIHJldHVyblxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZyBwb3J0YWwgcmVwYXJlbnRpbmcnLHBvcnRhbFJlZi5jdXJyZW50KVxuICAgICAgICBpZiAocG9ydGFsUmVmLmN1cnJlbnQgJiYgcG9ydGFsUmVmLmN1cnJlbnQucmVwYXJlbnRpbmcpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgZnJvbSB2aWV3cG9ydCByZXNpemVDYWxsYmFjaycpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YXJnZXQgPSBlbnRyaWVzWzBdLnRhcmdldFxuXG4gICAgICAgIGlmICghdGFyZ2V0LmRhdGFzZXQuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzUmVzaXppbmdSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gdHJ1ZSBcbiAgICAgICAgICAgICAgICAvLyBiZWxvdyBpcyBhIHJlYWx0aW1lIG1lc3NhZ2UgdG8gY3JhZGxlLm9uU2Nyb2xsXG4gICAgICAgICAgICAgICAgLy8gdG8gc3RvcCB1cGRhdGluZyB0aGUgcmVmZXJlbmNlSW5kZXhEYXRhLCBhbmQgdG8gdGhlIGl0ZW0gb2JzZXJ2ZXIgdG8gc3RvcFxuICAgICAgICAgICAgICAgIC8vIHRyaWdnZXJpbmcgcmVzcG9uc2VzIChhbnRpY2lwYXRpbmcgcmVzZXQgb2YgY3JhZGxlIGNvbnRlbnQgYmFzZWQgb24gcmVzaXplKVxuICAgICAgICAgICAgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IHRydWVcbiAgICAgICAgICAgIC8vIGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpXG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkKCkpIHNldFBvcnRTdGF0ZSgncmVzaXppbmcnKVxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudClcbiAgICAgICAgcmVzaXplVGltZXJpZFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzUmVzaXppbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICAvLyBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKVxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZCgpKSBzZXRQb3J0U3RhdGUoJ3Jlc2l6ZScpXG5cbiAgICAgICAgfSxSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkUpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gY2FsY3VsYXRlZCB2YWx1ZXNcbiAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgbGV0IG1pbmNyb3NzbGVuZ3RoID0gY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGgob3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgcGFkZGluZylcbiAgICAgICAgbGV0IHN0eWxlcyA9IHsuLi5kaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnR9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHN0eWxlcy5taW5XaWR0aCA9IG1pbmNyb3NzbGVuZ3RoICsgJ3B4J1xuICAgICAgICAgICAgc3R5bGVzLm1pbkhlaWdodCA9ICdhdXRvJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3R5bGVzLm1pbldpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICBzdHlsZXMubWluSGVpZ2h0ID0gbWluY3Jvc3NsZW5ndGggKyAncHgnXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGVzXG5cbiAgICB9LFtvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBwYWRkaW5nXSkgLy8gVE9ETzogZ2FwP1xuXG4gICAgbGV0IHZpZXdwb3J0Q2xpZW50UmVjdFxuICAgIGlmICh2aWV3cG9ydGRpdlJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZpZXdwb3J0Q2xpZW50UmVjdCA9IHZpZXdwb3J0ZGl2UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB9IGVsc2Uge1xuICAgICAgICB2aWV3cG9ydENsaWVudFJlY3QgPSB7fVxuICAgIH1cbiAgICBsZXQge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdH0gPSB2aWV3cG9ydENsaWVudFJlY3RcblxuICAgIC8vIHNldCBjb250ZXh0IGRhdGEgZm9yIGNoaWxkcmVuXG4gICAgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgbGV0IHdpZHRoLCBoZWlnaHQsIGxvY2FsVmlld3BvcnREYXRhXG4gICAgICAgIGlmICghKHRvcCA9PT0gdW5kZWZpbmVkKSkgeyAvL3Byb3h5XG4gICAgICAgICAgICB3aWR0aCA9IChyaWdodCAtIGxlZnQpXG4gICAgICAgICAgICBoZWlnaHQgPSAoYm90dG9tIC0gdG9wKVxuICAgICAgICAgICAgbG9jYWxWaWV3cG9ydERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOnt0b3AscmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICAgICAgZWxlbWVudHJlZjp2aWV3cG9ydGRpdlJlZixcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nOmlzUmVzaXppbmdSZWYuY3VycmVudCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxWaWV3cG9ydERhdGFcblxuICAgIH0sW29yaWVudGF0aW9uLCB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIGlzUmVzaXppbmdSZWYuY3VycmVudF0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgc3RhdGUgcHJvY2Vzc2luZyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHN3aXRjaCAocG9ydHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdwcmVwYXJlJzpcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZSc6IHtcbiAgICAgICAgICAgICAgICBzZXRQb3J0U3RhdGUoJ3JlbmRlcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sW3BvcnRzdGF0ZV0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZW5kZXIgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbGVySUQsIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50JyxzY3JvbGxlcklELCB2aWV3cG9ydERhdGFSZWYuY3VycmVudClcbiAgICByZXR1cm4gPFZpZXdwb3J0Q29udGV4dC5Qcm92aWRlciB2YWx1ZSA9IHsgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQgfT5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd2aWV3cG9ydCdcbiAgICAgICAgICAgIGRhdGEtbWFzdGVyc2Nyb2xsZXJpZCA9IHtzY3JvbGxlcklEfVxuICAgICAgICAgICAgc3R5bGUgPSB7ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fVxuICAgICAgICAgICAgcmVmID0ge3ZpZXdwb3J0ZGl2UmVmfVxuICAgICAgICA+XG4gICAgICAgICAgICB7IChwb3J0c3RhdGUgIT0gJ3ByZXBhcmUnKT9jaGlsZHJlbjpudWxsIH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9WaWV3cG9ydENvbnRleHQuUHJvdmlkZXI+XG4gICAgXG59IC8vIFZpZXdwb3J0XG5cbi8vIGVzdGFibGlzaCBtaW5pbXVtIHdpZHRoL2hlaWdodCBmb3IgdGhlIHZpZXdwb3J0IC0tIGFwcHJveGltYXRlbHkgb25lIGl0ZW1cbmNvbnN0IGNhbGNNaW5WaWV3cG9ydENyb3NzTGVuZ3RoID0gKG9yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIHBhZGRpbmcpID0+IHtcbiAgICBsZXQgY3Jvc3NsZW5ndGgsIGNlbGxMZW5ndGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHRcbiAgICB9XG4gICAgY3Jvc3NsZW5ndGggPSBjZWxsTGVuZ3RoICsgKHBhZGRpbmcgKiAyKVxuICAgIHJldHVybiBjcm9zc2xlbmd0aFxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3cG9ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/viewport.tsx\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci9leHRlcm5hbCBcInJlYWN0XCI/NTg4ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJyZWFjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///react\n");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TY3JvbGxlci9leHRlcm5hbCBcInJlYWN0LWRvbVwiPzVlOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVhY3QtZG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X2RvbV9fOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///react-dom\n");

/***/ })

/******/ });
});