/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["react-infinite-grid-scroller"] = factory(require("react"), require("react-dom"));
	else
		root["react-infinite-grid-scroller"] = factory(root["react"], root["react-dom"]);
})(self, (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOMRectReadOnly\": () => (/* binding */ DOMRectReadOnly)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzP2ZkZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObservation\": () => (/* binding */ ResizeObservation)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isSVG)(target)\n        && !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isReplacedElement)(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__.calculateBoxSize)(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0U7QUFDTDtBQUNOO0FBQzNEO0FBQ0EsWUFBWSxxREFBSztBQUNqQixZQUFZLGlFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJGQUFvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUM0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzPzQ0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* binding */ ResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRTtBQUMxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RkFBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsdUZBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlEQUFTO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLHlGQUFrQztBQUMxQztBQUNBO0FBQ0EsUUFBUSwwRkFBbUM7QUFDM0M7QUFDQTtBQUNBLDZDQUE2QyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBLENBQUM7QUFDeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcz9kMDIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverBoxOptions\": () => (/* binding */ ResizeObserverBoxOptions)\n/* harmony export */ });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzP2U1NTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverController\": () => (/* binding */ ResizeObserverController)\n/* harmony export */ });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__.ResizeObservation(target, options && options.box));\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNIO0FBQ007QUFDSjtBQUMxRDtBQUNBO0FBQ0Esb0JBQW9CLCtCQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1RUFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFvQjtBQUNwRCwrQ0FBK0MsaUVBQWlCO0FBQ2hFLFlBQVksNkRBQVc7QUFDdkIsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQXNCLENBQUMsMkVBQXVCO0FBQzdFO0FBQ0EsWUFBWSw2REFBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9EQUFvRDtBQUN0SDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzP2YzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverDetail\": () => (/* binding */ ResizeObserverDetail)\n/* harmony export */ });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanM/NzgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverEntry\": () => (/* binding */ ResizeObserverEntry)\n/* harmony export */ });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__.calculateBoxSizes)(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.borderBoxSize]);\n        this.contentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQzFCO0FBQ3hDO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQWlCO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkIscURBQU07QUFDbkMsOEJBQThCLHFEQUFNO0FBQ3BDLHlDQUF5QyxxREFBTTtBQUMvQztBQUNBO0FBQ0EsQ0FBQztBQUM4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanM/NDFlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverSize\": () => (/* binding */ ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQU07QUFDZDtBQUNBO0FBQ0EsQ0FBQztBQUM2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcz9jNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcastActiveObservations\": () => (/* binding */ broadcastActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry(ot.target);\n            var targetDepth = (0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__.calculateDepthForNode)(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = (0,_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__.calculateBoxSize)(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDRztBQUNWO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQW1CO0FBQy9DLDhCQUE4Qiw2RUFBcUI7QUFDbkQ7QUFDQSxrQ0FBa0MsbUVBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhDQUE4Qyx5QkFBeUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzP2NhYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateBoxSize\": () => (/* binding */ calculateBoxSize),\n/* harmony export */   \"calculateBoxSizes\": () => (/* binding */ calculateBoxSizes)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isHidden)(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = (0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isSVG)(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RTtBQUNaO0FBQ047QUFDRjtBQUNWO0FBQ0E7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFnQixJQUFJLHFFQUEwQjtBQUM5RSx3Q0FBd0M7QUFDeEM7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxlQUFlLG1FQUFrQjtBQUNqQztBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWU7QUFDcEMsQ0FBQztBQUNEO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0dBQWlEO0FBQzlEO0FBQ0EsYUFBYSwwRkFBbUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcz8xMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateDepthForNode\": () => (/* binding */ calculateDepthForNode)\n/* harmony export */ });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_0__.isHidden)(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQzVDO0FBQ0EsUUFBUSx3REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzP2M5MzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deliverResizeLoopError\": () => (/* binding */ deliverResizeLoopError)\n/* harmony export */ });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanM/YzJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gatherActiveObservationsAtDepth\": () => (/* binding */ gatherActiveObservationsAtDepth)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if ((0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__.calculateDepthForNode)(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDSztBQUNoRTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQzJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzPzQ1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasActiveObservations\": () => (/* binding */ hasActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyx3RUFBb0IsaUJBQWlCLHFDQUFxQztBQUNyRjtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzP2RkYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasSkippedObservations\": () => (/* binding */ hasSkippedObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUMzRDtBQUNBLFdBQVcsd0VBQW9CLGlCQUFpQixzQ0FBc0M7QUFDdEY7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanM/YzEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* reexport safe */ _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__.ResizeObserver),\n/* harmony export */   \"ResizeObserverEntry\": () => (/* reexport safe */ _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry),\n/* harmony export */   \"ResizeObserverSize\": () => (/* reexport safe */ _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUNVO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9leHBvcnRzL3Jlc2l6ZS1vYnNlcnZlci5qcz8xZDFmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXInO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isElement\": () => (/* binding */ isElement),\n/* harmony export */   \"isHidden\": () => (/* binding */ isHidden),\n/* harmony export */   \"isReplacedElement\": () => (/* binding */ isReplacedElement),\n/* harmony export */   \"isSVG\": () => (/* binding */ isSVG)\n/* harmony export */ });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzPzNjZDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/element.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"freeze\": () => (/* binding */ freeze)\n/* harmony export */ });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzP2ZjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"global\": () => (/* binding */ global)\n/* harmony export */ });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/global.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"process\": () => (/* binding */ process)\n/* harmony export */ });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    while ((0,_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__.hasActiveObservations)()) {\n        depth = (0,_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__.broadcastActiveObservations)();\n        (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    }\n    if ((0,_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__.hasSkippedObservations)()) {\n        (0,_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__.deliverResizeLoopError)();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFO0FBQ0U7QUFDQTtBQUNVO0FBQ1E7QUFDaEc7QUFDQTtBQUNBLElBQUksNEdBQStCO0FBQ25DLFdBQVcsd0ZBQXFCO0FBQ2hDLGdCQUFnQixvR0FBMkI7QUFDM0MsUUFBUSw0R0FBK0I7QUFDdkM7QUFDQSxRQUFRLDBGQUFzQjtBQUM5QixRQUFRLDBGQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzP2Q0YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yJztcbmltcG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfSBmcm9tICcuLi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgnO1xudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB3aGlsZSAoaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVwdGggPSBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMoKTtcbiAgICAgICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgfVxuICAgIGlmIChoYXNTa2lwcGVkT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVsaXZlclJlc2l6ZUxvb3BFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGggPiAwO1xufTtcbmV4cG9ydCB7IHByb2Nlc3MgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/process.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueMicroTask\": () => (/* binding */ queueMicroTask)\n/* harmony export */ });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFtRCxjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDJDQUEyQyxrQkFBa0I7QUFDN0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanM/YTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueResizeObserver\": () => (/* binding */ queueResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    (0,_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__.queueMicroTask)(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7QUFDbEQ7QUFDQSxJQUFJLCtEQUFjO0FBQ2xCO0FBQ0EsS0FBSztBQUNMO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcz9hMzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resizeObservers\": () => (/* binding */ resizeObservers)\n/* harmony export */ });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanM/YThlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"scheduler\": () => (/* binding */ scheduler),\n/* harmony export */   \"updateCount\": () => (/* binding */ updateCount)\n/* harmony export */ });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        (0,_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__.queueResizeObserver)(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = (0,_process__WEBPACK_IMPORTED_MODULE_0__.process)();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUNGO0FBQzBCO0FBQzVEO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFtQjtBQUMzQjtBQUNBO0FBQ0Esc0NBQXNDLGlEQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsK0JBQStCLDREQUF1QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLDREQUF1QiwrQkFBK0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sK0RBQTBCLCtCQUErQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanM/YjAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n");

/***/ }),

/***/ "./src/cellframe.tsx":
/*!***************************!*\
  !*** ./src/cellframe.tsx ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cellframe.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ \"./node_modules/requestidlecallback/index.js\");\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar placeholder_1 = __importDefault(__webpack_require__(/*! ./placeholder */ \"./src/placeholder.tsx\"));\n\nvar cradle_1 = __webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\");\n\nvar IDLECALLBACK_FETCHTIMEOUT = 4000; // TODO make cofigurable\n\nvar CellFrame = function CellFrame(_a) {\n  var orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      index = _a.index,\n      getItem = _a.getItem,\n      listsize = _a.listsize,\n      placeholder = _a.placeholder,\n      instanceID = _a.instanceID,\n      scrollerID = _a.scrollerID,\n      updatedCacheItemID = _a.updatedCacheItemID;\n  var cradleContext = (0, react_1.useContext)(cradle_1.CradleContext);\n  var cacheHandler = cradleContext.cacheHandler,\n      cradlePassthroughPropertiesRef = cradleContext.cradlePassthroughPropertiesRef;\n\n  var _b = (0, react_1.useState)({\n    overflow: 'hidden'\n  }),\n      styles = _b[0],\n      saveStyles = _b[1];\n\n  var _c = (0, react_1.useState)('setup'),\n      frameStatus = _c[0],\n      setFrameStatus = _c[1];\n\n  var frameStatusRef = (0, react_1.useRef)(null);\n  frameStatusRef.current = frameStatus;\n  var frameRef = (0, react_1.useRef)(null);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var portalDataRef = (0, react_1.useRef)(null);\n  var placeholderRef = (0, react_1.useRef)(null); // for unmount\n\n  (0, react_1.useEffect)(function () {\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (frameStatusRef.current == 'setup') return;\n    setFrameStatus('getusercontent');\n  }, [updatedCacheItemID]); // ----------------- [ placeholder definition ] -------------------------\n\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    return placeholder ? react_1[\"default\"].createElement(placeholder, {\n      index: index,\n      listsize: listsize\n    }) : null;\n  }, [index, placeholder, listsize]);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    var placeholder = customplaceholder ? customplaceholder : react_1[\"default\"].createElement(placeholder_1[\"default\"], {\n      index: index,\n      listsize: listsize,\n      error: false\n    });\n    return placeholder;\n  }, [index, customplaceholder, listsize]); // ---------------- [ requestidlecallback config ] ------------------------\n\n  var requestidlecallback = window['requestIdleCallback'] ? window['requestIdleCallback'] : requestidlecallback_1.requestIdleCallback;\n  var cancelidlecallback = window['cancelIdleCallback'] ? window['cancelIdleCallback'] : requestidlecallback_1.cancelIdleCallback;\n  var requestIdleCallbackIdRef = (0, react_1.useRef)(null); // initialize cell content\n\n  (0, react_1.useEffect)(function () {\n    // console.log('creating cellFrame','-'+scrollerID+'-',instanceID  )\n    setFrameStatus('getusercontent'); // unmount\n\n    return function () {\n      cacheHandler.removeRequestedPortal(index);\n      cancelidlecallback(requestIdleCallbackIdRef.current);\n    };\n  }, []); // cradle invariant ondemand callback parameter value\n\n  var getElementData = (0, react_1.useCallback)(function () {\n    return [index, frameRef];\n  }, []); // set styles\n\n  (0, react_1.useEffect)(function () {\n    var newStyles = getFrameStyles(orientation, cellHeight, cellWidth, styles);\n\n    if (isMountedRef.current) {\n      saveStyles(newStyles);\n    }\n  }, [orientation, cellHeight, cellWidth]);\n  var portalNodeRef = (0, react_1.useRef)(null);\n  var isReparentingRef = (0, react_1.useRef)(false);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (frameStatus) {\n      case 'setup':\n        // no-op\n        break;\n\n      case 'inserting':\n        {\n          setFrameStatus('ready');\n          break;\n        }\n\n      case 'getusercontent':\n        {\n          var cacheItemID_1 = cacheHandler.getCacheItemID(index);\n          var cached = cacheHandler.hasPortal(cacheItemID_1);\n\n          if (cached) {\n            portalDataRef.current = cacheHandler.getPortal(cacheItemID_1); // portalDataRef.current = cacheHandler.getPortal(index)\n\n            portalNodeRef.current = portalDataRef.current.portalNode;\n            portalDataRef.current.isReparentingRef.current = true;\n            setFrameStatus('inserting');\n          } else {\n            setFrameStatus('waiting');\n            cacheHandler.registerRequestedPortal(index); // TODO review implementation of async here\n\n            requestIdleCallbackIdRef.current = requestidlecallback(function () {\n              return __awaiter(void 0, void 0, void 0, function () {\n                var usercontent, content, scrollerData;\n                return __generator(this, function (_a) {\n                  switch (_a.label) {\n                    case 0:\n                      return [4\n                      /*yield*/\n                      , getItem(index, cacheItemID_1)];\n\n                    case 1:\n                      usercontent = _a.sent();\n\n                      if (isMountedRef.current) {\n                        if (usercontent) {\n                          content = void 0;\n                          scrollerData = {\n                            isReparentingRef: null,\n                            cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef\n                          };\n\n                          if (usercontent.props.hasOwnProperty('scrollerData')) {\n                            content = react_1[\"default\"].cloneElement(usercontent, {\n                              scrollerData: scrollerData\n                            });\n                          } else {\n                            content = usercontent;\n                          }\n\n                          portalDataRef.current = cacheHandler.createPortal(content, index, cacheItemID_1);\n                          portalNodeRef.current = portalDataRef.current.portalNode; // make available to user content\n\n                          scrollerData.isReparentingRef = portalDataRef.current.isReparentingRef;\n                        } else {\n                          console.log('ERROR', 'no content item');\n                        }\n                      } // console.log('loading portal item')\n\n\n                      setFrameStatus('inserting');\n                      return [2\n                      /*return*/\n                      ];\n                  }\n                });\n              });\n            }, {\n              timeout: IDLECALLBACK_FETCHTIMEOUT\n            });\n          }\n\n          break;\n        }\n\n      case 'waiting':\n        {\n          break;\n        }\n    }\n  }, [frameStatus]);\n  (0, react_1.useEffect)(function () {\n    switch (frameStatus) {\n      case 'ready':\n        {\n          // no-op\n          break;\n        }\n    }\n  }, [frameStatus]);\n  return react_1[\"default\"].createElement(\"div\", {\n    ref: frameRef,\n    \"data-type\": 'cellframe',\n    \"data-scrollerid\": scrollerID,\n    \"data-index\": index,\n    \"data-instanceid\": instanceID,\n    style: styles\n  }, frameStatus != 'ready' ? placeholderRef.current : react_1[\"default\"].createElement(react_reverse_portal_1.OutPortal, {\n    node: portalNodeRef.current\n  }));\n}; // CellFrame\n\n\nvar getFrameStyles = function getFrameStyles(orientation, cellHeight, cellWidth, styles) {\n  var styleset = Object.assign({\n    position: 'relative'\n  }, styles);\n\n  if (orientation == 'horizontal') {\n    styleset.width = cellWidth ? cellWidth + 'px' : 'auto';\n    styleset.height = 'auto';\n  } else if (orientation === 'vertical') {\n    styleset.width = 'auto';\n    styleset.height = cellHeight ? cellHeight + 'px' : 'auto';\n  }\n\n  return styleset;\n};\n\nexports[\"default\"] = CellFrame;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2VsbGZyYW1lLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNQSx5QkFBeUIsR0FBRyxJQUFsQyxDLENBQXVDOztBQUV2QyxJQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDQyxFQUFELEVBV2pCO01BVkdDLFdBQVc7TUFDWEMsVUFBVTtNQUNWQyxTQUFTO01BQ1RDLEtBQUs7TUFDTEMsT0FBTztNQUNQQyxRQUFRO01BQ1JDLFdBQVc7TUFDWEMsVUFBVTtNQUNWQyxVQUFVO01BQ1ZDLGtCQUFrQjtFQUdsQixJQUFNQyxhQUFhLEdBQUcsd0JBQVdDLHNCQUFYLENBQXRCO0VBRVEsZ0JBQVksR0FBcUNELGFBQWEsYUFBOUQ7RUFBQSxJQUFjRSw4QkFBOEIsR0FBS0YsYUFBYSwrQkFBOUQ7O0VBRUYsU0FBc0Isc0JBQVM7SUFDakNHLFFBQVEsRUFBQztFQUR3QixDQUFULENBQXRCO0VBQUEsSUFBQ0MsTUFBTSxRQUFQO0VBQUEsSUFBUUMsVUFBVSxRQUFsQjs7RUFJQSxTQUFnQyxzQkFBUyxPQUFULENBQWhDO0VBQUEsSUFBQ0MsV0FBVyxRQUFaO0VBQUEsSUFBY0MsY0FBYyxRQUE1Qjs7RUFDTixJQUFNQyxjQUFjLEdBQUcsb0JBQU8sSUFBUCxDQUF2QjtFQUNBQSxjQUFjLENBQUNDLE9BQWYsR0FBeUJILFdBQXpCO0VBRUEsSUFBTUksUUFBUSxHQUFHLG9CQUFPLElBQVAsQ0FBakI7RUFFQSxJQUFNQyxZQUFZLEdBQUcsb0JB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LENBQUN0QyxXQUFELEVBQWNDLFVBQWQsRUFBMEJDLFNBQTFCLEVBQXFDWSxNQUFyQyxFQUEyQztFQUU5RCxJQUFJZ0QsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztJQUFDQyxRQUFRLEVBQUM7RUFBVixDQUFkLEVBQW9DbkQsTUFBcEMsQ0FBZjs7RUFFQSxJQUFJZCxXQUFXLElBQUksWUFBbkIsRUFBaUM7SUFDN0I4RCxRQUFRLENBQUNJLEtBQVQsR0FDSWhFLFNBQVMsR0FDSkEsU0FBUyxHQUFHLElBRFIsR0FFTCxNQUhSO0lBSUE0RCxRQUFRLENBQUNLLE1BQVQsR0FBa0IsTUFBbEI7RUFFSCxDQVBELE1BT08sSUFBSW5FLFdBQVcsS0FBSyxVQUFwQixFQUFnQztJQUVuQzhELFFBQVEsQ0FBQ0ksS0FBVCxHQUFpQixNQUFqQjtJQUNBSixRQUFRLENBQUNLLE1BQVQsR0FDSWxFLFVBQVUsR0FDTEEsVUFBVSxHQUFHLElBRFIsR0FFTixNQUhSO0VBS0g7O0VBRUQsT0FBTzZELFFBQVA7QUFFSCxDQXZCRDs7QUF5QkFNLGtCQUFBQSxHQUFldEUsU0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY2VsbGZyYW1lLnRzeD81MTJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNlbGxmcmFtZS50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIyIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge3JlcXVlc3RJZGxlQ2FsbGJhY2ssIGNhbmNlbElkbGVDYWxsYmFja30gZnJvbSAncmVxdWVzdGlkbGVjYWxsYmFjaydcblxuaW1wb3J0IHsgT3V0UG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnXG5cbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuL3BsYWNlaG9sZGVyJ1xuXG5pbXBvcnQgeyBDcmFkbGVDb250ZXh0IH0gZnJvbSAnLi9jcmFkbGUnXG5cbmNvbnN0IElETEVDQUxMQkFDS19GRVRDSFRJTUVPVVQgPSA0MDAwIC8vIFRPRE8gbWFrZSBjb2ZpZ3VyYWJsZVxuXG5jb25zdCBDZWxsRnJhbWUgPSAoe1xuICAgIG9yaWVudGF0aW9uLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGluZGV4LCBcbiAgICBnZXRJdGVtLCBcbiAgICBsaXN0c2l6ZSwgXG4gICAgcGxhY2Vob2xkZXIsIFxuICAgIGluc3RhbmNlSUQsIFxuICAgIHNjcm9sbGVySUQsXG4gICAgdXBkYXRlZENhY2hlSXRlbUlELCAvLyB0cmlnZ2VycyBjb250ZW50IHJlZnJlc2ggaWYgY2hhbmdlZFxufSkgPT4ge1xuXG4gICAgY29uc3QgY3JhZGxlQ29udGV4dCA9IHVzZUNvbnRleHQoQ3JhZGxlQ29udGV4dClcblxuICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyLCBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYgfSA9IGNyYWRsZUNvbnRleHRcbiAgICBcbiAgICBjb25zdCBbc3R5bGVzLHNhdmVTdHlsZXNdID0gdXNlU3RhdGUoe1xuICAgICAgICBvdmVyZmxvdzonaGlkZGVuJyxcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMpXG5cbiAgICBjb25zdCBbZnJhbWVTdGF0dXMsIHNldEZyYW1lU3RhdHVzXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG4gICAgY29uc3QgZnJhbWVTdGF0dXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICBmcmFtZVN0YXR1c1JlZi5jdXJyZW50ID0gZnJhbWVTdGF0dXNcblxuICAgIGNvbnN0IGZyYW1lUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIGNvbnN0IHBvcnRhbERhdGFSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHBsYWNlaG9sZGVyUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBmb3IgdW5tb3VudFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoZnJhbWVTdGF0dXNSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cbiAgICAgICAgc2V0RnJhbWVTdGF0dXMoJ2dldHVzZXJjb250ZW50JylcblxuICAgIH0sW3VwZGF0ZWRDYWNoZUl0ZW1JRF0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLSBbIHBsYWNlaG9sZGVyIGRlZmluaXRpb24gXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBjdXN0b21wbGFjZWhvbGRlciA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXI/XG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChwbGFjZWhvbGRlciwge2luZGV4LCBsaXN0c2l6ZX0pOlxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgIFxuICAgIH0sW2luZGV4LCBwbGFjZWhvbGRlcixsaXN0c2l6ZV0pXG5cbiAgICBwbGFjZWhvbGRlclJlZi5jdXJyZW50ID0gdXNlTWVtbygoKT0+e1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IFxuICAgICAgICAgICAgY3VzdG9tcGxhY2Vob2xkZXI/XG4gICAgICAgICAgICAgICAgY3VzdG9tcGxhY2Vob2xkZXI6XG4gICAgICAgICAgICAgICAgPFBsYWNlaG9sZGVyIGluZGV4ID0ge2luZGV4fSBsaXN0c2l6ZSA9IHtsaXN0c2l6ZX0gZXJyb3IgPSB7ZmFsc2V9Lz5cbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyXG4gICAgfSwgW2luZGV4LCBjdXN0b21wbGFjZWhvbGRlciwgbGlzdHNpemVdKTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gWyByZXF1ZXN0aWRsZWNhbGxiYWNrIGNvbmZpZyBdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVxdWVzdGlkbGVjYWxsYmFjayA9IFxuICAgICAgICB3aW5kb3dbJ3JlcXVlc3RJZGxlQ2FsbGJhY2snXT9cbiAgICAgICAgICAgIHdpbmRvd1sncmVxdWVzdElkbGVDYWxsYmFjayddOlxuICAgICAgICAgICAgcmVxdWVzdElkbGVDYWxsYmFja1xuICAgIGNvbnN0IGNhbmNlbGlkbGVjYWxsYmFjayA9IFxuICAgICAgICB3aW5kb3dbJ2NhbmNlbElkbGVDYWxsYmFjayddP1xuICAgICAgICAgICAgd2luZG93WydjYW5jZWxJZGxlQ2FsbGJhY2snXTpcbiAgICAgICAgICAgIGNhbmNlbElkbGVDYWxsYmFja1xuXG4gICAgY29uc3QgcmVxdWVzdElkbGVDYWxsYmFja0lkUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplIGNlbGwgY29udGVudFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyZWF0aW5nIGNlbGxGcmFtZScsJy0nK3Njcm9sbGVySUQrJy0nLGluc3RhbmNlSUQgIClcblxuICAgICAgICBzZXRGcmFtZVN0YXR1cygnZ2V0dXNlcmNvbnRlbnQnKVxuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgY2FjaGVIYW5kbGVyLnJlbW92ZVJlcXVlc3RlZFBvcnRhbChpbmRleClcblxuICAgICAgICAgICAgY2FuY2VsaWRsZWNhbGxiYWNrKHJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZi5jdXJyZW50KVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cblxuICAgIC8vIGNyYWRsZSBpbnZhcmlhbnQgb25kZW1hbmQgY2FsbGJhY2sgcGFyYW1ldGVyIHZhbHVlXG4gICAgY29uc3QgZ2V0RWxlbWVudERhdGEgPSB1c2VDYWxsYmFjaygoKT0+e1xuXG4gICAgICAgIHJldHVybiBbaW5kZXgsIGZyYW1lUmVmXVxuICAgICAgICBcbiAgICB9LFtdKVxuXG4gICAgLy8gc2V0IHN0eWxlc1xuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGxldCBuZXdTdHlsZXMgPSBnZXRGcmFtZVN0eWxlcyhvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBzdHlsZXMpXG4gICAgICAgIFxuICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHNhdmVTdHlsZXMobmV3U3R5bGVzKVxuICAgICAgICB9XG5cbiAgICB9LFtvcmllbnRhdGlvbixjZWxsSGVpZ2h0LGNlbGxXaWR0aF0pIFxuXG4gICAgY29uc3QgcG9ydGFsTm9kZVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgY29uc3QgaXNSZXBhcmVudGluZ1JlZiA9IHVzZVJlZihmYWxzZSlcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgc3dpdGNoIChmcmFtZVN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOlxuICAgICAgICAgICAgICAgIC8vIG5vLW9wXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2luc2VydGluZyc6IHtcblxuICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdHVzKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnZXR1c2VyY29udGVudCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbUlEID0gY2FjaGVIYW5kbGVyLmdldENhY2hlSXRlbUlEKGluZGV4KVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlSGFuZGxlci5oYXNQb3J0YWwoY2FjaGVJdGVtSUQpXG5cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcG9ydGFsRGF0YVJlZi5jdXJyZW50ID0gY2FjaGVIYW5kbGVyLmdldFBvcnRhbChjYWNoZUl0ZW1JRClcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9ydGFsRGF0YVJlZi5jdXJyZW50ID0gY2FjaGVIYW5kbGVyLmdldFBvcnRhbChpbmRleClcblxuICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgPSBwb3J0YWxEYXRhUmVmLmN1cnJlbnQucG9ydGFsTm9kZVxuXG4gICAgICAgICAgICAgICAgICAgIHBvcnRhbERhdGFSZWYuY3VycmVudC5pc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgc2V0RnJhbWVTdGF0dXMoJ2luc2VydGluZycpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdHVzKCd3YWl0aW5nJylcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUhhbmRsZXIucmVnaXN0ZXJSZXF1ZXN0ZWRQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyByZXZpZXcgaW1wbGVtZW50YXRpb24gb2YgYXN5bmMgaGVyZVxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYuY3VycmVudCA9IHJlcXVlc3RpZGxlY2FsbGJhY2soYXN5bmMgKCk9PntcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcmNvbnRlbnQgPSBhd2FpdCBnZXRJdGVtKGluZGV4LCBjYWNoZUl0ZW1JRClcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZjpudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudC5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnc2Nyb2xsZXJEYXRhJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQodXNlcmNvbnRlbnQsIHtzY3JvbGxlckRhdGF9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IHVzZXJjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxEYXRhUmVmLmN1cnJlbnQgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5jcmVhdGVQb3J0YWwoY29udGVudCwgaW5kZXgsIGNhY2hlSXRlbUlEKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgID0gcG9ydGFsRGF0YVJlZi5jdXJyZW50LnBvcnRhbE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBhdmFpbGFibGUgdG8gdXNlciBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyRGF0YS5pc1JlcGFyZW50aW5nUmVmID0gcG9ydGFsRGF0YVJlZi5jdXJyZW50LmlzUmVwYXJlbnRpbmdSZWZcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywnbm8gY29udGVudCBpdGVtJylcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbG9hZGluZyBwb3J0YWwgaXRlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXR1cygnaW5zZXJ0aW5nJylcblxuICAgICAgICAgICAgICAgICAgICB9LHt0aW1lb3V0OklETEVDQUxMQkFDS19GRVRDSFRJTUVPVVR9KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnd2FpdGluZyc6IHtcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSwgW2ZyYW1lU3RhdHVzXSlcblxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChmcmFtZVN0YXR1cykge1xuXG4gICAgICAgICAgICBjYXNlICdyZWFkeSc6IHsgLy8gbm8tb3BcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sIFtmcmFtZVN0YXR1c10pXG5cbiAgICByZXR1cm4gPGRpdiByZWYgPSB7IGZyYW1lUmVmIH0gXG4gICAgICAgIGRhdGEtdHlwZSA9ICdjZWxsZnJhbWUnIFxuICAgICAgICBkYXRhLXNjcm9sbGVyaWQgPSB7IHNjcm9sbGVySUQgfSBcbiAgICAgICAgZGF0YS1pbmRleCA9IHsgaW5kZXggfSBcbiAgICAgICAgZGF0YS1pbnN0YW5jZWlkID0geyBpbnN0YW5jZUlEIH0gXG4gICAgICAgIHN0eWxlID0geyBzdHlsZXMgfT5cblxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAoZnJhbWVTdGF0dXMgIT0gJ3JlYWR5Jyk/XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQ6XG4gICAgICAgICAgICAgICAgICAgIDxPdXRQb3J0YWwgbm9kZSA9IHsgcG9ydGFsTm9kZVJlZi5jdXJyZW50IH0vPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuXG59IC8vIENlbGxGcmFtZVxuXG5jb25zdCBnZXRGcmFtZVN0eWxlcyA9IChvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBzdHlsZXMpID0+IHtcblxuICAgIGxldCBzdHlsZXNldCA9IE9iamVjdC5hc3NpZ24oe3Bvc2l0aW9uOidyZWxhdGl2ZSd9LHN0eWxlcylcblxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgc3R5bGVzZXQud2lkdGggPSBcbiAgICAgICAgICAgIGNlbGxXaWR0aD9cbiAgICAgICAgICAgICAgICAoY2VsbFdpZHRoICsgJ3B4Jyk6XG4gICAgICAgICAgICAgICAgJ2F1dG8nXG4gICAgICAgIHN0eWxlc2V0LmhlaWdodCA9ICdhdXRvJ1xuXG4gICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgIHN0eWxlc2V0LndpZHRoID0gJ2F1dG8nXG4gICAgICAgIHN0eWxlc2V0LmhlaWdodCA9IFxuICAgICAgICAgICAgY2VsbEhlaWdodD9cbiAgICAgICAgICAgICAgICAoY2VsbEhlaWdodCArICdweCcpOlxuICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICBcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzZXRcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDZWxsRnJhbWVcbiJdLCJuYW1lcyI6WyJJRExFQ0FMTEJBQ0tfRkVUQ0hUSU1FT1VUIiwiQ2VsbEZyYW1lIiwiX2EiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJpbmRleCIsImdldEl0ZW0iLCJsaXN0c2l6ZSIsInBsYWNlaG9sZGVyIiwiaW5zdGFuY2VJRCIsInNjcm9sbGVySUQiLCJ1cGRhdGVkQ2FjaGVJdGVtSUQiLCJjcmFkbGVDb250ZXh0IiwiY3JhZGxlXzEiLCJjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYiLCJvdmVyZmxvdyIsInN0eWxlcyIsInNhdmVTdHlsZXMiLCJmcmFtZVN0YXR1cyIsInNldEZyYW1lU3RhdHVzIiwiZnJhbWVTdGF0dXNSZWYiLCJjdXJyZW50IiwiZnJhbWVSZWYiLCJpc01vdW50ZWRSZWYiLCJwb3J0YWxEYXRhUmVmIiwicGxhY2Vob2xkZXJSZWYiLCJjdXN0b21wbGFjZWhvbGRlciIsInJlYWN0XzEiLCJjcmVhdGVFbGVtZW50IiwicGxhY2Vob2xkZXJfMSIsImVycm9yIiwicmVxdWVzdGlkbGVjYWxsYmFjayIsIndpbmRvdyIsInJlcXVlc3RpZGxlY2FsbGJhY2tfMSIsImNhbmNlbGlkbGVjYWxsYmFjayIsInJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZiIsImNhY2hlSGFuZGxlciIsInJlbW92ZVJlcXVlc3RlZFBvcnRhbCIsImdldEVsZW1lbnREYXRhIiwibmV3U3R5bGVzIiwiZ2V0RnJhbWVTdHlsZXMiLCJwb3J0YWxOb2RlUmVmIiwiaXNSZXBhcmVudGluZ1JlZiIsImNhY2hlSXRlbUlEXzEiLCJnZXRDYWNoZUl0ZW1JRCIsImNhY2hlZCIsImhhc1BvcnRhbCIsImdldFBvcnRhbCIsInBvcnRhbE5vZGUiLCJyZWdpc3RlclJlcXVlc3RlZFBvcnRhbCIsInVzZXJjb250ZW50IiwiY29udGVudCIsInNjcm9sbGVyRGF0YSIsInByb3BzIiwiaGFzT3duUHJvcGVydHkiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVQb3J0YWwiLCJjb25zb2xlIiwibG9nIiwidGltZW91dCIsInJlZiIsInN0eWxlIiwicmVhY3RfcmV2ZXJzZV9wb3J0YWxfMSIsIm5vZGUiLCJzdHlsZXNldCIsIk9iamVjdCIsImFzc2lnbiIsInBvc2l0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cellframe.tsx\n");

/***/ }),

/***/ "./src/cradle.tsx":
/*!************************!*\
  !*** ./src/cradle.tsx ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cradle.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleContext = void 0;\n/*\n    consider formalizing state conditions (certain useRefs), together with state actions (useState)\n\n    BUG: cache is last imort state; should be ready\n    - rationalize pauseScrolling, and other signals\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"); // popup position tracker for repositioning\n\n\nvar scrolltracker_1 = __importDefault(__webpack_require__(/*! ./scrolltracker */ \"./src/scrolltracker.tsx\")); // support code\n\n\nvar scrollhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollhandler */ \"./src/cradle/scrollhandler.tsx\"));\n\nvar statehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/statehandler */ \"./src/cradle/statehandler.tsx\"));\n\nvar contenthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/contenthandler */ \"./src/cradle/contenthandler.tsx\"));\n\nvar scaffoldhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scaffoldhandler */ \"./src/cradle/scaffoldhandler.tsx\"));\n\nvar interrupthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/interrupthandler */ \"./src/cradle/interrupthandler.tsx\"));\n\nvar servicehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/servicehandler */ \"./src/cradle/servicehandler.tsx\"));\n\nvar styleshandler_1 = __importDefault(__webpack_require__(/*! ./cradle/styleshandler */ \"./src/cradle/styleshandler.tsx\")); // for children\n\n\nexports.CradleContext = react_1[\"default\"].createContext(null); // component\n\nvar Cradle = function Cradle(_a) {\n  var _b, _c;\n\n  var gridSpecs = _a.gridSpecs,\n      runwaySize = _a.runwaySize,\n      listsize = _a.listsize,\n      defaultVisibleIndex = _a.defaultVisibleIndex,\n      getItem = _a.getItem,\n      placeholder = _a.placeholder,\n      functions = _a.functions,\n      styles = _a.styles,\n      triggerlineOffset = _a.triggerlineOffset,\n      cache = _a.cache,\n      cacheMax = _a.cacheMax,\n      // for debugging\n  scrollerID = _a.scrollerID,\n      cacheHandler = _a.cacheHandler;\n  if (listsize == 0) return; // nothing to do\n  // ========================[ DATA SETUP ]========================\n  // unpack gridSpecs\n\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // get viewport context\n\n  var viewportInterruptProperties = (0, react_1.useContext)(viewport_1.ViewportInterrupt);\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)(null);\n  viewportInterruptPropertiesRef.current = viewportInterruptProperties; // for closures\n\n  var viewportDimensions = viewportInterruptProperties.viewportDimensions;\n  var viewportheight = viewportDimensions.height,\n      viewportwidth = viewportDimensions.width; // state\n\n  var _d = (0, react_1.useState)('setup'),\n      cradleState = _d[0],\n      setCradleState = _d[1];\n\n  var cradleStateRef = (0, react_1.useRef)(null); // access by closures\n\n  cradleStateRef.current = cradleState; // console.log('RUNNING cradleState','-'+scrollerID+'-', cradleState)\n  // controls\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  var isCachedRef = (0, react_1.useRef)(false);\n  var wasCachedRef = (0, react_1.useRef)(false);\n  var parentingTransitionRequiredRef = (0, react_1.useRef)(false);\n  var triggerlineRecordsRef = (0, react_1.useRef)({\n    wasViewportScrollingForward: null,\n    driver: null,\n    offset: null\n  }); // cradle scaffold element refs\n\n  var headCradleElementRef = (0, react_1.useRef)(null);\n  var tailCradleElementRef = (0, react_1.useRef)(null);\n  var axisCradleElementRef = (0, react_1.useRef)(null);\n  var headTriggerlineCradleElementRef = (0, react_1.useRef)(null);\n  var tailTriggerlineCradleElementRef = (0, react_1.useRef)(null); // scaffold bundle\n\n  var cradleElementsRef = (0, react_1.useRef)({\n    headRef: headCradleElementRef,\n    tailRef: tailCradleElementRef,\n    axisRef: axisCradleElementRef,\n    headTriggerlineRef: headTriggerlineCradleElementRef,\n    tailTriggerlineRef: tailTriggerlineCradleElementRef\n  }); // ------------------------[ calculated properties ]------------------------\n  // configuration calculations\n\n  var crosscount = (0, react_1.useMemo)(function () {\n    var viewportsize = orientation == 'horizontal' ? viewportheight : viewportwidth;\n\n    if (viewportsize == 0) {\n      return 0;\n    }\n\n    var crossLength = orientation == 'horizontal' ? cellHeight : cellWidth;\n    var viewportlengthforcalc = viewportsize - padding * 2 + gap; // length of viewport\n\n    var tilelengthforcalc = crossLength + gap;\n    tilelengthforcalc = Math.min(tilelengthforcalc, viewportlengthforcalc); // result cannot be less than 1\n\n    var crosscount = Math.floor(viewportlengthforcalc / tilelengthforcalc);\n    return crosscount;\n  }, [orientation, gap, padding, cellWidth, cellHeight, viewportheight, viewportwidth]);\n\n  var _e = (0, react_1.useMemo)(function () {\n    var viewportLength, rowLength;\n\n    if (orientation == 'vertical') {\n      viewportLength = viewportheight;\n      rowLength = cellHeight;\n    } else {\n      viewportLength = viewportwidth;\n      rowLength = cellWidth;\n    }\n\n    rowLength += gap;\n    var viewportRowcount = Math.ceil(viewportLength / rowLength);\n    var viewportVisibleRowcount = Math.floor(viewportLength / rowLength);\n    var listRowcount = Math.ceil(listsize / crosscount);\n    var calculatedCradleRowcount = viewportRowcount + runwaySize * 2;\n    var cradleRowcount = Math.min(listRowcount, calculatedCradleRowcount);\n    var runwayRowcount;\n\n    if (calculatedCradleRowcount >= cradleRowcount) {\n      runwayRowcount = runwaySize;\n    } else {\n      var diff = cradleRowcount - calculatedCradleRowcount;\n      runwayRowcount -= Math.floor(diff / 2);\n      runwayRowcount = Math.max(0, runwayRowcount);\n    }\n\n    var itemcount = cradleRowcount * crosscount;\n\n    if (itemcount > listsize) {\n      itemcount = listsize;\n      cradleRowcount = Math.ceil(itemcount / crosscount);\n    }\n\n    return [cradleRowcount, viewportRowcount, viewportVisibleRowcount, listRowcount, runwayRowcount];\n  }, [orientation, gap, // padding,\n  cellWidth, cellHeight, viewportheight, viewportwidth, listsize, runwaySize, crosscount]),\n      cradleRowcount = _e[0],\n      viewportRowcount = _e[1],\n      viewportVisibleRowcount = _e[2],\n      // max number of rows completely visible at once\n  listRowcount = _e[3],\n      runwayRowcount = _e[4]; // ======================[ callbacks ]=====================\n  // host callbacks\n  // const referenceIndexCallbackRef = useRef(functions?.referenceIndexCallback)\n  // const preloadIndexCallbackRef = useRef(functions?.preloadIndexCallback)\n\n\n  var externalCallbacksRef = (0, react_1.useRef)({\n    referenceIndexCallback: functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback,\n    preloadIndexCallback: functions === null || functions === void 0 ? void 0 : functions.preloadIndexCallback,\n    cacheDeleteListCallback: functions === null || functions === void 0 ? void 0 : functions.cacheDeleteListCallback\n  }); // ====================[ bundle parameters for handlers ]===================\n  // bundle cradle props to pass to handlers - ultimately cradleParametersRef (brute force)\n\n  var cradleInheritedPropertiesRef = (0, react_1.useRef)(null); // access by closures and support functions\n  // up to date values\n\n  cradleInheritedPropertiesRef.current = {\n    // gridSpecs\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout,\n    // ...rest\n    listsize: listsize,\n    cache: cache,\n    cacheMax: cacheMax,\n    defaultVisibleIndex: defaultVisibleIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    triggerlineOffset: triggerlineOffset,\n    scrollerID: scrollerID,\n    // objects\n    functions: functions,\n    styles: styles,\n    cacheHandler: cacheHandler\n  };\n  var cradlePassthroughPropertiesRef = (0, react_1.useRef)(null); // passed to cellFrame content (user content) if requested\n\n  cradlePassthroughPropertiesRef.current = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout,\n    runwayRowcount: runwayRowcount,\n    listsize: listsize,\n    cache: cache,\n    cacheMax: cacheMax,\n    indexOffset: defaultVisibleIndex,\n    triggerlineOffset: triggerlineOffset\n  }; // configuration properties to share\n\n  var cradleInternalPropertiesRef = (0, react_1.useRef)(null);\n  cradleInternalPropertiesRef.current = {\n    // updated values\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    viewportVisibleRowcount: viewportVisibleRowcount,\n    listRowcount: listRowcount,\n    runwayRowcount: runwayRowcount,\n    // the following values are maintained elsewhere\n    isMountedRef: isMountedRef,\n    cradleElementsRef: cradleElementsRef,\n    isCachedRef: isCachedRef,\n    wasCachedRef: wasCachedRef,\n    triggerlineRecordsRef: triggerlineRecordsRef,\n    // scrollPosRecoveryPosRef,\n    // for stateHandler\n    cradleStateRef: cradleStateRef,\n    setCradleState: setCradleState\n  }; // placeholder in cradleParameters to make available individual handlers\n\n  var handlersRef = (0, react_1.useRef)(null); // cradle parameters MASTER BUNDLE\n\n  var cradleParameters = {\n    handlersRef: handlersRef,\n    viewportInterruptPropertiesRef: viewportInterruptPropertiesRef,\n    cradleInheritedPropertiesRef: cradleInheritedPropertiesRef,\n    cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef,\n    cradleInternalPropertiesRef: cradleInternalPropertiesRef,\n    // internalCallbacksRef, // n/a\n    externalCallbacksRef: externalCallbacksRef\n  };\n  var cradleParametersRef = (0, react_1.useRef)(null);\n  cradleParametersRef.current = cradleParameters; // ongoing source of handlers - note all Handlers are given all parameters (cradleParameters)\n\n  if (!handlersRef.current) {\n    handlersRef.current = getCradleHandlers(cradleParameters);\n  } // make handlers directly available to cradle code below\n\n\n  var _f = handlersRef.current,\n      // cacheHandler already available\n  interruptHandler = _f.interruptHandler,\n      scrollHandler = _f.scrollHandler,\n      stateHandler = _f.stateHandler,\n      contentHandler = _f.contentHandler,\n      scaffoldHandler = _f.scaffoldHandler,\n      serviceHandler = _f.serviceHandler,\n      stylesHandler = _f.stylesHandler; // =======================[ CACHING STATE CHANGE SENTINEL ]=========================\n  // intercept change in caching status\n  // when a portal is cached, including the transition of being moved from one cellFrame to another,\n  // (and the infinitegridscroller can be a component that is cached),\n  // the scrollPos (scrollLeft or scrollTop) is reset to 0 (zero). When the scroller is \n  // moved to a cellFrame, this code restores the scrollPos.\n  // The restore action must be the first priority to hide the scrollPos changes from the user\n\n  var isInPortal = viewportwidth == 0 && viewportheight == 0; // must be in portal (cache) state\n\n  var isCacheChange = isInPortal != isCachedRef.current;\n\n  if (isCacheChange) {\n    wasCachedRef.current = isCachedRef.current;\n    isCachedRef.current = isInPortal;\n  }\n\n  var isCachingUnderway = isCachedRef.current || wasCachedRef.current;\n\n  if (isCacheChange || ((_b = viewportInterruptProperties.isReparentingRef) === null || _b === void 0 ? void 0 : _b.current) || viewportInterruptProperties.isResizing && isCachingUnderway) {\n    if ((_c = viewportInterruptProperties.isReparentingRef) === null || _c === void 0 ? void 0 : _c.current) {\n      viewportInterruptProperties.isReparentingRef.current = false; // no longer needed\n\n      parentingTransitionRequiredRef.current = true;\n    }\n\n    if (viewportInterruptProperties.isResizing) {\n      // caching is underway, so cancel\n      viewportInterruptProperties.isResizing = false;\n    }\n\n    if (isCacheChange) {\n      // into or out of caching\n      if (isCachedRef.current && !wasCachedRef.current) {\n        // change into cache\n        interruptHandler.pauseInterrupts();\n      } else if (!isCachedRef.current && wasCachedRef.current) {\n        // change out of cache\n        interruptHandler.restoreInterrupts();\n      }\n    }\n  } // generate state for restoring scrollPos\n\n\n  (0, react_1.useEffect)(function () {\n    if (parentingTransitionRequiredRef.current) {\n      parentingTransitionRequiredRef.current = false;\n      setCradleState('reparentingtransition');\n    }\n  }, [parentingTransitionRequiredRef.current]); // change state for entering or leaving cache\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // nothing to do\n\n    if (isCachedRef.current && !wasCachedRef.current) {\n      // into cache\n      setCradleState('cached'); // replaces 'ready' as steady state\n    } else if (!isCachedRef.current && wasCachedRef.current) {\n      // out of cache\n      wasCachedRef.current = false;\n\n      if (cradleStateRef.current == 'cachedwaiting') {\n        setCradleState('ready');\n      } else {\n        setCradleState('setcradlecontent');\n      }\n    }\n  }, [isCachedRef.current, wasCachedRef.current]); // ===================[ INITIALIZATION effects ]=========================\n  // initialization effects are independent of caching\n  // clear mounted flag on unmount\n\n  (0, react_1.useLayoutEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); //send callback functions to host\n\n  (0, react_1.useEffect)(function () {\n    // referenceIndexCallbackRef.current = functions?.referenceIndexCallback\n    if (!functions.getCallbacks) return;\n    var scrollToItem = serviceHandler.scrollToItem,\n        reload = serviceHandler.reload,\n        clearCache = serviceHandler.clearCache,\n        getCacheList = serviceHandler.getCacheList,\n        modifyCacheMapping = serviceHandler.modifyCacheMapping;\n    var callbacks = {\n      scrollToItem: scrollToItem,\n      clearCache: clearCache,\n      reload: reload,\n      getCacheList: getCacheList,\n      modifyCacheMapping: modifyCacheMapping // preload,\n\n    };\n    functions.getCallbacks(callbacks);\n  }, []); // initialize window scroll listener\n\n  (0, react_1.useEffect)(function () {\n    var viewportdata = viewportInterruptPropertiesRef.current;\n    viewportdata.elementRef.current.addEventListener('scroll', scrollHandler.onScroll);\n    return function () {\n      viewportdata.elementRef.current && viewportdata.elementRef.current.removeEventListener('scroll', scrollHandler.onScroll);\n    };\n  }, []); // observer support\n\n  /*\n      There are two interection observers, one for the cradle wings, and another for triggerlines;\n          both against the viewport.\n      There is also a resize observer for the cradle wings, to generate responses to size changes of\n          variable cells.\n  */\n\n  (0, react_1.useEffect)(function () {\n    // intersection observer for cradle body\n    // this sets up an IntersectionObserver of the cradle against the viewport. When the\n    // cradle goes out of the observer scope, the \"repositioningRender\" cradle state is triggered.\n    var cradleintersectobserver = interruptHandler.cradleIntersect.createObserver();\n    interruptHandler.cradleIntersect.connectElements(); // triggerobserver tiggers cradle content updates \n    //     when triggerlines pass the edge of the viewport\n\n    var triggerobserver = interruptHandler.axisTriggerlinesIntersect.createObserver();\n    interruptHandler.axisTriggerlinesIntersect.connectElements(); // resize observer generates compensation for changes in cell sizes for variable layout modes\n\n    var resizeobserver = interruptHandler.cradleResize.createObserver();\n    interruptHandler.cradleResize.connectElements();\n    return function () {\n      cradleintersectobserver.disconnect();\n      triggerobserver.disconnect();\n      resizeobserver.disconnect();\n    };\n  }, []); // initiate preload if requested\n\n  (0, react_1.useEffect)(function () {\n    if (cache != 'preload') return;\n    setCradleState('startpreload');\n  }, []); // =====================[ RECONFIGURATION effects ]======================\n  // resize (UI resize of the viewport), reconfigure, or pivot\n  // trigger resizing based on viewport state\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // movement to and from cache is independent of ui resizing\n\n    if (isCachedRef.current || wasCachedRef.current) {\n      return;\n    }\n\n    if (viewportInterruptPropertiesRef.current.isResizing) {\n      interruptHandler.pauseInterrupts(); // console.log('calling resizing from isResizing useEvent','-'+scrollerID+'-')\n\n      setCradleState('resizing');\n    } // complete resizing mode\n\n\n    if (!viewportInterruptPropertiesRef.current.isResizing && cradleStateRef.current == 'resizing') {\n      setCradleState('finishresize');\n    }\n  }, [viewportInterruptPropertiesRef.current.isResizing]); // reconfigure for changed size parameters\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    var signals = interruptHandler.signals;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigure');\n  }, [listsize, cellHeight, cellWidth, gap, padding, triggerlineOffset]); // pivot triggered on change in orientation\n\n  (0, react_1.useEffect)(function () {\n    scaffoldHandler.cradlePositionData.blockScrollProperty = orientation == \"vertical\" ? \"scrollTop\" : \"scrollLeft\";\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    var _a = cradleInheritedPropertiesRef.current,\n        cellWidth = _a.cellWidth,\n        cellHeight = _a.cellHeight,\n        gap = _a.gap; // get previous ratio\n\n    var previousCellPixelLength = (orientation == 'vertical' ? cellWidth : cellHeight) + gap;\n    var previousAxisOffset = scaffoldHandler.cradlePositionData.targetAxisPixelOffset;\n    var previousratio = previousAxisOffset / previousCellPixelLength;\n    var pivotCellPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap;\n    var pivotAxisOffset = previousratio * pivotCellPixelLength;\n    scaffoldHandler.cradlePositionData.targetAxisPixelOffset = Math.round(pivotAxisOffset);\n    interruptHandler.pauseInterrupts();\n    setCradleState('pivot');\n  }, [orientation]); // =====================[ STYLES ]===========================\n  // styles for the six scaffold components\n\n  var _g = (0, react_1.useMemo)(function () {\n    return stylesHandler.setCradleStyles({\n      orientation: orientation,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      viewportheight: viewportheight,\n      viewportwidth: viewportwidth,\n      crosscount: crosscount,\n      userstyles: styles,\n      triggerlineOffset: triggerlineOffset\n    });\n  }, [orientation, cellHeight, cellWidth, gap, padding, viewportheight, viewportwidth, crosscount, styles, triggerlineOffset]),\n      cradleHeadStyle = _g[0],\n      cradleTailStyle = _g[1],\n      cradleAxisStyle = _g[2],\n      triggerlineHeadStyle = _g[3],\n      triggerlineTailStyle = _g[4],\n      cradleDividerStyle = _g[5]; // =====================[ state management ]==========================\n  // this is the core state engine (19 states), using named states\n  // useLayoutEffect for suppressing flashes\n\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cradleState) {\n      case 'setup':\n        {\n          // cycle to allow for ref config\n          if (cradleInheritedPropertiesRef.current.cache != 'preload') {\n            if (isCachedRef.current) {\n              setCradleState('cached');\n            } else {\n              setCradleState('dosetup'); // load grid\n            }\n          }\n\n          break;\n        }\n\n      case 'startpreload':\n        {\n          contentHandler.clearCache();\n          setCradleState('dopreload');\n          break;\n        }\n\n      case 'dopreload':\n        {\n          var callback = function callback() {\n            setCradleState('finishpreload');\n          }; // TODO: move API to contentHandler\n\n\n          cacheHandler.preload(cradleParametersRef.current, callback, scrollerID);\n          break;\n        }\n\n      case 'cachedwaiting':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            setCradleState('ready');\n          }\n\n          break;\n        }\n\n      case 'cached':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            setCradleState('setcradlecontent');\n          }\n\n          break;\n        }\n\n      case 'finishparenting':\n        {\n          if (isCachedRef.current) {\n            // interrupt until caching is resolved\n            setCradleState('cachedwaiting');\n          } else {\n            setCradleState('ready');\n          }\n\n          break;\n        }\n      // renderupdatedcontent is called from updateCradleContent. \n      // it is required to integrate changed DOM configurations before 'ready' is displayed\n\n      case 'renderupdatedcontent':\n        {\n          // cycle for DOM update\n          // cacheHandler.renderPortalList()\n          cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n          cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n          setCradleState('finishupdatedcontent');\n          break;\n        }\n\n      case 'finishupdatedcontent':\n        {\n          // cycle for DOM update\n          var cache_1 = cradleInternalPropertiesRef.current.cache;\n\n          if (cache_1 == 'keepload') {\n            contentHandler.guardAgainstRunawayCaching();\n          }\n\n          interruptHandler.axisTriggerlinesIntersect.connectElements();\n          interruptHandler.signals.pauseTriggerlinesObserver = false;\n          setCradleState('ready');\n          break;\n        }\n\n      case 'startreposition':\n        {\n          var signals = interruptHandler.signals;\n          signals.pauseTriggerlinesObserver = true; // avoid recursive cradle intersection interrupts\n\n          signals.pauseCradleIntersectionObserver = true;\n          signals.repositioningRequired = false; // because now underway\n\n          setCradleState('repositioningRender');\n          break;\n        }\n\n      /*\n          the following 8 cradle states all resolve with\n          a chain starting with setCradleContent,\n          continuing with 'preparerender', and ending with\n          'normalizesignals'\n      */\n\n      case 'setcradlecontent':\n      case 'dosetup':\n      case 'finishpreload':\n      case 'doreposition': //\n\n      case 'finishresize':\n      case 'pivot':\n      case 'reconfigure': //\n\n      case 'reload':\n        {\n          if (isCachedRef.current) {\n            // interrupt until caching is resolved\n            setCradleState('cached');\n            break;\n          }\n\n          var cradleContent_1 = contentHandler.content;\n          cradleContent_1.headModelComponents = [];\n          cradleContent_1.tailModelComponents = []; // register new array id for Object.is to trigger react re-processing\n\n          cradleContent_1.headDisplayComponents = [];\n          cradleContent_1.tailDisplayComponents = [];\n\n          if (cradleState == 'reload') {\n            cacheHandler.clearCache();\n          }\n\n          contentHandler.setCradleContent(cradleState);\n          var cache_2 = cradleInternalPropertiesRef.current.cache;\n\n          if (cache_2 == 'cradle') {\n            var modelComponentList = contentHandler.content.cradleModelComponents;\n            var modelIndexList = modelComponentList.map(function (item) {\n              return item.props.index;\n            });\n            cacheHandler.matchCacheToCradle(modelIndexList, serviceHandler.callbacks.cacheDeleteListCallback);\n            cacheHandler.renderPortalList();\n          }\n\n          setCradleState('preparerender');\n          break;\n        }\n\n      case 'preparerender':\n        {\n          // cycle for DOM update\n          var cradleContent_2 = contentHandler.content;\n          cradleContent_2.headDisplayComponents = cradleContent_2.headModelComponents;\n          cradleContent_2.tailDisplayComponents = cradleContent_2.tailModelComponents;\n          setCradleState('normalizesignals');\n          break;\n        }\n\n      case 'normalizesignals':\n        {\n          // normalize or resume cycling\n          // prioritize interrupts TODO: validate this\n          // if ((!isCachedRef.current) && viewportInterruptPropertiesRef.current.isResizing) {\n          //     console.log('calling resizing from normalizesignals','-'+scrollerID+'-')\n          //     setCradleState('resizing')\n          // } else if (interruptHandler.signals.repositioningRequired) {\n          //     setCradleState('startreposition')\n          // } else {                     \n          interruptHandler.restoreInterrupts();\n          setCradleState('ready'); // }\n\n          break;\n        }\n      // user request\n\n      case 'clearcache':\n        {\n          contentHandler.clearCache();\n          setCradleState('ready');\n          break;\n        }\n      // moving out of cache into visible DOM tree (cellFrame)\n      // resets scrollPos (scrollLeft/scrollTop) to last UI value\n\n      case 'reparentingtransition':\n        {\n          var cradlePositionData = scaffoldHandler.cradlePositionData; // reset scroll position to previous value\n\n          if (cradlePositionData.blockScrollPos !== null) {\n            // console.log('resetting scroll position to','-'+scrollerID+'-' , cradlePositionData.blockScrollPos)\n            var viewportElement = viewportInterruptPropertiesRef.current.elementRef.current;\n            viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n          }\n\n          setCradleState('finishparenting');\n          break;\n        }\n    }\n  }, [cradleState]); // standard rendering states (3 states)\n\n  (0, react_1.useEffect)(function () {\n    switch (cradleState) {\n      // repositioningRender and repositioningContinuation are toggled to generate continuous \n      // reposiioning renders\n      case 'repositioningRender':\n        break;\n\n      case 'repositioningContinuation':\n        // set from onScroll\n        setCradleState('repositioningRender');\n        break;\n\n      case 'ready':\n        // no op\n        break;\n    }\n  }, [cradleState]); // ==========================[ RENDER ]===========================\n\n  var scrollAxisReferenceIndex = scaffoldHandler.cradlePositionData.targetAxisReferenceIndex;\n  var scrollTrackerArgs = (0, react_1.useMemo)(function () {\n    if (!(cradleState == 'repositioningContinuation' || cradleState == 'repositioningRender')) {\n      return null;\n    }\n\n    var trackerargs = {\n      top: viewportDimensions.top + 3,\n      left: viewportDimensions.left + 3,\n      scrollAxisReferenceIndex: scrollAxisReferenceIndex,\n      listsize: listsize,\n      styles: styles\n    };\n    return trackerargs;\n  }, [cradleState, viewportDimensions, scrollAxisReferenceIndex, listsize, styles]);\n  var cradleContent = contentHandler.content;\n  var contextvalueRef = (0, react_1.useRef)({\n    cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef,\n    cacheHandler: cacheHandler\n  }); // the data-type = cacheroot div at the end is the hidden portal component cache\n\n  return react_1[\"default\"].createElement(exports.CradleContext.Provider, {\n    value: contextvalueRef.current\n  }, cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation' ? react_1[\"default\"].createElement(scrolltracker_1[\"default\"], {\n    top: scrollTrackerArgs.top,\n    left: scrollTrackerArgs.left,\n    offset: scrollTrackerArgs.scrollAxisReferenceIndex,\n    listsize: scrollTrackerArgs.listsize,\n    styles: scrollTrackerArgs.styles\n  }) : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-axis',\n    style: cradleAxisStyle,\n    ref: axisCradleElementRef\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-head',\n    style: triggerlineHeadStyle,\n    ref: headTriggerlineCradleElementRef\n  }), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-tail',\n    style: triggerlineTailStyle,\n    ref: tailTriggerlineCradleElementRef\n  }),  true ? react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: cradleDividerStyle\n  }) : 0, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleState != 'setup' ? cradleContent.headDisplayComponents : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleState != 'setup' ? cradleContent.tailDisplayComponents : null)));\n}; // Cradle\n// utilities\n\n\nvar getCradleHandlers = function getCradleHandlers(cradleParameters) {\n  var createHandler = function createHandler(handler) {\n    return new handler(cradleParameters);\n  };\n\n  return {\n    cacheHandler: cradleParameters.cradleInheritedPropertiesRef.current.cacheHandler,\n    interruptHandler: createHandler(interrupthandler_1[\"default\"]),\n    scrollHandler: createHandler(scrollhandler_1[\"default\"]),\n    stateHandler: createHandler(statehandler_1[\"default\"]),\n    contentHandler: createHandler(contenthandler_1[\"default\"]),\n    scaffoldHandler: createHandler(scaffoldhandler_1[\"default\"]),\n    serviceHandler: createHandler(servicehandler_1[\"default\"]),\n    stylesHandler: createHandler(styleshandler_1[\"default\"])\n  };\n};\n\nexports[\"default\"] = Cradle;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7QUFPQTs7QUFVQSw2RSxDQUVBOzs7QUFDQSw2RyxDQUVBOzs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSwySCxDQUVBOzs7QUFDYUEscUJBQUFBLEdBQWdCQyxtQkFBTUMsYUFBTixDQUFvQixJQUFwQixDQUFoQixDLENBRWI7O0FBQ0EsSUFBTUMsTUFBTSxHQUFHLFNBQVRBLE1BQVMsQ0FBQ0MsRUFBRCxFQWlCVjs7O01BaEJHQyxTQUFTO01BRVRDLFVBQVU7TUFDVkMsUUFBUTtNQUNSQyxtQkFBbUI7TUFDbkJDLE9BQU87TUFDUEMsV0FBVztNQUNYQyxTQUFTO01BQ1RDLE1BQU07TUFDTkMsaUJBQWlCO01BQ2pCQyxLQUFLO01BQ0xDLFFBQVE7TUFDUjtFQUNBQyxVQUFVO01BRVZDLFlBQVk7RUFHaEIsSUFBSVYsUUFBUSxJQUFJLENBQWhCLEVBQW1CLE9BRmxCLENBRXlCO0VBRTFCO0VBRUE7O0VBRUksZUFBVyxHQU1YRixTQUFTLFlBTlQ7RUFBQSxJQUNBYSxHQUFHLEdBS0hiLFNBQVMsSUFOVDtFQUFBLElBRUFjLE9BQU8sR0FJUGQsU0FBUyxRQU5UO0VBQUEsSUFHQWUsVUFBVSxHQUdWZixTQUFTLFdBTlQ7RUFBQSxJQUlBZ0IsU0FBUyxHQUVUaEIsU0FBUyxVQU5UO0VBQUEsSUFLQWlCLE1BQU0sR0FDTmpCLFNBQVMsT0FOVCxDQVJILENBZ0JEOztFQUNBLElBQU1rQiwyQkFBMkIsR0FBRyx3QkFBV0MsNEJBQVgsQ0FBcEM7RUFDQSxJQUFNQyw4QkFBOEIsR0FBRyxvQkFBTyxJQUFQLENBQXZDO0VBQ0FBLDhCQUE4QixDQUFDQyxPQUEvQixHQUF5Q0gsMkJBQXpDLENBbkJDLENBbUJvRTs7RUFFN0Qsc0JBQWtCLEdBQUtBLDJCQUEyQixtQkFBbEQ7RUFDQSxJQUFPSSxjQUFjLEdBQXlCQyxrQkFBa0IsT0FBaEU7RUFBQSxJQUE0QkMsYUFBYSxHQUFLRCxrQkFBa0IsTUFBaEUsQ0F0QlAsQ0F3QkQ7O0VBQ00sU0FBZ0Msc0JBQVMsT0FBVCxDQUFoQztFQUFBLElBQUNFLFdBQVcsUUFBWjtFQUFBLElBQWNDLGNBQWMsUUFBNUI7O0VBQ04sSUFBTUMsY0FBYyxHQUFHLG9CQUFPLElBQVAsQ0FBdkIsQ0ExQkMsQ0EwQm1DOztFQUNwQ0EsY0FBYyxDQUFDTixPQUFmLEdBQXlCSSxXQUF6QixDQTNCQyxDQTZCRDtFQUVBOztFQUNBLElBQU1HLFlBQVksR0FBRyxvQkFBTyxJQUFQLENBQXJCO0VBQ0EsSUFBTUMsV0FBVyxHQUFHLG9CQUFPLEtBQVAsQ0FBcEI7RUFDQSxJQUFNQyxZQUFZLEdBQUcsb0JBQU8sS0FBUCxDQUFyQjtFQUNBLElBQU1DLDhCQUE4QixHQUFHLG9CQUFPLEtBQVAsQ0FBdkM7RUFDQSxJQUFNQyxxQkFBcUIsR0FBRyxvQkFBTztJQUNqQ0MsMkJBQTJCLEVBQUMsSUFESztJQUVqQ0MsTUFBTSxFQUFDLElBRjBCO0lBR2pDQyxNQUFNLEVBQUM7RUFIMEIsQ0FBUCxDQUE5QixDQXBDQyxDQTBDRDs7RUFDQSxJQUFNQyxvQkFBb0IsR0FBRyxvQkFBTyxJQUFQLENBQTdCO0VBQ0EsSUFBTUMsb0JBQW9CLEdBQUcsb0JBQU8sSUFBUCxDQUE3QjtFQUNBLElBQU1DLG9CQUFvQixHQUFHLG9CQUFPLElBQVAsQ0FBN0I7RUFDQSxJQUFNQywrQkFBK0IsR0FBRyxvQkFBTyxJQUFQLENBQXhDO0VBQ0EsSUFBTUMsK0JBQStCLEdBQUcsb0JBQU8sSUFBUCxDQUF4QyxDQS9DQyxDQWlERDs7RUFDQSxJQUFNQyxpQkFBaUIsR0FBRyxvQkFDdEI7SUFDSUMsT0FBTyxFQUFDTixvQkFEWjtJQUVJTyxPQUFPLEVBQUNOLG9CQUZaO0lBR0lPLE9BQU8sRUFBQ04sb0JBSFo7SUFJSU8sa0JBQWtCLEVBQUNOLCtCQUp2QjtJQUtJTyxrQkFBa0IsRUFBQ047RUFMdkIsQ0FEc0IsQ0FBMUIsQ0FsREMsQ0E0REQ7RUFFQTs7RUFDQSxJQUFNTyxVQUFVLEdBQUcscUJBQVE7SUFFdkIsSUFBTUMsWUFBWSxHQUFJQyxXQUFXLElBQUksWUFBaEIsR0FBOEIzQixjQUE5QixHQUE2Q0UsYUFBbEU7O0lBRUEsSUFBSXdCLFlBQVksSUFBSSxDQUFwQixFQUF1QjtNQUVuQixPQUFPLENBQVA7SUFFSDs7SUFDRCxJQUFNRSxXQUFXLEdBQUlELFdBQVcsSUFBSSxZQUFoQixHQUE4QmxDLFVBQTlCLEdBQXlDQyxTQUE3RDtJQUVBLElBQU1tQyxxQkFBcUIsR0FBR0gsWUFBWSxHQUFJbEMsT0FBTyxHQUFHLENBQTFCLEdBQStCRCxHQUE3RCxDQVh1QixDQVcwQzs7SUFDakUsSUFBSXVDLGlCQUFpQixHQUFHRixXQUFXLEdBQUdyQyxHQUF0QztJQUNBdUMsaUJBQWlCLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTRixpQkFBVCxFQUEyQkQscUJBQTNCLENBQXBCLENBYnVCLENBYStDOztJQUV0RSxJQUFNSixVQUFVLEdBQUdNLElBQUksQ0FBQ0UsS0FBTCxDQUFXSixxQkFBcUIsR0FBQ0MsaUJBQWpDLENBQW5CO0lBRUEsT0FBT0wsVUFBUDtFQUVILENBbkJrQixFQW1CakIsQ0FDRUUsV0FERixFQUVFcEMsR0FGRixFQUdFQyxPQUhGLEVBSUVFLFNBSkYsRUFLRUQsVUFMRixFQU1FTyxjQU5GLEVBT0VFLGFBUEYsQ0FuQmlCLENBQW5COztFQTZCTSxTQU1GLHFCQUFRO0lBRVIsSUFBSWdDLGNBQUosRUFBb0JDLFNBQXBCOztJQUNBLElBQUlSLFdBQVcsSUFBSSxVQUFuQixFQUErQjtNQUMzQk8sY0FBYyxHQUFHbEMsY0FBakI7TUFDQW1DLFNBQVMsR0FBRzFDLFVBQVo7SUFDSCxDQUhELE1BR087TUFDSHlDLGNBQWMsR0FBR2hDLGFBQWpCO01BQ0FpQyxTQUFTLEdBQUd6QyxTQUFaO0lBQ0g7O0lBRUR5QyxTQUFTLElBQUk1QyxHQUFiO0lBRUEsSUFBTTZDLGdCQUFnQixHQUFHTCxJQUFJLENBQUNNLElBQUwsQ0FBVUgsY0FBYyxHQUFDQyxTQUF6QixDQUF6QjtJQUVBLElBQU1HLHVCQUF1QixHQUFHUCxJQUFJLENBQUNFLEtBQUwsQ0FBV0MsY0FBYyxHQUFDQyxTQUExQixDQUFoQztJQUVBLElBQU1JLFlBQVksR0FBR1IsSUFBSSxDQUFDTSxJQUFMLENBQVV6RCxRQUFRLEdBQUM2QyxVQUFuQixDQUFyQjtJQUVBLElBQU1lLHdCQUF3QixHQUFHSixnQkFBZ0IsR0FBSXpELFVBQVUsR0FBRyxDQUFsRTtJQUVBLElBQUk4RCxjQUFjLEdBQUdWLElBQUksQ0FBQ0MsR0FBTCxDQUFTTyxZQUFULEVBQXVCQyx3QkFBdkIsQ0FBckI7SUFFQSxJQUFJRSxjQUFKOztJQUNBLElBQUlGLHdCQUF3QixJQUFJQyxjQUFoQyxFQUFnRDtNQUM1Q0MsY0FBYyxHQUFHL0QsVUFBakI7SUFDSCxDQUZELE1BRU87TUFDSCxJQUFNZ0UsSUFBSSxHQUFJRixjQUFjLEdBQUdELHdCQUEvQjtNQUNBRSxjQUFjLElBQUlYLElBQUksQ0FBQ0UsS0FBTCxDQUFXVSxJQUFJLEdBQUMsQ0FBaEIsQ0FBbEI7TUFDQUQsY0FBYyxHQUFHWCxJQUFJLENBQUNhLEdBQUwsQ0FBUyxDQUFULEVBQVdGLGNBQVgsQ0FBakI7SUFDSDs7SUFDRCxJQUFJRyxTQUFTLEdBQUdKLGNBQWMsR0FBR2hCLFVBQWpDOztJQUNBLElBQUlvQixTQUFTLEdBQUdqRSxRQUFoQixFQUEwQjtNQUN0QmlFLFNBQVMsR0FBR2pFLFFBQVo7TUFDQTZELGNBQWMsR0FBR1YsSUFBSSxDQUFDTSxJQUFMLENBQVVRLFNBQVMsR0FBQ3BCLFVBQXBCLENBQWpCO0lBQ0g7O0lBRUQsT0FBTyxDQUNIZ0IsY0FERyxFQUVITCxnQkFGRyxFQUdIRSx1QkFIRyxFQUlIQyxZQUpHLEVBS0hHLGNBTEcsQ0FBUDtFQVFILENBN0NHLEVBNkNGLENBQ0VmLFdBREYsRUFFRXBDLEdBRkYsRUFHRTtFQUNBRyxTQUpGLEVBS0VELFVBTEYsRUFNRU8sY0FORixFQU9FRSxhQVBGLEVBU0V0QixRQVRGLEVBVUVELFVBVkYsRUFXRThDLFVBWEYsQ0E3Q0UsQ0FORTtFQUFBLElBQ0ZnQixjQUFjLFFBRFo7RUFBQSxJQUVGTCxnQkFBZ0IsUUFGZDtFQUFBLElBR0ZFLHVCQUF1QixRQUhyQjtFQUFBLElBR3VCO0VBQ3pCQyxZQUFZLFFBSlY7RUFBQSxJQUtGRyxjQUFjLFFBTFosQ0E1RkwsQ0E2SkQ7RUFFQTtFQUNBO0VBQ0E7OztFQUVBLElBQU1JLG9CQUFvQixHQUFHLG9CQUN6QjtJQUNJQyxzQkFBc0IsRUFBQy9ELFNBQVMsU0FBVCxhQUFTLFdBQVQsR0FBUyxNQUFULFlBQVMsQ0FBRStELHNCQUR0QztJQUVJQyxvQkFBb0IsRUFBQ2hFLFNBQVMsU0FBVCxhQUFTLFdBQVQsR0FBUyxNQUFULFlBQVMsQ0FBRWdFLG9CQUZwQztJQUdJQyx1QkFBdUIsRUFBQ2pFLFNBQVMsU0FBVCxhQUFTLFdBQVQsR0FBUyxNQUFULFlBQVMsQ0FBRWlFO0VBSHZDLENBRHlCLENBQTdCLENBbktDLENBMktEO0VBRUE7O0VBQ0EsSUFBTUMsNEJBQTRCLEdBQUcsb0JBQU8sSUFBUCxDQUFyQyxDQTlLQyxDQThLaUQ7RUFDbEQ7O0VBQ0FBLDRCQUE0QixDQUFDbkQsT0FBN0IsR0FBdUM7SUFDbkM7SUFDQTRCLFdBQVcsYUFGd0I7SUFHbkNwQyxHQUFHLEtBSGdDO0lBSW5DQyxPQUFPLFNBSjRCO0lBS25DQyxVQUFVLFlBTHlCO0lBTW5DQyxTQUFTLFdBTjBCO0lBT25DQyxNQUFNLFFBUDZCO0lBUW5DO0lBQ0FmLFFBQVEsVUFUMkI7SUFVbkNPLEtBQUssT0FWOEI7SUFXbkNDLFFBQVEsVUFYMkI7SUFZbkNQLG1CQUFtQixxQkFaZ0I7SUFhbkNDLE9BQU8sU0FiNEI7SUFjbkNDLFdBQVcsYUFkd0I7SUFlbkNHLGlCQUFpQixtQkFma0I7SUFnQm5DRyxVQUFVLFlBaEJ5QjtJQWlCbkM7SUFDQUwsU0FBUyxXQWxCMEI7SUFtQm5DQyxNQUFNLFFBbkI2QjtJQW9CbkNLLFlBQVk7RUFwQnVCLENBQXZDO0VBd0JBLElBQU02RCw4QkFBOEIsR0FBRyxvQkFBTyxJQUFQLENBQXZDLENBeE1DLENBME1EOztFQUNBQSw4QkFBOEIsQ0FBQ3BELE9BQS9CLEdBQXlDO0lBQ3JDNEIsV0FBVyxhQUQwQjtJQUVyQ3BDLEdBQUcsS0FGa0M7SUFHckNDLE9BQU8sU0FIOEI7SUFJckNDLFVBQVUsWUFKMkI7SUFLckNDLFNBQVMsV0FMNEI7SUFNckNDLE1BQU0sUUFOK0I7SUFPckMrQyxjQUFjLGdCQVB1QjtJQVFyQzlELFFBQVEsVUFSNkI7SUFTckNPLEtBQUssT0FUZ0M7SUFVckNDLFFBQVEsVUFWNkI7SUFXckNnRSxXQUFXLEVBQUN2RSxtQkFYeUI7SUFZckNLLGlCQUFpQjtFQVpvQixDQUF6QyxDQTNNQyxDQTBORDs7RUFDQSxJQUFNbUUsMkJBQTJCLEdBQUcsb0JBQU8sSUFBUCxDQUFwQztFQUNBQSwyQkFBMkIsQ0FBQ3RELE9BQTVCLEdBQXNDO0lBQ2xDO0lBQ0EwQixVQUFVLFlBRndCO0lBR2xDZ0IsY0FBYyxnQkFIb0I7SUFJbENMLGdCQUFnQixrQkFKa0I7SUFLbENFLHVCQUF1Qix5QkFMVztJQU1sQ0MsWUFBWSxjQU5zQjtJQU9sQ0csY0FBYyxnQkFQb0I7SUFRbEM7SUFDQXBDLFlBQVksY0FUc0I7SUFVbENhLGlCQUFpQixtQkFWaUI7SUFXbENaLFdBQVcsYUFYdUI7SUFZbENDLFlBQVksY0Fac0I7SUFhbENFLHFCQUFxQix1QkFiYTtJQWNsQztJQUVBO0lBQ0FMLGNBQWMsZ0JBakJvQjtJQWtCbENELGNBQWM7RUFsQm9CLENBQXRDLENBNU5DLENBaVBEOztFQUNBLElBQU1rRCxXQUFXLEdBQUcsb0JBQU8sSUFBUCxDQUFwQixDQWxQQyxDQW9QRDs7RUFDQSxJQUFNQyxnQkFBZ0IsR0FBRztJQUNyQkQsV0FBVyxhQURVO0lBRXJCeEQsOEJBQThCLGdDQUZUO0lBR3JCb0QsNEJBQTRCLDhCQUhQO0lBSXJCQyw4QkFBOEIsZ0NBSlQ7SUFLckJFLDJCQUEyQiw2QkFMTjtJQU1yQjtJQUNBUCxvQkFBb0I7RUFQQyxDQUF6QjtFQVVBLElBQU1VLG1CQUFtQixHQUFHLG9CQUFPLElBQVAsQ0FBNUI7RUFDQUEsbUJBQW1CLENBQUN6RCxPQUFwQixHQUE4QndELGdCQUE5QixDQWhRQyxDQWtRRDs7RUFDQSxJQUFJLENBQUNELFdBQVcsQ0FBQ3ZELE9BQWpCLEVBQTBCO0lBQ3RCdUQsV0FBVyxDQUFDdkQsT0FBWixHQUFzQjBELGlCQUFpQixDQUFDRixnQkFBRCxDQUF2QztFQUNILENBclFBLENBdVFEOzs7RUFDTSxTQVFGRCxXQUFXLENBQUN2RCxPQVJWO0VBQUEsSUFBRTtFQUNKMkQsZ0JBQWdCLHNCQURkO0VBQUEsSUFFRkMsYUFBYSxtQkFGWDtFQUFBLElBR0ZDLFlBQVksa0JBSFY7RUFBQSxJQUlGQyxjQUFjLG9CQUpaO0VBQUEsSUFLRkMsZUFBZSxxQkFMYjtFQUFBLElBTUZDLGNBQWMsb0JBTlo7RUFBQSxJQU9GQyxhQUFhLG1CQVBYLENBeFFMLENBa1JEO0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUVBLElBQU1DLFVBQVUsR0FBSy9ELGFBQWEsSUFBSSxDQUFsQixJQUF5QkYsY0FBYyxJQUFJLENBQS9ELENBM1JDLENBMlJrRTs7RUFFbkUsSUFBTWtFLGFBQWEsR0FBSUQsVUFBVSxJQUFJMUQsV0FBVyxDQUFDUixPQUFqRDs7RUFFQSxJQUFJbUUsYUFBSixFQUFtQjtJQUNmMUQsWUFBWSxDQUFDVCxPQUFiLEdBQXVCUSxXQUFXLENBQUNSLE9BQW5DO0lBQ0FRLFdBQVcsQ0FBQ1IsT0FBWixHQUFzQmtFLFVBQXRCO0VBQ0g7O0VBRUQsSUFBTUUsaUJBQWlCLEdBQUk1RCxXQUFXLENBQUNSLE9BQVosSUFBdUJTLFlBQVksQ0FBQ1QsT0FBL0Q7O0VBRUEsSUFDSW1FLGFBQWEsS0FDYixpQ0FBMkIsQ0FBQ0UsZ0JBQTVCLE1BQTRDLElBQTVDLElBQTRDQyxhQUE1QyxHQUE0QyxNQUE1QyxHQUE0Q0EsR0FBRXRFLE9BRGpDLENBQWIsSUFFQ0gsMkJBQTJCLENBQUMwRSxVQUE1QixJQUEwQ0gsaUJBSC9DLEVBSUU7SUFFRSxJQUFJLGlDQUEyQixDQUFDQyxnQkFBNUIsTUFBNEMsSUFBNUMsSUFBNENHLGFBQTVDLEdBQTRDLE1BQTVDLEdBQTRDQSxHQUFFeEUsT0FBbEQsRUFBMkQ7TUFFdkRILDJCQUEyQixDQUFDd0UsZ0JBQTVCLENBQTZDckUsT0FBN0MsR0FBdUQsS0FBdkQsQ0FGdUQsQ0FFTTs7TUFFN0RVLDhCQUE4QixDQUFDVixPQUEvQixHQUF5QyxJQUF6QztJQUVIOztJQUVELElBQUlILDJCQUEyQixDQUFDMEUsVUFBaEMsRUFBNEM7TUFBRTtNQUUxQzFFLDJCQUEyQixDQUFDMEUsVUFBNUIsR0FBeUMsS0FBekM7SUFFSDs7SUFFRCxJQUFJSixhQUFKLEVBQW1CO01BQUU7TUFFakIsSUFBSTNELFdBQVcsQ0FBQ1IsT0FBWixJQUF1QixDQUFDUyxZQUFZLENBQUNULE9BQXpDLEVBQWtEO1FBQUU7UUFFaEQyRCxnQkFBZ0IsQ0FBQ2MsZUFBakI7TUFFSCxDQUpELE1BSU8sSUFBSyxDQUFDakUsV0FBVyxDQUFDUixPQUFkLElBQTBCUyxZQUFZLENBQUNULE9BQTNDLEVBQW9EO1FBQUU7UUFFekQyRCxnQkFBZ0IsQ0FBQ2UsaUJBQWpCO01BRUg7SUFFSjtFQUVKLENBeFVBLENBMFVEOzs7RUFDQSx1QkFBVTtJQUVOLElBQUloRSw4QkFBOEIsQ0FBQ1YsT0FBbkMsRUFBNEM7TUFFeENVLDhCQUE4QixDQUFDVixPQUEvQixHQUF5QyxLQUF6QztNQUNBSyxjQUFjLENBQUMsdUJBQUQsQ0FBZDtJQUNIO0VBRUosQ0FSRCxFQVFFLENBQUNLLDhCQUE4QixDQUFDVixPQUFoQyxDQVJGLEVBM1VDLENBcVZEOztFQUNBLHVCQUFVO0lBRU4sSUFBSU0sY0FBYyxDQUFDTixPQUFmLElBQTBCLE9BQTlCLEVBQXVDLE9BRmpDLENBRXdDOztJQUU5QyxJQUFJUSxXQUFXLENBQUNSLE9BQVosSUFBdUIsQ0FBQ1MsWUFBWSxDQUFDVCxPQUF6QyxFQUFrRDtNQUFFO01BRWhESyxjQUFjLENBQUMsUUFBRCxDQUFkLENBRjhDLENBRXJCO0lBRTVCLENBSkQsTUFJTyxJQUFJLENBQUNHLFdBQVcsQ0FBQ1IsT0FBYixJQUF3QlMsWUFBWSxDQUFDVCxPQUF6QyxFQUFrRDtNQUFDO01BRXREUyxZQUFZLENBQUNULE9BQWIsR0FBdUIsS0FBdkI7O01BRUEsSUFBSU0sY0FBYyxDQUFDTixPQUFmLElBQTBCLGVBQTlCLEVBQStDO1FBRTNDSyxjQUFjLENBQUMsT0FBRCxDQUFkO01BRUgsQ0FKRCxNQUlPO1FBRUhBLGNBQWMsQ0FBQyxrQkFBRCxDQUFkO01BQ0g7SUFFSjtFQUVKLENBdkJELEVBdUJFLENBQUNHLFdBQVcsQ0FBQ1IsT0FBYixFQUFzQlMsWUFBWSxDQUFDVCxPQUFuQyxDQXZCRixFQXRWQyxDQStXRDtFQUNBO0VBRUE7O0VBQ0EsNkJBQWdCO0lBRVo7SUFDQSxPQUFPO01BRUhPLFlBQVksQ0FBQ1AsT0FBYixHQUF1QixLQUF2QjtJQUVILENBSkQ7RUFNSCxDQVRELEVBU0UsRUFURixFQW5YQyxDQThYRDs7RUFDQSx1QkFBVTtJQUVOO0lBRUEsSUFBSSxDQUFDZixTQUFTLENBQUMwRixZQUFmLEVBQTZCO0lBR3pCLGdCQUFZLEdBTVpYLGNBQWMsYUFOZDtJQUFBLElBQ0FZLE1BQU0sR0FLTlosY0FBYyxPQU5kO0lBQUEsSUFFQWEsVUFBVSxHQUlWYixjQUFjLFdBTmQ7SUFBQSxJQUdBYyxZQUFZLEdBR1pkLGNBQWMsYUFOZDtJQUFBLElBSUFlLGtCQUFrQixHQUVsQmYsY0FBYyxtQkFOZDtJQVFKLElBQU1nQixTQUFTLEdBQUc7TUFDZEMsWUFBWSxjQURFO01BRWRKLFVBQVUsWUFGSTtNQUdkRCxNQUFNLFFBSFE7TUFJZEUsWUFBWSxjQUpFO01BS2RDLGtCQUFrQixvQkFMSixDQU1kOztJQU5jLENBQWxCO0lBU0E5RixTQUFTLENBQUMwRixZQUFWLENBQXVCSyxTQUF2QjtFQUVILENBMUJELEVBMEJFLEVBMUJGLEVBL1hDLENBMlpEOztFQUNBLHVCQUFVO0lBQ04sSUFBTUUsWUFBWSxHQUFHbkYsOEJBQThCLENBQUNDLE9BQXBEO0lBQ0FrRixZQUFZLENBQUNDLFVBQWIsQ0FBd0JuRixPQUF4QixDQUFnQ29GLGdCQUFoQyxDQUFpRCxRQUFqRCxFQUEwRHhCLGFBQWEsQ0FBQ3lCLFFBQXhFO0lBRUEsT0FBTztNQUVISCxZQUFZLENBQUNDLFVBQWIsQ0FBd0JuRixPQUF4QixJQUFtQ2tGLFlBQVksQ0FBQ0MsVUFBYixDQUF3Qm5GLE9BQXhCLENBQWdDc0YsbUJBQWhDLENBQW9ELFFBQXBELEVBQTZEMUIsYUFBYSxDQUFDeUIsUUFBM0UsQ0FBbkM7SUFFSCxDQUpEO0VBTUgsQ0FWRCxFQVVFLEVBVkYsRUE1WkMsQ0F3YUQ7O0VBRUE7Ozs7Ozs7RUFNQSx1QkFBVTtJQUVOO0lBQ0E7SUFDQTtJQUNBLElBQU1FLHVCQUF1QixHQUFHNUIsZ0JBQWdCLENBQUM2QixlQUFqQixDQUFpQ0MsY0FBakMsRUFBaEM7SUFDQTlCLGdCQUFnQixDQUFDNkIsZUFBakIsQ0FBaUNFLGVBQWpDLEdBTk0sQ0FRTjtJQUNBOztJQUNBLElBQU1DLGVBQWUsR0FBR2hDLGdCQUFnQixDQUFDaUMseUJBQWpCLENBQTJDSCxjQUEzQyxFQUF4QjtJQUNBOUIsZ0JBQWdCLENBQUNpQyx5QkFBakIsQ0FBMkNGLGVBQTNDLEdBWE0sQ0FhTjs7SUFDQSxJQUFNRyxjQUFjLEdBQUdsQyxnQkFBZ0IsQ0FBQ21DLFlBQWpCLENBQThCTCxjQUE5QixFQUF2QjtJQUNBOUIsZ0JBQWdCLENBQUNtQyxZQUFqQixDQUE4QkosZUFBOUI7SUFFQSxPQUFPO01BRUhILHVCQUF1QixDQUFDUSxVQUF4QjtNQUNBSixlQUFlLENBQUNJLFVBQWhCO01BQ0FGLGNBQWMsQ0FBQ0UsVUFBZjtJQUVILENBTkQ7RUFRSCxDQXpCRCxFQXlCRSxFQXpCRixFQWhiQyxDQTJjRDs7RUFDQSx1QkFBVTtJQUVOLElBQUkzRyxLQUFLLElBQUksU0FBYixFQUF3QjtJQUV4QmlCLGNBQWMsQ0FBQyxjQUFELENBQWQ7RUFFSCxDQU5ELEVBTUUsRUFORixFQTVjQyxDQW9kRDtFQUNBO0VBRUE7O0VBQ0EsdUJBQVU7SUFFTixJQUFJQyxjQUFjLENBQUNOLE9BQWYsSUFBMEIsT0FBOUIsRUFBdUMsT0FGakMsQ0FJTjs7SUFDQSxJQUFJUSxXQUFXLENBQUNSLE9BQVosSUFBdUJTLFlBQVksQ0FBQ1QsT0FBeEMsRUFBaUQ7TUFFN0M7SUFFSDs7SUFFRCxJQUFJRCw4QkFBOEIsQ0FBQ0MsT0FBL0IsQ0FBdUN1RSxVQUEzQyxFQUF1RDtNQUVuRFosZ0JBQWdCLENBQUNjLGVBQWpCLEdBRm1ELENBSW5EOztNQUNBcEUsY0FBYyxDQUFDLFVBQUQsQ0FBZDtJQUVILENBbEJLLENBb0JOOzs7SUFDQSxJQUFJLENBQUNOLDhCQUE4QixDQUFDQyxPQUEvQixDQUF1Q3VFLFVBQXhDLElBQXVEakUsY0FBYyxDQUFDTixPQUFmLElBQTBCLFVBQXJGLEVBQWtHO01BRTlGSyxjQUFjLENBQUMsY0FBRCxDQUFkO0lBRUg7RUFFSixDQTNCRCxFQTJCRSxDQUFDTiw4QkFBOEIsQ0FBQ0MsT0FBL0IsQ0FBdUN1RSxVQUF4QyxDQTNCRixFQXhkQyxDQXFmRDs7RUFDQSx1QkFBVTtJQUVOLElBQUlqRSxjQUFjLENBQUNOLE9BQWYsSUFBMEIsT0FBOUIsRUFBdUM7SUFFdkMsSUFBSVEsV0FBVyxDQUFDUixPQUFoQixFQUF5QjtJQUV6QixJQUFNZ0csT0FBTyxHQUFHckMsZ0JBQWdCLENBQUNxQyxPQUFqQztJQUVBckMsZ0JBQWdCLENBQUNjLGVBQWpCO0lBRUFwRSxjQUFjLENBQUMsYUFBRCxDQUFkO0VBRUgsQ0FaRCxFQVlFLENBQ0V4QixRQURGLEVBRUVhLFVBRkYsRUFHRUMsU0FIRixFQUlFSCxHQUpGLEVBS0VDLE9BTEYsRUFNRU4saUJBTkYsQ0FaRixFQXRmQyxDQTJnQkQ7O0VBQ0EsdUJBQVU7SUFFTjRFLGVBQWUsQ0FBQ2tDLGtCQUFoQixDQUFtQ0MsbUJBQW5DLEdBQ0t0RSxXQUFXLElBQUksVUFBaEIsR0FBNEIsV0FBNUIsR0FBd0MsWUFENUM7SUFHQSxJQUFJdEIsY0FBYyxDQUFDTixPQUFmLElBQTBCLE9BQTlCLEVBQXVDO0lBRXZDLElBQUlRLFdBQVcsQ0FBQ1IsT0FBaEIsRUFBeUI7SUFFbkIsU0FJRm1ELDRCQUE0QixDQUFDbkQsT0FKM0I7SUFBQSxJQUNGTCxTQUFTLGVBRFA7SUFBQSxJQUVGRCxVQUFVLGdCQUZSO0lBQUEsSUFHRkYsR0FBRyxTQUhELENBVEEsQ0FlTjs7SUFDQSxJQUFNMkcsdUJBQXVCLEdBQ3pCLENBQUV2RSxXQUFXLElBQUksVUFBaEIsR0FDR2pDLFNBREgsR0FFR0QsVUFGSixJQUdFRixHQUpOO0lBTUEsSUFBTTRHLGtCQUFrQixHQUFHckMsZUFBZSxDQUFDa0Msa0JBQWhCLENBQW1DSSxxQkFBOUQ7SUFFQSxJQUFNQyxhQUFhLEdBQUdGLGtCQUFrQixHQUFDRCx1QkFBekM7SUFFQSxJQUFNSSxvQkFBb0IsR0FDdEIsQ0FBRTNFLFdBQVcsSUFBSSxVQUFoQixHQUNHbEMsVUFESCxHQUVHQyxTQUZKLElBR0VILEdBSk47SUFNQSxJQUFNZ0gsZUFBZSxHQUFHRixhQUFhLEdBQUdDLG9CQUF4QztJQUVBeEMsZUFBZSxDQUFDa0Msa0JBQWhCLENBQW1DSSxxQkFBbkMsR0FBMkRyRSxJQUFJLENBQUN5RSxLQUFMLENBQVdELGVBQVgsQ0FBM0Q7SUFFQTdDLGdCQUFnQixDQUFDYyxlQUFqQjtJQUVBcEUsY0FBYyxDQUFDLE9BQUQsQ0FBZDtFQUVILENBeENELEVBd0NFLENBQUN1QixXQUFELENBeENGLEVBNWdCQyxDQXNqQkQ7RUFFQTs7RUFDTSxTQU9GLHFCQUFRO0lBRVIsT0FBT3FDLGFBQWEsQ0FBQ3lDLGVBQWQsQ0FBOEI7TUFFakM5RSxXQUFXLGFBRnNCO01BR2pDbEMsVUFBVSxZQUh1QjtNQUlqQ0MsU0FBUyxXQUp3QjtNQUtqQ0gsR0FBRyxLQUw4QjtNQU1qQ0MsT0FBTyxTQU4wQjtNQU9qQ1EsY0FBYyxnQkFQbUI7TUFRakNFLGFBQWEsZUFSb0I7TUFTakN1QixVQUFVLFlBVHVCO01BVWpDaUYsVUFBVSxFQUFDekgsTUFWc0I7TUFXakNDLGlCQUFpQjtJQVhnQixDQUE5QixDQUFQO0VBZUgsQ0FqQkcsRUFpQkYsQ0FFRXlDLFdBRkYsRUFHRWxDLFVBSEYsRUFJRUMsU0FKRixFQUtFSCxHQUxGLEVBTUVDLE9BTkYsRUFPRVEsY0FQRixFQVFFRSxhQVJGLEVBU0V1QixVQVRGLEVBVUV4QyxNQVZGLEVBV0VDLGlCQVhGLENBakJFLENBUEU7RUFBQSxJQUNGeUgsZUFBZSxRQURiO0VBQUEsSUFFRkMsZUFBZSxRQUZiO0VBQUEsSUFHRkMsZUFBZSxRQUhiO0VBQUEsSUFJRkMsb0JBQW9CLFFBSmxCO0VBQUEsSUFLRkMsb0JBQW9CLFFBTGxCO0VBQUEsSUFNRkMsa0JBQWtCLFFBTmhCLENBempCTCxDQWdtQkQ7RUFFQTtFQUNBOzs7RUFDQSw2QkFBZ0I7SUFFWixRQUFRN0csV0FBUjtNQUVJLEtBQUssT0FBTDtRQUFjO1VBQUU7VUFFWixJQUFJK0MsNEJBQTRCLENBQUNuRCxPQUE3QixDQUFxQ1osS0FBckMsSUFBOEMsU0FBbEQsRUFBNkQ7WUFDekQsSUFBSW9CLFdBQVcsQ0FBQ1IsT0FBaEIsRUFBeUI7Y0FDckJLLGNBQWMsQ0FBQyxRQUFELENBQWQ7WUFDSCxDQUZELE1BRU87Y0FDSEEsY0FBYyxDQUFDLFNBQUQsQ0FBZCxDQURHLENBQ3VCO1lBQzdCO1VBQ0o7O1VBQ0Q7UUFFSDs7TUFDRCxLQUFLLGNBQUw7UUFBb0I7VUFFaEJ5RCxjQUFjLENBQUNlLFVBQWY7VUFDQXhFLGNBQWMsQ0FBQyxXQUFELENBQWQ7VUFFQTtRQUNIOztNQUVELEtBQUssV0FBTDtRQUFrQjtVQUVkLElBQU02RyxRQUFRLEdBQUcsU0FBWEEsUUFBVztZQUViN0csY0FBYyxDQUFDLGVBQUQsQ0FBZDtVQUVILENBSkQsQ0FGYyxDQVFkOzs7VUFDQWQsWUFBWSxDQUFDNEgsT0FBYixDQUFxQjFELG1CQUFtQixDQUFDekQsT0FBekMsRUFBa0RrSCxRQUFsRCxFQUE0RDVILFVBQTVEO1VBRUE7UUFDSDs7TUFFRCxLQUFLLGVBQUw7UUFBc0I7VUFFbEIsSUFBSSxDQUFDbUIsWUFBWSxDQUFDVCxPQUFkLElBQXlCLENBQUNRLFdBQVcsQ0FBQ1IsT0FBMUMsRUFBa0Q7WUFFOUNLLGNBQWMsQ0FBQyxPQUFELENBQWQ7VUFFSDs7VUFDRDtRQUNIOztNQUVELEtBQUssUUFBTDtRQUFlO1VBRVgsSUFBSSxDQUFDSSxZQUFZLENBQUNULE9BQWQsSUFBeUIsQ0FBQ1EsV0FBVyxDQUFDUixPQUExQyxFQUFrRDtZQUU5Q0ssY0FBYyxDQUFDLGtCQUFELENBQWQ7VUFFSDs7VUFDRDtRQUNIOztNQUVELEtBQUssaUJBQUw7UUFBdUI7VUFFbkIsSUFBSUcsV0FBVyxDQUFDUixPQUFoQixFQUF5QjtZQUFFO1lBRXZCSyxjQUFjLENBQUMsZUFBRCxDQUFkO1VBRUgsQ0FKRCxNQUlPO1lBRUhBLGNBQWMsQ0FBQyxPQUFELENBQWQ7VUFFSDs7VUFFRDtRQUNIO01BRUQ7TUFDQTs7TUFDQSxLQUFLLHNCQUFMO1FBQTZCO1VBQUU7VUFFM0I7VUFFQStHLGFBQWEsQ0FBQ0MscUJBQWQsR0FBc0NELGFBQWEsQ0FBQ0UsbUJBQXBEO1VBQ0FGLGFBQWEsQ0FBQ0cscUJBQWQsR0FBc0NILGFBQWEsQ0FBQ0ksbUJBQXBEO1VBRUFuSCxjQUFjLENBQUMsc0JBQUQsQ0FBZDtVQUVBO1FBRUg7O01BRUQsS0FBSyxzQkFBTDtRQUE2QjtVQUFFO1VBRW5CLFdBQUssR0FBS2lELDJCQUEyQixDQUFDdEQsT0FBNUIsQ0FBbUNaLEtBQTdDOztVQUNSLElBQUlxSSxPQUFLLElBQUksVUFBYixFQUF5QjtZQUVyQjNELGNBQWMsQ0FBQzRELDBCQUFmO1VBRUg7O1VBQ0QvRCxnQkFBZ0IsQ0FBQ2lDLHlCQUFqQixDQUEyQ0YsZUFBM0M7VUFDQS9CLGdCQUFnQixDQUFDcUMsT0FBakIsQ0FBeUIyQix5QkFBekIsR0FBcUQsS0FBckQ7VUFDQXRILGNBQWMsQ0FBQyxPQUFELENBQWQ7VUFFQTtRQUNIOztNQUVELEtBQUssaUJBQUw7UUFBd0I7VUFFWixXQUFPLEdBQUtzRCxnQkFBZ0IsUUFBNUI7VUFFUnFDLE9BQU8sQ0FBQzJCLHlCQUFSLEdBQW9DLElBQXBDLENBSm9CLENBTXBCOztVQUNBM0IsT0FBTyxDQUFDNEIsK0JBQVIsR0FBMEMsSUFBMUM7VUFDQTVCLE9BQU8sQ0FBQzZCLHFCQUFSLEdBQWdDLEtBQWhDLENBUm9CLENBUWtCOztVQUV0Q3hILGNBQWMsQ0FBQyxxQkFBRCxDQUFkO1VBRUE7UUFFSDs7TUFFRDs7Ozs7OztNQU1BLEtBQUssa0JBQUw7TUFDQSxLQUFLLFNBQUw7TUFDQSxLQUFLLGVBQUw7TUFDQSxLQUFLLGNBQUwsQ0E5SEosQ0E4SHlCOztNQUNyQixLQUFLLGNBQUw7TUFDQSxLQUFLLE9BQUw7TUFDQSxLQUFLLGFBQUwsQ0FqSUosQ0FpSXdCOztNQUNwQixLQUFLLFFBQUw7UUFBZTtVQUVYLElBQUlHLFdBQVcsQ0FBQ1IsT0FBaEIsRUFBeUI7WUFBRTtZQUN2QkssY0FBYyxDQUFDLFFBQUQsQ0FBZDtZQUNBO1VBQ0g7O1VBRUQsSUFBTXlILGVBQWEsR0FBR2hFLGNBQWMsQ0FBQ2lFLE9BQXJDO1VBRUFELGVBQWEsQ0FBQ1IsbUJBQWQsR0FBb0MsRUFBcEM7VUFDQVEsZUFBYSxDQUFDTixtQkFBZCxHQUFvQyxFQUFwQyxDQVZXLENBWVg7O1VBQ0FNLGVBQWEsQ0FBQ1QscUJBQWQsR0FBc0MsRUFBdEM7VUFDQVMsZUFBYSxDQUFDUCxxQkFBZCxHQUFzQyxFQUF0Qzs7VUFFQSxJQUFJbkgsV0FBVyxJQUFJLFFBQW5CLEVBQTZCO1lBQ3pCYixZQUFZLENBQUNzRixVQUFiO1VBQ0g7O1VBRURmLGNBQWMsQ0FBQ2tFLGdCQUFmLENBQWlDNUgsV0FBakM7VUFFQSxJQUFNNkgsT0FBSyxHQUFHM0UsMkJBQTJCLENBQUN0RCxPQUE1QixDQUFvQ1osS0FBbEQ7O1VBQ0EsSUFBSTZJLE9BQUssSUFBSSxRQUFiLEVBQXVCO1lBQ25CLElBQU1DLGtCQUFrQixHQUFHcEUsY0FBYyxDQUFDaUUsT0FBZixDQUF1QkkscUJBQWxEO1lBQ0EsSUFBTUMsY0FBYyxHQUFHRixrQkFBa0IsQ0FBQ0csR0FBbkIsQ0FBdUIsZ0JBQUk7Y0FBRSxXQUFJLENBQUNDLEtBQUwsQ0FBV0MsS0FBWDtZQUFnQixDQUE3QyxDQUF2QjtZQUNBaEosWUFBWSxDQUFDaUosa0JBQWIsQ0FBZ0NKLGNBQWhDLEVBQWdEcEUsY0FBYyxDQUFDZ0IsU0FBZixDQUF5QjlCLHVCQUF6RTtZQUNBM0QsWUFBWSxDQUFDa0osZ0JBQWI7VUFDSDs7VUFFRHBJLGNBQWMsQ0FBQyxlQUFELENBQWQ7VUFFQTtRQUNIOztNQUVELEtBQUssZUFBTDtRQUFzQjtVQUFFO1VBRXBCLElBQU1xSSxlQUFhLEdBQUc1RSxjQUFjLENBQUNpRSxPQUFyQztVQUVBVyxlQUFhLENBQUNyQixxQkFBZCxHQUFzQ3FCLGVBQWEsQ0FBQ3BCLG1CQUFwRDtVQUNBb0IsZUFBYSxDQUFDbkIscUJBQWQsR0FBc0NtQixlQUFhLENBQUNsQixtQkFBcEQ7VUFFQW5ILGNBQWMsQ0FBQyxrQkFBRCxDQUFkO1VBRUE7UUFDSDs7TUFFRCxLQUFLLGtCQUFMO1FBQXlCO1VBQUU7VUFFdkI7VUFFQTtVQUNBO1VBQ0E7VUFFQTtVQUVBO1VBRUE7VUFFQXNELGdCQUFnQixDQUFDZSxpQkFBakI7VUFFQXJFLGNBQWMsQ0FBQyxPQUFELENBQWQsQ0FoQnFCLENBa0JyQjs7VUFFQTtRQUVIO01BRUQ7O01BQ0EsS0FBSyxZQUFMO1FBQW1CO1VBRWZ5RCxjQUFjLENBQUNlLFVBQWY7VUFDQXhFLGNBQWMsQ0FBQyxPQUFELENBQWQ7VUFFQTtRQUNIO01BRUQ7TUFDQTs7TUFDQSxLQUFLLHVCQUFMO1FBQThCO1VBRWQsc0JBQWtCLEdBQUswRCxlQUFlLG1CQUF0QyxDQUZjLENBSXRCOztVQUNBLElBQUlrQyxrQkFBa0IsQ0FBQzBDLGNBQW5CLEtBQXNDLElBQTFDLEVBQWdEO1lBRTVDO1lBRUEsSUFBTUMsZUFBZSxHQUFHN0ksOEJBQThCLENBQUNDLE9BQS9CLENBQXVDbUYsVUFBdkMsQ0FBa0RuRixPQUExRTtZQUVBNEksZUFBZSxDQUFDM0Msa0JBQWtCLENBQUNDLG1CQUFwQixDQUFmLEdBQ0lELGtCQUFrQixDQUFDMEMsY0FEdkI7VUFHSDs7VUFFRHRJLGNBQWMsQ0FBQyxpQkFBRCxDQUFkO1VBRUo7UUFFSDtJQXhPTDtFQTRPSCxDQTlPRCxFQThPRSxDQUFDRCxXQUFELENBOU9GLEVBcG1CQyxDQW8xQkQ7O0VBQ0EsdUJBQVU7SUFFTixRQUFRQSxXQUFSO01BRUk7TUFDQTtNQUNBLEtBQUsscUJBQUw7UUFDSTs7TUFFSixLQUFLLDJCQUFMO1FBQWtDO1FBQzlCQyxjQUFjLENBQUMscUJBQUQsQ0FBZDtRQUNBOztNQUVKLEtBQUssT0FBTDtRQUFjO1FBQ1Y7SUFaUjtFQWdCSCxDQWxCRCxFQWtCRSxDQUFDRCxXQUFELENBbEJGLEVBcjFCQyxDQXkyQkQ7O0VBRUEsSUFBTXlJLHdCQUF3QixHQUFHOUUsZUFBZSxDQUFDa0Msa0JBQWhCLENBQW1DNkMsd0JBQXBFO0VBQ0EsSUFBTUMsaUJBQWlCLEdBQUcscUJBQVE7SUFDOUIsSUFBSSxFQUFFM0ksV0FBVyxJQUFJLDJCQUFmLElBQThDQSxXQUFXLElBQUkscUJBQS9ELENBQUosRUFBMkY7TUFDdkYsT0FBTyxJQUFQO0lBQ0g7O0lBQ0QsSUFBTTRJLFdBQVcsR0FBRztNQUNoQkMsR0FBRyxFQUFDL0ksa0JBQWtCLENBQUMrSSxHQUFuQixHQUF5QixDQURiO01BRWhCQyxJQUFJLEVBQUNoSixrQkFBa0IsQ0FBQ2dKLElBQW5CLEdBQTBCLENBRmY7TUFHaEJMLHdCQUF3QiwwQkFIUjtNQUloQmhLLFFBQVEsVUFKUTtNQUtoQkssTUFBTTtJQUxVLENBQXBCO0lBT0EsT0FBTzhKLFdBQVA7RUFDSCxDQVp5QixFQWF0QixDQUNJNUksV0FESixFQUVJRixrQkFGSixFQUdJMkksd0JBSEosRUFJSWhLLFFBSkosRUFLSUssTUFMSixDQWJzQixDQUExQjtFQXNCQSxJQUFNa0ksYUFBYSxHQUFHdEQsY0FBYyxDQUFDaUUsT0FBckM7RUFFQSxJQUFNb0IsZUFBZSxHQUFHLG9CQUFPO0lBQUMvRiw4QkFBOEIsZ0NBQS9CO0lBQWlDN0QsWUFBWTtFQUE3QyxDQUFQLENBQXhCLENBcDRCQyxDQXM0QkQ7O0VBQ0EsT0FBT2hCLGlDQUFDRCxzQkFBYzhLLFFBQWYsRUFBdUI7SUFBQ0MsS0FBSyxFQUFJRixlQUFlLENBQUNuSjtFQUExQixDQUF2QixFQUNBSSxXQUFXLElBQUkscUJBQWhCLElBQ0dBLFdBQVcsSUFBSSwyQkFEbkIsR0FFRzdCLGlDQUFDK0ssMEJBQUQsRUFBYztJQUNWTCxHQUFHLEVBQUlGLGlCQUFpQixDQUFDRSxHQURmO0lBRVZDLElBQUksRUFBSUgsaUJBQWlCLENBQUNHLElBRmhCO0lBR1ZwSSxNQUFNLEVBQUlpSSxpQkFBaUIsQ0FBQ0Ysd0JBSGxCO0lBSVZoSyxRQUFRLEVBQUlrSyxpQkFBaUIsQ0FBQ2xLLFFBSnBCO0lBS1ZLLE1BQU0sRUFBSTZKLGlCQUFpQixDQUFDN0o7RUFMbEIsQ0FBZCxDQUZILEdBU0dYO0lBQUEsYUFDZ0IsYUFEaEI7SUFFSWdMLEtBQUssRUFBSXpDLGVBRmI7SUFHSTBDLEdBQUcsRUFBSXZJO0VBSFgsR0FLSTFDO0lBQUEsYUFDZ0Isa0JBRGhCO0lBRUlnTCxLQUFLLEVBQUl4QyxvQkFGYjtJQUdJeUMsR0FBRyxFQUFJdEk7RUFIWCxFQUxKLEVBV0kzQztJQUFBLGFBQ2dCLGtCQURoQjtJQUVJZ0wsS0FBSyxFQUFJdkMsb0JBRmI7SUFHSXdDLEdBQUcsRUFBSXJJO0VBSFgsRUFYSixFQWtCSyxLQUFJLEdBQ0Q1QztJQUFBLGFBQ2dCLGdCQURoQjtJQUVJZ0wsS0FBSyxFQUFJdEM7RUFGYixFQURILEdBTUcsQ0F4QlIsRUEwQkkxSTtJQUFBLGFBRWdCLE1BRmhCO0lBR0lpTCxHQUFHLEVBQUl6SSxvQkFIWDtJQUlJd0ksS0FBSyxFQUFJM0M7RUFKYixHQVFNeEcsV0FBVyxJQUFJLE9BQWhCLEdBQ0dnSCxhQUFhLENBQUNDLHFCQURqQixHQUVHLElBVlIsQ0ExQkosRUF3Q0k5STtJQUFBLGFBRWdCLE1BRmhCO0lBR0lpTCxHQUFHLEVBQUl4SSxvQkFIWDtJQUlJdUksS0FBSyxFQUFJMUM7RUFKYixHQU9NekcsV0FBVyxJQUFJLE9BQWhCLEdBQ0dnSCxhQUFhLENBQUNHLHFCQURqQixHQUVHLElBVFIsQ0F4Q0osQ0FWRCxDQUFQO0FBcUVILENBNzlCRCxDLENBNjlCRTtBQUVGOzs7QUFFQSxJQUFNN0QsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFvQixDQUFDRixnQkFBRCxFQUFpQjtFQUV2QyxJQUFNaUcsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixVQUFPO0lBQUksV0FBSUMsT0FBSixDQUFZbEcsZ0JBQVo7RUFBNkIsQ0FBOUQ7O0VBRUEsT0FBTztJQUNIakUsWUFBWSxFQUFDaUUsZ0JBQWdCLENBQUNMLDRCQUFqQixDQUE4Q25ELE9BQTlDLENBQXNEVCxZQURoRTtJQUVIb0UsZ0JBQWdCLEVBQUM4RixhQUFhLENBQUNFLDZCQUFELENBRjNCO0lBR0gvRixhQUFhLEVBQUM2RixhQUFhLENBQUNHLDBCQUFELENBSHhCO0lBSUgvRixZQUFZLEVBQUM0RixhQUFhLENBQUNJLHlCQUFELENBSnZCO0lBS0gvRixjQUFjLEVBQUMyRixhQUFhLENBQUNLLDJCQUFELENBTHpCO0lBTUgvRixlQUFlLEVBQUMwRixhQUFhLENBQUNNLDRCQUFELENBTjFCO0lBT0gvRixjQUFjLEVBQUN5RixhQUFhLENBQUNPLDJCQUFELENBUHpCO0lBUUgvRixhQUFhLEVBQUN3RixhQUFhLENBQUNRLDBCQUFEO0VBUnhCLENBQVA7QUFVSCxDQWREOztBQWdCQTNMLGtCQUFBQSxHQUFlRyxNQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUudHN4PzE4M2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY3JhZGxlLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjIgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBjb25zaWRlciBmb3JtYWxpemluZyBzdGF0ZSBjb25kaXRpb25zIChjZXJ0YWluIHVzZVJlZnMpLCB0b2dldGhlciB3aXRoIHN0YXRlIGFjdGlvbnMgKHVzZVN0YXRlKVxuXG4gICAgQlVHOiBjYWNoZSBpcyBsYXN0IGltb3J0IHN0YXRlOyBzaG91bGQgYmUgcmVhZHlcbiAgICAtIHJhdGlvbmFsaXplIHBhdXNlU2Nyb2xsaW5nLCBhbmQgb3RoZXIgc2lnbmFsc1xuKi9cblxuaW1wb3J0IFJlYWN0LCB7IFxuICAgIHVzZVN0YXRlLCBcbiAgICB1c2VSZWYsIFxuICAgIHVzZUNvbnRleHQsIFxuICAgIHVzZUVmZmVjdCwgXG4gICAgdXNlTGF5b3V0RWZmZWN0LCBcbiAgICB1c2VDYWxsYmFjaywgXG4gICAgdXNlTWVtbyBcbn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFZpZXdwb3J0SW50ZXJydXB0IH0gZnJvbSAnLi92aWV3cG9ydCdcblxuLy8gcG9wdXAgcG9zaXRpb24gdHJhY2tlciBmb3IgcmVwb3NpdGlvbmluZ1xuaW1wb3J0IFNjcm9sbFRyYWNrZXIgZnJvbSAnLi9zY3JvbGx0cmFja2VyJ1xuXG4vLyBzdXBwb3J0IGNvZGVcbmltcG9ydCBTY3JvbGxIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3Njcm9sbGhhbmRsZXInXG5pbXBvcnQgU3RhdGVIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3N0YXRlaGFuZGxlcidcbmltcG9ydCBDb250ZW50SGFuZGxlciBmcm9tICcuL2NyYWRsZS9jb250ZW50aGFuZGxlcidcbmltcG9ydCBTY2FmZm9sZEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc2NhZmZvbGRoYW5kbGVyJ1xuaW1wb3J0IEludGVycnVwdEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvaW50ZXJydXB0aGFuZGxlcidcbmltcG9ydCBTZXJ2aWNlSGFuZGxlciBmcm9tICcuL2NyYWRsZS9zZXJ2aWNlaGFuZGxlcidcbmltcG9ydCBTdHlsZXNIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3N0eWxlc2hhbmRsZXInXG5cbi8vIGZvciBjaGlsZHJlblxuZXhwb3J0IGNvbnN0IENyYWRsZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpXG5cbi8vIGNvbXBvbmVudFxuY29uc3QgQ3JhZGxlID0gKHsgXG4gICAgICAgIGdyaWRTcGVjcyxcblxuICAgICAgICBydW53YXlTaXplLCBcbiAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICBkZWZhdWx0VmlzaWJsZUluZGV4LCBcbiAgICAgICAgZ2V0SXRlbSwgXG4gICAgICAgIHBsYWNlaG9sZGVyLCBcbiAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgc2Nyb2xsZXJJRCxcblxuICAgICAgICBjYWNoZUhhbmRsZXIsXG4gICAgfSkgPT4ge1xuXG4gICAgaWYgKGxpc3RzaXplID09IDApIHJldHVybiAvLyBub3RoaW5nIHRvIGRvXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1bIERBVEEgU0VUVVAgXT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdW5wYWNrIGdyaWRTcGVjc1xuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgLy8gZ2V0IHZpZXdwb3J0IGNvbnRleHRcbiAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB1c2VDb250ZXh0KFZpZXdwb3J0SW50ZXJydXB0KVxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiA9IHVzZVJlZihudWxsKVxuICAgIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIC8vIGZvciBjbG9zdXJlc1xuXG4gICAgY29uc3QgeyB2aWV3cG9ydERpbWVuc2lvbnMgfSA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1xuICAgIGNvbnN0IHsgaGVpZ2h0OnZpZXdwb3J0aGVpZ2h0LHdpZHRoOnZpZXdwb3J0d2lkdGggfSA9IHZpZXdwb3J0RGltZW5zaW9uc1xuXG4gICAgLy8gc3RhdGVcbiAgICBjb25zdCBbY3JhZGxlU3RhdGUsIHNldENyYWRsZVN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG4gICAgY29uc3QgY3JhZGxlU3RhdGVSZWYgPSB1c2VSZWYobnVsbCkgLy8gYWNjZXNzIGJ5IGNsb3N1cmVzXG4gICAgY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9IGNyYWRsZVN0YXRlXG5cbiAgICAvLyBjb25zb2xlLmxvZygnUlVOTklORyBjcmFkbGVTdGF0ZScsJy0nK3Njcm9sbGVySUQrJy0nLCBjcmFkbGVTdGF0ZSlcblxuICAgIC8vIGNvbnRyb2xzXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG4gICAgY29uc3QgaXNDYWNoZWRSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3Qgd2FzQ2FjaGVkUmVmID0gdXNlUmVmKGZhbHNlKVxuICAgIGNvbnN0IHBhcmVudGluZ1RyYW5zaXRpb25SZXF1aXJlZFJlZiA9IHVzZVJlZihmYWxzZSlcbiAgICBjb25zdCB0cmlnZ2VybGluZVJlY29yZHNSZWYgPSB1c2VSZWYoeyAvLyB0byBjYWxjdWxhdGUgaW5mZXJyZWQgdHJpZ2dlclxuICAgICAgICB3YXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQ6bnVsbCxcbiAgICAgICAgZHJpdmVyOm51bGwsXG4gICAgICAgIG9mZnNldDpudWxsLFxuICAgIH0pXG5cbiAgICAvLyBjcmFkbGUgc2NhZmZvbGQgZWxlbWVudCByZWZzXG4gICAgY29uc3QgaGVhZENyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCB0YWlsQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGF4aXNDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgaGVhZFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IHRhaWxUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIHNjYWZmb2xkIGJ1bmRsZVxuICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzUmVmID0gdXNlUmVmKFxuICAgICAgICB7XG4gICAgICAgICAgICBoZWFkUmVmOmhlYWRDcmFkbGVFbGVtZW50UmVmLCBcbiAgICAgICAgICAgIHRhaWxSZWY6dGFpbENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgYXhpc1JlZjpheGlzQ3JhZGxlRWxlbWVudFJlZixcbiAgICAgICAgICAgIGhlYWRUcmlnZ2VybGluZVJlZjpoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmLFxuICAgICAgICAgICAgdGFpbFRyaWdnZXJsaW5lUmVmOnRhaWxUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWZcbiAgICAgICAgfVxuICAgIClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlZCBwcm9wZXJ0aWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGNvbmZpZ3VyYXRpb24gY2FsY3VsYXRpb25zXG4gICAgY29uc3QgY3Jvc3Njb3VudCA9IHVzZU1lbW8oKCkgPT4geyAvLyB0aGUgbnVtYmVyIG9mIGNlbGxzIGNyb3NzaW5nIG9yaWVudGF0aW9uXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRzaXplID0gKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/dmlld3BvcnRoZWlnaHQ6dmlld3BvcnR3aWR0aFxuXG4gICAgICAgIGlmICh2aWV3cG9ydHNpemUgPT0gMCkge1xuXG4gICAgICAgICAgICByZXR1cm4gMFxuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3Jvc3NMZW5ndGggPSAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKT9jZWxsSGVpZ2h0OmNlbGxXaWR0aFxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0bGVuZ3RoZm9yY2FsYyA9IHZpZXdwb3J0c2l6ZSAtIChwYWRkaW5nICogMikgKyBnYXAgLy8gbGVuZ3RoIG9mIHZpZXdwb3J0XG4gICAgICAgIGxldCB0aWxlbGVuZ3RoZm9yY2FsYyA9IGNyb3NzTGVuZ3RoICsgZ2FwXG4gICAgICAgIHRpbGVsZW5ndGhmb3JjYWxjID0gTWF0aC5taW4odGlsZWxlbmd0aGZvcmNhbGMsdmlld3BvcnRsZW5ndGhmb3JjYWxjKSAvLyByZXN1bHQgY2Fubm90IGJlIGxlc3MgdGhhbiAxXG5cbiAgICAgICAgY29uc3QgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3Iodmlld3BvcnRsZW5ndGhmb3JjYWxjL3RpbGVsZW5ndGhmb3JjYWxjKVxuXG4gICAgICAgIHJldHVybiBjcm9zc2NvdW50XG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBnYXAsIFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICBdKVxuXG4gICAgY29uc3QgW1xuICAgICAgICBjcmFkbGVSb3djb3VudCwgXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsIFxuICAgICAgICB2aWV3cG9ydFZpc2libGVSb3djb3VudCwgLy8gbWF4IG51bWJlciBvZiByb3dzIGNvbXBsZXRlbHkgdmlzaWJsZSBhdCBvbmNlXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgXSA9IHVzZU1lbW8oKCk9PiB7XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0TGVuZ3RoLCByb3dMZW5ndGhcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gdmlld3BvcnRoZWlnaHRcbiAgICAgICAgICAgIHJvd0xlbmd0aCA9IGNlbGxIZWlnaHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gdmlld3BvcnR3aWR0aFxuICAgICAgICAgICAgcm93TGVuZ3RoID0gY2VsbFdpZHRoXG4gICAgICAgIH1cblxuICAgICAgICByb3dMZW5ndGggKz0gZ2FwXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRSb3djb3VudCA9IE1hdGguY2VpbCh2aWV3cG9ydExlbmd0aC9yb3dMZW5ndGgpXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRWaXNpYmxlUm93Y291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0TGVuZ3RoL3Jvd0xlbmd0aClcblxuICAgICAgICBjb25zdCBsaXN0Um93Y291bnQgPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudClcblxuICAgICAgICBjb25zdCBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQgPSB2aWV3cG9ydFJvd2NvdW50ICsgKHJ1bndheVNpemUgKiAyKVxuXG4gICAgICAgIGxldCBjcmFkbGVSb3djb3VudCA9IE1hdGgubWluKGxpc3RSb3djb3VudCwgY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50KVxuXG4gICAgICAgIGxldCBydW53YXlSb3djb3VudFxuICAgICAgICBpZiAoY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50ID49IGNyYWRsZVJvd2NvdW50KSB7XG4gICAgICAgICAgICBydW53YXlSb3djb3VudCA9IHJ1bndheVNpemVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAoY3JhZGxlUm93Y291bnQgLSBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQpXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCAtPSBNYXRoLmZsb29yKGRpZmYvMilcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50ID0gTWF0aC5tYXgoMCxydW53YXlSb3djb3VudClcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbWNvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgICAgIGlmIChpdGVtY291bnQgPiBsaXN0c2l6ZSkge1xuICAgICAgICAgICAgaXRlbWNvdW50ID0gbGlzdHNpemVcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50ID0gTWF0aC5jZWlsKGl0ZW1jb3VudC9jcm9zc2NvdW50KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50LCBcbiAgICAgICAgICAgIHZpZXdwb3J0Um93Y291bnQsIFxuICAgICAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG4gICAgICAgICAgICBsaXN0Um93Y291bnQsXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICAgICAgXVxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgLy8gcGFkZGluZyxcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcblxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgcnVud2F5U2l6ZSxcbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICBdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVsgY2FsbGJhY2tzIF09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIGhvc3QgY2FsbGJhY2tzXG4gICAgLy8gY29uc3QgcmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZiA9IHVzZVJlZihmdW5jdGlvbnM/LnJlZmVyZW5jZUluZGV4Q2FsbGJhY2spXG4gICAgLy8gY29uc3QgcHJlbG9hZEluZGV4Q2FsbGJhY2tSZWYgPSB1c2VSZWYoZnVuY3Rpb25zPy5wcmVsb2FkSW5kZXhDYWxsYmFjaylcblxuICAgIGNvbnN0IGV4dGVybmFsQ2FsbGJhY2tzUmVmID0gdXNlUmVmKFxuICAgICAgICB7XG4gICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrOmZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgIHByZWxvYWRJbmRleENhbGxiYWNrOmZ1bmN0aW9ucz8ucHJlbG9hZEluZGV4Q2FsbGJhY2ssXG4gICAgICAgICAgICBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjazpmdW5jdGlvbnM/LmNhY2hlRGVsZXRlTGlzdENhbGxiYWNrLFxuICAgICAgICB9XG4gICAgKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1bIGJ1bmRsZSBwYXJhbWV0ZXJzIGZvciBoYW5kbGVycyBdPT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gYnVuZGxlIGNyYWRsZSBwcm9wcyB0byBwYXNzIHRvIGhhbmRsZXJzIC0gdWx0aW1hdGVseSBjcmFkbGVQYXJhbWV0ZXJzUmVmIChicnV0ZSBmb3JjZSlcbiAgICBjb25zdCBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpIC8vIGFjY2VzcyBieSBjbG9zdXJlcyBhbmQgc3VwcG9ydCBmdW5jdGlvbnNcbiAgICAvLyB1cCB0byBkYXRlIHZhbHVlc1xuICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCA9IHtcbiAgICAgICAgLy8gZ3JpZFNwZWNzXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIC8vIC4uLnJlc3RcbiAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgICAgIGRlZmF1bHRWaXNpYmxlSW5kZXgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgLy8gb2JqZWN0c1xuICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgY2FjaGVIYW5kbGVyLFxuXG4gICAgfVxuXG4gICAgY29uc3QgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBwYXNzZWQgdG8gY2VsbEZyYW1lIGNvbnRlbnQgKHVzZXIgY29udGVudCkgaWYgcmVxdWVzdGVkXG4gICAgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgIGNhY2hlLFxuICAgICAgICBjYWNoZU1heCxcbiAgICAgICAgaW5kZXhPZmZzZXQ6ZGVmYXVsdFZpc2libGVJbmRleCwgXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgIH1cblxuICAgIC8vIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyB0byBzaGFyZVxuICAgIGNvbnN0IGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiA9IHVzZVJlZihudWxsKVxuICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50ID0ge1xuICAgICAgICAvLyB1cGRhdGVkIHZhbHVlc1xuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgdmFsdWVzIGFyZSBtYWludGFpbmVkIGVsc2V3aGVyZVxuICAgICAgICBpc01vdW50ZWRSZWYsXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmLFxuICAgICAgICBpc0NhY2hlZFJlZixcbiAgICAgICAgd2FzQ2FjaGVkUmVmLFxuICAgICAgICB0cmlnZ2VybGluZVJlY29yZHNSZWYsXG4gICAgICAgIC8vIHNjcm9sbFBvc1JlY292ZXJ5UG9zUmVmLFxuXG4gICAgICAgIC8vIGZvciBzdGF0ZUhhbmRsZXJcbiAgICAgICAgY3JhZGxlU3RhdGVSZWYsXG4gICAgICAgIHNldENyYWRsZVN0YXRlLFxuICAgIH1cblxuICAgIC8vIHBsYWNlaG9sZGVyIGluIGNyYWRsZVBhcmFtZXRlcnMgdG8gbWFrZSBhdmFpbGFibGUgaW5kaXZpZHVhbCBoYW5kbGVyc1xuICAgIGNvbnN0IGhhbmRsZXJzUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBjcmFkbGUgcGFyYW1ldGVycyBNQVNURVIgQlVORExFXG4gICAgY29uc3QgY3JhZGxlUGFyYW1ldGVycyA9IHtcbiAgICAgICAgaGFuZGxlcnNSZWYsXG4gICAgICAgIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZixcbiAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiwgXG4gICAgICAgIGNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZixcbiAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLCBcbiAgICAgICAgLy8gaW50ZXJuYWxDYWxsYmFja3NSZWYsIC8vIG4vYVxuICAgICAgICBleHRlcm5hbENhbGxiYWNrc1JlZixcbiAgICB9XG5cbiAgICBjb25zdCBjcmFkbGVQYXJhbWV0ZXJzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY3JhZGxlUGFyYW1ldGVyc1JlZi5jdXJyZW50ID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgLy8gb25nb2luZyBzb3VyY2Ugb2YgaGFuZGxlcnMgLSBub3RlIGFsbCBIYW5kbGVycyBhcmUgZ2l2ZW4gYWxsIHBhcmFtZXRlcnMgKGNyYWRsZVBhcmFtZXRlcnMpXG4gICAgaWYgKCFoYW5kbGVyc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLmN1cnJlbnQgPSBnZXRDcmFkbGVIYW5kbGVycyhjcmFkbGVQYXJhbWV0ZXJzKVxuICAgIH1cblxuICAgIC8vIG1ha2UgaGFuZGxlcnMgZGlyZWN0bHkgYXZhaWxhYmxlIHRvIGNyYWRsZSBjb2RlIGJlbG93XG4gICAgY29uc3QgeyAvLyBjYWNoZUhhbmRsZXIgYWxyZWFkeSBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgc2Nyb2xsSGFuZGxlcixcbiAgICAgICAgc3RhdGVIYW5kbGVyLFxuICAgICAgICBjb250ZW50SGFuZGxlcixcbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyLFxuICAgICAgICBzZXJ2aWNlSGFuZGxlcixcbiAgICAgICAgc3R5bGVzSGFuZGxlcixcbiAgICB9ID0gaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1bIENBQ0hJTkcgU1RBVEUgQ0hBTkdFIFNFTlRJTkVMIF09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBpbnRlcmNlcHQgY2hhbmdlIGluIGNhY2hpbmcgc3RhdHVzXG4gICAgLy8gd2hlbiBhIHBvcnRhbCBpcyBjYWNoZWQsIGluY2x1ZGluZyB0aGUgdHJhbnNpdGlvbiBvZiBiZWluZyBtb3ZlZCBmcm9tIG9uZSBjZWxsRnJhbWUgdG8gYW5vdGhlcixcbiAgICAvLyAoYW5kIHRoZSBpbmZpbml0ZWdyaWRzY3JvbGxlciBjYW4gYmUgYSBjb21wb25lbnQgdGhhdCBpcyBjYWNoZWQpLFxuICAgIC8vIHRoZSBzY3JvbGxQb3MgKHNjcm9sbExlZnQgb3Igc2Nyb2xsVG9wKSBpcyByZXNldCB0byAwICh6ZXJvKS4gV2hlbiB0aGUgc2Nyb2xsZXIgaXMgXG4gICAgLy8gbW92ZWQgdG8gYSBjZWxsRnJhbWUsIHRoaXMgY29kZSByZXN0b3JlcyB0aGUgc2Nyb2xsUG9zLlxuICAgIC8vIFRoZSByZXN0b3JlIGFjdGlvbiBtdXN0IGJlIHRoZSBmaXJzdCBwcmlvcml0eSB0byBoaWRlIHRoZSBzY3JvbGxQb3MgY2hhbmdlcyBmcm9tIHRoZSB1c2VyXG4gICAgXG4gICAgY29uc3QgaXNJblBvcnRhbCA9ICgodmlld3BvcnR3aWR0aCA9PSAwKSAmJiAodmlld3BvcnRoZWlnaHQgPT0gMCkpIC8vIG11c3QgYmUgaW4gcG9ydGFsIChjYWNoZSkgc3RhdGVcblxuICAgIGNvbnN0IGlzQ2FjaGVDaGFuZ2UgPSAoaXNJblBvcnRhbCAhPSBpc0NhY2hlZFJlZi5jdXJyZW50KVxuXG4gICAgaWYgKGlzQ2FjaGVDaGFuZ2UpIHtcbiAgICAgICAgd2FzQ2FjaGVkUmVmLmN1cnJlbnQgPSBpc0NhY2hlZFJlZi5jdXJyZW50XG4gICAgICAgIGlzQ2FjaGVkUmVmLmN1cnJlbnQgPSBpc0luUG9ydGFsXG4gICAgfVxuXG4gICAgY29uc3QgaXNDYWNoaW5nVW5kZXJ3YXkgPSAoaXNDYWNoZWRSZWYuY3VycmVudCB8fCB3YXNDYWNoZWRSZWYuY3VycmVudClcblxuICAgIGlmIChcbiAgICAgICAgaXNDYWNoZUNoYW5nZSB8fCBcbiAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVwYXJlbnRpbmdSZWY/LmN1cnJlbnQgfHxcbiAgICAgICAgKHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1Jlc2l6aW5nICYmIGlzQ2FjaGluZ1VuZGVyd2F5KSBcbiAgICApIHsgXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1JlcGFyZW50aW5nUmVmPy5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSBmYWxzZSAvLyBubyBsb25nZXIgbmVlZGVkXG5cbiAgICAgICAgICAgIHBhcmVudGluZ1RyYW5zaXRpb25SZXF1aXJlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1Jlc2l6aW5nKSB7IC8vIGNhY2hpbmcgaXMgdW5kZXJ3YXksIHNvIGNhbmNlbFxuXG4gICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZyA9IGZhbHNlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0NhY2hlQ2hhbmdlKSB7IC8vIGludG8gb3Igb3V0IG9mIGNhY2hpbmdcblxuICAgICAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQgJiYgIXdhc0NhY2hlZFJlZi5jdXJyZW50KSB7IC8vIGNoYW5nZSBpbnRvIGNhY2hlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCghaXNDYWNoZWRSZWYuY3VycmVudCkgJiYgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gY2hhbmdlIG91dCBvZiBjYWNoZVxuXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5yZXN0b3JlSW50ZXJydXB0cygpXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBnZW5lcmF0ZSBzdGF0ZSBmb3IgcmVzdG9yaW5nIHNjcm9sbFBvc1xuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYuY3VycmVudCA9IGZhbHNlICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwYXJlbnRpbmd0cmFuc2l0aW9uJylcbiAgICAgICAgfVxuXG4gICAgfSxbcGFyZW50aW5nVHJhbnNpdGlvblJlcXVpcmVkUmVmLmN1cnJlbnRdKVxuXG4gICAgLy8gY2hhbmdlIHN0YXRlIGZvciBlbnRlcmluZyBvciBsZWF2aW5nIGNhY2hlXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuIC8vIG5vdGhpbmcgdG8gZG9cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCAmJiAhd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gaW50byBjYWNoZVxuXG4gICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJykgLy8gcmVwbGFjZXMgJ3JlYWR5JyBhcyBzdGVhZHkgc3RhdGVcblxuICAgICAgICB9IGVsc2UgaWYgKCFpc0NhY2hlZFJlZi5jdXJyZW50ICYmIHdhc0NhY2hlZFJlZi5jdXJyZW50KSB7Ly8gb3V0IG9mIGNhY2hlXG5cbiAgICAgICAgICAgIHdhc0NhY2hlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ2NhY2hlZHdhaXRpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3NldGNyYWRsZWNvbnRlbnQnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW2lzQ2FjaGVkUmVmLmN1cnJlbnQsIHdhc0NhY2hlZFJlZi5jdXJyZW50XSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkFUSU9OIGVmZmVjdHMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBpbml0aWFsaXphdGlvbiBlZmZlY3RzIGFyZSBpbmRlcGVuZGVudCBvZiBjYWNoaW5nXG5cbiAgICAvLyBjbGVhciBtb3VudGVkIGZsYWcgb24gdW5tb3VudFxuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvL3NlbmQgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGhvc3RcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICAvLyByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQgPSBmdW5jdGlvbnM/LnJlZmVyZW5jZUluZGV4Q2FsbGJhY2tcblxuICAgICAgICBpZiAoIWZ1bmN0aW9ucy5nZXRDYWxsYmFja3MpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSwgXG4gICAgICAgICAgICByZWxvYWQsIFxuICAgICAgICAgICAgY2xlYXJDYWNoZSwgXG4gICAgICAgICAgICBnZXRDYWNoZUxpc3QsIFxuICAgICAgICAgICAgbW9kaWZ5Q2FjaGVNYXBwaW5nLFxuICAgICAgICAgICAgLy8gcHJlbG9hZCwgLy8gVE9ETyB0ZW1wb3JhcnkhIVxuICAgICAgICB9ID0gc2VydmljZUhhbmRsZXJcblxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB7XG4gICAgICAgICAgICBzY3JvbGxUb0l0ZW0sXG4gICAgICAgICAgICBjbGVhckNhY2hlLFxuICAgICAgICAgICAgcmVsb2FkLFxuICAgICAgICAgICAgZ2V0Q2FjaGVMaXN0LFxuICAgICAgICAgICAgbW9kaWZ5Q2FjaGVNYXBwaW5nLFxuICAgICAgICAgICAgLy8gcHJlbG9hZCxcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9ucy5nZXRDYWxsYmFja3MoY2FsbGJhY2tzKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ZGF0YSA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIHZpZXdwb3J0ZGF0YS5lbGVtZW50UmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLm9uU2Nyb2xsKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0ZGF0YS5lbGVtZW50UmVmLmN1cnJlbnQgJiYgdmlld3BvcnRkYXRhLmVsZW1lbnRSZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLHNjcm9sbEhhbmRsZXIub25TY3JvbGwpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIG9ic2VydmVyIHN1cHBvcnRcblxuICAgIC8qXG4gICAgICAgIFRoZXJlIGFyZSB0d28gaW50ZXJlY3Rpb24gb2JzZXJ2ZXJzLCBvbmUgZm9yIHRoZSBjcmFkbGUgd2luZ3MsIGFuZCBhbm90aGVyIGZvciB0cmlnZ2VybGluZXM7IFxuICAgICAgICAgICAgYm90aCBhZ2FpbnN0IHRoZSB2aWV3cG9ydC5cbiAgICAgICAgVGhlcmUgaXMgYWxzbyBhIHJlc2l6ZSBvYnNlcnZlciBmb3IgdGhlIGNyYWRsZSB3aW5ncywgdG8gZ2VuZXJhdGUgcmVzcG9uc2VzIHRvIHNpemUgY2hhbmdlcyBvZiBcbiAgICAgICAgICAgIHZhcmlhYmxlIGNlbGxzLlxuICAgICovICAgIFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIC8vIGludGVyc2VjdGlvbiBvYnNlcnZlciBmb3IgY3JhZGxlIGJvZHlcbiAgICAgICAgLy8gdGhpcyBzZXRzIHVwIGFuIEludGVyc2VjdGlvbk9ic2VydmVyIG9mIHRoZSBjcmFkbGUgYWdhaW5zdCB0aGUgdmlld3BvcnQuIFdoZW4gdGhlXG4gICAgICAgIC8vIGNyYWRsZSBnb2VzIG91dCBvZiB0aGUgb2JzZXJ2ZXIgc2NvcGUsIHRoZSBcInJlcG9zaXRpb25pbmdSZW5kZXJcIiBjcmFkbGUgc3RhdGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICBjb25zdCBjcmFkbGVpbnRlcnNlY3RvYnNlcnZlciA9IGludGVycnVwdEhhbmRsZXIuY3JhZGxlSW50ZXJzZWN0LmNyZWF0ZU9ic2VydmVyKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcblxuICAgICAgICAvLyB0cmlnZ2Vyb2JzZXJ2ZXIgdGlnZ2VycyBjcmFkbGUgY29udGVudCB1cGRhdGVzIFxuICAgICAgICAvLyAgICAgd2hlbiB0cmlnZ2VybGluZXMgcGFzcyB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgY29uc3QgdHJpZ2dlcm9ic2VydmVyID0gaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNyZWF0ZU9ic2VydmVyKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNvbm5lY3RFbGVtZW50cygpXG5cbiAgICAgICAgLy8gcmVzaXplIG9ic2VydmVyIGdlbmVyYXRlcyBjb21wZW5zYXRpb24gZm9yIGNoYW5nZXMgaW4gY2VsbCBzaXplcyBmb3IgdmFyaWFibGUgbGF5b3V0IG1vZGVzXG4gICAgICAgIGNvbnN0IHJlc2l6ZW9ic2VydmVyID0gaW50ZXJydXB0SGFuZGxlci5jcmFkbGVSZXNpemUuY3JlYXRlT2JzZXJ2ZXIoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZVJlc2l6ZS5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGNyYWRsZWludGVyc2VjdG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgdHJpZ2dlcm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgcmVzaXplb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYXRlIHByZWxvYWQgaWYgcmVxdWVzdGVkXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuXG4gICAgICAgIGlmIChjYWNoZSAhPSAncHJlbG9hZCcpIHJldHVyblxuIFxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnc3RhcnRwcmVsb2FkJylcblxuICAgIH0sW10pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFJFQ09ORklHVVJBVElPTiBlZmZlY3RzIF09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gcmVzaXplIChVSSByZXNpemUgb2YgdGhlIHZpZXdwb3J0KSwgcmVjb25maWd1cmUsIG9yIHBpdm90XG5cbiAgICAvLyB0cmlnZ2VyIHJlc2l6aW5nIGJhc2VkIG9uIHZpZXdwb3J0IHN0YXRlXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgLy8gbW92ZW1lbnQgdG8gYW5kIGZyb20gY2FjaGUgaXMgaW5kZXBlbmRlbnQgb2YgdWkgcmVzaXppbmdcbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQgfHwgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5pc1Jlc2l6aW5nKSB7XG5cbiAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcbiBcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYWxsaW5nIHJlc2l6aW5nIGZyb20gaXNSZXNpemluZyB1c2VFdmVudCcsJy0nK3Njcm9sbGVySUQrJy0nKVxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Jlc2l6aW5nJylcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29tcGxldGUgcmVzaXppbmcgbW9kZVxuICAgICAgICBpZiAoIXZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcgJiYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3Jlc2l6aW5nJykpIHtcblxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHJlc2l6ZScpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZ10pXG5cbiAgICAvLyByZWNvbmZpZ3VyZSBmb3IgY2hhbmdlZCBzaXplIHBhcmFtZXRlcnNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IGludGVycnVwdEhhbmRsZXIuc2lnbmFsc1xuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVjb25maWd1cmUnKVxuXG4gICAgfSxbXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXRcbiAgICBdKVxuXG4gICAgLy8gcGl2b3QgdHJpZ2dlcmVkIG9uIGNoYW5nZSBpbiBvcmllbnRhdGlvblxuICAgIHVzZUVmZmVjdCgoKT0+IHtcblxuICAgICAgICBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUHJvcGVydHkgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSBcInZlcnRpY2FsXCIpP1wic2Nyb2xsVG9wXCI6XCJzY3JvbGxMZWZ0XCJcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBnZXQgcHJldmlvdXMgcmF0aW9cbiAgICAgICAgY29uc3QgcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoOlxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQpXG4gICAgICAgICAgICArIGdhcFxuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzQXhpc09mZnNldCA9IHNjYWZmb2xkSGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNyYXRpbyA9IHByZXZpb3VzQXhpc09mZnNldC9wcmV2aW91c0NlbGxQaXhlbExlbmd0aFxuXG4gICAgICAgIGNvbnN0IHBpdm90Q2VsbFBpeGVsTGVuZ3RoID0gXG4gICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoKVxuICAgICAgICAgICAgKyBnYXBcblxuICAgICAgICBjb25zdCBwaXZvdEF4aXNPZmZzZXQgPSBwcmV2aW91c3JhdGlvICogcGl2b3RDZWxsUGl4ZWxMZW5ndGhcbiAgICAgICAgXG4gICAgICAgIHNjYWZmb2xkSGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gTWF0aC5yb3VuZChwaXZvdEF4aXNPZmZzZXQpXG5cbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuXG4gICAgICAgIHNldENyYWRsZVN0YXRlKCdwaXZvdCcpXG5cbiAgICB9LFtvcmllbnRhdGlvbl0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFNUWUxFUyBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBzdHlsZXMgZm9yIHRoZSBzaXggc2NhZmZvbGQgY29tcG9uZW50c1xuICAgIGNvbnN0IFtcbiAgICAgICAgY3JhZGxlSGVhZFN0eWxlLCBcbiAgICAgICAgY3JhZGxlVGFpbFN0eWxlLCBcbiAgICAgICAgY3JhZGxlQXhpc1N0eWxlLCBcbiAgICAgICAgdHJpZ2dlcmxpbmVIZWFkU3R5bGUsIFxuICAgICAgICB0cmlnZ2VybGluZVRhaWxTdHlsZSxcbiAgICAgICAgY3JhZGxlRGl2aWRlclN0eWxlXG4gICAgXSA9IHVzZU1lbW8oKCk9PiB7XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlc0hhbmRsZXIuc2V0Q3JhZGxlU3R5bGVzKHtcblxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHVzZXJzdHlsZXM6c3R5bGVzLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG5cbiAgICAgICAgfSlcblxuICAgIH0sW1xuXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG5cbiAgICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIHN0YXRlIG1hbmFnZW1lbnQgXT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBjb3JlIHN0YXRlIGVuZ2luZSAoMTkgc3RhdGVzKSwgdXNpbmcgbmFtZWQgc3RhdGVzXG4gICAgLy8gdXNlTGF5b3V0RWZmZWN0IGZvciBzdXBwcmVzc2luZyBmbGFzaGVzXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHsgLy8gY3ljbGUgdG8gYWxsb3cgZm9yIHJlZiBjb25maWdcblxuICAgICAgICAgICAgICAgIGlmIChjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuY2FjaGUgIT0gJ3ByZWxvYWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJylcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdkb3NldHVwJykgLy8gbG9hZCBncmlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc3RhcnRwcmVsb2FkJzp7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZG9wcmVsb2FkJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2RvcHJlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hwcmVsb2FkJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgQVBJIHRvIGNvbnRlbnRIYW5kbGVyXG4gICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLnByZWxvYWQoY3JhZGxlUGFyYW1ldGVyc1JlZi5jdXJyZW50LCBjYWxsYmFjaywgc2Nyb2xsZXJJRClcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NhY2hlZHdhaXRpbmcnOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXdhc0NhY2hlZFJlZi5jdXJyZW50ICYmICFpc0NhY2hlZFJlZi5jdXJyZW50KXtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NhY2hlZCc6IHtcblxuICAgICAgICAgICAgICAgIGlmICghd2FzQ2FjaGVkUmVmLmN1cnJlbnQgJiYgIWlzQ2FjaGVkUmVmLmN1cnJlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdzZXRjcmFkbGVjb250ZW50JylcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2hwYXJlbnRpbmcnOntcblxuICAgICAgICAgICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50KSB7IC8vIGludGVycnVwdCB1bnRpbCBjYWNoaW5nIGlzIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkd2FpdGluZycpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW5kZXJ1cGRhdGVkY29udGVudCBpcyBjYWxsZWQgZnJvbSB1cGRhdGVDcmFkbGVDb250ZW50LiBcbiAgICAgICAgICAgIC8vIGl0IGlzIHJlcXVpcmVkIHRvIGludGVncmF0ZSBjaGFuZ2VkIERPTSBjb25maWd1cmF0aW9ucyBiZWZvcmUgJ3JlYWR5JyBpcyBkaXNwbGF5ZWRcbiAgICAgICAgICAgIGNhc2UgJ3JlbmRlcnVwZGF0ZWRjb250ZW50JzogeyAvLyBjeWNsZSBmb3IgRE9NIHVwZGF0ZVxuXG4gICAgICAgICAgICAgICAgLy8gY2FjaGVIYW5kbGVyLnJlbmRlclBvcnRhbExpc3QoKVxuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNodXBkYXRlZGNvbnRlbnQnOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGlmIChjYWNoZSA9PSAna2VlcGxvYWQnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIuZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmcoKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIuc2lnbmFscy5wYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyID0gZmFsc2VcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnRyZXBvc2l0aW9uJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAvLyBhdm9pZCByZWN1cnNpdmUgY3JhZGxlIGludGVyc2VjdGlvbiBpbnRlcnJ1cHRzXG4gICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gZmFsc2UgLy8gYmVjYXVzZSBub3cgdW5kZXJ3YXlcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXBvc2l0aW9uaW5nUmVuZGVyJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICB0aGUgZm9sbG93aW5nIDggY3JhZGxlIHN0YXRlcyBhbGwgcmVzb2x2ZSB3aXRoXG4gICAgICAgICAgICAgICAgYSBjaGFpbiBzdGFydGluZyB3aXRoIHNldENyYWRsZUNvbnRlbnQsIFxuICAgICAgICAgICAgICAgIGNvbnRpbnVpbmcgd2l0aCAncHJlcGFyZXJlbmRlcicsIGFuZCBlbmRpbmcgd2l0aFxuICAgICAgICAgICAgICAgICdub3JtYWxpemVzaWduYWxzJ1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ3NldGNyYWRsZWNvbnRlbnQnOlxuICAgICAgICAgICAgY2FzZSAnZG9zZXR1cCc6XG4gICAgICAgICAgICBjYXNlICdmaW5pc2hwcmVsb2FkJzpcbiAgICAgICAgICAgIGNhc2UgJ2RvcmVwb3NpdGlvbic6IC8vXG4gICAgICAgICAgICBjYXNlICdmaW5pc2hyZXNpemUnOlxuICAgICAgICAgICAgY2FzZSAncGl2b3QnOlxuICAgICAgICAgICAgY2FzZSAncmVjb25maWd1cmUnOiAvL1xuICAgICAgICAgICAgY2FzZSAncmVsb2FkJzoge1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gaW50ZXJydXB0IHVudGlsIGNhY2hpbmcgaXMgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NhY2hlZCcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnRcblxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gW11cblxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIG5ldyBhcnJheSBpZCBmb3IgT2JqZWN0LmlzIHRvIHRyaWdnZXIgcmVhY3QgcmUtcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlbG9hZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLmNsZWFyQ2FjaGUoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnNldENyYWRsZUNvbnRlbnQoIGNyYWRsZVN0YXRlIClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuY2FjaGVcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUgPT0gJ2NyYWRsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxDb21wb25lbnRMaXN0ID0gY29udGVudEhhbmRsZXIuY29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBtb2RlbENvbXBvbmVudExpc3QubWFwKGl0ZW09Pml0ZW0ucHJvcHMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5tYXRjaENhY2hlVG9DcmFkbGUobW9kZWxJbmRleExpc3QsIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5jYWNoZURlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLnJlbmRlclBvcnRhbExpc3QoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdwcmVwYXJlcmVuZGVyJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXBhcmVyZW5kZXInOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ25vcm1hbGl6ZXNpZ25hbHMnKSBcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ25vcm1hbGl6ZXNpZ25hbHMnOiB7IC8vIG5vcm1hbGl6ZSBvciByZXN1bWUgY3ljbGluZ1xuXG4gICAgICAgICAgICAgICAgLy8gcHJpb3JpdGl6ZSBpbnRlcnJ1cHRzIFRPRE86IHZhbGlkYXRlIHRoaXNcblxuICAgICAgICAgICAgICAgIC8vIGlmICgoIWlzQ2FjaGVkUmVmLmN1cnJlbnQpICYmIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2NhbGxpbmcgcmVzaXppbmcgZnJvbSBub3JtYWxpemVzaWduYWxzJywnLScrc2Nyb2xsZXJJRCsnLScpXG4gICAgICAgICAgICAgICAgLy8gICAgIHNldENyYWRsZVN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGludGVycnVwdEhhbmRsZXIuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQpIHtcblxuICAgICAgICAgICAgICAgIC8vICAgICBzZXRDcmFkbGVTdGF0ZSgnc3RhcnRyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnJlc3RvcmVJbnRlcnJ1cHRzKClcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICBicmVhayBcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB1c2VyIHJlcXVlc3RcbiAgICAgICAgICAgIGNhc2UgJ2NsZWFyY2FjaGUnOiB7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW92aW5nIG91dCBvZiBjYWNoZSBpbnRvIHZpc2libGUgRE9NIHRyZWUgKGNlbGxGcmFtZSlcbiAgICAgICAgICAgIC8vIHJlc2V0cyBzY3JvbGxQb3MgKHNjcm9sbExlZnQvc2Nyb2xsVG9wKSB0byBsYXN0IFVJIHZhbHVlXG4gICAgICAgICAgICBjYXNlICdyZXBhcmVudGluZ3RyYW5zaXRpb24nOiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHNjcm9sbCBwb3NpdGlvbiB0byBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNldHRpbmcgc2Nyb2xsIHBvc2l0aW9uIHRvJywnLScrc2Nyb2xsZXJJRCsnLScgLCBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnRbY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUHJvcGVydHldID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hwYXJlbnRpbmcnKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW2NyYWRsZVN0YXRlXSlcblxuICAgIC8vIHN0YW5kYXJkIHJlbmRlcmluZyBzdGF0ZXMgKDMgc3RhdGVzKVxuICAgIHVzZUVmZmVjdCgoKT0+IHsgXG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICAvLyByZXBvc2l0aW9uaW5nUmVuZGVyIGFuZCByZXBvc2l0aW9uaW5nQ29udGludWF0aW9uIGFyZSB0b2dnbGVkIHRvIGdlbmVyYXRlIGNvbnRpbnVvdXMgXG4gICAgICAgICAgICAvLyByZXBvc2lpb25pbmcgcmVuZGVyc1xuICAgICAgICAgICAgY2FzZSAncmVwb3NpdGlvbmluZ1JlbmRlcic6XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbic6IC8vIHNldCBmcm9tIG9uU2Nyb2xsXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmdSZW5kZXInKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYWR5JzogLy8gbm8gb3BcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgIH1cblxuICAgIH0sW2NyYWRsZVN0YXRlXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBSRU5ERVIgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY29uc3Qgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4ID0gc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICBjb25zdCBzY3JvbGxUcmFja2VyQXJncyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIShjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFja2VyYXJncyA9IHtcbiAgICAgICAgICAgIHRvcDp2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgMyxcbiAgICAgICAgICAgIGxlZnQ6dmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyAzLFxuICAgICAgICAgICAgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYWNrZXJhcmdzXG4gICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgICAgY3JhZGxlU3RhdGUsIFxuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zLCBcbiAgICAgICAgICAgIHNjcm9sbEF4aXNSZWZlcmVuY2VJbmRleCwgXG4gICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgXVxuICAgIClcblxuICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSBjb250ZW50SGFuZGxlci5jb250ZW50XG5cbiAgICBjb25zdCBjb250ZXh0dmFsdWVSZWYgPSB1c2VSZWYoe2NyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiwgY2FjaGVIYW5kbGVyfSlcblxuICAgIC8vIHRoZSBkYXRhLXR5cGUgPSBjYWNoZXJvb3QgZGl2IGF0IHRoZSBlbmQgaXMgdGhlIGhpZGRlbiBwb3J0YWwgY29tcG9uZW50IGNhY2hlXG4gICAgcmV0dXJuIDxDcmFkbGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlID0ge2NvbnRleHR2YWx1ZVJlZi5jdXJyZW50fT5cbiAgICAgICAgeygoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSB8fCBcbiAgICAgICAgICAgIChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpKT9cbiAgICAgICAgICAgIDxTY3JvbGxUcmFja2VyIFxuICAgICAgICAgICAgICAgIHRvcCA9IHtzY3JvbGxUcmFja2VyQXJncy50b3B9IFxuICAgICAgICAgICAgICAgIGxlZnQgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGVmdH0gXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0ge3Njcm9sbFRyYWNrZXJBcmdzLnNjcm9sbEF4aXNSZWZlcmVuY2VJbmRleH0gXG4gICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGlzdHNpemV9XG4gICAgICAgICAgICAgICAgc3R5bGVzID0ge3Njcm9sbFRyYWNrZXJBcmdzLnN0eWxlc31cbiAgICAgICAgICAgIC8+OlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWF4aXMnXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlQXhpc1N0eWxlfSBcbiAgICAgICAgICAgICAgICByZWYgPSB7YXhpc0NyYWRsZUVsZW1lbnRSZWZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndHJpZ2dlcmxpbmUtaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7dHJpZ2dlcmxpbmVIZWFkU3R5bGV9XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHtoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd0cmlnZ2VybGluZS10YWlsJ1xuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHt0cmlnZ2VybGluZVRhaWxTdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge3RhaWxUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWZ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAge3RydWU/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWRpdmlkZXInIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlRGl2aWRlclN0eWxlfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PjpcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge2hlYWRDcmFkbGVFbGVtZW50UmVmfSBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlSGVhZFN0eWxlfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgeyhjcmFkbGVTdGF0ZSAhPSAnc2V0dXAnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ3RhaWwnXG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHt0YWlsQ3JhZGxlRWxlbWVudFJlZn0gXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0ge2NyYWRsZVRhaWxTdHlsZX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50czpcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICA8L0NyYWRsZUNvbnRleHQuUHJvdmlkZXI+XG5cbn0gLy8gQ3JhZGxlXG5cbi8vIHV0aWxpdGllc1xuXG5jb25zdCBnZXRDcmFkbGVIYW5kbGVycyA9IChjcmFkbGVQYXJhbWV0ZXJzKSA9PiB7XG5cbiAgICBjb25zdCBjcmVhdGVIYW5kbGVyID0gaGFuZGxlciA9PiBuZXcgaGFuZGxlcihjcmFkbGVQYXJhbWV0ZXJzKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FjaGVIYW5kbGVyOmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LmNhY2hlSGFuZGxlcixcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlcjpjcmVhdGVIYW5kbGVyKEludGVycnVwdEhhbmRsZXIpLFxuICAgICAgICBzY3JvbGxIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoU2Nyb2xsSGFuZGxlciksXG4gICAgICAgIHN0YXRlSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFN0YXRlSGFuZGxlciksXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoQ29udGVudEhhbmRsZXIpLFxuICAgICAgICBzY2FmZm9sZEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTY2FmZm9sZEhhbmRsZXIpLFxuICAgICAgICBzZXJ2aWNlSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNlcnZpY2VIYW5kbGVyKSxcbiAgICAgICAgc3R5bGVzSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFN0eWxlc0hhbmRsZXIpLFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3JhZGxlIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJyZWFjdF8xIiwiY3JlYXRlQ29udGV4dCIsIkNyYWRsZSIsIl9hIiwiZ3JpZFNwZWNzIiwicnVud2F5U2l6ZSIsImxpc3RzaXplIiwiZGVmYXVsdFZpc2libGVJbmRleCIsImdldEl0ZW0iLCJwbGFjZWhvbGRlciIsImZ1bmN0aW9ucyIsInN0eWxlcyIsInRyaWdnZXJsaW5lT2Zmc2V0IiwiY2FjaGUiLCJjYWNoZU1heCIsInNjcm9sbGVySUQiLCJjYWNoZUhhbmRsZXIiLCJnYXAiLCJwYWRkaW5nIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsInZpZXdwb3J0XzEiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJjdXJyZW50Iiwidmlld3BvcnRoZWlnaHQiLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ2aWV3cG9ydHdpZHRoIiwiY3JhZGxlU3RhdGUiLCJzZXRDcmFkbGVTdGF0ZSIsImNyYWRsZVN0YXRlUmVmIiwiaXNNb3VudGVkUmVmIiwiaXNDYWNoZWRSZWYiLCJ3YXNDYWNoZWRSZWYiLCJwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYiLCJ0cmlnZ2VybGluZVJlY29yZHNSZWYiLCJ3YXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJkcml2ZXIiLCJvZmZzZXQiLCJoZWFkQ3JhZGxlRWxlbWVudFJlZiIsInRhaWxDcmFkbGVFbGVtZW50UmVmIiwiYXhpc0NyYWRsZUVsZW1lbnRSZWYiLCJoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmIiwidGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZiIsImNyYWRsZUVsZW1lbnRzUmVmIiwiaGVhZFJlZiIsInRhaWxSZWYiLCJheGlzUmVmIiwiaGVhZFRyaWdnZXJsaW5lUmVmIiwidGFpbFRyaWdnZXJsaW5lUmVmIiwiY3Jvc3Njb3VudCIsInZpZXdwb3J0c2l6ZSIsIm9yaWVudGF0aW9uIiwiY3Jvc3NMZW5ndGgiLCJ2aWV3cG9ydGxlbmd0aGZvcmNhbGMiLCJ0aWxlbGVuZ3RoZm9yY2FsYyIsIk1hdGgiLCJtaW4iLCJmbG9vciIsInZpZXdwb3J0TGVuZ3RoIiwicm93TGVuZ3RoIiwidmlld3BvcnRSb3djb3VudCIsImNlaWwiLCJ2aWV3cG9ydFZpc2libGVSb3djb3VudCIsImxpc3RSb3djb3VudCIsImNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCIsImNyYWRsZVJvd2NvdW50IiwicnVud2F5Um93Y291bnQiLCJkaWZmIiwibWF4IiwiaXRlbWNvdW50IiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJjYWNoZURlbGV0ZUxpc3RDYWxsYmFjayIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYiLCJpbmRleE9mZnNldCIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImhhbmRsZXJzUmVmIiwiY3JhZGxlUGFyYW1ldGVycyIsImNyYWRsZVBhcmFtZXRlcnNSZWYiLCJnZXRDcmFkbGVIYW5kbGVycyIsImludGVycnVwdEhhbmRsZXIiLCJzY3JvbGxIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwiY29udGVudEhhbmRsZXIiLCJzY2FmZm9sZEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsInN0eWxlc0hhbmRsZXIiLCJpc0luUG9ydGFsIiwiaXNDYWNoZUNoYW5nZSIsImlzQ2FjaGluZ1VuZGVyd2F5IiwiaXNSZXBhcmVudGluZ1JlZiIsIl9iIiwiaXNSZXNpemluZyIsIl9jIiwicGF1c2VJbnRlcnJ1cHRzIiwicmVzdG9yZUludGVycnVwdHMiLCJnZXRDYWxsYmFja3MiLCJyZWxvYWQiLCJjbGVhckNhY2hlIiwiZ2V0Q2FjaGVMaXN0IiwibW9kaWZ5Q2FjaGVNYXBwaW5nIiwiY2FsbGJhY2tzIiwic2Nyb2xsVG9JdGVtIiwidmlld3BvcnRkYXRhIiwiZWxlbWVudFJlZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblNjcm9sbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjcmFkbGVpbnRlcnNlY3RvYnNlcnZlciIsImNyYWRsZUludGVyc2VjdCIsImNyZWF0ZU9ic2VydmVyIiwiY29ubmVjdEVsZW1lbnRzIiwidHJpZ2dlcm9ic2VydmVyIiwiYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdCIsInJlc2l6ZW9ic2VydmVyIiwiY3JhZGxlUmVzaXplIiwiZGlzY29ubmVjdCIsInNpZ25hbHMiLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJibG9ja1Njcm9sbFByb3BlcnR5IiwicHJldmlvdXNDZWxsUGl4ZWxMZW5ndGgiLCJwcmV2aW91c0F4aXNPZmZzZXQiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJwcmV2aW91c3JhdGlvIiwicGl2b3RDZWxsUGl4ZWxMZW5ndGgiLCJwaXZvdEF4aXNPZmZzZXQiLCJyb3VuZCIsInNldENyYWRsZVN0eWxlcyIsInVzZXJzdHlsZXMiLCJjcmFkbGVIZWFkU3R5bGUiLCJjcmFkbGVUYWlsU3R5bGUiLCJjcmFkbGVBeGlzU3R5bGUiLCJ0cmlnZ2VybGluZUhlYWRTdHlsZSIsInRyaWdnZXJsaW5lVGFpbFN0eWxlIiwiY3JhZGxlRGl2aWRlclN0eWxlIiwiY2FsbGJhY2siLCJwcmVsb2FkIiwiY3JhZGxlQ29udGVudCIsImhlYWREaXNwbGF5Q29tcG9uZW50cyIsImhlYWRNb2RlbENvbXBvbmVudHMiLCJ0YWlsRGlzcGxheUNvbXBvbmVudHMiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwiY2FjaGVfMSIsImd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nIiwicGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciIsInBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJyZXBvc2l0aW9uaW5nUmVxdWlyZWQiLCJjcmFkbGVDb250ZW50XzEiLCJjb250ZW50Iiwic2V0Q3JhZGxlQ29udGVudCIsImNhY2hlXzIiLCJtb2RlbENvbXBvbmVudExpc3QiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJtb2RlbEluZGV4TGlzdCIsIm1hcCIsInByb3BzIiwiaW5kZXgiLCJtYXRjaENhY2hlVG9DcmFkbGUiLCJyZW5kZXJQb3J0YWxMaXN0IiwiY3JhZGxlQ29udGVudF8yIiwiYmxvY2tTY3JvbGxQb3MiLCJ2aWV3cG9ydEVsZW1lbnQiLCJzY3JvbGxBeGlzUmVmZXJlbmNlSW5kZXgiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJzY3JvbGxUcmFja2VyQXJncyIsInRyYWNrZXJhcmdzIiwidG9wIiwibGVmdCIsImNvbnRleHR2YWx1ZVJlZiIsIlByb3ZpZGVyIiwidmFsdWUiLCJzY3JvbGx0cmFja2VyXzEiLCJzdHlsZSIsInJlZiIsImNyZWF0ZUhhbmRsZXIiLCJoYW5kbGVyIiwiaW50ZXJydXB0aGFuZGxlcl8xIiwic2Nyb2xsaGFuZGxlcl8xIiwic3RhdGVoYW5kbGVyXzEiLCJjb250ZW50aGFuZGxlcl8xIiwic2NhZmZvbGRoYW5kbGVyXzEiLCJzZXJ2aWNlaGFuZGxlcl8xIiwic3R5bGVzaGFuZGxlcl8xIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle.tsx\n");

/***/ }),

/***/ "./src/cradle/cachehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/cachehandler.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // portalhandler.tsx\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PortalList = exports.CacheHandler = void 0;\n/*\n    The infinite list scroller stores user cell data in a central hidden portal cache for each\n    infinitegridscroller root, from whence the data is pulled into the relevant CellFrame for display\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar MAX_CACHE_OVER_RUN = 1.5;\nvar globalCacheItemID = 0; // global scroller data, organized by session scrollerID\n\nvar CacheHandler =\n/** @class */\nfunction () {\n  function CacheHandler(scrollerID) {\n    var _this = this; //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n\n\n    this.cacheProps = {\n      setListState: null,\n      modified: false,\n      portalMetadataMap: new Map(),\n      portalRequestedMap: new Map(),\n      portalMap: new Map(),\n      cacheIndexToItemIDMap: new Map(),\n      portalList: null,\n      scrollerID: null\n    }; // initialize scroller repository\n\n    this.clearCache = function () {\n      // keep the setListState callback\n      _this.cacheProps.portalMap.clear();\n\n      _this.cacheProps.portalMetadataMap.clear();\n\n      _this.cacheProps.cacheIndexToItemIDMap.clear();\n\n      _this.cacheProps.portalRequestedMap.clear();\n\n      _this.cacheProps.portalList = null;\n      _this.cacheProps.modified = false;\n\n      _this.cacheProps.setListState(); // trigger display update\n\n    }; // set state of the PortalList component of the scroller to trigger render\n\n\n    this.renderPortalList = function () {\n      if (_this.cacheProps.modified) {\n        _this.cacheProps.portalList = Array.from(_this.cacheProps.portalMap.values());\n        _this.cacheProps.modified = false;\n      }\n\n      _this.cacheProps.setListState(); // trigger display update\n\n    };\n\n    this.matchCacheToCradle = function (modelIndexList, cacheDeleteListCallback) {\n      // console.log('running matchCacheToCradle', '-'+this.cacheProps.scrollerID+'-')\n      // const portalMetadataMap = this.cacheProps.portalMetadataMap\n      // const mapsessionitemidkeys = Array.from(this.cacheProps.portalMap.keys())\n      // const mapkeys = mapsessionitemidkeys.map(cacheItemID =>{\n      //     return portalMetadataMap.get(cacheItemID).index\n      // })\n      var mapkeys = Array.from(_this.cacheProps.cacheIndexToItemIDMap.keys());\n      mapkeys.filter(function (key) {\n        return !modelIndexList.includes(key);\n      }); // console.log('filtered mapkeys, modelIndexList', mapkeys, modelIndexList)\n\n      _this.deletePortal(mapkeys, cacheDeleteListCallback);\n    };\n\n    this.pareCacheToMax = function (cacheMax, modelIndexList, cacheDeleteListCallback) {\n      var modelLength = modelIndexList.length; // determine need for paring\n\n      if (!cacheMax || !modelLength) return false;\n      var max = Math.max(modelLength, cacheMax); // const portalMapList = this.cacheProps.portalMap\n\n      var portalIndexList = _this.cacheProps.cacheIndexToItemIDMap;\n      var requestedMap = _this.cacheProps.portalRequestedMap; // const { portalMetadataMap } = this.cacheProps\n      // if ((portalMapList.size + requestedMap.size) <= max) return false\n\n      if (portalIndexList.size + requestedMap.size <= max) return false; // sort the map keys\n      // const mapsessionitemidkeyslist = Array.from(portalMapList.keys())\n      // const mapkeyslist = mapsessionitemidkeyslist.map(cacheItemID =>{\n      //     return portalMetadataMap.get(cacheItemID).index\n      // })\n\n      var mapkeyslist = Array.from(portalIndexList.keys());\n      var requestedkeys = Array.from(requestedMap.keys());\n      var mapkeys = mapkeyslist.concat(requestedkeys);\n      mapkeys.sort(function (a, b) {\n        return a - b;\n      }); // get number to pare\n\n      var mapLength = mapkeys.length;\n      var parecount = mapLength - max; // distribute paring proportionally at front and back\n\n      var headindex = modelIndexList[0];\n      var tailindex = modelIndexList[modelLength - 1];\n      var headpos = mapkeys.indexOf(headindex);\n      var tailpos = mapkeys.indexOf(tailindex);\n      var headroom = headpos;\n      var tailroom = mapLength - (tailpos + 1);\n      var pareroom = headroom + tailroom;\n      var headparecount = Math.floor(headroom / pareroom * parecount);\n      var tailparecount = parecount - headparecount; // collect indexes to pare\n\n      var headlist = mapkeys.slice(0, headparecount);\n      var taillist = mapkeys.slice(mapLength - tailparecount);\n      var delList = headlist.concat(taillist);\n\n      _this.deletePortal(delList, cacheDeleteListCallback);\n\n      return true;\n    };\n\n    this.guardAgainstRunawayCaching = function (cacheMax, modelLength) {\n      if (!cacheMax) return false;\n      var portalMap = _this.cacheProps.portalMap;\n      var portalRequestedMap = _this.cacheProps.portalRequestedMap;\n      var max = Math.max(modelLength, cacheMax);\n\n      if (portalMap.size + portalRequestedMap.size <= max * MAX_CACHE_OVER_RUN) {\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.cacheProps.scrollerID = scrollerID;\n  }\n\n  CacheHandler.prototype.preloadItem = function (index, getItem, cradlePassthroughPropertiesRef, preloadIndexCallback, scrollerID) {\n    return __awaiter(this, void 0, void 0, function () {\n      var cacheItemID, usercontent, content, scrollerData, portalData;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            cacheItemID = this.getCacheItemID(index);\n            return [4\n            /*yield*/\n            , getItem(index, cacheItemID)];\n\n          case 1:\n            usercontent = _a.sent();\n\n            if (usercontent) {\n              preloadIndexCallback && preloadIndexCallback(index, cacheItemID);\n              content = void 0;\n              scrollerData = {\n                isReparentingRef: null,\n                cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef\n              };\n\n              if (usercontent.props.hasOwnProperty('scrollerData')) {\n                content = react_1[\"default\"].cloneElement(usercontent, {\n                  scrollerData: scrollerData\n                });\n              } else {\n                content = usercontent;\n              }\n\n              portalData = this.createPortal(content, index, cacheItemID); // make available to user content\n\n              scrollerData.isReparentingRef = portalData.isReparentingRef;\n            } else {\n              preloadIndexCallback && preloadIndexCallback(index, cacheItemID, 'error');\n              console.log('ERROR', 'no content item for preload index, cacheItemID', index, cacheItemID);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  CacheHandler.prototype.preload = function (cradleParameters, callback, scrollerID) {\n    var cradlePassthroughPropertiesRef = cradleParameters.cradlePassthroughPropertiesRef;\n    var _a = cradleParameters.handlersRef.current,\n        stateHandler = _a.stateHandler,\n        serviceHandler = _a.serviceHandler;\n    var cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current;\n    var cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n    var getItem = cradleInheritedProperties.getItem,\n        listsize = cradleInheritedProperties.listsize;\n    var promises = [];\n\n    if (stateHandler.isMountedRef.current) {\n      for (var i = 0; i < listsize; i++) {\n        // console.log('preloading',i)\n        var promise = this.preloadItem(i, getItem, cradlePassthroughPropertiesRef, serviceHandler.callbacks.preloadIndexCallback, scrollerID);\n        promises.push(promise);\n      }\n    }\n\n    Promise.all(promises).then(function () {\n      // console.log(\"finished preloading\",'-'+scrollerID+'-',+this.cacheProps.portalMap.size)\n      callback();\n    });\n  };\n\n  CacheHandler.prototype.getCacheList = function () {\n    return this.cacheProps.cacheIndexToItemIDMap.entries();\n  }; // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n\n\n  CacheHandler.prototype.registerRequestedPortal = function (index) {\n    this.cacheProps.portalRequestedMap.set(index, null);\n  };\n\n  CacheHandler.prototype.getCacheItemID = function (index) {\n    var indexMap = this.cacheProps.cacheIndexToItemIDMap;\n    var knownID = indexMap.get(index);\n    var knownHasValue = knownID !== null && knownID !== void 0 ? knownID : false; // deal with falsey 0\n\n    var newID = knownHasValue === false ? globalCacheItemID++ : null;\n    if (knownHasValue === false) indexMap.set(index, newID);\n    return knownID !== null && knownID !== void 0 ? knownID : newID;\n  };\n\n  CacheHandler.prototype.removeRequestedPortal = function (index) {\n    this.cacheProps.portalRequestedMap[\"delete\"](index);\n  };\n\n  CacheHandler.prototype.createPortal = function (content, index, cacheItemID) {\n    this.removeRequestedPortal(index); // console.log('creating portal for index','-'+this.cacheProps.scrollerID+'-', index)\n\n    var portalNode = createPortalNode(index, cacheItemID); // console.log('creating InPortal node', '-'+this.cacheProps.scrollerID+'-', cacheItemID)\n\n    this.cacheProps.portalMap.set(cacheItemID, //index,\n    react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n      key: cacheItemID,\n      node: portalNode\n    }, \" \", content, \" \")); // <InPortal key = {index} node = {portalNode} > { content } </InPortal>)\n\n    this.cacheProps.modified = true;\n    var portalMetadata = {\n      portalNode: portalNode,\n      isReparentingRef: {\n        current: false\n      },\n      index: index,\n      cacheItemID: cacheItemID\n    };\n    this.cacheProps.portalMetadataMap.set(cacheItemID, portalMetadata);\n    this.cacheProps.cacheIndexToItemIDMap.set(index, cacheItemID);\n    this.renderPortalList();\n    return portalMetadata;\n  }; // delete a portal list item\n  // accepts an array of indexes\n\n\n  CacheHandler.prototype.deletePortal = function (index, cacheDeleteListCallback) {\n    var indexArray;\n\n    if (!Array.isArray(index)) {\n      indexArray = [index];\n    } else {\n      indexArray = index;\n    }\n\n    var _a = this.cacheProps,\n        portalMetadataMap = _a.portalMetadataMap,\n        portalMap = _a.portalMap,\n        cacheIndexToItemIDMap = _a.cacheIndexToItemIDMap;\n    var deleteList = [];\n\n    for (var _i = 0, indexArray_1 = indexArray; _i < indexArray_1.length; _i++) {\n      var i = indexArray_1[_i];\n      var cacheItemID = cacheIndexToItemIDMap.get(i);\n      deleteList.push(cacheItemID);\n      portalMetadataMap[\"delete\"](cacheItemID);\n      portalMap[\"delete\"](cacheItemID);\n      cacheIndexToItemIDMap[\"delete\"](i);\n    }\n\n    this.cacheProps.modified = true;\n    cacheDeleteListCallback && cacheDeleteListCallback(deleteList);\n  }; // query existence of a portal list item\n\n\n  CacheHandler.prototype.hasPortal = function (cacheItemID) {\n    return this.cacheProps.portalMetadataMap.has(cacheItemID);\n  };\n\n  CacheHandler.prototype.getPortal = function (cacheItemID) {\n    if (this.hasPortal(cacheItemID)) {\n      return this.cacheProps.portalMetadataMap.get(cacheItemID);\n    }\n  };\n\n  return CacheHandler;\n}();\n\nexports.CacheHandler = CacheHandler; // ==========================[ Utility functions ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n\nvar createPortalNode = function createPortalNode(index, cacheItemID) {\n  var portalNode = (0, react_reverse_portal_1.createHtmlPortalNode)();\n  var container = portalNode.element;\n  container.style.inset = '0px';\n  container.style.position = 'absolute'; // container.style.height = '100%'\n  // container.style.width = '100%'\n\n  container.dataset.type = 'contentenvelope';\n  container.dataset.index = index;\n  container.dataset.cacheitemid = cacheItemID;\n  return portalNode;\n}; // ========================[ Utility components ]==============================\n// portal list component for rapid relisting of updates, using external callback for set state\n\n\nvar PortalList = function PortalList(_a) {\n  // console.log('running PORTALLIST', '-'+cacheProps.scrollerID+'-')\n  var cacheProps = _a.cacheProps;\n\n  var _b = (0, react_1.useState)(null),\n      portalList = _b[0],\n      setPortalList = _b[1];\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    cacheProps.setListState = function () {\n      isMountedRef.current && setPortalList(cacheProps.portalList);\n    };\n\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return portalList;\n};\n\nexports.PortalList = PortalList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NhY2hlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7OztBQUtBOztBQUdBOztBQUVBLElBQU1BLGtCQUFrQixHQUFHLEdBQTNCO0FBRUEsSUFBSUMsaUJBQWlCLEdBQUcsQ0FBeEIsQyxDQUdBOztBQUNBO0FBQUE7QUFBQTtFQUVJLHNCQUFZQyxVQUFaLEVBQXNCO0lBQXRCLGlCQUFzQixDQUl0Qjs7O0lBRUEsa0JBQWE7TUFDVEMsWUFBWSxFQUFDLElBREo7TUFFVEMsUUFBUSxFQUFDLEtBRkE7TUFJVEMsaUJBQWlCLEVBQUMsSUFBSUMsR0FBSixFQUpUO01BS1RDLGtCQUFrQixFQUFFLElBQUlELEdBQUosRUFMWDtNQU1URSxTQUFTLEVBQUMsSUFBSUYsR0FBSixFQU5EO01BT1RHLHFCQUFxQixFQUFDLElBQUlILEdBQUosRUFQYjtNQVNUSSxVQUFVLEVBQUMsSUFURjtNQVdUUixVQUFVLEVBQUM7SUFYRixDQUFiLENBTnNCLENBb0J0Qjs7SUFFQSxrQkFBYTtNQUVUO01BQ0FTLEtBQUksQ0FBQ0MsVUFBTCxDQUFnQkosU0FBaEIsQ0FBMEJLLEtBQTFCOztNQUNBRixLQUFJLENBQUNDLFVBQUwsQ0FBZ0JQLGlCQUFoQixDQUFrQ1EsS0FBbEM7O01BQ0FGLEtBQUksQ0FBQ0MsVUFBTCxDQUFnQkgscUJBQWhCLENBQXNDSSxLQUF0Qzs7TUFDQUYsS0FBSSxDQUFDQyxVQUFMLENBQWdCTCxrQkFBaEIsQ0FBbUNNLEtBQW5DOztNQUNBRixLQUFJLENBQUNDLFVBQUwsQ0FBZ0JGLFVB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QUNBTixTQUFTLENBQUNLLE9BQVYsQ0FBa0JsRSxLQUFsQixHQUEwQkEsS0FBMUI7RUFDQTZELFNBQVMsQ0FBQ0ssT0FBVixDQUFrQkUsV0FBbEIsR0FBZ0NoRSxXQUFoQztFQUVBLE9BQU80QyxVQUFQO0FBRUgsQ0FmRCxDLENBaUJBO0FBRUE7OztBQUNPLElBQU1xQixVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFDOUQsRUFBRCxFQUFlO0VBRXJDO01BRnlCcEQsVUFBVTs7RUFJN0IsU0FBOEIsc0JBQVMsSUFBVCxDQUE5QjtFQUFBLElBQUNGLFVBQVUsUUFBWDtFQUFBLElBQWFxSCxhQUFhLFFBQTFCOztFQUNOLElBQU12QyxZQUFZLEdBQUcsb0JBQU8sSUFBUCxDQUFyQjtFQUVBLHVCQUFVO0lBRU41RSxVQUFVLENBQUNULFlBQVgsR0FBMEI7TUFFdEJxRixZQUFZLENBQUNULE9BQWIsSUFBd0JnRCxhQUFhLENBQUNuSCxVQUFVLENBQUNGLFVBQVosQ0FBckM7SUFFSCxDQUpEOztJQU1BLE9BQU87TUFBTzhFLFlBQVksQ0FBQ1QsT0FBYixHQUF1QixLQUF2QjtJQUE2QixDQUEzQztFQUVILENBVkQsRUFVRSxFQVZGO0VBWUEsT0FBT3JFLFVBQVA7QUFDSCxDQXBCTTs7QUFBTTJHLGtCQUFBQSxHQUFVUyxVQUFWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY2FjaGVoYW5kbGVyLnRzeD85ZTlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBvcnRhbGhhbmRsZXIudHN4XG5cbi8qXG4gICAgVGhlIGluZmluaXRlIGxpc3Qgc2Nyb2xsZXIgc3RvcmVzIHVzZXIgY2VsbCBkYXRhIGluIGEgY2VudHJhbCBoaWRkZW4gcG9ydGFsIGNhY2hlIGZvciBlYWNoXG4gICAgaW5maW5pdGVncmlkc2Nyb2xsZXIgcm9vdCwgZnJvbSB3aGVuY2UgdGhlIGRhdGEgaXMgcHVsbGVkIGludG8gdGhlIHJlbGV2YW50IENlbGxGcmFtZSBmb3IgZGlzcGxheVxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5cbmltcG9ydCB7IGNyZWF0ZUh0bWxQb3J0YWxOb2RlLCBJblBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJ1xuXG5jb25zdCBNQVhfQ0FDSEVfT1ZFUl9SVU4gPSAxLjVcblxubGV0IGdsb2JhbENhY2hlSXRlbUlEID0gMFxuXG5cbi8vIGdsb2JhbCBzY3JvbGxlciBkYXRhLCBvcmdhbml6ZWQgYnkgc2Vzc2lvbiBzY3JvbGxlcklEXG5leHBvcnQgY2xhc3MgQ2FjaGVIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHNjcm9sbGVySUQpIHtcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnNjcm9sbGVySUQgPSBzY3JvbGxlcklEXG4gICAgfVxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFUE9TSVRPUlkgQU5EIExJU1QgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY2FjaGVQcm9wcyA9IHtcbiAgICAgICAgc2V0TGlzdFN0YXRlOm51bGwsXG4gICAgICAgIG1vZGlmaWVkOmZhbHNlLFxuXG4gICAgICAgIHBvcnRhbE1ldGFkYXRhTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgcG9ydGFsUmVxdWVzdGVkTWFwOiBuZXcgTWFwKCksIC8vIHNvbWUgcG9ydGFscyBtYXkgaGF2ZSBiZWVuIHJlcXVlc3RlZCBieSByZXF1ZXN0aWRsZWNhbGxiYWNrLCBub3QgeWV0IGNyZWF0ZWRcbiAgICAgICAgcG9ydGFsTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgY2FjaGVJbmRleFRvSXRlbUlETWFwOm5ldyBNYXAoKSxcblxuICAgICAgICBwb3J0YWxMaXN0Om51bGwsXG5cbiAgICAgICAgc2Nyb2xsZXJJRDpudWxsXG4gICAgfVxuXG4gICAgLy8gaW5pdGlhbGl6ZSBzY3JvbGxlciByZXBvc2l0b3J5XG5cbiAgICBjbGVhckNhY2hlID0gKCkgPT4ge1xuXG4gICAgICAgIC8vIGtlZXAgdGhlIHNldExpc3RTdGF0ZSBjYWxsYmFja1xuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwLmNsZWFyKCkgXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcC5jbGVhcigpXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5jYWNoZUluZGV4VG9JdGVtSURNYXAuY2xlYXIoKVxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsUmVxdWVzdGVkTWFwLmNsZWFyKClcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnBvcnRhbExpc3QgPSBudWxsXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tb2RpZmllZCA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnNldExpc3RTdGF0ZSgpIC8vIHRyaWdnZXIgZGlzcGxheSB1cGRhdGVcblxuICAgIH1cblxuICAgIC8vIHNldCBzdGF0ZSBvZiB0aGUgUG9ydGFsTGlzdCBjb21wb25lbnQgb2YgdGhlIHNjcm9sbGVyIHRvIHRyaWdnZXIgcmVuZGVyXG4gICAgcmVuZGVyUG9ydGFsTGlzdCA9ICgpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5jYWNoZVByb3BzLm1vZGlmaWVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTGlzdCA9IEFycmF5LmZyb20odGhpcy5jYWNoZVByb3BzLnBvcnRhbE1hcC52YWx1ZXMoKSlcbiAgICAgICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tb2RpZmllZCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMuc2V0TGlzdFN0YXRlKCkgLy8gdHJpZ2dlciBkaXNwbGF5IHVwZGF0ZVxuXG4gICAgfVxuXG4gICAgbWF0Y2hDYWNoZVRvQ3JhZGxlID0gKG1vZGVsSW5kZXhMaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygncnVubmluZyBtYXRjaENhY2hlVG9DcmFkbGUnLCAnLScrdGhpcy5jYWNoZVByb3BzLnNjcm9sbGVySUQrJy0nKVxuICAgICAgICAvLyBjb25zdCBwb3J0YWxNZXRhZGF0YU1hcCA9IHRoaXMuY2FjaGVQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcFxuICAgICAgICAvLyBjb25zdCBtYXBzZXNzaW9uaXRlbWlka2V5cyA9IEFycmF5LmZyb20odGhpcy5jYWNoZVByb3BzLnBvcnRhbE1hcC5rZXlzKCkpXG4gICAgICAgIC8vIGNvbnN0IG1hcGtleXMgPSBtYXBzZXNzaW9uaXRlbWlka2V5cy5tYXAoY2FjaGVJdGVtSUQgPT57XG4gICAgICAgIC8vICAgICByZXR1cm4gcG9ydGFsTWV0YWRhdGFNYXAuZ2V0KGNhY2hlSXRlbUlEKS5pbmRleFxuICAgICAgICAvLyB9KVxuICAgICAgICBjb25zdCBtYXBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLmNhY2hlUHJvcHMuY2FjaGVJbmRleFRvSXRlbUlETWFwLmtleXMoKSlcbiAgICAgICAgbWFwa2V5cy5maWx0ZXIoa2V5ID0+ICFtb2RlbEluZGV4TGlzdC5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZmlsdGVyZWQgbWFwa2V5cywgbW9kZWxJbmRleExpc3QnLCBtYXBrZXlzLCBtb2RlbEluZGV4TGlzdClcbiAgICAgICAgdGhpcy5kZWxldGVQb3J0YWwobWFwa2V5cywgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2spXG4gICAgfVxuXG4gICAgcGFyZUNhY2hlVG9NYXggPSAoY2FjaGVNYXgsIG1vZGVsSW5kZXhMaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGNvbnN0IG1vZGVsTGVuZ3RoID0gbW9kZWxJbmRleExpc3QubGVuZ3RoXG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIG5lZWQgZm9yIHBhcmluZ1xuICAgICAgICBpZiAoKCFjYWNoZU1heCkgfHwgKCFtb2RlbExlbmd0aCkpIHJldHVybiBmYWxzZVxuXG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KG1vZGVsTGVuZ3RoLCBjYWNoZU1heClcblxuICAgICAgICAvLyBjb25zdCBwb3J0YWxNYXBMaXN0ID0gdGhpcy5jYWNoZVByb3BzLnBvcnRhbE1hcFxuICAgICAgICBjb25zdCBwb3J0YWxJbmRleExpc3QgPSB0aGlzLmNhY2hlUHJvcHMuY2FjaGVJbmRleFRvSXRlbUlETWFwXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE1hcCA9IHRoaXMuY2FjaGVQcm9wcy5wb3J0YWxSZXF1ZXN0ZWRNYXBcbiAgICAgICAgLy8gY29uc3QgeyBwb3J0YWxNZXRhZGF0YU1hcCB9ID0gdGhpcy5jYWNoZVByb3BzXG5cbiAgICAgICAgLy8gaWYgKChwb3J0YWxNYXBMaXN0LnNpemUgKyByZXF1ZXN0ZWRNYXAuc2l6ZSkgPD0gbWF4KSByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKChwb3J0YWxJbmRleExpc3Quc2l6ZSArIHJlcXVlc3RlZE1hcC5zaXplKSA8PSBtYXgpIHJldHVybiBmYWxzZVxuXG4gICAgICAgIC8vIHNvcnQgdGhlIG1hcCBrZXlzXG4gICAgICAgIC8vIGNvbnN0IG1hcHNlc3Npb25pdGVtaWRrZXlzbGlzdCA9IEFycmF5LmZyb20ocG9ydGFsTWFwTGlzdC5rZXlzKCkpXG4gICAgICAgIC8vIGNvbnN0IG1hcGtleXNsaXN0ID0gbWFwc2Vzc2lvbml0ZW1pZGtleXNsaXN0Lm1hcChjYWNoZUl0ZW1JRCA9PntcbiAgICAgICAgLy8gICAgIHJldHVybiBwb3J0YWxNZXRhZGF0YU1hcC5nZXQoY2FjaGVJdGVtSUQpLmluZGV4XG4gICAgICAgIC8vIH0pXG4gICAgICAgIGNvbnN0IG1hcGtleXNsaXN0ID0gQXJyYXkuZnJvbShwb3J0YWxJbmRleExpc3Qua2V5cygpKVxuICAgICAgICBjb25zdCByZXF1ZXN0ZWRrZXlzID0gQXJyYXkuZnJvbShyZXF1ZXN0ZWRNYXAua2V5cygpKVxuXG4gICAgICAgIGNvbnN0IG1hcGtleXMgPSBtYXBrZXlzbGlzdC5jb25jYXQocmVxdWVzdGVka2V5cylcblxuICAgICAgICBtYXBrZXlzLnNvcnQoKGEsYikgPT4gYSAtIGIpXG5cbiAgICAgICAgLy8gZ2V0IG51bWJlciB0byBwYXJlXG4gICAgICAgIGNvbnN0IG1hcExlbmd0aCA9IG1hcGtleXMubGVuZ3RoXG4gICAgICAgIGNvbnN0IHBhcmVjb3VudCA9IG1hcExlbmd0aCAtIG1heFxuXG4gICAgICAgIC8vIGRpc3RyaWJ1dGUgcGFyaW5nIHByb3BvcnRpb25hbGx5IGF0IGZyb250IGFuZCBiYWNrXG4gICAgICAgIGNvbnN0IGhlYWRpbmRleCA9IG1vZGVsSW5kZXhMaXN0WzBdXG4gICAgICAgIGNvbnN0IHRhaWxpbmRleCA9IG1vZGVsSW5kZXhMaXN0W21vZGVsTGVuZ3RoIC0gMV1cbiAgICAgICAgY29uc3QgaGVhZHBvcyA9IG1hcGtleXMuaW5kZXhPZihoZWFkaW5kZXgpXG4gICAgICAgIGNvbnN0IHRhaWxwb3MgPSBtYXBrZXlzLmluZGV4T2YodGFpbGluZGV4KVxuXG4gICAgICAgIGNvbnN0IGhlYWRyb29tID0gaGVhZHBvc1xuICAgICAgICBjb25zdCB0YWlscm9vbSA9IG1hcExlbmd0aCAtICh0YWlscG9zICsgMSlcbiAgICAgICAgY29uc3QgcGFyZXJvb20gPSBoZWFkcm9vbSArIHRhaWxyb29tXG5cbiAgICAgICAgY29uc3QgaGVhZHBhcmVjb3VudCA9IE1hdGguZmxvb3IoKGhlYWRyb29tL3BhcmVyb29tKSpwYXJlY291bnQpXG4gICAgICAgIGNvbnN0IHRhaWxwYXJlY291bnQgPSBwYXJlY291bnQgLSBoZWFkcGFyZWNvdW50XG5cbiAgICAgICAgLy8gY29sbGVjdCBpbmRleGVzIHRvIHBhcmVcbiAgICAgICAgY29uc3QgaGVhZGxpc3QgPSBtYXBrZXlzLnNsaWNlKDAsaGVhZHBhcmVjb3VudClcbiAgICAgICAgY29uc3QgdGFpbGxpc3QgPSBtYXBrZXlzLnNsaWNlKG1hcExlbmd0aCAtIHRhaWxwYXJlY291bnQpXG5cbiAgICAgICAgY29uc3QgZGVsTGlzdCA9IGhlYWRsaXN0LmNvbmNhdCh0YWlsbGlzdClcblxuICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbChkZWxMaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgfVxuXG4gICAgZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmcgPSAoY2FjaGVNYXgsIG1vZGVsTGVuZ3RoKSA9PiB7XG5cbiAgICAgICAgaWYgKCFjYWNoZU1heCkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgY29uc3QgcG9ydGFsTWFwID0gdGhpcy5jYWNoZVByb3BzLnBvcnRhbE1hcFxuICAgICAgICBjb25zdCBwb3J0YWxSZXF1ZXN0ZWRNYXAgPSB0aGlzLmNhY2hlUHJvcHMucG9ydGFsUmVxdWVzdGVkTWFwXG5cbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgobW9kZWxMZW5ndGgsIGNhY2hlTWF4KVxuXG4gICAgICAgIGlmICgocG9ydGFsTWFwLnNpemUgKyBwb3J0YWxSZXF1ZXN0ZWRNYXAuc2l6ZSkgPD0gKChtYXgpICogTUFYX0NBQ0hFX09WRVJfUlVOKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBwcmVsb2FkSXRlbShpbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYsIFxuICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgc2Nyb2xsZXJJRFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlSXRlbUlEID0gdGhpcy5nZXRDYWNoZUl0ZW1JRChpbmRleClcblxuICAgICAgICBjb25zdCB1c2VyY29udGVudCA9IGF3YWl0IGdldEl0ZW0oaW5kZXgsIGNhY2hlSXRlbUlEKVxuXG4gICAgICAgIGlmICh1c2VyY29udGVudCkge1xuXG4gICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayAmJiBwcmVsb2FkSW5kZXhDYWxsYmFjayhpbmRleCwgY2FjaGVJdGVtSUQpXG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwcmVsb2FkaW5nIGluZGV4JywnLScrc2Nyb2xsZXJJRCsnLScgLGluZGV4IClcblxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxlckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZjpudWxsLFxuICAgICAgICAgICAgICAgIGNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyY29udGVudC5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnc2Nyb2xsZXJEYXRhJykpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gUmVhY3QuY2xvbmVFbGVtZW50KHVzZXJjb250ZW50LCB7c2Nyb2xsZXJEYXRhfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IHVzZXJjb250ZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBvcnRhbERhdGEgPSBcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVBvcnRhbChjb250ZW50LCBpbmRleCwgY2FjaGVJdGVtSUQpXG4gICAgICAgICAgICAvLyBtYWtlIGF2YWlsYWJsZSB0byB1c2VyIGNvbnRlbnRcbiAgICAgICAgICAgIHNjcm9sbGVyRGF0YS5pc1JlcGFyZW50aW5nUmVmID0gcG9ydGFsRGF0YS5pc1JlcGFyZW50aW5nUmVmXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2sgJiYgcHJlbG9hZEluZGV4Q2FsbGJhY2soaW5kZXgsIGNhY2hlSXRlbUlELCAnZXJyb3InKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywnbm8gY29udGVudCBpdGVtIGZvciBwcmVsb2FkIGluZGV4LCBjYWNoZUl0ZW1JRCcsaW5kZXgsIGNhY2hlSXRlbUlEKVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByZWxvYWQoY3JhZGxlUGFyYW1ldGVycywgY2FsbGJhY2ssIHNjcm9sbGVySUQpIHtcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiB9ID0gY3JhZGxlUGFyYW1ldGVyc1xuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgZ2V0SXRlbSwgbGlzdHNpemUgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAgICAgaWYgKHN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncHJlbG9hZGluZycsaSlcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcmVsb2FkSXRlbShcbiAgICAgICAgICAgICAgICAgICAgaSwgXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0sIFxuICAgICAgICAgICAgICAgICAgICBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5wcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJJRFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihcbiAgICAgICAgICAgICgpPT57XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmaW5pc2hlZCBwcmVsb2FkaW5nXCIsJy0nK3Njcm9sbGVySUQrJy0nLCt0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwLnNpemUpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICB9XG5cbiAgICBnZXRDYWNoZUxpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUHJvcHMuY2FjaGVJbmRleFRvSXRlbUlETWFwLmVudHJpZXMoKVxuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgSU5ESVZJRFVBTCBQT1JUQUwgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcmVnaXN0ZXJSZXF1ZXN0ZWRQb3J0YWwoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnBvcnRhbFJlcXVlc3RlZE1hcC5zZXQoaW5kZXgsIG51bGwpXG4gICAgfVxuXG4gICAgZ2V0Q2FjaGVJdGVtSUQoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgaW5kZXhNYXAgPSB0aGlzLmNhY2hlUHJvcHMuY2FjaGVJbmRleFRvSXRlbUlETWFwIFxuICAgICAgICBjb25zdCBrbm93bklEID0gaW5kZXhNYXAuZ2V0KGluZGV4KVxuICAgICAgICBjb25zdCBrbm93bkhhc1ZhbHVlID0ga25vd25JRD8/ZmFsc2UgLy8gZGVhbCB3aXRoIGZhbHNleSAwXG4gICAgICAgIGNvbnN0IG5ld0lEID0gKGtub3duSGFzVmFsdWUgPT09IGZhbHNlKT8oZ2xvYmFsQ2FjaGVJdGVtSUQrKyk6bnVsbFxuICAgICAgICBpZiAoa25vd25IYXNWYWx1ZSA9PT0gZmFsc2UpIGluZGV4TWFwLnNldChpbmRleCwgbmV3SUQpXG4gICAgICAgIHJldHVybiBrbm93bklEPz9uZXdJRFxuICAgIH1cblxuICAgIHJlbW92ZVJlcXVlc3RlZFBvcnRhbChpbmRleCkge1xuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsUmVxdWVzdGVkTWFwLmRlbGV0ZShpbmRleClcbiAgICB9XG5cbiAgICBjcmVhdGVQb3J0YWwoY29udGVudCwgaW5kZXgsIGNhY2hlSXRlbUlEKSB7IC8vIGNyZWF0ZSBuZXcgcG9ydGFsXG5cbiAgICAgICAgdGhpcy5yZW1vdmVSZXF1ZXN0ZWRQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyZWF0aW5nIHBvcnRhbCBmb3IgaW5kZXgnLCctJyt0aGlzLmNhY2hlUHJvcHMuc2Nyb2xsZXJJRCsnLScsIGluZGV4KVxuICAgICAgICBjb25zdCBwb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZShpbmRleCwgY2FjaGVJdGVtSUQpXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyZWF0aW5nIEluUG9ydGFsIG5vZGUnLCAnLScrdGhpcy5jYWNoZVByb3BzLnNjcm9sbGVySUQrJy0nLCBjYWNoZUl0ZW1JRClcblxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwLnNldChjYWNoZUl0ZW1JRCwvL2luZGV4LFxuICAgICAgICAgICAgICAgIDxJblBvcnRhbCBrZXkgPSB7Y2FjaGVJdGVtSUR9IG5vZGUgPSB7cG9ydGFsTm9kZX0gPiB7IGNvbnRlbnQgfSA8L0luUG9ydGFsPilcbiAgICAgICAgICAgICAgICAvLyA8SW5Qb3J0YWwga2V5ID0ge2luZGV4fSBub2RlID0ge3BvcnRhbE5vZGV9ID4geyBjb250ZW50IH0gPC9JblBvcnRhbD4pXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tb2RpZmllZCA9IHRydWVcblxuICAgICAgICBjb25zdCBwb3J0YWxNZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIHBvcnRhbE5vZGUsXG4gICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmOntcbiAgICAgICAgICAgICAgICBjdXJyZW50OmZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgY2FjaGVJdGVtSUQsXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWV0YWRhdGFNYXAuc2V0KGNhY2hlSXRlbUlELCBwb3J0YWxNZXRhZGF0YSlcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLmNhY2hlSW5kZXhUb0l0ZW1JRE1hcC5zZXQoaW5kZXgsIGNhY2hlSXRlbUlEKVxuXG4gICAgICAgIHRoaXMucmVuZGVyUG9ydGFsTGlzdCgpXG5cbiAgICAgICAgcmV0dXJuIHBvcnRhbE1ldGFkYXRhXG5cbiAgICB9XG5cbiAgICAvLyBkZWxldGUgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgLy8gYWNjZXB0cyBhbiBhcnJheSBvZiBpbmRleGVzXG4gICAgZGVsZXRlUG9ydGFsKGluZGV4LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykge1xuXG4gICAgICAgIGxldCBpbmRleEFycmF5XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbmRleCkpIHtcbiAgICAgICAgICAgIGluZGV4QXJyYXkgPSBbaW5kZXhdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleEFycmF5ID0gaW5kZXhcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgXG4gICAgICAgICAgICBwb3J0YWxNZXRhZGF0YU1hcCxcbiAgICAgICAgICAgIHBvcnRhbE1hcCxcbiAgICAgICAgICAgIGNhY2hlSW5kZXhUb0l0ZW1JRE1hcCBcbiAgICAgICAgfSA9IHRoaXMuY2FjaGVQcm9wc1xuICAgICAgICBjb25zdCBkZWxldGVMaXN0ID0gW11cbiAgICAgICAgZm9yIChsZXQgaSBvZiBpbmRleEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW1JRCA9IGNhY2hlSW5kZXhUb0l0ZW1JRE1hcC5nZXQoaSlcbiAgICAgICAgICAgIGRlbGV0ZUxpc3QucHVzaChjYWNoZUl0ZW1JRClcbiAgICAgICAgICAgIHBvcnRhbE1ldGFkYXRhTWFwLmRlbGV0ZShjYWNoZUl0ZW1JRClcbiAgICAgICAgICAgIHBvcnRhbE1hcC5kZWxldGUoY2FjaGVJdGVtSUQpXG4gICAgICAgICAgICBjYWNoZUluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLm1vZGlmaWVkID0gdHJ1ZVxuXG4gICAgICAgIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrICYmIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKGRlbGV0ZUxpc3QpXG5cbiAgICB9XG5cbiAgICAvLyBxdWVyeSBleGlzdGVuY2Ugb2YgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgaGFzUG9ydGFsKGNhY2hlSXRlbUlEKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcC5oYXMoY2FjaGVJdGVtSUQpXG5cbiAgICB9XG5cbiAgICBnZXRQb3J0YWwoY2FjaGVJdGVtSUQpIHtcblxuICAgICAgICBpZiAodGhpcy5oYXNQb3J0YWwoY2FjaGVJdGVtSUQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVByb3BzLnBvcnRhbE1ldGFkYXRhTWFwLmdldChjYWNoZUl0ZW1JRClcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBVdGlsaXR5IGZ1bmN0aW9ucyBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBnZXQgYSByZWFjdC1yZXZlcnNlLXBvcnRhbCBJblBvcnRhbCBjb21wb25lbnQsIHdpdGggaXRzIG1ldGFkYXRhXG4vLyB3aXRoIHVzZXIgY29udGVudCBhbmQgY29udGFpbmVyXG5jb25zdCBjcmVhdGVQb3J0YWxOb2RlID0gKGluZGV4LCBjYWNoZUl0ZW1JRCkgPT4ge1xuXG4gICAgbGV0IHBvcnRhbE5vZGUgPSBjcmVhdGVIdG1sUG9ydGFsTm9kZSgpXG5cbiAgICBsZXQgY29udGFpbmVyID0gcG9ydGFsTm9kZS5lbGVtZW50XG4gICAgY29udGFpbmVyLnN0eWxlLmluc2V0ID0gJzBweCcgXG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgIC8vIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcbiAgICAvLyBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgICBjb250YWluZXIuZGF0YXNldC50eXBlID0gJ2NvbnRlbnRlbnZlbG9wZSdcbiAgICBjb250YWluZXIuZGF0YXNldC5pbmRleCA9IGluZGV4XG4gICAgY29udGFpbmVyLmRhdGFzZXQuY2FjaGVpdGVtaWQgPSBjYWNoZUl0ZW1JRFxuXG4gICAgcmV0dXJuIHBvcnRhbE5vZGVcblxufSAgICAgXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PVsgVXRpbGl0eSBjb21wb25lbnRzIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gcG9ydGFsIGxpc3QgY29tcG9uZW50IGZvciByYXBpZCByZWxpc3Rpbmcgb2YgdXBkYXRlcywgdXNpbmcgZXh0ZXJuYWwgY2FsbGJhY2sgZm9yIHNldCBzdGF0ZVxuZXhwb3J0IGNvbnN0IFBvcnRhbExpc3QgPSAoeyBjYWNoZVByb3BzIH0pID0+IHtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdydW5uaW5nIFBPUlRBTExJU1QnLCAnLScrY2FjaGVQcm9wcy5zY3JvbGxlcklEKyctJylcblxuICAgIGNvbnN0IFtwb3J0YWxMaXN0LCBzZXRQb3J0YWxMaXN0XSA9IHVzZVN0YXRlKG51bGwpXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBjYWNoZVByb3BzLnNldExpc3RTdGF0ZSA9ICgpPT57XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ICYmIHNldFBvcnRhbExpc3QoY2FjaGVQcm9wcy5wb3J0YWxMaXN0KVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKCkgPT4ge2lzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2V9XG5cbiAgICB9LFtdKSBcblxuICAgIHJldHVybiBwb3J0YWxMaXN0XG59XG4iXSwibmFtZXMiOlsiTUFYX0NBQ0hFX09WRVJfUlVOIiwiZ2xvYmFsQ2FjaGVJdGVtSUQiLCJzY3JvbGxlcklEIiwic2V0TGlzdFN0YXRlIiwibW9kaWZpZWQiLCJwb3J0YWxNZXRhZGF0YU1hcCIsIk1hcCIsInBvcnRhbFJlcXVlc3RlZE1hcCIsInBvcnRhbE1hcCIsImNhY2hlSW5kZXhUb0l0ZW1JRE1hcCIsInBvcnRhbExpc3QiLCJfdGhpcyIsImNhY2hlUHJvcHMiLCJjbGVhciIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsIm1vZGVsSW5kZXhMaXN0IiwiY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2siLCJtYXBrZXlzIiwia2V5cyIsImZpbHRlciIsImluY2x1ZGVzIiwia2V5IiwiZGVsZXRlUG9ydGFsIiwiY2FjaGVNYXgiLCJtb2RlbExlbmd0aCIsImxlbmd0aCIsIm1heCIsIk1hdGgiLCJwb3J0YWxJbmRleExpc3QiLCJyZXF1ZXN0ZWRNYXAiLCJzaXplIiwibWFwa2V5c2xpc3QiLCJyZXF1ZXN0ZWRrZXlzIiwiY29uY2F0Iiwic29ydCIsImEiLCJiIiwibWFwTGVuZ3RoIiwicGFyZWNvdW50IiwiaGVhZGluZGV4IiwidGFpbGluZGV4IiwiaGVhZHBvcyIsImluZGV4T2YiLCJ0YWlscG9zIiwiaGVhZHJvb20iLCJ0YWlscm9vbSIsInBhcmVyb29tIiwiaGVhZHBhcmVjb3VudCIsImZsb29yIiwidGFpbHBhcmVjb3VudCIsImhlYWRsaXN0Iiwic2xpY2UiLCJ0YWlsbGlzdCIsImRlbExpc3QiLCJDYWNoZUhhbmRsZXIiLCJpbmRleCIsImdldEl0ZW0iLCJjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYiLCJwcmVsb2FkSW5kZXhDYWxsYmFjayIsImNhY2hlSXRlbUlEIiwiZ2V0Q2FjaGVJdGVtSUQiLCJ1c2VyY29udGVudCIsIl9hIiwiY29udGVudCIsInNjcm9sbGVyRGF0YSIsImlzUmVwYXJlbnRpbmdSZWYiLCJwcm9wcyIsImhhc093blByb3BlcnR5IiwicmVhY3RfMSIsImNsb25lRWxlbWVudCIsInBvcnRhbERhdGEiLCJjcmVhdGVQb3J0YWwiLCJjb25zb2xlIiwibG9nIiwiY3JhZGxlUGFyYW1ldGVycyIsImNhbGxiYWNrIiwiaGFuZGxlcnNSZWYiLCJjdXJyZW50Iiwic3RhdGVIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImxpc3RzaXplIiwicHJvbWlzZXMiLCJpc01vdW50ZWRSZWYiLCJpIiwicHJvbWlzZSIsInByZWxvYWRJdGVtIiwiY2FsbGJhY2tzIiwicHVzaCIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwiZW50cmllcyIsInNldCIsImluZGV4TWFwIiwia25vd25JRCIsImdldCIsImtub3duSGFzVmFsdWUiLCJuZXdJRCIsInJlbW92ZVJlcXVlc3RlZFBvcnRhbCIsInBvcnRhbE5vZGUiLCJjcmVhdGVQb3J0YWxOb2RlIiwicmVhY3RfcmV2ZXJzZV9wb3J0YWxfMSIsIm5vZGUiLCJwb3J0YWxNZXRhZGF0YSIsInJlbmRlclBvcnRhbExpc3QiLCJpbmRleEFycmF5IiwiaXNBcnJheSIsImRlbGV0ZUxpc3QiLCJfaSIsImhhcyIsImhhc1BvcnRhbCIsImV4cG9ydHMiLCJjb250YWluZXIiLCJlbGVtZW50Iiwic3R5bGUiLCJpbnNldCIsInBvc2l0aW9uIiwiZGF0YXNldCIsInR5cGUiLCJjYWNoZWl0ZW1pZCIsIlBvcnRhbExpc3QiLCJzZXRQb3J0YWxMaXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/cachehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/contentfunctions.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/contentfunctions.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // contentfunctions.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deletePortals = exports.allocateContentList = exports.getCellFrameComponentList = exports.calcContentShift = exports.getShiftInstruction = exports.getContentListRequirements = void 0;\n/******************************************************************************************\n ------------------------------------[ SUPPORTING FUNCTIONS ]------------------------------\n*******************************************************************************************/\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar cellframe_1 = __importDefault(__webpack_require__(/*! ../cellframe */ \"./src/cellframe.tsx\")); // ======================[ for setCradleContent ]===========================\n\n\nvar getContentListRequirements = function getContentListRequirements(_a) {\n  var // called from setCradleContent only\n  rowLength = _a.rowLength,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleInternalProperties = _a.cradleInternalProperties,\n      targetAxisReferenceIndex = _a.targetAxisReferenceIndex,\n      // from user, or from pivot\n  targetAxisPixelOffset = _a.targetAxisPixelOffset,\n      viewportElement = _a.viewportElement;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      gap = cradleInheritedProperties.gap,\n      listsize = cradleInheritedProperties.listsize;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount,\n      listRowcount = cradleInternalProperties.listRowcount,\n      viewportVisibleRowcount = cradleInternalProperties.viewportVisibleRowcount; // align axis reference to first row item\n  // const origrefindex = targetAxisReferenceIndex\n\n  targetAxisReferenceIndex = Math.min(targetAxisReferenceIndex, listsize - 1);\n  targetAxisReferenceIndex -= targetAxisReferenceIndex % crosscount; // derive target row\n\n  var targetAxisRowOffset = Math.ceil(targetAxisReferenceIndex / crosscount);\n  var maxAxisRowOffset = listRowcount - viewportVisibleRowcount;\n\n  if (targetAxisRowOffset > maxAxisRowOffset) {\n    targetAxisRowOffset = maxAxisRowOffset;\n    targetAxisReferenceIndex = targetAxisRowOffset * crosscount;\n  } // -----------------------[ calc cradleReferenceRow & Index ]------------------------\n  // leading edge\n  // let targetCradleReferenceIndex = Math.max(0,targetAxisReferenceIndex - leadingrunwayitemcount)\n\n\n  var targetCradleRowOffset = Math.max(0, targetAxisRowOffset - runwayRowcount); // trailing edge\n\n  var targetCradleEndRowOffset = targetCradleRowOffset + (cradleRowcount - 1);\n  var listEndRowOffset = listRowcount - 1;\n\n  if (targetCradleEndRowOffset > listEndRowOffset) {\n    var diff = targetCradleEndRowOffset - listEndRowOffset;\n    targetCradleRowOffset -= diff;\n    targetCradleEndRowOffset -= diff;\n  }\n\n  var targetCradleReferenceIndex = targetCradleRowOffset * crosscount; // ---------------------[ calc cradle content count ]---------------------\n\n  var newCradleContentCount = cradleRowcount * crosscount;\n\n  if (targetCradleEndRowOffset == listEndRowOffset) {\n    var endRowRemainderCount = listsize % crosscount;\n\n    if (endRowRemainderCount) {\n      newCradleContentCount -= crosscount - endRowRemainderCount;\n    }\n  } // --------------------[ calc css positioning ]-----------------------\n\n\n  var targetScrollblockPixelOffset = targetAxisRowOffset * rowLength - targetAxisPixelOffset; // ----------------------[ return required values ]---------------------\n\n  return {\n    targetCradleReferenceIndex: targetCradleReferenceIndex,\n    targetAxisReferenceIndex: targetAxisReferenceIndex,\n    targetAxisRowOffset: targetAxisRowOffset,\n    targetScrollblockPixelOffset: targetScrollblockPixelOffset,\n    newCradleContentCount: newCradleContentCount\n  };\n};\n\nexports.getContentListRequirements = getContentListRequirements; // ======================[ for updateCradleContent ]===========================\n// -1 = shift row to head. 1 = shift row to tail. 0 = do not shift a row.\n\nvar getShiftInstruction = function getShiftInstruction(_a) {\n  var isViewportScrollingForward = _a.isViewportScrollingForward,\n      orientation = _a.orientation,\n      triggerlineEntries = _a.triggerlineEntries,\n      triggerlineRecord = _a.triggerlineRecord,\n      triggerlineSpan = _a.triggerlineSpan,\n      scrollerID = _a.scrollerID;\n\n  if (isViewportScrollingForward != triggerlineRecord.wasViewportScrollingForward) {\n    triggerlineRecord.wasViewportScrollingForward = isViewportScrollingForward;\n    triggerlineRecord.driver = isViewportScrollingForward ? 'triggerline-tail' : 'triggerline-head';\n    triggerlineRecord.offset = null;\n  }\n\n  var entries = triggerlineEntries.filter(function (entry) {\n    // const isIntersecting = entry.isIntersecting\n    var triggerlinename = entry.target.dataset.type;\n    entry.triggerlinename = triggerlinename;\n    entry.scrollingforward = isViewportScrollingForward;\n    var rootpos = orientation == 'vertical' ? entry.rootBounds.y : entry.rootBounds.x;\n    var entrypos = orientation == 'vertical' ? entry.boundingClientRect.y : entry.boundingClientRect.x;\n    entry.viewportoffset = entrypos - rootpos;\n    return isViewportScrollingForward && triggerlinename == 'triggerline-tail' && entrypos <= rootpos || !isViewportScrollingForward && triggerlinename == 'triggerline-head' && entrypos >= rootpos;\n  }); // if ((entries.length == 0) && (triggerlineEntries.length == 2)) { // reconnecting\n  //     return 0\n  // }\n\n  if (entries.length == 0) {\n    var counterentries = triggerlineEntries.filter(function (entry) {\n      return entry.triggerlinename != triggerlineRecord.driver;\n    });\n    if (counterentries.length == 0) return 0; // console.log('counterentries','-'+scrollerID+'-', [...counterentries])\n    // check for implied trigger - trigger can be bypassed with heavy components\n\n    var counterentry = counterentries.pop(); //dtriggerlineEntries[0]\n\n    var countertriggerlinename = counterentry.triggerlinename;\n    var impliedoffset = void 0;\n\n    if (countertriggerlinename != triggerlineRecord.driver) {\n      // should always be true\n      if (countertriggerlinename == 'triggerline-head') {\n        impliedoffset = counterentry.viewportoffset + triggerlineSpan;\n\n        if (impliedoffset <= 0) {\n          triggerlineRecord.offset = impliedoffset; // console.log('returning -1')\n\n          return -1;\n        }\n      } else {\n        // countertriggerlinename == 'triggerline-tail'\n        impliedoffset = counterentry.viewportoffset - triggerlineSpan;\n\n        if (impliedoffset >= 0) {\n          triggerlineRecord.offset = impliedoffset; // console.log('returning 1')\n\n          return 1;\n        }\n      }\n    } // console.log('returning 0')\n\n\n    return 0;\n  }\n\n  var entry = entries[0]; // assume one record gets filtered; only paired above on reconnect\n\n  triggerlineRecord.offset = entry.viewportoffset;\n  var retval;\n\n  if (!isViewportScrollingForward) {\n    retval = 1; // shift row to tail\n  } else {\n    retval = -1; // shift row to head\n  }\n\n  return retval;\n};\n\nexports.getShiftInstruction = getShiftInstruction; // A negative shift instruction is into the head, a positive shift is into the tail.\n// called only from updateCradleContent\n\nvar calcContentShift = function calcContentShift(_a) {\n  // ------------------------[ 1. initialize ]-----------------------\n  var _b, _c;\n\n  var shiftinstruction = _a.shiftinstruction,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleInternalProperties = _a.cradleInternalProperties,\n      cradleContent = _a.cradleContent,\n      cradleElements = _a.cradleElements,\n      scrollPos = _a.scrollPos;\n  var isScrollingViewportForward = shiftinstruction < 0;\n  var gap = cradleInheritedProperties.gap,\n      orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      listsize = cradleInheritedProperties.listsize,\n      triggerlineOffset = cradleInheritedProperties.triggerlineOffset;\n  var axisElement = cradleElements.axisRef.current;\n  var cradlecontentlist = cradleContent.cradleModelComponents,\n      tailcontentlist = cradleContent.tailModelComponents;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      listRowcount = cradleInternalProperties.listRowcount,\n      viewportRowcount = cradleInternalProperties.viewportRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount;\n  var rowLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap; // -----------[ 2. calculate axis reference row shift ]-------------------\n  // extra gaps can be caused by rapid scrolling\n\n  var cradleAxisOffset = orientation == 'vertical' ? axisElement.offsetTop : axisElement.offsetLeft; // viewportAxisOffset will be negative for scroll forward and positive for scroll backward\n\n  var viewportAxisOffset = // the pixel distance between the viewport frame and the axis, toward the head\n  cradleAxisOffset - scrollPos;\n  var triggerAxisOffset = isScrollingViewportForward ? // scroll forward engages the tail triggerline which is below the axis\n  // the tail triggerline must be placed to intersect to re-trigger\n  viewportAxisOffset + triggerlineOffset : // scrollbackward engages the head triggerline which is above the axis\n  // the head triggerline muse be placed not to intersect to retrigger\n  viewportAxisOffset - (rowLength - triggerlineOffset); // negative for moving rows out of head into tail;\n  // positive for moving rows out of tail into head\n  // +/- 1 gurantees boundary location results in move\n\n  var triggerRowShift = isScrollingViewportForward ? Math.floor((triggerAxisOffset ? triggerAxisOffset : -1) / rowLength) : Math.ceil((triggerAxisOffset ? triggerAxisOffset : 1) / rowLength);\n  var axisReferenceRowshift = -triggerRowShift; // ------------[ 5. calc new cradle and axis reference row offset ]-------------\n  // base value for cradle reference shift; may change if beyond list bounds\n\n  var cradleReferenceRowshift = axisReferenceRowshift;\n  var previousCradleReferenceIndex = ((_b = cradlecontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0;\n  var previousCradleRowOffset = Math.ceil(previousCradleReferenceIndex / crosscount);\n  var previousAxisReferenceIndex = ((_c = tailcontentlist[0]) === null || _c === void 0 ? void 0 : _c.props.index) || 0;\n  var previousAxisRowOffset = Math.ceil(previousAxisReferenceIndex / crosscount); // base values\n\n  var newCradleReferenceRowOffset = previousCradleRowOffset + cradleReferenceRowshift;\n  var newAxisReferenceRowOffset = previousAxisRowOffset + axisReferenceRowshift; // --------[ 6. adjust cradle contents for start and end of list ]-------\n  // ...to maintain constant number of cradle rows\n\n  var listEndrowOffset = listRowcount - 1;\n\n  if (isScrollingViewportForward) {\n    // a. if scrolling forward near the start of the list, new cradle row offset and\n    // cradle row shift count has to be adjusted to accommodate the leading runway\n    // b. if scrolling forward (toward tail of list), as the cradle last row offset approaches \n    // listrow new cradle offset and cradle row shift have to be adjusted to prevent shortening \n    // of cradle content.\n    var targetCradleReferenceRowOffset = Math.max(0, newAxisReferenceRowOffset - runwayRowcount + (runwayRowcount ? -1 : 0) // one row is visible, not runway\n    );\n    var headrowDiff = newCradleReferenceRowOffset - targetCradleReferenceRowOffset;\n\n    if (headrowDiff > 0) {\n      newCradleReferenceRowOffset -= headrowDiff;\n      cradleReferenceRowshift -= headrowDiff;\n    } // case of being in bounds of trailing runway (end of list)\n\n\n    var targetCradleEndrowOffset = newCradleReferenceRowOffset + (cradleRowcount - 1);\n    var tailrowdiff = Math.max(0, targetCradleEndrowOffset - listEndrowOffset);\n\n    if (tailrowdiff > 0) {\n      newCradleReferenceRowOffset -= tailrowdiff;\n      cradleReferenceRowshift -= tailrowdiff;\n    }\n  } else {\n    // !isScrollingViewportForward = scroll backward\n    // c. if scrolling backward (toward head of list), as the cradlerowoffset hits 0, cradle changes have\n    // to be adjusted to prevent shortening of cradle content\n    // d. if scrolling backward near the end of the list, cradle changes has to be adjusted to accomodate\n    // the trailing runway\n    if (newCradleReferenceRowOffset < 0) {\n      cradleReferenceRowshift -= newCradleReferenceRowOffset;\n      newCradleReferenceRowOffset = 0;\n    } // case of in bounds of trailing runway (end of list)\n\n\n    var computedNextCradleEndrowOffset = previousCradleRowOffset + (cradleRowcount - 1) + cradleReferenceRowshift;\n    var targetcradleEndrowoffset = Math.min(listEndrowOffset, newAxisReferenceRowOffset + (viewportRowcount - 1) + (runwayRowcount - 1));\n    var tailrowdiff = Math.max(0, targetcradleEndrowoffset - computedNextCradleEndrowOffset);\n\n    if (tailrowdiff > 0) {\n      cradleReferenceRowshift += tailrowdiff;\n      newCradleReferenceRowOffset += tailrowdiff;\n    }\n  } // ----------------------[ 7. map rows to item references ]----------------------\n\n\n  var newCradleReferenceIndex = newCradleReferenceRowOffset * crosscount;\n  var cradleReferenceItemShift = cradleReferenceRowshift * crosscount;\n  var newAxisReferenceIndex = newAxisReferenceRowOffset * crosscount;\n  var axisReferenceItemShift = axisReferenceRowshift * crosscount;\n  var newCradleContentCount = cradleRowcount * crosscount; // base count\n\n  var includesLastRow = newCradleReferenceRowOffset + cradleRowcount >= listRowcount;\n\n  if (includesLastRow) {\n    var partialspaces = listsize % crosscount;\n    var itemsShortfall = partialspaces == 0 ? 0 : crosscount - partialspaces;\n    newCradleContentCount -= itemsShortfall;\n  } // create head and tail change counts\n\n\n  var changeOfCradleContentCount = cradlecontentlist.length - newCradleContentCount;\n  var listStartChangeCount = -cradleReferenceItemShift;\n  var listEndChangeCount = -listStartChangeCount - changeOfCradleContentCount; // -------------[ 8. calculate new axis pixel position ]------------------\n\n  var newAxisPixelOffset = viewportAxisOffset + axisReferenceRowshift * rowLength; // ---------------------[ 9. return required values ]-------------------\n\n  return {\n    newCradleReferenceIndex: newCradleReferenceIndex,\n    cradleReferenceItemShift: cradleReferenceItemShift,\n    newAxisReferenceIndex: newAxisReferenceIndex,\n    axisReferenceItemShift: axisReferenceItemShift,\n    newAxisPixelOffset: newAxisPixelOffset,\n    newCradleContentCount: newCradleContentCount,\n    listStartChangeCount: listStartChangeCount,\n    listEndChangeCount: listEndChangeCount\n  };\n};\n\nexports.calcContentShift = calcContentShift; // =====================[ shared by both setCradleContent and updateCradleContent ]====================\n// update content\n// adds itemshells at end of contentlist according to headindexcount and tailindescount,\n// or if indexcount values are <0 removes them.\n\nvar getCellFrameComponentList = function getCellFrameComponentList(_a) {\n  var cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleContentCount = _a.cradleContentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      listStartChangeCount = _a.listStartChangeCount,\n      listEndChangeCount = _a.listEndChangeCount,\n      contentlist = _a.workingContentList,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n\n  var localContentlist = __spreadArray([], contentlist, true);\n\n  var lastindexoffset = cradleReferenceIndex + localContentlist.length - 1;\n  var headContentlist = [],\n      tailContentlist = [];\n  var deletedtailitems = [],\n      deletedheaditems = [];\n\n  if (listStartChangeCount >= 0) {\n    // acquire new items\n    for (var newindex = cradleReferenceIndex - listStartChangeCount; newindex < cradleReferenceIndex; newindex++) {\n      headContentlist.push(createCell({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -listStartChangeCount);\n  }\n\n  if (listEndChangeCount >= 0) {\n    // acquire new items\n    for (var newindex = lastindexoffset + 1; newindex < lastindexoffset + 1 + listEndChangeCount; newindex++) {\n      tailContentlist.push(createCell({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(listEndChangeCount, -listEndChangeCount);\n  }\n\n  var deletedItems = deletedheaditems.concat(deletedtailitems);\n  var componentList = headContentlist.concat(localContentlist, tailContentlist);\n  return [componentList, deletedItems];\n};\n\nexports.getCellFrameComponentList = getCellFrameComponentList; // butterfly model. Leading (head) all or partially hidden; tail, visible plus following hidden\n\nvar allocateContentList = function allocateContentList(_a) {\n  var _b;\n\n  var contentlist = _a.contentlist,\n      // of cradle, in items (React components)\n  axisReferenceIndex = _a.axisReferenceIndex;\n  var offsetindex = (_b = contentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index; // TODO: Cannot read property 'props' of undefined\n\n  var headitemcount = axisReferenceIndex - offsetindex;\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\n\nexports.allocateContentList = allocateContentList;\n\nvar deletePortals = function deletePortals(cacheHandler, deleteList, cacheDeleteListCallback) {\n  // console.log('inside deletePortals',deleteList)\n  var dlist = deleteList.map(function (item) {\n    return item.props.index;\n  }); // TODO return list of deleted items to user\n\n  cacheHandler.deletePortal(dlist, cacheDeleteListCallback);\n  if (deleteList.length) cacheHandler.renderPortalList();\n};\n\nexports.deletePortals = deletePortals; // =====================[ acquire item ]======================\n\nvar createCell = function createCell(_a) {\n  var index = _a.index,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n  var instanceID = instanceIdCounterRef.current++;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      getItem = cradleInheritedProperties.getItem,\n      placeholder = cradleInheritedProperties.placeholder,\n      listsize = cradleInheritedProperties.listsize,\n      scrollerID = cradleInheritedProperties.scrollerID;\n  return react_1[\"default\"].createElement(cellframe_1[\"default\"], {\n    key: instanceID,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    index: index,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    instanceID: instanceID,\n    scrollerID: scrollerID,\n    updatedCacheItemID: null\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7OztBQUlBOztBQUVBLGtHLENBRUE7OztBQUVPLElBQU1BLDBCQUEwQixHQUFHLFNBQTdCQSwwQkFBNkIsQ0FBQ0MsRUFBRCxFQVNyQztNQVR3QztFQUVyQ0MsU0FBUztNQUNUQyx5QkFBeUI7TUFDekJDLHdCQUF3QjtNQUN4QkMsd0JBQXdCO01BQUU7RUFDMUJDLHFCQUFxQjtNQUNyQkMsZUFBZTtFQUtmLGVBQVcsR0FLWEoseUJBQXlCLFlBTHpCO0VBQUEsSUFDQUssVUFBVSxHQUlWTCx5QkFBeUIsV0FMekI7RUFBQSxJQUVBTSxTQUFTLEdBR1ROLHlCQUF5QixVQUx6QjtFQUFBLElBR0FPLEdBQUcsR0FFSFAseUJBQXlCLElBTHpCO0VBQUEsSUFJQVEsUUFBUSxHQUNSUix5QkFBeUIsU0FMekI7RUFTQSxjQUFVLEdBTVZDLHdCQUF3QixXQU54QjtFQUFBLElBQ0FRLGNBQWMsR0FLZFIsd0JBQXdCLGVBTnhCO0VBQUEsSUFFQVMsY0FBYyxHQUlkVCx3QkFBd0IsZUFOeEI7RUFBQSxJQUdBVSxZQUFZLEdBR1pWLHdCQUF3QixhQU54QjtFQUFBLElBSUFXLHVCQUF1QixHQUV2Qlgsd0JBQXdCLHdCQU54QixDQVpILENBb0JEO0VBQ0E7O0VBQ0FDLHdCQUF3QixHQUFHVyxJQUFJLENBQUNDLEdBQUwsQ0FBU1osd0JBQVQsRUFBa0NNLFFBQVEsR0FBRyxDQUE3QyxDQUEzQjtFQUNBTix3QkFBd0IsSUFBS0Esd0JBQXdCLEdBQUdhLFVBQXhELENBdkJDLENBeUJEOztFQUNBLElBQUlDLG1CQUFtQixHQUFHSCxJQUFJLENBQUNJLElBQUwsQ0FBVWYsd0JBQXdCLEdBQUNhLFVBQW5DLENBQTFCO0VBQ0EsSUFBTUcsZ0JBQWdCLEdBQUdQLFlBQVksR0FBR0MsdUJBQXhDOztFQUNBLElBQUlJLG1CQUFtQixHQUFHRSxn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QVA7QUFjSCxDQWxDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4P2QyZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudGZ1bmN0aW9ucy50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBTVVBQT1JUSU5HIEZVTkNUSU9OUyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDZWxsRnJhbWUgZnJvbSAnLi4vY2VsbGZyYW1lJ1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09WyBmb3Igc2V0Q3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyA9ICh7IC8vIGNhbGxlZCBmcm9tIHNldENyYWRsZUNvbnRlbnQgb25seVxuXG4gICAgICAgIHJvd0xlbmd0aCxcbiAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZyb20gdXNlciwgb3IgZnJvbSBwaXZvdFxuICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQsXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCxcblxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IHsgXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGdhcCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgIGNvbnN0IHtcblxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG5cbiAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzXG4gICAgXG4gICAgLy8gYWxpZ24gYXhpcyByZWZlcmVuY2UgdG8gZmlyc3Qgcm93IGl0ZW1cbiAgICAvLyBjb25zdCBvcmlncmVmaW5kZXggPSB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbih0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCAtPSAodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudClcblxuICAgIC8vIGRlcml2ZSB0YXJnZXQgcm93XG4gICAgbGV0IHRhcmdldEF4aXNSb3dPZmZzZXQgPSBNYXRoLmNlaWwodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG4gICAgY29uc3QgbWF4QXhpc1Jvd09mZnNldCA9IGxpc3RSb3djb3VudCAtIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50XG4gICAgaWYgKHRhcmdldEF4aXNSb3dPZmZzZXQgPiBtYXhBeGlzUm93T2Zmc2V0KSB7XG4gICAgICAgIHRhcmdldEF4aXNSb3dPZmZzZXQgPSBtYXhBeGlzUm93T2Zmc2V0XG4gICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSb3dPZmZzZXQgKiBjcm9zc2NvdW50XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlUmVmZXJlbmNlUm93ICYgSW5kZXggXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGxlYWRpbmcgZWRnZVxuICAgIC8vIGxldCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IE1hdGgubWF4KDAsdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IC0gbGVhZGluZ3J1bndheWl0ZW1jb3VudClcbiAgICBsZXQgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0ID0gTWF0aC5tYXgoMCx0YXJnZXRBeGlzUm93T2Zmc2V0IC0gcnVud2F5Um93Y291bnQpXG5cbiAgICAvLyB0cmFpbGluZyBlZGdlXG4gICAgbGV0IHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9IHRhcmdldENyYWRsZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtIDEpXG5cbiAgICBjb25zdCBsaXN0RW5kUm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpXG5cbiAgICBpZiAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0ID4gKGxpc3RFbmRSb3dPZmZzZXQpKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC0gbGlzdEVuZFJvd09mZnNldClcbiAgICAgICAgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0IC09IGRpZmZcbiAgICAgICAgdGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC09IGRpZmZcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IHRhcmdldENyYWRsZVJvd09mZnNldCAqIGNyb3NzY291bnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjcmFkbGUgY29udGVudCBjb3VudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgbmV3Q3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgaWYgKHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9PSBsaXN0RW5kUm93T2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGVuZFJvd1JlbWFpbmRlckNvdW50ID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGlmIChlbmRSb3dSZW1haW5kZXJDb3VudCkge1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IChjcm9zc2NvdW50IC0gZW5kUm93UmVtYWluZGVyQ291bnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjc3MgcG9zaXRpb25pbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICh0YXJnZXRBeGlzUm93T2Zmc2V0ICogcm93TGVuZ3RoKSAtICh0YXJnZXRBeGlzUGl4ZWxPZmZzZXQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXR1cm4gcmVxdWlyZWQgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICB0YXJnZXRBeGlzUm93T2Zmc2V0LFxuICAgICAgICB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LCBcbiAgICB9IFxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1bIGZvciB1cGRhdGVDcmFkbGVDb250ZW50IF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gLTEgPSBzaGlmdCByb3cgdG8gaGVhZC4gMSA9IHNoaWZ0IHJvdyB0byB0YWlsLiAwID0gZG8gbm90IHNoaWZ0IGEgcm93LlxuZXhwb3J0IGNvbnN0IGdldFNoaWZ0SW5zdHJ1Y3Rpb24gPSAoe1xuICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIHRyaWdnZXJsaW5lRW50cmllcyxcbiAgICB0cmlnZ2VybGluZVJlY29yZCxcbiAgICB0cmlnZ2VybGluZVNwYW4sXG4gICAgc2Nyb2xsZXJJRCwgLy8gZm9yIGRlYnVnXG5cbn0pID0+IHtcbiAgICBpZiAoaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQgIT0gdHJpZ2dlcmxpbmVSZWNvcmQud2FzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkKSB7XG4gICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLndhc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCA9IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLmRyaXZlciA9IFxuICAgICAgICAgICAgaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQ/XG4gICAgICAgICAgICAndHJpZ2dlcmxpbmUtdGFpbCc6XG4gICAgICAgICAgICAndHJpZ2dlcmxpbmUtaGVhZCdcbiAgICAgICAgdHJpZ2dlcmxpbmVSZWNvcmQub2Zmc2V0ID0gbnVsbFxuICAgIH1cbiAgICBjb25zdCBlbnRyaWVzID0gdHJpZ2dlcmxpbmVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IGlzSW50ZXJzZWN0aW5nID0gZW50cnkuaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgY29uc3QgdHJpZ2dlcmxpbmVuYW1lID0gZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZVxuICAgICAgICBlbnRyeS50cmlnZ2VybGluZW5hbWUgPSB0cmlnZ2VybGluZW5hbWVcbiAgICAgICAgZW50cnkuc2Nyb2xsaW5nZm9yd2FyZCA9IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgIGNvbnN0IHJvb3Rwb3MgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBlbnRyeS5yb290Qm91bmRzLnk6XG4gICAgICAgICAgICAgICAgZW50cnkucm9vdEJvdW5kcy54XG4gICAgICAgIGNvbnN0IGVudHJ5cG9zID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0Lnk6XG4gICAgICAgICAgICAgICAgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LnhcbiAgICAgICAgZW50cnkudmlld3BvcnRvZmZzZXQgPSBlbnRyeXBvcyAtIHJvb3Rwb3NcbiAgICAgICAgcmV0dXJuICgoaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQpICYmICh0cmlnZ2VybGluZW5hbWUgPT0gJ3RyaWdnZXJsaW5lLXRhaWwnKSAmJiAoZW50cnlwb3MgPD0gcm9vdHBvcykpIHx8IFxuICAgICAgICAgICAgKCghaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQpICYmICh0cmlnZ2VybGluZW5hbWUgPT0gJ3RyaWdnZXJsaW5lLWhlYWQnKSAmJiAoZW50cnlwb3MgPj0gcm9vdHBvcykpXG4gICAgfSlcblxuICAgIC8vIGlmICgoZW50cmllcy5sZW5ndGggPT0gMCkgJiYgKHRyaWdnZXJsaW5lRW50cmllcy5sZW5ndGggPT0gMikpIHsgLy8gcmVjb25uZWN0aW5nXG5cbiAgICAvLyAgICAgcmV0dXJuIDBcbiAgICAvLyB9XG5cbiAgICBpZiAoZW50cmllcy5sZW5ndGggPT0gMCkge1xuXG4gICAgICAgIGNvbnN0IGNvdW50ZXJlbnRyaWVzID0gdHJpZ2dlcmxpbmVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50cmlnZ2VybGluZW5hbWUgIT0gdHJpZ2dlcmxpbmVSZWNvcmQuZHJpdmVyKVxuXG4gICAgICAgIGlmIChjb3VudGVyZW50cmllcy5sZW5ndGggPT0gMCkgcmV0dXJuIDBcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY291bnRlcmVudHJpZXMnLCctJytzY3JvbGxlcklEKyctJywgWy4uLmNvdW50ZXJlbnRyaWVzXSlcblxuICAgICAgICAvLyBjaGVjayBmb3IgaW1wbGllZCB0cmlnZ2VyIC0gdHJpZ2dlciBjYW4gYmUgYnlwYXNzZWQgd2l0aCBoZWF2eSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGNvdW50ZXJlbnRyeSA9ICBjb3VudGVyZW50cmllcy5wb3AoKSAvL2R0cmlnZ2VybGluZUVudHJpZXNbMF1cbiAgICAgICAgY29uc3QgY291bnRlcnRyaWdnZXJsaW5lbmFtZSA9IGNvdW50ZXJlbnRyeS50cmlnZ2VybGluZW5hbWVcblxuICAgICAgICBsZXQgaW1wbGllZG9mZnNldFxuICAgICAgICBpZiAoY291bnRlcnRyaWdnZXJsaW5lbmFtZSAhPSB0cmlnZ2VybGluZVJlY29yZC5kcml2ZXIpIHsgLy8gc2hvdWxkIGFsd2F5cyBiZSB0cnVlXG4gICAgICAgICAgICBpZiAoY291bnRlcnRyaWdnZXJsaW5lbmFtZSA9PSAndHJpZ2dlcmxpbmUtaGVhZCcpIHtcbiAgICAgICAgICAgICAgICBpbXBsaWVkb2Zmc2V0ID0gY291bnRlcmVudHJ5LnZpZXdwb3J0b2Zmc2V0ICsgdHJpZ2dlcmxpbmVTcGFuXG4gICAgICAgICAgICAgICAgaWYgKGltcGxpZWRvZmZzZXQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VybGluZVJlY29yZC5vZmZzZXQgPSBpbXBsaWVkb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgLTEnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBjb3VudGVydHJpZ2dlcmxpbmVuYW1lID09ICd0cmlnZ2VybGluZS10YWlsJ1xuICAgICAgICAgICAgICAgIGltcGxpZWRvZmZzZXQgPSBjb3VudGVyZW50cnkudmlld3BvcnRvZmZzZXQgLSB0cmlnZ2VybGluZVNwYW5cbiAgICAgICAgICAgICAgICBpZiAoaW1wbGllZG9mZnNldCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLm9mZnNldCA9IGltcGxpZWRvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JldHVybmluZyAxJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygncmV0dXJuaW5nIDAnKVxuICAgICAgICByZXR1cm4gMFxuXG4gICAgfVxuXG4gICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdIC8vIGFzc3VtZSBvbmUgcmVjb3JkIGdldHMgZmlsdGVyZWQ7IG9ubHkgcGFpcmVkIGFib3ZlIG9uIHJlY29ubmVjdFxuXG4gICAgdHJpZ2dlcmxpbmVSZWNvcmQub2Zmc2V0ID0gZW50cnkudmlld3BvcnRvZmZzZXRcblxuICAgIGxldCByZXR2YWxcbiAgICBpZiAoIWlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkKSB7XG4gICAgICAgIHJldHZhbCA9IDEgLy8gc2hpZnQgcm93IHRvIHRhaWxcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR2YWwgPSAtMSAvLyBzaGlmdCByb3cgdG8gaGVhZFxuICAgIH1cbiAgICByZXR1cm4gcmV0dmFsXG5cbn1cblxuLy8gQSBuZWdhdGl2ZSBzaGlmdCBpbnN0cnVjdGlvbiBpcyBpbnRvIHRoZSBoZWFkLCBhIHBvc2l0aXZlIHNoaWZ0IGlzIGludG8gdGhlIHRhaWwuXG4vLyBjYWxsZWQgb25seSBmcm9tIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbmV4cG9ydCBjb25zdCBjYWxjQ29udGVudFNoaWZ0ID0gKHtcblxuICAgIHNoaWZ0aW5zdHJ1Y3Rpb24sXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgY3JhZGxlQ29udGVudCxcbiAgICBjcmFkbGVFbGVtZW50cyxcbiAgICBzY3JvbGxQb3MsIC8vIG9mIGNyYWRsZSBhZ2FpbnN0IHZpZXdwb3J0OyB3aGVyZSB0aGUgY3JhZGxlIG1vdGlvbiBpbnRlcnNlY3RzIHRoZSB2aWV3cG9ydFxuICAgIC8vIHZpZXdwb3J0RWxlbWVudCxcblxufSkgPT4ge1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQgPSAoc2hpZnRpbnN0cnVjdGlvbiA8IDApXG5cbiAgICBjb25zdCB7IFxuXG4gICAgICAgIGdhcCxcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuXG4gICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgIGNvbnN0IGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50XG5cbiAgICBjb25zdCB7XG5cbiAgICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzOmNyYWRsZWNvbnRlbnRsaXN0LCBcbiAgICAgICAgdGFpbE1vZGVsQ29tcG9uZW50czp0YWlsY29udGVudGxpc3QsXG5cbiAgICB9ID0gY3JhZGxlQ29udGVudFxuXG4gICAgY29uc3QgeyBcblxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBydW53YXlSb3djb3VudCxcblxuICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNcblxuICAgIGNvbnN0IHJvd0xlbmd0aCA9IFxuICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgIGNlbGxXaWR0aCkgXG4gICAgICAgICsgZ2FwXG5cbiAgICAvLyAtLS0tLS0tLS0tLVsgMi4gY2FsY3VsYXRlIGF4aXMgcmVmZXJlbmNlIHJvdyBzaGlmdCBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGV4dHJhIGdhcHMgY2FuIGJlIGNhdXNlZCBieSByYXBpZCBzY3JvbGxpbmdcblxuICAgIGNvbnN0IGNyYWRsZUF4aXNPZmZzZXQgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0VG9wOlxuICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0TGVmdFxuXG4gICAgLy8gdmlld3BvcnRBeGlzT2Zmc2V0IHdpbGwgYmUgbmVnYXRpdmUgZm9yIHNjcm9sbCBmb3J3YXJkIGFuZCBwb3NpdGl2ZSBmb3Igc2Nyb2xsIGJhY2t3YXJkXG4gICAgY29uc3Qgdmlld3BvcnRBeGlzT2Zmc2V0ID0gLy8gdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZpZXdwb3J0IGZyYW1lIGFuZCB0aGUgYXhpcywgdG93YXJkIHRoZSBoZWFkXG4gICAgICAgIGNyYWRsZUF4aXNPZmZzZXQgLSBzY3JvbGxQb3NcblxuICAgIGNvbnN0IHRyaWdnZXJBeGlzT2Zmc2V0ID0gXG4gICAgICAgIChpc1Njcm9sbGluZ1ZpZXdwb3J0Rm9yd2FyZCk/XG4gICAgICAgICAgICAvLyBzY3JvbGwgZm9yd2FyZCBlbmdhZ2VzIHRoZSB0YWlsIHRyaWdnZXJsaW5lIHdoaWNoIGlzIGJlbG93IHRoZSBheGlzXG4gICAgICAgICAgICAvLyB0aGUgdGFpbCB0cmlnZ2VybGluZSBtdXN0IGJlIHBsYWNlZCB0byBpbnRlcnNlY3QgdG8gcmUtdHJpZ2dlclxuICAgICAgICAgICAgdmlld3BvcnRBeGlzT2Zmc2V0ICsgdHJpZ2dlcmxpbmVPZmZzZXQ6XG4gICAgICAgICAgICAvLyBzY3JvbGxiYWNrd2FyZCBlbmdhZ2VzIHRoZSBoZWFkIHRyaWdnZXJsaW5lIHdoaWNoIGlzIGFib3ZlIHRoZSBheGlzXG4gICAgICAgICAgICAvLyB0aGUgaGVhZCB0cmlnZ2VybGluZSBtdXNlIGJlIHBsYWNlZCBub3QgdG8gaW50ZXJzZWN0IHRvIHJldHJpZ2dlclxuICAgICAgICAgICAgdmlld3BvcnRBeGlzT2Zmc2V0IC0gKHJvd0xlbmd0aCAtIHRyaWdnZXJsaW5lT2Zmc2V0KVxuXG4gICAgLy8gbmVnYXRpdmUgZm9yIG1vdmluZyByb3dzIG91dCBvZiBoZWFkIGludG8gdGFpbDtcbiAgICAvLyBwb3NpdGl2ZSBmb3IgbW92aW5nIHJvd3Mgb3V0IG9mIHRhaWwgaW50byBoZWFkXG4gICAgLy8gKy8tIDEgZ3VyYW50ZWVzIGJvdW5kYXJ5IGxvY2F0aW9uIHJlc3VsdHMgaW4gbW92ZVxuICAgIGNvbnN0IHRyaWdnZXJSb3dTaGlmdCA9IFxuICAgICAgICAoaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQpP1xuICAgICAgICAgICAgTWF0aC5mbG9vcigodHJpZ2dlckF4aXNPZmZzZXQ/dHJpZ2dlckF4aXNPZmZzZXQ6IC0xKS9yb3dMZW5ndGgpOlxuICAgICAgICAgICAgTWF0aC5jZWlsKCh0cmlnZ2VyQXhpc09mZnNldD90cmlnZ2VyQXhpc09mZnNldDogMSkvcm93TGVuZ3RoKVxuXG4gICAgbGV0IGF4aXNSZWZlcmVuY2VSb3dzaGlmdCA9IC10cmlnZ2VyUm93U2hpZnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLVsgNS4gY2FsYyBuZXcgY3JhZGxlIGFuZCBheGlzIHJlZmVyZW5jZSByb3cgb2Zmc2V0IF0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBiYXNlIHZhbHVlIGZvciBjcmFkbGUgcmVmZXJlbmNlIHNoaWZ0OyBtYXkgY2hhbmdlIGlmIGJleW9uZCBsaXN0IGJvdW5kc1xuICAgIGxldCBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCA9IGF4aXNSZWZlcmVuY2VSb3dzaGlmdFxuXG4gICAgY29uc3QgcHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChjcmFkbGVjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcbiAgICBjb25zdCBwcmV2aW91c0NyYWRsZVJvd09mZnNldCA9IE1hdGguY2VpbChwcmV2aW91c0NyYWRsZVJlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICBjb25zdCBwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCA9ICh0YWlsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApXG4gICAgY29uc3QgcHJldmlvdXNBeGlzUm93T2Zmc2V0ID0gTWF0aC5jZWlsKHByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICAvLyBiYXNlIHZhbHVlc1xuICAgIGxldCBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgPSBwcmV2aW91c0NyYWRsZVJvd09mZnNldCArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0XG4gICAgbGV0IG5ld0F4aXNSZWZlcmVuY2VSb3dPZmZzZXQgPSBwcmV2aW91c0F4aXNSb3dPZmZzZXQgKyBheGlzUmVmZXJlbmNlUm93c2hpZnRcblxuICAgIC8vIC0tLS0tLS0tWyA2LiBhZGp1c3QgY3JhZGxlIGNvbnRlbnRzIGZvciBzdGFydCBhbmQgZW5kIG9mIGxpc3QgXS0tLS0tLS1cbiAgICAvLyAuLi50byBtYWludGFpbiBjb25zdGFudCBudW1iZXIgb2YgY3JhZGxlIHJvd3NcblxuICAgIGNvbnN0IGxpc3RFbmRyb3dPZmZzZXQgPSAobGlzdFJvd2NvdW50IC0gMSlcblxuICAgIGlmIChpc1Njcm9sbGluZ1ZpZXdwb3J0Rm9yd2FyZCkge1xuXG4gICAgICAgIC8vIGEuIGlmIHNjcm9sbGluZyBmb3J3YXJkIG5lYXIgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LCBuZXcgY3JhZGxlIHJvdyBvZmZzZXQgYW5kXG4gICAgICAgIC8vIGNyYWRsZSByb3cgc2hpZnQgY291bnQgaGFzIHRvIGJlIGFkanVzdGVkIHRvIGFjY29tbW9kYXRlIHRoZSBsZWFkaW5nIHJ1bndheVxuICAgICAgICAvLyBiLiBpZiBzY3JvbGxpbmcgZm9yd2FyZCAodG93YXJkIHRhaWwgb2YgbGlzdCksIGFzIHRoZSBjcmFkbGUgbGFzdCByb3cgb2Zmc2V0IGFwcHJvYWNoZXMgXG4gICAgICAgIC8vIGxpc3Ryb3cgbmV3IGNyYWRsZSBvZmZzZXQgYW5kIGNyYWRsZSByb3cgc2hpZnQgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IHNob3J0ZW5pbmcgXG4gICAgICAgIC8vIG9mIGNyYWRsZSBjb250ZW50LlxuXG4gICAgICAgIGNvbnN0IHRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldCA9IFxuICAgICAgICAgICAgTWF0aC5tYXgoMCwgXG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0IC0gXG4gICAgICAgICAgICAgICAgICAgICAgICBydW53YXlSb3djb3VudCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgKHJ1bndheVJvd2NvdW50Py0xOjApIC8vIG9uZSByb3cgaXMgdmlzaWJsZSwgbm90IHJ1bndheVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICBjb25zdCBoZWFkcm93RGlmZiA9IG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtIHRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldFxuICAgICAgICBpZiAoaGVhZHJvd0RpZmYgPiAwKSB7XG5cbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtPSBoZWFkcm93RGlmZlxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgLT0gaGVhZHJvd0RpZmZcblxuICAgICAgICB9XG4gICAgICAgIC8vIGNhc2Ugb2YgYmVpbmcgaW4gYm91bmRzIG9mIHRyYWlsaW5nIHJ1bndheSAoZW5kIG9mIGxpc3QpXG4gICAgICAgIGNvbnN0IHRhcmdldENyYWRsZUVuZHJvd09mZnNldCA9IG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtIDEpXG4gICAgICAgIGNvbnN0IHRhaWxyb3dkaWZmID0gTWF0aC5tYXgoMCx0YXJnZXRDcmFkbGVFbmRyb3dPZmZzZXQgLSBsaXN0RW5kcm93T2Zmc2V0KVxuICAgICAgICBpZiAodGFpbHJvd2RpZmYgPiAwKSB7XG5cbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgLT0gdGFpbHJvd2RpZmZcblxuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy8gIWlzU2Nyb2xsaW5nVmlld3BvcnRGb3J3YXJkID0gc2Nyb2xsIGJhY2t3YXJkXG5cbiAgICAgICAgLy8gYy4gaWYgc2Nyb2xsaW5nIGJhY2t3YXJkICh0b3dhcmQgaGVhZCBvZiBsaXN0KSwgYXMgdGhlIGNyYWRsZXJvd29mZnNldCBoaXRzIDAsIGNyYWRsZSBjaGFuZ2VzIGhhdmVcbiAgICAgICAgLy8gdG8gYmUgYWRqdXN0ZWQgdG8gcHJldmVudCBzaG9ydGVuaW5nIG9mIGNyYWRsZSBjb250ZW50XG4gICAgICAgIC8vIGQuIGlmIHNjcm9sbGluZyBiYWNrd2FyZCBuZWFyIHRoZSBlbmQgb2YgdGhlIGxpc3QsIGNyYWRsZSBjaGFuZ2VzIGhhcyB0byBiZSBhZGp1c3RlZCB0byBhY2NvbW9kYXRlXG4gICAgICAgIC8vIHRoZSB0cmFpbGluZyBydW53YXlcblxuICAgICAgICBpZiAobmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0IDwgMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXRcbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCA9IDBcblxuICAgICAgICB9XG4gICAgICAgIC8vIGNhc2Ugb2YgaW4gYm91bmRzIG9mIHRyYWlsaW5nIHJ1bndheSAoZW5kIG9mIGxpc3QpXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkTmV4dENyYWRsZUVuZHJvd09mZnNldCA9IFxuICAgICAgICAgICAgKHByZXZpb3VzQ3JhZGxlUm93T2Zmc2V0ICsgKGNyYWRsZVJvd2NvdW50IC0xKSArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0KVxuICAgICAgICBjb25zdCB0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQgPSBNYXRoLm1pbihsaXN0RW5kcm93T2Zmc2V0LCBcbiAgICAgICAgICAgIChuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0ICsgKHZpZXdwb3J0Um93Y291bnQgLSAxKSArIChydW53YXlSb3djb3VudCAtIDEpKSlcbiAgICAgICAgY29uc3QgdGFpbHJvd2RpZmYgPSBNYXRoLm1heCgwLCB0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQgLSBjb21wdXRlZE5leHRDcmFkbGVFbmRyb3dPZmZzZXQpXG5cbiAgICAgICAgaWYgKHRhaWxyb3dkaWZmID4gMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCArPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0ICs9IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNy4gbWFwIHJvd3MgdG8gaXRlbSByZWZlcmVuY2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgKiBjcm9zc2NvdW50KVxuICAgIGNvbnN0IGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCA9IChjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAqIGNyb3NzY291bnQpXG5cbiAgICBjb25zdCBuZXdBeGlzUmVmZXJlbmNlSW5kZXggPSBuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0ICogY3Jvc3Njb3VudFxuICAgIGNvbnN0IGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQgPSBheGlzUmVmZXJlbmNlUm93c2hpZnQgKiBjcm9zc2NvdW50XG5cbiAgICBsZXQgbmV3Q3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50IC8vIGJhc2UgY291bnRcbiAgICBjb25zdCBpbmNsdWRlc0xhc3RSb3cgPSAoKG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCArIGNyYWRsZVJvd2NvdW50KSA+PSBsaXN0Um93Y291bnQpXG4gICAgaWYgKGluY2x1ZGVzTGFzdFJvdykge1xuICAgICAgICBjb25zdCBwYXJ0aWFsc3BhY2VzID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGNvbnN0IGl0ZW1zU2hvcnRmYWxsID0gXG4gICAgICAgICAgICAocGFydGlhbHNwYWNlcyA9PSAwKT9cbiAgICAgICAgICAgICAgICAwOlxuICAgICAgICAgICAgICAgIGNyb3NzY291bnQgLSBwYXJ0aWFsc3BhY2VzXG4gICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudCAtPSBpdGVtc1Nob3J0ZmFsbFxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBoZWFkIGFuZCB0YWlsIGNoYW5nZSBjb3VudHNcbiAgICBjb25zdCBjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZWNvbnRlbnRsaXN0Lmxlbmd0aCAtIG5ld0NyYWRsZUNvbnRlbnRDb3VudFxuXG4gICAgY29uc3QgbGlzdFN0YXJ0Q2hhbmdlQ291bnQgPSAtKGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdClcbiAgICBjb25zdCBsaXN0RW5kQ2hhbmdlQ291bnQgPSAtbGlzdFN0YXJ0Q2hhbmdlQ291bnQgLSAoY2hhbmdlT2ZDcmFkbGVDb250ZW50Q291bnQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tWyA4LiBjYWxjdWxhdGUgbmV3IGF4aXMgcGl4ZWwgcG9zaXRpb24gXS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgbmV3QXhpc1BpeGVsT2Zmc2V0ID0gdmlld3BvcnRBeGlzT2Zmc2V0ICsgKGF4aXNSZWZlcmVuY2VSb3dzaGlmdCAqIHJvd0xlbmd0aClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgOS4gcmV0dXJuIHJlcXVpcmVkIHZhbHVlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQsIFxuICAgICAgICBuZXdBeGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0LCBcbiAgICAgICAgbmV3QXhpc1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50XG4gICAgfVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PVsgc2hhcmVkIGJ5IGJvdGggc2V0Q3JhZGxlQ29udGVudCBhbmQgdXBkYXRlQ3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT1cblxuLy8gdXBkYXRlIGNvbnRlbnRcbi8vIGFkZHMgaXRlbXNoZWxscyBhdCBlbmQgb2YgY29udGVudGxpc3QgYWNjb3JkaW5nIHRvIGhlYWRpbmRleGNvdW50IGFuZCB0YWlsaW5kZXNjb3VudCxcbi8vIG9yIGlmIGluZGV4Y291bnQgdmFsdWVzIGFyZSA8MCByZW1vdmVzIHRoZW0uXG5leHBvcnQgY29uc3QgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCA9ICh7IFxuXG4gICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgIGNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCwgXG4gICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCwgXG4gICAgICAgIHdvcmtpbmdDb250ZW50TGlzdDpjb250ZW50bGlzdCxcbiAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgfSkgPT4ge1xuXG4gICAgY29uc3QgbG9jYWxDb250ZW50bGlzdCA9IFsuLi5jb250ZW50bGlzdF1cbiAgICBjb25zdCBsYXN0aW5kZXhvZmZzZXQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCArIGxvY2FsQ29udGVudGxpc3QubGVuZ3RoIC0gMVxuXG4gICAgY29uc3QgaGVhZENvbnRlbnRsaXN0ID0gW10sIHRhaWxDb250ZW50bGlzdCA9IFtdXG5cbiAgICBsZXQgZGVsZXRlZHRhaWxpdGVtcyA9IFtdLCBkZWxldGVkaGVhZGl0ZW1zID0gW11cblxuICAgIGlmIChsaXN0U3RhcnRDaGFuZ2VDb3VudCA+PSAwKSB7IC8vIGFjcXVpcmUgbmV3IGl0ZW1zXG5cbiAgICAgICAgZm9yIChsZXQgbmV3aW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGxpc3RTdGFydENoYW5nZUNvdW50OyBuZXdpbmRleCA8IChjcmFkbGVSZWZlcmVuY2VJbmRleCk7IG5ld2luZGV4KyspIHtcblxuICAgICAgICAgICAgaGVhZENvbnRlbnRsaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2VsbChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6bmV3aW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZGVsZXRlZGhlYWRpdGVtcyA9IGxvY2FsQ29udGVudGxpc3Quc3BsaWNlKCAwLCAtbGlzdFN0YXJ0Q2hhbmdlQ291bnQgKVxuXG4gICAgfVxuXG4gICAgaWYgKGxpc3RFbmRDaGFuZ2VDb3VudCA+PSAwKSB7IC8vIGFjcXVpcmUgbmV3IGl0ZW1zXG5cbiAgICAgICAgZm9yIChsZXQgbmV3aW5kZXggPSBsYXN0aW5kZXhvZmZzZXQgKyAxOyBuZXdpbmRleCA8IChsYXN0aW5kZXhvZmZzZXQgKyAxICsgbGlzdEVuZENoYW5nZUNvdW50KTsgbmV3aW5kZXgrKykge1xuXG4gICAgICAgICAgICB0YWlsQ29udGVudGxpc3QucHVzaChcbiAgICAgICAgICAgICAgICBjcmVhdGVDZWxsKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDpuZXdpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBkZWxldGVkdGFpbGl0ZW1zID0gbG9jYWxDb250ZW50bGlzdC5zcGxpY2UobGlzdEVuZENoYW5nZUNvdW50LC1saXN0RW5kQ2hhbmdlQ291bnQpXG5cbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVkSXRlbXMgPSBkZWxldGVkaGVhZGl0ZW1zLmNvbmNhdChkZWxldGVkdGFpbGl0ZW1zKVxuXG4gICAgY29uc3QgY29tcG9uZW50TGlzdCA9IGhlYWRDb250ZW50bGlzdC5jb25jYXQobG9jYWxDb250ZW50bGlzdCx0YWlsQ29udGVudGxpc3QpXG5cbiAgICByZXR1cm4gW2NvbXBvbmVudExpc3QsZGVsZXRlZEl0ZW1zXVxuXG59XG5cbi8vIGJ1dHRlcmZseSBtb2RlbC4gTGVhZGluZyAoaGVhZCkgYWxsIG9yIHBhcnRpYWxseSBoaWRkZW47IHRhaWwsIHZpc2libGUgcGx1cyBmb2xsb3dpbmcgaGlkZGVuXG5leHBvcnQgY29uc3QgYWxsb2NhdGVDb250ZW50TGlzdCA9IChcbiAgICB7XG5cbiAgICAgICAgY29udGVudGxpc3QsIC8vIG9mIGNyYWRsZSwgaW4gaXRlbXMgKFJlYWN0IGNvbXBvbmVudHMpXG4gICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCwgLy8gZmlyc3QgdGFpbCBpdGVtXG5cbiAgICB9XG4pID0+IHtcblxuICAgIGNvbnN0IG9mZnNldGluZGV4ID0gY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IC8vIFRPRE86IENhbm5vdCByZWFkIHByb3BlcnR5ICdwcm9wcycgb2YgdW5kZWZpbmVkXG5cbiAgICBjb25zdCBoZWFkaXRlbWNvdW50ID0gKGF4aXNSZWZlcmVuY2VJbmRleCAtIG9mZnNldGluZGV4KVxuXG4gICAgY29uc3QgaGVhZGxpc3QgPSBjb250ZW50bGlzdC5zbGljZSgwLGhlYWRpdGVtY291bnQpXG4gICAgY29uc3QgdGFpbGxpc3QgPSBjb250ZW50bGlzdC5zbGljZShoZWFkaXRlbWNvdW50KVxuXG4gICAgcmV0dXJuIFtoZWFkbGlzdCx0YWlsbGlzdF1cblxufVxuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9ydGFscyA9IChjYWNoZUhhbmRsZXIsIGRlbGV0ZUxpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnaW5zaWRlIGRlbGV0ZVBvcnRhbHMnLGRlbGV0ZUxpc3QpXG4gICAgY29uc3QgZGxpc3QgPSBkZWxldGVMaXN0Lm1hcCgoaXRlbSk9PntcbiAgICAgICAgcmV0dXJuIGl0ZW0ucHJvcHMuaW5kZXhcbiAgICB9KVxuICAgIC8vIFRPRE8gcmV0dXJuIGxpc3Qgb2YgZGVsZXRlZCBpdGVtcyB0byB1c2VyXG4gICAgY2FjaGVIYW5kbGVyLmRlbGV0ZVBvcnRhbChkbGlzdCwgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2spXG4gICAgaWYgKGRlbGV0ZUxpc3QubGVuZ3RoKSBjYWNoZUhhbmRsZXIucmVuZGVyUG9ydGFsTGlzdCgpXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PVsgYWNxdWlyZSBpdGVtIF09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IGNyZWF0ZUNlbGwgPSAoe1xuICAgIGluZGV4LCBcbiAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuXG59KSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2VJRCA9IGluc3RhbmNlSWRDb3VudGVyUmVmLmN1cnJlbnQrK1xuXG4gICAgY29uc3QgeyBcbiAgICAgICAgXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdldEl0ZW0sXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgc2Nyb2xsZXJJRCBcblxuICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICByZXR1cm4gPENlbGxGcmFtZSBcbiAgICAgICAga2V5ID0geyBpbnN0YW5jZUlEIH0gXG4gICAgICAgIG9yaWVudGF0aW9uID0geyBvcmllbnRhdGlvbiB9XG4gICAgICAgIGNlbGxIZWlnaHQgPSB7IGNlbGxIZWlnaHQgfVxuICAgICAgICBjZWxsV2lkdGggPSB7IGNlbGxXaWR0aCB9XG4gICAgICAgIGluZGV4ID0geyBpbmRleCB9XG4gICAgICAgIGdldEl0ZW0gPSB7IGdldEl0ZW0gfVxuICAgICAgICBsaXN0c2l6ZSA9IHsgbGlzdHNpemUgfVxuICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICBpbnN0YW5jZUlEID0geyBpbnN0YW5jZUlEIH1cbiAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgICAgIHVwZGF0ZWRDYWNoZUl0ZW1JRCA9IHtudWxsfVxuICAgIC8+XG5cbn1cbiJdLCJuYW1lcyI6WyJnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyIsIl9hIiwicm93TGVuZ3RoIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsInZpZXdwb3J0RWxlbWVudCIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJnYXAiLCJsaXN0c2l6ZSIsImNyYWRsZVJvd2NvdW50IiwicnVud2F5Um93Y291bnQiLCJsaXN0Um93Y291bnQiLCJ2aWV3cG9ydFZpc2libGVSb3djb3VudCIsIk1hdGgiLCJtaW4iLCJjcm9zc2NvdW50IiwidGFyZ2V0QXhpc1Jvd09mZnNldCIsImNlaWwiLCJtYXhBeGlzUm93T2Zmc2V0IiwidGFyZ2V0Q3JhZGxlUm93T2Zmc2V0IiwibWF4IiwidGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IiwibGlzdEVuZFJvd09mZnNldCIsImRpZmYiLCJ0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCIsIm5ld0NyYWRsZUNvbnRlbnRDb3VudCIsImVuZFJvd1JlbWFpbmRlckNvdW50IiwidGFyZ2V0U2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsImV4cG9ydHMiLCJnZXRTaGlmdEluc3RydWN0aW9uIiwiaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJvcmllbnRhdGlvbiIsInRyaWdnZXJsaW5lRW50cmllcyIsInRyaWdnZXJsaW5lUmVjb3JkIiwidHJpZ2dlcmxpbmVTcGFuIiwic2Nyb2xsZXJJRCIsIndhc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCIsImRyaXZlciIsIm9mZnNldCIsImVudHJpZXMiLCJmaWx0ZXIiLCJ0cmlnZ2VybGluZW5hbWUiLCJlbnRyeSIsInRhcmdldCIsImRhdGFzZXQiLCJ0eXBlIiwic2Nyb2xsaW5nZm9yd2FyZCIsInJvb3Rwb3MiLCJyb290Qm91bmRzIiwieSIsIngiLCJlbnRyeXBvcyIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdwb3J0b2Zmc2V0IiwibGVuZ3RoIiwiY291bnRlcmVudHJpZXMiLCJjb3VudGVyZW50cnkiLCJwb3AiLCJjb3VudGVydHJpZ2dlcmxpbmVuYW1lIiwiaW1wbGllZG9mZnNldCIsInJldHZhbCIsImNhbGNDb250ZW50U2hpZnQiLCJzaGlmdGluc3RydWN0aW9uIiwiY3JhZGxlQ29udGVudCIsImNyYWRsZUVsZW1lbnRzIiwic2Nyb2xsUG9zIiwiaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQiLCJ0cmlnZ2VybGluZU9mZnNldCIsImF4aXNFbGVtZW50IiwiYXhpc1JlZiIsImN1cnJlbnQiLCJjcmFkbGVjb250ZW50bGlzdCIsInRhaWxjb250ZW50bGlzdCIsInZpZXdwb3J0Um93Y291bnQiLCJjcmFkbGVBeGlzT2Zmc2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsInZpZXdwb3J0QXhpc09mZnNldCIsInRyaWdnZXJBeGlzT2Zmc2V0IiwidHJpZ2dlclJvd1NoaWZ0IiwiZmxvb3IiLCJheGlzUmVmZXJlbmNlUm93c2hpZnQiLCJjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCIsInByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYiIsInByb3BzIiwiaW5kZXgiLCJwcmV2aW91c0NyYWRsZVJvd09mZnNldCIsInByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4IiwiX2MiLCJwcmV2aW91c0F4aXNSb3dPZmZzZXQiLCJuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQiLCJuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0IiwibGlzdEVuZHJvd09mZnNldCIsInRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldCIsImhlYWRyb3dEaWZmIiwidGFyZ2V0Q3JhZGxlRW5kcm93T2Zmc2V0IiwidGFpbHJvd2RpZmYiLCJjb21wdXRlZE5leHRDcmFkbGVFbmRyb3dPZmZzZXQiLCJ0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQiLCJuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCIsImNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld0F4aXNSZWZlcmVuY2VJbmRleCIsImF4aXNSZWZlcmVuY2VJdGVtU2hpZnQiLCJpbmNsdWRlc0xhc3RSb3ciLCJwYXJ0aWFsc3BhY2VzIiwiaXRlbXNTaG9ydGZhbGwiLCJjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCIsImxpc3RTdGFydENoYW5nZUNvdW50IiwibGlzdEVuZENoYW5nZUNvdW50IiwibmV3QXhpc1BpeGVsT2Zmc2V0IiwiZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCIsImNyYWRsZUNvbnRlbnRDb3VudCIsImNyYWRsZVJlZmVyZW5jZUluZGV4IiwiY29udGVudGxpc3QiLCJpbnN0YW5jZUlkQ291bnRlclJlZiIsImxvY2FsQ29udGVudGxpc3QiLCJsYXN0aW5kZXhvZmZzZXQiLCJoZWFkQ29udGVudGxpc3QiLCJ0YWlsQ29udGVudGxpc3QiLCJkZWxldGVkdGFpbGl0ZW1zIiwiZGVsZXRlZGhlYWRpdGVtcyIsIm5ld2luZGV4IiwicHVzaCIsImNyZWF0ZUNlbGwiLCJzcGxpY2UiLCJkZWxldGVkSXRlbXMiLCJjb25jYXQiLCJjb21wb25lbnRMaXN0IiwiYWxsb2NhdGVDb250ZW50TGlzdCIsImF4aXNSZWZlcmVuY2VJbmRleCIsIm9mZnNldGluZGV4IiwiaGVhZGl0ZW1jb3VudCIsImhlYWRsaXN0Iiwic2xpY2UiLCJ0YWlsbGlzdCIsImRlbGV0ZVBvcnRhbHMiLCJjYWNoZUhhbmRsZXIiLCJkZWxldGVMaXN0IiwiY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2siLCJkbGlzdCIsIm1hcCIsIml0ZW0iLCJkZWxldGVQb3J0YWwiLCJyZW5kZXJQb3J0YWxMaXN0IiwiaW5zdGFuY2VJRCIsImdldEl0ZW0iLCJwbGFjZWhvbGRlciIsInJlYWN0XzEiLCJjZWxsZnJhbWVfMSIsImtleSIsInVwZGF0ZWRDYWNoZUl0ZW1JRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n");

/***/ }),

/***/ "./src/cradle/contenthandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/contenthandler.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // contenthandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ \"./src/cradle/contentfunctions.tsx\");\n\nvar ContentHandler =\n/** @class */\nfunction () {\n  function ContentHandler(cradleParameters) {\n    var _this = this;\n\n    this.content = {\n      cradleModelComponents: null,\n      headModelComponents: null,\n      tailModelComponents: null,\n      // the following two only used in cradle for render\n      headDisplayComponents: [],\n      tailDisplayComponents: []\n    };\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    this.instanceIdMap = new Map(); // Two public methods - setCradleContent and updateCradleContent\n    // reset cradle, including allocation between head and tail parts of the cradle\n    // called only from cradle state handler\n    // ==========================[ SET CONTENT ]===========================\n    //initially (dosetup), after reposition (doreposition), or with finishresize, pivot, \n    // or user size param reconfigure or reload\n    // setCradleContent sets the scrollblock's scroll position, as well as config and content\n\n    this.setCradleContent = function (cradleState) {\n      // ------------------------------[ 1. initialize ]---------------------------\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var cradleHandlers = _this.cradleParameters.handlersRef.current;\n      var cacheHandler = cradleHandlers.cacheHandler,\n          scaffoldHandler = cradleHandlers.scaffoldHandler,\n          serviceHandler = cradleHandlers.serviceHandler,\n          interruptHandler = cradleHandlers.interruptHandler; // the triggerlines and cradle wings will be moved, so disconnect them from their observers.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.cradleIntersect.observer.disconnect();\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n      var requestedAxisReferenceIndex = cradlePositionData.targetAxisReferenceIndex;\n      var targetAxisPixelOffset = cradlePositionData.targetAxisPixelOffset;\n      var orientation = cradleInheritedProperties.orientation,\n          gap = cradleInheritedProperties.gap,\n          padding = cradleInheritedProperties.padding,\n          cellHeight = cradleInheritedProperties.cellHeight,\n          cellWidth = cradleInheritedProperties.cellWidth,\n          cache = cradleInheritedProperties.cache,\n          listsize = cradleInheritedProperties.listsize;\n      var crosscount = cradleInternalProperties.crosscount;\n      var workingAxisReferenceIndex = Math.min(requestedAxisReferenceIndex, listsize - 1);\n      workingAxisReferenceIndex -= workingAxisReferenceIndex % crosscount; // console.log('cradleState in setCradleContent; workingAxisReferenceIndex',\n      //     cradleState, workingAxisReferenceIndex)\n\n      if (cradleState == 'doreposition' || cradleState == 'reconfigure') {\n        targetAxisPixelOffset = workingAxisReferenceIndex == 0 ? padding : gap; // default\n      } // console.log('cradleState in setCradleContent; workingAxisReferenceIndex, targetAxisPixelOffset',\n      //     cradleState, workingAxisReferenceIndex, targetAxisPixelOffset)\n\n\n      var workingContentList = [];\n      var cradleContent = _this.content; // ----------------------[ 2. get content requirements ]----------------------\n\n      var isVertical = orientation == 'vertical';\n      var rowLength = isVertical ? cellHeight + gap : cellWidth + gap;\n\n      var _a = (0, contentfunctions_1.getContentListRequirements)({\n        rowLength: rowLength,\n        targetAxisReferenceIndex: requestedAxisReferenceIndex,\n        targetAxisPixelOffset: targetAxisPixelOffset,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        viewportElement: viewportInterruptProperties.elementRef.current\n      }),\n          targetCradleReferenceIndex = _a.targetCradleReferenceIndex,\n          targetAxisReferenceIndex = _a.targetAxisReferenceIndex,\n          targetAxisRowOffset = _a.targetAxisRowOffset,\n          cradleContentCount = _a.newCradleContentCount,\n          scrollblockPixelOffset = _a.targetScrollblockPixelOffset;\n\n      var scrollPosAdjustment;\n\n      if (targetAxisReferenceIndex == 0) {\n        scrollPosAdjustment = 0; // } else if (cradleState == 'doreposition') {\n        //     scrollPosAdjustment = padding //+ gap\n      } else {\n        scrollPosAdjustment = padding;\n      }\n\n      var axisPixelOffset = targetAxisPixelOffset; // ----------------------[ 3. get and config content ]----------------------\n      // returns content constrained by cradleRowcount\n\n      var _b = (0, contentfunctions_1.getCellFrameComponentList)({\n        cradleInheritedProperties: cradleInheritedProperties,\n        // cradleInternalProperties,\n        cradleContentCount: cradleContentCount,\n        cradleReferenceIndex: targetCradleReferenceIndex,\n        listStartChangeCount: 0,\n        listEndChangeCount: cradleContentCount,\n        workingContentList: workingContentList,\n        instanceIdCounterRef: _this.instanceIdCounterRef\n      }),\n          newcontentlist = _b[0],\n          deleteditems = _b[1]; // if (deleteditems.length && (cache == 'cradle')) {\n      //     deletePortals(cacheHandler, deleteditems)\n      // }\n\n\n      var _c = (0, contentfunctions_1.allocateContentList)({\n        contentlist: newcontentlist,\n        axisReferenceIndex: targetAxisReferenceIndex\n      }),\n          headcontentlist = _c[0],\n          tailcontentlist = _c[1];\n\n      cradleContent.cradleModelComponents = newcontentlist;\n      cradleContent.headModelComponents = headcontentlist;\n      cradleContent.tailModelComponents = tailcontentlist;\n      cradlePositionData.targetAxisReferenceIndex = targetAxisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = cradleState;\n        serviceHandler.callbacks.referenceIndexCallback(cradlePositionData.targetAxisReferenceIndex, 'setCradleContent', cstate);\n      } //  ----------------------[ 4. set CSS ]-----------------------\n\n\n      cradlePositionData.blockScrollPos = scrollblockPixelOffset + scrollPosAdjustment; // console.log('setting SCROLLPOS in setCradleContent', '-'+cradleInheritedProperties.scrollerID+'-', cradlePositionData.blockScrollPos)\n\n      viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n      var cradleElements = scaffoldHandler.elements; //cradleElementsRef.current\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (orientation == 'vertical') {\n        var top_1 = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.top = top_1 + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontentlist.length ? gap + 'px' : 0;\n      } else {\n        // orientation = 'horizontal'\n        axisElement.style.top = 'auto';\n        var left = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.left = left + 'px';\n        headElement.style.paddingRight = headcontentlist.length ? gap + 'px' : 0;\n      } //  ----------------------[ 5. reset interrupts ]-----------------------\n\n\n      interruptHandler.axisTriggerlinesIntersect.connectElements();\n      interruptHandler.cradleIntersect.connectElements();\n      interruptHandler.signals.pauseTriggerlinesObserver = false; // interruptHandler.signals.pauseCradleIntersectionObserver = false\n    }; // =============================[ UPDATE through scroll ]===============================\n    // updateCradleContent does not touch the viewport element's scroll position for the scrollblock\n    // instead it reconfigures elements within the cradle\n\n\n    this.updateCradleContent = function (isViewportScrollingForward, triggerlineEntries, source) {\n      // ----------------------[ 1. initialize ]-------------------------\n      var _a;\n\n      var _b;\n\n      if (source === void 0) {\n        source = 'notifications';\n      } // handler support\n\n\n      var _c = _this.cradleParameters.handlersRef.current,\n          cacheHandler = _c.cacheHandler,\n          scrollHandler = _c.scrollHandler,\n          scaffoldHandler = _c.scaffoldHandler,\n          stateHandler = _c.stateHandler,\n          interruptHandler = _c.interruptHandler,\n          serviceHandler = _c.serviceHandler; // scroll data\n\n      var scrollData = scrollHandler.scrollData;\n      var scrollPos = scrollData.currentupdate; // console.log('updateCradleContent with scrollPos, blockScrollPos, source', \n      //     scrollPos, scaffoldHandler.cradlePositionData.blockScrollPos, source)\n      // first abandon option/3; nothing to do\n\n      if (scrollPos < 0) {\n        // for Safari, FF elastic bounce at top of scroll\n        return;\n      } // cradle scaffold and user cells\n\n\n      var cradleElements = scaffoldHandler.elements;\n      var cradleContent = _this.content;\n      var modelcontentlist = cradleContent.cradleModelComponents;\n      var oldCradleReferenceIndex = ((_b = modelcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0; // --------------------[ 2. get shift instruction ]-----------------------\n\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var orientation = cradleInheritedProperties.orientation,\n          cache = cradleInheritedProperties.cache; // -1 is move a row up to the head, +1 is move a row down to the tail, 0 is no shift\n\n      var triggerlineRecord = cradleInternalProperties.triggerlineRecordsRef.current;\n      var shiftinstruction = (0, contentfunctions_1.getShiftInstruction)({\n        scrollerID: cradleInheritedProperties.scrollerID,\n        isViewportScrollingForward: isViewportScrollingForward,\n        orientation: orientation,\n        triggerlineEntries: triggerlineEntries,\n        triggerlineRecord: triggerlineRecord,\n        triggerlineSpan: scaffoldHandler.triggerlineSpan\n      }); // console.log('scrollerID, shiftinstruction',\n      //     '-'+cradleInheritedProperties.scrollerID+'-', shiftinstruction)\n      // second abandon option/3; nothing to do\n\n      if (shiftinstruction == 0) {\n        // console.log('triggerlineRecord',triggerlineRecord)\n        return;\n      } // --------------------------------[ 3. Calculate shifts ]-------------------------------\n      // cradle properties\n      // const cradleInheritedProperties = this.cradleParameters.cradleInheritedPropertiesRef.current\n      // const viewportElement = this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current\n\n\n      var _d = (0, contentfunctions_1.calcContentShift)({\n        shiftinstruction: shiftinstruction,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        cradleContent: cradleContent,\n        cradleElements: cradleElements,\n        scrollPos: scrollPos\n      }),\n          newCradleReferenceIndex = _d.newCradleReferenceIndex,\n          cradleItemShift = _d.cradleReferenceItemShift,\n          axisReferenceIndex = _d.newAxisReferenceIndex,\n          axisItemShift = _d.axisReferenceItemShift,\n          axisPixelOffset = _d.newAxisPixelOffset,\n          cradleContentCount = _d.newCradleContentCount,\n          listStartChangeCount = _d.listStartChangeCount,\n          listEndChangeCount = _d.listEndChangeCount; // third abandon option/3; nothing to do\n\n\n      if (axisItemShift == 0 && cradleItemShift == 0) {\n        // TODO: is this possible?\n        return;\n      } // the triggerlines will be moved, so disconnect them from their observer.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.signals.pauseTriggerlinesObserver = true; // ----------------------------------[ 4. reconfigure cradle content ]--------------------------\n      // collect modified content\n\n      var updatedContentList,\n          deletedContentItems = [];\n\n      if (listStartChangeCount || listEndChangeCount) {\n        // if either is non-0 then modify content\n        _a = (0, contentfunctions_1.getCellFrameComponentList)({\n          cradleInheritedProperties: cradleInheritedProperties,\n          // cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          workingContentList: modelcontentlist,\n          listStartChangeCount: listStartChangeCount,\n          listEndChangeCount: listEndChangeCount,\n          cradleReferenceIndex: oldCradleReferenceIndex,\n          instanceIdCounterRef: _this.instanceIdCounterRef\n        }), updatedContentList = _a[0], deletedContentItems = _a[1];\n      } else {\n        updatedContentList = modelcontentlist;\n      }\n\n      if (deletedContentItems.length && cache == 'cradle') {\n        (0, contentfunctions_1.deletePortals)(cacheHandler, deletedContentItems, serviceHandler.callbacks.cacheDeleteListCallback);\n      } // ----------------------------------[ 5. allocate cradle content ]--------------------------\n\n\n      var _e = (0, contentfunctions_1.allocateContentList)({\n        contentlist: updatedContentList,\n        axisReferenceIndex: axisReferenceIndex\n      }),\n          headcontent = _e[0],\n          tailcontent = _e[1];\n\n      cradleContent.cradleModelComponents = updatedContentList;\n      cradleContent.headModelComponents = headcontent;\n      cradleContent.tailModelComponents = tailcontent;\n\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = stateHandler.cradleStateRef.current;\n        serviceHandler.callbacks.referenceIndexCallback(scaffoldHandler.cradlePositionData.targetAxisReferenceIndex, 'updateCradleContent', cstate);\n      } // -------------------------------[ 6. set css changes ]-------------------------\n\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (cradleInheritedProperties.orientation == 'vertical') {\n        var topPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = topPos + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      } else {\n        // 'horizontal'\n        var leftPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = 'auto';\n        axisElement.style.left = leftPos + 'px';\n        headElement.style.paddingRight = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      }\n\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n      stateHandler.setCradleState('renderupdatedcontent');\n    };\n\n    this.guardAgainstRunawayCaching = function () {\n      var cacheMax = _this.cradleParameters.cradleInheritedPropertiesRef.current.cacheMax;\n      var _a = _this.cradleParameters.handlersRef.current,\n          contentHandler = _a.contentHandler,\n          cacheHandler = _a.cacheHandler;\n      var modelComponentList = contentHandler.content.cradleModelComponents;\n\n      if (cacheHandler.guardAgainstRunawayCaching(cacheMax, modelComponentList.length)) {\n        _this.pareCacheToMax();\n      }\n    };\n\n    this.pareCacheToMax = function () {\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n\n      if (cradleInheritedProperties.cache == 'keepload') {\n        var cradleHandlers = _this.cradleParameters.handlersRef.current;\n        var contentHandler = cradleHandlers.contentHandler,\n            cacheHandler = cradleHandlers.cacheHandler,\n            serviceHandler = cradleHandlers.serviceHandler;\n        var modelIndexList = contentHandler.content.cradleModelComponents.map(function (item) {\n          return item.props.index;\n        });\n        var paring = cacheHandler.pareCacheToMax(cradleInheritedProperties.cacheMax, modelIndexList, serviceHandler.callbacks.cacheDeleteListCallback);\n        if (paring) cacheHandler.renderPortalList();\n      }\n    };\n\n    this.clearCache = function () {\n      var cradleContent = _this.content;\n      var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n      cradleContent.headModelComponents = [];\n      cradleContent.tailModelComponents = []; // register new array id for Object.is to trigger react re-processing\n\n      cradleContent.headDisplayComponents = [];\n      cradleContent.tailDisplayComponents = [];\n      cacheHandler.clearCache();\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return ContentHandler;\n}();\n\nexports[\"default\"] = ContentHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7QUFFQTs7QUFVQTtBQUFBO0FBQUE7RUFFRyx3QkFBWUEsZ0JBQVosRUFBNEI7SUFBNUI7O0lBTU8sZUFBVTtNQUVkQyxxQkFBcUIsRUFBRSxJQUZUO01BR2RDLG1CQUFtQixFQUFFLElBSFA7TUFJZEMsbUJBQW1CLEVBQUUsSUFKUDtNQUtkO01BQ0FDLHFCQUFxQixFQUFFLEVBTlQ7TUFPZEMscUJBQXFCLEVBQUU7SUFQVCxDQUFWO0lBZUUsNEJBQXVCO01BQzVCQyxPQUFPLEVBQUM7SUFEb0IsQ0FBdkI7SUFHQSxxQkFBZ0IsSUFBSUMsR0FBSixFQUFoQixDQXhCbUIsQ0EwQjNCO0lBRUE7SUFDQTtJQUVBO0lBQ0M7SUFDQTtJQUNBOztJQUNNLHdCQUFtQixVQUFDQyxXQUFELEVBQVk7TUFFbEM7TUFFQSxJQUFNQywyQkFBMkIsR0FBR0MsS0FBSSxDQUFDVixnQkFBTCxDQUFzQlcsOEJBQXRCLENBQXFETCxPQUF6RjtNQUNBLElBQU1NLHlCQUF5QixHQUFHRixLQUFJLENBQUNWLGdCQUFMLENBQXNCYSw0QkFBdEIsQ0FBbURQLE9BQXJGO01BQ0EsSUFBTVEsd0JBQXdCLEdBQUdKLEtBQUksQ0FBQ1YsZ0JBQUwsQ0FBc0JlLDJCQUF0QixDQUFrRFQsT0FBbkY7TUFDQSxJQUFNVSxjQUFjLEdBQUdOLEtBQUksQ0FBQ1YsZ0JBQUwsQ0FBc0JpQixXQUF0QixDQUFrQ1gsT0FBekQ7TUFJSSxnQkFBWSxHQUtaVSxjQUFjLGFBTGQ7TUFBQSxJQUNBRSxlQUFlLEdBSWZGLGNBQWMsZ0JBTGQ7TUFBQSxJQUVBRyxjQUFjLEdBR2RILGNBQWMsZUFMZDtNQUFBLElBR0FJLGdCQUFnQixHQUVoQkosY0FBYyxpQkFMZCxDQVg4QixDQWtCbEM7TUFDQTs7TUFDQUksZ0JBQWdCLENBQUNDLHlCQUFqQixDQUEyQ0MsUUFBM0MsQ0FBb0RDLFVBQXBEO01BQ0FILGdCQUFn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QUFJZSxNQUFKLEVBQVlyQyxZQUFZLENBQUNzQyxnQkFBYjtNQUVmO0lBRUosQ0FsQk07O0lBb0JBLGtCQUFhO01BRWhCLElBQU1uRixhQUFhLEdBQUdoQyxLQUFJLENBQUNpQyxPQUEzQjtNQUNRLGdCQUFZLEdBQUtqQyxLQUFJLENBQUNWLGdCQUFMLENBQXNCaUIsV0FBdEIsQ0FBa0NYLE9BQWxDLENBQXlDaUYsWUFBMUQ7TUFFUjdDLGFBQWEsQ0FBQ3hDLG1CQUFkLEdBQW9DLEVBQXBDO01BQ0F3QyxhQUFhLENBQUN2QyxtQkFBZCxHQUFvQyxFQUFwQyxDQU5nQixDQVFoQjs7TUFDQXVDLGFBQWEsQ0FBQ3RDLHFCQUFkLEdBQXNDLEVBQXRDO01BQ0FzQyxhQUFhLENBQUNyQyxxQkFBZCxHQUFzQyxFQUF0QztNQUVBa0YsWUFBWSxDQUFDdUMsVUFBYjtJQUVILENBZE07O0lBcmNMLEtBQUs5SCxnQkFBTCxHQUF3QkEsZ0JBQXhCO0VBRUY7O0VBbWRKO0FBQUMsQ0F6ZEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9jb250ZW50aGFuZGxlci50c3g/YTg5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb250ZW50aGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgeyBcbiAgICBnZXRDZWxsRnJhbWVDb21wb25lbnRMaXN0LCBcbiAgICBjYWxjQ29udGVudFNoaWZ0LFxuICAgIGdldENvbnRlbnRMaXN0UmVxdWlyZW1lbnRzLFxuICAgIGdldFNoaWZ0SW5zdHJ1Y3Rpb24sXG4gICAgYWxsb2NhdGVDb250ZW50TGlzdCxcbiAgICBkZWxldGVQb3J0YWxzLFxuXG59IGZyb20gJy4vY29udGVudGZ1bmN0aW9ucydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGVudEhhbmRsZXIge1xuXG4gICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgfVxuXG4gICBwdWJsaWMgY29udGVudCA9IHtcblxuICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzOiBudWxsLFxuICAgICAgaGVhZE1vZGVsQ29tcG9uZW50czogbnVsbCxcbiAgICAgIHRhaWxNb2RlbENvbXBvbmVudHM6IG51bGwsXG4gICAgICAvLyB0aGUgZm9sbG93aW5nIHR3byBvbmx5IHVzZWQgaW4gY3JhZGxlIGZvciByZW5kZXJcbiAgICAgIGhlYWREaXNwbGF5Q29tcG9uZW50czogW10sXG4gICAgICB0YWlsRGlzcGxheUNvbXBvbmVudHM6IFtdLFxuXG4gICAgfVxuXG4gICAgLy8gcHVibGljIGl0ZW1FbGVtZW50cyA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwcml2YXRlIGluc3RhbmNlSWRDb3VudGVyUmVmID0ge1xuICAgICAgIGN1cnJlbnQ6MFxuICAgIH1cbiAgICBwcml2YXRlIGluc3RhbmNlSWRNYXAgPSBuZXcgTWFwKClcblxuICAgIC8vIFR3byBwdWJsaWMgbWV0aG9kcyAtIHNldENyYWRsZUNvbnRlbnQgYW5kIHVwZGF0ZUNyYWRsZUNvbnRlbnRcblxuICAgIC8vIHJlc2V0IGNyYWRsZSwgaW5jbHVkaW5nIGFsbG9jYXRpb24gYmV0d2VlbiBoZWFkIGFuZCB0YWlsIHBhcnRzIG9mIHRoZSBjcmFkbGVcbiAgICAvLyBjYWxsZWQgb25seSBmcm9tIGNyYWRsZSBzdGF0ZSBoYW5kbGVyXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgU0VUIENPTlRFTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAvL2luaXRpYWxseSAoZG9zZXR1cCksIGFmdGVyIHJlcG9zaXRpb24gKGRvcmVwb3NpdGlvbiksIG9yIHdpdGggZmluaXNocmVzaXplLCBwaXZvdCwgXG4gICAgIC8vIG9yIHVzZXIgc2l6ZSBwYXJhbSByZWNvbmZpZ3VyZSBvciByZWxvYWRcbiAgICAgLy8gc2V0Q3JhZGxlQ29udGVudCBzZXRzIHRoZSBzY3JvbGxibG9jaydzIHNjcm9sbCBwb3NpdGlvbiwgYXMgd2VsbCBhcyBjb25maWcgYW5kIGNvbnRlbnRcbiAgICBwdWJsaWMgc2V0Q3JhZGxlQ29udGVudCA9IChjcmFkbGVTdGF0ZSkgPT4geyBcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDEuIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSGFuZGxlcnMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgICAgICAgICAgc2NhZmZvbGRIYW5kbGVyLFxuICAgICAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLFxuXG4gICAgICAgIH0gPSBjcmFkbGVIYW5kbGVyc1xuXG4gICAgICAgIC8vIHRoZSB0cmlnZ2VybGluZXMgYW5kIGNyYWRsZSB3aW5ncyB3aWxsIGJlIG1vdmVkLCBzbyBkaXNjb25uZWN0IHRoZW0gZnJvbSB0aGVpciBvYnNlcnZlcnMuXG4gICAgICAgIC8vIHRoZXkgYXJlIHJlY29ubmVjdGVkIHdpdGggJ3JlbmRlcnVwZGF0ZWRjb250ZW50JyBzdGF0ZSBpbiBjcmFkbGUudHN4XG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4ID0gY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleFxuICAgICAgICBsZXQgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGdhcCwgXG4gICAgICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgICAgIGNvbnN0IHtjcm9zc2NvdW50fSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1xuXG4gICAgICAgIGxldCB3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5taW4ocmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4LGxpc3RzaXplIC0gMSlcbiAgICAgICAgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAtPSAod29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnQpXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyYWRsZVN0YXRlIGluIHNldENyYWRsZUNvbnRlbnQ7IHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgnLFxuICAgICAgICAvLyAgICAgY3JhZGxlU3RhdGUsIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgpXG5cbiAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlY29uZmlndXJlJykgIHtcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgKHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggPT0gMCk/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6XG4gICAgICAgICAgICAgICAgICAgIGdhcCAvLyBkZWZhdWx0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmFkbGVTdGF0ZSBpbiBzZXRDcmFkbGVDb250ZW50OyB3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4LCB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQnLFxuICAgICAgICAvLyAgICAgY3JhZGxlU3RhdGUsIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgsIHRhcmdldEF4aXNQaXhlbE9mZnNldClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdvcmtpbmdDb250ZW50TGlzdCA9IFtdXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBnZXQgY29udGVudCByZXF1aXJlbWVudHMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpXG4gICAgICAgIGNvbnN0IHJvd0xlbmd0aCA9IFxuICAgICAgICAgICAgaXNWZXJ0aWNhbD9cbiAgICAgICAgICAgICAgICAoY2VsbEhlaWdodCArIGdhcCk6XG4gICAgICAgICAgICAgICAgKGNlbGxXaWR0aCArIGdhcClcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCwgXG4gICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICB0YXJnZXRBeGlzUm93T2Zmc2V0LFxuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50OmNyYWRsZUNvbnRlbnRDb3VudCwgXG4gICAgICAgICAgICB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0OnNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQsXG4gICAgICAgIH0gPSBcbiAgICAgICAgICAgIGdldENvbnRlbnRMaXN0UmVxdWlyZW1lbnRzKHtcbiAgICAgICAgICAgICAgICByb3dMZW5ndGgsXG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4OnJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50OnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBzY3JvbGxQb3NBZGp1c3RtZW50XG4gICAgICAgIGlmICh0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPT0gMCkge1xuICAgICAgICAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IDBcbiAgICAgICAgLy8gfSBlbHNlIGlmIChjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykge1xuICAgICAgICAvLyAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IHBhZGRpbmcgLy8rIGdhcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IHBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXNQaXhlbE9mZnNldCA9IHRhcmdldEF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDMuIGdldCBhbmQgY29uZmlnIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgXG4gICAgICAgIC8vIHJldHVybnMgY29udGVudCBjb25zdHJhaW5lZCBieSBjcmFkbGVSb3djb3VudFxuXG4gICAgICAgIGNvbnN0IFtuZXdjb250ZW50bGlzdCxkZWxldGVkaXRlbXNdID0gZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCh7XG5cbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAvLyBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDp0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50OjAsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQ6Y3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0LFxuICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBpZiAoZGVsZXRlZGl0ZW1zLmxlbmd0aCAmJiAoY2FjaGUgPT0gJ2NyYWRsZScpKSB7XG4gICAgICAgIC8vICAgICBkZWxldGVQb3J0YWxzKGNhY2hlSGFuZGxlciwgZGVsZXRlZGl0ZW1zKVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgW2hlYWRjb250ZW50bGlzdCwgdGFpbGNvbnRlbnRsaXN0XSA9IGFsbG9jYXRlQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjb250ZW50bGlzdDpuZXdjb250ZW50bGlzdCxcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleDp0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMgPSBuZXdjb250ZW50bGlzdFxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBoZWFkY29udGVudGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gdGFpbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gYXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgIGxldCBjc3RhdGUgPSBjcmFkbGVTdGF0ZVxuXG4gICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjayhcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsJ3NldENyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDQuIHNldCBDU1MgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gc2Nyb2xsYmxvY2tQaXhlbE9mZnNldCArIHNjcm9sbFBvc0FkanVzdG1lbnRcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0dGluZyBTQ1JPTExQT1MgaW4gc2V0Q3JhZGxlQ29udGVudCcsICctJytjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLnNjcm9sbGVySUQrJy0nLCBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MpXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudFtjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eV0gPVxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zXG5cbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHMgLy9jcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGhlYWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgY29uc3QgdG9wID0gKHRhcmdldEF4aXNSb3dPZmZzZXQgKiByb3dMZW5ndGgpICsgcGFkZGluZ1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gdG9wICsgJ3B4J1xuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgZ2FwICsgJ3B4JzpcbiAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9ICh0YXJnZXRBeGlzUm93T2Zmc2V0ICogcm93TGVuZ3RoKSArIHBhZGRpbmdcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBcbiAgICAgICAgICAgICAgICBsZWZ0ICsgJ3B4J1xuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgZ2FwICsgJ3B4JzpcbiAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNS4gcmVzZXQgaW50ZXJydXB0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICAvLyBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVsgVVBEQVRFIHRocm91Z2ggc2Nyb2xsIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB1cGRhdGVDcmFkbGVDb250ZW50IGRvZXMgbm90IHRvdWNoIHRoZSB2aWV3cG9ydCBlbGVtZW50J3Mgc2Nyb2xsIHBvc2l0aW9uIGZvciB0aGUgc2Nyb2xsYmxvY2tcbiAgICAvLyBpbnN0ZWFkIGl0IHJlY29uZmlndXJlcyBlbGVtZW50cyB3aXRoaW4gdGhlIGNyYWRsZVxuICAgIHB1YmxpYyB1cGRhdGVDcmFkbGVDb250ZW50ID0gKFxuICAgICAgICBpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCwgdHJpZ2dlcmxpbmVFbnRyaWVzLCBzb3VyY2UgPSAnbm90aWZpY2F0aW9ucycpID0+IHtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gaGFuZGxlciBzdXBwb3J0XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNhY2hlSGFuZGxlciwgXG4gICAgICAgICAgICBzY3JvbGxIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjYWZmb2xkSGFuZGxlciwgXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIsIFxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLFxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBzY3JvbGwgZGF0YVxuICAgICAgICBjb25zdCB7IHNjcm9sbERhdGEgfSA9IHNjcm9sbEhhbmRsZXJcblxuICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGVcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlQ3JhZGxlQ29udGVudCB3aXRoIHNjcm9sbFBvcywgYmxvY2tTY3JvbGxQb3MsIHNvdXJjZScsIFxuICAgICAgICAvLyAgICAgc2Nyb2xsUG9zLCBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zLCBzb3VyY2UpXG5cbiAgICAgICAgLy8gZmlyc3QgYWJhbmRvbiBvcHRpb24vMzsgbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoIHNjcm9sbFBvcyA8IDApIHsgLy8gZm9yIFNhZmFyaSwgRkYgZWxhc3RpYyBib3VuY2UgYXQgdG9wIG9mIHNjcm9sbFxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JhZGxlIHNjYWZmb2xkIGFuZCB1c2VyIGNlbGxzXG4gICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcbiAgICAgICAgY29uc3QgbW9kZWxjb250ZW50bGlzdCA9IGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzXG4gICAgICAgIGNvbnN0IG9sZENyYWRsZVJlZmVyZW5jZUluZGV4ID0gKG1vZGVsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDIuIGdldCBzaGlmdCBpbnN0cnVjdGlvbiBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGNhY2hlLFxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgICAgIC8vIC0xIGlzIG1vdmUgYSByb3cgdXAgdG8gdGhlIGhlYWQsICsxIGlzIG1vdmUgYSByb3cgZG93biB0byB0aGUgdGFpbCwgMCBpcyBubyBzaGlmdFxuICAgICAgICBjb25zdCB0cmlnZ2VybGluZVJlY29yZCA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcy50cmlnZ2VybGluZVJlY29yZHNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBzaGlmdGluc3RydWN0aW9uID0gZ2V0U2hpZnRJbnN0cnVjdGlvbih7XG4gICAgICAgICAgICBzY3JvbGxlcklEOiBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLnNjcm9sbGVySUQsXG4gICAgICAgICAgICBpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmVFbnRyaWVzLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmVSZWNvcmQsXG4gICAgICAgICAgICB0cmlnZ2VybGluZVNwYW46IHNjYWZmb2xkSGFuZGxlci50cmlnZ2VybGluZVNwYW4sXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbGVySUQsIHNoaWZ0aW5zdHJ1Y3Rpb24nLFxuICAgICAgICAvLyAgICAgJy0nK2NyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuc2Nyb2xsZXJJRCsnLScsIHNoaWZ0aW5zdHJ1Y3Rpb24pXG5cbiAgICAgICAgLy8gc2Vjb25kIGFiYW5kb24gb3B0aW9uLzM7IG5vdGhpbmcgdG8gZG9cbiAgICAgICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gMCkge1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndHJpZ2dlcmxpbmVSZWNvcmQnLHRyaWdnZXJsaW5lUmVjb3JkKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMy4gQ2FsY3VsYXRlIHNoaWZ0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNyYWRsZSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIC8vIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7XG5cbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlSXRlbVNoaWZ0OmNyYWRsZUl0ZW1TaGlmdCwgXG4gICAgICAgICAgICBuZXdBeGlzUmVmZXJlbmNlSW5kZXg6YXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQ6YXhpc0l0ZW1TaGlmdCwgXG4gICAgICAgICAgICBuZXdBeGlzUGl4ZWxPZmZzZXQ6YXhpc1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudDpjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCxcblxuICAgICAgICB9ID0gY2FsY0NvbnRlbnRTaGlmdCh7XG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgY3JhZGxlQ29udGVudCxcbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLFxuICAgICAgICAgICAgc2Nyb2xsUG9zLFxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gdGhpcmQgYWJhbmRvbiBvcHRpb24vMzsgbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoKGF4aXNJdGVtU2hpZnQgPT0gMCAmJiBjcmFkbGVJdGVtU2hpZnQgPT0gMCkpIHsgLy8gVE9ETzogaXMgdGhpcyBwb3NzaWJsZT9cblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSB0cmlnZ2VybGluZXMgd2lsbCBiZSBtb3ZlZCwgc28gZGlzY29ubmVjdCB0aGVtIGZyb20gdGhlaXIgb2JzZXJ2ZXIuXG4gICAgICAgIC8vIHRoZXkgYXJlIHJlY29ubmVjdGVkIHdpdGggJ3JlbmRlcnVwZGF0ZWRjb250ZW50JyBzdGF0ZSBpbiBjcmFkbGUudHN4XG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNC4gcmVjb25maWd1cmUgY3JhZGxlIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gY29sbGVjdCBtb2RpZmllZCBjb250ZW50XG4gICAgICAgIGxldCB1cGRhdGVkQ29udGVudExpc3QsIGRlbGV0ZWRDb250ZW50SXRlbXMgPSBbXVxuXG4gICAgICAgIGlmIChsaXN0U3RhcnRDaGFuZ2VDb3VudCB8fCBsaXN0RW5kQ2hhbmdlQ291bnQpIHsgLy8gaWYgZWl0aGVyIGlzIG5vbi0wIHRoZW4gbW9kaWZ5IGNvbnRlbnRcblxuICAgICAgICAgICAgW3VwZGF0ZWRDb250ZW50TGlzdCxkZWxldGVkQ29udGVudEl0ZW1zXSA9IGdldENlbGxGcmFtZUNvbXBvbmVudExpc3Qoe1xuICAgICAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgLy8gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgICAgICB3b3JraW5nQ29udGVudExpc3Q6bW9kZWxjb250ZW50bGlzdCxcbiAgICAgICAgICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsXG4gICAgICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXg6b2xkQ3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdXBkYXRlZENvbnRlbnRMaXN0ID0gbW9kZWxjb250ZW50bGlzdFxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsZXRlZENvbnRlbnRJdGVtcy5sZW5ndGggJiYgKGNhY2hlID09ICdjcmFkbGUnKSkge1xuXG4gICAgICAgICAgICBkZWxldGVQb3J0YWxzKGNhY2hlSGFuZGxlciwgZGVsZXRlZENvbnRlbnRJdGVtcywgXG4gICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLmNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiBhbGxvY2F0ZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBbaGVhZGNvbnRlbnQsIHRhaWxjb250ZW50XSA9IGFsbG9jYXRlQ29udGVudExpc3QoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudGxpc3Q6dXBkYXRlZENvbnRlbnRMaXN0LFxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzID0gdXBkYXRlZENvbnRlbnRMaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IGhlYWRjb250ZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IHRhaWxjb250ZW50XG5cblxuICAgICAgICBpZiAoc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2spIHtcblxuICAgICAgICAgICAgbGV0IGNzdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKFxuXG4gICAgICAgICAgICAgICAgc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsJ3VwZGF0ZUNyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNi4gc2V0IGNzcyBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvcFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSB0b3BQb3MgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgY29uc3QgbGVmdFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSAnYXV0bydcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0UG9zICsgJ3B4J1xuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgncmVuZGVydXBkYXRlZGNvbnRlbnQnKVxuXG4gICAgfVxuXG4gICAgcHVibGljIGd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nID0gKCkgPT4geyBcbiAgICAgICAgY29uc3QgeyBjYWNoZU1heCB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNvbnRlbnRIYW5kbGVyLCBjYWNoZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IG1vZGVsQ29tcG9uZW50TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzXG4gXG4gICAgICAgIGlmIChjYWNoZUhhbmRsZXIuZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmcoY2FjaGVNYXgsIG1vZGVsQ29tcG9uZW50TGlzdC5sZW5ndGgpKSB7XG5cbiAgICAgICAgICAgIHRoaXMucGFyZUNhY2hlVG9NYXgoKVxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIHBhcmVDYWNoZVRvTWF4ID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVIYW5kbGVycyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgICAgICBjb25zdCB7IGNvbnRlbnRIYW5kbGVyLCBjYWNoZUhhbmRsZXIsIHNlcnZpY2VIYW5kbGVyIH0gPSBjcmFkbGVIYW5kbGVyc1xuXG4gICAgICAgICAgICBjb25zdCBtb2RlbEluZGV4TGlzdCA9IFxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzLm1hcCgoaXRlbSk9Pml0ZW0ucHJvcHMuaW5kZXgpXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmluZyA9IGNhY2hlSGFuZGxlci5wYXJlQ2FjaGVUb01heChcbiAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmNhY2hlTWF4LG1vZGVsSW5kZXhMaXN0LCBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MuY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2spXG4gICAgICAgICAgICBpZiAocGFyaW5nKSBjYWNoZUhhbmRsZXIucmVuZGVyUG9ydGFsTGlzdCgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckNhY2hlID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcbiAgICAgICAgY29uc3QgeyBjYWNoZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gW11cbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gW11cblxuICAgICAgICAvLyByZWdpc3RlciBuZXcgYXJyYXkgaWQgZm9yIE9iamVjdC5pcyB0byB0cmlnZ2VyIHJlYWN0IHJlLXByb2Nlc3NpbmdcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgY2FjaGVIYW5kbGVyLmNsZWFyQ2FjaGUoKVxuXG4gICAgfVxuXG59Il0sIm5hbWVzIjpbImNyYWRsZVBhcmFtZXRlcnMiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJoZWFkTW9kZWxDb21wb25lbnRzIiwidGFpbE1vZGVsQ29tcG9uZW50cyIsImhlYWREaXNwbGF5Q29tcG9uZW50cyIsInRhaWxEaXNwbGF5Q29tcG9uZW50cyIsImN1cnJlbnQiLCJNYXAiLCJjcmFkbGVTdGF0ZSIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsIl90aGlzIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjcmFkbGVIYW5kbGVycyIsImhhbmRsZXJzUmVmIiwic2NhZmZvbGRIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJpbnRlcnJ1cHRIYW5kbGVyIiwiYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdCIsIm9ic2VydmVyIiwiZGlzY29ubmVjdCIsImNyYWRsZUludGVyc2VjdCIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJyZXF1ZXN0ZWRBeGlzUmVmZXJlbmNlSW5kZXgiLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJnYXAiLCJwYWRkaW5nIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImNhY2hlIiwibGlzdHNpemUiLCJ3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4IiwiTWF0aCIsIm1pbiIsImNyb3NzY291bnQiLCJ3b3JraW5nQ29udGVudExpc3QiLCJjcmFkbGVDb250ZW50IiwiY29udGVudCIsImlzVmVydGljYWwiLCJvcmllbnRhdGlvbiIsInJvd0xlbmd0aCIsInRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4IiwidGFyZ2V0QXhpc1Jvd09mZnNldCIsImNyYWRsZUNvbnRlbnRDb3VudCIsInNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQiLCJzY3JvbGxQb3NBZGp1c3RtZW50IiwiYXhpc1BpeGVsT2Zmc2V0IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJsaXN0U3RhcnRDaGFuZ2VDb3VudCIsImxpc3RFbmRDaGFuZ2VDb3VudCIsImluc3RhbmNlSWRDb3VudGVyUmVmIiwibmV3Y29udGVudGxpc3QiLCJkZWxldGVkaXRlbXMiLCJjb250ZW50bGlzdCIsImF4aXNSZWZlcmVuY2VJbmRleCIsImhlYWRjb250ZW50bGlzdCIsInRhaWxjb250ZW50bGlzdCIsImNhbGxiYWNrcyIsInJlZmVyZW5jZUluZGV4Q2FsbGJhY2siLCJjc3RhdGUiLCJibG9ja1Njcm9sbFBvcyIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJjcmFkbGVFbGVtZW50cyIsImVsZW1lbnRzIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiaGVhZEVsZW1lbnQiLCJoZWFkUmVmIiwidG9wXzEiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJwYWRkaW5nQm90dG9tIiwibGVuZ3RoIiwicGFkZGluZ1JpZ2h0IiwiY29ubmVjdEVsZW1lbnRzIiwic2lnbmFscyIsInBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIiLCJpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCIsInRyaWdnZXJsaW5lRW50cmllcyIsInNvdXJjZSIsImNhY2hlSGFuZGxlciIsInNjcm9sbEhhbmRsZXIiLCJzdGF0ZUhhbmRsZXIiLCJzY3JvbGxQb3MiLCJzY3JvbGxEYXRhIiwiY3VycmVudHVwZGF0ZSIsIm1vZGVsY29udGVudGxpc3QiLCJvbGRDcmFkbGVSZWZlcmVuY2VJbmRleCIsIl9iIiwicHJvcHMiLCJpbmRleCIsInRyaWdnZXJsaW5lUmVjb3JkIiwidHJpZ2dlcmxpbmVSZWNvcmRzUmVmIiwic2hpZnRpbnN0cnVjdGlvbiIsInNjcm9sbGVySUQiLCJ0cmlnZ2VybGluZVNwYW4iLCJuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCIsImNyYWRsZUl0ZW1TaGlmdCIsImF4aXNJdGVtU2hpZnQiLCJ1cGRhdGVkQ29udGVudExpc3QiLCJkZWxldGVkQ29udGVudEl0ZW1zIiwiX2EiLCJjYWNoZURlbGV0ZUxpc3RDYWxsYmFjayIsImhlYWRjb250ZW50IiwidGFpbGNvbnRlbnQiLCJjcmFkbGVTdGF0ZVJlZiIsInRvcFBvcyIsImxlZnRQb3MiLCJzZXRDcmFkbGVTdGF0ZSIsImNhY2hlTWF4IiwiY29udGVudEhhbmRsZXIiLCJtb2RlbENvbXBvbmVudExpc3QiLCJndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyIsInBhcmVDYWNoZVRvTWF4IiwibW9kZWxJbmRleExpc3QiLCJtYXAiLCJpdGVtIiwicGFyaW5nIiwicmVuZGVyUG9ydGFsTGlzdCIsImNsZWFyQ2FjaGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contenthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/interrupthandler.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/interrupthandler.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // interruptshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    TODO: trigger reposition if triggerline entries come back with isIntersecting the same for both\n*/\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver;\n\nvar InterruptHandler =\n/** @class */\nfunction () {\n  function InterruptHandler(cradleParameters) {\n    var _this = this;\n\n    this.isTailCradleInView = false;\n    this.isHeadCradleInView = false; // TODO: stub\n\n    this.cradleresizeobservercallback = function (entries) {\n      if (_this.signals.pauseCradleResizeObserver) return;\n    };\n\n    this.axisTriggerlinesObserverCallback = function (entries) {\n      if (_this.signals.pauseTriggerlinesObserver) {\n        // console.log('returning from axisTriggerlinesObserverCallback with pause!')\n        return;\n      }\n\n      var testrootbounds = entries[0].rootBounds;\n\n      if (testrootbounds.width == 0 && testrootbounds.height == 0) {\n        // reparenting\n        return;\n      }\n\n      var _a = _this.cradleParameters.handlersRef.current,\n          contentHandler = _a.contentHandler,\n          stateHandler = _a.stateHandler,\n          scrollHandler = _a.scrollHandler;\n\n      if (stateHandler.isMountedRef.current) {\n        var scrollData = scrollHandler.scrollData;\n\n        if (scrollData.start != scrollData.current || scrollData.current != scrollData.previous) {\n          scrollData.previousupdate = scrollData.currentupdate;\n          scrollData.currentupdate = scrollData.current;\n          var isViewportScrollingForward = void 0;\n\n          if (scrollData.previousupdate == scrollData.currentupdate) {\n            isViewportScrollingForward = scrollData.previous < scrollData.current;\n          } else {\n            isViewportScrollingForward = scrollData.previousupdate < scrollData.currentupdate;\n          }\n\n          contentHandler.updateCradleContent(isViewportScrollingForward, entries, 'triggerlinesObserver');\n        }\n      }\n    };\n\n    this.cradleIntersectionObserverCallback = function (entries) {\n      var _a;\n\n      var signals = _this.signals;\n      var _b = _this.cradleParameters.handlersRef.current,\n          stateHandler = _b.stateHandler,\n          contentHandler = _b.contentHandler;\n\n      if (signals.pauseCradleIntersectionObserver) {\n        return;\n      }\n\n      for (var i = 0; i < entries.length; i++) {\n        var entry = entries[i];\n\n        if (entry.target.dataset.type == 'head') {\n          _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        } else {\n          _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        }\n      }\n\n      _this.signals.repositioningRequired = !_this.isHeadCradleInView && !_this.isTailCradleInView;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n\n      if (_this.signals.repositioningRequired) // start reposition if no other interrupts are underway\n        {\n          var cradleState = stateHandler.cradleStateRef.current;\n\n          if (!viewportInterruptProperties.isResizing && !((_a = viewportInterruptProperties.isReparentingRef) === null || _a === void 0 ? void 0 : _a.current) && !(cradleState == 'repositioningRender') && !(cradleState == 'repositioningContinuation') && !(cradleState == 'renderupdatedcontent') && // TODO: *TEST*\n          !(cradleState == 'finishupdatedcontent') && !(cradleState == 'finishresize') && !(cradleState == 'doreposition') && !(cradleState == 'pivot')) {\n            var element = viewportInterruptProperties.elementRef.current;\n            var scrollerID = _this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID;\n\n            if (!element) {\n              console.log('SYSTEM: viewport element not set in cradleIntersectionObserverCallback', scrollerID, viewportInterruptProperties);\n              return;\n            } // TODO this is a duplicate setting procedure with viewport.tsx\n\n\n            var rect = element.getBoundingClientRect();\n            var top_1 = rect.top,\n                right = rect.right,\n                bottom = rect.bottom,\n                left = rect.left;\n            var width = right - left,\n                height = bottom - top_1;\n            viewportInterruptProperties.viewportDimensions = {\n              top: top_1,\n              right: right,\n              bottom: bottom,\n              left: left,\n              width: width,\n              height: height\n            }; // update for scrolltracker\n            // console.log('calling startreposition from cradleIntersectionObserverCallback:scrollerID, entries',\n            //  '-' + scrollerID + '-', entries)\n            // debugger\n\n            stateHandler.setCradleState('startreposition');\n          }\n        }\n    }; // for adjusting to content re-sizing\n\n\n    this.cradleResize = {\n      observer: null,\n      callback: this.cradleresizeobservercallback,\n      connectElements: function connectElements() {\n        var observer = _this.cradleResize.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headRef.current);\n        observer.observe(cradleElements.tailRef.current);\n      },\n      createObserver: function createObserver() {\n        _this.cradleResize.observer = new ResizeObserver(_this.cradleResize.callback);\n        return _this.cradleResize.observer;\n      }\n    };\n    this.cradleIntersect = {\n      observer: null,\n      callback: this.cradleIntersectionObserverCallback,\n      connectElements: function connectElements() {\n        var observer = _this.cradleIntersect.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headRef.current);\n        observer.observe(cradleElements.tailRef.current);\n      },\n      createObserver: function createObserver() {\n        var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n        _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n          root: viewportInterruptProperties.elementRef.current,\n          threshold: 0\n        });\n        return _this.cradleIntersect.observer;\n      }\n    };\n    this.axisTriggerlinesIntersect = {\n      observer: null,\n      callback: this.axisTriggerlinesObserverCallback,\n      connectElements: function connectElements() {\n        var observer = _this.axisTriggerlinesIntersect.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headTriggerlineRef.current);\n        observer.observe(cradleElements.tailTriggerlineRef.current);\n      },\n      createObserver: function createObserver() {\n        var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n        _this.axisTriggerlinesIntersect.observer = new IntersectionObserver(_this.axisTriggerlinesIntersect.callback, {\n          root: viewportInterruptProperties.elementRef.current,\n          threshold: 0\n        });\n        return _this.axisTriggerlinesIntersect.observer;\n      }\n    };\n    this.signals = {\n      repositioningRequired: false,\n      pauseTriggerlinesObserver: false,\n      pauseCradleIntersectionObserver: false,\n      pauseCradleResizeObserver: false,\n      pauseScrollingEffects: false\n    };\n\n    this.pauseInterrupts = function () {\n      var signals = _this.signals;\n      signals.pauseTriggerlinesObserver = true;\n      signals.pauseCradleIntersectionObserver = true;\n      signals.pauseCradleResizeObserver = true;\n      signals.pauseScrollingEffects = true;\n    };\n\n    this.restoreInterrupts = function () {\n      var signals = _this.signals;\n      signals.pauseTriggerlinesObserver = false;\n      signals.pauseCradleIntersectionObserver = false;\n      signals.pauseCradleResizeObserver = false;\n      signals.pauseScrollingEffects = false;\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return InterruptHandler;\n}();\n\nexports[\"default\"] = InterruptHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qix5QkFBeUIsRUFBRSxLQUZkO01BR2JrQiwrQkFBK0IsRUFBQyxLQUhuQjtNQUlibkIseUJBQXlCLEVBQUUsS0FKZDtNQUtieUUscUJBQXFCLEVBQUU7SUFMVixDQUFWOztJQVFBLHVCQUFrQjtNQUNiLFdBQU8sR0FBSzNFLEtBQUksUUFBaEI7TUFDUkMsT0FBTyxDQUFDRSx5QkFBUixHQUFvQyxJQUFwQztNQUNBRixPQUFPLENBQUNvQiwrQkFBUixHQUEwQyxJQUExQztNQUNBcEIsT0FBTyxDQUFDQyx5QkFBUixHQUFvQyxJQUFwQztNQUNBRCxPQUFPLENBQUMwRSxxQkFBUixHQUFnQyxJQUFoQztJQUNILENBTk07O0lBUUEseUJBQW9CO01BQ2YsV0FBTyxHQUFLM0UsS0FBSSxRQUFoQjtNQUNSQyxPQUFPLENBQUNFLHlCQUFSLEdBQW9DLEtBQXBDO01BQ0FGLE9BQU8sQ0FBQ29CLCtCQUFSLEdBQTBDLEtBQTFDO01BQ0FwQixPQUFPLENBQUNDLHlCQUFSLEdBQW9DLEtBQXBDO01BQ0FELE9BQU8sQ0FBQzBFLHFCQUFSLEdBQWdDLEtBQWhDO0lBQ0gsQ0FOTTs7SUEzTUosS0FBSzdFLGdCQUFMLEdBQXdCQSxnQkFBeEI7RUFFRjs7RUFpTkw7QUFBQyxDQXZORCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2ludGVycnVwdGhhbmRsZXIudHN4P2E5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW50ZXJydXB0c2hhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUT0RPOiB0cmlnZ2VyIHJlcG9zaXRpb24gaWYgdHJpZ2dlcmxpbmUgZW50cmllcyBjb21lIGJhY2sgd2l0aCBpc0ludGVyc2VjdGluZyB0aGUgc2FtZSBmb3IgYm90aFxuKi9cblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5cbmNvbnN0IFJlc2l6ZU9ic2VydmVyID0gd2luZG93WydSZXNpemVPYnNlcnZlciddIHx8IFJlc2l6ZU9ic2VydmVyUG9seWZpbGxcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJydXB0SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHByaXZhdGUgaXNUYWlsQ3JhZGxlSW5WaWV3ID0gZmFsc2VcbiAgICBwcml2YXRlIGlzSGVhZENyYWRsZUluVmlldyA9IGZhbHNlXG5cbiAgICAvLyBUT0RPOiBzdHViXG4gICAgcHJpdmF0ZSBjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgIGlmICh0aGlzLnNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcikgcmV0dXJuXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIpIHsgXG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgZnJvbSBheGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayB3aXRoIHBhdXNlIScpXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXN0cm9vdGJvdW5kcyA9IGVudHJpZXNbMF0ucm9vdEJvdW5kc1xuICAgICAgICBpZiAoKHRlc3Ryb290Ym91bmRzLndpZHRoID09IDApICYmICh0ZXN0cm9vdGJvdW5kcy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLFxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLFxuICAgICAgICAgICAgc2Nyb2xsSGFuZGxlclxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbERhdGEgfSA9IHNjcm9sbEhhbmRsZXJcbiAgICAgICAgICAgIGlmICgoc2Nyb2xsRGF0YS5zdGFydCAhPSBzY3JvbGxEYXRhLmN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgKHNjcm9sbERhdGEuY3VycmVudCAhPSBzY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGF0YS5wcmV2aW91c3VwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZVxuICAgICAgICAgICAgICAgIHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgbGV0IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbERhdGEucHJldmlvdXN1cGRhdGUgPT0gc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkID0gc2Nyb2xsRGF0YS5wcmV2aW91cyA8IHNjcm9sbERhdGEuY3VycmVudFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkID0gKHNjcm9sbERhdGEucHJldmlvdXN1cGRhdGUgPCBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIudXBkYXRlQ3JhZGxlQ29udGVudChpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCwgZW50cmllcywndHJpZ2dlcmxpbmVzT2JzZXJ2ZXInKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNcbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIsIGNvbnRlbnRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmIChzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSBlbnRyaWVzW2ldXG4gICAgICAgICAgICBpZiAoZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZSA9PSAnaGVhZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGVhZENyYWRsZUluVmlldyA9IFxuICAgICAgICAgICAgICAgICAgICAoZW50cnkuaXNJbnRlcnNlY3RpbmcgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGVudHJ5LnJvb3RCb3VuZHMud2lkdGggPT0gMCkgJiYgKGVudHJ5LnJvb3RCb3VuZHMuaGVpZ2h0ID09IDApKSAvLyByZXBhcmVudGluZ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcgPSBcbiAgICAgICAgICAgICAgICAgICAgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCA9ICghdGhpcy5pc0hlYWRDcmFkbGVJblZpZXcgJiYgIXRoaXMuaXNUYWlsQ3JhZGxlSW5WaWV3KVxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICh0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkKSAvLyBzdGFydCByZXBvc2l0aW9uIGlmIG5vIG90aGVyIGludGVycnVwdHMgYXJlIHVuZGVyd2F5XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZyAmJlxuICAgICAgICAgICAgICAgICF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXBhcmVudGluZ1JlZj8uY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSAmJiBcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZW5kZXJ1cGRhdGVkY29udGVudCcpICYmIC8vIFRPRE86ICpURVNUKlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JykgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdmaW5pc2hyZXNpemUnKSAmJlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ2RvcmVwb3NpdGlvbicpICYmIFxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3Bpdm90JylcbiAgICAgICAgICAgICAgICApIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjcm9sbGVySUQgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NZU1RFTTogdmlld3BvcnQgZWxlbWVudCBub3Qgc2V0IGluIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCx2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBkdXBsaWNhdGUgc2V0dGluZyBwcm9jZWR1cmUgd2l0aCB2aWV3cG9ydC50c3hcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnR9ID0gcmVjdFxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0LCBoZWlnaHQgPSBib3R0b20gLSB0b3BcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMudmlld3BvcnREaW1lbnNpb25zID0ge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0gLy8gdXBkYXRlIGZvciBzY3JvbGx0cmFja2VyXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGluZyBzdGFydHJlcG9zaXRpb24gZnJvbSBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrOnNjcm9sbGVySUQsIGVudHJpZXMnLFxuICAgICAgICAgICAgICAgIC8vICAnLScgKyBzY3JvbGxlcklEICsgJy0nLCBlbnRyaWVzKVxuXG4gICAgICAgICAgICAgICAgLy8gZGVidWdnZXJcblxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnc3RhcnRyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgIC8vIGZvciBhZGp1c3RpbmcgdG8gY29udGVudCByZS1zaXppbmdcbiAgIHB1YmxpYyBjcmFkbGVSZXNpemUgPSB7XG4gICAgICBvYnNlcnZlcjpudWxsLFxuICAgICAgY2FsbGJhY2s6dGhpcy5jcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZVJlc2l6ZS5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5zY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQpXG4gICAgICAgIH0sXG4gICAgICBjcmVhdGVPYnNlcnZlcjooKSA9PiB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVSZXNpemUub2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5jcmFkbGVSZXNpemUuY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzLmNyYWRsZVJlc2l6ZS5vYnNlcnZlclxuXG4gICAgICB9XG4gICB9XG5cbiAgIHB1YmxpYyBjcmFkbGVJbnRlcnNlY3QgPSB7ICAgIFxuICAgICAgICBvYnNlcnZlcjpudWxsLCAgICBcbiAgICAgICAgY2FsbGJhY2s6dGhpcy5jcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5zY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZU9ic2VydmVyOigpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3QuY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAge3Jvb3Q6dmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudCwgdGhyZXNob2xkOjB9XG4gICAgICAgICAgICApICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgIHB1YmxpYyBheGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0ID0ge1xuICAgICAgICBvYnNlcnZlcjpudWxsLFxuICAgICAgICBjYWxsYmFjazp0aGlzLmF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRUcmlnZ2VybGluZVJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsVHJpZ2dlcmxpbmVSZWYuY3VycmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgICAgICB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsIHRocmVzaG9sZDowfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNpZ25hbHMgPSB7XG4gICAgICAgIHJlcG9zaXRpb25pbmdSZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXI6IGZhbHNlLCBcbiAgICAgICAgcGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcjpmYWxzZSxcbiAgICAgICAgcGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcjogZmFsc2UsXG4gICAgICAgIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgfVxuXG4gICAgcHVibGljIHBhdXNlSW50ZXJydXB0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzXG4gICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlSW50ZXJydXB0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzXG4gICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gZmFsc2VcbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6WyJSZXNpemVPYnNlcnZlciIsIndpbmRvdyIsInJlc2l6ZV9vYnNlcnZlcl8xIiwiY3JhZGxlUGFyYW1ldGVycyIsImVudHJpZXMiLCJfdGhpcyIsInNpZ25hbHMiLCJwYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyIiwicGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciIsInRlc3Ryb290Ym91bmRzIiwicm9vdEJvdW5kcyIsIndpZHRoIiwiaGVpZ2h0IiwiaGFuZGxlcnNSZWYiLCJjdXJyZW50IiwiY29udGVudEhhbmRsZXIiLCJzdGF0ZUhhbmRsZXIiLCJzY3JvbGxIYW5kbGVyIiwiaXNNb3VudGVkUmVmIiwic2Nyb2xsRGF0YSIsInN0YXJ0IiwicHJldmlvdXMiLCJwcmV2aW91c3VwZGF0ZSIsImN1cnJlbnR1cGRhdGUiLCJpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCIsInVwZGF0ZUNyYWRsZUNvbnRlbnQiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwiaSIsImxlbmd0aCIsImVudHJ5IiwidGFyZ2V0IiwiZGF0YXNldCIsInR5cGUiLCJpc0hlYWRDcmFkbGVJblZpZXciLCJpc0ludGVyc2VjdGluZyIsImlzVGFpbENyYWRsZUluVmlldyIsInJlcG9zaXRpb25pbmdSZXF1aXJlZCIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiIsImNyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJpc1Jlc2l6aW5nIiwiaXNSZXBhcmVudGluZ1JlZiIsIl9hIiwiZWxlbWVudCIsImVsZW1lbnRSZWYiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwic2Nyb2xsZXJJRCIsImNvbnNvbGUiLCJsb2ciLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwidG9wXzEiLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3AiLCJzZXRDcmFkbGVTdGF0ZSIsIm9ic2VydmVyIiwiY2FsbGJhY2siLCJjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrIiwiY29ubmVjdEVsZW1lbnRzIiwiY3JhZGxlUmVzaXplIiwiY3JhZGxlRWxlbWVudHMiLCJzY2FmZm9sZEhhbmRsZXIiLCJlbGVtZW50cyIsIm9ic2VydmUiLCJoZWFkUmVmIiwidGFpbFJlZiIsImNyZWF0ZU9ic2VydmVyIiwiY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayIsImNyYWRsZUludGVyc2VjdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInRocmVzaG9sZCIsImF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrIiwiYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdCIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/interrupthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scaffoldhandler.tsx":
/*!****************************************!*\
  !*** ./src/cradle/scaffoldhandler.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // cradlehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ScaffoldHandler =\n/** @class */\nfunction () {\n  function ScaffoldHandler(cradleParameters) {\n    // cradlePositionData controls the relative positions of the scaffold elements\n    this.cradlePositionData = {\n      /*\n          \"block\" = cradleblock, which is the element that is scrolled\n               blockScrollPos is set by scrollHandler during and after scrolling,\n          and by setCradleContent in contentHandler, which repositions the cradle.\n               blockScrollPos is used by\n              - cradle initialization in response to reparenting interrupt\n              - setCradleContent\n           */\n      blockScrollPos: null,\n\n      /*\n          values can be \"scrollTop\" or \"scrollLeft\" (of the viewport element) depending on orientation\n               blockScrollProperty is set by the orientation reconfiguration effect in cradle module.\n               it is used where blockScrollPos is used above.\n      */\n      blockScrollProperty: null,\n\n      /*\n          targetAxisReferenceIndex is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - host scrollToItem call\n               targetAxisReferenceIndex is used by\n              - scrollTrackerArgs in cradle module\n              - requestedAxisReferenceIndex in setCradleContent\n      */\n      targetAxisReferenceIndex: null,\n\n      /*\n          targetAxisPixelOffset is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - pivot effect (change of orientation) in cradle module\n               targetAxisPixelOffset is used by\n              - previousAxisOffset in pivot effect\n              - setCradleContent\n           */\n      targetAxisPixelOffset: null\n    };\n    this.cradleParameters = cradleParameters;\n    var _a = cradleParameters.cradleInternalPropertiesRef.current.cradleElementsRef.current,\n        axisRef = _a.axisRef,\n        headRef = _a.headRef,\n        tailRef = _a.tailRef,\n        headTriggerlineRef = _a.headTriggerlineRef,\n        tailTriggerlineRef = _a.tailTriggerlineRef;\n    this.elements = {\n      axisRef: axisRef,\n      headRef: headRef,\n      tailRef: tailRef,\n      headTriggerlineRef: headTriggerlineRef,\n      tailTriggerlineRef: tailTriggerlineRef\n    };\n    var _b = this.cradleParameters.cradleInheritedPropertiesRef.current,\n        defaultVisibleIndex = _b.defaultVisibleIndex,\n        listsize = _b.listsize,\n        padding = _b.padding; // progression of references: implied->target\n\n    this.cradlePositionData.targetAxisReferenceIndex = Math.min(defaultVisibleIndex, listsize - 1) || 0;\n    this.cradlePositionData.targetAxisPixelOffset = 0;\n  }\n\n  ScaffoldHandler.prototype.getViewportDimensions = function () {\n    var viewportElement = this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current;\n    return {\n      width: viewportElement.clientWidth,\n      height: viewportElement.clientHeight\n    };\n  };\n\n  return ScaffoldHandler;\n}();\n\nexports[\"default\"] = ScaffoldHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3NjYWZmb2xkaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7O0FBRUE7QUFBQTtBQUFBO0VBRUkseUJBQVlBLGdCQUFaLEVBQTRCO0lBb0M1QjtJQUNPLDBCQUFxQjtNQUV4Qjs7Ozs7Ozs7TUFXQUMsY0FBYyxFQUFDLElBYlM7O01BZXhCOzs7OztNQU9BQyxtQkFBbUIsRUFBQyxJQXRCSTs7TUF3QnhCOzs7Ozs7Ozs7OztNQVlBQyx3QkFBd0IsRUFBQyxJQXBDRDs7TUFzQ3hCOzs7Ozs7Ozs7OztNQWFBQyxxQkFBcUIsRUFBQztJQW5ERSxDQUFyQjtJQW5DSCxLQUFLSixnQkFBTCxHQUF3QkEsZ0JBQXhCO0lBRU0sU0FNRkEsZ0JBQWdCLENBQUNLLDJCQUFqQixDQUE2Q0MsT0FBN0MsQ0FBcURDLGlCQUFyRCxDQUF1RUQsT0FOckU7SUFBQSxJQUNGRSxPQUFPLGFBREw7SUFBQSxJQUVGQyxPQUFPLGFBRkw7SUFBQSxJQUdGQyxPQUFPLGFBSEw7SUFBQSxJQUlGQyxrQkFBa0Isd0JBSmhCO0lBQUEsSUFLRkMsa0JBQWtCLHdCQUxoQjtJQU9OLEtBQUtDLFFBQUwsR0FBZ0I7TUFDWkwsT0FBTyxTQURLO01BRVpDLE9BQU8sU0FGSztNQUdaQyxPQUFPLFNBSEs7TUFJWkMsa0JBQWtCLG9CQUpOO01BS1pDLGtCQUFrQjtJQUxOLENBQWhCO0lBUU0sU0FJRixLQUFLWixnQkFBTCxDQUFzQmMsNEJBQXRCLENBQW1EUixPQUpqRDtJQUFBLElBQ0ZTLG1CQUFtQix5QkFEakI7SUFBQSxJQUVGQyxRQUFRLGNBRk47SUFBQSxJQUdGQyxPQUFPLGFBSEwsQ0FuQmtCLENBeUJ4Qjs7SUFDQSxLQUFLQyxrQkFBTCxDQUF3QmYsd0JBQXhCLEdBQ0tnQixJQUFJLENBQUNDLEdBQUwsQ0FBU0wsbUJBQVQsRUFBOEJDLFFBQVEsR0FBRyxDQUF6QyxLQUFnRCxDQURyRDtJQUVBLEtBQUtFLGtCQUFMLENBQXdCZCxxQkFBeEIsR0FBZ0QsQ0FBaEQ7RUFFSDs7RUFnRU1pQixrREFBUDtJQUNJLElBQU1DLGVBQWUsR0FBRyxLQUFLdEIsZ0JBQUwsQ0FBc0J1Qiw4QkFBdEIsQ0FBcURqQixPQUFyRCxDQUE2RGtCLFVBQTdELENBQXdFbEIsT0FBaEc7SUFDQSxPQUFPO01BQUNtQixLQUFLLEVBQUNILGVBQWUsQ0FBQ0ksV0FBdkI7TUFBb0NDLE1BQU0sRUFBRUwsZUFBZSxDQUFDTTtJQUE1RCxDQUFQO0VBQ0gsQ0FITTs7RUFLWDtBQUFDLENBckdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc2NhZmZvbGRoYW5kbGVyLnRzeD9mYzJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNyYWRsZWhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhZmZvbGRIYW5kbGVyIHsgXG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGF4aXNSZWYsIFxuICAgICAgICAgICAgaGVhZFJlZiwgXG4gICAgICAgICAgICB0YWlsUmVmLFxuICAgICAgICAgICAgaGVhZFRyaWdnZXJsaW5lUmVmLFxuICAgICAgICAgICAgdGFpbFRyaWdnZXJsaW5lUmVmXG4gICAgICAgIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LmNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHtcbiAgICAgICAgICAgIGF4aXNSZWYsXG4gICAgICAgICAgICBoZWFkUmVmLFxuICAgICAgICAgICAgdGFpbFJlZixcbiAgICAgICAgICAgIGhlYWRUcmlnZ2VybGluZVJlZixcbiAgICAgICAgICAgIHRhaWxUcmlnZ2VybGluZVJlZlxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZGVmYXVsdFZpc2libGVJbmRleCwgXG4gICAgICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgICAgICBwYWRkaW5nXG4gICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgLy8gcHJvZ3Jlc3Npb24gb2YgcmVmZXJlbmNlczogaW1wbGllZC0+dGFyZ2V0XG4gICAgICAgIHRoaXMuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IFxuICAgICAgICAgICAgKE1hdGgubWluKGRlZmF1bHRWaXNpYmxlSW5kZXgsKGxpc3RzaXplIC0gMSkpIHx8IDApXG4gICAgICAgIHRoaXMuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IDBcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIHRyaWdnZXJsaW5lU3BhblxuXG4gICAgLy8gY3JhZGxlUG9zaXRpb25EYXRhIGNvbnRyb2xzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbnMgb2YgdGhlIHNjYWZmb2xkIGVsZW1lbnRzXG4gICAgcHVibGljIGNyYWRsZVBvc2l0aW9uRGF0YSA9IHtcblxuICAgICAgICAvKlxuICAgICAgICAgICAgXCJibG9ja1wiID0gY3JhZGxlYmxvY2ssIHdoaWNoIGlzIHRoZSBlbGVtZW50IHRoYXQgaXMgc2Nyb2xsZWRcblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQb3MgaXMgc2V0IGJ5IHNjcm9sbEhhbmRsZXIgZHVyaW5nIGFuZCBhZnRlciBzY3JvbGxpbmcsXG4gICAgICAgICAgICBhbmQgYnkgc2V0Q3JhZGxlQ29udGVudCBpbiBjb250ZW50SGFuZGxlciwgd2hpY2ggcmVwb3NpdGlvbnMgdGhlIGNyYWRsZS5cblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQb3MgaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gY3JhZGxlIGluaXRpYWxpemF0aW9uIGluIHJlc3BvbnNlIHRvIHJlcGFyZW50aW5nIGludGVycnVwdFxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuXG4gICAgICAgICovXG4gICAgICAgIGJsb2NrU2Nyb2xsUG9zOm51bGwsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHZhbHVlcyBjYW4gYmUgXCJzY3JvbGxUb3BcIiBvciBcInNjcm9sbExlZnRcIiAob2YgdGhlIHZpZXdwb3J0IGVsZW1lbnQpIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvblxuXG4gICAgICAgICAgICBibG9ja1Njcm9sbFByb3BlcnR5IGlzIHNldCBieSB0aGUgb3JpZW50YXRpb24gcmVjb25maWd1cmF0aW9uIGVmZmVjdCBpbiBjcmFkbGUgbW9kdWxlLlxuXG4gICAgICAgICAgICBpdCBpcyB1c2VkIHdoZXJlIGJsb2NrU2Nyb2xsUG9zIGlzIHVzZWQgYWJvdmUuXG4gICAgICAgICovXG4gICAgICAgIGJsb2NrU2Nyb2xsUHJvcGVydHk6bnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IGlzIHNldCBieVxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gc2NhZmZvbGRIYW5kbGVyIChpbml0aWFsaXphdGlvbilcbiAgICAgICAgICAgICAgICAtIHNjcm9sbEhhbmRsZXIgKGR1cmluZyBhbmQgYWZ0ZXIgc2Nyb2xsKVxuICAgICAgICAgICAgICAgIC0gaG9zdCBzY3JvbGxUb0l0ZW0gY2FsbFxuXG4gICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gc2Nyb2xsVHJhY2tlckFyZ3MgaW4gY3JhZGxlIG1vZHVsZVxuICAgICAgICAgICAgICAgIC0gcmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4IGluIHNldENyYWRsZUNvbnRlbnRcbiAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4Om51bGwsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldCBpcyBzZXQgYnlcbiAgICAgICAgICAgICAgICAtIHNldENyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHNjYWZmb2xkSGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIHBpdm90IGVmZmVjdCAoY2hhbmdlIG9mIG9yaWVudGF0aW9uKSBpbiBjcmFkbGUgbW9kdWxlXG5cbiAgICAgICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldCBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBwcmV2aW91c0F4aXNPZmZzZXQgaW4gcGl2b3QgZWZmZWN0XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG5cbiAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0Om51bGwsXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZWxlbWVudHNcblxuICAgIHB1YmxpYyBnZXRWaWV3cG9ydERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgICAgcmV0dXJuIHt3aWR0aDp2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGgsIGhlaWdodDogdmlld3BvcnRFbGVtZW50LmNsaWVudEhlaWdodH1cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsImJsb2NrU2Nyb2xsUG9zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImN1cnJlbnQiLCJjcmFkbGVFbGVtZW50c1JlZiIsImF4aXNSZWYiLCJoZWFkUmVmIiwidGFpbFJlZiIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsImVsZW1lbnRzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImRlZmF1bHRWaXNpYmxlSW5kZXgiLCJsaXN0c2l6ZSIsInBhZGRpbmciLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJNYXRoIiwibWluIiwiU2NhZmZvbGRIYW5kbGVyIiwidmlld3BvcnRFbGVtZW50Iiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiZWxlbWVudFJlZiIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/scaffoldhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scrollhandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/scrollhandler.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // scrollhandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar SCROLL_TIMEOUT_FOR_ONAFTERSCROLL = 500;\n\nvar ScrollHandler =\n/** @class */\nfunction () {\n  function ScrollHandler(cradleParameters) {\n    var _this = this;\n\n    this.scrollData = {\n      start: 0,\n      current: 0,\n      previous: 0,\n      previousupdate: 0,\n      currentupdate: 0\n    };\n    this._scrolltimerid = null;\n    this.isScrolling = false;\n\n    this.onScroll = function (e) {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n\n      if (viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0) {\n        // in cache\n        clearTimeout(_this._scrolltimerid);\n        return;\n      }\n\n      var scrollPositionCurrent = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n      var scrollerID = _this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID; // console.log('scrollPositionCurrent in onScroll','-'+scrollerID+'-' ,scrollPositionCurrent)\n\n      if (scrollPositionCurrent < 0) {\n        // for Safari\n        return;\n      }\n\n      clearTimeout(_this._scrolltimerid);\n      var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n\n      if (signals.pauseScrollingEffects) {\n        return;\n      }\n\n      if (!_this.isScrolling) {\n        _this.isScrolling = true;\n        _this.scrollData.start = scrollPositionCurrent;\n        _this.scrollData.currentupdate = scrollPositionCurrent;\n      }\n\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n      var cradlePositionData = scaffoldHandler.cradlePositionData; // keep up to date in case of reparenting interrupt\n\n      cradlePositionData.blockScrollPos = scrollPositionCurrent;\n      _this.scrollData.previous = _this.scrollData.current;\n      _this.scrollData.current = scrollPositionCurrent;\n      var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n      var cradleState = stateHandler.cradleStateRef.current;\n      var _a = _this.cradleParameters.handlersRef.current,\n          contentHandler = _a.contentHandler,\n          serviceHandler = _a.serviceHandler;\n\n      if (!viewportInterruptProperties.isResizing) {\n        if (cradleState == 'ready' || cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n          if (cradleState == 'ready') {\n            // const itemindex = cradlePositionData.targetAxisReferenceIndex\n            var axisVisiblePixelOffset = void 0;\n            var cradleElements = scaffoldHandler.elements;\n            var axisElement = cradleElements.axisRef.current;\n            var viewportElement_1 = _this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current;\n\n            if (_this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical') {\n              axisVisiblePixelOffset = axisElement.offsetTop - viewportElement_1.scrollTop;\n            } else {\n              axisVisiblePixelOffset = axisElement.offsetLeft - viewportElement_1.scrollLeft;\n            } // cradlePositionData.targetAxisReferenceIndex = itemindex\n\n\n            cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n          }\n\n          if (cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n            _this.calcImpliedRepositioningData();\n\n            if (cradleState == 'repositioningRender') stateHandler.setCradleState('repositioningContinuation');\n          }\n        }\n      }\n\n      _this._scrolltimerid = setTimeout(function () {\n        _this.onAfterScroll();\n      }, SCROLL_TIMEOUT_FOR_ONAFTERSCROLL);\n      return false;\n    };\n\n    this.onAfterScroll = function () {\n      _this.isScrolling = false;\n      var _a = _this.cradleParameters.handlersRef.current,\n          stateHandler = _a.stateHandler,\n          contentHandler = _a.contentHandler,\n          cacheHandler = _a.cacheHandler;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleState = stateHandler.cradleStateRef.current;\n\n      switch (cradleState) {\n        case 'repositioningRender':\n        case 'repositioningContinuation':\n          {\n            _this.updateBlockScrollPos();\n\n            stateHandler.setCradleState('doreposition');\n            break;\n          }\n\n        default:\n          {\n            if (_this.scrollData.start != _this.scrollData.current || _this.scrollData.current != _this.scrollData.previous) {\n              if (stateHandler.isMountedRef.current) {\n                _this.updateReferenceData();\n              }\n            }\n          }\n      } // const {scaffoldHandler} = this.cradleParameters.handlersRef.current\n      // const { cradlePositionData } = scaffoldHandler\n\n\n      var cache = cradleInheritedProperties.cache;\n\n      if (cache == 'keepload') {\n        contentHandler.pareCacheToMax();\n      }\n    }; // after scroll, but not after repositioning\n\n\n    this.updateReferenceData = function () {\n      var _a = _this.cradleParameters.handlersRef.current,\n          stateHandler = _a.stateHandler,\n          scaffoldHandler = _a.scaffoldHandler;\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      if (!stateHandler.isMountedRef.current) return;\n      var axisVisiblePixelOffset;\n      var cradleElements = scaffoldHandler.elements;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n\n      if (cradleProps.orientation == 'vertical') {\n        // console.log('scrollTop in updateReferenceData',viewportElement.scrollTop)\n        axisVisiblePixelOffset = cradleElements.axisRef.current.offsetTop - viewportElement.scrollTop;\n      } else {\n        axisVisiblePixelOffset = cradleElements.axisRef.current.offsetLeft - viewportElement.scrollLeft;\n      }\n\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n\n      if (!viewportInterruptProperties.isResizing) {\n        _this.updateBlockScrollPos();\n      }\n    }; // called from finishreposition state change call above\n    // called from updateReferenceData\n\n\n    this.updateBlockScrollPos = function () {\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n\n      if (!(viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0)) {\n        // in cache\n        if (cradleProps.orientation == 'vertical') {\n          cradlePositionData.blockScrollPos = viewportElement.scrollTop;\n        } else {\n          cradlePositionData.blockScrollPos = viewportElement.scrollLeft;\n        }\n      }\n    };\n\n    this.calcImpliedRepositioningData = function () {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleConfig = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var crosscount = cradleConfig.crosscount;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n      var orientation = cradleProps.orientation,\n          listsize = cradleProps.listsize;\n      var scrollPos, cellLength;\n\n      if (orientation == 'vertical') {\n        scrollPos = viewportElement.scrollTop;\n        cellLength = cradleProps.cellHeight + cradleProps.gap; // console.log('scrollPos in calcImpliedRepositioningData', scrollPos)\n      } else {\n        scrollPos = viewportElement.scrollLeft;\n        cellLength = cradleProps.cellWidth + cradleProps.gap;\n      }\n\n      var axisPixelOffset = cellLength - scrollPos % cellLength;\n\n      if (axisPixelOffset == cellLength + cradleProps.padding) {\n        axisPixelOffset = 0;\n      }\n\n      var axisRowIndex = Math.ceil((scrollPos - cradleProps.padding) / cellLength);\n      var axisReferenceIndex = axisRowIndex * crosscount;\n      axisReferenceIndex = Math.min(axisReferenceIndex, listsize - 1);\n      var diff = axisReferenceIndex % crosscount;\n      axisReferenceIndex -= diff;\n      if (axisReferenceIndex == 0) axisPixelOffset = 0; // defensive\n\n      var cradlePositionData = _this.cradleParameters.handlersRef.current.scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return ScrollHandler;\n}();\n\nexports[\"default\"] = ScrollHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUF5REMsa0JBQWhGO01BQ1JBLGtCQUFrQixDQUFDOEMsd0JBQW5CLEdBQThDSixrQkFBOUM7TUFDQTFDLGtCQUFrQixDQUFDZ0IscUJBQW5CLEdBQTJDcUIsZUFBM0M7SUFFSCxDQXhDTzs7SUFuT0osS0FBS2xFLGdCQUFMLEdBQXdCQSxnQkFBeEI7RUFFSDs7RUEyUUw7QUFBQyxDQWpSRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3Njcm9sbGhhbmRsZXIudHN4P2NlZjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2Nyb2xsaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5jb25zdCBTQ1JPTExfVElNRU9VVF9GT1JfT05BRlRFUlNDUk9MTCA9IDUwMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JvbGxIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBzY3JvbGxEYXRhID0ge3N0YXJ0OjAsIGN1cnJlbnQ6MCwgcHJldmlvdXM6MCwgcHJldmlvdXN1cGRhdGU6MCwgY3VycmVudHVwZGF0ZTowfVxuXG4gICAgcHJpdmF0ZSBfc2Nyb2xsdGltZXJpZCA9IG51bGxcblxuICAgIHByaXZhdGUgaXNTY3JvbGxpbmcgPSBmYWxzZVxuXG4gICAgcHVibGljIG9uU2Nyb2xsID0gKGUpID0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICgodmlld3BvcnRFbGVtZW50LmNsaWVudFdpZHRoID09IDAgICYmIHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpIHsvLyBpbiBjYWNoZVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPSBcbiAgICAgICAgICAgICh0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICBjb25zdCBzY3JvbGxlcklEID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudC5zY3JvbGxlcklEXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxQb3NpdGlvbkN1cnJlbnQgaW4gb25TY3JvbGwnLCctJytzY3JvbGxlcklEKyctJyAsc2Nyb2xsUG9zaXRpb25DdXJyZW50KVxuXG4gICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPCAwKSB7IC8vIGZvciBTYWZhcmlcblxuICAgICAgICAgICAgcmV0dXJuIFxuXG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2Nyb2xsdGltZXJpZClcblxuICAgICAgICBjb25zdCB7c2lnbmFsc30gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLnNjcm9sbERhdGEuc3RhcnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgICAgICAvLyBrZWVwIHVwIHRvIGRhdGUgaW4gY2FzZSBvZiByZXBhcmVudGluZyBpbnRlcnJ1cHRcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzID0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnRcbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcblxuICAgICAgICBjb25zdCB7c3RhdGVIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7Y29udGVudEhhbmRsZXIsIHNlcnZpY2VIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICBpZiAoKGNyYWRsZVN0YXRlID09ICdyZWFkeScpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlYWR5Jykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGl0ZW1pbmRleCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGF4aXNFbGVtZW50Lm9mZnNldFRvcCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGF4aXNFbGVtZW50Lm9mZnNldExlZnQgLSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ID0gaXRlbWluZGV4XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nUmVuZGVyJykgfHwgKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJykpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEoKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmdDb250aW51YXRpb24nKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Njcm9sbHRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5vbkFmdGVyU2Nyb2xsKClcblxuICAgICAgICB9LFNDUk9MTF9USU1FT1VUX0ZPUl9PTkFGVEVSU0NST0xMKVxuXG4gICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQWZ0ZXJTY3JvbGwgPSAoKSA9PiB7XG5cbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICAgICAgY29uc3Qge3N0YXRlSGFuZGxlciwgY29udGVudEhhbmRsZXIsIGNhY2hlSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjcmFkbGVTdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzogXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJzpcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmxvY2tTY3JvbGxQb3MoKVxuXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdkb3JlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnNjcm9sbERhdGEuc3RhcnQgIT0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQpIHx8IFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgIT0gdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWZlcmVuY2VEYXRhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0IHtzY2FmZm9sZEhhbmRsZXJ9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcbiAgICAgICAgLy8gY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKGNhY2hlID09ICdrZWVwbG9hZCcpIHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnBhcmVDYWNoZVRvTWF4KClcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gYWZ0ZXIgc2Nyb2xsLCBidXQgbm90IGFmdGVyIHJlcG9zaXRpb25pbmdcbiAgICBwcml2YXRlIHVwZGF0ZVJlZmVyZW5jZURhdGEgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIsIHNjYWZmb2xkSGFuZGxlciB9IFxuICAgICAgICAgICAgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZVByb3BzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoIXN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgbGV0IGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXRcbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG4gICAgICAgIGlmIChjcmFkbGVQcm9wcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2Nyb2xsVG9wIGluIHVwZGF0ZVJlZmVyZW5jZURhdGEnLHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3ApXG4gICAgICAgICAgICBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50Lm9mZnNldFRvcCAtIFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGNyYWRsZUVsZW1lbnRzLmF4aXNSZWYuY3VycmVudC5vZmZzZXRMZWZ0IC0gXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrU2Nyb2xsUG9zKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBjYWxsZWQgZnJvbSBmaW5pc2hyZXBvc2l0aW9uIHN0YXRlIGNoYW5nZSBjYWxsIGFib3ZlXG4gICAgLy8gY2FsbGVkIGZyb20gdXBkYXRlUmVmZXJlbmNlRGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQmxvY2tTY3JvbGxQb3MgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCEoKHZpZXdwb3J0RWxlbWVudC5jbGllbnRXaWR0aCA9PSAwKSAgJiYgKHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpKSB7Ly8gaW4gY2FjaGVcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVByb3BzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY0ltcGxpZWRSZXBvc2l0aW9uaW5nRGF0YSA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbmZpZyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtjcm9zc2NvdW50fSA9IGNyYWRsZUNvbmZpZ1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHtvcmllbnRhdGlvbiwgbGlzdHNpemV9ID0gY3JhZGxlUHJvcHNcbiAgICAgICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbEhlaWdodCArIGNyYWRsZVByb3BzLmdhcFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbFBvcyBpbiBjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhJywgc2Nyb2xsUG9zKVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbFdpZHRoICsgY3JhZGxlUHJvcHMuZ2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzUGl4ZWxPZmZzZXQgPSBjZWxsTGVuZ3RoIC0gKHNjcm9sbFBvcyAlIGNlbGxMZW5ndGgpXG4gICAgICAgIGlmIChheGlzUGl4ZWxPZmZzZXQgPT0gKGNlbGxMZW5ndGggKyBjcmFkbGVQcm9wcy5wYWRkaW5nKSkge1xuICAgICAgICAgICAgYXhpc1BpeGVsT2Zmc2V0ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXhpc1Jvd0luZGV4ID0gTWF0aC5jZWlsKChzY3JvbGxQb3MgLSBjcmFkbGVQcm9wcy5wYWRkaW5nKS9jZWxsTGVuZ3RoKVxuICAgICAgICBsZXQgYXhpc1JlZmVyZW5jZUluZGV4ID0gYXhpc1Jvd0luZGV4ICogY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbihheGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgICAgICBjb25zdCBkaWZmID0gYXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggLT0gZGlmZlxuXG4gICAgICAgIGlmIChheGlzUmVmZXJlbmNlSW5kZXggPT0gMCkgYXhpc1BpeGVsT2Zmc2V0ID0gMCAvLyBkZWZlbnNpdmVcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiU0NST0xMX1RJTUVPVVRfRk9SX09OQUZURVJTQ1JPTEwiLCJjcmFkbGVQYXJhbWV0ZXJzIiwic3RhcnQiLCJjdXJyZW50IiwicHJldmlvdXMiLCJwcmV2aW91c3VwZGF0ZSIsImN1cnJlbnR1cGRhdGUiLCJlIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIiwiX3RoaXMiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnQiLCJlbGVtZW50UmVmIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJjbGVhclRpbWVvdXQiLCJfc2Nyb2xsdGltZXJpZCIsInNjcm9sbFBvc2l0aW9uQ3VycmVudCIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJvcmllbnRhdGlvbiIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxlcklEIiwiaGFuZGxlcnNSZWYiLCJpbnRlcnJ1cHRIYW5kbGVyIiwic2lnbmFscyIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsImlzU2Nyb2xsaW5nIiwic2Nyb2xsRGF0YSIsInNjYWZmb2xkSGFuZGxlciIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImJsb2NrU2Nyb2xsUG9zIiwic3RhdGVIYW5kbGVyIiwiY3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImNvbnRlbnRIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJpc1Jlc2l6aW5nIiwiYXhpc1Zpc2libGVQaXhlbE9mZnNldCIsImNyYWRsZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJheGlzRWxlbWVudCIsImF4aXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnRfMSIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhIiwic2V0Q3JhZGxlU3RhdGUiLCJzZXRUaW1lb3V0Iiwib25BZnRlclNjcm9sbCIsImNhY2hlSGFuZGxlciIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJ1cGRhdGVCbG9ja1Njcm9sbFBvcyIsImlzTW91bnRlZFJlZiIsInVwZGF0ZVJlZmVyZW5jZURhdGEiLCJjYWNoZSIsInBhcmVDYWNoZVRvTWF4IiwiY3JhZGxlUHJvcHMiLCJjcmFkbGVDb25maWciLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJsaXN0c2l6ZSIsInNjcm9sbFBvcyIsImNlbGxMZW5ndGgiLCJjZWxsSGVpZ2h0IiwiZ2FwIiwiY2VsbFdpZHRoIiwiYXhpc1BpeGVsT2Zmc2V0IiwicGFkZGluZyIsImF4aXNSb3dJbmRleCIsIk1hdGgiLCJjZWlsIiwiYXhpc1JlZmVyZW5jZUluZGV4IiwiY3Jvc3Njb3VudCIsIm1pbiIsImRpZmYiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/scrollhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/servicehandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/servicehandler.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // servicehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ServiceHandler =\n/** @class */\nfunction () {\n  function ServiceHandler(cradleParameters) {\n    var _this = this; // TODO: adjust axisPixelOffset to match new data\n\n\n    this.reload = function () {\n      var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n      var interruptHandler = _this.cradleParameters.handlersRef.current.interruptHandler;\n      interruptHandler.pauseInterrupts();\n      stateHandler.setCradleState('reload');\n    };\n\n    this.clearCache = function () {\n      var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n      stateHandler.setCradleState('clearcache');\n    };\n\n    this.scrollToItem = function (index) {\n      var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n      var _a = _this.cradleParameters.handlersRef.current,\n          scaffoldHandler = _a.scaffoldHandler,\n          stateHandler = _a.stateHandler;\n      signals.pauseScrollingEffects = true;\n      scaffoldHandler.cradlePositionData.targetAxisReferenceIndex = index;\n      stateHandler.setCradleState('doreposition');\n    }; // // TODO: for testing only!\n    // public preload = () => {\n    //     const { stateHandler } = this.cradleParameters.handlersRef.current\n    //     stateHandler.setCradleState('startpreload')\n    // }\n\n\n    this.getCacheList = function () {\n      var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n      return cacheHandler.getCacheList();\n    }; //TODO implement this\n\n\n    this.modifyCacheMapping = function (mappingList) {};\n\n    this.cradleParameters = cradleParameters; // doing this explicitly here for documentation\n\n    var _a = cradleParameters.externalCallbacksRef.current,\n        referenceIndexCallback = _a.referenceIndexCallback,\n        preloadIndexCallback = _a.preloadIndexCallback,\n        cacheDeleteListCallback = _a.cacheDeleteListCallback;\n    var callbacks = {\n      referenceIndexCallback: referenceIndexCallback,\n      preloadIndexCallback: preloadIndexCallback,\n      cacheDeleteListCallback: cacheDeleteListCallback\n    };\n    this.callbacks = callbacks;\n  }\n\n  return ServiceHandler;\n}();\n\nexports[\"default\"] = ServiceHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3NlcnZpY2VoYW5kbGVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7QUFFQTtBQUFBO0FBQUE7RUFFSSx3QkFBWUEsZ0JBQVosRUFBNEI7SUFBNUIsaUJBQTRCLENBeUI1Qjs7O0lBQ08sY0FBUztNQUVKLGdCQUFZLEdBQUtDLEtBQUksQ0FBQ0QsZ0JBQUwsQ0FBc0JFLFdBQXRCLENBQWtDQyxPQUFsQyxDQUF5Q0MsWUFBMUQ7TUFFQSxvQkFBZ0IsR0FBS0gsS0FBSSxDQUFDRCxnQkFBTCxDQUFzQkUsV0FBdEIsQ0FBa0NDLE9BQWxDLENBQXlDRSxnQkFBOUQ7TUFFUkEsZ0JBQWdCLENBQUNDLGVBQWpCO01BRUFGLFlBQVksQ0FBQ0csY0FBYixDQUE0QixRQUE1QjtJQUVILENBVk07O0lBYUEsa0JBQWE7TUFFUixnQkFBWSxHQUFLTixLQUFJLENBQUNELGdCQUFMLENBQXNCRSxXQUF0QixDQUFrQ0MsT0FBbEMsQ0FBeUNDLFlBQTFEO01BRVJBLFlBQVksQ0FBQ0csY0FBYixDQUE0QixZQUE1QjtJQUVILENBTk07O0lBUUEsb0JBQWUsVUFBQ0MsS0FBRCxFQUFNO01BRWhCLFdBQU8sR0FBS1AsS0FBSSxDQUFDRCxnQkFBTCxDQUFzQkUsV0FBdEIsQ0FBa0NDLE9BQWxDLENBQTBDRSxnQkFBMUMsQ0FBMERJLE9BQXRFO01BQ0YsU0FBbUNSLEtBQUksQ0FBQ0QsZ0JBQUwsQ0FBc0JFLFdBQXRCLENBQWtDQyxPQUFyRTtNQUFBLElBQUVPLGVBQWUscUJBQWpCO01BQUEsSUFBbUJOLFlBQVksa0JBQS9CO01BRU5LLE9BQU8sQ0FBQ0UscUJBQVIsR0FBZ0MsSUFBaEM7TUFFQUQsZUFBZSxDQUFDRSxrQkFBaEIsQ0FBbUNDLHdCQUFuQyxHQUE4REwsS0FBOUQ7TUFFQUosWUFBWSxDQUFDRyxjQUFiLENBQTRCLGNBQTVCO0lBRUgsQ0FYTSxDQS9DcUIsQ0E0RDVCO0lBQ0E7SUFFQTtJQUVBO0lBRUE7OztJQUVPLG9CQUFlO01BRVYsZ0JBQVksR0FBS04sS0FBSSxDQUFDRCxnQkFBTCxDQUFzQkUsV0FBdEIsQ0FBa0NDLE9BQWxDLENBQXlDVyxZQUExRDtNQUVSLE9BQU9BLFlBQVksQ0FBQ0MsWUFBYixFQUFQO0lBRUgsQ0FOTSxDQXJFcUIsQ0E2RTVCOzs7SUFDTywwQkFBcUIsVUFBQ0MsV0FBRCxFQUFZLENBRXZDLENBRk07O0lBNUVKLEtBQUtoQixnQkFBTCxHQUF3QkEsZ0JBQXhCLENBRnlCLENBSXpCOztJQUNNLFNBSUZBLGdCQUFnQixDQUFDaUIsb0JBQWpCLENBQXNDZCxPQUpwQztJQUFBLElBQ0ZlLHNCQUFzQiw0QkFEcEI7SUFBQSxJQUVGQyxvQkFBb0IsMEJBRmxCO0lBQUEsSUFHRkMsdUJBQXVCLDZCQUhyQjtJQU1OLElBQU1DLFNBQVMsR0FBRztNQUNkSCxzQkFBc0Isd0JBRFI7TUFFZEMsb0JBQW9CLHNCQUZOO01BR2RDLHVCQUF1QjtJQUhULENBQWxCO0lBTUEsS0FBS0MsU0FBTCxHQUFpQkEsU0FBakI7RUFFRjs7RUErREw7QUFBQyxDQXBGRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3NlcnZpY2VoYW5kbGVyLnRzeD85Y2IwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNlcnZpY2VoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2VIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgICAgIC8vIGRvaW5nIHRoaXMgZXhwbGljaXRseSBoZXJlIGZvciBkb2N1bWVudGF0aW9uXG4gICAgICAgY29uc3Qge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgfSA9IGNyYWRsZVBhcmFtZXRlcnMuZXh0ZXJuYWxDYWxsYmFja3NSZWYuY3VycmVudFxuXG4gICAgICAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgfVxuXG4gICAgICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3NcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIGNhbGxiYWNrc1xuXG4gICAgLy8gVE9ETzogYWRqdXN0IGF4aXNQaXhlbE9mZnNldCB0byBtYXRjaCBuZXcgZGF0YVxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBpbnRlcnJ1cHRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9XG5cblxuICAgIHB1YmxpYyBjbGVhckNhY2hlID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnY2xlYXJjYWNoZScpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2Nyb2xsVG9JdGVtID0gKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG4gICAgICAgIGNvbnN0IHsgc2NhZmZvbGRIYW5kbGVyLCBzdGF0ZUhhbmRsZXJ9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IGluZGV4XG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdkb3JlcG9zaXRpb24nKVxuXG4gICAgfVxuXG4gICAgLy8gLy8gVE9ETzogZm9yIHRlc3Rpbmcgb25seSFcbiAgICAvLyBwdWJsaWMgcHJlbG9hZCA9ICgpID0+IHtcblxuICAgIC8vICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgIC8vICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cHJlbG9hZCcpXG5cbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgZ2V0Q2FjaGVMaXN0ID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIHJldHVybiBjYWNoZUhhbmRsZXIuZ2V0Q2FjaGVMaXN0KClcblxuICAgIH1cblxuICAgIC8vVE9ETyBpbXBsZW1lbnQgdGhpc1xuICAgIHB1YmxpYyBtb2RpZnlDYWNoZU1hcHBpbmcgPSAobWFwcGluZ0xpc3QpID0+IHtcblxuICAgIH1cblxufVxuXG4iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwiaGFuZGxlcnNSZWYiLCJjdXJyZW50Iiwic3RhdGVIYW5kbGVyIiwiaW50ZXJydXB0SGFuZGxlciIsInBhdXNlSW50ZXJydXB0cyIsInNldENyYWRsZVN0YXRlIiwiaW5kZXgiLCJzaWduYWxzIiwic2NhZmZvbGRIYW5kbGVyIiwicGF1c2VTY3JvbGxpbmdFZmZlY3RzIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IiwiY2FjaGVIYW5kbGVyIiwiZ2V0Q2FjaGVMaXN0IiwibWFwcGluZ0xpc3QiLCJleHRlcm5hbENhbGxiYWNrc1JlZiIsInJlZmVyZW5jZUluZGV4Q2FsbGJhY2siLCJwcmVsb2FkSW5kZXhDYWxsYmFjayIsImNhY2hlRGVsZXRlTGlzdENhbGxiYWNrIiwiY2FsbGJhY2tzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/servicehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/statehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/statehandler.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // statehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StateHandler =\n/** @class */\nfunction () {\n  function StateHandler(cradleParameters) {\n    this.cradleParameters = cradleParameters;\n    var internalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n    this.setCradleState = internalProperties.setCradleState;\n    this.cradleStateRef = internalProperties.cradleStateRef;\n    this.isMountedRef = internalProperties.isMountedRef;\n  }\n\n  return StateHandler;\n}();\n\nexports[\"default\"] = StateHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7O0FBRUE7QUFBQTtBQUFBO0VBRUksc0JBQVlBLGdCQUFaLEVBQTRCO0lBRXpCLEtBQUtBLGdCQUFMLEdBQXdCQSxnQkFBeEI7SUFFQSxJQUFNQyxrQkFBa0IsR0FBR0QsZ0JBQWdCLENBQUNFLDJCQUFqQixDQUE2Q0MsT0FBeEU7SUFFQSxLQUFLQyxjQUFMLEdBQXNCSCxrQkFBa0IsQ0FBQ0csY0FBekM7SUFDQSxLQUFLQyxjQUFMLEdBQXNCSixrQkFBa0IsQ0FBQ0ksY0FBekM7SUFDQSxLQUFLQyxZQUFMLEdBQW9CTCxrQkFBa0IsQ0FBQ0ssWUFBdkM7RUFFRjs7RUFRTDtBQUFDLENBcEJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc3RhdGVoYW5kbGVyLnRzeD82Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZUhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgY29uc3QgaW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgdGhpcy5zZXRDcmFkbGVTdGF0ZSA9IGludGVybmFsUHJvcGVydGllcy5zZXRDcmFkbGVTdGF0ZVxuICAgICAgIHRoaXMuY3JhZGxlU3RhdGVSZWYgPSBpbnRlcm5hbFByb3BlcnRpZXMuY3JhZGxlU3RhdGVSZWZcbiAgICAgICB0aGlzLmlzTW91bnRlZFJlZiA9IGludGVybmFsUHJvcGVydGllcy5pc01vdW50ZWRSZWZcbiAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBjcmFkbGVTdGF0ZVJlZlxuICAgIHB1YmxpYyBzZXRDcmFkbGVTdGF0ZVxuICAgIHB1YmxpYyBpc01vdW50ZWRSZWZcblxufVxuIl0sIm5hbWVzIjpbImNyYWRsZVBhcmFtZXRlcnMiLCJpbnRlcm5hbFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjdXJyZW50Iiwic2V0Q3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImlzTW91bnRlZFJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/statehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/styleshandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/styleshandler.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval(" // styleshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StylesHandler =\n/** @class */\nfunction () {\n  function StylesHandler(cradleParameters) {\n    var _this = this;\n\n    this.setCradleStyles = function (_a) {\n      var orientation = _a.orientation,\n          cellHeight = _a.cellHeight,\n          cellWidth = _a.cellWidth,\n          gap = _a.gap,\n          padding = _a.padding,\n          crosscount = _a.crosscount,\n          viewportheight = _a.viewportheight,\n          viewportwidth = _a.viewportwidth,\n          userstyles = _a.userstyles,\n          triggerlineOffset = _a.triggerlineOffset; // TODO: change 'cradle' to 'head' and 'tail' for more granularity\n      // TODO: triggerline offset for head styles experimentally set to negative\n      //    to assure a brealline is always available for notification\n\n      var headstyles = _this.getHeadStyles(gap, padding, orientation, userstyles.cradle);\n\n      var tailstyles = _this.getTailStyles(gap, padding, orientation, userstyles.cradle);\n\n      var axisstyles = _this.getAxisStyles(gap, padding, orientation, userstyles.axis);\n\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n\n      var triggerlineheadstyles = _this.getTriggerlineHeadStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n      var triggerlinetailstyles = _this.getTriggerlineTailStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n      scaffoldHandler.triggerlineSpan = _this.tailTriggerlineOffset - _this.headTriggerlineOffset;\n      var cradledividerstyles = {\n        zIndex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        boxShadow: '0 0 5px 3px red'\n      };\n      headstyles.gridGap = gap + 'px';\n      tailstyles.gridGap = gap + 'px';\n\n      if (orientation == 'horizontal') {\n        headstyles.padding = \"\".concat(padding, \"px 0 \").concat(padding, \"px \").concat(padding, \"px\");\n        headstyles.width = 'auto';\n        headstyles.height = '100%';\n        headstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        headstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n        headstyles.gridTemplateColumns = 'none';\n        tailstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px 0\");\n        tailstyles.width = 'auto';\n        tailstyles.height = '100%';\n        tailstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        tailstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n        tailstyles.gridTemplateColumns = 'none';\n      } else if (orientation == 'vertical') {\n        headstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px 0 \").concat(padding, \"px\");\n        headstyles.width = '100%';\n        headstyles.height = 'auto';\n        headstyles.gridAutoFlow = 'row';\n        headstyles.gridTemplateRows = 'none';\n        headstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fill, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n        tailstyles.padding = \"0 \".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px\");\n        tailstyles.width = '100%';\n        tailstyles.height = 'auto';\n        tailstyles.gridAutoFlow = 'row';\n        tailstyles.gridTemplateRows = 'none';\n        tailstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fill, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n      }\n\n      return [headstyles, tailstyles, axisstyles, triggerlineheadstyles, triggerlinetailstyles, cradledividerstyles];\n    };\n\n    this.getHeadStyles = function (gap, padding, orientation, userheadstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 0;\n        left = 0;\n        right = 0;\n        top = 'auto';\n      } else {\n        bottom = 0;\n        left = 'auto';\n        right = 0;\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        bottom: bottom,\n        left: left,\n        right: right,\n        top: top\n      }), userheadstyles);\n    };\n\n    this.getTailStyles = function (gap, padding, orientation, usertailstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 'auto';\n        left = 0;\n        right = 0;\n        top = 0;\n      } else {\n        bottom = 0;\n        left = 0;\n        right = 'auto';\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        top: top,\n        left: left,\n        right: right,\n        bottom: bottom\n      }), usertailstyles);\n    };\n\n    this.getAxisStyles = function (gap, padding, orientation, useraxisstyles) {\n      var top, left, width, height; // for axis\n\n      if (orientation == 'vertical') {\n        top = padding + 'px';\n        left = 'auto';\n        width = '100%';\n        height = 'auto';\n      } else {\n        top = 'auto';\n        left = padding + 'px';\n        width = 0;\n        height = '100%';\n      }\n\n      return __assign(__assign({}, {\n        position: 'relative',\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      }), useraxisstyles);\n    };\n\n    this.getTriggerlineTailStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n      var transform; // for position relative to axis\n\n      var position = 'absolute',\n          width = '100%',\n          height = '100%';\n      _this.tailTriggerlineOffset = triggerlineOffset;\n\n      if (orientation == 'horizontal') {\n        transform = \"translateX(\".concat(triggerlineOffset + 'px', \")\");\n      } else {\n        transform = \"translateY(\".concat(triggerlineOffset + 'px', \")\");\n      }\n\n      return __assign({}, {\n        position: position,\n        width: width,\n        height: height,\n        transform: transform\n      });\n    };\n\n    this.getTriggerlineHeadStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n      var transform; // for position relative to axis\n\n      var position = 'absolute',\n          width = '100%',\n          height = '100%';\n\n      if (orientation == 'horizontal') {\n        _this.headTriggerlineOffset = -(cellWidth + gap - triggerlineOffset);\n        transform = \"translateX(\".concat(_this.headTriggerlineOffset + 'px', \")\");\n      } else {\n        _this.headTriggerlineOffset = -(cellHeight + gap - triggerlineOffset);\n        transform = \"translateY(\".concat(_this.headTriggerlineOffset + 'px', \")\");\n      }\n\n      return __assign({}, {\n        position: position,\n        width: width,\n        height: height,\n        transform: transform\n      });\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return StylesHandler;\n}();\n\nexports[\"default\"] = StylesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0eWxlc2hhbmRsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBO0FBQUE7RUFFRyx1QkFBWUEsZ0JBQVosRUFBNEI7SUFBNUI7O0lBV1EsdUJBQWtCLFVBQUNDLEVBQUQsRUFheEI7VUFYR0MsV0FBVztVQUNYQyxVQUFVO1VBQ1ZDLFNBQVM7VUFDVEMsR0FBRztVQUNIQyxPQUFPO1VBQ1BDLFVBQVU7VUFDVkMsY0FBYztVQUNkQyxhQUFhO1VBQ2JDLFVBQVU7VUFDVkMsaUJBQWlCLHdCQUVwQixDQUVHO01BQ0E7TUFDQTs7TUFDQSxJQUFNQyxVQUFVLEdBQXVCQyxLQUFJLENBQUNDLGFBQUwsQ0FBbUJULEdBQW5CLEVBQXdCQyxPQUF4QixFQUFpQ0osV0FBakMsRUFBOENRLFVBQVUsQ0FBQ0ssTUFBekQsQ0FBdkM7O01BQ0EsSUFBTUMsVUFBVSxHQUF1QkgsS0FBSSxDQUFDSSxhQUFMLENBQW1CWixHQUFuQixFQUF3QkMsT0FBeEIsRUFBaUNKLFdBQWpDLEVBQThDUSxVQUFVLENBQUNLLE1BQXpELENBQXZDOztNQUNBLElBQU1HLFVBQVUsR0FBdUJMLEtBQUksQ0FBQ00sYUFBTCxDQUFtQmQsR0FBbkIsRUFBd0JDLE9BQXhCLEVBQWlDSixXQUFqQyxFQUE4Q1EsVUFBVSxDQUFDVSxJQUF6RCxDQUF2Qzs7TUFFUSxtQkFBZSxHQUFLUCxLQUFJLENBQUNiLGdCQUFMLENBQXNCcUIsV0FBdEIsQ0FBa0NDLE9BQWxDLENBQXlDQyxlQUE3RDs7TUFDUixJQUFNQyxxQkFBcUIsR0FDdkJYLEtBQUksQ0FBQ1ksd0JBQUwsQ0FBOEJ2QixXQUE5QixFQUEwQ0MsVUFBMUMsRUFBc0RDLFNBQXRELEVBQWlFTyxpQkFBakUsRUFBb0ZOLEdBQXBGLENBREo7O01BRUEsSUFBTXFCLHFCQUFxQixHQUN2QmIsS0FBSSxDQUFDYyx3QkFBTCxDQUE4QnpCLFdBQTlCLEVBQTBDQyxVQUExQyxFQUFz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RTs7TUFFZCxJQUFJckIsUUFBUSxHQUFHLFVBQWY7TUFBQSxJQUNJQyxLQUFLLEdBQUcsTUFEWjtNQUFBLElBRUlDLE1BQU0sR0FBRyxNQUZiOztNQUdBLElBQUlqQyxXQUFXLElBQUksWUFBbkIsRUFBaUM7UUFDN0JXLEtBQUksQ0FBQ2lCLHFCQUFMLEdBQTZCLEVBQUUxQixTQUFTLEdBQUdDLEdBQVosR0FBaUJNLGlCQUFuQixDQUE3QjtRQUNBMkMsU0FBUyxHQUFHLHFCQUFjekMsS0FBSSxDQUFDaUIscUJBQUwsR0FBNkIsSUFBM0MsRUFBK0MsR0FBL0MsQ0FBWjtNQUNILENBSEQsTUFHTztRQUNIakIsS0FBSSxDQUFDaUIscUJBQUwsR0FBNkIsRUFBRTNCLFVBQVUsR0FBR0UsR0FBYixHQUFrQk0saUJBQXBCLENBQTdCO1FBQ0EyQyxTQUFTLEdBQUcscUJBQWN6QyxLQUFJLENBQUNpQixxQkFBTCxHQUE2QixJQUEzQyxFQUErQyxHQUEvQyxDQUFaO01BQ0g7O01BQ0Qsb0JBQVk7UUFDUkcsUUFBUSxVQURBO1FBRVJDLEtBQUssT0FGRztRQUdSQyxNQUFNLFFBSEU7UUFJUm1CLFNBQVM7TUFKRCxDQUFaO0lBTUgsQ0FuQk87O0lBNU9OLEtBQUt0RCxnQkFBTCxHQUF3QkEsZ0JBQXhCO0VBRUQ7O0VBOFBMO0FBQUMsQ0FwUUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zdHlsZXNoYW5kbGVyLnRzeD80NWRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlc2hhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVzSGFuZGxlciB7IFxuXG4gICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHJpdmF0ZSBoZWFkVHJpZ2dlcmxpbmVPZmZzZXRcbiAgICBwcml2YXRlIHRhaWxUcmlnZ2VybGluZU9mZnNldFxuXG4gICAgcHVibGljIHNldENyYWRsZVN0eWxlcyA9ICh7XG5cbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgdXNlcnN0eWxlcyxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG5cbiAgICB9KSA9PiB7XG5cbiAgICAgICAgLy8gVE9ETzogY2hhbmdlICdjcmFkbGUnIHRvICdoZWFkJyBhbmQgJ3RhaWwnIGZvciBtb3JlIGdyYW51bGFyaXR5XG4gICAgICAgIC8vIFRPRE86IHRyaWdnZXJsaW5lIG9mZnNldCBmb3IgaGVhZCBzdHlsZXMgZXhwZXJpbWVudGFsbHkgc2V0IHRvIG5lZ2F0aXZlXG4gICAgICAgIC8vICAgIHRvIGFzc3VyZSBhIGJyZWFsbGluZSBpcyBhbHdheXMgYXZhaWxhYmxlIGZvciBub3RpZmljYXRpb25cbiAgICAgICAgY29uc3QgaGVhZHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdGhpcy5nZXRIZWFkU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXMuY3JhZGxlKVxuICAgICAgICBjb25zdCB0YWlsc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB0aGlzLmdldFRhaWxTdHlsZXMoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbiwgdXNlcnN0eWxlcy5jcmFkbGUpXG4gICAgICAgIGNvbnN0IGF4aXNzdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHRoaXMuZ2V0QXhpc1N0eWxlcyhnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2Vyc3R5bGVzLmF4aXMpXG5cbiAgICAgICAgY29uc3QgeyBzY2FmZm9sZEhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHRyaWdnZXJsaW5laGVhZHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gXG4gICAgICAgICAgICB0aGlzLmdldFRyaWdnZXJsaW5lSGVhZFN0eWxlcyhvcmllbnRhdGlvbixjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApXG4gICAgICAgIGNvbnN0IHRyaWdnZXJsaW5ldGFpbHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gXG4gICAgICAgICAgICB0aGlzLmdldFRyaWdnZXJsaW5lVGFpbFN0eWxlcyhvcmllbnRhdGlvbixjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApXG4gICAgICAgIHNjYWZmb2xkSGFuZGxlci50cmlnZ2VybGluZVNwYW4gPSB0aGlzLnRhaWxUcmlnZ2VybGluZU9mZnNldCAtIHRoaXMuaGVhZFRyaWdnZXJsaW5lT2Zmc2V0XG5cbiAgICAgICAgY29uc3QgY3JhZGxlZGl2aWRlcnN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgekluZGV4OjEsIFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxuICAgICAgICAgICAgICAgIGhlaWdodDonMTAwJScsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OicwIDAgNXB4IDNweCByZWQnXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaGVhZHN0eWxlcy5ncmlkR2FwID0gZ2FwICsgJ3B4J1xuXG4gICAgICAgIHRhaWxzdHlsZXMuZ3JpZEdhcCA9IGdhcCArICdweCdcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggMCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgLy8gZXhwbGljdCBjcm9zc2NvdW50IG5leHQgbGluZSBhcyB3b3JrYXJvdW5kIGZvciBGRiBwcm9ibGVtIC0gXG4gICAgICAgICAgICAvLyAgICAgc2V0cyBsZW5ndGggb2YgaG9yaXogY3JhZGxlIGl0ZW1zIGluIG9uZSBsaW5lIChyb3cpLCBub3QgbXVsdGktcm93IGNvbmZpZ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gJ25vbmUnXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwYFxuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgLy8gZXhwbGljdCBjcm9zc2NvdW50IG5leHQgbGluZSBhcyB3b3JrYXJvdW5kIGZvciBGRiBwcm9ibGVtIC0gXG4gICAgICAgICAgICAvLyAgICAgc2V0cyBsZW5ndGggb2YgaG9yaXogY3JhZGxlIGl0ZW1zIGluIG9uZSBsaW5lIChyb3cpLCBub3QgbXVsdGktcm93IGNvbmZpZ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gJ25vbmUnXG5cbiAgICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4IDAgJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAncm93J1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSAnbm9uZSdcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IFxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgke2NlbGxXaWR0aH1weCwgMWZyKSlgOlxuICAgICAgICAgICAgICAgICAgICAnYXV0bydcblxuICAgICAgICAgICAgdGFpbHN0eWxlcy5wYWRkaW5nID0gYDAgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMud2lkdGggPSAnMTAwJSdcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuaGVpZ2h0ID0gJ2F1dG8nXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdyb3cnXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9ICdub25lJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoP1xuICAgICAgICAgICAgICAgICAgICBgcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgaGVhZHN0eWxlcyxcbiAgICAgICAgICAgIHRhaWxzdHlsZXMsXG4gICAgICAgICAgICBheGlzc3R5bGVzLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmVoZWFkc3R5bGVzLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmV0YWlsc3R5bGVzLFxuICAgICAgICAgICAgY3JhZGxlZGl2aWRlcnN0eWxlc1xuICAgICAgICBdXG4gICAgICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SGVhZFN0eWxlcyA9IChnYXAscGFkZGluZyxvcmllbnRhdGlvbix1c2VyaGVhZHN0eWxlcykgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9IDBcbiAgICAgICAgICAgIHJpZ2h0ID0gMFxuICAgICAgICAgICAgdG9wID0gJ2F1dG8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b20gPSAwXG4gICAgICAgICAgICBsZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7Li4ue1xuXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgZ3JpZEdhcDogZ2FwICsgJ3B4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcgKyAncHgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGFsaWduQ29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIHRvcCxcblxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsLi4udXNlcmhlYWRzdHlsZXN9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRhaWxTdHlsZXMgPSAoZ2FwLHBhZGRpbmcsb3JpZW50YXRpb24sdXNlcnRhaWxzdHlsZXMpID0+IHtcblxuICAgICAgICBsZXQgYm90dG9tLCBsZWZ0LCB0b3AsIHJpZ2h0XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGJvdHRvbSA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IDBcbiAgICAgICAgICAgIHJpZ2h0ID0gMFxuICAgICAgICAgICAgdG9wID0gMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9IDBcbiAgICAgICAgICAgIHJpZ2h0ID0gJ2F1dG8nXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gey4uLntcblxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgIGdyaWRHYXA6IGdhcCArICdweCcsXG4gICAgICAgICAgICBwYWRkaW5nOiBwYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBhbGlnbkNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib3R0b20sXG5cbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLC4uLnVzZXJ0YWlsc3R5bGVzfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBeGlzU3R5bGVzID0gKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJheGlzc3R5bGVzKSA9PiB7XG4gICAgICAgIGxldCB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgLy8gZm9yIGF4aXNcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdG9wID0gcGFkZGluZyArICdweCdcbiAgICAgICAgICAgIGxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IHBhZGRpbmcgKyAncHgnXG4gICAgICAgICAgICB3aWR0aCA9IDBcbiAgICAgICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG5cbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLC4uLnVzZXJheGlzc3R5bGVzfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUcmlnZ2VybGluZVRhaWxTdHlsZXMgPSAob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcCkgPT4ge1xuICAgICAgICBsZXQgdHJhbnNmb3JtIC8vIGZvciBwb3NpdGlvbiByZWxhdGl2ZSB0byBheGlzXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnLFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG5cbiAgICAgICAgdGhpcy50YWlsVHJpZ2dlcmxpbmVPZmZzZXQgPSB0cmlnZ2VybGluZU9mZnNldFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke3RyaWdnZXJsaW5lT2Zmc2V0ICsgJ3B4J30pYFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLntcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc31cbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0VHJpZ2dlcmxpbmVIZWFkU3R5bGVzID0gKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApID0+IHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybSAvLyBmb3IgcG9zaXRpb24gcmVsYXRpdmUgdG8gYXhpc1xuXG4gICAgICAgIGxldCBwb3NpdGlvbiA9ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB3aWR0aCA9ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRUcmlnZ2VybGluZU9mZnNldCA9IC0oY2VsbFdpZHRoICsgZ2FwIC10cmlnZ2VybGluZU9mZnNldClcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dGhpcy5oZWFkVHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRUcmlnZ2VybGluZU9mZnNldCA9IC0oY2VsbEhlaWdodCArIGdhcCAtdHJpZ2dlcmxpbmVPZmZzZXQpXG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke3RoaXMuaGVhZFRyaWdnZXJsaW5lT2Zmc2V0ICsgJ3B4J30pYFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLntcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc31cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsIl9hIiwib3JpZW50YXRpb24iLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwiZ2FwIiwicGFkZGluZyIsImNyb3NzY291bnQiLCJ2aWV3cG9ydGhlaWdodCIsInZpZXdwb3J0d2lkdGgiLCJ1c2Vyc3R5bGVzIiwidHJpZ2dlcmxpbmVPZmZzZXQiLCJoZWFkc3R5bGVzIiwiX3RoaXMiLCJnZXRIZWFkU3R5bGVzIiwiY3JhZGxlIiwidGFpbHN0eWxlcyIsImdldFRhaWxTdHlsZXMiLCJheGlzc3R5bGVzIiwiZ2V0QXhpc1N0eWxlcyIsImF4aXMiLCJoYW5kbGVyc1JlZiIsImN1cnJlbnQiLCJzY2FmZm9sZEhhbmRsZXIiLCJ0cmlnZ2VybGluZWhlYWRzdHlsZXMiLCJnZXRUcmlnZ2VybGluZUhlYWRTdHlsZXMiLCJ0cmlnZ2VybGluZXRhaWxzdHlsZXMiLCJnZXRUcmlnZ2VybGluZVRhaWxTdHlsZXMiLCJ0cmlnZ2VybGluZVNwYW4iLCJ0YWlsVHJpZ2dlcmxpbmVPZmZzZXQiLCJoZWFkVHJpZ2dlcmxpbmVPZmZzZXQiLCJjcmFkbGVkaXZpZGVyc3R5bGVzIiwiekluZGV4IiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImJveFNoYWRvdyIsImdyaWRHYXAiLCJjb25jYXQiLCJncmlkQXV0b0Zsb3ciLCJncmlkVGVtcGxhdGVSb3dzIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInVzZXJoZWFkc3R5bGVzIiwiYm90dG9tIiwibGVmdCIsInRvcCIsInJpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25Db250ZW50IiwiYm94U2l6aW5nIiwidXNlcnRhaWxzdHlsZXMiLCJ1c2VyYXhpc3N0eWxlcyIsInRyYW5zZm9ybSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/styleshandler.tsx\n");

/***/ }),

/***/ "./src/infinitegridscroller.tsx":
/*!**************************************!*\
  !*** ./src/infinitegridscroller.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // infinitegridscroller.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    react-infinite-grid-scroller = RIGS\n\n    ROADMAP:\n        // cache management\n            // cacheMax; cacheMax over-run\n            // preload\n            // keepload\n            // cradle\n            cache mapping modification by user\n\n        surface cache, cacheMax & runway etc to test options\n        also surface external callbacks for testing\n        review all code\n\n        layout: uniform, variable, dynamic, dense\n        insert, remove, swap functions (create cacheItemID reference system)\n\n        test changing all gridscroller parameters\n        test config size edge cases - over and under sized cells\n\n        create demo site - github pages, and sandbox\n        release to npm\n\n    BUGS:\n        //- rapid scrolling up with full cache can lead to overshoot just shy of reposition,\n        //    with trigger lines out of view\n        // - time lag before repositioning the trigger lines - promises?\n        // - when sublist is in scroll motion when being reparented, block scrollpos is not properly recovered\n        // - item 400 in 400 item nested list of scrollers crosscount = 3 takes up entire width of viewport\n\n    TODO:\n        - modifyCacheMapping instruction by user\n        - call matchCacheToCradle through contentHandler (?) iac rationalize calls to cacheHandler\n        - test and review cacheItemID\n        - implement changeOrder callback for user - cellFrame index prop must be updated\n        - use cacheItemID for referencing; index for order - cellFrame reload to re-order?\n        - review state change chains in cradle\n        - check preload intent against state machine handling\n        - rationalize await handling everywhere to behave like promises\n        // - rationalize external callbacks routing\n        // callback for user re preload\n        error handling for preload items -- allow recovery\n        test for memory leaks with Chrome's window.performance.memory property\n        try to reduce need to run renderportallist - try some kind of pagination/grouping\n        replace top/left with transformx/y\n        prioritize fetch cells for visible cells\n        customizable scrolltracker, or provide callback feature for scroll tracking\n        reload from/to for insertions and substitutions\n        check use of useCallback\n        test for two root portals\n        promote system constants to 'advanced' parameter, eg RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE\n        calc minwidth by form factor\n        review scroller-frame for appropriate dimensions - s/b inset:0;position:absolute\n        add grid-template-rows: max-content to parent for safari issue grid-auto-flow: column not filling column\n        cross-browser testing\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __importDefault(__webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"));\n\nvar scrollblock_1 = __importDefault(__webpack_require__(/*! ./scrollblock */ \"./src/scrollblock.tsx\"));\n\nvar cradle_1 = __importDefault(__webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\"));\n\nvar cachehandler_1 = __webpack_require__(/*! ./cradle/cachehandler */ \"./src/cradle/cachehandler.tsx\"); // -------------------[ global session ID generator ]----------------\n\n\nvar globalScrollerID = 0; // ===================================[ INITIALIZE ]===========================\n\n/*\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the scrollblock, fullsize for adjusted cell height/width, which in turn contains the cradle\n        - a component that contains CellFrames (which contain displayed items or transitional placeholders).\n    The CellFrames are skeletons which contain the host content components.\n\n    Host content is created in a portal cache (via PortalAgent) and then portal'd to its host CellFrame\n\n    Scrollblock virtually represents the entirety of the list, and is the scroller\n\n    Cradle contains the list items, and is 'virtualized' -- it appears as\n      though it is the full scrollblock, but in fact it is only slightly larger than\n      the viewport.\n    - individual items are framed by CellFrame, managed by Cradle\n\n    Overall the infinitegridscroller manages the (often asynchronous) interactions of the\n    components of the mechanism\n*/\n\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  // ------------------[ normalize properties ]--------------------\n  // const props = Object.assign({},args) // args should be immutable\n  var // grid specs\n  orientation = props.orientation,\n      // vertical or horizontal\n  gap = props.gap,\n      // space between grid cells, not including the leading and trailing edges\n  padding = props.padding,\n      // the space between the items and the viewport, applied to the cradle\n  cellHeight = props.cellHeight,\n      // the outer pixel height - literal for vertical; approximate for horizontal\n  cellWidth = props.cellWidth,\n      // the outer pixel width - literal for horizontal; approximate for vertical\n  layout = props.layout,\n      // uniform, variable (doesn't use axis), dynamic (uses axis), dense\n  // scroller specs\n  runwaySize = props.runwaySize,\n      // the number of items outside the view of each side of the viewport \n  // -- gives time to assemble before display\n  listSize = props.listSize,\n      // the exact number of the size of the virtual list; will eventually be changable.\n  indexOffset = props.indexOffset,\n      // the 0-based starting index of the list, when first loaded\n  getItem = props.getItem,\n      // function provided by host - parameter is index number, set by system; return value is \n  // host-selected component or promise of a component\n  functions = props.functions,\n      // properties to get direct access to some component utilites, optional\n  placeholder = props.placeholder,\n      // a sparse component to stand in for content until the content arrives; \n  // optional, replaces default placeholder\n  styles = props.styles,\n      // passive style over-rides (eg. color, opacity); has \n  // properties viewport, scrollblock, cradle, or scrolltracker\n  // system specs\n  cache = props.cache,\n      // \"preload\", \"keepload\" or \"cradle\"\n  cacheMax = props.cacheMax,\n      // (always minimum cradle)\n  advanced = props.advanced,\n      // technical settings like useRequestIdleCallback, and RequestIdleCallbackTimeout\n  triggerlineOffset = props.triggerlineOffset,\n      scrollerData = props.scrollerData;\n  var gridSpecs = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout\n  }; // allow scrollerID to be set by useEffect. Inline setting causes double processing\n\n  var _a = (0, react_1.useState)('setup'),\n      scrollerState = _a[0],\n      setScrollerState = _a[1]; // set defaults\n\n\n  functions !== null && functions !== void 0 ? functions : functions = {};\n  styles !== null && styles !== void 0 ? styles : styles = {};\n  gap !== null && gap !== void 0 ? gap : gap = 0;\n  padding !== null && padding !== void 0 ? padding : padding = 0;\n  runwaySize !== null && runwaySize !== void 0 ? runwaySize : runwaySize = 3;\n  runwaySize = Math.max(0, runwaySize);\n  indexOffset !== null && indexOffset !== void 0 ? indexOffset : indexOffset = 0;\n  listSize !== null && listSize !== void 0 ? listSize : listSize = 0;\n  listSize = Math.max(0, listSize);\n  layout !== null && layout !== void 0 ? layout : layout = 'uniform';\n  cache !== null && cache !== void 0 ? cache : cache = 'cradle';\n  cacheMax !== null && cacheMax !== void 0 ? cacheMax : cacheMax = 100; // constraints\n\n  indexOffset = Math.max(0, indexOffset); // non-negative\n\n  indexOffset = Math.min(listSize - 1, indexOffset); // not larger than list\n\n  if (!['horizontal', 'vertical'].includes(orientation)) {\n    orientation = 'vertical';\n  }\n\n  if (!['preload', 'keepload', 'cradle'].includes(cache)) {\n    cache = 'cradle';\n  } // TODO: rationalize with cellHeight & cellWidth; must be less than half\n\n\n  triggerlineOffset !== null && triggerlineOffset !== void 0 ? triggerlineOffset : triggerlineOffset = 10;\n  var gridSpecsRef = (0, react_1.useRef)(gridSpecs);\n  var stylesRef = (0, react_1.useRef)(styles);\n  var functionsRef = (0, react_1.useRef)(functions);\n  var defaultVisibleIndex = indexOffset; // satisfy React Object.is for attributes\n\n  if (!compareProps(gridSpecs, gridSpecsRef.current)) {\n    gridSpecsRef.current = gridSpecs;\n  }\n\n  if (!compareProps(styles, stylesRef.current)) {\n    stylesRef.current = styles;\n  }\n\n  if (!compareProps(functions, functionsRef.current)) {\n    functionsRef.current = functions;\n  } // for mount\n\n\n  var scrollerSessionIDRef = (0, react_1.useRef)(null);\n  var cacheHandlerRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    scrollerSessionIDRef.current = globalScrollerID++;\n    cacheHandlerRef.current = new cachehandler_1.CacheHandler(scrollerSessionIDRef.current);\n  }, []);\n  var scrollerID = scrollerSessionIDRef.current; // console.log('infinite scroller scrollerID, scrollerState, cache, cacheMax', \n  //     '-'+scrollerID+'-',scrollerState, cache, cacheMax)\n  // --------------------[ render ]---------------------\n\n  (0, react_1.useEffect)(function () {\n    switch (scrollerState) {\n      case 'setup':\n        setScrollerState('ready');\n    }\n  }, [scrollerState]);\n  return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null, scrollerState != 'setup' && react_1[\"default\"].createElement(viewport_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerData: scrollerData,\n    scrollerID: scrollerID\n  }, react_1[\"default\"].createElement(scrollblock_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    listsize: listSize,\n    scrollerID: scrollerID\n  }, react_1[\"default\"].createElement(cradle_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    listsize: listSize,\n    cache: cache,\n    cacheMax: cacheMax,\n    functions: functionsRef.current,\n    defaultVisibleIndex: defaultVisibleIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    runwaySize: runwaySize,\n    triggerlineOffset: triggerlineOffset,\n    cacheHandler: cacheHandlerRef.current,\n    scrollerID: scrollerID\n  }))), scrollerState != 'setup' && react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cacheroot',\n    style: cacherootstyle\n  }, react_1[\"default\"].createElement(cachehandler_1.PortalList, {\n    cacheProps: cacheHandlerRef.current.cacheProps\n  })));\n};\n\nvar cacherootstyle = {\n  display: 'none'\n}; // static, out of view \n\nexports[\"default\"] = InfiniteGridScroller; // utilities\n\nfunction compareProps(obj1, obj2) {\n  var keys = Object.keys(obj1);\n  var same;\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var key = keys_1[_i];\n\n    if (!Object.is(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMERBOztBQUVBOztBQUNBOztBQUNBOztBQUVBLHVHLENBRUE7OztBQUVBLElBQUlBLGdCQUFnQixHQUFHLENBQXZCLEMsQ0FFQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxJQUFNQyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLENBQUNDLEtBQUQsRUFBTTtFQUUvQjtFQUVBO0VBSUksSUFEQTtFQUNBQyxXQUFXLEdBd0JYRCxLQUFLLFlBeEJMO0VBQUEsSUFBYTtFQUNiRSxHQUFHLEdBdUJIRixLQUFLLElBeEJMO0VBQUEsSUFDSztFQUNMRyxPQUFPLEdBc0JQSCxLQUFLLFFBeEJMO0VBQUEsSUFFUztFQUNUSSxVQUFVLEdBcUJWSixLQUFLLFdBeEJMO0VBQUEsSUFHWTtFQUNaSyxTQUFTLEdBb0JUTCxLQUFLLFVBeEJMO0VBQUEsSUFJVztFQUNYTSxNQUFNLEdBbUJOTixLQUFLLE9BeEJMO0VBQUEsSUFLUTtFQUNSO0VBQ0FPLFVBQVUsR0FpQlZQLEtBQUssV0F4Qkw7RUFBQSxJQU9ZO0VBQ1I7RUFDSlEsUUFBUSxHQWVSUixLQUFLLFNBeEJMO0VBQUEsSUFTVTtFQUNWUyxXQUFXLEdBY1hULEtBQUssWUF4Qkw7RUFBQSxJQVVhO0VBQ2JVLE9BQU8sR0FhUFYsS0FBSyxRQXhCTDtFQUFBLElBV1M7RUFDTDtFQUNKVyxTQUFTLEdBV1RYLEtBQUssVUF4Qkw7RUFBQSxJQWFXO0VBQ1hZLFdBQVcsR0FVWFosS0FBSyxZQXhCTDtFQUFBLElBY2E7RUFDVDtFQUNKYSxNQUFNLEdBUU5iLEtBQUssT0F4Qkw7RUFBQSxJQWdCUTtFQUNKO0VBQ0o7RUFD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LElBQUksQ0FBQ0gsTUFBTSxDQUFDSSxFQUFQLENBQVVQLElBQUksQ0FBQ00sR0FBRCxDQUFkLEVBQW9CTCxJQUFJLENBQUNLLEdBQUQsQ0FBeEIsQ0FBTCxFQUFxQztNQUNqQyxPQUFPLEtBQVA7SUFDSDtFQUNKOztFQUNELE9BQU8sSUFBUDtBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9pbmZpbml0ZWdyaWRzY3JvbGxlci50c3g/NjNlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbmZpbml0ZWdyaWRzY3JvbGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIyIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlciA9IFJJR1NcblxuICAgIFJPQURNQVA6XG4gICAgICAgIC8vIGNhY2hlIG1hbmFnZW1lbnRcbiAgICAgICAgICAgIC8vIGNhY2hlTWF4OyBjYWNoZU1heCBvdmVyLXJ1blxuICAgICAgICAgICAgLy8gcHJlbG9hZFxuICAgICAgICAgICAgLy8ga2VlcGxvYWRcbiAgICAgICAgICAgIC8vIGNyYWRsZVxuICAgICAgICAgICAgY2FjaGUgbWFwcGluZyBtb2RpZmljYXRpb24gYnkgdXNlclxuXG4gICAgICAgIHN1cmZhY2UgY2FjaGUsIGNhY2hlTWF4ICYgcnVud2F5IGV0YyB0byB0ZXN0IG9wdGlvbnNcbiAgICAgICAgYWxzbyBzdXJmYWNlIGV4dGVybmFsIGNhbGxiYWNrcyBmb3IgdGVzdGluZ1xuICAgICAgICByZXZpZXcgYWxsIGNvZGVcblxuICAgICAgICBsYXlvdXQ6IHVuaWZvcm0sIHZhcmlhYmxlLCBkeW5hbWljLCBkZW5zZVxuICAgICAgICBpbnNlcnQsIHJlbW92ZSwgc3dhcCBmdW5jdGlvbnMgKGNyZWF0ZSBjYWNoZUl0ZW1JRCByZWZlcmVuY2Ugc3lzdGVtKVxuXG4gICAgICAgIHRlc3QgY2hhbmdpbmcgYWxsIGdyaWRzY3JvbGxlciBwYXJhbWV0ZXJzXG4gICAgICAgIHRlc3QgY29uZmlnIHNpemUgZWRnZSBjYXNlcyAtIG92ZXIgYW5kIHVuZGVyIHNpemVkIGNlbGxzXG5cbiAgICAgICAgY3JlYXRlIGRlbW8gc2l0ZSAtIGdpdGh1YiBwYWdlcywgYW5kIHNhbmRib3hcbiAgICAgICAgcmVsZWFzZSB0byBucG1cblxuICAgIEJVR1M6IFxuICAgICAgICAvLy0gcmFwaWQgc2Nyb2xsaW5nIHVwIHdpdGggZnVsbCBjYWNoZSBjYW4gbGVhZCB0byBvdmVyc2hvb3QganVzdCBzaHkgb2YgcmVwb3NpdGlvbixcbiAgICAgICAgLy8gICAgd2l0aCB0cmlnZ2VyIGxpbmVzIG91dCBvZiB2aWV3XG4gICAgICAgIC8vIC0gdGltZSBsYWcgYmVmb3JlIHJlcG9zaXRpb25pbmcgdGhlIHRyaWdnZXIgbGluZXMgLSBwcm9taXNlcz9cbiAgICAgICAgLy8gLSB3aGVuIHN1Ymxpc3QgaXMgaW4gc2Nyb2xsIG1vdGlvbiB3aGVuIGJlaW5nIHJlcGFyZW50ZWQsIGJsb2NrIHNjcm9sbHBvcyBpcyBub3QgcHJvcGVybHkgcmVjb3ZlcmVkXG4gICAgICAgIC8vIC0gaXRlbSA0MDAgaW4gNDAwIGl0ZW0gbmVzdGVkIGxpc3Qgb2Ygc2Nyb2xsZXJzIGNyb3NzY291bnQgPSAzIHRha2VzIHVwIGVudGlyZSB3aWR0aCBvZiB2aWV3cG9ydFxuXG4gICAgVE9ETzpcbiAgICAgICAgLSBtb2RpZnlDYWNoZU1hcHBpbmcgaW5zdHJ1Y3Rpb24gYnkgdXNlclxuICAgICAgICAtIGNhbGwgbWF0Y2hDYWNoZVRvQ3JhZGxlIHRocm91Z2ggY29udGVudEhhbmRsZXIgKD8pIGlhYyByYXRpb25hbGl6ZSBjYWxscyB0byBjYWNoZUhhbmRsZXJcbiAgICAgICAgLSB0ZXN0IGFuZCByZXZpZXcgY2FjaGVJdGVtSURcbiAgICAgICAgLSBpbXBsZW1lbnQgY2hhbmdlT3JkZXIgY2FsbGJhY2sgZm9yIHVzZXIgLSBjZWxsRnJhbWUgaW5kZXggcHJvcCBtdXN0IGJlIHVwZGF0ZWRcbiAgICAgICAgLSB1c2UgY2FjaGVJdGVtSUQgZm9yIHJlZmVyZW5jaW5nOyBpbmRleCBmb3Igb3JkZXIgLSBjZWxsRnJhbWUgcmVsb2FkIHRvIHJlLW9yZGVyP1xuICAgICAgICAtIHJldmlldyBzdGF0ZSBjaGFuZ2UgY2hhaW5zIGluIGNyYWRsZVxuICAgICAgICAtIGNoZWNrIHByZWxvYWQgaW50ZW50IGFnYWluc3Qgc3RhdGUgbWFjaGluZSBoYW5kbGluZ1xuICAgICAgICAtIHJhdGlvbmFsaXplIGF3YWl0IGhhbmRsaW5nIGV2ZXJ5d2hlcmUgdG8gYmVoYXZlIGxpa2UgcHJvbWlzZXNcbiAgICAgICAgLy8gLSByYXRpb25hbGl6ZSBleHRlcm5hbCBjYWxsYmFja3Mgcm91dGluZ1xuICAgICAgICAvLyBjYWxsYmFjayBmb3IgdXNlciByZSBwcmVsb2FkXG4gICAgICAgIGVycm9yIGhhbmRsaW5nIGZvciBwcmVsb2FkIGl0ZW1zIC0tIGFsbG93IHJlY292ZXJ5XG4gICAgICAgIHRlc3QgZm9yIG1lbW9yeSBsZWFrcyB3aXRoIENocm9tZSdzIHdpbmRvdy5wZXJmb3JtYW5jZS5tZW1vcnkgcHJvcGVydHlcbiAgICAgICAgdHJ5IHRvIHJlZHVjZSBuZWVkIHRvIHJ1biByZW5kZXJwb3J0YWxsaXN0IC0gdHJ5IHNvbWUga2luZCBvZiBwYWdpbmF0aW9uL2dyb3VwaW5nXG4gICAgICAgIHJlcGxhY2UgdG9wL2xlZnQgd2l0aCB0cmFuc2Zvcm14L3lcbiAgICAgICAgcHJpb3JpdGl6ZSBmZXRjaCBjZWxscyBmb3IgdmlzaWJsZSBjZWxsc1xuICAgICAgICBjdXN0b21pemFibGUgc2Nyb2xsdHJhY2tlciwgb3IgcHJvdmlkZSBjYWxsYmFjayBmZWF0dXJlIGZvciBzY3JvbGwgdHJhY2tpbmdcbiAgICAgICAgcmVsb2FkIGZyb20vdG8gZm9yIGluc2VydGlvbnMgYW5kIHN1YnN0aXR1dGlvbnNcbiAgICAgICAgY2hlY2sgdXNlIG9mIHVzZUNhbGxiYWNrXG4gICAgICAgIHRlc3QgZm9yIHR3byByb290IHBvcnRhbHNcbiAgICAgICAgcHJvbW90ZSBzeXN0ZW0gY29uc3RhbnRzIHRvICdhZHZhbmNlZCcgcGFyYW1ldGVyLCBlZyBSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkVcbiAgICAgICAgY2FsYyBtaW53aWR0aCBieSBmb3JtIGZhY3RvclxuICAgICAgICByZXZpZXcgc2Nyb2xsZXItZnJhbWUgZm9yIGFwcHJvcHJpYXRlIGRpbWVuc2lvbnMgLSBzL2IgaW5zZXQ6MDtwb3NpdGlvbjphYnNvbHV0ZVxuICAgICAgICBhZGQgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXgtY29udGVudCB0byBwYXJlbnQgZm9yIHNhZmFyaSBpc3N1ZSBncmlkLWF1dG8tZmxvdzogY29sdW1uIG5vdCBmaWxsaW5nIGNvbHVtblxuICAgICAgICBjcm9zcy1icm93c2VyIHRlc3RpbmdcbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBWaWV3cG9ydCBmcm9tICcuL3ZpZXdwb3J0J1xuaW1wb3J0IFNjcm9sbGJsb2NrIGZyb20gJy4vc2Nyb2xsYmxvY2snXG5pbXBvcnQgQ3JhZGxlIGZyb20gJy4vY3JhZGxlJ1xuXG5pbXBvcnQgeyBDYWNoZUhhbmRsZXIsIFBvcnRhbExpc3QgfSBmcm9tICcuL2NyYWRsZS9jYWNoZWhhbmRsZXInXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1bIGdsb2JhbCBzZXNzaW9uIElEIGdlbmVyYXRvciBdLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgZ2xvYmFsU2Nyb2xsZXJJRCA9IDBcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkUgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKlxuICAgIFRoZSBqb2Igb2YgSW5maW5pdGVHcmlkU2Nyb2xsZXIgaXMgdG8gcGFzcyBwYXJhbWV0ZXJzIHRvIGRlcGVuZGVudHMuXG4gICAgVmlld3BvcnQgY29udGFpbnMgdGhlIHNjcm9sbGJsb2NrLCBmdWxsc2l6ZSBmb3IgYWRqdXN0ZWQgY2VsbCBoZWlnaHQvd2lkdGgsIHdoaWNoIGluIHR1cm4gY29udGFpbnMgdGhlIGNyYWRsZSBcbiAgICAgICAgLSBhIGNvbXBvbmVudCB0aGF0IGNvbnRhaW5zIENlbGxGcmFtZXMgKHdoaWNoIGNvbnRhaW4gZGlzcGxheWVkIGl0ZW1zIG9yIHRyYW5zaXRpb25hbCBwbGFjZWhvbGRlcnMpLiBcbiAgICBUaGUgQ2VsbEZyYW1lcyBhcmUgc2tlbGV0b25zIHdoaWNoIGNvbnRhaW4gdGhlIGhvc3QgY29udGVudCBjb21wb25lbnRzLlxuXG4gICAgSG9zdCBjb250ZW50IGlzIGNyZWF0ZWQgaW4gYSBwb3J0YWwgY2FjaGUgKHZpYSBQb3J0YWxBZ2VudCkgYW5kIHRoZW4gcG9ydGFsJ2QgdG8gaXRzIGhvc3QgQ2VsbEZyYW1lXG5cbiAgICBTY3JvbGxibG9jayB2aXJ0dWFsbHkgcmVwcmVzZW50cyB0aGUgZW50aXJldHkgb2YgdGhlIGxpc3QsIGFuZCBpcyB0aGUgc2Nyb2xsZXJcblxuICAgIENyYWRsZSBjb250YWlucyB0aGUgbGlzdCBpdGVtcywgYW5kIGlzICd2aXJ0dWFsaXplZCcgLS0gaXQgYXBwZWFycyBhc1xuICAgICAgdGhvdWdoIGl0IGlzIHRoZSBmdWxsIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuXG4gICAgICB0aGUgdmlld3BvcnQuXG4gICAgLSBpbmRpdmlkdWFsIGl0ZW1zIGFyZSBmcmFtZWQgYnkgQ2VsbEZyYW1lLCBtYW5hZ2VkIGJ5IENyYWRsZVxuXG4gICAgT3ZlcmFsbCB0aGUgaW5maW5pdGVncmlkc2Nyb2xsZXIgbWFuYWdlcyB0aGUgKG9mdGVuIGFzeW5jaHJvbm91cykgaW50ZXJhY3Rpb25zIG9mIHRoZSBcbiAgICBjb21wb25lbnRzIG9mIHRoZSBtZWNoYW5pc21cbiovXG5cbmNvbnN0IEluZmluaXRlR3JpZFNjcm9sbGVyID0gKHByb3BzKSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1bIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gY29uc3QgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LGFyZ3MpIC8vIGFyZ3Mgc2hvdWxkIGJlIGltbXV0YWJsZVxuXG4gICAgbGV0IHsgXG4gICAgICAgIC8vIGdyaWQgc3BlY3NcbiAgICAgICAgb3JpZW50YXRpb24sIC8vIHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICAgICAgZ2FwLCAvLyBzcGFjZSBiZXR3ZWVuIGdyaWQgY2VsbHMsIG5vdCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGVkZ2VzXG4gICAgICAgIHBhZGRpbmcsIC8vIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBpdGVtcyBhbmQgdGhlIHZpZXdwb3J0LCBhcHBsaWVkIHRvIHRoZSBjcmFkbGVcbiAgICAgICAgY2VsbEhlaWdodCwgLy8gdGhlIG91dGVyIHBpeGVsIGhlaWdodCAtIGxpdGVyYWwgZm9yIHZlcnRpY2FsOyBhcHByb3hpbWF0ZSBmb3IgaG9yaXpvbnRhbFxuICAgICAgICBjZWxsV2lkdGgsIC8vIHRoZSBvdXRlciBwaXhlbCB3aWR0aCAtIGxpdGVyYWwgZm9yIGhvcml6b250YWw7IGFwcHJveGltYXRlIGZvciB2ZXJ0aWNhbFxuICAgICAgICBsYXlvdXQsIC8vIHVuaWZvcm0sIHZhcmlhYmxlIChkb2Vzbid0IHVzZSBheGlzKSwgZHluYW1pYyAodXNlcyBheGlzKSwgZGVuc2VcbiAgICAgICAgLy8gc2Nyb2xsZXIgc3BlY3NcbiAgICAgICAgcnVud2F5U2l6ZSwgLy8gdGhlIG51bWJlciBvZiBpdGVtcyBvdXRzaWRlIHRoZSB2aWV3IG9mIGVhY2ggc2lkZSBvZiB0aGUgdmlld3BvcnQgXG4gICAgICAgICAgICAvLyAtLSBnaXZlcyB0aW1lIHRvIGFzc2VtYmxlIGJlZm9yZSBkaXNwbGF5XG4gICAgICAgIGxpc3RTaXplLCAvLyB0aGUgZXhhY3QgbnVtYmVyIG9mIHRoZSBzaXplIG9mIHRoZSB2aXJ0dWFsIGxpc3Q7IHdpbGwgZXZlbnR1YWxseSBiZSBjaGFuZ2FibGUuXG4gICAgICAgIGluZGV4T2Zmc2V0LCAvLyB0aGUgMC1iYXNlZCBzdGFydGluZyBpbmRleCBvZiB0aGUgbGlzdCwgd2hlbiBmaXJzdCBsb2FkZWRcbiAgICAgICAgZ2V0SXRlbSwgLy8gZnVuY3Rpb24gcHJvdmlkZWQgYnkgaG9zdCAtIHBhcmFtZXRlciBpcyBpbmRleCBudW1iZXIsIHNldCBieSBzeXN0ZW07IHJldHVybiB2YWx1ZSBpcyBcbiAgICAgICAgICAgIC8vIGhvc3Qtc2VsZWN0ZWQgY29tcG9uZW50IG9yIHByb21pc2Ugb2YgYSBjb21wb25lbnRcbiAgICAgICAgZnVuY3Rpb25zLCAvLyBwcm9wZXJ0aWVzIHRvIGdldCBkaXJlY3QgYWNjZXNzIHRvIHNvbWUgY29tcG9uZW50IHV0aWxpdGVzLCBvcHRpb25hbFxuICAgICAgICBwbGFjZWhvbGRlciwgLy8gYSBzcGFyc2UgY29tcG9uZW50IHRvIHN0YW5kIGluIGZvciBjb250ZW50IHVudGlsIHRoZSBjb250ZW50IGFycml2ZXM7IFxuICAgICAgICAgICAgLy8gb3B0aW9uYWwsIHJlcGxhY2VzIGRlZmF1bHQgcGxhY2Vob2xkZXJcbiAgICAgICAgc3R5bGVzLCAvLyBwYXNzaXZlIHN0eWxlIG92ZXItcmlkZXMgKGVnLiBjb2xvciwgb3BhY2l0eSk7IGhhcyBcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgdmlld3BvcnQsIHNjcm9sbGJsb2NrLCBjcmFkbGUsIG9yIHNjcm9sbHRyYWNrZXJcbiAgICAgICAgLy8gc3lzdGVtIHNwZWNzXG4gICAgICAgIGNhY2hlLCAvLyBcInByZWxvYWRcIiwgXCJrZWVwbG9hZFwiIG9yIFwiY3JhZGxlXCJcbiAgICAgICAgY2FjaGVNYXgsIC8vIChhbHdheXMgbWluaW11bSBjcmFkbGUpXG4gICAgICAgIGFkdmFuY2VkLCAvLyB0ZWNobmljYWwgc2V0dGluZ3MgbGlrZSB1c2VSZXF1ZXN0SWRsZUNhbGxiYWNrLCBhbmQgUmVxdWVzdElkbGVDYWxsYmFja1RpbWVvdXRcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgIHNjcm9sbGVyRGF0YVxuICAgIH0gPSBwcm9wc1xuXG4gICAgY29uc3QgZ3JpZFNwZWNzID0geyAvLyBwYWNrYWdlXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuICAgIH1cblxuICAgIC8vIGFsbG93IHNjcm9sbGVySUQgdG8gYmUgc2V0IGJ5IHVzZUVmZmVjdC4gSW5saW5lIHNldHRpbmcgY2F1c2VzIGRvdWJsZSBwcm9jZXNzaW5nXG4gICAgY29uc3QgW3Njcm9sbGVyU3RhdGUsIHNldFNjcm9sbGVyU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJylcblxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIGZ1bmN0aW9ucyA/PyAoZnVuY3Rpb25zID0ge30pXG4gICAgc3R5bGVzID8/IChzdHlsZXMgPSB7fSlcbiAgICBnYXAgPz8gKGdhcCA9IDApXG4gICAgcGFkZGluZyA/PyAocGFkZGluZyA9IDApXG4gICAgcnVud2F5U2l6ZSA/PyAocnVud2F5U2l6ZSA9IDMpXG4gICAgcnVud2F5U2l6ZSA9IE1hdGgubWF4KDAscnVud2F5U2l6ZSlcbiAgICBpbmRleE9mZnNldCA/PyAoaW5kZXhPZmZzZXQgPSAwKVxuICAgIGxpc3RTaXplID8/IChsaXN0U2l6ZSA9IDApXG4gICAgbGlzdFNpemUgPSBNYXRoLm1heCgwLGxpc3RTaXplKVxuICAgIGxheW91dCA/PyAobGF5b3V0ID0gJ3VuaWZvcm0nKVxuICAgIGNhY2hlID8/IChjYWNoZSA9ICdjcmFkbGUnKVxuICAgIGNhY2hlTWF4ID8/IChjYWNoZU1heCA9IDEwMClcbiAgICAvLyBjb25zdHJhaW50c1xuICAgIGluZGV4T2Zmc2V0ID0gTWF0aC5tYXgoMCxpbmRleE9mZnNldCkgLy8gbm9uLW5lZ2F0aXZlXG4gICAgaW5kZXhPZmZzZXQgPSBNYXRoLm1pbigobGlzdFNpemUgLTEpLCBpbmRleE9mZnNldCkgLy8gbm90IGxhcmdlciB0aGFuIGxpc3RcbiAgICBpZiAoIVsnaG9yaXpvbnRhbCcsJ3ZlcnRpY2FsJ10uaW5jbHVkZXMob3JpZW50YXRpb24pKSB7XG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJ1xuICAgIH1cbiAgICBpZiAoIVsncHJlbG9hZCcsJ2tlZXBsb2FkJywnY3JhZGxlJ10uaW5jbHVkZXMoY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlID0gJ2NyYWRsZSdcbiAgICB9XG4gICAgLy8gVE9ETzogcmF0aW9uYWxpemUgd2l0aCBjZWxsSGVpZ2h0ICYgY2VsbFdpZHRoOyBtdXN0IGJlIGxlc3MgdGhhbiBoYWxmXG4gICAgdHJpZ2dlcmxpbmVPZmZzZXQgPz8gKHRyaWdnZXJsaW5lT2Zmc2V0ID0gMTApIFxuXG4gICAgY29uc3QgZ3JpZFNwZWNzUmVmID0gdXNlUmVmKGdyaWRTcGVjcylcbiAgICBjb25zdCBzdHlsZXNSZWYgPSB1c2VSZWYoc3R5bGVzKVxuICAgIGNvbnN0IGZ1bmN0aW9uc1JlZiA9IHVzZVJlZihmdW5jdGlvbnMpXG4gICAgY29uc3QgZGVmYXVsdFZpc2libGVJbmRleCA9IGluZGV4T2Zmc2V0XG5cbiAgICAvLyBzYXRpc2Z5IFJlYWN0IE9iamVjdC5pcyBmb3IgYXR0cmlidXRlc1xuICAgIGlmICghY29tcGFyZVByb3BzKGdyaWRTcGVjcywgZ3JpZFNwZWNzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIGdyaWRTcGVjc1JlZi5jdXJyZW50ID0gZ3JpZFNwZWNzXG4gICAgfVxuICAgIGlmICghY29tcGFyZVByb3BzKHN0eWxlcywgc3R5bGVzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIHN0eWxlc1JlZi5jdXJyZW50ID0gc3R5bGVzXG4gICAgfVxuICAgIGlmICghY29tcGFyZVByb3BzKGZ1bmN0aW9ucywgZnVuY3Rpb25zUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIGZ1bmN0aW9uc1JlZi5jdXJyZW50ID0gZnVuY3Rpb25zXG4gICAgfVxuXG4gICAgLy8gZm9yIG1vdW50XG4gICAgY29uc3Qgc2Nyb2xsZXJTZXNzaW9uSURSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICBjb25zdCBjYWNoZUhhbmRsZXJSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIHVzZUVmZmVjdCAoKCkgPT4ge1xuICAgICAgICBzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50ID0gZ2xvYmFsU2Nyb2xsZXJJRCsrXG4gICAgICAgIGNhY2hlSGFuZGxlclJlZi5jdXJyZW50ID0gbmV3IENhY2hlSGFuZGxlcihzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50KVxuICAgIH0sW10pXG5cbiAgICBjb25zdCBzY3JvbGxlcklEID0gc2Nyb2xsZXJTZXNzaW9uSURSZWYuY3VycmVudFxuXG4gICAgLy8gY29uc29sZS5sb2coJ2luZmluaXRlIHNjcm9sbGVyIHNjcm9sbGVySUQsIHNjcm9sbGVyU3RhdGUsIGNhY2hlLCBjYWNoZU1heCcsIFxuICAgIC8vICAgICAnLScrc2Nyb2xsZXJJRCsnLScsc2Nyb2xsZXJTdGF0ZSwgY2FjaGUsIGNhY2hlTWF4KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHJlbmRlciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIHN3aXRjaCAoc2Nyb2xsZXJTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOlxuICAgICAgICAgICAgICAgIHNldFNjcm9sbGVyU3RhdGUoJ3JlYWR5JylcbiAgICAgICAgfVxuXG4gICAgfSxbc2Nyb2xsZXJTdGF0ZV0pXG5cbiAgICByZXR1cm4gKDw+XG4gICAgICAgIHsoc2Nyb2xsZXJTdGF0ZSAhPSAnc2V0dXAnKSAmJiA8Vmlld3BvcnRcblxuICAgICAgICAgICAgZ3JpZFNwZWNzID0geyBncmlkU3BlY3NSZWYuY3VycmVudCB9XG4gICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgIHNjcm9sbGVyRGF0YSA9IHtzY3JvbGxlckRhdGF9XG4gICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlcklEIH1cblxuICAgICAgICA+XG4gICAgICAgIFxuICAgICAgICAgICAgPFNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgICAgICBncmlkU3BlY3MgPSB7IGdyaWRTcGVjc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICBsaXN0c2l6ZSA9IHsgbGlzdFNpemUgfVxuICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDcmFkbGUgXG5cbiAgICAgICAgICAgICAgICAgICAgZ3JpZFNwZWNzID0geyBncmlkU3BlY3NSZWYuY3VycmVudCB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBsaXN0c2l6ZSA9IHsgbGlzdFNpemUgfVxuICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IHsgY2FjaGUgfVxuICAgICAgICAgICAgICAgICAgICBjYWNoZU1heCA9IHsgY2FjaGVNYXggfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbnMgPSB7IGZ1bmN0aW9uc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZpc2libGVJbmRleCA9IHsgZGVmYXVsdFZpc2libGVJbmRleCB9XG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0gPSB7IGdldEl0ZW0gfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICAgICAgICAgICAgICBydW53YXlTaXplID0geyBydW53YXlTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSB7IHRyaWdnZXJsaW5lT2Zmc2V0IH1cblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUhhbmRsZXIgPSB7Y2FjaGVIYW5kbGVyUmVmLmN1cnJlbnR9XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvU2Nyb2xsYmxvY2s+XG4gICAgICAgIDwvVmlld3BvcnQ+fVxuICAgICAgICB7KHNjcm9sbGVyU3RhdGUgIT0gJ3NldHVwJykgJiYgPGRpdiBkYXRhLXR5cGUgPSAnY2FjaGVyb290JyBzdHlsZSA9IHsgY2FjaGVyb290c3R5bGUgfT5cbiAgICAgICAgICAgIDxQb3J0YWxMaXN0IGNhY2hlUHJvcHMgPSB7Y2FjaGVIYW5kbGVyUmVmLmN1cnJlbnQuY2FjaGVQcm9wc30vPlxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIDwvPilcbn1cblxuY29uc3QgY2FjaGVyb290c3R5bGUgPSB7ZGlzcGxheTonbm9uZSd9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMgLy8gc3RhdGljLCBvdXQgb2YgdmlldyBcblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcblxuLy8gdXRpbGl0aWVzXG5mdW5jdGlvbiBjb21wYXJlUHJvcHMgKG9iajEsb2JqMikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmoxKVxuICAgIGxldCBzYW1lXG4gICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXMob2JqMVtrZXldLG9iajJba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG4iXSwibmFtZXMiOlsiZ2xvYmFsU2Nyb2xsZXJJRCIsIkluZmluaXRlR3JpZFNjcm9sbGVyIiwicHJvcHMiLCJvcmllbnRhdGlvbiIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0IiwicnVud2F5U2l6ZSIsImxpc3RTaXplIiwiaW5kZXhPZmZzZXQiLCJnZXRJdGVtIiwiZnVuY3Rpb25zIiwicGxhY2Vob2xkZXIiLCJzdHlsZXMiLCJjYWNoZSIsImNhY2hlTWF4IiwiYWR2YW5jZWQiLCJ0cmlnZ2VybGluZU9mZnNldCIsInNjcm9sbGVyRGF0YSIsImdyaWRTcGVjcyIsInNjcm9sbGVyU3RhdGUiLCJzZXRTY3JvbGxlclN0YXRlIiwiTWF0aCIsIm1heCIsIm1pbiIsImluY2x1ZGVzIiwiZ3JpZFNwZWNzUmVmIiwic3R5bGVzUmVmIiwiZnVuY3Rpb25zUmVmIiwiZGVmYXVsdFZpc2libGVJbmRleCIsImNvbXBhcmVQcm9wcyIsImN1cnJlbnQiLCJzY3JvbGxlclNlc3Npb25JRFJlZiIsImNhY2hlSGFuZGxlclJlZiIsImNhY2hlaGFuZGxlcl8xIiwic2Nyb2xsZXJJRCIsInJlYWN0XzEiLCJ2aWV3cG9ydF8xIiwic2Nyb2xsYmxvY2tfMSIsImxpc3RzaXplIiwiY3JhZGxlXzEiLCJjYWNoZUhhbmRsZXIiLCJzdHlsZSIsImNhY2hlcm9vdHN0eWxlIiwiY2FjaGVQcm9wcyIsImRpc3BsYXkiLCJleHBvcnRzIiwib2JqMSIsIm9iajIiLCJrZXlzIiwiT2JqZWN0Iiwic2FtZSIsIl9pIiwia2V5IiwiaXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/infinitegridscroller.tsx\n");

/***/ }),

/***/ "./src/placeholder.tsx":
/*!*****************************!*\
  !*** ./src/placeholder.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // placeholder.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Placeholder = function Placeholder(_a) {\n  var index = _a.index,\n      listsize = _a.listsize,\n      error = _a.error;\n  var stylesRef = (0, react_1.useRef)({\n    position: 'relative',\n    boxSizing: 'border-box',\n    backgroundColor: 'cyan',\n    border: '2px solid black',\n    height: '100%',\n    width: '100%'\n  });\n  var itemStylesRef = (0, react_1.useRef)({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    padding: '3px',\n    opacity: .5,\n    borderRadius: '8px',\n    backgroundColor: 'white',\n    margin: '3px',\n    fontSize: 'smaller'\n  });\n  return react_1[\"default\"].createElement(\"div\", {\n    style: stylesRef.current\n  }, !error ? react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, index + 1, \"/\", listsize, \" (loading...)\") : react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, \"item is not available at this time\"));\n};\n\nexports[\"default\"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGxhY2Vob2xkZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxFQUFELEVBQXlCO01BQXZCQyxLQUFLO01BQUVDLFFBQVE7TUFBRUMsS0FBSztFQUV4QyxJQUFNQyxTQUFTLEdBQUcsb0JBQU87SUFDckJDLFFBQVEsRUFBQyxVQURZO0lBRXJCQyxTQUFTLEVBQUMsWUFGVztJQUdyQkMsZUFBZSxFQUFDLE1BSEs7SUFJckJDLE1BQU0sRUFBQyxpQkFKYztJQUtyQkMsTUFBTSxFQUFDLE1BTGM7SUFNckJDLEtBQUssRUFBQztFQU5lLENBQVAsQ0FBbEI7RUFRQSxJQUFNQyxhQUFhLEdBQUcsb0JBQ2xCO0lBQ0lOLFFBQVEsRUFBQyxVQURiO0lBRUlPLEdBQUcsRUFBQyxDQUZSO0lBR0lDLElBQUksRUFBQyxDQUhUO0lBSUlDLE9BQU8sRUFBQyxLQUpaO0lBS0lDLE9BQU8sRUFBQyxFQUxaO0lBTUlDLFlBQVksRUFBQyxLQU5qQjtJQU9JVCxlQUFlLEVBQUMsT0FQcEI7SUFRSVUsTUFBTSxFQUFDLEtBUlg7SUFTSUMsUUFBUSxFQUFDO0VBVGIsQ0FEa0IsQ0FBdEI7RUFjQSxPQUFPQztJQUFLQyxLQUFLLEVBQUloQixTQUFTLENBQUNpQjtFQUF4QixHQUNELENBQUNsQixLQUFELEdBQ0VnQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBc0NwQixLQUFLLEdBQUcsQ0FBOUMsT0FBa0RDLFFBQWxELGtCQURGLEdBRUVpQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBbUMsb0NBQW5DLENBSEQsQ0FBUDtBQU9ILENBL0JEOztBQWlDQUMsa0JBQUFBLEdBQWV2QixXQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9wbGFjZWhvbGRlci50c3g/MTEzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwbGFjZWhvbGRlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFBsYWNlaG9sZGVyID0gKHtpbmRleCwgbGlzdHNpemUsIGVycm9yfSkgPT4ge1xuXG4gICAgY29uc3Qgc3R5bGVzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOidjeWFuJyxcbiAgICAgICAgYm9yZGVyOicycHggc29saWQgYmxhY2snLFxuICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICB3aWR0aDonMTAwJSdcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMpXG4gICAgY29uc3QgaXRlbVN0eWxlc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgbGVmdDowLFxuICAgICAgICAgICAgcGFkZGluZzonM3B4JyxcbiAgICAgICAgICAgIG9wYWNpdHk6LjUsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6JzhweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJywgXG4gICAgICAgICAgICBtYXJnaW46JzNweCcsXG4gICAgICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgIClcblxuICAgIHJldHVybiA8ZGl2IHN0eWxlID0ge3N0eWxlc1JlZi5jdXJyZW50fT5cbiAgICAgICAgeyAhZXJyb3I/XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+e2luZGV4ICsgMX0ve2xpc3RzaXplfSAobG9hZGluZy4uLik8L2Rpdj46XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+aXRlbSBpcyBub3QgYXZhaWxhYmxlIGF0IHRoaXMgdGltZTwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlciJdLCJuYW1lcyI6WyJQbGFjZWhvbGRlciIsIl9hIiwiaW5kZXgiLCJsaXN0c2l6ZSIsImVycm9yIiwic3R5bGVzUmVmIiwicG9zaXRpb24iLCJib3hTaXppbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJoZWlnaHQiLCJ3aWR0aCIsIml0ZW1TdHlsZXNSZWYiLCJ0b3AiLCJsZWZ0IiwicGFkZGluZyIsIm9wYWNpdHkiLCJib3JkZXJSYWRpdXMiLCJtYXJnaW4iLCJmb250U2l6ZSIsInJlYWN0XzEiLCJzdHlsZSIsImN1cnJlbnQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/placeholder.tsx\n");

/***/ }),

/***/ "./src/scrollblock.tsx":
/*!*****************************!*\
  !*** ./src/scrollblock.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrollblock.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    TODO\n    update length for cradle adjustments based on variable length changes in cell shells.\n\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar Scrollblock = function Scrollblock(_a) {\n  var children = _a.children,\n      listsize = _a.listsize,\n      gridSpecs = _a.gridSpecs,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID;\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // -------------------------[ context and state ]-------------------------\n\n  var viewportInterruptProperties = (0, react_1.useContext)(viewport_1.ViewportInterrupt); // -----------------------------------[ data heap ]-------------------------\n\n  var baseScrollBlockLengthRef = (0, react_1.useRef)(null); // const scrollblockRef = useRef(null)\n\n  var divlinerstyleRef = (0, react_1.useRef)(Object.assign({\n    backgroundColor: 'white',\n    position: 'relative'\n  }, styles.cradle));\n\n  var _b = (0, react_1.useState)(divlinerstyleRef.current),\n      divlinerstyle = _b[0],\n      saveDivlinerstyle = _b[1]; // to trigger render\n\n\n  var _c = viewportInterruptProperties.viewportDimensions,\n      width = _c.width,\n      height = _c.height;\n  (0, react_1.useLayoutEffect)(function () {\n    updateBaseBlockLength();\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, baseScrollBlockLengthRef);\n    saveDivlinerstyle(divlinerstyleRef.current);\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBaseBlockLength = (0, react_1.useCallback)(function () {\n    var basescrollblocklength = calcBaseScrollblockLength({\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width,\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding\n    });\n    baseScrollBlockLengthRef.current = basescrollblocklength;\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'scrollblock',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\n// all the parameters can affect the length\n\n\nvar calcBaseScrollblockLength = function calcBaseScrollblockLength(_a) {\n  var orientation = _a.orientation,\n      viewportheight = _a.viewportheight,\n      viewportwidth = _a.viewportwidth,\n      listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding; // dependents of orientation\n\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n\n  if (orientation == 'vertical') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    // 'horizontal'\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  } // adjustments to viewportcrosslength\n\n\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap;\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  var listlength = Math.ceil(listsize / crosscount);\n  var straightlength = listlength * cellLength - (listlength > 0 ? gap : 0) + padding * 2;\n  return straightlength;\n};\n\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, baseScrollblocklengthRef) {\n  var localstyles = Object.assign({}, stylesRef.current);\n  var height;\n  var width;\n\n  if (orientation == 'horizontal') {\n    height = '100%';\n    width = baseScrollblocklengthRef.current + 'px';\n  } else if (orientation == 'vertical') {\n    height = baseScrollblocklengthRef.current + 'px';\n    width = '100%';\n  }\n\n  localstyles.height = height;\n  localstyles.width = width;\n  return localstyles;\n};\n\nexports[\"default\"] = Scrollblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlJLFdBQVcsSUFBSSxZQUFuQixFQUFpQztJQUM3QkgsTUFBTSxHQUFHLE1BQVQ7SUFDQUQsS0FBSyxHQUFHcUIsd0JBQXdCLENBQUN6QixPQUF6QixHQUFtQyxJQUEzQztFQUNILENBSEQsTUFHTyxJQUFJUSxXQUFXLElBQUksVUFBbkIsRUFBK0I7SUFDbENILE1BQU0sR0FBR29CLHdCQUF3QixDQUFDekIsT0FBekIsR0FBbUMsSUFBNUM7SUFDQUksS0FBSyxHQUFHLE1BQVI7RUFDSDs7RUFDRHNCLFdBQVcsQ0FBQ3JCLE1BQVosR0FBcUJBLE1BQXJCO0VBQ0FxQixXQUFXLENBQUN0QixLQUFaLEdBQW9CQSxLQUFwQjtFQUVBLE9BQU9zQixXQUFQO0FBQ0gsQ0FoQkQ7O0FBa0JBQyxrQkFBQUEsR0FBZWhELFdBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3Njcm9sbGJsb2NrLnRzeD8yZmE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbGJsb2NrLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjIgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUT0RPXG4gICAgdXBkYXRlIGxlbmd0aCBmb3IgY3JhZGxlIGFkanVzdG1lbnRzIGJhc2VkIG9uIHZhcmlhYmxlIGxlbmd0aCBjaGFuZ2VzIGluIGNlbGwgc2hlbGxzLlxuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHt1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBWaWV3cG9ydEludGVycnVwdCB9IGZyb20gJy4vdmlld3BvcnQnXG5cbmNvbnN0IFNjcm9sbGJsb2NrID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICBsaXN0c2l6ZSxcbiAgICBncmlkU3BlY3MsIFxuICAgIHN0eWxlcyxcbiAgICBzY3JvbGxlcklELFxufSkgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGxheW91dCxcbiAgICB9ID0gZ3JpZFNwZWNzXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb250ZXh0IGFuZCBzdGF0ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHVzZUNvbnRleHQoVmlld3BvcnRJbnRlcnJ1cHQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgZGF0YSBoZWFwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY29uc3QgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmID0gdXNlUmVmKG51bGwpXG4gICAgLy8gY29uc3Qgc2Nyb2xsYmxvY2tSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgICAgIFxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsIHN0eWxlcy5jcmFkbGUpXG5cbiAgICApXG4gICAgY29uc3QgW2RpdmxpbmVyc3R5bGUsc2F2ZURpdmxpbmVyc3R5bGVdID0gdXNlU3RhdGUoZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KSAvLyB0byB0cmlnZ2VyIHJlbmRlclxuXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMudmlld3BvcnREaW1lbnNpb25zXG4gICAgXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcblxuICAgICAgICB1cGRhdGVCYXNlQmxvY2tMZW5ndGgoKVxuICAgICAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSBcbiAgICAgICAgICAgIHVwZGF0ZVNjcm9sbGJsb2NrU3R5bGVzKFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIGRpdmxpbmVyc3R5bGVSZWYsXG4gICAgICAgICAgICAgICAgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmXG4gICAgICAgICAgICApXG4gICAgICAgIHNhdmVEaXZsaW5lcnN0eWxlKGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudClcblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgIF0pXG5cbiAgICBjb25zdCB1cGRhdGVCYXNlQmxvY2tMZW5ndGggPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmFzZXNjcm9sbGJsb2NrbGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgY2FsY0Jhc2VTY3JvbGxibG9ja0xlbmd0aChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydGhlaWdodDpoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydHdpZHRoOndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmLmN1cnJlbnQgPSBiYXNlc2Nyb2xsYmxvY2tsZW5ndGhcblxuICAgICAgICB9LFtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgIF1cbiAgICApXG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLXR5cGUgPSAnc2Nyb2xsYmxvY2snIHN0eWxlPXtkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnR9PntjaGlsZHJlbn08L2Rpdj5cblxufSAvLyBTY3JvbGxibG9ja1xuXG4vLyBhbGwgdGhlIHBhcmFtZXRlcnMgY2FuIGFmZmVjdCB0aGUgbGVuZ3RoXG5jb25zdCBjYWxjQmFzZVNjcm9sbGJsb2NrTGVuZ3RoID0gKHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgfSkgPT4ge1xuXG4gICAgLy8gZGVwZW5kZW50cyBvZiBvcmllbnRhdGlvblxuICAgIGxldCBjcm9zc2xlbmd0aFxuICAgIGxldCBjZWxsTGVuZ3RoXG4gICAgbGV0IHZpZXdwb3J0Y3Jvc3NsZW5ndGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgIGNyb3NzbGVuZ3RoID0gY2VsbFdpZHRoICsgZ2FwXG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsSGVpZ2h0ICsgZ2FwXG4gICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSB2aWV3cG9ydHdpZHRoIFxuXG4gICAgfSBlbHNlIHsgLy8gJ2hvcml6b250YWwnXG5cbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsSGVpZ2h0ICsgZ2FwXG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsV2lkdGggKyBnYXBcbiAgICAgICAgdmlld3BvcnRjcm9zc2xlbmd0aCA9IHZpZXdwb3J0aGVpZ2h0XG5cbiAgICB9XG4gICAgLy8gYWRqdXN0bWVudHMgdG8gdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggLT0gKHBhZGRpbmcgKiAyKVxuICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggKz0gZ2FwXG5cbiAgICBpZiAodmlld3BvcnRjcm9zc2xlbmd0aCA8IGNyb3NzbGVuZ3RoKSB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gY3Jvc3NsZW5ndGggLy8gbXVzdCBiZSBhdCBsZWFzdCBvbmVcbiAgICBsZXQgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3Iodmlld3BvcnRjcm9zc2xlbmd0aC9jcm9zc2xlbmd0aClcblxuICAgIGxldCBsaXN0bGVuZ3RoID0gTWF0aC5jZWlsKGxpc3RzaXplL2Nyb3NzY291bnQpXG5cbiAgICBsZXQgc3RyYWlnaHRsZW5ndGggPSAobGlzdGxlbmd0aCAqIGNlbGxMZW5ndGgpIC0gXG4gICAgICAgICgobGlzdGxlbmd0aCA+IDApP1xuICAgICAgICAgICAgZ2FwOlxuICAgICAgICAgICAgMCkgXG4gICAgICAgICsgKHBhZGRpbmcgKiAyKVxuXG4gICAgcmV0dXJuIHN0cmFpZ2h0bGVuZ3RoXG5cbn1cblxuY29uc3QgdXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMgPSAob3JpZW50YXRpb24sc3R5bGVzUmVmLGJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZikgPT4ge1xuXG4gICAgbGV0IGxvY2Fsc3R5bGVzID0gT2JqZWN0LmFzc2lnbih7fSxzdHlsZXNSZWYuY3VycmVudCkgYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgIGxldCBoZWlnaHQgXG4gICAgbGV0IHdpZHRoXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgd2lkdGggPSBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYuY3VycmVudCArICdweCdcbiAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgaGVpZ2h0ID0gYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmLmN1cnJlbnQgKyAncHgnXG4gICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgfVxuICAgIGxvY2Fsc3R5bGVzLmhlaWdodCA9IGhlaWdodFxuICAgIGxvY2Fsc3R5bGVzLndpZHRoID0gd2lkdGhcblxuICAgIHJldHVybiBsb2NhbHN0eWxlc1xufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxibG9ja1xuIl0sIm5hbWVzIjpbIlNjcm9sbGJsb2NrIiwiX2EiLCJjaGlsZHJlbiIsImxpc3RzaXplIiwiZ3JpZFNwZWNzIiwic3R5bGVzIiwic2Nyb2xsZXJJRCIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0Iiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIiwidmlld3BvcnRfMSIsImJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZiIsImRpdmxpbmVyc3R5bGVSZWYiLCJPYmplY3QiLCJhc3NpZ24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb3NpdGlvbiIsImNyYWRsZSIsImN1cnJlbnQiLCJkaXZsaW5lcnN0eWxlIiwic2F2ZURpdmxpbmVyc3R5bGUiLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsInVwZGF0ZUJhc2VCbG9ja0xlbmd0aCIsInVwZGF0ZVNjcm9sbGJsb2NrU3R5bGVzIiwib3JpZW50YXRpb24iLCJiYXNlc2Nyb2xsYmxvY2tsZW5ndGgiLCJjYWxjQmFzZVNjcm9sbGJsb2NrTGVuZ3RoIiwidmlld3BvcnRoZWlnaHQiLCJ2aWV3cG9ydHdpZHRoIiwicmVhY3RfMSIsInN0eWxlIiwiY3Jvc3NsZW5ndGgiLCJjZWxsTGVuZ3RoIiwidmlld3BvcnRjcm9zc2xlbmd0aCIsImNyb3NzY291bnQiLCJNYXRoIiwiZmxvb3IiLCJsaXN0bGVuZ3RoIiwiY2VpbCIsInN0cmFpZ2h0bGVuZ3RoIiwic3R5bGVzUmVmIiwiYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmIiwibG9jYWxzdHlsZXMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scrollblock.tsx\n");

/***/ }),

/***/ "./src/scrolltracker.tsx":
/*!*******************************!*\
  !*** ./src/scrolltracker.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrolltracker.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar ScrollTracker = function ScrollTracker(_a) {\n  var top = _a.top,\n      left = _a.left,\n      offset = _a.offset,\n      listsize = _a.listsize,\n      styles = _a.styles;\n  var trackdata = \"\".concat(offset + 1, \"/\").concat(listsize);\n  var styleRef = (0, react_1.useRef)(Object.assign({\n    top: top + 'px',\n    left: left + 'px',\n    position: 'fixed',\n    zIndex: 3,\n    backgroundColor: 'white',\n    border: '1px solid gray',\n    borderRadius: '10px',\n    fontSize: 'smaller',\n    padding: '3px'\n  }, styles.scrolltracker));\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'scrolltracker',\n    style: styleRef.current\n  }, trackdata);\n};\n\nexports[\"default\"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nyb2xsdHJhY2tlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUVBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsRUFBRCxFQUF3QztNQUFyQ0MsR0FBRztNQUFFQyxJQUFJO01BQUVDLE1BQU07TUFBRUMsUUFBUTtNQUFFQyxNQUFNO0VBRXhELElBQUlDLFNBQVMsR0FBRyxVQUFHSCxNQUFNLEdBQUcsQ0FBWixFQUFhLEdBQWIsRUFBYUksTUFBYixDQUFpQkgsUUFBakIsQ0FBaEI7RUFFQSxJQUFJSSxRQUFRLEdBQUcsb0JBQU9DLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0lBQ2hDVCxHQUFHLEVBQUVBLEdBQUcsR0FBRyxJQURxQjtJQUVoQ0MsSUFBSSxFQUFFQSxJQUFJLEdBQUcsSUFGbUI7SUFHaENTLFFBQVEsRUFBQyxPQUh1QjtJQUloQ0MsTUFBTSxFQUFDLENBSnlCO0lBS2hDQyxlQUFlLEVBQUMsT0FMZ0I7SUFNaENDLE1BQU0sRUFBRSxnQkFOd0I7SUFPaENDLFlBQVksRUFBQyxNQVBtQjtJQVFoQ0MsUUFBUSxFQUFDLFNBUnVCO0lBU2hDQyxPQUFPLEVBQUM7RUFUd0IsQ0FBZCxFQVVHWixNQUFNLENBQUNhLGFBVlYsQ0FBUCxDQUFmO0VBWUEsT0FBT0M7SUFBQSxhQUFpQixlQUFqQjtJQUFpQ0MsS0FBSyxFQUFJWixRQUFRLENBQUNhO0VBQW5ELEdBQThEZixTQUE5RCxDQUFQO0FBQ0gsQ0FqQkQ7O0FBbUJBZ0Isa0JBQUFBLEdBQWV2QixhQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9zY3JvbGx0cmFja2VyLnRzeD9mZjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbHRyYWNrZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmfSBmcm9tICdyZWFjdCdcblxuY29uc3QgU2Nyb2xsVHJhY2tlciA9ICh7IHRvcCwgbGVmdCwgb2Zmc2V0LCBsaXN0c2l6ZSwgc3R5bGVzIH0pID0+IHtcblxuICAgIGxldCB0cmFja2RhdGEgPSBgJHtvZmZzZXQgKyAxfS8ke2xpc3RzaXplfWBcblxuICAgIGxldCBzdHlsZVJlZiA9IHVzZVJlZihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdG9wOiB0b3AgKyAncHgnLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgJ3B4JyxcbiAgICAgICAgcG9zaXRpb246J2ZpeGVkJyxcbiAgICAgICAgekluZGV4OjMsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgZ3JheScsXG4gICAgICAgIGJvcmRlclJhZGl1czonMTBweCcsXG4gICAgICAgIGZvbnRTaXplOidzbWFsbGVyJyxcbiAgICAgICAgcGFkZGluZzonM3B4J1xuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcyxzdHlsZXMuc2Nyb2xsdHJhY2tlcikpXG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLW5hbWUgPSAnc2Nyb2xsdHJhY2tlcicgc3R5bGUgPSB7c3R5bGVSZWYuY3VycmVudH0gPnt0cmFja2RhdGF9PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFRyYWNrZXIiXSwibmFtZXMiOlsiU2Nyb2xsVHJhY2tlciIsIl9hIiwidG9wIiwibGVmdCIsIm9mZnNldCIsImxpc3RzaXplIiwic3R5bGVzIiwidHJhY2tkYXRhIiwiY29uY2F0Iiwic3R5bGVSZWYiLCJPYmplY3QiLCJhc3NpZ24iLCJwb3NpdGlvbiIsInpJbmRleCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwicGFkZGluZyIsInNjcm9sbHRyYWNrZXIiLCJyZWFjdF8xIiwic3R5bGUiLCJjdXJyZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scrolltracker.tsx\n");

/***/ }),

/***/ "./src/viewport.tsx":
/*!**************************!*\
  !*** ./src/viewport.tsx ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // viewport.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ViewportInterrupt = void 0;\n/*\n    The role of viewport is to provide data to its children (scrollblock and cradle),\n    and act as the visible screen portal of the list being shown\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nexports.ViewportInterrupt = react_1[\"default\"].createContext(null); // for children\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver; // control constant\n\nvar RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE = 250;\n\nvar Viewport = function Viewport(_a) {\n  // -----------------------[ initialize ]------------------\n  var children = _a.children,\n      gridSpecs = _a.gridSpecs,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID,\n      scrollerData = _a.scrollerData;\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout;\n\n  var _b = (0, react_1.useState)('setup'),\n      viewportState = _b[0],\n      setViewportState = _b[1]; // setup, resizing, resized, ready\n\n\n  var viewportStateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback scope\n\n  viewportStateRef.current = viewportState;\n  var isMountedRef = (0, react_1.useRef)(true); // monitor for unmounted\n\n  (0, react_1.useEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  var viewportElementRef = (0, react_1.useRef)(null); // viewportInterruptPropertiesRef is passed as a resizing interrupt (through context) to children\n  // initialize\n\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)({\n    isReparentingRef: scrollerData === null || scrollerData === void 0 ? void 0 : scrollerData.isReparentingRef,\n    isResizing: false,\n    // index:null,\n    viewportDimensions: null,\n    elementRef: null\n  }); // --------------------[ resizer setup ]-----------------------\n\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null); // set up resizeObserver\n\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportElementRef.current); // unmount\n\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []); // used by resizeObserver; generates interrupt\n\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (!isMountedRef.current || !viewportElementRef.current) return;\n    if (viewportStateRef.current == 'setup') return;\n    var target = entries[0].target; // generate interrupt response, if initiating resize\n\n    if (!isResizingRef.current) {\n      viewportInterruptPropertiesRef.current.isResizing = isResizingRef.current = true; // new object creation triggers a realtime interrupt message to cradle through context\n\n      viewportInterruptPropertiesRef.current = Object.assign({}, viewportInterruptPropertiesRef.current);\n      if (isMountedRef.current) setViewportState('resizing');\n    }\n\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n\n      if (isMountedRef.current) {\n        setViewportState('resized');\n      }\n    }, RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE);\n  }, []); // ----------------------------------[ calculate config values ]--------------------------------\n\n  var divlinerstyleRef = (0, react_1.useRef)(null); // initialize with inherited styles\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign({\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: 'auto',\n      backgroundColor: 'red'\n    }, styles.viewport);\n  }, [styles.viewport]); // update with config values\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    // TODO: gap\n    var mincrosslength = calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding);\n    var styles = Object.assign({}, divlinerstyleRef.current); // avoid readonly\n\n    if (orientation == 'vertical') {\n      styles.minWidth = mincrosslength + 'px';\n      styles.minHeight = 'auto';\n    } else {\n      styles.minWidth = 'auto';\n      styles.minHeight = mincrosslength + 'px';\n    }\n\n    return styles;\n  }, [orientation, cellWidth, cellHeight, gap, padding]); // update viewportInterruptPropertiesRef; add viewport dimensions\n\n  viewportInterruptPropertiesRef.current = (0, react_1.useMemo)(function () {\n    if (viewportState == 'setup') return viewportInterruptPropertiesRef.current;\n\n    var _a = viewportElementRef.current.getBoundingClientRect(),\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n\n    var width = right - left;\n    var height = bottom - top; // TODO this is a duplicate setting procedure with interrupthandler.tsx cradleIntersectionObserverCallback\n\n    var localViewportData = {\n      viewportDimensions: {\n        top: top,\n        right: right,\n        bottom: bottom,\n        left: left,\n        width: width,\n        height: height\n      },\n      elementRef: viewportElementRef,\n      isResizing: isResizingRef.current\n    }; // trigger context change with new object\n\n    var viewportdataobject = Object.assign({}, viewportInterruptPropertiesRef.current, localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportState]); // --------------------[ state processing ]---------------------------\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportState) {\n      case 'resized':\n      case 'setup':\n        {\n          setViewportState('ready');\n          break;\n        }\n    }\n  }, [viewportState]); // ----------------------[ render ]--------------------------------\n\n  return react_1[\"default\"].createElement(exports.ViewportInterrupt.Provider, {\n    value: viewportInterruptPropertiesRef.current\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'viewport',\n    \"data-scrollerid\": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportElementRef\n  }, viewportState != 'setup' && children));\n}; // Viewport\n// establish minimum width/height for the viewport -- approximately one item\n// gap only applies with multi-width items, therefore not used in calculations\n\n\nvar calcMinViewportCrossLength = function calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding) {\n  var crosslength, cellLength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellWidth;\n  } else {\n    cellLength = cellHeight;\n  }\n\n  crosslength = cellLength + padding * 2;\n  return crosslength;\n};\n\nexports[\"default\"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUQsRUFBY3BDLFNBQWQsRUFBeUJELFVBQXpCLEVBQXFDRixHQUFyQyxFQUEwQ0MsT0FBMUMsRUFBaUQ7RUFFaEYsSUFBSWtELFdBQUosRUFBaUJDLFVBQWpCOztFQUVBLElBQUliLFdBQVcsSUFBSSxVQUFuQixFQUErQjtJQUMzQmEsVUFBVSxHQUFHakQsU0FBYjtFQUNILENBRkQsTUFFTztJQUNIaUQsVUFBVSxHQUFHbEQsVUFBYjtFQUNIOztFQUNEaUQsV0FBVyxHQUFHQyxVQUFVLEdBQUluRCxPQUFPLEdBQUcsQ0FBdEM7RUFFQSxPQUFPa0QsV0FBUDtBQUVILENBYkQ7O0FBZUFqRSxrQkFBQUEsR0FBZU8sUUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvdmlld3BvcnQudHN4PzBkZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdmlld3BvcnQudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSByb2xlIG9mIHZpZXdwb3J0IGlzIHRvIHByb3ZpZGUgZGF0YSB0byBpdHMgY2hpbGRyZW4gKHNjcm9sbGJsb2NrIGFuZCBjcmFkbGUpLFxuICAgIGFuZCBhY3QgYXMgdGhlIHZpc2libGUgc2NyZWVuIHBvcnRhbCBvZiB0aGUgbGlzdCBiZWluZyBzaG93blxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0fSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGNvbnN0IFZpZXdwb3J0SW50ZXJydXB0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKSAvLyBmb3IgY2hpbGRyZW5cblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUmVzaXplT2JzZXJ2ZXJQb2xseWZpbGwgfSBmcm9tICdAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlcidcblxuY29uc3QgUmVzaXplT2JzZXJ2ZXIgPSB3aW5kb3dbJ1Jlc2l6ZU9ic2VydmVyJ10gfHwgUmVzaXplT2JzZXJ2ZXJQb2xseWZpbGxcblxuLy8gY29udHJvbCBjb25zdGFudFxuY29uc3QgUkVTSVpFX1RJTUVPVVRfRk9SX09OQUZURVJTUkVTSVpFID0gMjUwXG5cbmNvbnN0IFZpZXdwb3J0ID0gKHtcbiAgICBjaGlsZHJlbiwgXG4gICAgZ3JpZFNwZWNzLFxuICAgIHN0eWxlcyxcbiAgICBzY3JvbGxlcklELFxuICAgIHNjcm9sbGVyRGF0YSxcbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgY29uc3QgW3ZpZXdwb3J0U3RhdGUsc2V0Vmlld3BvcnRTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKSAvLyBzZXR1cCwgcmVzaXppbmcsIHJlc2l6ZWQsIHJlYWR5XG5cbiAgICBjb25zdCB2aWV3cG9ydFN0YXRlUmVmID0gdXNlUmVmKG51bGwpIC8vIGZvciB1c2VDYWxsYmFjayAtPiByZXNpemVDYWxsYmFjayBzY29wZVxuICAgIHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9IHZpZXdwb3J0U3RhdGVcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKSAvLyBtb25pdG9yIGZvciB1bm1vdW50ZWRcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgLy8gdW5tb3VudFxuICAgICAgICByZXR1cm4gKCkgPT4ge2lzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2V9XG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYgaXMgcGFzc2VkIGFzIGEgcmVzaXppbmcgaW50ZXJydXB0ICh0aHJvdWdoIGNvbnRleHQpIHRvIGNoaWxkcmVuXG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZjpzY3JvbGxlckRhdGE/LmlzUmVwYXJlbnRpbmdSZWYsIFxuICAgICAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgXG4gICAgICAgICAgICAvLyBpbmRleDpudWxsLFxuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOm51bGwsXG4gICAgICAgICAgICBlbGVtZW50UmVmOm51bGxcbiAgICAgICAgfVxuICAgIClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXNpemVyIHNldHVwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVzaXplVGltZXJpZFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAvLyBzZXQgdXAgcmVzaXplT2JzZXJ2ZXJcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIocmVzaXplQ2FsbGJhY2spXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZSh2aWV3cG9ydEVsZW1lbnRSZWYuY3VycmVudClcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIHVzZWQgYnkgcmVzaXplT2JzZXJ2ZXI7IGdlbmVyYXRlcyBpbnRlcnJ1cHRcbiAgICBjb25zdCByZXNpemVDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlbnRyaWVzKT0+e1xuXG4gICAgICAgIGlmICgoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB8fCAoIXZpZXdwb3J0RWxlbWVudFJlZi5jdXJyZW50KSkgcmV0dXJuXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbnRyaWVzWzBdLnRhcmdldFxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGludGVycnVwdCByZXNwb25zZSwgaWYgaW5pdGlhdGluZyByZXNpemVcbiAgICAgICAgaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IGlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWUgXG4gICAgICAgICAgICAvLyBuZXcgb2JqZWN0IGNyZWF0aW9uIHRyaWdnZXJzIGEgcmVhbHRpbWUgaW50ZXJydXB0IG1lc3NhZ2UgdG8gY3JhZGxlIHRocm91Z2ggY29udGV4dFxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50KSBcblxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcmlkUmVmLmN1cnJlbnQpXG4gICAgICAgIHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVzaXplZCcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkUpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIGNvbmZpZyB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplIHdpdGggaW5oZXJpdGVkIHN0eWxlc1xuICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOjAsXG4gICAgICAgICAgICByaWdodDowLFxuICAgICAgICAgICAgYm90dG9tOjAsXG4gICAgICAgICAgICBsZWZ0OjAsXG4gICAgICAgICAgICBvdmVyZmxvdzonYXV0bycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3JlZCcsXG4gICAgICAgIH0sIHN0eWxlcy52aWV3cG9ydClcblxuICAgIH0sW3N0eWxlcy52aWV3cG9ydF0pXG5cbiAgICAvLyB1cGRhdGUgd2l0aCBjb25maWcgdmFsdWVzXG4gICAgZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgLy8gVE9ETzogZ2FwXG4gICAgICAgIGxldCBtaW5jcm9zc2xlbmd0aCA9IGNhbGNNaW5WaWV3cG9ydENyb3NzTGVuZ3RoKG9yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIGdhcCwgcGFkZGluZylcbiAgICAgICAgbGV0IHN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe30sZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KSAvLyBhdm9pZCByZWFkb25seVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSBtaW5jcm9zc2xlbmd0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlcy5taW5IZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlcy5taW5XaWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgc3R5bGVzLm1pbkhlaWdodCA9IG1pbmNyb3NzbGVuZ3RoICsgJ3B4J1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlc1xuXG4gICAgfSxbb3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgZ2FwLCBwYWRkaW5nXSlcblxuICAgIC8vIHVwZGF0ZSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWY7IGFkZCB2aWV3cG9ydCBkaW1lbnNpb25zXG4gICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBpZiAodmlld3BvcnRTdGF0ZSA9PSAnc2V0dXAnKSByZXR1cm4gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7dG9wLCByaWdodCwgYm90dG9tLCBsZWZ0fSA9IHZpZXdwb3J0RWxlbWVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKHJpZ2h0IC0gbGVmdClcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGJvdHRvbSAtIHRvcClcblxuICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBkdXBsaWNhdGUgc2V0dGluZyBwcm9jZWR1cmUgd2l0aCBpbnRlcnJ1cHRoYW5kbGVyLnRzeCBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrXG4gICAgICAgIGNvbnN0IGxvY2FsVmlld3BvcnREYXRhID0ge1xuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOnt0b3AscmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICBlbGVtZW50UmVmOnZpZXdwb3J0RWxlbWVudFJlZixcbiAgICAgICAgICAgIGlzUmVzaXppbmc6aXNSZXNpemluZ1JlZi5jdXJyZW50LFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb250ZXh0IGNoYW5nZSB3aXRoIG5ldyBvYmplY3RcbiAgICAgICAgY29uc3Qgdmlld3BvcnRkYXRhb2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSx2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudCwgbG9jYWxWaWV3cG9ydERhdGEpIFxuXG4gICAgICAgIHJldHVybiAgdmlld3BvcnRkYXRhb2JqZWN0XG5cbiAgICB9LFtvcmllbnRhdGlvbiwgaXNSZXNpemluZ1JlZi5jdXJyZW50LCB2aWV3cG9ydFN0YXRlXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzdGF0ZSBwcm9jZXNzaW5nIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgc3dpdGNoICh2aWV3cG9ydFN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZWQnOlxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0sW3ZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIDxWaWV3cG9ydEludGVycnVwdC5Qcm92aWRlciB2YWx1ZSA9IHsgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgfT5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd2aWV3cG9ydCdcbiAgICAgICAgICAgIGRhdGEtc2Nyb2xsZXJpZCA9IHtzY3JvbGxlcklEfVxuICAgICAgICAgICAgc3R5bGUgPSB7ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fVxuICAgICAgICAgICAgcmVmID0ge3ZpZXdwb3J0RWxlbWVudFJlZn1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyAodmlld3BvcnRTdGF0ZSAhPSAnc2V0dXAnKSAmJiBjaGlsZHJlbiB9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvVmlld3BvcnRJbnRlcnJ1cHQuUHJvdmlkZXI+XG4gICAgXG59IC8vIFZpZXdwb3J0XG5cbi8vIGVzdGFibGlzaCBtaW5pbXVtIHdpZHRoL2hlaWdodCBmb3IgdGhlIHZpZXdwb3J0IC0tIGFwcHJveGltYXRlbHkgb25lIGl0ZW1cbi8vIGdhcCBvbmx5IGFwcGxpZXMgd2l0aCBtdWx0aS13aWR0aCBpdGVtcywgdGhlcmVmb3JlIG5vdCB1c2VkIGluIGNhbGN1bGF0aW9uc1xuY29uc3QgY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGggPSAob3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgZ2FwLCBwYWRkaW5nKSA9PiB7XG5cbiAgICBsZXQgY3Jvc3NsZW5ndGgsIGNlbGxMZW5ndGhcbiAgICBcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoIFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsSGVpZ2h0XG4gICAgfVxuICAgIGNyb3NzbGVuZ3RoID0gY2VsbExlbmd0aCArIChwYWRkaW5nICogMilcblxuICAgIHJldHVybiBjcm9zc2xlbmd0aFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdwb3J0XG4iXSwibmFtZXMiOlsiZXhwb3J0cyIsInJlYWN0XzEiLCJjcmVhdGVDb250ZXh0IiwiUmVzaXplT2JzZXJ2ZXIiLCJ3aW5kb3ciLCJyZXNpemVfb2JzZXJ2ZXJfMSIsIlJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRSIsIlZpZXdwb3J0IiwiX2EiLCJjaGlsZHJlbiIsImdyaWRTcGVjcyIsInN0eWxlcyIsInNjcm9sbGVySUQiLCJzY3JvbGxlckRhdGEiLCJnYXAiLCJwYWRkaW5nIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsInZpZXdwb3J0U3RhdGUiLCJzZXRWaWV3cG9ydFN0YXRlIiwidmlld3BvcnRTdGF0ZVJlZiIsImN1cnJlbnQiLCJpc01vdW50ZWRSZWYiLCJ2aWV3cG9ydEVsZW1lbnRSZWYiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJpc1JlcGFyZW50aW5nUmVmIiwiaXNSZXNpemluZyIsInZpZXdwb3J0RGltZW5zaW9ucyIsImVsZW1lbnRSZWYiLCJyZXNpemVUaW1lcmlkUmVmIiwiaXNSZXNpemluZ1JlZiIsInJlc2l6ZU9ic2VydmVyUmVmIiwicmVzaXplQ2FsbGJhY2siLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImVudHJpZXMiLCJ0YXJnZXQiLCJPYmplY3QiLCJhc3NpZ24iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGl2bGluZXJzdHlsZVJlZiIsInBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Iiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kQ29sb3IiLCJ2aWV3cG9ydCIsIm1pbmNyb3NzbGVuZ3RoIiwiY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGgiLCJvcmllbnRhdGlvbiIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJsb2NhbFZpZXdwb3J0RGF0YSIsInZpZXdwb3J0ZGF0YW9iamVjdCIsIlByb3ZpZGVyIiwidmFsdWUiLCJzdHlsZSIsInJlZiIsImNyb3NzbGVuZ3RoIiwiY2VsbExlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/viewport.tsx\n");

/***/ }),

/***/ "./node_modules/react-reverse-portal/dist/web/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-reverse-portal/dist/web/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InPortal\": () => (/* binding */ InPortal),\n/* harmony export */   \"OutPortal\": () => (/* binding */ OutPortal),\n/* harmony export */   \"createHtmlPortalNode\": () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   \"createSvgPortalNode\": () => (/* binding */ createSvgPortalNode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = 'html';\nvar ELEMENT_TYPE_SVG = 'svg';\n// ReactDOM can handle several different namespaces, but they're not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error(\"Unrecognized element type \\\"\" + elementType + \"\\\" for validateElementType.\");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement('div');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, 'g');\n    }\n    else {\n        throw new Error(\"Invalid element type \\\"\" + elementType + \"\\\" for createPortalNode: must be \\\"html\\\" or \\\"svg\\\".\");\n    }\n    if (options && typeof options === \"object\") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode's elementType needs to match\n            // the elementType it's being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error(\"Invalid element type for portal: \\\"\" + elementType + \"\\\" portalNodes must be used with \" + elementType + \" elements, but OutPortal is within <\" + newParent.tagName + \">.\");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren't currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we're switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsK0NBQWtCO0FBQ3ZELGlCQUFpQixpREFBb0I7QUFDckM7QUFDQSxtQkFBbUIsK0NBQWtCO0FBQ3JDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnQkFBZ0IsaUJBQWlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixVQUFVLDJCQUEyQjtBQUN2RTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQzJFO0FBQzNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZXZlcnNlLXBvcnRhbC9kaXN0L3dlYi9pbmRleC5qcz9lMDAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIEludGVybmFsbHksIHRoZSBwb3J0YWxOb2RlIG11c3QgYmUgZm9yIGVpdGhlciBIVE1MIG9yIFNWRyBlbGVtZW50c1xudmFyIEVMRU1FTlRfVFlQRV9IVE1MID0gJ2h0bWwnO1xudmFyIEVMRU1FTlRfVFlQRV9TVkcgPSAnc3ZnJztcbi8vIFJlYWN0RE9NIGNhbiBoYW5kbGUgc2V2ZXJhbCBkaWZmZXJlbnQgbmFtZXNwYWNlcywgYnV0IHRoZXkncmUgbm90IGV4cG9ydGVkIHB1YmxpY2x5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iODdhYWJkZmUxYjc0NjFlNzMzMWFiYjM2MDFkOWU2YmIyNzU0NGJjL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvc2hhcmVkL0RPTU5hbWVzcGFjZXMuanMjTDgtTDEwXG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG52YXIgdmFsaWRhdGVFbGVtZW50VHlwZSA9IGZ1bmN0aW9uIChkb21FbGVtZW50LCBlbGVtZW50VHlwZSkge1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSBFTEVNRU5UX1RZUEVfU1ZHKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgdmFsaWRhdGVFbGVtZW50VHlwZS5cIik7XG59O1xuLy8gVGhpcyBpcyB0aGUgaW50ZXJuYWwgaW1wbGVtZW50YXRpb246IHRoZSBwdWJsaWMgZW50cnkgcG9pbnRzIHNldCBlbGVtZW50VHlwZSB0byBhbiBhcHByb3ByaWF0ZSB2YWx1ZVxudmFyIGNyZWF0ZVBvcnRhbE5vZGUgPSBmdW5jdGlvbiAoZWxlbWVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbFByb3BzID0ge307XG4gICAgdmFyIHBhcmVudDtcbiAgICB2YXIgbGFzdFBsYWNlaG9sZGVyO1xuICAgIHZhciBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgY3JlYXRlUG9ydGFsTm9kZTogbXVzdCBiZSBcXFwiaHRtbFxcXCIgb3IgXFxcInN2Z1xcXCIuXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5hdHRyaWJ1dGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcG9ydGFsTm9kZSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICBzZXRQb3J0YWxQcm9wczogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBpbml0aWFsUHJvcHMgPSBwcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5pdGlhbFBvcnRhbFByb3BzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudDogZnVuY3Rpb24gKG5ld1BhcmVudCwgbmV3UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChuZXdQbGFjZWhvbGRlciA9PT0gbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtb3VudGVkIC0gbm9vcC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3J0YWxOb2RlLnVubW91bnQoKTtcbiAgICAgICAgICAgIC8vIFRvIHN1cHBvcnQgU1ZHIGFuZCBvdGhlciBub24taHRtbCBlbGVtZW50cywgdGhlIHBvcnRhbE5vZGUncyBlbGVtZW50VHlwZSBuZWVkcyB0byBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnRUeXBlIGl0J3MgYmVpbmcgcmVuZGVyZWQgaW50b1xuICAgICAgICAgICAgaWYgKG5ld1BhcmVudCAhPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUVsZW1lbnRUeXBlKG5ld1BhcmVudCwgZWxlbWVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZWxlbWVudCB0eXBlIGZvciBwb3J0YWw6IFxcXCJcIiArIGVsZW1lbnRUeXBlICsgXCJcXFwiIHBvcnRhbE5vZGVzIG11c3QgYmUgdXNlZCB3aXRoIFwiICsgZWxlbWVudFR5cGUgKyBcIiBlbGVtZW50cywgYnV0IE91dFBvcnRhbCBpcyB3aXRoaW4gPFwiICsgbmV3UGFyZW50LnRhZ05hbWUgKyBcIj4uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1BhcmVudC5yZXBsYWNlQ2hpbGQocG9ydGFsTm9kZS5lbGVtZW50LCBuZXdQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBwYXJlbnQgPSBuZXdQYXJlbnQ7XG4gICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSBuZXdQbGFjZWhvbGRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudDogZnVuY3Rpb24gKGV4cGVjdGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChleHBlY3RlZFBsYWNlaG9sZGVyICYmIGV4cGVjdGVkUGxhY2Vob2xkZXIgIT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdW5tb3VudHMgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgbW91bnRlZFxuICAgICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCBoYXZlIGJlZW4gYXV0b21hdGljYWxseSB1bm1vdW50ZWQgYWxyZWFkeSBieSBhIHN1YnNlcXVlbnQgbW91bnQoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChsYXN0UGxhY2Vob2xkZXIsIHBvcnRhbE5vZGUuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxhc3RQbGFjZWhvbGRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBvcnRhbE5vZGU7XG59O1xudmFyIEluUG9ydGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJblBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJblBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkUHJvcHNDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5wcm9wcy5ub2RlLCB7XG4gICAgICAgICAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXJlbmRlciB0aGUgY2hpbGQgbm9kZSBoZXJlIGlmL3doZW4gdGhlIG91dCBwb3J0YWwgcHJvcHMgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9kZVByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBub2RlUHJvcHM6IF90aGlzLnByb3BzLm5vZGUuZ2V0SW5pdGlhbFBvcnRhbFByb3BzKCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkZFByb3BzQ2hhbm5lbCgpO1xuICAgIH07XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG5vZGUgPSBfYS5ub2RlO1xuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBfdGhpcy5zdGF0ZS5ub2RlUHJvcHMpO1xuICAgICAgICB9KSwgbm9kZS5lbGVtZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBJblBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIE91dFBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3V0UG9ydGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE91dFBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGxhY2Vob2xkZXJOb2RlID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIF90aGlzLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9wc0ZvclRhcmdldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgbm9kZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm5vZGUuc2V0UG9ydGFsUHJvcHMocHJvcHNGb3JUYXJnZXQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIHRoaXMuY3VycmVudFBvcnRhbE5vZGUgPSBub2RlO1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2UgcmUtbW91bnQgb24gdXBkYXRlLCBqdXN0IGluIGNhc2Ugd2Ugd2VyZSB1bm1vdW50ZWQgKGUuZy4gYnlcbiAgICAgICAgLy8gYSBzZWNvbmQgT3V0UG9ydGFsLCB3aGljaCBoYXMgbm93IGJlZW4gcmVtb3ZlZClcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIC8vIElmIHdlJ3JlIHN3aXRjaGluZyBwb3J0YWwgbm9kZXMsIHdlIG5lZWQgdG8gY2xlYW4gdXAgdGhlIGN1cnJlbnQgb25lIGZpcnN0LlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9ydGFsTm9kZSAmJiBub2RlICE9PSB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlLnVubW91bnQodGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJlbmRlciBhIHBsYWNlaG9sZGVyIHRvIHRoZSBET00sIHNvIHdlIGNhbiBnZXQgYSByZWZlcmVuY2UgaW50b1xuICAgICAgICAvLyBvdXIgbG9jYXRpb24gaW4gdGhlIERPTSwgYW5kIHN3YXAgaXQgb3V0IGZvciB0aGUgcG9ydGFsZWQgbm9kZS5cbiAgICAgICAgLy8gQSA8ZGl2PiBwbGFjZWhvbGRlciB3b3JrcyBmaW5lIGV2ZW4gZm9yIFNWRy5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMucGxhY2Vob2xkZXJOb2RlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE91dFBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIGNyZWF0ZUh0bWxQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9IVE1MKTtcbnZhciBjcmVhdGVTdmdQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9TVkcpO1xuZXhwb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIGNyZWF0ZVN2Z1BvcnRhbE5vZGUsIEluUG9ydGFsLCBPdXRQb3J0YWwsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n");

/***/ }),

/***/ "./node_modules/requestidlecallback/index.js":
/*!***************************************************!*\
  !*** ./node_modules/requestidlecallback/index.js ***!
  \***************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/infinitegridscroller.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});