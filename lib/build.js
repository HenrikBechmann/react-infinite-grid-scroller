/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["react-infinite-grid-scroller"] = factory(require("react"), require("react-dom"));
	else
		root["react-infinite-grid-scroller"] = factory(root["react"], root["react-dom"]);
})(self, (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOMRectReadOnly\": () => (/* binding */ DOMRectReadOnly)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzP2ZkZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObservation\": () => (/* binding */ ResizeObservation)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isSVG)(target)\n        && !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isReplacedElement)(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__.calculateBoxSize)(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0U7QUFDTDtBQUNOO0FBQzNEO0FBQ0EsWUFBWSxxREFBSztBQUNqQixZQUFZLGlFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJGQUFvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUM0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzPzQ0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* binding */ ResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRTtBQUMxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RkFBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsdUZBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlEQUFTO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLHlGQUFrQztBQUMxQztBQUNBO0FBQ0EsUUFBUSwwRkFBbUM7QUFDM0M7QUFDQTtBQUNBLDZDQUE2QyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBLENBQUM7QUFDeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcz9kMDIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverBoxOptions\": () => (/* binding */ ResizeObserverBoxOptions)\n/* harmony export */ });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzP2U1NTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverController\": () => (/* binding */ ResizeObserverController)\n/* harmony export */ });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__.ResizeObservation(target, options && options.box));\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNIO0FBQ007QUFDSjtBQUMxRDtBQUNBO0FBQ0Esb0JBQW9CLCtCQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1RUFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFvQjtBQUNwRCwrQ0FBK0MsaUVBQWlCO0FBQ2hFLFlBQVksNkRBQVc7QUFDdkIsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQXNCLENBQUMsMkVBQXVCO0FBQzdFO0FBQ0EsWUFBWSw2REFBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9EQUFvRDtBQUN0SDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzP2YzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverDetail\": () => (/* binding */ ResizeObserverDetail)\n/* harmony export */ });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanM/NzgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverEntry\": () => (/* binding */ ResizeObserverEntry)\n/* harmony export */ });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__.calculateBoxSizes)(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.borderBoxSize]);\n        this.contentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQzFCO0FBQ3hDO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQWlCO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkIscURBQU07QUFDbkMsOEJBQThCLHFEQUFNO0FBQ3BDLHlDQUF5QyxxREFBTTtBQUMvQztBQUNBO0FBQ0EsQ0FBQztBQUM4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanM/NDFlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverSize\": () => (/* binding */ ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQU07QUFDZDtBQUNBO0FBQ0EsQ0FBQztBQUM2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcz9jNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcastActiveObservations\": () => (/* binding */ broadcastActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry(ot.target);\n            var targetDepth = (0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__.calculateDepthForNode)(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = (0,_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__.calculateBoxSize)(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDRztBQUNWO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQW1CO0FBQy9DLDhCQUE4Qiw2RUFBcUI7QUFDbkQ7QUFDQSxrQ0FBa0MsbUVBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhDQUE4Qyx5QkFBeUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzP2NhYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateBoxSize\": () => (/* binding */ calculateBoxSize),\n/* harmony export */   \"calculateBoxSizes\": () => (/* binding */ calculateBoxSizes)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isHidden)(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = (0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isSVG)(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RTtBQUNaO0FBQ047QUFDRjtBQUNWO0FBQ0E7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFnQixJQUFJLHFFQUEwQjtBQUM5RSx3Q0FBd0M7QUFDeEM7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxlQUFlLG1FQUFrQjtBQUNqQztBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWU7QUFDcEMsQ0FBQztBQUNEO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0dBQWlEO0FBQzlEO0FBQ0EsYUFBYSwwRkFBbUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcz8xMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateDepthForNode\": () => (/* binding */ calculateDepthForNode)\n/* harmony export */ });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_0__.isHidden)(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQzVDO0FBQ0EsUUFBUSx3REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzP2M5MzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deliverResizeLoopError\": () => (/* binding */ deliverResizeLoopError)\n/* harmony export */ });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanM/YzJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gatherActiveObservationsAtDepth\": () => (/* binding */ gatherActiveObservationsAtDepth)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if ((0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__.calculateDepthForNode)(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDSztBQUNoRTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQzJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzPzQ1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasActiveObservations\": () => (/* binding */ hasActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyx3RUFBb0IsaUJBQWlCLHFDQUFxQztBQUNyRjtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzP2RkYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasSkippedObservations\": () => (/* binding */ hasSkippedObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUMzRDtBQUNBLFdBQVcsd0VBQW9CLGlCQUFpQixzQ0FBc0M7QUFDdEY7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanM/YzEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* reexport safe */ _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__.ResizeObserver),\n/* harmony export */   \"ResizeObserverEntry\": () => (/* reexport safe */ _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry),\n/* harmony export */   \"ResizeObserverSize\": () => (/* reexport safe */ _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUNVO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9leHBvcnRzL3Jlc2l6ZS1vYnNlcnZlci5qcz8xZDFmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXInO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isElement\": () => (/* binding */ isElement),\n/* harmony export */   \"isHidden\": () => (/* binding */ isHidden),\n/* harmony export */   \"isReplacedElement\": () => (/* binding */ isReplacedElement),\n/* harmony export */   \"isSVG\": () => (/* binding */ isSVG)\n/* harmony export */ });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzPzNjZDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/element.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"freeze\": () => (/* binding */ freeze)\n/* harmony export */ });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzP2ZjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"global\": () => (/* binding */ global)\n/* harmony export */ });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/global.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"process\": () => (/* binding */ process)\n/* harmony export */ });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    while ((0,_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__.hasActiveObservations)()) {\n        depth = (0,_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__.broadcastActiveObservations)();\n        (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    }\n    if ((0,_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__.hasSkippedObservations)()) {\n        (0,_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__.deliverResizeLoopError)();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFO0FBQ0U7QUFDQTtBQUNVO0FBQ1E7QUFDaEc7QUFDQTtBQUNBLElBQUksNEdBQStCO0FBQ25DLFdBQVcsd0ZBQXFCO0FBQ2hDLGdCQUFnQixvR0FBMkI7QUFDM0MsUUFBUSw0R0FBK0I7QUFDdkM7QUFDQSxRQUFRLDBGQUFzQjtBQUM5QixRQUFRLDBGQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzP2Q0YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yJztcbmltcG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfSBmcm9tICcuLi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgnO1xudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB3aGlsZSAoaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVwdGggPSBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMoKTtcbiAgICAgICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgfVxuICAgIGlmIChoYXNTa2lwcGVkT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVsaXZlclJlc2l6ZUxvb3BFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGggPiAwO1xufTtcbmV4cG9ydCB7IHByb2Nlc3MgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/process.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueMicroTask\": () => (/* binding */ queueMicroTask)\n/* harmony export */ });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFtRCxjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDJDQUEyQyxrQkFBa0I7QUFDN0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanM/YTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueResizeObserver\": () => (/* binding */ queueResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    (0,_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__.queueMicroTask)(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7QUFDbEQ7QUFDQSxJQUFJLCtEQUFjO0FBQ2xCO0FBQ0EsS0FBSztBQUNMO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcz9hMzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resizeObservers\": () => (/* binding */ resizeObservers)\n/* harmony export */ });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanM/YThlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"scheduler\": () => (/* binding */ scheduler),\n/* harmony export */   \"updateCount\": () => (/* binding */ updateCount)\n/* harmony export */ });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        (0,_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__.queueResizeObserver)(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = (0,_process__WEBPACK_IMPORTED_MODULE_0__.process)();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUNGO0FBQzBCO0FBQzVEO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFtQjtBQUMzQjtBQUNBO0FBQ0Esc0NBQXNDLGlEQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsK0JBQStCLDREQUF1QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLDREQUF1QiwrQkFBK0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sK0RBQTBCLCtCQUErQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanM/YjAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n");

/***/ }),

/***/ "./src/CellFrame.tsx":
/*!***************************!*\
  !*** ./src/CellFrame.tsx ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cellframe.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ \"./node_modules/requestidlecallback/index.js\");\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar Placeholder_1 = __importDefault(__webpack_require__(/*! ./cellframe/Placeholder */ \"./src/cellframe/Placeholder.tsx\"));\n\nvar Cradle_1 = __webpack_require__(/*! ./Cradle */ \"./src/Cradle.tsx\");\n\nvar IDLECALLBACK_FETCHTIMEOUT = 4000; // TODO make cofigurable\n\nvar CellFrame = function CellFrame(_ref) {\n  var orientation = _ref.orientation,\n      cellHeight = _ref.cellHeight,\n      cellWidth = _ref.cellWidth,\n      getItem = _ref.getItem,\n      listsize = _ref.listsize,\n      placeholder = _ref.placeholder,\n      itemID = _ref.itemID,\n      index = _ref.index,\n      instanceID = _ref.instanceID,\n      scrollerID = _ref.scrollerID;\n  var cradleContext = (0, react_1.useContext)(Cradle_1.CradleContext);\n  var cacheHandler = cradleContext.cacheHandler,\n      cradlePassthroughPropertiesRef = cradleContext.cradlePassthroughPropertiesRef;\n\n  var _ref2 = (0, react_1.useState)({\n    overflow: 'hidden'\n  }),\n      _ref3 = _slicedToArray(_ref2, 2),\n      styles = _ref3[0],\n      saveStyles = _ref3[1];\n\n  var _ref4 = (0, react_1.useState)('setup'),\n      _ref5 = _slicedToArray(_ref4, 2),\n      frameStatus = _ref5[0],\n      setFrameStatus = _ref5[1];\n\n  var frameStatusRef = (0, react_1.useRef)(null);\n  frameStatusRef.current = frameStatus;\n  var frameRef = (0, react_1.useRef)(null);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var portalDataRef = (0, react_1.useRef)(null);\n  var placeholderRef = (0, react_1.useRef)(null);\n  var itemIDRef = (0, react_1.useRef)(null);\n  itemIDRef.current = itemID; // for unmount\n\n  (0, react_1.useEffect)(function () {\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    setFrameStatus('getusercontent');\n  }, [itemID]); // ----------------- [ placeholder definition ] -------------------------\n\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    return placeholder ? react_1[\"default\"].createElement(placeholder, {\n      index: index,\n      listsize: listsize\n    }) : null;\n  }, [index, placeholder, listsize]);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    var placeholder = customplaceholder ? customplaceholder : react_1[\"default\"].createElement(Placeholder_1[\"default\"], {\n      index: index,\n      listsize: listsize,\n      error: false\n    });\n    return placeholder;\n  }, [index, customplaceholder, listsize]); // ---------------- [ requestidlecallback config ] ------------------------\n\n  var requestidlecallback = window['requestIdleCallback'] ? window['requestIdleCallback'] : requestidlecallback_1.requestIdleCallback;\n  var cancelidlecallback = window['cancelIdleCallback'] ? window['cancelIdleCallback'] : requestidlecallback_1.cancelIdleCallback;\n  var requestIdleCallbackIdRef = (0, react_1.useRef)(null); // initialize cell content\n\n  (0, react_1.useEffect)(function () {\n    // unmount\n    return function () {\n      cacheHandler.removeRequestedPortal(index);\n      cancelidlecallback(requestIdleCallbackIdRef.current);\n    };\n  }, []); // cradle invariant ondemand callback parameter value\n\n  var getElementData = (0, react_1.useCallback)(function () {\n    return [index, frameRef];\n  }, []); // set styles\n\n  (0, react_1.useEffect)(function () {\n    var newStyles = getFrameStyles(orientation, cellHeight, cellWidth, styles);\n\n    if (isMountedRef.current) {\n      saveStyles(newStyles);\n    }\n  }, [orientation, cellHeight, cellWidth]);\n  var portalNodeRef = (0, react_1.useRef)(null);\n  var isReparentingRef = (0, react_1.useRef)(false);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (frameStatus) {\n      case 'setup':\n        // no-op\n        break;\n\n      case 'inserting':\n        {\n          setFrameStatus('ready');\n          break;\n        }\n\n      case 'getusercontent':\n        {\n          var _itemID = itemIDRef.current; // cacheHandler.getItemID(index)\n\n          var cached = cacheHandler.hasPortal(_itemID);\n\n          if (cached) {\n            portalDataRef.current = cacheHandler.getPortal(_itemID);\n            portalNodeRef.current = portalDataRef.current.portalNode;\n            portalDataRef.current.isReparentingRef.current = true;\n            setFrameStatus('inserting');\n          } else {\n            setFrameStatus('waiting');\n            cacheHandler.registerRequestedPortal(index); // TODO review implementation of async here\n\n            requestIdleCallbackIdRef.current = requestidlecallback(function () {\n              return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                var usercontent, content, scrollerData;\n                return _regeneratorRuntime().wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return getItem(index, _itemID);\n\n                      case 2:\n                        usercontent = _context.sent;\n\n                        if (isMountedRef.current) {\n                          if (usercontent) {\n                            scrollerData = {\n                              isReparentingRef: null,\n                              cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef\n                            };\n\n                            if (usercontent.props.hasOwnProperty('scrollerData')) {\n                              content = react_1[\"default\"].cloneElement(usercontent, {\n                                scrollerData: scrollerData\n                              });\n                            } else {\n                              content = usercontent;\n                            }\n\n                            portalDataRef.current = cacheHandler.createPortal(content, index, _itemID);\n                            portalNodeRef.current = portalDataRef.current.portalNode; // make available to user content\n\n                            scrollerData.isReparentingRef = portalDataRef.current.isReparentingRef;\n                          } else {\n                            console.log('ERROR', 'no content item');\n                          }\n                        } // console.log('loading portal item')\n\n\n                        setFrameStatus('inserting');\n\n                      case 5:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n            }, {\n              timeout: IDLECALLBACK_FETCHTIMEOUT\n            });\n          }\n\n          break;\n        }\n\n      case 'waiting':\n        {\n          break;\n        }\n    }\n  }, [frameStatus]);\n  (0, react_1.useEffect)(function () {\n    switch (frameStatus) {\n      case 'ready':\n        {\n          // no-op\n          break;\n        }\n    }\n  }, [frameStatus]);\n  return react_1[\"default\"].createElement(\"div\", {\n    ref: frameRef,\n    \"data-type\": 'cellframe',\n    \"data-scrollerid\": scrollerID,\n    \"data-index\": index,\n    \"data-instanceid\": instanceID,\n    style: styles\n  }, frameStatus != 'ready' ? placeholderRef.current : react_1[\"default\"].createElement(react_reverse_portal_1.OutPortal, {\n    node: portalNodeRef.current\n  }));\n}; // CellFrame\n\n\nvar getFrameStyles = function getFrameStyles(orientation, cellHeight, cellWidth, styles) {\n  var styleset = Object.assign({\n    position: 'relative'\n  }, styles);\n\n  if (orientation == 'horizontal') {\n    styleset.width = cellWidth ? cellWidth + 'px' : 'auto';\n    styleset.height = 'auto';\n  } else if (orientation === 'vertical') {\n    styleset.width = 'auto';\n    styleset.height = cellHeight ? cellHeight + 'px' : 'auto';\n  }\n\n  return styleset;\n};\n\nexports[\"default\"] = CellFrame;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBWUVFLFdBQVcsSUFBSSxPQUFoQixHQUNJTyxjQUFjLENBQUNKLE9BRG5CLEdBRUlPLGlDQUFDaUMsZ0NBQUQsRUFBVTtJQUFDQyxJQUFJLEVBQUtyQixhQUFhLENBQUNwQjtFQUF4QixDQUFWLENBZEwsQ0FBUDtBQW1CSCxDQS9PRCxDLENBK09FOzs7QUFFRixJQUFNbUIsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDdkMsV0FBRCxFQUFjQyxVQUFkLEVBQTBCQyxTQUExQixFQUFxQ2EsTUFBckMsRUFBK0M7RUFFbEUsSUFBSStDLFFBQVEsR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7SUFBQ0MsUUFBUSxFQUFDO0VBQVYsQ0FBZCxFQUFvQ2xELE1BQXBDLENBQWY7O0VBRUEsSUFBSWYsV0FBVyxJQUFJLFlBQW5CLEVBQWlDO0lBQzdCOEQsUUFBUSxDQUFDSSxLQUFULEdBQ0loRSxTQUFTLEdBQ0pBLFNBQVMsR0FBRyxJQURSLEdBRUwsTUFIUjtJQUlBNEQsUUFBUSxDQUFDSyxNQUFULEdBQWtCLE1BQWxCO0VBRUgsQ0FQRCxNQU9PLElBQUluRSxXQUFXLEtBQUssVUFBcEIsRUFBZ0M7SUFFbkM4RCxRQUFRLENBQUNJLEtBQVQsR0FBaUIsTUFBakI7SUFDQUosUUFBUSxDQUFDSyxNQUFULEdBQ0lsRSxVQUFVLEdBQ0xBLFVBQVUsR0FBRyxJQURSLEdBRU4sTUFIUjtFQUtIOztFQUVELE9BQU82RCxRQUFQO0FBRUgsQ0F2QkQ7O0FBeUJBTSxrQkFBQUEsR0FBZXJFLFNBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL0NlbGxGcmFtZS50c3g/ZjE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjZWxsZnJhbWUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VSZWYsIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtyZXF1ZXN0SWRsZUNhbGxiYWNrLCBjYW5jZWxJZGxlQ2FsbGJhY2t9IGZyb20gJ3JlcXVlc3RpZGxlY2FsbGJhY2snXG5cbmltcG9ydCB7IE91dFBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJ1xuXG5pbXBvcnQgUGxhY2Vob2xkZXIgZnJvbSAnLi9jZWxsZnJhbWUvUGxhY2Vob2xkZXInXG5cbmltcG9ydCB7IENyYWRsZUNvbnRleHQgfSBmcm9tICcuL0NyYWRsZSdcblxuY29uc3QgSURMRUNBTExCQUNLX0ZFVENIVElNRU9VVCA9IDQwMDAgLy8gVE9ETyBtYWtlIGNvZmlndXJhYmxlXG5cbmNvbnN0IENlbGxGcmFtZSA9ICh7XG4gICAgb3JpZW50YXRpb24sIFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGNlbGxXaWR0aCwgXG4gICAgZ2V0SXRlbSwgXG4gICAgbGlzdHNpemUsIFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIGl0ZW1JRCwgXG4gICAgaW5kZXgsIFxuICAgIGluc3RhbmNlSUQsIFxuICAgIHNjcm9sbGVySUQsXG59KSA9PiB7XG5cbiAgICBjb25zdCBjcmFkbGVDb250ZXh0ID0gdXNlQ29udGV4dChDcmFkbGVDb250ZXh0KVxuXG4gICAgY29uc3QgeyBjYWNoZUhhbmRsZXIsIGNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiB9ID0gY3JhZGxlQ29udGV4dFxuICAgIFxuICAgIGNvbnN0IFtzdHlsZXMsc2F2ZVN0eWxlc10gPSB1c2VTdGF0ZSh7XG4gICAgICAgIG92ZXJmbG93OidoaWRkZW4nLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcylcblxuICAgIGNvbnN0IFtmcmFtZVN0YXR1cywgc2V0RnJhbWVTdGF0dXNdID0gdXNlU3RhdGUoJ3NldHVwJylcbiAgICBjb25zdCBmcmFtZVN0YXR1c1JlZiA9IHVzZVJlZihudWxsKVxuICAgIGZyYW1lU3RhdHVzUmVmLmN1cnJlbnQgPSBmcmFtZVN0YXR1c1xuXG4gICAgY29uc3QgZnJhbWVSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuXG4gICAgY29uc3QgcG9ydGFsRGF0YVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgY29uc3QgcGxhY2Vob2xkZXJSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGl0ZW1JRFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGl0ZW1JRFJlZi5jdXJyZW50ID0gaXRlbUlEXG5cbiAgICAvLyBmb3IgdW5tb3VudFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBzZXRGcmFtZVN0YXR1cygnZ2V0dXNlcmNvbnRlbnQnKVxuXG4gICAgfSxbaXRlbUlEXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFsgcGxhY2Vob2xkZXIgZGVmaW5pdGlvbiBdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGN1c3RvbXBsYWNlaG9sZGVyID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcj9cbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KHBsYWNlaG9sZGVyLCB7aW5kZXgsIGxpc3RzaXplfSk6XG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgXG4gICAgfSxbaW5kZXgsIHBsYWNlaG9sZGVyLGxpc3RzaXplXSlcblxuICAgIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpPT57XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gXG4gICAgICAgICAgICBjdXN0b21wbGFjZWhvbGRlcj9cbiAgICAgICAgICAgICAgICBjdXN0b21wbGFjZWhvbGRlcjpcbiAgICAgICAgICAgICAgICA8UGxhY2Vob2xkZXIgaW5kZXggPSB7aW5kZXh9IGxpc3RzaXplID0ge2xpc3RzaXplfSBlcnJvciA9IHtmYWxzZX0vPlxuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXJcbiAgICB9LCBbaW5kZXgsIGN1c3RvbXBsYWNlaG9sZGVyLCBsaXN0c2l6ZV0pO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBbIHJlcXVlc3RpZGxlY2FsbGJhY2sgY29uZmlnIF0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCByZXF1ZXN0aWRsZWNhbGxiYWNrID0gXG4gICAgICAgIHdpbmRvd1sncmVxdWVzdElkbGVDYWxsYmFjayddP1xuICAgICAgICAgICAgd2luZG93WydyZXF1ZXN0SWRsZUNhbGxiYWNrJ106XG4gICAgICAgICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrXG4gICAgY29uc3QgY2FuY2VsaWRsZWNhbGxiYWNrID0gXG4gICAgICAgIHdpbmRvd1snY2FuY2VsSWRsZUNhbGxiYWNrJ10/XG4gICAgICAgICAgICB3aW5kb3dbJ2NhbmNlbElkbGVDYWxsYmFjayddOlxuICAgICAgICAgICAgY2FuY2VsSWRsZUNhbGxiYWNrXG5cbiAgICBjb25zdCByZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIGluaXRpYWxpemUgY2VsbCBjb250ZW50XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGNhY2hlSGFuZGxlci5yZW1vdmVSZXF1ZXN0ZWRQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgICAgIGNhbmNlbGlkbGVjYWxsYmFjayhyZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYuY3VycmVudClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG5cbiAgICAvLyBjcmFkbGUgaW52YXJpYW50IG9uZGVtYW5kIGNhbGxiYWNrIHBhcmFtZXRlciB2YWx1ZVxuICAgIGNvbnN0IGdldEVsZW1lbnREYXRhID0gdXNlQ2FsbGJhY2soKCk9PntcblxuICAgICAgICByZXR1cm4gW2luZGV4LCBmcmFtZVJlZl1cbiAgICAgICAgXG4gICAgfSxbXSlcblxuICAgIC8vIHNldCBzdHlsZXNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBsZXQgbmV3U3R5bGVzID0gZ2V0RnJhbWVTdHlsZXMob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgc3R5bGVzKVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzYXZlU3R5bGVzKG5ld1N0eWxlcylcbiAgICAgICAgfVxuXG4gICAgfSxbb3JpZW50YXRpb24sY2VsbEhlaWdodCxjZWxsV2lkdGhdKSBcblxuICAgIGNvbnN0IHBvcnRhbE5vZGVSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGlzUmVwYXJlbnRpbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG5cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIHN3aXRjaCAoZnJhbWVTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzpcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgJ2luc2VydGluZyc6IHtcblxuICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdHVzKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnZXR1c2VyY29udGVudCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1JRCA9IGl0ZW1JRFJlZi5jdXJyZW50IC8vIGNhY2hlSGFuZGxlci5nZXRJdGVtSUQoaW5kZXgpXG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGVIYW5kbGVyLmhhc1BvcnRhbChpdGVtSUQpXG5cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcG9ydGFsRGF0YVJlZi5jdXJyZW50ID0gY2FjaGVIYW5kbGVyLmdldFBvcnRhbChpdGVtSUQpXG5cbiAgICAgICAgICAgICAgICAgICAgcG9ydGFsTm9kZVJlZi5jdXJyZW50ID0gcG9ydGFsRGF0YVJlZi5jdXJyZW50LnBvcnRhbE5vZGVcblxuICAgICAgICAgICAgICAgICAgICBwb3J0YWxEYXRhUmVmLmN1cnJlbnQuaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdHVzKCdpbnNlcnRpbmcnKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXR1cygnd2FpdGluZycpXG5cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLnJlZ2lzdGVyUmVxdWVzdGVkUG9ydGFsKGluZGV4KVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcmV2aWV3IGltcGxlbWVudGF0aW9uIG9mIGFzeW5jIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkbGVDYWxsYmFja0lkUmVmLmN1cnJlbnQgPSByZXF1ZXN0aWRsZWNhbGxiYWNrKGFzeW5jICgpPT57XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJjb250ZW50ID0gYXdhaXQgZ2V0SXRlbShpbmRleCwgaXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZW50IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxlckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmOm51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJjb250ZW50LnByb3BzLmhhc093blByb3BlcnR5KCdzY3JvbGxlckRhdGEnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IFJlYWN0LmNsb25lRWxlbWVudCh1c2VyY29udGVudCwge3Njcm9sbGVyRGF0YX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gdXNlcmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbERhdGFSZWYuY3VycmVudCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLmNyZWF0ZVBvcnRhbChjb250ZW50LCBpbmRleCwgaXRlbUlEKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgID0gcG9ydGFsRGF0YVJlZi5jdXJyZW50LnBvcnRhbE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBhdmFpbGFibGUgdG8gdXNlciBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyRGF0YS5pc1JlcGFyZW50aW5nUmVmID0gcG9ydGFsRGF0YVJlZi5jdXJyZW50LmlzUmVwYXJlbnRpbmdSZWZcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywnbm8gY29udGVudCBpdGVtJylcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbG9hZGluZyBwb3J0YWwgaXRlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXR1cygnaW5zZXJ0aW5nJylcblxuICAgICAgICAgICAgICAgICAgICB9LHt0aW1lb3V0OklETEVDQUxMQkFDS19GRVRDSFRJTUVPVVR9KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnd2FpdGluZyc6IHtcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSwgW2ZyYW1lU3RhdHVzXSlcblxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChmcmFtZVN0YXR1cykge1xuXG4gICAgICAgICAgICBjYXNlICdyZWFkeSc6IHsgLy8gbm8tb3BcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sIFtmcmFtZVN0YXR1c10pXG5cbiAgICByZXR1cm4gPGRpdiBcblxuICAgICAgICByZWYgPSB7IGZyYW1lUmVmIH0gXG4gICAgICAgIGRhdGEtdHlwZSA9ICdjZWxsZnJhbWUnIFxuICAgICAgICBkYXRhLXNjcm9sbGVyaWQgPSB7IHNjcm9sbGVySUQgfSBcbiAgICAgICAgZGF0YS1pbmRleCA9IHsgaW5kZXggfSBcbiAgICAgICAgZGF0YS1pbnN0YW5jZWlkID0geyBpbnN0YW5jZUlEIH0gXG4gICAgICAgIHN0eWxlID0geyBzdHlsZXMgfVxuXG4gICAgPlxuXG4gICAgICAgIHsgXG4gICAgICAgICAgICAoZnJhbWVTdGF0dXMgIT0gJ3JlYWR5Jyk/XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJSZWYuY3VycmVudDpcbiAgICAgICAgICAgICAgICA8T3V0UG9ydGFsIG5vZGUgPSB7IHBvcnRhbE5vZGVSZWYuY3VycmVudCB9Lz5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICA8L2Rpdj5cblxufSAvLyBDZWxsRnJhbWVcblxuY29uc3QgZ2V0RnJhbWVTdHlsZXMgPSAob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgc3R5bGVzKSA9PiB7XG5cbiAgICBsZXQgc3R5bGVzZXQgPSBPYmplY3QuYXNzaWduKHtwb3NpdGlvbjoncmVsYXRpdmUnfSxzdHlsZXMpXG5cbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIHN0eWxlc2V0LndpZHRoID0gXG4gICAgICAgICAgICBjZWxsV2lkdGg/XG4gICAgICAgICAgICAgICAgKGNlbGxXaWR0aCArICdweCcpOlxuICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICBzdHlsZXNldC5oZWlnaHQgPSAnYXV0bydcblxuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICBzdHlsZXNldC53aWR0aCA9ICdhdXRvJ1xuICAgICAgICBzdHlsZXNldC5oZWlnaHQgPSBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQ/XG4gICAgICAgICAgICAgICAgKGNlbGxIZWlnaHQgKyAncHgnKTpcbiAgICAgICAgICAgICAgICAnYXV0bydcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlc2V0XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2VsbEZyYW1lXG4iXSwibmFtZXMiOlsiSURMRUNBTExCQUNLX0ZFVENIVElNRU9VVCIsIkNlbGxGcmFtZSIsIm9yaWVudGF0aW9uIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImdldEl0ZW0iLCJsaXN0c2l6ZSIsInBsYWNlaG9sZGVyIiwiaXRlbUlEIiwiaW5kZXgiLCJpbnN0YW5jZUlEIiwic2Nyb2xsZXJJRCIsImNyYWRsZUNvbnRleHQiLCJDcmFkbGVfMSIsImNhY2hlSGFuZGxlciIsImNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiIsIm92ZXJmbG93Iiwic3R5bGVzIiwic2F2ZVN0eWxlcyIsImZyYW1lU3RhdHVzIiwic2V0RnJhbWVTdGF0dXMiLCJmcmFtZVN0YXR1c1JlZiIsImN1cnJlbnQiLCJmcmFtZVJlZiIsImlzTW91bnRlZFJlZiIsInBvcnRhbERhdGFSZWYiLCJwbGFjZWhvbGRlclJlZiIsIml0ZW1JRFJlZiIsImN1c3RvbXBsYWNlaG9sZGVyIiwicmVhY3RfMSIsImNyZWF0ZUVsZW1lbnQiLCJQbGFjZWhvbGRlcl8xIiwiZXJyb3IiLCJyZXF1ZXN0aWRsZWNhbGxiYWNrIiwid2luZG93IiwicmVxdWVzdGlkbGVjYWxsYmFja18xIiwiY2FuY2VsaWRsZWNhbGxiYWNrIiwicmVxdWVzdElkbGVDYWxsYmFja0lkUmVmIiwicmVtb3ZlUmVxdWVzdGVkUG9ydGFsIiwiZ2V0RWxlbWVudERhdGEiLCJuZXdTdHlsZXMiLCJnZXRGcmFtZVN0eWxlcyIsInBvcnRhbE5vZGVSZWYiLCJpc1JlcGFyZW50aW5nUmVmIiwiY2FjaGVkIiwiaGFzUG9ydGFsIiwiZ2V0UG9ydGFsIiwicG9ydGFsTm9kZSIsInJlZ2lzdGVyUmVxdWVzdGVkUG9ydGFsIiwiX19hd2FpdGVyIiwidXNlcmNvbnRlbnQiLCJzY3JvbGxlckRhdGEiLCJwcm9wcyIsImhhc093blByb3BlcnR5IiwiY29udGVudCIsImNsb25lRWxlbWVudCIsImNyZWF0ZVBvcnRhbCIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lb3V0IiwicmVmIiwic3R5bGUiLCJyZWFjdF9yZXZlcnNlX3BvcnRhbF8xIiwibm9kZSIsInN0eWxlc2V0IiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/CellFrame.tsx\n");

/***/ }),

/***/ "./src/Cradle.tsx":
/*!************************!*\
  !*** ./src/Cradle.tsx ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cradle.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleContext = void 0;\n/*\n    consider formalizing state conditions (certain useRefs), together with state actions (useState)\n\n    - rationalize pauseScrolling, and other signals\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ \"./src/Viewport.tsx\"); // popup position tracker for repositioning\n\n\nvar Scrolltracker_1 = __importDefault(__webpack_require__(/*! ./cradle/Scrolltracker */ \"./src/cradle/Scrolltracker.tsx\")); // support code\n\n\nvar scrollhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollhandler */ \"./src/cradle/scrollhandler.tsx\"));\n\nvar statehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/statehandler */ \"./src/cradle/statehandler.tsx\"));\n\nvar contenthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/contenthandler */ \"./src/cradle/contenthandler.tsx\"));\n\nvar scaffoldhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scaffoldhandler */ \"./src/cradle/scaffoldhandler.tsx\"));\n\nvar interrupthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/interrupthandler */ \"./src/cradle/interrupthandler.tsx\"));\n\nvar servicehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/servicehandler */ \"./src/cradle/servicehandler.tsx\"));\n\nvar styleshandler_1 = __importDefault(__webpack_require__(/*! ./cradle/styleshandler */ \"./src/cradle/styleshandler.tsx\")); // for children\n\n\nexports.CradleContext = react_1[\"default\"].createContext(null); // component\n\nvar Cradle = function Cradle(_ref) {\n  var gridSpecs = _ref.gridSpecs,\n      runwaySize = _ref.runwaySize,\n      listsize = _ref.listsize,\n      startingIndex = _ref.startingIndex,\n      getItem = _ref.getItem,\n      placeholder = _ref.placeholder,\n      userFunctions = _ref.userFunctions,\n      styles = _ref.styles,\n      triggerlineOffset = _ref.triggerlineOffset,\n      cache = _ref.cache,\n      cacheMax = _ref.cacheMax,\n      scrollerID = _ref.scrollerID,\n      cacheHandler = _ref.cacheHandler;\n\n  var _a, _b;\n\n  if (listsize == 0) return null; // nothing to do\n  // ========================[ DATA SETUP ]========================\n  // unpack gridSpecs\n\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // get viewport context\n\n  var viewportInterruptProperties = (0, react_1.useContext)(Viewport_1.ViewportInterrupt);\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)(null);\n  viewportInterruptPropertiesRef.current = viewportInterruptProperties; // for closures\n\n  var viewportDimensions = viewportInterruptProperties.viewportDimensions;\n  var viewportheight = viewportDimensions.height,\n      viewportwidth = viewportDimensions.width; // state\n\n  var _ref2 = (0, react_1.useState)('setup'),\n      _ref3 = _slicedToArray(_ref2, 2),\n      cradleState = _ref3[0],\n      setCradleState = _ref3[1];\n\n  var cradleStateRef = (0, react_1.useRef)(null); // access by closures\n\n  cradleStateRef.current = cradleState; // console.log('RUNNING cradleState','-'+scrollerID+'-', cradleState)\n  // controls\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  var isCachedRef = (0, react_1.useRef)(false);\n  var wasCachedRef = (0, react_1.useRef)(false);\n  var parentingTransitionRequiredRef = (0, react_1.useRef)(false);\n  var triggerlineRecordsRef = (0, react_1.useRef)({\n    wasViewportScrollingForward: null,\n    driver: null,\n    offset: null\n  }); // cradle scaffold element refs\n\n  var headCradleElementRef = (0, react_1.useRef)(null);\n  var tailCradleElementRef = (0, react_1.useRef)(null);\n  var axisCradleElementRef = (0, react_1.useRef)(null);\n  var headTriggerlineCradleElementRef = (0, react_1.useRef)(null);\n  var tailTriggerlineCradleElementRef = (0, react_1.useRef)(null); // scaffold bundle\n\n  var cradleElementsRef = (0, react_1.useRef)({\n    headRef: headCradleElementRef,\n    tailRef: tailCradleElementRef,\n    axisRef: axisCradleElementRef,\n    headTriggerlineRef: headTriggerlineCradleElementRef,\n    tailTriggerlineRef: tailTriggerlineCradleElementRef\n  }); // ------------------------[ calculated properties ]------------------------\n  // configuration calculations\n\n  var crosscount = (0, react_1.useMemo)(function () {\n    var viewportsize = orientation == 'horizontal' ? viewportheight : viewportwidth;\n\n    if (viewportsize == 0) {\n      return 0;\n    }\n\n    var crossLength = orientation == 'horizontal' ? cellHeight : cellWidth;\n    var viewportlengthforcalc = viewportsize - padding * 2 + gap; // length of viewport\n\n    var tilelengthforcalc = crossLength + gap;\n    tilelengthforcalc = Math.min(tilelengthforcalc, viewportlengthforcalc); // result cannot be less than 1\n\n    var crosscount = Math.floor(viewportlengthforcalc / tilelengthforcalc);\n    return crosscount;\n  }, [orientation, gap, padding, cellWidth, cellHeight, viewportheight, viewportwidth]);\n\n  var _ref4 = (0, react_1.useMemo)(function () {\n    var viewportLength, rowLength;\n\n    if (orientation == 'vertical') {\n      viewportLength = viewportheight;\n      rowLength = cellHeight;\n    } else {\n      viewportLength = viewportwidth;\n      rowLength = cellWidth;\n    }\n\n    rowLength += gap;\n    var viewportRowcount = Math.ceil(viewportLength / rowLength);\n    var viewportVisibleRowcount = Math.floor(viewportLength / rowLength);\n    var listRowcount = Math.ceil(listsize / crosscount);\n    var calculatedCradleRowcount = viewportRowcount + runwaySize * 2;\n    var cradleRowcount = Math.min(listRowcount, calculatedCradleRowcount);\n    var runwayRowcount;\n\n    if (calculatedCradleRowcount >= cradleRowcount) {\n      runwayRowcount = runwaySize;\n    } else {\n      var diff = cradleRowcount - calculatedCradleRowcount;\n      runwayRowcount -= Math.floor(diff / 2);\n      runwayRowcount = Math.max(0, runwayRowcount);\n    }\n\n    var itemcount = cradleRowcount * crosscount;\n\n    if (itemcount > listsize) {\n      itemcount = listsize;\n      cradleRowcount = Math.ceil(itemcount / crosscount);\n    }\n\n    return [cradleRowcount, viewportRowcount, viewportVisibleRowcount, listRowcount, runwayRowcount];\n  }, [orientation, gap, // padding,\n  cellWidth, cellHeight, viewportheight, viewportwidth, listsize, runwaySize, crosscount]),\n      _ref5 = _slicedToArray(_ref4, 5),\n      cradleRowcount = _ref5[0],\n      viewportRowcount = _ref5[1],\n      viewportVisibleRowcount = _ref5[2],\n      // max number of rows completely visible at once\n  listRowcount = _ref5[3],\n      runwayRowcount = _ref5[4]; // ----------------------[ callbacks ]----------------------------\n  // host callbacks\n  // const referenceIndexCallbackRef = useRef(functions?.referenceIndexCallback)\n  // const preloadIndexCallbackRef = useRef(functions?.preloadIndexCallback)\n\n\n  var externalCallbacksRef = (0, react_1.useRef)({\n    referenceIndexCallback: userFunctions === null || userFunctions === void 0 ? void 0 : userFunctions.referenceIndexCallback,\n    preloadIndexCallback: userFunctions === null || userFunctions === void 0 ? void 0 : userFunctions.preloadIndexCallback,\n    cacheDeleteListCallback: userFunctions === null || userFunctions === void 0 ? void 0 : userFunctions.cacheDeleteListCallback,\n    newListSizeCallback: userFunctions === null || userFunctions === void 0 ? void 0 : userFunctions.newListSizeCallback\n  }); // -----------------[ bundle parameters for handlers ]-------------------\n  // bundle all cradle props to pass to handlers - ultimately cradleParametersRef\n\n  var cradleInheritedPropertiesRef = (0, react_1.useRef)(null); // access by closures and support functions\n  // up to date values\n\n  cradleInheritedPropertiesRef.current = {\n    // gridSpecs\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout,\n    // ...rest\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    triggerlineOffset: triggerlineOffset,\n    scrollerID: scrollerID,\n    // objects\n    userFunctions: userFunctions,\n    styles: styles,\n    cacheHandler: cacheHandler\n  };\n  var cradlePassthroughPropertiesRef = (0, react_1.useRef)(null); // passed to cellFrame content (user content) if requested\n\n  cradlePassthroughPropertiesRef.current = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout,\n    runwayRowcount: runwayRowcount,\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    triggerlineOffset: triggerlineOffset\n  }; // configuration properties to share\n\n  var cradleInternalPropertiesRef = (0, react_1.useRef)(null);\n  cradleInternalPropertiesRef.current = {\n    // updated values\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    viewportVisibleRowcount: viewportVisibleRowcount,\n    listRowcount: listRowcount,\n    listsize: listsize,\n    runwayRowcount: runwayRowcount,\n    // the following values are maintained elsewhere\n    isMountedRef: isMountedRef,\n    cradleElementsRef: cradleElementsRef,\n    isCachedRef: isCachedRef,\n    wasCachedRef: wasCachedRef,\n    triggerlineRecordsRef: triggerlineRecordsRef,\n    // for stateHandler\n    cradleStateRef: cradleStateRef,\n    setCradleState: setCradleState\n  }; // placeholder in cradleParameters to make available individual handlers\n\n  var handlersRef = (0, react_1.useRef)(null); // cradle parameters MASTER BUNDLE\n\n  var cradleParameters = {\n    handlersRef: handlersRef,\n    viewportInterruptPropertiesRef: viewportInterruptPropertiesRef,\n    cradleInheritedPropertiesRef: cradleInheritedPropertiesRef,\n    cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef,\n    cradleInternalPropertiesRef: cradleInternalPropertiesRef,\n    externalCallbacksRef: externalCallbacksRef\n  };\n  var cradleParametersRef = (0, react_1.useRef)(null);\n  cradleParametersRef.current = cradleParameters; // ongoing source of handlers - note all Handlers are given all parameters (cradleParameters)\n\n  if (!handlersRef.current) {\n    handlersRef.current = getCradleHandlers(cradleParameters);\n  } // make handlers directly available to cradle code below\n\n\n  var _handlersRef$current = handlersRef.current,\n      interruptHandler = _handlersRef$current.interruptHandler,\n      scrollHandler = _handlersRef$current.scrollHandler,\n      stateHandler = _handlersRef$current.stateHandler,\n      contentHandler = _handlersRef$current.contentHandler,\n      scaffoldHandler = _handlersRef$current.scaffoldHandler,\n      serviceHandler = _handlersRef$current.serviceHandler,\n      stylesHandler = _handlersRef$current.stylesHandler; // =======================[ CACHING STATE CHANGE SENTINEL ]=========================\n  // intercept change in caching status\n  // when a portal is cached, including the transition of being moved from one cellFrame to another,\n  // (and the infinitegridscroller can be a component that is cached),\n  // the scrollPos (scrollLeft or scrollTop) is reset to 0 (zero). When the scroller is \n  // moved to a cellFrame, this code restores the scrollPos.\n  // The restore action must be the first priority to hide the scrollPos changes from the user\n\n  var isInPortal = viewportwidth == 0 && viewportheight == 0; // must be in portal (cache) state\n\n  var isCacheChange = isInPortal != isCachedRef.current;\n\n  if (isCacheChange) {\n    wasCachedRef.current = isCachedRef.current;\n    isCachedRef.current = isInPortal;\n  }\n\n  var isCachingUnderway = isCachedRef.current || wasCachedRef.current;\n\n  if (isCacheChange || ((_a = viewportInterruptProperties.isReparentingRef) === null || _a === void 0 ? void 0 : _a.current) || viewportInterruptProperties.isResizing && isCachingUnderway) {\n    if ((_b = viewportInterruptProperties.isReparentingRef) === null || _b === void 0 ? void 0 : _b.current) {\n      viewportInterruptProperties.isReparentingRef.current = false; // no longer needed\n\n      parentingTransitionRequiredRef.current = true;\n    }\n\n    if (viewportInterruptProperties.isResizing) {\n      // caching is underway, so cancel\n      viewportInterruptProperties.isResizing = false;\n    }\n\n    if (isCacheChange) {\n      // into or out of caching\n      if (isCachedRef.current && !wasCachedRef.current) {\n        // change into cache\n        interruptHandler.pauseInterrupts();\n      } else if (!isCachedRef.current && wasCachedRef.current) {\n        // change out of cache\n        interruptHandler.restoreInterrupts();\n      }\n    }\n  } // generate state for restoring scrollPos\n\n\n  (0, react_1.useEffect)(function () {\n    if (parentingTransitionRequiredRef.current) {\n      parentingTransitionRequiredRef.current = false;\n      setCradleState('reparentingtransition');\n    }\n  }, [parentingTransitionRequiredRef.current]); // change state for entering or leaving cache\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // nothing to do\n\n    if (isCachedRef.current && !wasCachedRef.current) {\n      // into cache\n      setCradleState('cached'); // replaces 'ready' as steady state\n    } else if (!isCachedRef.current && wasCachedRef.current) {\n      // out of cache\n      wasCachedRef.current = false;\n\n      if (cradleStateRef.current == 'cachedwaiting') {\n        setCradleState('ready');\n      } else {\n        setCradleState('setcradlecontent');\n      }\n    }\n  }, [isCachedRef.current, wasCachedRef.current]); // ===================[ INITIALIZATION effects ]=========================\n  // initialization effects are independent of caching\n  // clear mounted flag on unmount\n\n  (0, react_1.useLayoutEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); //send callback functions to host\n\n  (0, react_1.useEffect)(function () {\n    if (!userFunctions.getCallbacks) return;\n    var scrollToItem = serviceHandler.scrollToItem,\n        reload = serviceHandler.reload,\n        setListsize = serviceHandler.setListsize,\n        clearCache = serviceHandler.clearCache,\n        getCacheMap = serviceHandler.getCacheMap,\n        getCacheList = serviceHandler.getCacheList,\n        getCradleMap = serviceHandler.getCradleMap,\n        modifyCacheMap = serviceHandler.modifyCacheMap,\n        moveIndex = serviceHandler.moveIndex,\n        insertIndex = serviceHandler.insertIndex,\n        removeIndex = serviceHandler.removeIndex;\n    var callbacks = {\n      scrollToItem: scrollToItem,\n      reload: reload,\n      setListsize: setListsize,\n      clearCache: clearCache,\n      getCacheMap: getCacheMap,\n      getCacheList: getCacheList,\n      getCradleMap: getCradleMap,\n      modifyCacheMap: modifyCacheMap,\n      moveIndex: moveIndex,\n      insertIndex: insertIndex,\n      removeIndex: removeIndex\n    };\n    userFunctions.getCallbacks(callbacks);\n  }, []); // initialize window scroll listener\n\n  (0, react_1.useEffect)(function () {\n    var viewportdata = viewportInterruptPropertiesRef.current;\n    viewportdata.elementRef.current.addEventListener('scroll', scrollHandler.onScroll);\n    return function () {\n      viewportdata.elementRef.current && viewportdata.elementRef.current.removeEventListener('scroll', scrollHandler.onScroll);\n    };\n  }, []); // observer support\n\n  /*\n      There are two interection observers, one for the cradle wings, and another for triggerlines;\n          both against the viewport.\n      There is also a resize observer for the cradle wings, to generate responses to size changes of\n          variable cells.\n  */\n\n  (0, react_1.useEffect)(function () {\n    // intersection observer for cradle body\n    // this sets up an IntersectionObserver of the cradle against the viewport. When the\n    // cradle goes out of the observer scope, the \"repositioningRender\" cradle state is triggered.\n    var cradleintersectobserver = interruptHandler.cradleIntersect.createObserver();\n    interruptHandler.cradleIntersect.connectElements(); // triggerobserver tiggers cradle content updates \n    //     when triggerlines pass the edge of the viewport\n\n    var triggerobserver = interruptHandler.axisTriggerlinesIntersect.createObserver();\n    interruptHandler.axisTriggerlinesIntersect.connectElements(); // resize observer generates compensation for changes in cell sizes for variable layout modes\n\n    var resizeobserver = interruptHandler.cradleResize.createObserver();\n    interruptHandler.cradleResize.connectElements();\n    return function () {\n      cradleintersectobserver.disconnect();\n      triggerobserver.disconnect();\n      resizeobserver.disconnect();\n    };\n  }, []); // =====================[ RECONFIGURATION effects ]======================\n  // change caching, resize (UI resize of the viewport), reconfigure, or pivot\n  // initiate preload if requested\n\n  (0, react_1.useEffect)(function () {\n    switch (cache) {\n      case 'preload':\n        {\n          setCradleState('startpreload');\n          break;\n        }\n\n      case 'keepload':\n        {\n          var modelIndexList = contentHandler.getModelIndexList();\n          var cacheDeleteListCallback = serviceHandler.callbacks.cacheDeleteListCallback; // const cacheMax = cradleParameters.cradleInheritedPropertiesRef.current.cacheMax\n\n          cacheHandler.pareCacheToMax(cacheMax, modelIndexList, cacheDeleteListCallback);\n          break;\n        }\n\n      case 'cradle':\n        {\n          var _modelIndexList = contentHandler.getModelIndexList();\n\n          var _cacheDeleteListCallback = serviceHandler.callbacks.cacheDeleteListCallback;\n          cacheHandler.matchCacheToCradle(_modelIndexList, _cacheDeleteListCallback);\n          break;\n        }\n    }\n  }, [cache, cacheMax]); // trigger resizing based on viewport state\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // movement to and from cache is independent of ui resizing\n\n    if (isCachedRef.current || wasCachedRef.current) {\n      return;\n    }\n\n    if (viewportInterruptPropertiesRef.current.isResizing) {\n      interruptHandler.pauseInterrupts(); // console.log('calling resizing from isResizing useEvent','-'+scrollerID+'-')\n\n      setCradleState('resizing');\n    } // complete resizing mode\n\n\n    if (!viewportInterruptPropertiesRef.current.isResizing && cradleStateRef.current == 'resizing') {\n      setCradleState('finishresize');\n    }\n  }, [viewportInterruptPropertiesRef.current.isResizing]); // reconfigure for changed size parameters\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    var signals = interruptHandler.signals;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigure');\n  }, [listsize, cellHeight, cellWidth, gap, padding, triggerlineOffset]); // pivot triggered on change of orientation\n\n  (0, react_1.useEffect)(function () {\n    scaffoldHandler.cradlePositionData.blockScrollProperty = orientation == \"vertical\" ? \"scrollTop\" : \"scrollLeft\";\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    var _cradleInheritedPrope = cradleInheritedPropertiesRef.current,\n        cellWidth = _cradleInheritedPrope.cellWidth,\n        cellHeight = _cradleInheritedPrope.cellHeight,\n        gap = _cradleInheritedPrope.gap; // get previous ratio\n\n    var previousCellPixelLength = (orientation == 'vertical' ? cellWidth : cellHeight) + gap;\n    var previousAxisOffset = scaffoldHandler.cradlePositionData.targetAxisPixelOffset;\n    var previousratio = previousAxisOffset / previousCellPixelLength;\n    var pivotCellPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap;\n    var pivotAxisOffset = previousratio * pivotCellPixelLength;\n    scaffoldHandler.cradlePositionData.targetAxisPixelOffset = Math.round(pivotAxisOffset);\n    interruptHandler.pauseInterrupts();\n    setCradleState('pivot');\n  }, [orientation]); // =====================[ STYLES ]===========================\n  // styles for the six scaffold components\n\n  var _ref6 = (0, react_1.useMemo)(function () {\n    return stylesHandler.setCradleStyles({\n      orientation: orientation,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      viewportheight: viewportheight,\n      viewportwidth: viewportwidth,\n      crosscount: crosscount,\n      userstyles: styles,\n      triggerlineOffset: triggerlineOffset\n    });\n  }, [orientation, cellHeight, cellWidth, gap, padding, viewportheight, viewportwidth, crosscount, styles, triggerlineOffset]),\n      _ref7 = _slicedToArray(_ref6, 6),\n      cradleHeadStyle = _ref7[0],\n      cradleTailStyle = _ref7[1],\n      cradleAxisStyle = _ref7[2],\n      triggerlineHeadStyle = _ref7[3],\n      triggerlineTailStyle = _ref7[4],\n      cradleDividerStyle = _ref7[5]; // =====================[ STATE MANAGEMENT ]==========================\n  // this is the core state engine (19 states), using named states\n  // useLayoutEffect for suppressing flashes\n\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cradleState) {\n      case 'applycellframechanges':\n        {\n          // user intervention\n          setCradleState('ready');\n          break;\n        }\n\n      case 'setup':\n        {\n          // cycle to allow for ref config\n          if (cradleInheritedPropertiesRef.current.cache != 'preload') {\n            if (isCachedRef.current) {\n              setCradleState('cached');\n            } else {\n              setCradleState('dosetup'); // load grid\n            }\n          }\n\n          break;\n        }\n\n      case 'startpreload':\n        {\n          contentHandler.clearCache();\n          setCradleState('dopreload');\n          break;\n        }\n\n      case 'dopreload':\n        {\n          var callback = function callback() {\n            setCradleState('finishpreload');\n          }; // TODO: move API to contentHandler\n\n\n          cacheHandler.preload(cradleParametersRef.current, callback, scrollerID);\n          break;\n        }\n\n      case 'cachedwaiting':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            setCradleState('ready');\n          }\n\n          break;\n        }\n\n      case 'cached':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            setCradleState('setcradlecontent');\n          }\n\n          break;\n        }\n\n      case 'finishparenting':\n        {\n          if (isCachedRef.current) {\n            // interrupt until caching is resolved\n            setCradleState('cachedwaiting');\n          } else {\n            setCradleState('ready');\n          }\n\n          break;\n        }\n      // renderupdatedcontent is called from updateCradleContent. \n      // it is required to integrate changed DOM configurations before 'ready' is displayed\n\n      case 'renderupdatedcontent':\n        {\n          // cycle for DOM update\n          // cacheHandler.renderPortalList()\n          cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n          cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n          setCradleState('finishupdatedcontent');\n          break;\n        }\n\n      case 'finishupdatedcontent':\n        {\n          // cycle for DOM update\n          var _cache = cradleInternalPropertiesRef.current.cache;\n\n          if (_cache == 'keepload') {\n            contentHandler.guardAgainstRunawayCaching();\n          }\n\n          interruptHandler.axisTriggerlinesIntersect.connectElements();\n          interruptHandler.signals.pauseTriggerlinesObserver = false;\n          setCradleState('ready');\n          break;\n        }\n\n      case 'startreposition':\n        {\n          var signals = interruptHandler.signals;\n          signals.pauseTriggerlinesObserver = true; // avoid recursive cradle intersection interrupts\n\n          signals.pauseCradleIntersectionObserver = true;\n          signals.repositioningRequired = false; // because now underway\n\n          setCradleState('repositioningRender');\n          break;\n        }\n\n      /*\n          the following 8 cradle states all resolve with\n          a chain starting with setCradleContent,\n          continuing with 'preparerender', and ending with\n          'normalizesignals'\n      */\n\n      case 'setcradlecontent':\n      case 'dosetup':\n      case 'finishpreload':\n      case 'doreposition': //\n\n      case 'finishresize':\n      case 'pivot':\n      case 'reconfigure': //\n\n      case 'reload':\n        {\n          if (isCachedRef.current) {\n            // interrupt until caching is resolved\n            setCradleState('cached');\n            break;\n          }\n\n          var _cradleContent = contentHandler.content;\n          _cradleContent.headModelComponents = [];\n          _cradleContent.tailModelComponents = []; // register new array id for Object.is to trigger react re-processing\n\n          _cradleContent.headDisplayComponents = [];\n          _cradleContent.tailDisplayComponents = [];\n\n          if (cradleState == 'reload') {\n            cacheHandler.clearCache();\n          }\n\n          contentHandler.setCradleContent(cradleState);\n          var _cache2 = cradleInternalPropertiesRef.current.cache;\n\n          if (_cache2 == 'cradle') {\n            var modelIndexList = contentHandler.getModelIndexList();\n            cacheHandler.matchCacheToCradle(modelIndexList, serviceHandler.callbacks.cacheDeleteListCallback);\n            cacheHandler.renderPortalList();\n          }\n\n          setCradleState('preparerender');\n          break;\n        }\n\n      case 'preparerender':\n        {\n          // cycle for DOM update\n          var _cradleContent2 = contentHandler.content;\n          _cradleContent2.headDisplayComponents = _cradleContent2.headModelComponents;\n          _cradleContent2.tailDisplayComponents = _cradleContent2.tailModelComponents;\n          setCradleState('normalizesignals');\n          break;\n        }\n\n      case 'normalizesignals':\n        {\n          // normalize or resume cycling\n          // prioritize interrupts TODO: validate this\n          // if ((!isCachedRef.current) && viewportInterruptPropertiesRef.current.isResizing) {\n          //     console.log('calling resizing from normalizesignals','-'+scrollerID+'-')\n          //     setCradleState('resizing')\n          // } else if (interruptHandler.signals.repositioningRequired) {\n          //     setCradleState('startreposition')\n          // } else {                     \n          interruptHandler.restoreInterrupts();\n          setCradleState('ready'); // }\n\n          break;\n        }\n      // user request\n\n      case 'clearcache':\n        {\n          contentHandler.clearCache();\n          setCradleState('ready');\n          break;\n        }\n      // moving out of cache into visible DOM tree (cellFrame)\n      // resets scrollPos (scrollLeft/scrollTop) to last UI value\n\n      case 'reparentingtransition':\n        {\n          var cradlePositionData = scaffoldHandler.cradlePositionData; // reset scroll position to previous value\n\n          if (cradlePositionData.blockScrollPos !== null) {\n            // console.log('resetting scroll position to','-'+scrollerID+'-' , cradlePositionData.blockScrollPos)\n            var viewportElement = viewportInterruptPropertiesRef.current.elementRef.current;\n            viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n          }\n\n          setCradleState('finishparenting');\n          break;\n        }\n    }\n  }, [cradleState]); // standard rendering states (3 states)\n\n  (0, react_1.useEffect)(function () {\n    switch (cradleState) {\n      // repositioningRender and repositioningContinuation are toggled to generate continuous \n      // reposiioning renders\n      case 'repositioningRender':\n        break;\n\n      case 'repositioningContinuation':\n        // set from onScroll\n        setCradleState('repositioningRender');\n        break;\n\n      case 'ready':\n        // no op\n        break;\n    }\n  }, [cradleState]); // ==========================[ RENDER ]===========================\n\n  var scrollAxisReferenceIndex = scaffoldHandler.cradlePositionData.targetAxisReferenceIndex;\n  var scrollTrackerArgs = (0, react_1.useMemo)(function () {\n    if (!(cradleState == 'repositioningContinuation' || cradleState == 'repositioningRender')) {\n      return null;\n    }\n\n    var trackerargs = {\n      top: viewportDimensions.top + 3,\n      left: viewportDimensions.left + 3,\n      scrollAxisReferenceIndex: scrollAxisReferenceIndex,\n      listsize: listsize,\n      styles: styles\n    };\n    return trackerargs;\n  }, [cradleState, viewportDimensions, scrollAxisReferenceIndex, listsize, styles]);\n  var cradleContent = contentHandler.content;\n  var contextvalueRef = (0, react_1.useRef)({\n    cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef,\n    cacheHandler: cacheHandler\n  });\n  return react_1[\"default\"].createElement(exports.CradleContext.Provider, {\n    value: contextvalueRef.current\n  }, cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation' ? react_1[\"default\"].createElement(Scrolltracker_1[\"default\"], {\n    top: scrollTrackerArgs.top,\n    left: scrollTrackerArgs.left,\n    offset: scrollTrackerArgs.scrollAxisReferenceIndex,\n    listsize: scrollTrackerArgs.listsize,\n    styles: scrollTrackerArgs.styles\n  }) : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-axis',\n    style: cradleAxisStyle,\n    ref: axisCradleElementRef\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-head',\n    style: triggerlineHeadStyle,\n    ref: headTriggerlineCradleElementRef\n  }), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-tail',\n    style: triggerlineTailStyle,\n    ref: tailTriggerlineCradleElementRef\n  }),  true ? react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: cradleDividerStyle\n  }) : 0, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleState != 'setup' ? cradleContent.headDisplayComponents : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleState != 'setup' ? cradleContent.tailDisplayComponents : null)));\n}; // Cradle\n// utility\n\n\nvar getCradleHandlers = function getCradleHandlers(cradleParameters) {\n  var createHandler = function createHandler(handler) {\n    return new handler(cradleParameters);\n  };\n\n  var cacheHandler = cradleParameters.cradleInheritedPropertiesRef.current.cacheHandler;\n  return {\n    cacheHandler: cacheHandler,\n    interruptHandler: createHandler(interrupthandler_1[\"default\"]),\n    scrollHandler: createHandler(scrollhandler_1[\"default\"]),\n    stateHandler: createHandler(statehandler_1[\"default\"]),\n    contentHandler: createHandler(contenthandler_1[\"default\"]),\n    scaffoldHandler: createHandler(scaffoldhandler_1[\"default\"]),\n    serviceHandler: createHandler(servicehandler_1[\"default\"]),\n    stylesHandler: createHandler(styleshandler_1[\"default\"])\n  };\n};\n\nexports[\"default\"] = Cradle;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQUosQ0FBWWpHLGdCQUFaLENBQUo7RUFBQSxDQUE3Qjs7RUFFQSxJQUFRbkUsWUFBUixHQUF5Qm1FLGdCQUFnQixDQUFDSiw0QkFBakIsQ0FBOENyRCxPQUF2RSxDQUFRVixZQUFSO0VBRUEsT0FBTztJQUVIQSxZQUFZLEVBQVpBLFlBRkc7SUFHSHNFLGdCQUFnQixFQUFDNkYsYUFBYSxDQUFDRSw2QkFBRCxDQUgzQjtJQUlIOUYsYUFBYSxFQUFDNEYsYUFBYSxDQUFDRywwQkFBRCxDQUp4QjtJQUtIOUYsWUFBWSxFQUFDMkYsYUFBYSxDQUFDSSx5QkFBRCxDQUx2QjtJQU1IOUYsY0FBYyxFQUFDMEYsYUFBYSxDQUFDSywyQkFBRCxDQU56QjtJQU9IOUYsZUFBZSxFQUFDeUYsYUFBYSxDQUFDTSw0QkFBRCxDQVAxQjtJQVFIOUYsY0FBYyxFQUFDd0YsYUFBYSxDQUFDTywyQkFBRCxDQVJ6QjtJQVNIOUYsYUFBYSxFQUFDdUYsYUFBYSxDQUFDUSwwQkFBRDtFQVR4QixDQUFQO0FBYUgsQ0FuQkQ7O0FBcUJBM0wsa0JBQUFBLEdBQWVHLE1BQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL0NyYWRsZS50c3g/NzE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjcmFkbGUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIGNvbnNpZGVyIGZvcm1hbGl6aW5nIHN0YXRlIGNvbmRpdGlvbnMgKGNlcnRhaW4gdXNlUmVmcyksIHRvZ2V0aGVyIHdpdGggc3RhdGUgYWN0aW9ucyAodXNlU3RhdGUpXG5cbiAgICAtIHJhdGlvbmFsaXplIHBhdXNlU2Nyb2xsaW5nLCBhbmQgb3RoZXIgc2lnbmFsc1xuKi9cblxuaW1wb3J0IFJlYWN0LCB7IFxuICAgIHVzZVN0YXRlLCBcbiAgICB1c2VSZWYsIFxuICAgIHVzZUNvbnRleHQsIFxuICAgIHVzZUVmZmVjdCwgXG4gICAgdXNlTGF5b3V0RWZmZWN0LCBcbiAgICB1c2VNZW1vIFxufSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRJbnRlcnJ1cHQgfSBmcm9tICcuL1ZpZXdwb3J0J1xuXG4vLyBwb3B1cCBwb3NpdGlvbiB0cmFja2VyIGZvciByZXBvc2l0aW9uaW5nXG5pbXBvcnQgU2Nyb2xsVHJhY2tlciBmcm9tICcuL2NyYWRsZS9TY3JvbGx0cmFja2VyJ1xuXG4vLyBzdXBwb3J0IGNvZGVcbmltcG9ydCBTY3JvbGxIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3Njcm9sbGhhbmRsZXInXG5pbXBvcnQgU3RhdGVIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3N0YXRlaGFuZGxlcidcbmltcG9ydCBDb250ZW50SGFuZGxlciBmcm9tICcuL2NyYWRsZS9jb250ZW50aGFuZGxlcidcbmltcG9ydCBTY2FmZm9sZEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc2NhZmZvbGRoYW5kbGVyJ1xuaW1wb3J0IEludGVycnVwdEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvaW50ZXJydXB0aGFuZGxlcidcbmltcG9ydCBTZXJ2aWNlSGFuZGxlciBmcm9tICcuL2NyYWRsZS9zZXJ2aWNlaGFuZGxlcidcbmltcG9ydCBTdHlsZXNIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3N0eWxlc2hhbmRsZXInXG5cbi8vIGZvciBjaGlsZHJlblxuZXhwb3J0IGNvbnN0IENyYWRsZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpXG5cbi8vIGNvbXBvbmVudFxuY29uc3QgQ3JhZGxlID0gKHsgXG4gICAgICAgIGdyaWRTcGVjcyxcblxuICAgICAgICBydW53YXlTaXplLCBcbiAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICBzdGFydGluZ0luZGV4LCBcbiAgICAgICAgZ2V0SXRlbSwgXG4gICAgICAgIHBsYWNlaG9sZGVyLCBcbiAgICAgICAgdXNlckZ1bmN0aW9ucyxcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgY2FjaGUsXG4gICAgICAgIGNhY2hlTWF4LFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgIC8vIGZvciBoYW5kbGVyIGxpc3RcbiAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgIH0pID0+IHtcblxuICAgIGlmIChsaXN0c2l6ZSA9PSAwKSByZXR1cm4gbnVsbC8vIG5vdGhpbmcgdG8gZG9cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PVsgREFUQSBTRVRVUCBdPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB1bnBhY2sgZ3JpZFNwZWNzXG4gICAgY29uc3Qge1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGxheW91dCxcbiAgICB9ID0gZ3JpZFNwZWNzXG5cbiAgICAvLyBnZXQgdmlld3BvcnQgY29udGV4dFxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHVzZUNvbnRleHQoVmlld3BvcnRJbnRlcnJ1cHQpXG5cbiAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudCA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyAvLyBmb3IgY2xvc3VyZXNcblxuICAgIGNvbnN0IHsgdmlld3BvcnREaW1lbnNpb25zIH0gPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNcbiAgICBjb25zdCB7IGhlaWdodDp2aWV3cG9ydGhlaWdodCx3aWR0aDp2aWV3cG9ydHdpZHRoIH0gPSB2aWV3cG9ydERpbWVuc2lvbnNcblxuICAgIC8vIHN0YXRlXG4gICAgY29uc3QgW2NyYWRsZVN0YXRlLCBzZXRDcmFkbGVTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuICAgIGNvbnN0IGNyYWRsZVN0YXRlUmVmID0gdXNlUmVmKG51bGwpIC8vIGFjY2VzcyBieSBjbG9zdXJlc1xuICAgIGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPSBjcmFkbGVTdGF0ZVxuXG4gICAgLy8gY29uc29sZS5sb2coJ1JVTk5JTkcgY3JhZGxlU3RhdGUnLCctJytzY3JvbGxlcklEKyctJywgY3JhZGxlU3RhdGUpXG5cbiAgICAvLyBjb250cm9sc1xuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuICAgIGNvbnN0IGlzQ2FjaGVkUmVmID0gdXNlUmVmKGZhbHNlKVxuICAgIGNvbnN0IHdhc0NhY2hlZFJlZiA9IHVzZVJlZihmYWxzZSlcbiAgICBjb25zdCBwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3QgdHJpZ2dlcmxpbmVSZWNvcmRzUmVmID0gdXNlUmVmKHsgLy8gdG8gY2FsY3VsYXRlIGluZmVycmVkIHRyaWdnZXJcbiAgICAgICAgd2FzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkOm51bGwsXG4gICAgICAgIGRyaXZlcjpudWxsLFxuICAgICAgICBvZmZzZXQ6bnVsbCxcbiAgICB9KVxuXG4gICAgLy8gY3JhZGxlIHNjYWZmb2xkIGVsZW1lbnQgcmVmc1xuICAgIGNvbnN0IGhlYWRDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgdGFpbENyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBheGlzQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGhlYWRUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCB0YWlsVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBzY2FmZm9sZCBidW5kbGVcbiAgICBjb25zdCBjcmFkbGVFbGVtZW50c1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgaGVhZFJlZjpoZWFkQ3JhZGxlRWxlbWVudFJlZiwgXG4gICAgICAgICAgICB0YWlsUmVmOnRhaWxDcmFkbGVFbGVtZW50UmVmLCBcbiAgICAgICAgICAgIGF4aXNSZWY6YXhpc0NyYWRsZUVsZW1lbnRSZWYsXG4gICAgICAgICAgICBoZWFkVHJpZ2dlcmxpbmVSZWY6aGVhZFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZixcbiAgICAgICAgICAgIHRhaWxUcmlnZ2VybGluZVJlZjp0YWlsVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmXG4gICAgICAgIH1cbiAgICApXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGN1bGF0ZWQgcHJvcGVydGllcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBjb25maWd1cmF0aW9uIGNhbGN1bGF0aW9uc1xuICAgIGNvbnN0IGNyb3NzY291bnQgPSB1c2VNZW1vKCgpID0+IHsgLy8gdGhlIG51bWJlciBvZiBjZWxscyBjcm9zc2luZyBvcmllbnRhdGlvblxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0c2l6ZSA9IChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpP3ZpZXdwb3J0aGVpZ2h0OnZpZXdwb3J0d2lkdGhcblxuICAgICAgICBpZiAodmlld3BvcnRzaXplID09IDApIHtcblxuICAgICAgICAgICAgcmV0dXJuIDBcblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyb3NzTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/Y2VsbEhlaWdodDpjZWxsV2lkdGhcblxuICAgICAgICBjb25zdCB2aWV3cG9ydGxlbmd0aGZvcmNhbGMgPSB2aWV3cG9ydHNpemUgLSAocGFkZGluZyAqIDIpICsgZ2FwIC8vIGxlbmd0aCBvZiB2aWV3cG9ydFxuICAgICAgICBsZXQgdGlsZWxlbmd0aGZvcmNhbGMgPSBjcm9zc0xlbmd0aCArIGdhcFxuICAgICAgICB0aWxlbGVuZ3RoZm9yY2FsYyA9IE1hdGgubWluKHRpbGVsZW5ndGhmb3JjYWxjLHZpZXdwb3J0bGVuZ3RoZm9yY2FsYykgLy8gcmVzdWx0IGNhbm5vdCBiZSBsZXNzIHRoYW4gMVxuXG4gICAgICAgIGNvbnN0IGNyb3NzY291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0bGVuZ3RoZm9yY2FsYy90aWxlbGVuZ3RoZm9yY2FsYylcblxuICAgICAgICByZXR1cm4gY3Jvc3Njb3VudFxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgXSlcblxuICAgIGNvbnN0IFtcbiAgICAgICAgY3JhZGxlUm93Y291bnQsIFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LCBcbiAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsIC8vIG1heCBudW1iZXIgb2Ygcm93cyBjb21wbGV0ZWx5IHZpc2libGUgYXQgb25jZVxuICAgICAgICBsaXN0Um93Y291bnQsXG4gICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgIF0gPSB1c2VNZW1vKCgpPT4ge1xuXG4gICAgICAgIGxldCB2aWV3cG9ydExlbmd0aCwgcm93TGVuZ3RoXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICB2aWV3cG9ydExlbmd0aCA9IHZpZXdwb3J0aGVpZ2h0XG4gICAgICAgICAgICByb3dMZW5ndGggPSBjZWxsSGVpZ2h0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aWV3cG9ydExlbmd0aCA9IHZpZXdwb3J0d2lkdGhcbiAgICAgICAgICAgIHJvd0xlbmd0aCA9IGNlbGxXaWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgcm93TGVuZ3RoICs9IGdhcFxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0Um93Y291bnQgPSBNYXRoLmNlaWwodmlld3BvcnRMZW5ndGgvcm93TGVuZ3RoKVxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50ID0gTWF0aC5mbG9vcih2aWV3cG9ydExlbmd0aC9yb3dMZW5ndGgpXG5cbiAgICAgICAgY29uc3QgbGlzdFJvd2NvdW50ID0gTWF0aC5jZWlsKGxpc3RzaXplL2Nyb3NzY291bnQpXG5cbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50ID0gdmlld3BvcnRSb3djb3VudCArIChydW53YXlTaXplICogMilcblxuICAgICAgICBsZXQgY3JhZGxlUm93Y291bnQgPSBNYXRoLm1pbihsaXN0Um93Y291bnQsIGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudClcblxuICAgICAgICBsZXQgcnVud2F5Um93Y291bnRcbiAgICAgICAgaWYgKGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCA+PSBjcmFkbGVSb3djb3VudCkge1xuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgPSBydW53YXlTaXplXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gKGNyYWRsZVJvd2NvdW50IC0gY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50KVxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgLT0gTWF0aC5mbG9vcihkaWZmLzIpXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCA9IE1hdGgubWF4KDAscnVud2F5Um93Y291bnQpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGl0ZW1jb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudFxuICAgICAgICBpZiAoaXRlbWNvdW50ID4gbGlzdHNpemUpIHtcbiAgICAgICAgICAgIGl0ZW1jb3VudCA9IGxpc3RzaXplXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCA9IE1hdGguY2VpbChpdGVtY291bnQvY3Jvc3Njb3VudClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCwgXG4gICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50LCBcbiAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50LFxuICAgICAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgICAgIF1cblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcCwgXG4gICAgICAgIC8vIHBhZGRpbmcsXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG5cbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIHJ1bndheVNpemUsXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGxiYWNrcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gaG9zdCBjYWxsYmFja3NcbiAgICAvLyBjb25zdCByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmID0gdXNlUmVmKGZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjaylcbiAgICAvLyBjb25zdCBwcmVsb2FkSW5kZXhDYWxsYmFja1JlZiA9IHVzZVJlZihmdW5jdGlvbnM/LnByZWxvYWRJbmRleENhbGxiYWNrKVxuXG4gICAgY29uc3QgZXh0ZXJuYWxDYWxsYmFja3NSZWYgPSB1c2VSZWYoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2s6dXNlckZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgIHByZWxvYWRJbmRleENhbGxiYWNrOnVzZXJGdW5jdGlvbnM/LnByZWxvYWRJbmRleENhbGxiYWNrLFxuICAgICAgICAgICAgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2s6dXNlckZ1bmN0aW9ucz8uY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgICBuZXdMaXN0U2l6ZUNhbGxiYWNrOnVzZXJGdW5jdGlvbnM/Lm5ld0xpc3RTaXplQ2FsbGJhY2ssXG4gICAgICAgIH1cbiAgICApXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLVsgYnVuZGxlIHBhcmFtZXRlcnMgZm9yIGhhbmRsZXJzIF0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBidW5kbGUgYWxsIGNyYWRsZSBwcm9wcyB0byBwYXNzIHRvIGhhbmRsZXJzIC0gdWx0aW1hdGVseSBjcmFkbGVQYXJhbWV0ZXJzUmVmXG4gICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXMgYW5kIHN1cHBvcnQgZnVuY3Rpb25zXG4gICAgLy8gdXAgdG8gZGF0ZSB2YWx1ZXNcbiAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIC8vIGdyaWRTcGVjc1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcCwgXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICAvLyAuLi5yZXN0XG4gICAgICAgIGNhY2hlLFxuICAgICAgICBjYWNoZU1heCxcbiAgICAgICAgc3RhcnRpbmdJbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBwbGFjZWhvbGRlciwgXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBzY3JvbGxlcklELFxuICAgICAgICAvLyBvYmplY3RzXG4gICAgICAgIHVzZXJGdW5jdGlvbnMsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgY2FjaGVIYW5kbGVyLFxuXG4gICAgfVxuXG4gICAgY29uc3QgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBwYXNzZWQgdG8gY2VsbEZyYW1lIGNvbnRlbnQgKHVzZXIgY29udGVudCkgaWYgcmVxdWVzdGVkXG4gICAgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgICAgIHN0YXJ0aW5nSW5kZXgsIFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICB9XG5cbiAgICAvLyBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gc2hhcmVcbiAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCA9IHtcbiAgICAgICAgLy8gdXBkYXRlZCB2YWx1ZXNcbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50LFxuICAgICAgICBsaXN0Um93Y291bnQsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICAgICAgLy8gdGhlIGZvbGxvd2luZyB2YWx1ZXMgYXJlIG1haW50YWluZWQgZWxzZXdoZXJlXG4gICAgICAgIGlzTW91bnRlZFJlZixcbiAgICAgICAgY3JhZGxlRWxlbWVudHNSZWYsXG4gICAgICAgIGlzQ2FjaGVkUmVmLFxuICAgICAgICB3YXNDYWNoZWRSZWYsXG4gICAgICAgIHRyaWdnZXJsaW5lUmVjb3Jkc1JlZixcblxuICAgICAgICAvLyBmb3Igc3RhdGVIYW5kbGVyXG4gICAgICAgIGNyYWRsZVN0YXRlUmVmLFxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSxcbiAgICB9XG5cbiAgICAvLyBwbGFjZWhvbGRlciBpbiBjcmFkbGVQYXJhbWV0ZXJzIHRvIG1ha2UgYXZhaWxhYmxlIGluZGl2aWR1YWwgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVyc1JlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gY3JhZGxlIHBhcmFtZXRlcnMgTUFTVEVSIEJVTkRMRVxuICAgIGNvbnN0IGNyYWRsZVBhcmFtZXRlcnMgPSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLFxuICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYsXG4gICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYsIFxuICAgICAgICBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYsXG4gICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiwgXG4gICAgICAgIGV4dGVybmFsQ2FsbGJhY2tzUmVmLFxuICAgIH1cblxuICAgIGNvbnN0IGNyYWRsZVBhcmFtZXRlcnNSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjcmFkbGVQYXJhbWV0ZXJzUmVmLmN1cnJlbnQgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAvLyBvbmdvaW5nIHNvdXJjZSBvZiBoYW5kbGVycyAtIG5vdGUgYWxsIEhhbmRsZXJzIGFyZSBnaXZlbiBhbGwgcGFyYW1ldGVycyAoY3JhZGxlUGFyYW1ldGVycylcbiAgICBpZiAoIWhhbmRsZXJzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaGFuZGxlcnNSZWYuY3VycmVudCA9IGdldENyYWRsZUhhbmRsZXJzKGNyYWRsZVBhcmFtZXRlcnMpXG4gICAgfVxuXG4gICAgLy8gbWFrZSBoYW5kbGVycyBkaXJlY3RseSBhdmFpbGFibGUgdG8gY3JhZGxlIGNvZGUgYmVsb3dcbiAgICBjb25zdCB7IC8vIGNhY2hlSGFuZGxlciBhbHJlYWR5IGF2YWlsYWJsZVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLFxuICAgICAgICBzY3JvbGxIYW5kbGVyLFxuICAgICAgICBzdGF0ZUhhbmRsZXIsXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyLFxuICAgICAgICBzY2FmZm9sZEhhbmRsZXIsXG4gICAgICAgIHNlcnZpY2VIYW5kbGVyLFxuICAgICAgICBzdHlsZXNIYW5kbGVyLFxuICAgIH0gPSBoYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVsgQ0FDSElORyBTVEFURSBDSEFOR0UgU0VOVElORUwgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIGludGVyY2VwdCBjaGFuZ2UgaW4gY2FjaGluZyBzdGF0dXNcbiAgICAvLyB3aGVuIGEgcG9ydGFsIGlzIGNhY2hlZCwgaW5jbHVkaW5nIHRoZSB0cmFuc2l0aW9uIG9mIGJlaW5nIG1vdmVkIGZyb20gb25lIGNlbGxGcmFtZSB0byBhbm90aGVyLFxuICAgIC8vIChhbmQgdGhlIGluZmluaXRlZ3JpZHNjcm9sbGVyIGNhbiBiZSBhIGNvbXBvbmVudCB0aGF0IGlzIGNhY2hlZCksXG4gICAgLy8gdGhlIHNjcm9sbFBvcyAoc2Nyb2xsTGVmdCBvciBzY3JvbGxUb3ApIGlzIHJlc2V0IHRvIDAgKHplcm8pLiBXaGVuIHRoZSBzY3JvbGxlciBpcyBcbiAgICAvLyBtb3ZlZCB0byBhIGNlbGxGcmFtZSwgdGhpcyBjb2RlIHJlc3RvcmVzIHRoZSBzY3JvbGxQb3MuXG4gICAgLy8gVGhlIHJlc3RvcmUgYWN0aW9uIG11c3QgYmUgdGhlIGZpcnN0IHByaW9yaXR5IHRvIGhpZGUgdGhlIHNjcm9sbFBvcyBjaGFuZ2VzIGZyb20gdGhlIHVzZXJcbiAgICBcbiAgICBjb25zdCBpc0luUG9ydGFsID0gKCh2aWV3cG9ydHdpZHRoID09IDApICYmICh2aWV3cG9ydGhlaWdodCA9PSAwKSkgLy8gbXVzdCBiZSBpbiBwb3J0YWwgKGNhY2hlKSBzdGF0ZVxuXG4gICAgY29uc3QgaXNDYWNoZUNoYW5nZSA9IChpc0luUG9ydGFsICE9IGlzQ2FjaGVkUmVmLmN1cnJlbnQpXG5cbiAgICBpZiAoaXNDYWNoZUNoYW5nZSkge1xuICAgICAgICB3YXNDYWNoZWRSZWYuY3VycmVudCA9IGlzQ2FjaGVkUmVmLmN1cnJlbnRcbiAgICAgICAgaXNDYWNoZWRSZWYuY3VycmVudCA9IGlzSW5Qb3J0YWxcbiAgICB9XG5cbiAgICBjb25zdCBpc0NhY2hpbmdVbmRlcndheSA9IChpc0NhY2hlZFJlZi5jdXJyZW50IHx8IHdhc0NhY2hlZFJlZi5jdXJyZW50KVxuXG4gICAgaWYgKFxuICAgICAgICBpc0NhY2hlQ2hhbmdlIHx8IFxuICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXBhcmVudGluZ1JlZj8uY3VycmVudCB8fFxuICAgICAgICAodmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVzaXppbmcgJiYgaXNDYWNoaW5nVW5kZXJ3YXkpIFxuICAgICkgeyBcblxuICAgICAgICBpZiAodmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVwYXJlbnRpbmdSZWY/LmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVwYXJlbnRpbmdSZWYuY3VycmVudCA9IGZhbHNlIC8vIG5vIGxvbmdlciBuZWVkZWRcblxuICAgICAgICAgICAgcGFyZW50aW5nVHJhbnNpdGlvblJlcXVpcmVkUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgfSBcblxuICAgICAgICBpZiAodmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVzaXppbmcpIHsgLy8gY2FjaGluZyBpcyB1bmRlcndheSwgc28gY2FuY2VsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1Jlc2l6aW5nID0gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQ2FjaGVDaGFuZ2UpIHsgLy8gaW50byBvciBvdXQgb2YgY2FjaGluZ1xuXG4gICAgICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCAmJiAhd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gY2hhbmdlIGludG8gY2FjaGVcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpXG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKCFpc0NhY2hlZFJlZi5jdXJyZW50KSAmJiB3YXNDYWNoZWRSZWYuY3VycmVudCkgeyAvLyBjaGFuZ2Ugb3V0IG9mIGNhY2hlXG5cbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnJlc3RvcmVJbnRlcnJ1cHRzKClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIGdlbmVyYXRlIHN0YXRlIGZvciByZXN0b3Jpbmcgc2Nyb2xsUG9zXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKHBhcmVudGluZ1RyYW5zaXRpb25SZXF1aXJlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgIHBhcmVudGluZ1RyYW5zaXRpb25SZXF1aXJlZFJlZi5jdXJyZW50ID0gZmFsc2UgICAgICAgICAgICBcbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXBhcmVudGluZ3RyYW5zaXRpb24nKVxuICAgICAgICB9XG5cbiAgICB9LFtwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYuY3VycmVudF0pXG5cbiAgICAvLyBjaGFuZ2Ugc3RhdGUgZm9yIGVudGVyaW5nIG9yIGxlYXZpbmcgY2FjaGVcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm4gLy8gbm90aGluZyB0byBkb1xuXG4gICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50ICYmICF3YXNDYWNoZWRSZWYuY3VycmVudCkgeyAvLyBpbnRvIGNhY2hlXG5cbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjYWNoZWQnKSAvLyByZXBsYWNlcyAncmVhZHknIGFzIHN0ZWFkeSBzdGF0ZVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzQ2FjaGVkUmVmLmN1cnJlbnQgJiYgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gb3V0IG9mIGNhY2hlXG5cbiAgICAgICAgICAgIHdhc0NhY2hlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ2NhY2hlZHdhaXRpbmcnKSB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3NldGNyYWRsZWNvbnRlbnQnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW2lzQ2FjaGVkUmVmLmN1cnJlbnQsIHdhc0NhY2hlZFJlZi5jdXJyZW50XSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkFUSU9OIGVmZmVjdHMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBpbml0aWFsaXphdGlvbiBlZmZlY3RzIGFyZSBpbmRlcGVuZGVudCBvZiBjYWNoaW5nXG5cbiAgICAvLyBjbGVhciBtb3VudGVkIGZsYWcgb24gdW5tb3VudFxuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvL3NlbmQgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGhvc3RcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIXVzZXJGdW5jdGlvbnMuZ2V0Q2FsbGJhY2tzKSByZXR1cm5cblxuICAgICAgICBjb25zdCB7XG5cbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSwgXG4gICAgICAgICAgICByZWxvYWQsIFxuICAgICAgICAgICAgc2V0TGlzdHNpemUsXG4gICAgICAgICAgICBjbGVhckNhY2hlLCBcblxuICAgICAgICAgICAgZ2V0Q2FjaGVNYXAsIFxuICAgICAgICAgICAgZ2V0Q2FjaGVMaXN0LFxuICAgICAgICAgICAgZ2V0Q3JhZGxlTWFwLFxuICAgICAgICAgICAgbW9kaWZ5Q2FjaGVNYXAsXG4gICAgICAgICAgICBtb3ZlSW5kZXgsXG4gICAgICAgICAgICBpbnNlcnRJbmRleCxcbiAgICAgICAgICAgIHJlbW92ZUluZGV4LFxuXG4gICAgICAgIH0gPSBzZXJ2aWNlSGFuZGxlclxuXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHtcblxuICAgICAgICAgICAgc2Nyb2xsVG9JdGVtLFxuICAgICAgICAgICAgcmVsb2FkLFxuICAgICAgICAgICAgc2V0TGlzdHNpemUsXG4gICAgICAgICAgICBjbGVhckNhY2hlLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBnZXRDYWNoZU1hcCxcbiAgICAgICAgICAgIGdldENhY2hlTGlzdCxcbiAgICAgICAgICAgIGdldENyYWRsZU1hcCxcbiAgICAgICAgICAgIG1vZGlmeUNhY2hlTWFwLFxuICAgICAgICAgICAgbW92ZUluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0SW5kZXgsXG4gICAgICAgICAgICByZW1vdmVJbmRleCxcblxuICAgICAgICB9XG5cbiAgICAgICAgdXNlckZ1bmN0aW9ucy5nZXRDYWxsYmFja3MoY2FsbGJhY2tzKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRkYXRhID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgdmlld3BvcnRkYXRhLmVsZW1lbnRSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLHNjcm9sbEhhbmRsZXIub25TY3JvbGwpXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgdmlld3BvcnRkYXRhLmVsZW1lbnRSZWYuY3VycmVudCAmJiB2aWV3cG9ydGRhdGEuZWxlbWVudFJlZi5jdXJyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2Nyb2xsSGFuZGxlci5vblNjcm9sbClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gb2JzZXJ2ZXIgc3VwcG9ydFxuXG4gICAgLypcbiAgICAgICAgVGhlcmUgYXJlIHR3byBpbnRlcmVjdGlvbiBvYnNlcnZlcnMsIG9uZSBmb3IgdGhlIGNyYWRsZSB3aW5ncywgYW5kIGFub3RoZXIgZm9yIHRyaWdnZXJsaW5lczsgXG4gICAgICAgICAgICBib3RoIGFnYWluc3QgdGhlIHZpZXdwb3J0LlxuICAgICAgICBUaGVyZSBpcyBhbHNvIGEgcmVzaXplIG9ic2VydmVyIGZvciB0aGUgY3JhZGxlIHdpbmdzLCB0byBnZW5lcmF0ZSByZXNwb25zZXMgdG8gc2l6ZSBjaGFuZ2VzIG9mIFxuICAgICAgICAgICAgdmFyaWFibGUgY2VsbHMuXG4gICAgKi8gICAgXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBjcmFkbGUgYm9keVxuICAgICAgICAvLyB0aGlzIHNldHMgdXAgYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb2YgdGhlIGNyYWRsZSBhZ2FpbnN0IHRoZSB2aWV3cG9ydC4gV2hlbiB0aGVcbiAgICAgICAgLy8gY3JhZGxlIGdvZXMgb3V0IG9mIHRoZSBvYnNlcnZlciBzY29wZSwgdGhlIFwicmVwb3NpdGlvbmluZ1JlbmRlclwiIGNyYWRsZSBzdGF0ZSBpcyB0cmlnZ2VyZWQuXG4gICAgICAgIGNvbnN0IGNyYWRsZWludGVyc2VjdG9ic2VydmVyID0gaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuY3JlYXRlT2JzZXJ2ZXIoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIC8vIHRyaWdnZXJvYnNlcnZlciB0aWdnZXJzIGNyYWRsZSBjb250ZW50IHVwZGF0ZXMgXG4gICAgICAgIC8vICAgICB3aGVuIHRyaWdnZXJsaW5lcyBwYXNzIHRoZSBlZGdlIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBjb25zdCB0cmlnZ2Vyb2JzZXJ2ZXIgPSBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QuY3JlYXRlT2JzZXJ2ZXIoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcblxuICAgICAgICAvLyByZXNpemUgb2JzZXJ2ZXIgZ2VuZXJhdGVzIGNvbXBlbnNhdGlvbiBmb3IgY2hhbmdlcyBpbiBjZWxsIHNpemVzIGZvciB2YXJpYWJsZSBsYXlvdXQgbW9kZXNcbiAgICAgICAgY29uc3QgcmVzaXplb2JzZXJ2ZXIgPSBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZVJlc2l6ZS5jcmVhdGVPYnNlcnZlcigpXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuY3JhZGxlUmVzaXplLmNvbm5lY3RFbGVtZW50cygpXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgY3JhZGxlaW50ZXJzZWN0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICB0cmlnZ2Vyb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICByZXNpemVvYnNlcnZlci5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBSRUNPTkZJR1VSQVRJT04gZWZmZWN0cyBdPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIGNoYW5nZSBjYWNoaW5nLCByZXNpemUgKFVJIHJlc2l6ZSBvZiB0aGUgdmlld3BvcnQpLCByZWNvbmZpZ3VyZSwgb3IgcGl2b3RcblxuICAgIC8vIGluaXRpYXRlIHByZWxvYWQgaWYgcmVxdWVzdGVkXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuXG4gICAgICAgIHN3aXRjaCAoY2FjaGUpIHtcblxuICAgICAgICAgICAgY2FzZSAncHJlbG9hZCc6IHtcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnc3RhcnRwcmVsb2FkJylcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2tlZXBsb2FkJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcblxuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGNhY2hlTWF4ID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuY2FjaGVNYXhcblxuICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5wYXJlQ2FjaGVUb01heChjYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnY3JhZGxlJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcblxuICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5tYXRjaENhY2hlVG9DcmFkbGUobW9kZWxJbmRleExpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9LFtjYWNoZSwgY2FjaGVNYXhdKVxuXG4gICAgLy8gdHJpZ2dlciByZXNpemluZyBiYXNlZCBvbiB2aWV3cG9ydCBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIC8vIG1vdmVtZW50IHRvIGFuZCBmcm9tIGNhY2hlIGlzIGluZGVwZW5kZW50IG9mIHVpIHJlc2l6aW5nXG4gICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50IHx8IHdhc0NhY2hlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpXG4gXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGluZyByZXNpemluZyBmcm9tIGlzUmVzaXppbmcgdXNlRXZlbnQnLCctJytzY3JvbGxlcklEKyctJylcbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbXBsZXRlIHJlc2l6aW5nIG1vZGVcbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5pc1Jlc2l6aW5nICYmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdyZXNpemluZycpKSB7XG5cbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hyZXNpemUnKVxuXG4gICAgICAgIH1cblxuICAgIH0sW3ZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmddKVxuXG4gICAgLy8gcmVjb25maWd1cmUgZm9yIGNoYW5nZWQgc2l6ZSBwYXJhbWV0ZXJzXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHNcblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpXG5cbiAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlY29uZmlndXJlJylcblxuICAgIH0sW1xuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0XG4gICAgXSlcblxuICAgIC8vIHBpdm90IHRyaWdnZXJlZCBvbiBjaGFuZ2Ugb2Ygb3JpZW50YXRpb25cbiAgICB1c2VFZmZlY3QoKCk9PiB7XG5cbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiKT9cInNjcm9sbFRvcFwiOlwic2Nyb2xsTGVmdFwiXG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHsgXG4gICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgZ2FwLFxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgLy8gZ2V0IHByZXZpb3VzIHJhdGlvXG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoID0gXG4gICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIGNlbGxXaWR0aDpcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0KVxuICAgICAgICAgICAgKyBnYXBcblxuICAgICAgICBjb25zdCBwcmV2aW91c0F4aXNPZmZzZXQgPSBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzcmF0aW8gPSBwcmV2aW91c0F4aXNPZmZzZXQvcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGhcblxuICAgICAgICBjb25zdCBwaXZvdENlbGxQaXhlbExlbmd0aCA9IFxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aClcbiAgICAgICAgICAgICsgZ2FwXG5cbiAgICAgICAgY29uc3QgcGl2b3RBeGlzT2Zmc2V0ID0gcHJldmlvdXNyYXRpbyAqIHBpdm90Q2VsbFBpeGVsTGVuZ3RoXG4gICAgICAgIFxuICAgICAgICBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IE1hdGgucm91bmQocGl2b3RBeGlzT2Zmc2V0KVxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncGl2b3QnKVxuXG4gICAgfSxbb3JpZW50YXRpb25dKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBTVFlMRVMgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gc3R5bGVzIGZvciB0aGUgc2l4IHNjYWZmb2xkIGNvbXBvbmVudHNcbiAgICBjb25zdCBbXG4gICAgICAgIGNyYWRsZUhlYWRTdHlsZSwgXG4gICAgICAgIGNyYWRsZVRhaWxTdHlsZSwgXG4gICAgICAgIGNyYWRsZUF4aXNTdHlsZSwgXG4gICAgICAgIHRyaWdnZXJsaW5lSGVhZFN0eWxlLCBcbiAgICAgICAgdHJpZ2dlcmxpbmVUYWlsU3R5bGUsXG4gICAgICAgIGNyYWRsZURpdmlkZXJTdHlsZVxuICAgIF0gPSB1c2VNZW1vKCgpPT4ge1xuXG4gICAgICAgIHJldHVybiBzdHlsZXNIYW5kbGVyLnNldENyYWRsZVN0eWxlcyh7XG5cbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICB1c2Vyc3R5bGVzOnN0eWxlcyxcbiAgICAgICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuXG4gICAgICAgIH0pXG5cbiAgICB9LFtcblxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuXG4gICAgICBdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBTVEFURSBNQU5BR0VNRU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdGhpcyBpcyB0aGUgY29yZSBzdGF0ZSBlbmdpbmUgKDE5IHN0YXRlcyksIHVzaW5nIG5hbWVkIHN0YXRlc1xuICAgIC8vIHVzZUxheW91dEVmZmVjdCBmb3Igc3VwcHJlc3NpbmcgZmxhc2hlc1xuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHN3aXRjaCAoY3JhZGxlU3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnYXBwbHljZWxsZnJhbWVjaGFuZ2VzJzogeyAvLyB1c2VyIGludGVydmVudGlvblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7IC8vIGN5Y2xlIHRvIGFsbG93IGZvciByZWYgY29uZmlnXG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LmNhY2hlICE9ICdwcmVsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NhY2hlZCcpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZG9zZXR1cCcpIC8vIGxvYWQgZ3JpZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0cHJlbG9hZCc6e1xuXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIuY2xlYXJDYWNoZSgpXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2RvcHJlbG9hZCcpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdkb3ByZWxvYWQnOiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmluaXNocHJlbG9hZCcpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIEFQSSB0byBjb250ZW50SGFuZGxlclxuICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5wcmVsb2FkKGNyYWRsZVBhcmFtZXRlcnNSZWYuY3VycmVudCwgY2FsbGJhY2ssIHNjcm9sbGVySUQpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjYWNoZWR3YWl0aW5nJzoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF3YXNDYWNoZWRSZWYuY3VycmVudCAmJiAhaXNDYWNoZWRSZWYuY3VycmVudCl7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjYWNoZWQnOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXdhc0NhY2hlZFJlZi5jdXJyZW50ICYmICFpc0NhY2hlZFJlZi5jdXJyZW50KXtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnc2V0Y3JhZGxlY29udGVudCcpXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNocGFyZW50aW5nJzp7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgeyAvLyBpbnRlcnJ1cHQgdW50aWwgY2FjaGluZyBpcyByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NhY2hlZHdhaXRpbmcnKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVuZGVydXBkYXRlZGNvbnRlbnQgaXMgY2FsbGVkIGZyb20gdXBkYXRlQ3JhZGxlQ29udGVudC4gXG4gICAgICAgICAgICAvLyBpdCBpcyByZXF1aXJlZCB0byBpbnRlZ3JhdGUgY2hhbmdlZCBET00gY29uZmlndXJhdGlvbnMgYmVmb3JlICdyZWFkeScgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBjYXNlICdyZW5kZXJ1cGRhdGVkY29udGVudCc6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIC8vIGNhY2hlSGFuZGxlci5yZW5kZXJQb3J0YWxMaXN0KClcblxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHNcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2h1cGRhdGVkY29udGVudCcpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JzogeyAvLyBjeWNsZSBmb3IgRE9NIHVwZGF0ZVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBjYWNoZSB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nKClcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0cmVwb3NpdGlvbic6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gaW50ZXJydXB0SGFuZGxlclxuXG4gICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgcmVjdXJzaXZlIGNyYWRsZSBpbnRlcnNlY3Rpb24gaW50ZXJydXB0c1xuICAgICAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgICAgICBzaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCA9IGZhbHNlIC8vIGJlY2F1c2Ugbm93IHVuZGVyd2F5XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ1JlbmRlcicpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgdGhlIGZvbGxvd2luZyA4IGNyYWRsZSBzdGF0ZXMgYWxsIHJlc29sdmUgd2l0aFxuICAgICAgICAgICAgICAgIGEgY2hhaW4gc3RhcnRpbmcgd2l0aCBzZXRDcmFkbGVDb250ZW50LCBcbiAgICAgICAgICAgICAgICBjb250aW51aW5nIHdpdGggJ3ByZXBhcmVyZW5kZXInLCBhbmQgZW5kaW5nIHdpdGhcbiAgICAgICAgICAgICAgICAnbm9ybWFsaXplc2lnbmFscydcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICdzZXRjcmFkbGVjb250ZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ2Rvc2V0dXAnOlxuICAgICAgICAgICAgY2FzZSAnZmluaXNocHJlbG9hZCc6XG4gICAgICAgICAgICBjYXNlICdkb3JlcG9zaXRpb24nOiAvL1xuICAgICAgICAgICAgY2FzZSAnZmluaXNocmVzaXplJzpcbiAgICAgICAgICAgIGNhc2UgJ3Bpdm90JzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlJzogLy9cbiAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50KSB7IC8vIGludGVycnVwdCB1bnRpbCBjYWNoaW5nIGlzIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjYWNoZWQnKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSBjb250ZW50SGFuZGxlci5jb250ZW50XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBuZXcgYXJyYXkgaWQgZm9yIE9iamVjdC5pcyB0byB0cmlnZ2VyIHJlYWN0IHJlLXByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZWxvYWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5zZXRDcmFkbGVDb250ZW50KCBjcmFkbGVTdGF0ZSApXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGlmIChjYWNoZSA9PSAnY3JhZGxlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbEluZGV4TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmdldE1vZGVsSW5kZXhMaXN0KClcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLm1hdGNoQ2FjaGVUb0NyYWRsZShtb2RlbEluZGV4TGlzdCwgc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLmNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICBjYWNoZUhhbmRsZXIucmVuZGVyUG9ydGFsTGlzdCgpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ByZXBhcmVyZW5kZXInKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncHJlcGFyZXJlbmRlcic6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSBjb250ZW50SGFuZGxlci5jb250ZW50XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50c1xuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzXG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnbm9ybWFsaXplc2lnbmFscycpIFxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnbm9ybWFsaXplc2lnbmFscyc6IHsgLy8gbm9ybWFsaXplIG9yIHJlc3VtZSBjeWNsaW5nXG5cbiAgICAgICAgICAgICAgICAvLyBwcmlvcml0aXplIGludGVycnVwdHMgVE9ETzogdmFsaWRhdGUgdGhpc1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgKCghaXNDYWNoZWRSZWYuY3VycmVudCkgJiYgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZykge1xuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnY2FsbGluZyByZXNpemluZyBmcm9tIG5vcm1hbGl6ZXNpZ25hbHMnLCctJytzY3JvbGxlcklEKyctJylcbiAgICAgICAgICAgICAgICAvLyAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Jlc2l6aW5nJylcblxuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAoaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCkge1xuXG4gICAgICAgICAgICAgICAgLy8gICAgIHNldENyYWRsZVN0YXRlKCdzdGFydHJlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICAgICAgLy8gfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucmVzdG9yZUludGVycnVwdHMoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrIFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVzZXIgcmVxdWVzdFxuICAgICAgICAgICAgY2FzZSAnY2xlYXJjYWNoZSc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmNsZWFyQ2FjaGUoKVxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtb3Zpbmcgb3V0IG9mIGNhY2hlIGludG8gdmlzaWJsZSBET00gdHJlZSAoY2VsbEZyYW1lKVxuICAgICAgICAgICAgLy8gcmVzZXRzIHNjcm9sbFBvcyAoc2Nyb2xsTGVmdC9zY3JvbGxUb3ApIHRvIGxhc3QgVUkgdmFsdWVcbiAgICAgICAgICAgIGNhc2UgJ3JlcGFyZW50aW5ndHJhbnNpdGlvbic6IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gc2NhZmZvbGRIYW5kbGVyXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc2Nyb2xsIHBvc2l0aW9uIHRvIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Jlc2V0dGluZyBzY3JvbGwgcG9zaXRpb24gdG8nLCctJytzY3JvbGxlcklEKyctJyAsIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcylcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudFtjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eV0gPSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3NcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHBhcmVudGluZycpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gc3RhbmRhcmQgcmVuZGVyaW5nIHN0YXRlcyAoMyBzdGF0ZXMpXG4gICAgdXNlRWZmZWN0KCgpPT4geyBcblxuICAgICAgICBzd2l0Y2ggKGNyYWRsZVN0YXRlKSB7XG5cbiAgICAgICAgICAgIC8vIHJlcG9zaXRpb25pbmdSZW5kZXIgYW5kIHJlcG9zaXRpb25pbmdDb250aW51YXRpb24gYXJlIHRvZ2dsZWQgdG8gZ2VuZXJhdGUgY29udGludW91cyBcbiAgICAgICAgICAgIC8vIHJlcG9zaWlvbmluZyByZW5kZXJzXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzpcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJzogLy8gc2V0IGZyb20gb25TY3JvbGxcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ1JlbmRlcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSAncmVhZHknOiAvLyBubyBvcFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFTkRFUiBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb25zdCBzY3JvbGxBeGlzUmVmZXJlbmNlSW5kZXggPSBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleFxuICAgIGNvbnN0IHNjcm9sbFRyYWNrZXJBcmdzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJyB8fCBjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWNrZXJhcmdzID0ge1xuICAgICAgICAgICAgdG9wOnZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyAzLFxuICAgICAgICAgICAgbGVmdDp2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIDMsXG4gICAgICAgICAgICBzY3JvbGxBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhY2tlcmFyZ3NcbiAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgICBjcmFkbGVTdGF0ZSwgXG4gICAgICAgICAgICB2aWV3cG9ydERpbWVuc2lvbnMsIFxuICAgICAgICAgICAgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICBdXG4gICAgKVxuXG4gICAgY29uc3QgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnRcblxuICAgIGNvbnN0IGNvbnRleHR2YWx1ZVJlZiA9IHVzZVJlZih7Y3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLCBjYWNoZUhhbmRsZXJ9KVxuXG4gICAgcmV0dXJuIDxDcmFkbGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlID0ge2NvbnRleHR2YWx1ZVJlZi5jdXJyZW50fT5cblxuICAgICAgICB7KChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpIHx8IFxuICAgICAgICAgICAgKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJykpP1xuICAgICAgICAgICAgPFNjcm9sbFRyYWNrZXIgXG4gICAgICAgICAgICAgICAgdG9wID0ge3Njcm9sbFRyYWNrZXJBcmdzLnRvcH0gXG4gICAgICAgICAgICAgICAgbGVmdCA9IHtzY3JvbGxUcmFja2VyQXJncy5sZWZ0fSBcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB7c2Nyb2xsVHJhY2tlckFyZ3Muc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4fSBcbiAgICAgICAgICAgICAgICBsaXN0c2l6ZSA9IHtzY3JvbGxUcmFja2VyQXJncy5saXN0c2l6ZX1cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7c2Nyb2xsVHJhY2tlckFyZ3Muc3R5bGVzfVxuICAgICAgICAgICAgLz46XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICdjcmFkbGUtYXhpcydcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHtjcmFkbGVBeGlzU3R5bGV9IFxuICAgICAgICAgICAgICAgIHJlZiA9IHtheGlzQ3JhZGxlRWxlbWVudFJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd0cmlnZ2VybGluZS1oZWFkJ1xuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHt0cmlnZ2VybGluZUhlYWRTdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge2hlYWRUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWZ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ3RyaWdnZXJsaW5lLXRhaWwnXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0ge3RyaWdnZXJsaW5lVGFpbFN0eWxlfVxuICAgICAgICAgICAgICAgICAgICByZWYgPSB7dGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7dHJ1ZT9cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICdjcmFkbGUtZGl2aWRlcicgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHtjcmFkbGVEaXZpZGVyU3R5bGV9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+OlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICdoZWFkJ1xuICAgICAgICAgICAgICAgICAgICByZWYgPSB7aGVhZENyYWRsZUVsZW1lbnRSZWZ9IFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHtjcmFkbGVIZWFkU3R5bGV9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7KGNyYWRsZVN0YXRlICE9ICdzZXR1cCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHM6XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbCdcbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge3RhaWxDcmFkbGVFbGVtZW50UmVmfSBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlVGFpbFN0eWxlfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyhjcmFkbGVTdGF0ZSAhPSAnc2V0dXAnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuXG4gICAgPC9DcmFkbGVDb250ZXh0LlByb3ZpZGVyPlxuXG59IC8vIENyYWRsZVxuXG4vLyB1dGlsaXR5XG5cbmNvbnN0IGdldENyYWRsZUhhbmRsZXJzID0gKGNyYWRsZVBhcmFtZXRlcnMpID0+IHtcblxuICAgIGNvbnN0IGNyZWF0ZUhhbmRsZXIgPSBoYW5kbGVyID0+IG5ldyBoYW5kbGVyKGNyYWRsZVBhcmFtZXRlcnMpXG5cbiAgICBjb25zdCB7IGNhY2hlSGFuZGxlciB9ID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoSW50ZXJydXB0SGFuZGxlciksXG4gICAgICAgIHNjcm9sbEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTY3JvbGxIYW5kbGVyKSxcbiAgICAgICAgc3RhdGVIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoU3RhdGVIYW5kbGVyKSxcbiAgICAgICAgY29udGVudEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihDb250ZW50SGFuZGxlciksXG4gICAgICAgIHNjYWZmb2xkSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNjYWZmb2xkSGFuZGxlciksXG4gICAgICAgIHNlcnZpY2VIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoU2VydmljZUhhbmRsZXIpLFxuICAgICAgICBzdHlsZXNIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoU3R5bGVzSGFuZGxlciksXG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3JhZGxlIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJyZWFjdF8xIiwiY3JlYXRlQ29udGV4dCIsIkNyYWRsZSIsImdyaWRTcGVjcyIsInJ1bndheVNpemUiLCJsaXN0c2l6ZSIsInN0YXJ0aW5nSW5kZXgiLCJnZXRJdGVtIiwicGxhY2Vob2xkZXIiLCJ1c2VyRnVuY3Rpb25zIiwic3R5bGVzIiwidHJpZ2dlcmxpbmVPZmZzZXQiLCJjYWNoZSIsImNhY2hlTWF4Iiwic2Nyb2xsZXJJRCIsImNhY2hlSGFuZGxlciIsIm9yaWVudGF0aW9uIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJsYXlvdXQiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMiLCJWaWV3cG9ydF8xIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiY3VycmVudCIsInZpZXdwb3J0RGltZW5zaW9ucyIsInZpZXdwb3J0aGVpZ2h0IiwiaGVpZ2h0Iiwidmlld3BvcnR3aWR0aCIsIndpZHRoIiwiY3JhZGxlU3RhdGUiLCJzZXRDcmFkbGVTdGF0ZSIsImNyYWRsZVN0YXRlUmVmIiwiaXNNb3VudGVkUmVmIiwiaXNDYWNoZWRSZWYiLCJ3YXNDYWNoZWRSZWYiLCJwYXJlbnRpbmdUcmFuc2l0aW9uUmVxdWlyZWRSZWYiLCJ0cmlnZ2VybGluZVJlY29yZHNSZWYiLCJ3YXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJkcml2ZXIiLCJvZmZzZXQiLCJoZWFkQ3JhZGxlRWxlbWVudFJlZiIsInRhaWxDcmFkbGVFbGVtZW50UmVmIiwiYXhpc0NyYWRsZUVsZW1lbnRSZWYiLCJoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmIiwidGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZiIsImNyYWRsZUVsZW1lbnRzUmVmIiwiaGVhZFJlZiIsInRhaWxSZWYiLCJheGlzUmVmIiwiaGVhZFRyaWdnZXJsaW5lUmVmIiwidGFpbFRyaWdnZXJsaW5lUmVmIiwiY3Jvc3Njb3VudCIsInZpZXdwb3J0c2l6ZSIsImNyb3NzTGVuZ3RoIiwidmlld3BvcnRsZW5ndGhmb3JjYWxjIiwidGlsZWxlbmd0aGZvcmNhbGMiLCJNYXRoIiwibWluIiwiZmxvb3IiLCJ2aWV3cG9ydExlbmd0aCIsInJvd0xlbmd0aCIsInZpZXdwb3J0Um93Y291bnQiLCJjZWlsIiwidmlld3BvcnRWaXNpYmxlUm93Y291bnQiLCJsaXN0Um93Y291bnQiLCJjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQiLCJjcmFkbGVSb3djb3VudCIsInJ1bndheVJvd2NvdW50IiwiZGlmZiIsIm1heCIsIml0ZW1jb3VudCIsImV4dGVybmFsQ2FsbGJhY2tzUmVmIiwicmVmZXJlbmNlSW5kZXhDYWxsYmFjayIsInByZWxvYWRJbmRleENhbGxiYWNrIiwiY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2siLCJuZXdMaXN0U2l6ZUNhbGxiYWNrIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImhhbmRsZXJzUmVmIiwiY3JhZGxlUGFyYW1ldGVycyIsImNyYWRsZVBhcmFtZXRlcnNSZWYiLCJnZXRDcmFkbGVIYW5kbGVycyIsImludGVycnVwdEhhbmRsZXIiLCJzY3JvbGxIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwiY29udGVudEhhbmRsZXIiLCJzY2FmZm9sZEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsInN0eWxlc0hhbmRsZXIiLCJpc0luUG9ydGFsIiwiaXNDYWNoZUNoYW5nZSIsImlzQ2FjaGluZ1VuZGVyd2F5IiwiaXNSZXBhcmVudGluZ1JlZiIsIl9hIiwiaXNSZXNpemluZyIsIl9iIiwicGF1c2VJbnRlcnJ1cHRzIiwicmVzdG9yZUludGVycnVwdHMiLCJnZXRDYWxsYmFja3MiLCJzY3JvbGxUb0l0ZW0iLCJyZWxvYWQiLCJzZXRMaXN0c2l6ZSIsImNsZWFyQ2FjaGUiLCJnZXRDYWNoZU1hcCIsImdldENhY2hlTGlzdCIsImdldENyYWRsZU1hcCIsIm1vZGlmeUNhY2hlTWFwIiwibW92ZUluZGV4IiwiaW5zZXJ0SW5kZXgiLCJyZW1vdmVJbmRleCIsImNhbGxiYWNrcyIsInZpZXdwb3J0ZGF0YSIsImVsZW1lbnRSZWYiLCJhZGRFdmVudExpc3RlbmVyIiwib25TY3JvbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JhZGxlaW50ZXJzZWN0b2JzZXJ2ZXIiLCJjcmFkbGVJbnRlcnNlY3QiLCJjcmVhdGVPYnNlcnZlciIsImNvbm5lY3RFbGVtZW50cyIsInRyaWdnZXJvYnNlcnZlciIsImF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QiLCJyZXNpemVvYnNlcnZlciIsImNyYWRsZVJlc2l6ZSIsImRpc2Nvbm5lY3QiLCJtb2RlbEluZGV4TGlzdCIsImdldE1vZGVsSW5kZXhMaXN0IiwicGFyZUNhY2hlVG9NYXgiLCJtYXRjaENhY2hlVG9DcmFkbGUiLCJzaWduYWxzIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsInByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoIiwicHJldmlvdXNBeGlzT2Zmc2V0IiwidGFyZ2V0QXhpc1BpeGVsT2Zmc2V0IiwicHJldmlvdXNyYXRpbyIsInBpdm90Q2VsbFBpeGVsTGVuZ3RoIiwicGl2b3RBeGlzT2Zmc2V0Iiwicm91bmQiLCJzZXRDcmFkbGVTdHlsZXMiLCJ1c2Vyc3R5bGVzIiwiY3JhZGxlSGVhZFN0eWxlIiwiY3JhZGxlVGFpbFN0eWxlIiwiY3JhZGxlQXhpc1N0eWxlIiwidHJpZ2dlcmxpbmVIZWFkU3R5bGUiLCJ0cmlnZ2VybGluZVRhaWxTdHlsZSIsImNyYWRsZURpdmlkZXJTdHlsZSIsImNhbGxiYWNrIiwicHJlbG9hZCIsImNyYWRsZUNvbnRlbnQiLCJoZWFkRGlzcGxheUNvbXBvbmVudHMiLCJoZWFkTW9kZWxDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwidGFpbE1vZGVsQ29tcG9uZW50cyIsImd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nIiwicGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciIsInBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJyZXBvc2l0aW9uaW5nUmVxdWlyZWQiLCJjb250ZW50Iiwic2V0Q3JhZGxlQ29udGVudCIsInJlbmRlclBvcnRhbExpc3QiLCJibG9ja1Njcm9sbFBvcyIsInZpZXdwb3J0RWxlbWVudCIsInNjcm9sbEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInNjcm9sbFRyYWNrZXJBcmdzIiwidHJhY2tlcmFyZ3MiLCJ0b3AiLCJsZWZ0IiwiY29udGV4dHZhbHVlUmVmIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIlNjcm9sbHRyYWNrZXJfMSIsInN0eWxlIiwicmVmIiwiY3JlYXRlSGFuZGxlciIsImhhbmRsZXIiLCJpbnRlcnJ1cHRoYW5kbGVyXzEiLCJzY3JvbGxoYW5kbGVyXzEiLCJzdGF0ZWhhbmRsZXJfMSIsImNvbnRlbnRoYW5kbGVyXzEiLCJzY2FmZm9sZGhhbmRsZXJfMSIsInNlcnZpY2VoYW5kbGVyXzEiLCJzdHlsZXNoYW5kbGVyXzEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Cradle.tsx\n");

/***/ }),

/***/ "./src/Scrollblock.tsx":
/*!*****************************!*\
  !*** ./src/Scrollblock.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrollblock.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    TODO\n    update length for cradle adjustments based on variable length changes in cell frames.\n\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ \"./src/Viewport.tsx\");\n\nvar Scrollblock = function Scrollblock(_ref) {\n  var children = _ref.children,\n      listsize = _ref.listsize,\n      gridSpecs = _ref.gridSpecs,\n      styles = _ref.styles,\n      scrollerID = _ref.scrollerID;\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // -------------------------[ context and state ]-------------------------\n\n  var viewportInterruptProperties = (0, react_1.useContext)(Viewport_1.ViewportInterrupt); // -----------------------------------[ data heap ]-------------------------\n\n  var baseScrollBlockLengthRef = (0, react_1.useRef)(null); // const scrollblockRef = useRef(null)\n\n  var divlinerstyleRef = (0, react_1.useRef)(Object.assign({\n    backgroundColor: 'white',\n    position: 'relative'\n  }, styles.cradle));\n\n  var _ref2 = (0, react_1.useState)(divlinerstyleRef.current),\n      _ref3 = _slicedToArray(_ref2, 2),\n      divlinerstyle = _ref3[0],\n      saveDivlinerstyle = _ref3[1]; // to trigger render\n\n\n  var _viewportInterruptPro = viewportInterruptProperties.viewportDimensions,\n      width = _viewportInterruptPro.width,\n      height = _viewportInterruptPro.height;\n  (0, react_1.useLayoutEffect)(function () {\n    updateBaseBlockLength();\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, baseScrollBlockLengthRef);\n    saveDivlinerstyle(divlinerstyleRef.current);\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBaseBlockLength = (0, react_1.useCallback)(function () {\n    var basescrollblocklength = calcBaseScrollblockLength({\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width,\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding\n    });\n    baseScrollBlockLengthRef.current = basescrollblocklength;\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]); // console.log('scrollblock listsizeRef, baseScrollBlockLengthRef','-'+scrollerID+'-' , listsizeRef, baseScrollBlockLengthRef)    \n\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'scrollblock',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\n// all the parameters can affect the length\n\n\nvar calcBaseScrollblockLength = function calcBaseScrollblockLength(_ref4) {\n  var orientation = _ref4.orientation,\n      viewportheight = _ref4.viewportheight,\n      viewportwidth = _ref4.viewportwidth,\n      listsize = _ref4.listsize,\n      cellHeight = _ref4.cellHeight,\n      cellWidth = _ref4.cellWidth,\n      gap = _ref4.gap,\n      padding = _ref4.padding;\n  // dependents of orientation\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n\n  if (orientation == 'vertical') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    // 'horizontal'\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  } // adjustments to viewportcrosslength\n\n\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap;\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  var listlength = Math.ceil(listsize / crosscount);\n  var straightlength = listlength * cellLength - (listlength > 0 ? gap : 0) + padding * 2;\n  return straightlength;\n};\n\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, baseScrollblocklengthRef) {\n  var localstyles = Object.assign({}, stylesRef.current);\n  var height;\n  var width;\n\n  if (orientation == 'horizontal') {\n    height = '100%';\n    width = baseScrollblocklengthRef.current + 'px';\n  } else if (orientation == 'vertical') {\n    height = baseScrollblocklengthRef.current + 'px';\n    width = '100%';\n  }\n\n  localstyles.height = height;\n  localstyles.width = width;\n  return localstyles;\n};\n\nexports[\"default\"] = Scrollblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVSxHQUFHTCxVQUFkLElBQ2ZLLFVBQVUsR0FBRyxDQUFkLEdBQ0dsQyxHQURILEdBRUcsQ0FIYSxJQUlkQyxPQUFPLEdBQUcsQ0FKakI7RUFNQSxPQUFPbUMsY0FBUDtBQUVILENBN0NEOztBQStDQSxJQUFNZix1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLENBQUN0QixXQUFELEVBQWFzQyxTQUFiLEVBQXVCQyx3QkFBdkIsRUFBbUQ7RUFFL0UsSUFBSUMsV0FBVyxHQUFHOUIsTUFBTSxDQUFDQyxNQUFQLENBQWMsRUFBZCxFQUFpQjJCLFNBQVMsQ0FBQ3ZCLE9BQTNCLENBQWxCO0VBQ0EsSUFBSUssTUFBSjtFQUNBLElBQUlELEtBQUo7O0VBQ0EsSUFBSW5CLFdBQVcsSUFBSSxZQUFuQixFQUFpQztJQUM3Qm9CLE1BQU0sR0FBRyxNQUFUO0lBQ0FELEtBQUssR0FBR29CLHdCQUF3QixDQUFDeEIsT0FBekIsR0FBbUMsSUFBM0M7RUFDSCxDQUhELE1BR08sSUFBSWYsV0FBVyxJQUFJLFVBQW5CLEVBQStCO0lBQ2xDb0IsTUFBTSxHQUFHbUIsd0JBQXdCLENBQUN4QixPQUF6QixHQUFtQyxJQUE1QztJQUNBSSxLQUFLLEdBQUcsTUFBUjtFQUNIOztFQUNEcUIsV0FBVyxDQUFDcEIsTUFBWixHQUFxQkEsTUFBckI7RUFDQW9CLFdBQVcsQ0FBQ3JCLEtBQVosR0FBb0JBLEtBQXBCO0VBRUEsT0FBT3FCLFdBQVA7QUFDSCxDQWhCRDs7QUFrQkFDLGtCQUFBQSxHQUFlL0MsV0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvU2Nyb2xsYmxvY2sudHN4PzNiNjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2Nyb2xsYmxvY2sudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRPRE9cbiAgICB1cGRhdGUgbGVuZ3RoIGZvciBjcmFkbGUgYWRqdXN0bWVudHMgYmFzZWQgb24gdmFyaWFibGUgbGVuZ3RoIGNoYW5nZXMgaW4gY2VsbCBmcmFtZXMuXG5cbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFZpZXdwb3J0SW50ZXJydXB0IH0gZnJvbSAnLi9WaWV3cG9ydCdcblxuY29uc3QgU2Nyb2xsYmxvY2sgPSAoe1xuICAgIGNoaWxkcmVuLFxuICAgIGxpc3RzaXplLFxuICAgIGdyaWRTcGVjcywgXG4gICAgc3R5bGVzLFxuICAgIHNjcm9sbGVySUQsXG59KSA9PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuICAgIH0gPSBncmlkU3BlY3NcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNvbnRleHQgYW5kIHN0YXRlIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdXNlQ29udGV4dChWaWV3cG9ydEludGVycnVwdClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBkYXRhIGhlYXAgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBiYXNlU2Nyb2xsQmxvY2tMZW5ndGhSZWYgPSB1c2VSZWYobnVsbClcbiAgICAvLyBjb25zdCBzY3JvbGxibG9ja1JlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGRpdmxpbmVyc3R5bGVSZWYgPSB1c2VSZWYoXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcblxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOid3aGl0ZScsXG4gICAgICAgICAgICBwb3NpdGlvbjoncmVsYXRpdmUnLFxuICAgICAgICAgICAgXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcywgc3R5bGVzLmNyYWRsZSlcblxuICAgIClcbiAgICBjb25zdCBbZGl2bGluZXJzdHlsZSxzYXZlRGl2bGluZXJzdHlsZV0gPSB1c2VTdGF0ZShkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQpIC8vIHRvIHRyaWdnZXIgcmVuZGVyXG5cbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy52aWV3cG9ydERpbWVuc2lvbnNcbiAgICBcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIHVwZGF0ZUJhc2VCbG9ja0xlbmd0aCgpXG4gICAgICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IFxuICAgICAgICAgICAgdXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMoXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgZGl2bGluZXJzdHlsZVJlZixcbiAgICAgICAgICAgICAgICBiYXNlU2Nyb2xsQmxvY2tMZW5ndGhSZWZcbiAgICAgICAgICAgIClcbiAgICAgICAgc2F2ZURpdmxpbmVyc3R5bGUoZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KVxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgXSlcblxuICAgIGNvbnN0IHVwZGF0ZUJhc2VCbG9ja0xlbmd0aCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYXNlc2Nyb2xsYmxvY2tsZW5ndGggPSBcbiAgICAgICAgICAgICAgICBjYWxjQmFzZVNjcm9sbGJsb2NrTGVuZ3RoKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0OmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0d2lkdGg6d2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBiYXNlU2Nyb2xsQmxvY2tMZW5ndGhSZWYuY3VycmVudCA9IGJhc2VzY3JvbGxibG9ja2xlbmd0aFxuXG4gICAgICAgIH0sW1xuICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgXVxuICAgIClcblxuICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxibG9jayBsaXN0c2l6ZVJlZiwgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmJywnLScrc2Nyb2xsZXJJRCsnLScgLCBsaXN0c2l6ZVJlZiwgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmKSAgICBcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtdHlwZSA9ICdzY3JvbGxibG9jaycgc3R5bGU9e2RpdmxpbmVyc3R5bGVSZWYuY3VycmVudH0+e2NoaWxkcmVufTwvZGl2PlxuXG59IC8vIFNjcm9sbGJsb2NrXG5cbi8vIGFsbCB0aGUgcGFyYW1ldGVycyBjYW4gYWZmZWN0IHRoZSBsZW5ndGhcbmNvbnN0IGNhbGNCYXNlU2Nyb2xsYmxvY2tMZW5ndGggPSAoe1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICB9KSA9PiB7XG5cbiAgICAvLyBkZXBlbmRlbnRzIG9mIG9yaWVudGF0aW9uXG4gICAgbGV0IGNyb3NzbGVuZ3RoXG4gICAgbGV0IGNlbGxMZW5ndGhcbiAgICBsZXQgdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsV2lkdGggKyBnYXBcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgdmlld3BvcnRjcm9zc2xlbmd0aCA9IHZpZXdwb3J0d2lkdGggXG5cbiAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICBjcm9zc2xlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxXaWR0aCArIGdhcFxuICAgICAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gdmlld3BvcnRoZWlnaHRcblxuICAgIH1cbiAgICAvLyBhZGp1c3RtZW50cyB0byB2aWV3cG9ydGNyb3NzbGVuZ3RoXG4gICAgdmlld3BvcnRjcm9zc2xlbmd0aCAtPSAocGFkZGluZyAqIDIpXG4gICAgdmlld3BvcnRjcm9zc2xlbmd0aCArPSBnYXBcblxuICAgIGlmICh2aWV3cG9ydGNyb3NzbGVuZ3RoIDwgY3Jvc3NsZW5ndGgpIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSBjcm9zc2xlbmd0aCAvLyBtdXN0IGJlIGF0IGxlYXN0IG9uZVxuICAgIGxldCBjcm9zc2NvdW50ID0gTWF0aC5mbG9vcih2aWV3cG9ydGNyb3NzbGVuZ3RoL2Nyb3NzbGVuZ3RoKVxuXG4gICAgbGV0IGxpc3RsZW5ndGggPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudClcblxuICAgIGxldCBzdHJhaWdodGxlbmd0aCA9IChsaXN0bGVuZ3RoICogY2VsbExlbmd0aCkgLSBcbiAgICAgICAgKChsaXN0bGVuZ3RoID4gMCk/XG4gICAgICAgICAgICBnYXA6XG4gICAgICAgICAgICAwKSBcbiAgICAgICAgKyAocGFkZGluZyAqIDIpXG5cbiAgICByZXR1cm4gc3RyYWlnaHRsZW5ndGhcblxufVxuXG5jb25zdCB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyA9IChvcmllbnRhdGlvbixzdHlsZXNSZWYsYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmKSA9PiB7XG5cbiAgICBsZXQgbG9jYWxzdHlsZXMgPSBPYmplY3QuYXNzaWduKHt9LHN0eWxlc1JlZi5jdXJyZW50KSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzXG4gICAgbGV0IGhlaWdodCBcbiAgICBsZXQgd2lkdGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICB3aWR0aCA9IGJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBoZWlnaHQgPSBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYuY3VycmVudCArICdweCdcbiAgICAgICAgd2lkdGggPSAnMTAwJSdcbiAgICB9XG4gICAgbG9jYWxzdHlsZXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgbG9jYWxzdHlsZXMud2lkdGggPSB3aWR0aFxuXG4gICAgcmV0dXJuIGxvY2Fsc3R5bGVzXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbGJsb2NrXG4iXSwibmFtZXMiOlsiU2Nyb2xsYmxvY2siLCJjaGlsZHJlbiIsImxpc3RzaXplIiwiZ3JpZFNwZWNzIiwic3R5bGVzIiwic2Nyb2xsZXJJRCIsIm9yaWVudGF0aW9uIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJsYXlvdXQiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMiLCJWaWV3cG9ydF8xIiwiYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmIiwiZGl2bGluZXJzdHlsZVJlZiIsIk9iamVjdCIsImFzc2lnbiIsImJhY2tncm91bmRDb2xvciIsInBvc2l0aW9uIiwiY3JhZGxlIiwiY3VycmVudCIsImRpdmxpbmVyc3R5bGUiLCJzYXZlRGl2bGluZXJzdHlsZSIsInZpZXdwb3J0RGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwidXBkYXRlQmFzZUJsb2NrTGVuZ3RoIiwidXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMiLCJiYXNlc2Nyb2xsYmxvY2tsZW5ndGgiLCJjYWxjQmFzZVNjcm9sbGJsb2NrTGVuZ3RoIiwidmlld3BvcnRoZWlnaHQiLCJ2aWV3cG9ydHdpZHRoIiwicmVhY3RfMSIsInN0eWxlIiwiY3Jvc3NsZW5ndGgiLCJjZWxsTGVuZ3RoIiwidmlld3BvcnRjcm9zc2xlbmd0aCIsImNyb3NzY291bnQiLCJNYXRoIiwiZmxvb3IiLCJsaXN0bGVuZ3RoIiwiY2VpbCIsInN0cmFpZ2h0bGVuZ3RoIiwic3R5bGVzUmVmIiwiYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmIiwibG9jYWxzdHlsZXMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Scrollblock.tsx\n");

/***/ }),

/***/ "./src/Viewport.tsx":
/*!**************************!*\
  !*** ./src/Viewport.tsx ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // viewport.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ViewportInterrupt = void 0;\n/*\n    The role of viewport is to provide data to its children (scrollblock and cradle),\n    and act as the visible screen portal of the list being shown\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nexports.ViewportInterrupt = react_1[\"default\"].createContext(null); // for children\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver; // control constant\n\nvar RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE = 250;\n\nvar Viewport = function Viewport(_ref) {\n  var children = _ref.children,\n      gridSpecs = _ref.gridSpecs,\n      styles = _ref.styles,\n      scrollerID = _ref.scrollerID,\n      scrollerData = _ref.scrollerData;\n  // -----------------------[ initialize ]------------------\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout;\n\n  var _ref2 = (0, react_1.useState)('setup'),\n      _ref3 = _slicedToArray(_ref2, 2),\n      viewportState = _ref3[0],\n      setViewportState = _ref3[1]; // setup, resizing, resized, ready\n\n\n  var viewportStateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback scope\n\n  viewportStateRef.current = viewportState;\n  var isMountedRef = (0, react_1.useRef)(true); // monitor for unmounted\n\n  (0, react_1.useEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  var viewportElementRef = (0, react_1.useRef)(null); // viewportInterruptPropertiesRef is passed as a resizing interrupt (through context) to children\n  // initialize\n\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)({\n    isReparentingRef: scrollerData === null || scrollerData === void 0 ? void 0 : scrollerData.isReparentingRef,\n    isResizing: false,\n    // index:null,\n    viewportDimensions: null,\n    elementRef: null\n  }); // --------------------[ resizer setup ]-----------------------\n\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null); // set up resizeObserver\n\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportElementRef.current); // unmount\n\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []); // used by resizeObserver; generates interrupt\n\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (!isMountedRef.current || !viewportElementRef.current) return;\n    if (viewportStateRef.current == 'setup') return;\n    var target = entries[0].target; // generate interrupt response, if initiating resize\n\n    if (!isResizingRef.current) {\n      viewportInterruptPropertiesRef.current.isResizing = isResizingRef.current = true; // new object creation triggers a realtime interrupt message to cradle through context\n\n      viewportInterruptPropertiesRef.current = Object.assign({}, viewportInterruptPropertiesRef.current);\n      if (isMountedRef.current) setViewportState('resizing');\n    }\n\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n\n      if (isMountedRef.current) {\n        setViewportState('resized');\n      }\n    }, RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE);\n  }, []); // ----------------------------------[ calculate config values ]--------------------------------\n\n  var divlinerstyleRef = (0, react_1.useRef)(null); // initialize with inherited styles\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign({\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: 'auto',\n      backgroundColor: 'red'\n    }, styles.viewport);\n  }, [styles.viewport]); // update with config values\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    // TODO: gap\n    var mincrosslength = calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding);\n    var styles = Object.assign({}, divlinerstyleRef.current); // avoid readonly\n\n    if (orientation == 'vertical') {\n      styles.minWidth = mincrosslength + 'px';\n      styles.minHeight = 'auto';\n    } else {\n      styles.minWidth = 'auto';\n      styles.minHeight = mincrosslength + 'px';\n    }\n\n    return styles;\n  }, [orientation, cellWidth, cellHeight, gap, padding]); // update viewportInterruptPropertiesRef; add viewport dimensions\n\n  viewportInterruptPropertiesRef.current = (0, react_1.useMemo)(function () {\n    if (viewportState == 'setup') return viewportInterruptPropertiesRef.current;\n\n    var _viewportElementRef$c = viewportElementRef.current.getBoundingClientRect(),\n        top = _viewportElementRef$c.top,\n        right = _viewportElementRef$c.right,\n        bottom = _viewportElementRef$c.bottom,\n        left = _viewportElementRef$c.left;\n\n    var width = right - left;\n    var height = bottom - top; // TODO this is a duplicate setting procedure with interrupthandler.tsx cradleIntersectionObserverCallback\n\n    var localViewportData = {\n      viewportDimensions: {\n        top: top,\n        right: right,\n        bottom: bottom,\n        left: left,\n        width: width,\n        height: height\n      },\n      elementRef: viewportElementRef,\n      isResizing: isResizingRef.current\n    }; // trigger context change with new object\n\n    var viewportdataobject = Object.assign({}, viewportInterruptPropertiesRef.current, localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportState]); // --------------------[ state processing ]---------------------------\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportState) {\n      case 'resized':\n      case 'setup':\n        {\n          setViewportState('ready');\n          break;\n        }\n    }\n  }, [viewportState]); // ----------------------[ render ]--------------------------------\n\n  return react_1[\"default\"].createElement(exports.ViewportInterrupt.Provider, {\n    value: viewportInterruptPropertiesRef.current\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'viewport',\n    \"data-scrollerid\": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportElementRef\n  }, viewportState != 'setup' && children));\n}; // Viewport\n// establish minimum width/height for the viewport -- approximately one item\n// gap only applies with multi-width items, therefore not used in calculations\n\n\nvar calcMinViewportCrossLength = function calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding) {\n  var crosslength, cellLength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellWidth;\n  } else {\n    cellLength = cellHeight;\n  }\n\n  crosslength = cellLength + padding * 2;\n  return crosslength;\n};\n\nexports[\"default\"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQ0hyQjtJQUFBLGFBQ2dCLFVBRGhCO0lBQzBCLG1CQUNIVSxVQUZ2QjtJQUdJbUQsS0FBSyxFQUFJcEIsZ0JBQWdCLENBQUNwQixPQUg5QjtJQUlJeUMsR0FBRyxFQUFJdkM7RUFKWCxHQU1PTCxhQUFhLElBQUksT0FBbEIsSUFBOEJYLFFBTnBDLENBREcsQ0FBUDtBQVdILENBOUxELEMsQ0E4TEU7QUFFRjtBQUNBOzs7QUFDQSxJQUFNNEMsMEJBQTBCLEdBQUcsU0FBN0JBLDBCQUE2QixDQUFDdkMsV0FBRCxFQUFjSSxTQUFkLEVBQXlCRCxVQUF6QixFQUFxQ0YsR0FBckMsRUFBMENDLE9BQTFDLEVBQXFEO0VBRXBGLElBQUlpRCxXQUFKLEVBQWlCQyxVQUFqQjs7RUFFQSxJQUFJcEQsV0FBVyxJQUFJLFVBQW5CLEVBQStCO0lBQzNCb0QsVUFBVSxHQUFHaEQsU0FBYjtFQUNILENBRkQsTUFFTztJQUNIZ0QsVUFBVSxHQUFHakQsVUFBYjtFQUNIOztFQUNEZ0QsV0FBVyxHQUFHQyxVQUFVLEdBQUlsRCxPQUFPLEdBQUcsQ0FBdEM7RUFFQSxPQUFPaUQsV0FBUDtBQUVILENBYkQ7O0FBZUFoRSxrQkFBQUEsR0FBZU8sUUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvVmlld3BvcnQudHN4P2M4MjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdmlld3BvcnQudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSByb2xlIG9mIHZpZXdwb3J0IGlzIHRvIHByb3ZpZGUgZGF0YSB0byBpdHMgY2hpbGRyZW4gKHNjcm9sbGJsb2NrIGFuZCBjcmFkbGUpLFxuICAgIGFuZCBhY3QgYXMgdGhlIHZpc2libGUgc2NyZWVuIHBvcnRhbCBvZiB0aGUgbGlzdCBiZWluZyBzaG93blxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0fSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGNvbnN0IFZpZXdwb3J0SW50ZXJydXB0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKSAvLyBmb3IgY2hpbGRyZW5cblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUmVzaXplT2JzZXJ2ZXJQb2xseWZpbGwgfSBmcm9tICdAanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlcidcblxuY29uc3QgUmVzaXplT2JzZXJ2ZXIgPSB3aW5kb3dbJ1Jlc2l6ZU9ic2VydmVyJ10gfHwgUmVzaXplT2JzZXJ2ZXJQb2xseWZpbGxcblxuLy8gY29udHJvbCBjb25zdGFudFxuY29uc3QgUkVTSVpFX1RJTUVPVVRfRk9SX09OQUZURVJTUkVTSVpFID0gMjUwXG5cbmNvbnN0IFZpZXdwb3J0ID0gKHtcbiAgICBjaGlsZHJlbiwgXG4gICAgZ3JpZFNwZWNzLFxuICAgIHN0eWxlcyxcbiAgICBzY3JvbGxlcklELFxuICAgIHNjcm9sbGVyRGF0YSxcbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgY29uc3QgW3ZpZXdwb3J0U3RhdGUsc2V0Vmlld3BvcnRTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKSAvLyBzZXR1cCwgcmVzaXppbmcsIHJlc2l6ZWQsIHJlYWR5XG5cbiAgICBjb25zdCB2aWV3cG9ydFN0YXRlUmVmID0gdXNlUmVmKG51bGwpIC8vIGZvciB1c2VDYWxsYmFjayAtPiByZXNpemVDYWxsYmFjayBzY29wZVxuICAgIHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9IHZpZXdwb3J0U3RhdGVcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKSAvLyBtb25pdG9yIGZvciB1bm1vdW50ZWRcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgLy8gdW5tb3VudFxuICAgICAgICByZXR1cm4gKCkgPT4ge2lzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2V9XG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYgaXMgcGFzc2VkIGFzIGEgcmVzaXppbmcgaW50ZXJydXB0ICh0aHJvdWdoIGNvbnRleHQpIHRvIGNoaWxkcmVuXG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZjpzY3JvbGxlckRhdGE/LmlzUmVwYXJlbnRpbmdSZWYsIFxuICAgICAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgXG4gICAgICAgICAgICAvLyBpbmRleDpudWxsLFxuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOm51bGwsXG4gICAgICAgICAgICBlbGVtZW50UmVmOm51bGxcbiAgICAgICAgfVxuICAgIClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXNpemVyIHNldHVwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVzaXplVGltZXJpZFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAvLyBzZXQgdXAgcmVzaXplT2JzZXJ2ZXJcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIocmVzaXplQ2FsbGJhY2spXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZSh2aWV3cG9ydEVsZW1lbnRSZWYuY3VycmVudClcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIHVzZWQgYnkgcmVzaXplT2JzZXJ2ZXI7IGdlbmVyYXRlcyBpbnRlcnJ1cHRcbiAgICBjb25zdCByZXNpemVDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlbnRyaWVzKT0+e1xuXG4gICAgICAgIGlmICgoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB8fCAoIXZpZXdwb3J0RWxlbWVudFJlZi5jdXJyZW50KSkgcmV0dXJuXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbnRyaWVzWzBdLnRhcmdldFxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGludGVycnVwdCByZXNwb25zZSwgaWYgaW5pdGlhdGluZyByZXNpemVcbiAgICAgICAgaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IGlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWUgXG4gICAgICAgICAgICAvLyBuZXcgb2JqZWN0IGNyZWF0aW9uIHRyaWdnZXJzIGEgcmVhbHRpbWUgaW50ZXJydXB0IG1lc3NhZ2UgdG8gY3JhZGxlIHRocm91Z2ggY29udGV4dFxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50KSBcblxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcmlkUmVmLmN1cnJlbnQpXG4gICAgICAgIHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVzaXplZCcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkUpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIGNvbmZpZyB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplIHdpdGggaW5oZXJpdGVkIHN0eWxlc1xuICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOjAsXG4gICAgICAgICAgICByaWdodDowLFxuICAgICAgICAgICAgYm90dG9tOjAsXG4gICAgICAgICAgICBsZWZ0OjAsXG4gICAgICAgICAgICBvdmVyZmxvdzonYXV0bycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3JlZCcsXG4gICAgICAgIH0sIHN0eWxlcy52aWV3cG9ydClcblxuICAgIH0sW3N0eWxlcy52aWV3cG9ydF0pXG5cbiAgICAvLyB1cGRhdGUgd2l0aCBjb25maWcgdmFsdWVzXG4gICAgZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgLy8gVE9ETzogZ2FwXG4gICAgICAgIGxldCBtaW5jcm9zc2xlbmd0aCA9IGNhbGNNaW5WaWV3cG9ydENyb3NzTGVuZ3RoKG9yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIGdhcCwgcGFkZGluZylcbiAgICAgICAgbGV0IHN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe30sZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KSAvLyBhdm9pZCByZWFkb25seVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSBtaW5jcm9zc2xlbmd0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlcy5taW5IZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlcy5taW5XaWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgc3R5bGVzLm1pbkhlaWdodCA9IG1pbmNyb3NzbGVuZ3RoICsgJ3B4J1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlc1xuXG4gICAgfSxbb3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgZ2FwLCBwYWRkaW5nXSlcblxuICAgIC8vIHVwZGF0ZSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWY7IGFkZCB2aWV3cG9ydCBkaW1lbnNpb25zXG4gICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBpZiAodmlld3BvcnRTdGF0ZSA9PSAnc2V0dXAnKSByZXR1cm4gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7dG9wLCByaWdodCwgYm90dG9tLCBsZWZ0fSA9IHZpZXdwb3J0RWxlbWVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKHJpZ2h0IC0gbGVmdClcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGJvdHRvbSAtIHRvcClcblxuICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBkdXBsaWNhdGUgc2V0dGluZyBwcm9jZWR1cmUgd2l0aCBpbnRlcnJ1cHRoYW5kbGVyLnRzeCBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrXG4gICAgICAgIGNvbnN0IGxvY2FsVmlld3BvcnREYXRhID0ge1xuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOnt0b3AscmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICBlbGVtZW50UmVmOnZpZXdwb3J0RWxlbWVudFJlZixcbiAgICAgICAgICAgIGlzUmVzaXppbmc6aXNSZXNpemluZ1JlZi5jdXJyZW50LFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb250ZXh0IGNoYW5nZSB3aXRoIG5ldyBvYmplY3RcbiAgICAgICAgY29uc3Qgdmlld3BvcnRkYXRhb2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSx2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudCwgbG9jYWxWaWV3cG9ydERhdGEpIFxuXG4gICAgICAgIHJldHVybiAgdmlld3BvcnRkYXRhb2JqZWN0XG5cbiAgICB9LFtvcmllbnRhdGlvbiwgaXNSZXNpemluZ1JlZi5jdXJyZW50LCB2aWV3cG9ydFN0YXRlXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzdGF0ZSBwcm9jZXNzaW5nIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgc3dpdGNoICh2aWV3cG9ydFN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZWQnOlxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0sW3ZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIDxWaWV3cG9ydEludGVycnVwdC5Qcm92aWRlciB2YWx1ZSA9IHsgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgfT5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd2aWV3cG9ydCdcbiAgICAgICAgICAgIGRhdGEtc2Nyb2xsZXJpZCA9IHtzY3JvbGxlcklEfVxuICAgICAgICAgICAgc3R5bGUgPSB7ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fVxuICAgICAgICAgICAgcmVmID0ge3ZpZXdwb3J0RWxlbWVudFJlZn1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyAodmlld3BvcnRTdGF0ZSAhPSAnc2V0dXAnKSAmJiBjaGlsZHJlbiB9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvVmlld3BvcnRJbnRlcnJ1cHQuUHJvdmlkZXI+XG4gICAgXG59IC8vIFZpZXdwb3J0XG5cbi8vIGVzdGFibGlzaCBtaW5pbXVtIHdpZHRoL2hlaWdodCBmb3IgdGhlIHZpZXdwb3J0IC0tIGFwcHJveGltYXRlbHkgb25lIGl0ZW1cbi8vIGdhcCBvbmx5IGFwcGxpZXMgd2l0aCBtdWx0aS13aWR0aCBpdGVtcywgdGhlcmVmb3JlIG5vdCB1c2VkIGluIGNhbGN1bGF0aW9uc1xuY29uc3QgY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGggPSAob3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgZ2FwLCBwYWRkaW5nKSA9PiB7XG5cbiAgICBsZXQgY3Jvc3NsZW5ndGgsIGNlbGxMZW5ndGhcbiAgICBcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoIFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsSGVpZ2h0XG4gICAgfVxuICAgIGNyb3NzbGVuZ3RoID0gY2VsbExlbmd0aCArIChwYWRkaW5nICogMilcblxuICAgIHJldHVybiBjcm9zc2xlbmd0aFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdwb3J0XG4iXSwibmFtZXMiOlsiZXhwb3J0cyIsInJlYWN0XzEiLCJjcmVhdGVDb250ZXh0IiwiUmVzaXplT2JzZXJ2ZXIiLCJ3aW5kb3ciLCJyZXNpemVfb2JzZXJ2ZXJfMSIsIlJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRSIsIlZpZXdwb3J0IiwiY2hpbGRyZW4iLCJncmlkU3BlY3MiLCJzdHlsZXMiLCJzY3JvbGxlcklEIiwic2Nyb2xsZXJEYXRhIiwib3JpZW50YXRpb24iLCJnYXAiLCJwYWRkaW5nIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsInZpZXdwb3J0U3RhdGUiLCJzZXRWaWV3cG9ydFN0YXRlIiwidmlld3BvcnRTdGF0ZVJlZiIsImN1cnJlbnQiLCJpc01vdW50ZWRSZWYiLCJ2aWV3cG9ydEVsZW1lbnRSZWYiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJpc1JlcGFyZW50aW5nUmVmIiwiaXNSZXNpemluZyIsInZpZXdwb3J0RGltZW5zaW9ucyIsImVsZW1lbnRSZWYiLCJyZXNpemVUaW1lcmlkUmVmIiwiaXNSZXNpemluZ1JlZiIsInJlc2l6ZU9ic2VydmVyUmVmIiwicmVzaXplQ2FsbGJhY2siLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImVudHJpZXMiLCJ0YXJnZXQiLCJPYmplY3QiLCJhc3NpZ24iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGl2bGluZXJzdHlsZVJlZiIsInBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Iiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kQ29sb3IiLCJ2aWV3cG9ydCIsIm1pbmNyb3NzbGVuZ3RoIiwiY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGgiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwibG9jYWxWaWV3cG9ydERhdGEiLCJ2aWV3cG9ydGRhdGFvYmplY3QiLCJQcm92aWRlciIsInZhbHVlIiwic3R5bGUiLCJyZWYiLCJjcm9zc2xlbmd0aCIsImNlbGxMZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Viewport.tsx\n");

/***/ }),

/***/ "./src/cellframe/Placeholder.tsx":
/*!***************************************!*\
  !*** ./src/cellframe/Placeholder.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // placeholder.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Placeholder = function Placeholder(_ref) {\n  var index = _ref.index,\n      listsize = _ref.listsize,\n      error = _ref.error;\n  var stylesRef = (0, react_1.useRef)({\n    position: 'relative',\n    boxSizing: 'border-box',\n    backgroundColor: 'cyan',\n    border: '2px solid black',\n    height: '100%',\n    width: '100%'\n  });\n  var itemStylesRef = (0, react_1.useRef)({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    padding: '3px',\n    opacity: .5,\n    borderRadius: '8px',\n    backgroundColor: 'white',\n    margin: '3px',\n    fontSize: 'smaller'\n  });\n  return react_1[\"default\"].createElement(\"div\", {\n    style: stylesRef.current\n  }, !error ? react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, index + 1, \"/\", listsize, \" (loading...)\") : react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, \"item is not available at this time\"));\n};\n\nexports[\"default\"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2VsbGZyYW1lL1BsYWNlaG9sZGVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLFNBQWRBLFdBQWMsT0FBNkI7RUFBQSxJQUEzQkMsS0FBMkIsUUFBM0JBLEtBQTJCO0VBQUEsSUFBcEJDLFFBQW9CLFFBQXBCQSxRQUFvQjtFQUFBLElBQVZDLEtBQVUsUUFBVkEsS0FBVTtFQUU3QyxJQUFNQyxTQUFTLEdBQUcsb0JBQU87SUFDckJDLFFBQVEsRUFBQyxVQURZO0lBRXJCQyxTQUFTLEVBQUMsWUFGVztJQUdyQkMsZUFBZSxFQUFDLE1BSEs7SUFJckJDLE1BQU0sRUFBQyxpQkFKYztJQUtyQkMsTUFBTSxFQUFDLE1BTGM7SUFNckJDLEtBQUssRUFBQztFQU5lLENBQVAsQ0FBbEI7RUFRQSxJQUFNQyxhQUFhLEdBQUcsb0JBQ2xCO0lBQ0lOLFFBQVEsRUFBQyxVQURiO0lBRUlPLEdBQUcsRUFBQyxDQUZSO0lBR0lDLElBQUksRUFBQyxDQUhUO0lBSUlDLE9BQU8sRUFBQyxLQUpaO0lBS0lDLE9BQU8sRUFBQyxFQUxaO0lBTUlDLFlBQVksRUFBQyxLQU5qQjtJQU9JVCxlQUFlLEVBQUMsT0FQcEI7SUFRSVUsTUFBTSxFQUFDLEtBUlg7SUFTSUMsUUFBUSxFQUFDO0VBVGIsQ0FEa0IsQ0FBdEI7RUFjQSxPQUFPQztJQUFLQyxLQUFLLEVBQUloQixTQUFTLENBQUNpQjtFQUF4QixHQUNELENBQUNsQixLQUFELEdBQ0VnQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBc0NwQixLQUFLLEdBQUcsQ0FBOUMsT0FBa0RDLFFBQWxELGtCQURGLEdBRUVpQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBbUMsb0NBQW5DLENBSEQsQ0FBUDtBQU9ILENBL0JEOztBQWlDQUMsa0JBQUFBLEdBQWV0QixXQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jZWxsZnJhbWUvUGxhY2Vob2xkZXIudHN4P2JiMzQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGxhY2Vob2xkZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFBsYWNlaG9sZGVyID0gKHtpbmRleCwgbGlzdHNpemUsIGVycm9yfSkgPT4ge1xuXG4gICAgY29uc3Qgc3R5bGVzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOidjeWFuJyxcbiAgICAgICAgYm9yZGVyOicycHggc29saWQgYmxhY2snLFxuICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICB3aWR0aDonMTAwJSdcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMpXG4gICAgY29uc3QgaXRlbVN0eWxlc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgbGVmdDowLFxuICAgICAgICAgICAgcGFkZGluZzonM3B4JyxcbiAgICAgICAgICAgIG9wYWNpdHk6LjUsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6JzhweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJywgXG4gICAgICAgICAgICBtYXJnaW46JzNweCcsXG4gICAgICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgIClcblxuICAgIHJldHVybiA8ZGl2IHN0eWxlID0ge3N0eWxlc1JlZi5jdXJyZW50fT5cbiAgICAgICAgeyAhZXJyb3I/XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+e2luZGV4ICsgMX0ve2xpc3RzaXplfSAobG9hZGluZy4uLik8L2Rpdj46XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+aXRlbSBpcyBub3QgYXZhaWxhYmxlIGF0IHRoaXMgdGltZTwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlciJdLCJuYW1lcyI6WyJQbGFjZWhvbGRlciIsImluZGV4IiwibGlzdHNpemUiLCJlcnJvciIsInN0eWxlc1JlZiIsInBvc2l0aW9uIiwiYm94U2l6aW5nIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiaGVpZ2h0Iiwid2lkdGgiLCJpdGVtU3R5bGVzUmVmIiwidG9wIiwibGVmdCIsInBhZGRpbmciLCJvcGFjaXR5IiwiYm9yZGVyUmFkaXVzIiwibWFyZ2luIiwiZm9udFNpemUiLCJyZWFjdF8xIiwic3R5bGUiLCJjdXJyZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cellframe/Placeholder.tsx\n");

/***/ }),

/***/ "./src/cradle/Scrolltracker.tsx":
/*!**************************************!*\
  !*** ./src/cradle/Scrolltracker.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrolltracker.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar ScrollTracker = function ScrollTracker(_ref) {\n  var top = _ref.top,\n      left = _ref.left,\n      offset = _ref.offset,\n      listsize = _ref.listsize,\n      styles = _ref.styles;\n  var trackdata = \"\".concat(offset + 1, \"/\").concat(listsize);\n  var styleRef = (0, react_1.useRef)(Object.assign({\n    top: top + 'px',\n    left: left + 'px',\n    position: 'fixed',\n    zIndex: 3,\n    backgroundColor: 'white',\n    border: '1px solid gray',\n    borderRadius: '10px',\n    fontSize: 'smaller',\n    padding: '3px'\n  }, styles.scrolltracker));\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'scrolltracker',\n    style: styleRef.current\n  }, trackdata);\n};\n\nexports[\"default\"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL1Njcm9sbHRyYWNrZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNQSxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLE9BQTRDO0VBQUEsSUFBekNDLEdBQXlDLFFBQXpDQSxHQUF5QztFQUFBLElBQXBDQyxJQUFvQyxRQUFwQ0EsSUFBb0M7RUFBQSxJQUE5QkMsTUFBOEIsUUFBOUJBLE1BQThCO0VBQUEsSUFBdEJDLFFBQXNCLFFBQXRCQSxRQUFzQjtFQUFBLElBQVpDLE1BQVksUUFBWkEsTUFBWTtFQUU5RCxJQUFJQyxTQUFTLGFBQU1ILE1BQU0sR0FBRyxDQUFmLGNBQW9CQyxRQUFwQixDQUFiO0VBRUEsSUFBSUcsUUFBUSxHQUFHLG9CQUFPQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztJQUNoQ1IsR0FBRyxFQUFFQSxHQUFHLEdBQUcsSUFEcUI7SUFFaENDLElBQUksRUFBRUEsSUFBSSxHQUFHLElBRm1CO0lBR2hDUSxRQUFRLEVBQUMsT0FIdUI7SUFJaENDLE1BQU0sRUFBQyxDQUp5QjtJQUtoQ0MsZUFBZSxFQUFDLE9BTGdCO0lBTWhDQyxNQUFNLEVBQUUsZ0JBTndCO0lBT2hDQyxZQUFZLEVBQUMsTUFQbUI7SUFRaENDLFFBQVEsRUFBQyxTQVJ1QjtJQVNoQ0MsT0FBTyxFQUFDO0VBVHdCLENBQWQsRUFVR1gsTUFBTSxDQUFDWSxhQVZWLENBQVAsQ0FBZjtFQVlBLE9BQU9DO0lBQUEsYUFBaUIsZUFBakI7SUFBaUNDLEtBQUssRUFBSVosUUFBUSxDQUFDYTtFQUFuRCxHQUE4RGQsU0FBOUQsQ0FBUDtBQUNILENBakJEOztBQW1CQWUsa0JBQUFBLEdBQWVyQixhQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvU2Nyb2xsdHJhY2tlci50c3g/NDUwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzY3JvbGx0cmFja2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZn0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFNjcm9sbFRyYWNrZXIgPSAoeyB0b3AsIGxlZnQsIG9mZnNldCwgbGlzdHNpemUsIHN0eWxlcyB9KSA9PiB7XG5cbiAgICBsZXQgdHJhY2tkYXRhID0gYCR7b2Zmc2V0ICsgMX0vJHtsaXN0c2l6ZX1gXG5cbiAgICBsZXQgc3R5bGVSZWYgPSB1c2VSZWYoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHRvcDogdG9wICsgJ3B4JyxcbiAgICAgICAgbGVmdDogbGVmdCArICdweCcsXG4gICAgICAgIHBvc2l0aW9uOidmaXhlZCcsXG4gICAgICAgIHpJbmRleDozLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJyxcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGdyYXknLFxuICAgICAgICBib3JkZXJSYWRpdXM6JzEwcHgnLFxuICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgIHBhZGRpbmc6JzNweCdcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsc3R5bGVzLnNjcm9sbHRyYWNrZXIpKVxuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS1uYW1lID0gJ3Njcm9sbHRyYWNrZXInIHN0eWxlID0ge3N0eWxlUmVmLmN1cnJlbnR9ID57dHJhY2tkYXRhfTwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxUcmFja2VyIl0sIm5hbWVzIjpbIlNjcm9sbFRyYWNrZXIiLCJ0b3AiLCJsZWZ0Iiwib2Zmc2V0IiwibGlzdHNpemUiLCJzdHlsZXMiLCJ0cmFja2RhdGEiLCJzdHlsZVJlZiIsIk9iamVjdCIsImFzc2lnbiIsInBvc2l0aW9uIiwiekluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJwYWRkaW5nIiwic2Nyb2xsdHJhY2tlciIsInJlYWN0XzEiLCJzdHlsZSIsImN1cnJlbnQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/Scrolltracker.tsx\n");

/***/ }),

/***/ "./src/cradle/cachehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/cachehandler.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // portalhandler.tsx\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PortalList = exports.CacheHandler = void 0;\n/*\n    The infinite list scroller stores user cell data in a central hidden portal cache for each\n    infinitegridscroller root, from whence the data is pulled into the relevant CellFrame for display\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar MAX_CACHE_OVER_RUN = 1.5;\nvar globalItemID = 0; // global scroller data, organized by session scrollerID\n// the cache itself is maintained in the root infinitegridscroller component\n\nvar CacheHandler = /*#__PURE__*/function () {\n  function CacheHandler(scrollerID, setListsize, listsizeRef) {\n    var _this = this;\n\n    _classCallCheck(this, CacheHandler);\n\n    this.cacheProps = {\n      setListState: null,\n      modified: false,\n      metadataMap: new Map(),\n      requestedMap: new Map(),\n      portalMap: new Map(),\n      indexToItemIDMap: new Map(),\n      portalList: null,\n      scrollerID: null\n    }; //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n\n    this.changeListsize = function (newlistsize, cacheDeleteListCallback) {\n      _this.setListsize(newlistsize); // match cache to newlistsize\n\n\n      var portalIndexList = _this.cacheProps.indexToItemIDMap;\n      var mapkeys = Array.from(portalIndexList.keys());\n      mapkeys.sort(function (a, b) {\n        return a - b;\n      });\n      var highestindex = mapkeys.at(-1);\n\n      if (highestindex > newlistsize - 1) {\n        // pare the cache\n        var parelist = mapkeys.filter(function (item) {\n          return item > newlistsize - 1;\n        });\n\n        _this.deletePortal(parelist, cacheDeleteListCallback);\n      }\n    };\n\n    this.clearCache = function () {\n      // keep the setListState callback\n      _this.cacheProps.portalMap.clear();\n\n      _this.cacheProps.metadataMap.clear();\n\n      _this.cacheProps.indexToItemIDMap.clear();\n\n      _this.cacheProps.requestedMap.clear();\n\n      _this.cacheProps.portalList = null;\n      _this.cacheProps.modified = false;\n\n      _this.cacheProps.setListState(); // trigger display update\n\n    }; // set state of the PortalList component of the scroller to trigger render\n\n\n    this.renderPortalList = function () {\n      if (_this.cacheProps.modified) {\n        _this.cacheProps.portalList = Array.from(_this.cacheProps.portalMap.values());\n        _this.cacheProps.modified = false;\n      }\n\n      _this.cacheProps.setListState(); // trigger display update\n\n    };\n\n    this.matchCacheToCradle = function (modelIndexList, cacheDeleteListCallback) {\n      var mapkeys = Array.from(_this.cacheProps.indexToItemIDMap.keys());\n      mapkeys.filter(function (key) {\n        return !modelIndexList.includes(key);\n      });\n\n      _this.deletePortal(mapkeys, cacheDeleteListCallback);\n    };\n\n    this.pareCacheToMax = function (cacheMax, modelIndexList, cacheDeleteListCallback) {\n      var modelLength = modelIndexList.length; // determine need for paring\n\n      if (!cacheMax || !modelLength) return false;\n      var max = Math.max(modelLength, cacheMax);\n      var portalIndexList = _this.cacheProps.indexToItemIDMap;\n      var requestedMap = _this.cacheProps.requestedMap; // if ((portalMapList.size + requestedMap.size) <= max) return false\n\n      if (portalIndexList.size + requestedMap.size <= max) return false; // sort the map keys\n\n      var mapkeyslist = Array.from(portalIndexList.keys());\n      var requestedkeys = Array.from(requestedMap.keys());\n      var mapkeys = mapkeyslist.concat(requestedkeys);\n      mapkeys.sort(function (a, b) {\n        return a - b;\n      }); // get number to pare\n\n      var mapLength = mapkeys.length;\n      var parecount = mapLength - max; // distribute paring proportionally at front and back\n\n      var headindex = modelIndexList[0];\n      var tailindex = modelIndexList[modelLength - 1];\n      var headpos = mapkeys.indexOf(headindex);\n      var tailpos = mapkeys.indexOf(tailindex);\n      var headroom = headpos;\n      var tailroom = mapLength - (tailpos + 1);\n      var pareroom = headroom + tailroom;\n      var headparecount = Math.floor(headroom / pareroom * parecount);\n      var tailparecount = parecount - headparecount; // collect indexes to pare\n\n      var headlist = mapkeys.slice(0, headparecount);\n      var taillist = mapkeys.slice(mapLength - tailparecount);\n      var delList = headlist.concat(taillist);\n\n      _this.deletePortal(delList, cacheDeleteListCallback);\n\n      return true;\n    };\n\n    this.guardAgainstRunawayCaching = function (cacheMax, modelLength) {\n      if (!cacheMax) return false;\n      var portalMap = _this.cacheProps.portalMap;\n      var requestedMap = _this.cacheProps.requestedMap;\n      var max = Math.max(modelLength, cacheMax);\n\n      if (portalMap.size + requestedMap.size <= max * MAX_CACHE_OVER_RUN) {\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.cacheProps.scrollerID = scrollerID;\n    this.setListsize = setListsize; // passed from infinitegridscroller setListsize(listsize)\n\n    this.listsizeRef = listsizeRef;\n  }\n\n  _createClass(CacheHandler, [{\n    key: \"preload\",\n    value: function preload(cradleParameters, callback, scrollerID) {\n      var cradlePassthroughPropertiesRef = cradleParameters.cradlePassthroughPropertiesRef;\n      var _cradleParameters$han = cradleParameters.handlersRef.current,\n          stateHandler = _cradleParameters$han.stateHandler,\n          serviceHandler = _cradleParameters$han.serviceHandler;\n      var cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n      var getItem = cradleInheritedProperties.getItem;\n      var listsize = cradleInternalProperties.listsize;\n      var promises = [];\n\n      if (stateHandler.isMountedRef.current) {\n        for (var i = 0; i < listsize; i++) {\n          // console.log('preloading',i)\n          var promise = this.preloadItem(i, getItem, cradlePassthroughPropertiesRef, serviceHandler.callbacks.preloadIndexCallback, scrollerID);\n          promises.push(promise);\n        }\n      }\n\n      Promise.all(promises).then(function () {\n        // console.log(\"finished preloading\",'-'+scrollerID+'-',+this.cacheProps.portalMap.size)\n        callback();\n      });\n    } // =========================[ SNAPSHOTS ]=========================\n\n  }, {\n    key: \"getCacheMap\",\n    value: function getCacheMap() {\n      return new Map(this.cacheProps.indexToItemIDMap);\n    }\n  }, {\n    key: \"getCradleMap\",\n    value: function getCradleMap(modelIndexList) {\n      var cradleMap = new Map();\n      var indexToItemIDMap = this.cacheProps.indexToItemIDMap;\n\n      var _iterator = _createForOfIteratorHelper(modelIndexList),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var index = _step.value;\n          cradleMap.set(index, indexToItemIDMap.get(index));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return cradleMap;\n    }\n  }, {\n    key: \"getCacheList\",\n    value: function getCacheList() {\n      var cachelist = new Map();\n\n      var _iterator2 = _createForOfIteratorHelper(this.cacheProps.metadataMap),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              key = _step2$value[0],\n              value = _step2$value[1];\n\n          var index = value.index,\n              component = value.component;\n          cachelist.set(key, {\n            index: index,\n            component: component\n          });\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return cachelist;\n    } // ==========================[ SERVICE SUPPORT ]=========================\n    // TODO implement highrange logic\n\n  }, {\n    key: \"moveIndex\",\n    value: function moveIndex(toindex, fromindex, highrange) {\n      if (fromindex == toindex) return [];\n      var _this$cacheProps = this.cacheProps,\n          indexToItemIDMap = _this$cacheProps.indexToItemIDMap,\n          metadataMap = _this$cacheProps.metadataMap;\n      if (!(indexToItemIDMap.has(fromindex) && indexToItemIDMap.has(toindex))) return;\n      var shiftingindex = fromindex;\n      var shiftingitemID = indexToItemIDMap.get(shiftingindex);\n      var shiftincrement = fromindex < toindex ? -1 : // increment down, make room for shiftingindex at top\n      1; // increment up, make room for shiftingindex at bottom\n\n      var startindex = shiftincrement == -1 ? fromindex : toindex;\n      var endindex = shiftincrement == -1 ? toindex : fromindex;\n      var sliceincrement = shiftincrement == -1 ? 1 : 0;\n      var orderedindexlist = Array.from(indexToItemIDMap.keys());\n      orderedindexlist.sort(function (a, b) {\n        return a - b;\n      });\n      var toprocesslist = orderedindexlist.slice(orderedindexlist.indexOf(startindex) + sliceincrement, orderedindexlist.indexOf(endindex) + sliceincrement);\n      if (shiftincrement == 1) toprocesslist.reverse();\n\n      var _iterator3 = _createForOfIteratorHelper(toprocesslist),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var index = _step3.value;\n          var itemID = indexToItemIDMap.get(index);\n          var newIndex = index + shiftincrement;\n          indexToItemIDMap.set(newIndex, itemID);\n          metadataMap.get(itemID).index = newIndex;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      indexToItemIDMap.set(toindex, shiftingitemID);\n      metadataMap.get(shiftingitemID).index = toindex;\n      var processedlist = toprocesslist.concat([fromindex]);\n      return processedlist;\n    }\n  }, {\n    key: \"incrementFromIndex\",\n    value: function incrementFromIndex(index, highrange, increment) {\n      // ---------- define range parameters: index, highrange, and rangeincrement\n      highrange = highrange !== null && highrange !== void 0 ? highrange : 0;\n      highrange = highrange > index ? highrange : index;\n      var rangecount = highrange - index + 1;\n      var rangeIncrement = rangecount * increment;\n      var _this$cacheProps2 = this.cacheProps,\n          indexToItemIDMap = _this$cacheProps2.indexToItemIDMap,\n          metadataMap = _this$cacheProps2.metadataMap;\n      console.log('==> incrementFromIdex: index, highrange, increment, rangecount, rangeIncrement, indexToItemIDMap, metadataMap', index, highrange, increment, rangecount, rangeIncrement, indexToItemIDMap, metadataMap); // ---------- define boundaries within ordered cache index list\n      // high ptr, lowptr within orderedIndexList. Highrange can be revised to actual\n\n      var orderedIndexList = Array.from(indexToItemIDMap.keys());\n      orderedIndexList.sort(function (a, b) {\n        return a - b;\n      }); // low and high pointers provide values for slices above the range\n\n      var highCachePtr = orderedIndexList.findIndex(function (value) {\n        return value >= highrange;\n      });\n      var lowCachePtr = orderedIndexList.find(function (value) {\n        return value >= index;\n      });\n      console.log('lowCachePtr, highCachePtr, orderedIndexList', lowCachePtr, highCachePtr, orderedIndexList); // ----------- define toProcess and toRemove lists\n      // obtain slice above the highvaluerange\n\n      var toProcessIndexList = increment == 1 ? lowCachePtr > -1 ? orderedIndexList.slice(lowCachePtr) : [] : highCachePtr > -1 ? orderedIndexList.slice(highCachePtr + 1) : []; // TODO continue to refactor for open-ended processing\n\n      var indexesToRemoveList = increment == 1 ? orderedIndexList.slice(lowCachePtr, highCachePtr + 1) : orderedIndexList.slice(rangeIncrement); // negative value, back from end\n\n      var indexesforitemstoremove = increment == 1 ? [] : orderedIndexList.slice(lowCachePtr, highCachePtr + 1);\n      var itemsToRemoveList = indexesforitemstoremove.map(function (index) {\n        return indexToItemIDMap.get(index);\n      }); // ----------- conduct cache operations\n\n      if (increment == 1) toProcessIndexList.reverse(); // modify index-to-itemid map, and metadata map\n\n      var modifiedIndexList = [];\n\n      var _iterator4 = _createForOfIteratorHelper(toProcessIndexList),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _index = _step4.value;\n          var itemID = indexToItemIDMap.get(_index);\n          var newIndex = _index + rangeIncrement;\n          indexToItemIDMap.set(newIndex, itemID);\n          metadataMap.get(itemID).index = newIndex;\n          modifiedIndexList.push(newIndex);\n        } // delete remaining duplicates\n\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      var _iterator5 = _createForOfIteratorHelper(indexesToRemoveList),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _index2 = _step5.value;\n          indexToItemIDMap[\"delete\"](_index2);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      var _iterator6 = _createForOfIteratorHelper(itemsToRemoveList),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var item = _step6.value;\n          metadataMap[\"delete\"](item);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      var removedIndexList = indexesToRemoveList; // semantics\n      // return values for caller to send to contenthandler for cradle synchronization\n\n      return [modifiedIndexList, removedIndexList, rangeIncrement];\n    } // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n    // used for size calculation in pareCacheToMax\n    // registers indexes when requested but before retrieved and entered into cache\n\n  }, {\n    key: \"registerRequestedPortal\",\n    value: function registerRequestedPortal(index) {\n      this.cacheProps.requestedMap.set(index, null);\n    }\n  }, {\n    key: \"removeRequestedPortal\",\n    value: function removeRequestedPortal(index) {\n      this.cacheProps.requestedMap[\"delete\"](index);\n    }\n  }, {\n    key: \"getNewItemID\",\n    value: function getNewItemID() {\n      return globalItemID++;\n    }\n  }, {\n    key: \"getItemID\",\n    value: function getItemID(index) {\n      var indexMap = this.cacheProps.indexToItemIDMap;\n      var knownID = indexMap.get(index);\n      var knownHasValue = knownID !== null && knownID !== void 0 ? knownID : false; // deal with falsey 0\n\n      var newID = knownHasValue === false ? this.getNewItemID() : null;\n      if (knownHasValue === false) indexMap.set(index, newID);\n      return knownID !== null && knownID !== void 0 ? knownID : newID;\n    }\n  }, {\n    key: \"createPortal\",\n    value: function createPortal(component, index, itemID) {\n      this.removeRequestedPortal(index); // console.log('creating portal for index','-'+this.cacheProps.scrollerID+'-', index)\n\n      var portalNode = createPortalNode(index, itemID); // console.log('creating InPortal node', '-'+this.cacheProps.scrollerID+'-', itemID)\n\n      this.cacheProps.portalMap.set(itemID, //index,\n      react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n        key: itemID,\n        node: portalNode\n      }, \" \", component, \" \")); // <InPortal key = {index} node = {portalNode} > { content } </InPortal>)\n\n      this.cacheProps.modified = true;\n      var portalMetadata = {\n        portalNode: portalNode,\n        isReparentingRef: {\n          current: false\n        },\n        index: index,\n        itemID: itemID,\n        component: component\n      };\n      this.cacheProps.metadataMap.set(itemID, portalMetadata);\n      this.cacheProps.indexToItemIDMap.set(index, itemID);\n      this.renderPortalList();\n      return portalMetadata;\n    }\n  }, {\n    key: \"preloadItem\",\n    value: function preloadItem(index, getItem, cradlePassthroughPropertiesRef, preloadIndexCallback, scrollerID) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var itemID, usercontent, content, scrollerData, portalData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                itemID = this.getItemID(index);\n                _context.next = 3;\n                return getItem(index, itemID);\n\n              case 3:\n                usercontent = _context.sent;\n\n                if (usercontent) {\n                  preloadIndexCallback && preloadIndexCallback(index, itemID); // console.log('preloading index','-'+scrollerID+'-' ,index )\n\n                  scrollerData = {\n                    isReparentingRef: null,\n                    cradlePassthroughPropertiesRef: cradlePassthroughPropertiesRef\n                  };\n\n                  if (usercontent.props.hasOwnProperty('scrollerData')) {\n                    content = react_1[\"default\"].cloneElement(usercontent, {\n                      scrollerData: scrollerData\n                    });\n                  } else {\n                    content = usercontent;\n                  }\n\n                  portalData = this.createPortal(content, index, itemID); // make available to user content\n\n                  scrollerData.isReparentingRef = portalData.isReparentingRef;\n                } else {\n                  preloadIndexCallback && preloadIndexCallback(index, itemID, 'error');\n                  console.log('ERROR', 'no content item for preload index, itemID', index, itemID);\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    } // delete a portal list item\n    // accepts an array of indexes\n\n  }, {\n    key: \"deletePortal\",\n    value: function deletePortal(index, cacheDeleteListCallback) {\n      var indexArray;\n\n      if (!Array.isArray(index)) {\n        indexArray = [index];\n      } else {\n        indexArray = index;\n      }\n\n      var _this$cacheProps3 = this.cacheProps,\n          metadataMap = _this$cacheProps3.metadataMap,\n          portalMap = _this$cacheProps3.portalMap,\n          indexToItemIDMap = _this$cacheProps3.indexToItemIDMap;\n      var deleteList = [];\n\n      var _iterator7 = _createForOfIteratorHelper(indexArray),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var i = _step7.value;\n          var itemID = indexToItemIDMap.get(i);\n          deleteList.push(itemID);\n          metadataMap[\"delete\"](itemID);\n          portalMap[\"delete\"](itemID);\n          indexToItemIDMap[\"delete\"](i);\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      this.cacheProps.modified = true;\n      cacheDeleteListCallback && cacheDeleteListCallback(deleteList);\n    } // query existence of a portal list item\n\n  }, {\n    key: \"hasPortal\",\n    value: function hasPortal(itemID) {\n      return this.cacheProps.metadataMap.has(itemID);\n    }\n  }, {\n    key: \"getPortal\",\n    value: function getPortal(itemID) {\n      if (this.hasPortal(itemID)) {\n        return this.cacheProps.metadataMap.get(itemID);\n      }\n    }\n  }]);\n\n  return CacheHandler;\n}();\n\nexports.CacheHandler = CacheHandler; // ==========================[ Utility function ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n\nvar createPortalNode = function createPortalNode(index, itemID) {\n  var portalNode = (0, react_reverse_portal_1.createHtmlPortalNode)();\n  var container = portalNode.element;\n  container.style.inset = '0px';\n  container.style.position = 'absolute'; // container.style.height = '100%'\n  // container.style.width = '100%'\n\n  container.dataset.type = 'contentenvelope';\n  container.dataset.index = index;\n  container.dataset.cacheitemid = itemID;\n  return portalNode;\n}; // ========================[ Utility component ]==============================\n// portal list component for rapid relisting of updates, using external callback for set state\n\n\nvar PortalList = function PortalList(_ref) {\n  var cacheProps = _ref.cacheProps;\n\n  // console.log('running PORTALLIST', '-'+cacheProps.scrollerID+'-')\n  var _ref2 = (0, react_1.useState)(null),\n      _ref3 = _slicedToArray(_ref2, 2),\n      portalList = _ref3[0],\n      setPortalList = _ref3[1];\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    cacheProps.setListState = function () {\n      isMountedRef.current && setPortalList(cacheProps.portalList);\n    };\n\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return portalList;\n};\n\nexports.PortalList = PortalList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NhY2hlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7Ozs7K0NBQUEsb0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7O0FBS0E7O0FBR0E7O0FBRUEsSUFBTUEsa0JBQWtCLEdBQUcsR0FBM0I7QUFFQSxJQUFJQyxZQUFZLEdBQUcsQ0FBbkIsQyxDQUdBO0FBQ0E7O0lBQ2FDLFk7RUFFVCxzQkFBWUMsVUFBWixFQUF3QkMsV0FBeEIsRUFBcUNDLFdBQXJDLEVBQWdEO0lBQUE7O0lBQUE7O0lBTWhELGtCQUFhO01BQ1RDLFlBQVksRUFBQyxJQURKO01BRVRDLFFBQVEsRUFBQyxLQUZBO01BSVRDLFdBQVcsRUFBQyxJQUFJQyxHQUFKLEVBSkg7TUFLVEMsWUFBWSxFQUFFLElBQUlELEdBQUosRUFMTDtNQU1URSxTQUFTLEVBQUMsSUFBSUYsR0FBSixFQU5EO01BT1RHLGdCQUFnQixFQUFDLElBQUlILEdBQUosRUFQUjtNQVNUSSxVQUFVLEVBQUMsSUFURjtNQVdUVixVQUFVLEVBQUM7SUFYRixDQUFiLENBTmdELENBd0JoRDs7SUFFQSxzQkFBaUIsVUFBQ1csV0FBRCxFQUFjQyx1QkFBZCxFQUF5QztNQUN0RCxLQUFJLENBQUNYLFdBQUwsQ0FBaUJVLFdBQWpCLEVBRHNELENBRXREOzs7TUFDQSxJQUFNRSxlQUFlLEdBQUcsS0FBSSxDQUFDQyxVQUFMLENBQWdCTCxnQkFBeEM7TUFDQSxJQUFNTSxPQUFPLEdBQUdDLEtBQUssQ0FBQ0MsSUFBTixDQUFXSixlQUFlLENBQUNLLElBQWhCLEVBQVgsQ0FBaEI7TUFDQUgsT0FBTyxDQUFDSSxJQUFSLENBQWEsVUFBQ0MsQ0FBRCxFQUFHQyxDQUFIO1FBQUEsT0FBU0QsQ0FBQyxHQUFHQyxDQUFiO01BQUEsQ0FBYjtNQUNBLElBQU1DLFlBQVks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QixHQUEwQkEsS0FBMUI7RUFDQW1FLFNBQVMsQ0FBQ0ssT0FBVixDQUFrQkUsV0FBbEIsR0FBZ0N2RCxNQUFoQztFQUVBLE9BQU8wQixVQUFQO0FBRUgsQ0FmRCxDLENBaUJBO0FBRUE7OztBQUNPLElBQU04QixVQUFVLEdBQUcsU0FBYkEsVUFBYSxPQUFtQjtFQUFBLElBQWhCakosVUFBZ0IsUUFBaEJBLFVBQWdCOztFQUV6QztFQUVBLFlBQW9DLHNCQUFTLElBQVQsQ0FBcEM7RUFBQTtFQUFBLElBQU9KLFVBQVA7RUFBQSxJQUFtQnNKLGFBQW5COztFQUNBLElBQU12RixZQUFZLEdBQUcsb0JBQU8sSUFBUCxDQUFyQjtFQUVBLHVCQUFVLFlBQUk7SUFFVjNELFVBQVUsQ0FBQ1gsWUFBWCxHQUEwQixZQUFJO01BRTFCc0UsWUFBWSxDQUFDVixPQUFiLElBQXdCaUcsYUFBYSxDQUFDbEosVUFBVSxDQUFDSixVQUFaLENBQXJDO0lBRUgsQ0FKRDs7SUFNQSxPQUFPLFlBQUs7TUFBRStELFlBQVksQ0FBQ1YsT0FBYixHQUF1QixLQUF2QjtJQUE2QixDQUEzQztFQUVILENBVkQsRUFVRSxFQVZGO0VBWUEsT0FBT3JELFVBQVA7QUFDSCxDQXBCTTs7QUFBTTRJLGtCQUFBQSxHQUFVUyxVQUFWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY2FjaGVoYW5kbGVyLnRzeD85ZTlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBvcnRhbGhhbmRsZXIudHN4XG5cbi8qXG4gICAgVGhlIGluZmluaXRlIGxpc3Qgc2Nyb2xsZXIgc3RvcmVzIHVzZXIgY2VsbCBkYXRhIGluIGEgY2VudHJhbCBoaWRkZW4gcG9ydGFsIGNhY2hlIGZvciBlYWNoXG4gICAgaW5maW5pdGVncmlkc2Nyb2xsZXIgcm9vdCwgZnJvbSB3aGVuY2UgdGhlIGRhdGEgaXMgcHVsbGVkIGludG8gdGhlIHJlbGV2YW50IENlbGxGcmFtZSBmb3IgZGlzcGxheVxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5cbmltcG9ydCB7IGNyZWF0ZUh0bWxQb3J0YWxOb2RlLCBJblBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJ1xuXG5jb25zdCBNQVhfQ0FDSEVfT1ZFUl9SVU4gPSAxLjVcblxubGV0IGdsb2JhbEl0ZW1JRCA9IDBcblxuXG4vLyBnbG9iYWwgc2Nyb2xsZXIgZGF0YSwgb3JnYW5pemVkIGJ5IHNlc3Npb24gc2Nyb2xsZXJJRFxuLy8gdGhlIGNhY2hlIGl0c2VsZiBpcyBtYWludGFpbmVkIGluIHRoZSByb290IGluZmluaXRlZ3JpZHNjcm9sbGVyIGNvbXBvbmVudFxuZXhwb3J0IGNsYXNzIENhY2hlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihzY3JvbGxlcklELCBzZXRMaXN0c2l6ZSwgbGlzdHNpemVSZWYpIHtcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnNjcm9sbGVySUQgPSBzY3JvbGxlcklEXG4gICAgICAgIHRoaXMuc2V0TGlzdHNpemUgPSBzZXRMaXN0c2l6ZSAvLyBwYXNzZWQgZnJvbSBpbmZpbml0ZWdyaWRzY3JvbGxlciBzZXRMaXN0c2l6ZShsaXN0c2l6ZSlcbiAgICAgICAgdGhpcy5saXN0c2l6ZVJlZiA9IGxpc3RzaXplUmVmXG4gICAgfVxuXG4gICAgY2FjaGVQcm9wcyA9IHtcbiAgICAgICAgc2V0TGlzdFN0YXRlOm51bGwsXG4gICAgICAgIG1vZGlmaWVkOmZhbHNlLFxuXG4gICAgICAgIG1ldGFkYXRhTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgcmVxdWVzdGVkTWFwOiBuZXcgTWFwKCksIC8vIHNvbWUgcG9ydGFscyBtYXkgaGF2ZSBiZWVuIHJlcXVlc3RlZCBieSByZXF1ZXN0aWRsZWNhbGxiYWNrLCBub3QgeWV0IGNyZWF0ZWRcbiAgICAgICAgcG9ydGFsTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcDpuZXcgTWFwKCksXG5cbiAgICAgICAgcG9ydGFsTGlzdDpudWxsLFxuXG4gICAgICAgIHNjcm9sbGVySUQ6bnVsbFxuICAgIH1cblxuICAgIGxpc3RzaXplUmVmXG5cbiAgICBzZXRMaXN0c2l6ZSAvLyBzZXRMaXN0c2l6ZShsaXN0c2l6ZSkgZ2VuZXJhdGVzIGluZmluaXRlc2Nyb2xsZXIgdXNlU3RhdGUgdXBkYXRlIGxpc3RzaXplIHRocm91Z2hvdXRcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09WyBSRVBPU0lUT1JZIEFORCBMSVNUIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNoYW5nZUxpc3RzaXplID0gKG5ld2xpc3RzaXplLCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuICAgICAgICB0aGlzLnNldExpc3RzaXplKG5ld2xpc3RzaXplKVxuICAgICAgICAvLyBtYXRjaCBjYWNoZSB0byBuZXdsaXN0c2l6ZVxuICAgICAgICBjb25zdCBwb3J0YWxJbmRleExpc3QgPSB0aGlzLmNhY2hlUHJvcHMuaW5kZXhUb0l0ZW1JRE1hcFxuICAgICAgICBjb25zdCBtYXBrZXlzID0gQXJyYXkuZnJvbShwb3J0YWxJbmRleExpc3Qua2V5cygpKVxuICAgICAgICBtYXBrZXlzLnNvcnQoKGEsYikgPT4gYSAtIGIpXG4gICAgICAgIGNvbnN0IGhpZ2hlc3RpbmRleCA9IG1hcGtleXMuYXQoLTEpXG4gICAgICAgIGlmIChoaWdoZXN0aW5kZXggPiAobmV3bGlzdHNpemUgLTEpKSB7IC8vIHBhcmUgdGhlIGNhY2hlXG4gICAgICAgICAgICBjb25zdCBwYXJlbGlzdCA9IG1hcGtleXMuZmlsdGVyKChpdGVtKT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtID4gKG5ld2xpc3RzaXplIC0xKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlUG9ydGFsKHBhcmVsaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyQ2FjaGUgPSAoKSA9PiB7XG5cbiAgICAgICAgLy8ga2VlcCB0aGUgc2V0TGlzdFN0YXRlIGNhbGxiYWNrXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5wb3J0YWxNYXAuY2xlYXIoKSBcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLm1ldGFkYXRhTWFwLmNsZWFyKClcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLmluZGV4VG9JdGVtSURNYXAuY2xlYXIoKVxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucmVxdWVzdGVkTWFwLmNsZWFyKClcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnBvcnRhbExpc3QgPSBudWxsXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tb2RpZmllZCA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnNldExpc3RTdGF0ZSgpIC8vIHRyaWdnZXIgZGlzcGxheSB1cGRhdGVcblxuICAgIH1cblxuICAgIC8vIHNldCBzdGF0ZSBvZiB0aGUgUG9ydGFsTGlzdCBjb21wb25lbnQgb2YgdGhlIHNjcm9sbGVyIHRvIHRyaWdnZXIgcmVuZGVyXG4gICAgcmVuZGVyUG9ydGFsTGlzdCA9ICgpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5jYWNoZVByb3BzLm1vZGlmaWVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTGlzdCA9IEFycmF5LmZyb20odGhpcy5jYWNoZVByb3BzLnBvcnRhbE1hcC52YWx1ZXMoKSlcbiAgICAgICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tb2RpZmllZCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMuc2V0TGlzdFN0YXRlKCkgLy8gdHJpZ2dlciBkaXNwbGF5IHVwZGF0ZVxuXG4gICAgfVxuXG4gICAgbWF0Y2hDYWNoZVRvQ3JhZGxlID0gKG1vZGVsSW5kZXhMaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGNvbnN0IG1hcGtleXMgPSBBcnJheS5mcm9tKHRoaXMuY2FjaGVQcm9wcy5pbmRleFRvSXRlbUlETWFwLmtleXMoKSlcblxuICAgICAgICBtYXBrZXlzLmZpbHRlcihrZXkgPT4gIW1vZGVsSW5kZXhMaXN0LmluY2x1ZGVzKGtleSkpXG5cbiAgICAgICAgdGhpcy5kZWxldGVQb3J0YWwobWFwa2V5cywgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2spXG5cbiAgICB9XG5cbiAgICBwYXJlQ2FjaGVUb01heCA9IChjYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbW9kZWxMZW5ndGggPSBtb2RlbEluZGV4TGlzdC5sZW5ndGhcblxuICAgICAgICAvLyBkZXRlcm1pbmUgbmVlZCBmb3IgcGFyaW5nXG4gICAgICAgIGlmICgoIWNhY2hlTWF4KSB8fCAoIW1vZGVsTGVuZ3RoKSkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgobW9kZWxMZW5ndGgsIGNhY2hlTWF4KVxuXG4gICAgICAgIGNvbnN0IHBvcnRhbEluZGV4TGlzdCA9IHRoaXMuY2FjaGVQcm9wcy5pbmRleFRvSXRlbUlETWFwXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE1hcCA9IHRoaXMuY2FjaGVQcm9wcy5yZXF1ZXN0ZWRNYXBcblxuICAgICAgICAvLyBpZiAoKHBvcnRhbE1hcExpc3Quc2l6ZSArIHJlcXVlc3RlZE1hcC5zaXplKSA8PSBtYXgpIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoKHBvcnRhbEluZGV4TGlzdC5zaXplICsgcmVxdWVzdGVkTWFwLnNpemUpIDw9IG1heCkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgLy8gc29ydCB0aGUgbWFwIGtleXNcbiAgICAgICAgY29uc3QgbWFwa2V5c2xpc3QgPSBBcnJheS5mcm9tKHBvcnRhbEluZGV4TGlzdC5rZXlzKCkpXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZGtleXMgPSBBcnJheS5mcm9tKHJlcXVlc3RlZE1hcC5rZXlzKCkpXG5cbiAgICAgICAgY29uc3QgbWFwa2V5cyA9IG1hcGtleXNsaXN0LmNvbmNhdChyZXF1ZXN0ZWRrZXlzKVxuXG4gICAgICAgIG1hcGtleXMuc29ydCgoYSxiKSA9PiBhIC0gYilcblxuICAgICAgICAvLyBnZXQgbnVtYmVyIHRvIHBhcmVcbiAgICAgICAgY29uc3QgbWFwTGVuZ3RoID0gbWFwa2V5cy5sZW5ndGhcbiAgICAgICAgY29uc3QgcGFyZWNvdW50ID0gbWFwTGVuZ3RoIC0gbWF4XG5cbiAgICAgICAgLy8gZGlzdHJpYnV0ZSBwYXJpbmcgcHJvcG9ydGlvbmFsbHkgYXQgZnJvbnQgYW5kIGJhY2tcbiAgICAgICAgY29uc3QgaGVhZGluZGV4ID0gbW9kZWxJbmRleExpc3RbMF1cbiAgICAgICAgY29uc3QgdGFpbGluZGV4ID0gbW9kZWxJbmRleExpc3RbbW9kZWxMZW5ndGggLSAxXVxuICAgICAgICBjb25zdCBoZWFkcG9zID0gbWFwa2V5cy5pbmRleE9mKGhlYWRpbmRleClcbiAgICAgICAgY29uc3QgdGFpbHBvcyA9IG1hcGtleXMuaW5kZXhPZih0YWlsaW5kZXgpXG5cbiAgICAgICAgY29uc3QgaGVhZHJvb20gPSBoZWFkcG9zXG4gICAgICAgIGNvbnN0IHRhaWxyb29tID0gbWFwTGVuZ3RoIC0gKHRhaWxwb3MgKyAxKVxuICAgICAgICBjb25zdCBwYXJlcm9vbSA9IGhlYWRyb29tICsgdGFpbHJvb21cblxuICAgICAgICBjb25zdCBoZWFkcGFyZWNvdW50ID0gTWF0aC5mbG9vcigoaGVhZHJvb20vcGFyZXJvb20pKnBhcmVjb3VudClcbiAgICAgICAgY29uc3QgdGFpbHBhcmVjb3VudCA9IHBhcmVjb3VudCAtIGhlYWRwYXJlY291bnRcblxuICAgICAgICAvLyBjb2xsZWN0IGluZGV4ZXMgdG8gcGFyZVxuICAgICAgICBjb25zdCBoZWFkbGlzdCA9IG1hcGtleXMuc2xpY2UoMCxoZWFkcGFyZWNvdW50KVxuICAgICAgICBjb25zdCB0YWlsbGlzdCA9IG1hcGtleXMuc2xpY2UobWFwTGVuZ3RoIC0gdGFpbHBhcmVjb3VudClcblxuICAgICAgICBjb25zdCBkZWxMaXN0ID0gaGVhZGxpc3QuY29uY2F0KHRhaWxsaXN0KVxuXG4gICAgICAgIHRoaXMuZGVsZXRlUG9ydGFsKGRlbExpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIHJldHVybiB0cnVlXG5cbiAgICB9XG5cbiAgICBndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyA9IChjYWNoZU1heCwgbW9kZWxMZW5ndGgpID0+IHtcblxuICAgICAgICBpZiAoIWNhY2hlTWF4KSByZXR1cm4gZmFsc2VcblxuICAgICAgICBjb25zdCBwb3J0YWxNYXAgPSB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE1hcCA9IHRoaXMuY2FjaGVQcm9wcy5yZXF1ZXN0ZWRNYXBcblxuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChtb2RlbExlbmd0aCwgY2FjaGVNYXgpXG5cbiAgICAgICAgaWYgKChwb3J0YWxNYXAuc2l6ZSArIHJlcXVlc3RlZE1hcC5zaXplKSA8PSAoKG1heCkgKiBNQVhfQ0FDSEVfT1ZFUl9SVU4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByZWxvYWQoY3JhZGxlUGFyYW1ldGVycywgY2FsbGJhY2ssIHNjcm9sbGVySUQpIHtcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBhc3N0aHJvdWdoUHJvcGVydGllc1JlZiB9ID0gY3JhZGxlUGFyYW1ldGVyc1xuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgZ2V0SXRlbSB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuICAgICAgICBjb25zdCB7IGxpc3RzaXplIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNcblxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAgICAgaWYgKHN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncHJlbG9hZGluZycsaSlcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcmVsb2FkSXRlbShcbiAgICAgICAgICAgICAgICAgICAgaSwgXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0sIFxuICAgICAgICAgICAgICAgICAgICBjcmFkbGVQYXNzdGhyb3VnaFByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5wcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJJRFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihcbiAgICAgICAgICAgICgpPT57XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmaW5pc2hlZCBwcmVsb2FkaW5nXCIsJy0nK3Njcm9sbGVySUQrJy0nLCt0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwLnNpemUpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09WyBTTkFQU0hPVFMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGdldENhY2hlTWFwKCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgTWFwKHRoaXMuY2FjaGVQcm9wcy5pbmRleFRvSXRlbUlETWFwKVxuXG4gICAgfVxuXG4gICAgZ2V0Q3JhZGxlTWFwKG1vZGVsSW5kZXhMaXN0KSB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlTWFwID0gbmV3IE1hcCgpXG4gICAgICAgIGNvbnN0IHsgaW5kZXhUb0l0ZW1JRE1hcCB9ID0gdGhpcy5jYWNoZVByb3BzXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgbW9kZWxJbmRleExpc3QpIHtcblxuICAgICAgICAgICAgY3JhZGxlTWFwLnNldChpbmRleCwgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpKVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JhZGxlTWFwXG5cbiAgICB9XG5cbiAgICBnZXRDYWNoZUxpc3QoKSB7XG5cbiAgICAgICAgY29uc3QgY2FjaGVsaXN0ID0gbmV3IE1hcCgpXG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5jYWNoZVByb3BzLm1ldGFkYXRhTWFwKSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgfSA9IHZhbHVlXG5cbiAgICAgICAgICAgIGNhY2hlbGlzdC5zZXQoa2V5LHtcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FjaGVsaXN0XG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgU0VSVklDRSBTVVBQT1JUIF09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgXG4gICAgLy8gVE9ETyBpbXBsZW1lbnQgaGlnaHJhbmdlIGxvZ2ljXG4gICAgbW92ZUluZGV4KHRvaW5kZXgsIGZyb21pbmRleCwgaGlnaHJhbmdlICkge1xuXG4gICAgICAgIGlmIChmcm9taW5kZXggPT0gdG9pbmRleCkgcmV0dXJuIFtdXG5cbiAgICAgICAgY29uc3Qge2luZGV4VG9JdGVtSURNYXAsbWV0YWRhdGFNYXB9ID0gdGhpcy5jYWNoZVByb3BzXG5cbiAgICAgICAgaWYgKCEoaW5kZXhUb0l0ZW1JRE1hcC5oYXMoZnJvbWluZGV4KSAmJiBpbmRleFRvSXRlbUlETWFwLmhhcyh0b2luZGV4KSkpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHNoaWZ0aW5naW5kZXggPSBmcm9taW5kZXhcbiAgICAgICAgY29uc3Qgc2hpZnRpbmdpdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChzaGlmdGluZ2luZGV4KVxuXG4gICAgICAgIGNvbnN0IHNoaWZ0aW5jcmVtZW50ID0gXG4gICAgICAgICAgICAoZnJvbWluZGV4IDwgdG9pbmRleCk/IFxuICAgICAgICAgICAgICAgIC0xOiAvLyBpbmNyZW1lbnQgZG93biwgbWFrZSByb29tIGZvciBzaGlmdGluZ2luZGV4IGF0IHRvcFxuICAgICAgICAgICAgICAgIDEgICAvLyBpbmNyZW1lbnQgdXAsIG1ha2Ugcm9vbSBmb3Igc2hpZnRpbmdpbmRleCBhdCBib3R0b21cblxuICAgICAgICBjb25zdCBzdGFydGluZGV4ID0gXG4gICAgICAgICAgICAoc2hpZnRpbmNyZW1lbnQgPT0gLTEpP1xuICAgICAgICAgICAgICAgIGZyb21pbmRleDpcbiAgICAgICAgICAgICAgICB0b2luZGV4XG5cbiAgICAgICAgY29uc3QgZW5kaW5kZXggPSBcbiAgICAgICAgICAgIChzaGlmdGluY3JlbWVudCA9PSAtMSk/XG4gICAgICAgICAgICAgICAgdG9pbmRleDpcbiAgICAgICAgICAgICAgICBmcm9taW5kZXhcblxuICAgICAgICBjb25zdCBzbGljZWluY3JlbWVudCA9IFxuICAgICAgICAgICAgKHNoaWZ0aW5jcmVtZW50ID09IC0xKT9cbiAgICAgICAgICAgIDE6XG4gICAgICAgICAgICAwXG5cbiAgICAgICAgY29uc3Qgb3JkZXJlZGluZGV4bGlzdCA9IEFycmF5LmZyb20oaW5kZXhUb0l0ZW1JRE1hcC5rZXlzKCkpXG4gICAgICAgIG9yZGVyZWRpbmRleGxpc3Quc29ydCgoYSxiKT0+YS1iKVxuICAgICAgICBjb25zdCB0b3Byb2Nlc3NsaXN0ID0gb3JkZXJlZGluZGV4bGlzdC5zbGljZShcbiAgICAgICAgICAgIG9yZGVyZWRpbmRleGxpc3QuaW5kZXhPZihzdGFydGluZGV4KSArIHNsaWNlaW5jcmVtZW50LFxuICAgICAgICAgICAgb3JkZXJlZGluZGV4bGlzdC5pbmRleE9mKGVuZGluZGV4KSArIHNsaWNlaW5jcmVtZW50XG4gICAgICAgIClcblxuICAgICAgICBpZiAoc2hpZnRpbmNyZW1lbnQgPT0gMSkgdG9wcm9jZXNzbGlzdC5yZXZlcnNlKClcblxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIHRvcHJvY2Vzc2xpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1JRCA9IGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KVxuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIHNoaWZ0aW5jcmVtZW50XG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLnNldChuZXdJbmRleCxpdGVtSUQpXG4gICAgICAgICAgICBtZXRhZGF0YU1hcC5nZXQoaXRlbUlEKS5pbmRleCA9IG5ld0luZGV4XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleFRvSXRlbUlETWFwLnNldCh0b2luZGV4LHNoaWZ0aW5naXRlbUlEKVxuICAgICAgICBtZXRhZGF0YU1hcC5nZXQoc2hpZnRpbmdpdGVtSUQpLmluZGV4ID0gdG9pbmRleFxuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZGxpc3QgPSB0b3Byb2Nlc3NsaXN0LmNvbmNhdChbZnJvbWluZGV4XSlcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkbGlzdFxuXG4gICAgfVxuXG4gICAgaW5jcmVtZW50RnJvbUluZGV4KGluZGV4LCBoaWdocmFuZ2UsIGluY3JlbWVudCkgeyAvLyBpbmNyZW1lbnQgaXMgKzEgb3IgLTFcblxuICAgICAgICAvLyAtLS0tLS0tLS0tIGRlZmluZSByYW5nZSBwYXJhbWV0ZXJzOiBpbmRleCwgaGlnaHJhbmdlLCBhbmQgcmFuZ2VpbmNyZW1lbnRcbiAgICAgICAgaGlnaHJhbmdlID0gaGlnaHJhbmdlID8/IDBcblxuICAgICAgICBoaWdocmFuZ2UgPSBcbiAgICAgICAgICAgIChoaWdocmFuZ2UgPiBpbmRleCk/XG4gICAgICAgICAgICAgICAgaGlnaHJhbmdlOlxuICAgICAgICAgICAgICAgIGluZGV4XG5cbiAgICAgICAgY29uc3QgcmFuZ2Vjb3VudCA9IGhpZ2hyYW5nZSAtIGluZGV4ICsgMVxuXG4gICAgICAgIGNvbnN0IHJhbmdlSW5jcmVtZW50ID0gcmFuZ2Vjb3VudCAqIGluY3JlbWVudFxuXG4gICAgICAgIGNvbnN0IHsgaW5kZXhUb0l0ZW1JRE1hcCwgbWV0YWRhdGFNYXAgfSA9IHRoaXMuY2FjaGVQcm9wc1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT4gaW5jcmVtZW50RnJvbUlkZXg6IGluZGV4LCBoaWdocmFuZ2UsIGluY3JlbWVudCwgcmFuZ2Vjb3VudCwgcmFuZ2VJbmNyZW1lbnQsIGluZGV4VG9JdGVtSURNYXAsIG1ldGFkYXRhTWFwJyxcbiAgICAgICAgICAgIGluZGV4LCBoaWdocmFuZ2UsIGluY3JlbWVudCwgcmFuZ2Vjb3VudCwgcmFuZ2VJbmNyZW1lbnQsIGluZGV4VG9JdGVtSURNYXAsIG1ldGFkYXRhTWFwKVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0gZGVmaW5lIGJvdW5kYXJpZXMgd2l0aGluIG9yZGVyZWQgY2FjaGUgaW5kZXggbGlzdFxuICAgICAgICAvLyBoaWdoIHB0ciwgbG93cHRyIHdpdGhpbiBvcmRlcmVkSW5kZXhMaXN0LiBIaWdocmFuZ2UgY2FuIGJlIHJldmlzZWQgdG8gYWN0dWFsXG4gICAgICAgIGNvbnN0IG9yZGVyZWRJbmRleExpc3QgPSBBcnJheS5mcm9tKGluZGV4VG9JdGVtSURNYXAua2V5cygpKVxuICAgICAgICBvcmRlcmVkSW5kZXhMaXN0LnNvcnQoKGEsYik9PmEtYilcblxuICAgICAgICAvLyBsb3cgYW5kIGhpZ2ggcG9pbnRlcnMgcHJvdmlkZSB2YWx1ZXMgZm9yIHNsaWNlcyBhYm92ZSB0aGUgcmFuZ2VcbiAgICAgICAgY29uc3QgaGlnaENhY2hlUHRyID0gb3JkZXJlZEluZGV4TGlzdC5maW5kSW5kZXgodmFsdWU9PiB2YWx1ZSA+PSBoaWdocmFuZ2UpXG5cbiAgICAgICAgY29uc3QgbG93Q2FjaGVQdHIgPSBvcmRlcmVkSW5kZXhMaXN0LmZpbmQodmFsdWUgPT4gdmFsdWUgPj0gaW5kZXgpXG5cbiAgICAgICAgY29uc29sZS5sb2coJ2xvd0NhY2hlUHRyLCBoaWdoQ2FjaGVQdHIsIG9yZGVyZWRJbmRleExpc3QnLFxuICAgICAgICAgICAgbG93Q2FjaGVQdHIsIGhpZ2hDYWNoZVB0ciwgb3JkZXJlZEluZGV4TGlzdClcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0gZGVmaW5lIHRvUHJvY2VzcyBhbmQgdG9SZW1vdmUgbGlzdHNcbiAgICAgICAgLy8gb2J0YWluIHNsaWNlIGFib3ZlIHRoZSBoaWdodmFsdWVyYW5nZVxuICAgICAgICBjb25zdCB0b1Byb2Nlc3NJbmRleExpc3QgPSBcbiAgICAgICAgICAgIChpbmNyZW1lbnQgPT0gMSk/XG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAobG93Q2FjaGVQdHIgPiAtMSk/XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkSW5kZXhMaXN0LnNsaWNlKGxvd0NhY2hlUHRyKTpcbiAgICAgICAgICAgICAgICAgICAgICAgIFtdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDooXG4gICAgICAgICAgICAgICAgICAgIChoaWdoQ2FjaGVQdHIgPiAtMSk/XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkSW5kZXhMaXN0LnNsaWNlKGhpZ2hDYWNoZVB0ciArIDEpOlxuICAgICAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgICAgICApXG4gICAgICAgIC8vIFRPRE8gY29udGludWUgdG8gcmVmYWN0b3IgZm9yIG9wZW4tZW5kZWQgcHJvY2Vzc2luZ1xuICAgICAgICBjb25zdCBpbmRleGVzVG9SZW1vdmVMaXN0ID0gXG4gICAgICAgICAgICAoaW5jcmVtZW50ID09IDEpP1xuICAgICAgICAgICAgb3JkZXJlZEluZGV4TGlzdC5zbGljZShsb3dDYWNoZVB0ciwgaGlnaENhY2hlUHRyICsgMSk6XG4gICAgICAgICAgICBvcmRlcmVkSW5kZXhMaXN0LnNsaWNlKHJhbmdlSW5jcmVtZW50KSAvLyBuZWdhdGl2ZSB2YWx1ZSwgYmFjayBmcm9tIGVuZFxuXG4gICAgICAgIGNvbnN0IGluZGV4ZXNmb3JpdGVtc3RvcmVtb3ZlID0gXG4gICAgICAgICAgICAoaW5jcmVtZW50ID09IDEpP1xuICAgICAgICAgICAgW106XG4gICAgICAgICAgICBvcmRlcmVkSW5kZXhMaXN0LnNsaWNlKGxvd0NhY2hlUHRyLCBoaWdoQ2FjaGVQdHIgKyAxKVxuXG4gICAgICAgIGNvbnN0IGl0ZW1zVG9SZW1vdmVMaXN0ID0gaW5kZXhlc2Zvcml0ZW1zdG9yZW1vdmUubWFwKChpbmRleCk9PntcbiAgICAgICAgICAgIHJldHVybiBpbmRleFRvSXRlbUlETWFwLmdldChpbmRleClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLSBjb25kdWN0IGNhY2hlIG9wZXJhdGlvbnNcbiAgICAgICAgaWYgKGluY3JlbWVudCA9PSAxKSB0b1Byb2Nlc3NJbmRleExpc3QucmV2ZXJzZSgpXG5cbiAgICAgICAgLy8gbW9kaWZ5IGluZGV4LXRvLWl0ZW1pZCBtYXAsIGFuZCBtZXRhZGF0YSBtYXBcbiAgICAgICAgY29uc3QgbW9kaWZpZWRJbmRleExpc3QgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIHRvUHJvY2Vzc0luZGV4TGlzdCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgcmFuZ2VJbmNyZW1lbnRcbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuc2V0KG5ld0luZGV4LCBpdGVtSUQpXG4gICAgICAgICAgICBtZXRhZGF0YU1hcC5nZXQoaXRlbUlEKS5pbmRleCA9IG5ld0luZGV4XG4gICAgICAgICAgICBtb2RpZmllZEluZGV4TGlzdC5wdXNoKG5ld0luZGV4KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVsZXRlIHJlbWFpbmluZyBkdXBsaWNhdGVzXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kZXhlc1RvUmVtb3ZlTGlzdCkge1xuXG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmRlbGV0ZShpbmRleClcblxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtc1RvUmVtb3ZlTGlzdCkge1xuXG4gICAgICAgICAgICBtZXRhZGF0YU1hcC5kZWxldGUoaXRlbSlcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlZEluZGV4TGlzdCA9IGluZGV4ZXNUb1JlbW92ZUxpc3QgLy8gc2VtYW50aWNzXG5cbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlcyBmb3IgY2FsbGVyIHRvIHNlbmQgdG8gY29udGVudGhhbmRsZXIgZm9yIGNyYWRsZSBzeW5jaHJvbml6YXRpb25cbiAgICAgICAgcmV0dXJuIFttb2RpZmllZEluZGV4TGlzdCwgcmVtb3ZlZEluZGV4TGlzdCwgcmFuZ2VJbmNyZW1lbnRdXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgSU5ESVZJRFVBTCBQT1JUQUwgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdXNlZCBmb3Igc2l6ZSBjYWxjdWxhdGlvbiBpbiBwYXJlQ2FjaGVUb01heFxuICAgIC8vIHJlZ2lzdGVycyBpbmRleGVzIHdoZW4gcmVxdWVzdGVkIGJ1dCBiZWZvcmUgcmV0cmlldmVkIGFuZCBlbnRlcmVkIGludG8gY2FjaGVcbiAgICByZWdpc3RlclJlcXVlc3RlZFBvcnRhbChpbmRleCkge1xuXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5yZXF1ZXN0ZWRNYXAuc2V0KGluZGV4LCBudWxsKVxuXG4gICAgfVxuXG4gICAgcmVtb3ZlUmVxdWVzdGVkUG9ydGFsKGluZGV4KSB7XG5cbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLnJlcXVlc3RlZE1hcC5kZWxldGUoaW5kZXgpXG5cbiAgICB9XG5cbiAgICBnZXROZXdJdGVtSUQoKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxJdGVtSUQrK1xuICAgIH1cblxuICAgIGdldEl0ZW1JRChpbmRleCkge1xuXG4gICAgICAgIGNvbnN0IGluZGV4TWFwID0gdGhpcy5jYWNoZVByb3BzLmluZGV4VG9JdGVtSURNYXAgXG4gICAgICAgIGNvbnN0IGtub3duSUQgPSBpbmRleE1hcC5nZXQoaW5kZXgpXG4gICAgICAgIGNvbnN0IGtub3duSGFzVmFsdWUgPSBrbm93bklEPz9mYWxzZSAvLyBkZWFsIHdpdGggZmFsc2V5IDBcbiAgICAgICAgY29uc3QgbmV3SUQgPSAoa25vd25IYXNWYWx1ZSA9PT0gZmFsc2UpPyh0aGlzLmdldE5ld0l0ZW1JRCgpKTpudWxsXG5cbiAgICAgICAgaWYgKGtub3duSGFzVmFsdWUgPT09IGZhbHNlKSBpbmRleE1hcC5zZXQoaW5kZXgsIG5ld0lEKVxuXG4gICAgICAgIHJldHVybiBrbm93bklEPz9uZXdJRFxuXG4gICAgfVxuXG4gICAgY3JlYXRlUG9ydGFsKGNvbXBvbmVudCwgaW5kZXgsIGl0ZW1JRCkgeyAvLyBjcmVhdGUgbmV3IHBvcnRhbFxuXG4gICAgICAgIHRoaXMucmVtb3ZlUmVxdWVzdGVkUG9ydGFsKGluZGV4KVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmVhdGluZyBwb3J0YWwgZm9yIGluZGV4JywnLScrdGhpcy5jYWNoZVByb3BzLnNjcm9sbGVySUQrJy0nLCBpbmRleClcbiAgICAgICAgY29uc3QgcG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUoaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JlYXRpbmcgSW5Qb3J0YWwgbm9kZScsICctJyt0aGlzLmNhY2hlUHJvcHMuc2Nyb2xsZXJJRCsnLScsIGl0ZW1JRClcblxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMucG9ydGFsTWFwLnNldChpdGVtSUQsLy9pbmRleCxcbiAgICAgICAgICAgICAgICA8SW5Qb3J0YWwga2V5ID0ge2l0ZW1JRH0gbm9kZSA9IHtwb3J0YWxOb2RlfSA+IHsgY29tcG9uZW50IH0gPC9JblBvcnRhbD4pXG4gICAgICAgICAgICAgICAgLy8gPEluUG9ydGFsIGtleSA9IHtpbmRleH0gbm9kZSA9IHtwb3J0YWxOb2RlfSA+IHsgY29udGVudCB9IDwvSW5Qb3J0YWw+KVxuICAgICAgICB0aGlzLmNhY2hlUHJvcHMubW9kaWZpZWQgPSB0cnVlXG5cbiAgICAgICAgY29uc3QgcG9ydGFsTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBwb3J0YWxOb2RlLFxuICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZjp7XG4gICAgICAgICAgICAgICAgY3VycmVudDpmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGl0ZW1JRCxcbiAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FjaGVQcm9wcy5tZXRhZGF0YU1hcC5zZXQoaXRlbUlELCBwb3J0YWxNZXRhZGF0YSlcbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLmluZGV4VG9JdGVtSURNYXAuc2V0KGluZGV4LCBpdGVtSUQpXG5cbiAgICAgICAgdGhpcy5yZW5kZXJQb3J0YWxMaXN0KClcblxuICAgICAgICByZXR1cm4gcG9ydGFsTWV0YWRhdGFcblxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJlbG9hZEl0ZW0oaW5kZXgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLCBcbiAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2ssXG4gICAgICAgIHNjcm9sbGVySURcbiAgICApIHtcblxuICAgICAgICBjb25zdCBpdGVtSUQgPSB0aGlzLmdldEl0ZW1JRChpbmRleClcblxuICAgICAgICBjb25zdCB1c2VyY29udGVudCA9IGF3YWl0IGdldEl0ZW0oaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICBpZiAodXNlcmNvbnRlbnQpIHtcblxuICAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2sgJiYgcHJlbG9hZEluZGV4Q2FsbGJhY2soaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3ByZWxvYWRpbmcgaW5kZXgnLCctJytzY3JvbGxlcklEKyctJyAsaW5kZXggKVxuXG4gICAgICAgICAgICBsZXQgY29udGVudCBcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmOm51bGwsXG4gICAgICAgICAgICAgICAgY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXJjb250ZW50LnByb3BzLmhhc093blByb3BlcnR5KCdzY3JvbGxlckRhdGEnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQodXNlcmNvbnRlbnQsIHtzY3JvbGxlckRhdGF9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gdXNlcmNvbnRlbnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcG9ydGFsRGF0YSA9IFxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUG9ydGFsKGNvbnRlbnQsIGluZGV4LCBpdGVtSUQpXG4gICAgICAgICAgICAvLyBtYWtlIGF2YWlsYWJsZSB0byB1c2VyIGNvbnRlbnRcbiAgICAgICAgICAgIHNjcm9sbGVyRGF0YS5pc1JlcGFyZW50aW5nUmVmID0gcG9ydGFsRGF0YS5pc1JlcGFyZW50aW5nUmVmXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2sgJiYgcHJlbG9hZEluZGV4Q2FsbGJhY2soaW5kZXgsIGl0ZW1JRCwgJ2Vycm9yJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsJ25vIGNvbnRlbnQgaXRlbSBmb3IgcHJlbG9hZCBpbmRleCwgaXRlbUlEJyxpbmRleCwgaXRlbUlEKVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIGRlbGV0ZSBhIHBvcnRhbCBsaXN0IGl0ZW1cbiAgICAvLyBhY2NlcHRzIGFuIGFycmF5IG9mIGluZGV4ZXNcbiAgICBkZWxldGVQb3J0YWwoaW5kZXgsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKSB7XG5cbiAgICAgICAgbGV0IGluZGV4QXJyYXlcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGluZGV4KSkge1xuICAgICAgICAgICAgaW5kZXhBcnJheSA9IFtpbmRleF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4QXJyYXkgPSBpbmRleFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIG1ldGFkYXRhTWFwLFxuICAgICAgICAgICAgcG9ydGFsTWFwLFxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcCBcbiAgICAgICAgfSA9IHRoaXMuY2FjaGVQcm9wc1xuICAgICAgICBjb25zdCBkZWxldGVMaXN0ID0gW11cbiAgICAgICAgZm9yIChsZXQgaSBvZiBpbmRleEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChpKVxuICAgICAgICAgICAgZGVsZXRlTGlzdC5wdXNoKGl0ZW1JRClcbiAgICAgICAgICAgIG1ldGFkYXRhTWFwLmRlbGV0ZShpdGVtSUQpXG4gICAgICAgICAgICBwb3J0YWxNYXAuZGVsZXRlKGl0ZW1JRClcbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZVByb3BzLm1vZGlmaWVkID0gdHJ1ZVxuXG4gICAgICAgIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrICYmIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKGRlbGV0ZUxpc3QpXG5cbiAgICB9XG5cbiAgICAvLyBxdWVyeSBleGlzdGVuY2Ugb2YgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgaGFzUG9ydGFsKGl0ZW1JRCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUHJvcHMubWV0YWRhdGFNYXAuaGFzKGl0ZW1JRClcblxuICAgIH1cblxuICAgIGdldFBvcnRhbChpdGVtSUQpIHtcblxuICAgICAgICBpZiAodGhpcy5oYXNQb3J0YWwoaXRlbUlEKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVQcm9wcy5tZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFV0aWxpdHkgZnVuY3Rpb24gXT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gZ2V0IGEgcmVhY3QtcmV2ZXJzZS1wb3J0YWwgSW5Qb3J0YWwgY29tcG9uZW50LCB3aXRoIGl0cyBtZXRhZGF0YVxuLy8gd2l0aCB1c2VyIGNvbnRlbnQgYW5kIGNvbnRhaW5lclxuY29uc3QgY3JlYXRlUG9ydGFsTm9kZSA9IChpbmRleCwgaXRlbUlEKSA9PiB7XG5cbiAgICBsZXQgcG9ydGFsTm9kZSA9IGNyZWF0ZUh0bWxQb3J0YWxOb2RlKClcblxuICAgIGxldCBjb250YWluZXIgPSBwb3J0YWxOb2RlLmVsZW1lbnRcbiAgICBjb250YWluZXIuc3R5bGUuaW5zZXQgPSAnMHB4JyBcbiAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgLy8gY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICAgIC8vIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuICAgIGNvbnRhaW5lci5kYXRhc2V0LnR5cGUgPSAnY29udGVudGVudmVsb3BlJ1xuICAgIGNvbnRhaW5lci5kYXRhc2V0LmluZGV4ID0gaW5kZXhcbiAgICBjb250YWluZXIuZGF0YXNldC5jYWNoZWl0ZW1pZCA9IGl0ZW1JRFxuXG4gICAgcmV0dXJuIHBvcnRhbE5vZGVcblxufSAgICAgXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PVsgVXRpbGl0eSBjb21wb25lbnQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBwb3J0YWwgbGlzdCBjb21wb25lbnQgZm9yIHJhcGlkIHJlbGlzdGluZyBvZiB1cGRhdGVzLCB1c2luZyBleHRlcm5hbCBjYWxsYmFjayBmb3Igc2V0IHN0YXRlXG5leHBvcnQgY29uc3QgUG9ydGFsTGlzdCA9ICh7IGNhY2hlUHJvcHMgfSkgPT4ge1xuXG4gICAgLy8gY29uc29sZS5sb2coJ3J1bm5pbmcgUE9SVEFMTElTVCcsICctJytjYWNoZVByb3BzLnNjcm9sbGVySUQrJy0nKVxuXG4gICAgY29uc3QgW3BvcnRhbExpc3QsIHNldFBvcnRhbExpc3RdID0gdXNlU3RhdGUobnVsbClcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGNhY2hlUHJvcHMuc2V0TGlzdFN0YXRlID0gKCk9PntcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgc2V0UG9ydGFsTGlzdChjYWNoZVByb3BzLnBvcnRhbExpc3QpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7aXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZX1cblxuICAgIH0sW10pIFxuXG4gICAgcmV0dXJuIHBvcnRhbExpc3Rcbn1cbiJdLCJuYW1lcyI6WyJNQVhfQ0FDSEVfT1ZFUl9SVU4iLCJnbG9iYWxJdGVtSUQiLCJDYWNoZUhhbmRsZXIiLCJzY3JvbGxlcklEIiwic2V0TGlzdHNpemUiLCJsaXN0c2l6ZVJlZiIsInNldExpc3RTdGF0ZSIsIm1vZGlmaWVkIiwibWV0YWRhdGFNYXAiLCJNYXAiLCJyZXF1ZXN0ZWRNYXAiLCJwb3J0YWxNYXAiLCJpbmRleFRvSXRlbUlETWFwIiwicG9ydGFsTGlzdCIsIm5ld2xpc3RzaXplIiwiY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2siLCJwb3J0YWxJbmRleExpc3QiLCJjYWNoZVByb3BzIiwibWFwa2V5cyIsIkFycmF5IiwiZnJvbSIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJoaWdoZXN0aW5kZXgiLCJhdCIsInBhcmVsaXN0IiwiZmlsdGVyIiwiaXRlbSIsImRlbGV0ZVBvcnRhbCIsImNsZWFyIiwidmFsdWVzIiwibW9kZWxJbmRleExpc3QiLCJpbmNsdWRlcyIsImtleSIsImNhY2hlTWF4IiwibW9kZWxMZW5ndGgiLCJsZW5ndGgiLCJtYXgiLCJNYXRoIiwic2l6ZSIsIm1hcGtleXNsaXN0IiwicmVxdWVzdGVka2V5cyIsImNvbmNhdCIsIm1hcExlbmd0aCIsInBhcmVjb3VudCIsImhlYWRpbmRleCIsInRhaWxpbmRleCIsImhlYWRwb3MiLCJpbmRleE9mIiwidGFpbHBvcyIsImhlYWRyb29tIiwidGFpbHJvb20iLCJwYXJlcm9vbSIsImhlYWRwYXJlY291bnQiLCJmbG9vciIsInRhaWxwYXJlY291bnQiLCJoZWFkbGlzdCIsInNsaWNlIiwidGFpbGxpc3QiLCJkZWxMaXN0IiwiY3JhZGxlUGFyYW1ldGVycyIsImNhbGxiYWNrIiwiY3JhZGxlUGFzc3Rocm91Z2hQcm9wZXJ0aWVzUmVmIiwiaGFuZGxlcnNSZWYiLCJjdXJyZW50Iiwic3RhdGVIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImdldEl0ZW0iLCJsaXN0c2l6ZSIsInByb21pc2VzIiwiaXNNb3VudGVkUmVmIiwiaSIsInByb21pc2UiLCJwcmVsb2FkSXRlbSIsImNhbGxiYWNrcyIsInByZWxvYWRJbmRleENhbGxiYWNrIiwicHVzaCIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwiY3JhZGxlTWFwIiwiaW5kZXgiLCJzZXQiLCJnZXQiLCJjYWNoZWxpc3QiLCJ2YWx1ZSIsImNvbXBvbmVudCIsInRvaW5kZXgiLCJmcm9taW5kZXgiLCJoaWdocmFuZ2UiLCJoYXMiLCJzaGlmdGluZ2luZGV4Iiwic2hpZnRpbmdpdGVtSUQiLCJzaGlmdGluY3JlbWVudCIsInN0YXJ0aW5kZXgiLCJlbmRpbmRleCIsInNsaWNlaW5jcmVtZW50Iiwib3JkZXJlZGluZGV4bGlzdCIsInRvcHJvY2Vzc2xpc3QiLCJyZXZlcnNlIiwiaXRlbUlEIiwibmV3SW5kZXgiLCJwcm9jZXNzZWRsaXN0IiwiaW5jcmVtZW50IiwicmFuZ2Vjb3VudCIsInJhbmdlSW5jcmVtZW50IiwiY29uc29sZSIsImxvZyIsIm9yZGVyZWRJbmRleExpc3QiLCJoaWdoQ2FjaGVQdHIiLCJmaW5kSW5kZXgiLCJsb3dDYWNoZVB0ciIsImZpbmQiLCJ0b1Byb2Nlc3NJbmRleExpc3QiLCJpbmRleGVzVG9SZW1vdmVMaXN0IiwiaW5kZXhlc2Zvcml0ZW1zdG9yZW1vdmUiLCJpdGVtc1RvUmVtb3ZlTGlzdCIsIm1hcCIsIm1vZGlmaWVkSW5kZXhMaXN0IiwicmVtb3ZlZEluZGV4TGlzdCIsImluZGV4TWFwIiwia25vd25JRCIsImtub3duSGFzVmFsdWUiLCJuZXdJRCIsImdldE5ld0l0ZW1JRCIsInJlbW92ZVJlcXVlc3RlZFBvcnRhbCIsInBvcnRhbE5vZGUiLCJjcmVhdGVQb3J0YWxOb2RlIiwicmVhY3RfMSIsInJlYWN0X3JldmVyc2VfcG9ydGFsXzEiLCJub2RlIiwicG9ydGFsTWV0YWRhdGEiLCJpc1JlcGFyZW50aW5nUmVmIiwicmVuZGVyUG9ydGFsTGlzdCIsImdldEl0ZW1JRCIsInVzZXJjb250ZW50Iiwic2Nyb2xsZXJEYXRhIiwicHJvcHMiLCJoYXNPd25Qcm9wZXJ0eSIsImNvbnRlbnQiLCJjbG9uZUVsZW1lbnQiLCJwb3J0YWxEYXRhIiwiY3JlYXRlUG9ydGFsIiwiaW5kZXhBcnJheSIsImlzQXJyYXkiLCJkZWxldGVMaXN0IiwiaGFzUG9ydGFsIiwiZXhwb3J0cyIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJzdHlsZSIsImluc2V0IiwicG9zaXRpb24iLCJkYXRhc2V0IiwidHlwZSIsImNhY2hlaXRlbWlkIiwiUG9ydGFsTGlzdCIsInNldFBvcnRhbExpc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/cachehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/contentfunctions.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/contentfunctions.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // contentfunctions.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deletePortals = exports.allocateContentList = exports.getCellFrameComponentList = exports.calcContentShift = exports.getShiftInstruction = exports.getContentListRequirements = void 0;\n/******************************************************************************************\n ------------------------------------[ SUPPORTING FUNCTIONS ]------------------------------\n*******************************************************************************************/\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar CellFrame_1 = __importDefault(__webpack_require__(/*! ../CellFrame */ \"./src/CellFrame.tsx\")); // ======================[ for setCradleContent ]===========================\n\n\nvar getContentListRequirements = function getContentListRequirements(_ref) {\n  var rowLength = _ref.rowLength,\n      cradleInheritedProperties = _ref.cradleInheritedProperties,\n      cradleInternalProperties = _ref.cradleInternalProperties,\n      targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n      targetAxisPixelOffset = _ref.targetAxisPixelOffset,\n      viewportElement = _ref.viewportElement;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      gap = cradleInheritedProperties.gap;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount,\n      listRowcount = cradleInternalProperties.listRowcount,\n      listsize = cradleInternalProperties.listsize,\n      viewportVisibleRowcount = cradleInternalProperties.viewportVisibleRowcount; // align axis reference to first row item\n  // const origrefindex = targetAxisReferenceIndex\n\n  targetAxisReferenceIndex = Math.min(targetAxisReferenceIndex, listsize - 1);\n  targetAxisReferenceIndex -= targetAxisReferenceIndex % crosscount; // derive target row\n\n  var targetAxisRowOffset = Math.ceil(targetAxisReferenceIndex / crosscount);\n  var maxAxisRowOffset = listRowcount - viewportVisibleRowcount;\n\n  if (targetAxisRowOffset > maxAxisRowOffset) {\n    targetAxisRowOffset = maxAxisRowOffset;\n    targetAxisReferenceIndex = targetAxisRowOffset * crosscount;\n  } // -----------------------[ calc cradleReferenceRow & Index ]------------------------\n  // leading edge\n  // let targetCradleReferenceIndex = Math.max(0,targetAxisReferenceIndex - leadingrunwayitemcount)\n\n\n  var targetCradleRowOffset = Math.max(0, targetAxisRowOffset - runwayRowcount); // trailing edge\n\n  var targetCradleEndRowOffset = targetCradleRowOffset + (cradleRowcount - 1);\n  var listEndRowOffset = listRowcount - 1;\n\n  if (targetCradleEndRowOffset > listEndRowOffset) {\n    var diff = targetCradleEndRowOffset - listEndRowOffset;\n    targetCradleRowOffset -= diff;\n    targetCradleEndRowOffset -= diff;\n  }\n\n  var targetCradleReferenceIndex = targetCradleRowOffset * crosscount; // ---------------------[ calc cradle content count ]---------------------\n\n  var newCradleContentCount = cradleRowcount * crosscount;\n\n  if (targetCradleEndRowOffset == listEndRowOffset) {\n    var endRowRemainderCount = listsize % crosscount;\n\n    if (endRowRemainderCount) {\n      newCradleContentCount -= crosscount - endRowRemainderCount;\n    }\n  } // --------------------[ calc css positioning ]-----------------------\n\n\n  var targetScrollblockPixelOffset = targetAxisRowOffset * rowLength - targetAxisPixelOffset; // ----------------------[ return required values ]---------------------\n\n  return {\n    targetCradleReferenceIndex: targetCradleReferenceIndex,\n    targetAxisReferenceIndex: targetAxisReferenceIndex,\n    targetAxisRowOffset: targetAxisRowOffset,\n    targetScrollblockPixelOffset: targetScrollblockPixelOffset,\n    newCradleContentCount: newCradleContentCount\n  };\n};\n\nexports.getContentListRequirements = getContentListRequirements; // ======================[ for updateCradleContent ]===========================\n// -1 = shift row to head. 1 = shift row to tail. 0 = do not shift a row.\n\nvar getShiftInstruction = function getShiftInstruction(_ref2) {\n  var isViewportScrollingForward = _ref2.isViewportScrollingForward,\n      orientation = _ref2.orientation,\n      triggerlineEntries = _ref2.triggerlineEntries,\n      triggerlineRecord = _ref2.triggerlineRecord,\n      triggerlineSpan = _ref2.triggerlineSpan,\n      scrollerID = _ref2.scrollerID;\n\n  if (isViewportScrollingForward != triggerlineRecord.wasViewportScrollingForward) {\n    triggerlineRecord.wasViewportScrollingForward = isViewportScrollingForward;\n    triggerlineRecord.driver = isViewportScrollingForward ? 'triggerline-tail' : 'triggerline-head';\n    triggerlineRecord.offset = null;\n  }\n\n  var entries = triggerlineEntries.filter(function (entry) {\n    // const isIntersecting = entry.isIntersecting\n    var triggerlinename = entry.target.dataset.type;\n    entry.triggerlinename = triggerlinename;\n    entry.scrollingforward = isViewportScrollingForward;\n    var rootpos = orientation == 'vertical' ? entry.rootBounds.y : entry.rootBounds.x;\n    var entrypos = orientation == 'vertical' ? entry.boundingClientRect.y : entry.boundingClientRect.x;\n    entry.viewportoffset = entrypos - rootpos;\n    return isViewportScrollingForward && triggerlinename == 'triggerline-tail' && entrypos <= rootpos || !isViewportScrollingForward && triggerlinename == 'triggerline-head' && entrypos >= rootpos;\n  }); // if ((entries.length == 0) && (triggerlineEntries.length == 2)) { // reconnecting\n  //     return 0\n  // }\n\n  if (entries.length == 0) {\n    var counterentries = triggerlineEntries.filter(function (entry) {\n      return entry.triggerlinename != triggerlineRecord.driver;\n    });\n    if (counterentries.length == 0) return 0; // console.log('counterentries','-'+scrollerID+'-', [...counterentries])\n    // check for implied trigger - trigger can be bypassed with heavy components\n\n    var counterentry = counterentries.pop(); //dtriggerlineEntries[0]\n\n    var countertriggerlinename = counterentry.triggerlinename;\n    var impliedoffset;\n\n    if (countertriggerlinename != triggerlineRecord.driver) {\n      // should always be true\n      if (countertriggerlinename == 'triggerline-head') {\n        impliedoffset = counterentry.viewportoffset + triggerlineSpan;\n\n        if (impliedoffset <= 0) {\n          triggerlineRecord.offset = impliedoffset; // console.log('returning -1')\n\n          return -1;\n        }\n      } else {\n        // countertriggerlinename == 'triggerline-tail'\n        impliedoffset = counterentry.viewportoffset - triggerlineSpan;\n\n        if (impliedoffset >= 0) {\n          triggerlineRecord.offset = impliedoffset; // console.log('returning 1')\n\n          return 1;\n        }\n      }\n    } // console.log('returning 0')\n\n\n    return 0;\n  }\n\n  var entry = entries[0]; // assume one record gets filtered; only paired above on reconnect\n\n  triggerlineRecord.offset = entry.viewportoffset;\n  var retval;\n\n  if (!isViewportScrollingForward) {\n    retval = 1; // shift row to tail\n  } else {\n    retval = -1; // shift row to head\n  }\n\n  return retval;\n};\n\nexports.getShiftInstruction = getShiftInstruction; // A negative shift instruction is into the head, a positive shift is into the tail.\n// called only from updateCradleContent\n\nvar calcContentShift = function calcContentShift(_ref3) {\n  var shiftinstruction = _ref3.shiftinstruction,\n      cradleInheritedProperties = _ref3.cradleInheritedProperties,\n      cradleInternalProperties = _ref3.cradleInternalProperties,\n      cradleContent = _ref3.cradleContent,\n      cradleElements = _ref3.cradleElements,\n      scrollPos = _ref3.scrollPos;\n\n  // ------------------------[ 1. initialize ]-----------------------\n  var _a, _b;\n\n  var isScrollingViewportForward = shiftinstruction < 0;\n  var gap = cradleInheritedProperties.gap,\n      orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      triggerlineOffset = cradleInheritedProperties.triggerlineOffset;\n  var axisElement = cradleElements.axisRef.current;\n  var cradlecontentlist = cradleContent.cradleModelComponents,\n      tailcontentlist = cradleContent.tailModelComponents;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      listsize = cradleInternalProperties.listsize,\n      listRowcount = cradleInternalProperties.listRowcount,\n      viewportRowcount = cradleInternalProperties.viewportRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount;\n  var rowLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap; // -----------[ 2. calculate axis reference row shift ]-------------------\n  // extra gaps can be caused by rapid scrolling\n\n  var cradleAxisOffset = orientation == 'vertical' ? axisElement.offsetTop : axisElement.offsetLeft; // viewportAxisOffset will be negative for scroll forward and positive for scroll backward\n\n  var viewportAxisOffset = // the pixel distance between the viewport frame and the axis, toward the head\n  cradleAxisOffset - scrollPos;\n  var triggerAxisOffset = isScrollingViewportForward ? // scroll forward engages the tail triggerline which is below the axis\n  // the tail triggerline must be placed to intersect to re-trigger\n  viewportAxisOffset + triggerlineOffset : // scrollbackward engages the head triggerline which is above the axis\n  // the head triggerline muse be placed not to intersect to retrigger\n  viewportAxisOffset - (rowLength - triggerlineOffset); // negative for moving rows out of head into tail;\n  // positive for moving rows out of tail into head\n  // +/- 1 gurantees boundary location results in move\n\n  var triggerRowShift = isScrollingViewportForward ? Math.floor((triggerAxisOffset ? triggerAxisOffset : -1) / rowLength) : Math.ceil((triggerAxisOffset ? triggerAxisOffset : 1) / rowLength);\n  var axisReferenceRowshift = -triggerRowShift; // ------------[ 5. calc new cradle and axis reference row offset ]-------------\n  // base value for cradle reference shift; may change if beyond list bounds\n\n  var cradleReferenceRowshift = axisReferenceRowshift;\n  var previousCradleReferenceIndex = ((_a = cradlecontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0;\n  var previousCradleRowOffset = Math.ceil(previousCradleReferenceIndex / crosscount);\n  var previousAxisReferenceIndex = ((_b = tailcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0;\n  var previousAxisRowOffset = Math.ceil(previousAxisReferenceIndex / crosscount); // base values\n\n  var newCradleReferenceRowOffset = previousCradleRowOffset + cradleReferenceRowshift;\n  var newAxisReferenceRowOffset = previousAxisRowOffset + axisReferenceRowshift; // --------[ 6. adjust cradle contents for start and end of list ]-------\n  // ...to maintain constant number of cradle rows\n\n  var listEndrowOffset = listRowcount - 1;\n\n  if (isScrollingViewportForward) {\n    // a. if scrolling forward near the start of the list, new cradle row offset and\n    // cradle row shift count has to be adjusted to accommodate the leading runway\n    // b. if scrolling forward (toward tail of list), as the cradle last row offset approaches \n    // listrow new cradle offset and cradle row shift have to be adjusted to prevent shortening \n    // of cradle content.\n    var targetCradleReferenceRowOffset = Math.max(0, newAxisReferenceRowOffset - runwayRowcount + (runwayRowcount ? -1 : 0) // one row is visible, not runway\n    );\n    var headrowDiff = newCradleReferenceRowOffset - targetCradleReferenceRowOffset;\n\n    if (headrowDiff > 0) {\n      newCradleReferenceRowOffset -= headrowDiff;\n      cradleReferenceRowshift -= headrowDiff;\n    } // case of being in bounds of trailing runway (end of list)\n\n\n    var targetCradleEndrowOffset = newCradleReferenceRowOffset + (cradleRowcount - 1);\n    var tailrowdiff = Math.max(0, targetCradleEndrowOffset - listEndrowOffset);\n\n    if (tailrowdiff > 0) {\n      newCradleReferenceRowOffset -= tailrowdiff;\n      cradleReferenceRowshift -= tailrowdiff;\n    }\n  } else {\n    // !isScrollingViewportForward = scroll backward\n    // c. if scrolling backward (toward head of list), as the cradlerowoffset hits 0, cradle changes have\n    // to be adjusted to prevent shortening of cradle content\n    // d. if scrolling backward near the end of the list, cradle changes has to be adjusted to accomodate\n    // the trailing runway\n    if (newCradleReferenceRowOffset < 0) {\n      cradleReferenceRowshift -= newCradleReferenceRowOffset;\n      newCradleReferenceRowOffset = 0;\n    } // case of in bounds of trailing runway (end of list)\n\n\n    var computedNextCradleEndrowOffset = previousCradleRowOffset + (cradleRowcount - 1) + cradleReferenceRowshift;\n    var targetcradleEndrowoffset = Math.min(listEndrowOffset, newAxisReferenceRowOffset + (viewportRowcount - 1) + (runwayRowcount - 1));\n\n    var _tailrowdiff = Math.max(0, targetcradleEndrowoffset - computedNextCradleEndrowOffset);\n\n    if (_tailrowdiff > 0) {\n      cradleReferenceRowshift += _tailrowdiff;\n      newCradleReferenceRowOffset += _tailrowdiff;\n    }\n  } // ----------------------[ 7. map rows to item references ]----------------------\n\n\n  var newCradleReferenceIndex = newCradleReferenceRowOffset * crosscount;\n  var cradleReferenceItemShift = cradleReferenceRowshift * crosscount;\n  var newAxisReferenceIndex = newAxisReferenceRowOffset * crosscount;\n  var axisReferenceItemShift = axisReferenceRowshift * crosscount;\n  var newCradleContentCount = cradleRowcount * crosscount; // base count\n\n  var includesLastRow = newCradleReferenceRowOffset + cradleRowcount >= listRowcount;\n\n  if (includesLastRow) {\n    var partialspaces = listsize % crosscount;\n    var itemsShortfall = partialspaces == 0 ? 0 : crosscount - partialspaces;\n    newCradleContentCount -= itemsShortfall;\n  } // create head and tail change counts\n\n\n  var changeOfCradleContentCount = cradlecontentlist.length - newCradleContentCount;\n  var listStartChangeCount = -cradleReferenceItemShift;\n  var listEndChangeCount = -listStartChangeCount - changeOfCradleContentCount; // -------------[ 8. calculate new axis pixel position ]------------------\n\n  var newAxisPixelOffset = viewportAxisOffset + axisReferenceRowshift * rowLength; // ---------------------[ 9. return required values ]-------------------\n\n  return {\n    newCradleReferenceIndex: newCradleReferenceIndex,\n    cradleReferenceItemShift: cradleReferenceItemShift,\n    newAxisReferenceIndex: newAxisReferenceIndex,\n    axisReferenceItemShift: axisReferenceItemShift,\n    newAxisPixelOffset: newAxisPixelOffset,\n    newCradleContentCount: newCradleContentCount,\n    listStartChangeCount: listStartChangeCount,\n    listEndChangeCount: listEndChangeCount\n  };\n};\n\nexports.calcContentShift = calcContentShift; // =====================[ shared by both setCradleContent and updateCradleContent ]====================\n// update content\n// adds itemshells at end of contentlist according to headindexcount and tailindescount,\n// or if indexcount values are <0 removes them.\n\nvar getCellFrameComponentList = function getCellFrameComponentList(_ref4) {\n  var cradleInheritedProperties = _ref4.cradleInheritedProperties,\n      cradleInternalProperties = _ref4.cradleInternalProperties,\n      cacheHandler = _ref4.cacheHandler,\n      cradleContentCount = _ref4.cradleContentCount,\n      cradleReferenceIndex = _ref4.cradleReferenceIndex,\n      listStartChangeCount = _ref4.listStartChangeCount,\n      listEndChangeCount = _ref4.listEndChangeCount,\n      contentlist = _ref4.workingContentList,\n      instanceIdCounterRef = _ref4.instanceIdCounterRef;\n\n  var localContentlist = _toConsumableArray(contentlist);\n\n  var lastindexoffset = cradleReferenceIndex + localContentlist.length - 1;\n  var headContentlist = [],\n      tailContentlist = [];\n  var deletedtailitems = [],\n      deletedheaditems = [];\n\n  if (listStartChangeCount >= 0) {\n    // acquire new items\n    for (var newindex = cradleReferenceIndex - listStartChangeCount; newindex < cradleReferenceIndex; newindex++) {\n      headContentlist.push(createCell({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheHandler: cacheHandler\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -listStartChangeCount);\n  }\n\n  if (listEndChangeCount >= 0) {\n    // acquire new items\n    for (var _newindex = lastindexoffset + 1; _newindex < lastindexoffset + 1 + listEndChangeCount; _newindex++) {\n      tailContentlist.push(createCell({\n        index: _newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheHandler: cacheHandler\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(listEndChangeCount, -listEndChangeCount);\n  }\n\n  var deletedItems = deletedheaditems.concat(deletedtailitems);\n  var componentList = headContentlist.concat(localContentlist, tailContentlist);\n  return [componentList, deletedItems];\n};\n\nexports.getCellFrameComponentList = getCellFrameComponentList; // butterfly model. Leading (head) all or partially hidden; tail, visible plus following hidden\n\nvar allocateContentList = function allocateContentList(_ref5) {\n  var contentlist = _ref5.contentlist,\n      axisReferenceIndex = _ref5.axisReferenceIndex;\n\n  var _a;\n\n  var offsetindex = (_a = contentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index; // TODO: Cannot read property 'props' of undefined\n\n  var headitemcount = axisReferenceIndex - offsetindex;\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\n\nexports.allocateContentList = allocateContentList;\n\nvar deletePortals = function deletePortals(cacheHandler, deleteList, cacheDeleteListCallback) {\n  // console.log('inside deletePortals',deleteList)\n  var dlist = deleteList.map(function (item) {\n    return item.props.index;\n  }); // TODO return list of deleted items to user\n\n  cacheHandler.deletePortal(dlist, cacheDeleteListCallback);\n  if (deleteList.length) cacheHandler.renderPortalList();\n};\n\nexports.deletePortals = deletePortals; // =====================[ acquire item ]======================\n\nvar createCell = function createCell(_ref6) {\n  var index = _ref6.index,\n      cradleInheritedProperties = _ref6.cradleInheritedProperties,\n      cradleInternalProperties = _ref6.cradleInternalProperties,\n      instanceIdCounterRef = _ref6.instanceIdCounterRef,\n      cacheHandler = _ref6.cacheHandler;\n  var instanceID = instanceIdCounterRef.current++;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      getItem = cradleInheritedProperties.getItem,\n      placeholder = cradleInheritedProperties.placeholder,\n      scrollerID = cradleInheritedProperties.scrollerID;\n  var listsize = cradleInternalProperties.listsize;\n  var itemID = cacheHandler.getItemID(index);\n  return react_1[\"default\"].createElement(CellFrame_1[\"default\"], {\n    key: instanceID,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    index: index,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    itemID: itemID,\n    instanceID: instanceID,\n    scrollerID: scrollerID\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBSUE7O0FBRUEsa0csQ0FFQTs7O0FBRU8sSUFBTUEsMEJBQTBCLEdBQUcsU0FBN0JBLDBCQUE2QixPQVNqQztFQUFBLElBUERDLFNBT0MsUUFQREEsU0FPQztFQUFBLElBTkRDLHlCQU1DLFFBTkRBLHlCQU1DO0VBQUEsSUFMREMsd0JBS0MsUUFMREEsd0JBS0M7RUFBQSxJQUpEQyx3QkFJQyxRQUpEQSx3QkFJQztFQUFBLElBSERDLHFCQUdDLFFBSERBLHFCQUdDO0VBQUEsSUFGREMsZUFFQyxRQUZEQSxlQUVDO0VBRUwsSUFDSUMsV0FESixHQUtJTCx5QkFMSixDQUNJSyxXQURKO0VBQUEsSUFFSUMsVUFGSixHQUtJTix5QkFMSixDQUVJTSxVQUZKO0VBQUEsSUFHSUMsU0FISixHQUtJUCx5QkFMSixDQUdJTyxTQUhKO0VBQUEsSUFJSUMsR0FKSixHQUtJUix5QkFMSixDQUlJUSxHQUpKO0VBT0EsSUFFSUMsVUFGSixHQVNJUix3QkFUSixDQUVJUSxVQUZKO0VBQUEsSUFHSUMsY0FISixHQVNJVCx3QkFUSixDQUdJUyxjQUhKO0VBQUEsSUFJSUMsY0FKSixHQVNJVix3QkFUSixDQUlJVSxjQUpKO0VBQUEsSUFLSUMsWUFMSixHQVNJWCx3QkFUSixDQUtJVyxZQUxKO0VBQUEsSUFNSUMsUUFOSixHQVNJWix3QkFUSixDQU1JWSxRQU5KO0VBQUEsSUFPSUMsdUJBUEosR0FTSWIsd0JBVEosQ0FPSWEsdUJBUEosQ0FUSyxDQW9CTDtFQUNBOztFQUNBWix3QkFBd0IsR0FBR2EsSUFBSSxDQUFDQyxHQUFMLENBQVNkLHdCQUFULEVBQWtDVyxRQUFRLEdBQUcsQ0FBN0MsQ0FBM0I7RUFDQVgsd0JBQXdCLElBQUtBLHdCQUF3QixHQUFHTyxVQUF4RCxDQXZCSyxDQXlCTDs7RUFDQSxJQUFJUSxtQkFBbUIs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LENBQVA7QUFjSCxDQXZDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4P2QyZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudGZ1bmN0aW9ucy50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBTVVBQT1JUSU5HIEZVTkNUSU9OUyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDZWxsRnJhbWUgZnJvbSAnLi4vQ2VsbEZyYW1lJ1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09WyBmb3Igc2V0Q3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyA9ICh7IC8vIGNhbGxlZCBmcm9tIHNldENyYWRsZUNvbnRlbnQgb25seVxuXG4gICAgICAgIHJvd0xlbmd0aCxcbiAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZyb20gdXNlciwgb3IgZnJvbSBwaXZvdFxuICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQsXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCxcblxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IHsgXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGdhcCxcbiAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgY29uc3Qge1xuXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG5cbiAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzXG4gICAgXG4gICAgLy8gYWxpZ24gYXhpcyByZWZlcmVuY2UgdG8gZmlyc3Qgcm93IGl0ZW1cbiAgICAvLyBjb25zdCBvcmlncmVmaW5kZXggPSB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbih0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCAtPSAodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudClcblxuICAgIC8vIGRlcml2ZSB0YXJnZXQgcm93XG4gICAgbGV0IHRhcmdldEF4aXNSb3dPZmZzZXQgPSBNYXRoLmNlaWwodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG4gICAgY29uc3QgbWF4QXhpc1Jvd09mZnNldCA9IGxpc3RSb3djb3VudCAtIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50XG4gICAgaWYgKHRhcmdldEF4aXNSb3dPZmZzZXQgPiBtYXhBeGlzUm93T2Zmc2V0KSB7XG4gICAgICAgIHRhcmdldEF4aXNSb3dPZmZzZXQgPSBtYXhBeGlzUm93T2Zmc2V0XG4gICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSb3dPZmZzZXQgKiBjcm9zc2NvdW50XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlUmVmZXJlbmNlUm93ICYgSW5kZXggXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGxlYWRpbmcgZWRnZVxuICAgIC8vIGxldCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IE1hdGgubWF4KDAsdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IC0gbGVhZGluZ3J1bndheWl0ZW1jb3VudClcbiAgICBsZXQgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0ID0gTWF0aC5tYXgoMCx0YXJnZXRBeGlzUm93T2Zmc2V0IC0gcnVud2F5Um93Y291bnQpXG5cbiAgICAvLyB0cmFpbGluZyBlZGdlXG4gICAgbGV0IHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9IHRhcmdldENyYWRsZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtIDEpXG5cbiAgICBjb25zdCBsaXN0RW5kUm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpXG5cbiAgICBpZiAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0ID4gKGxpc3RFbmRSb3dPZmZzZXQpKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC0gbGlzdEVuZFJvd09mZnNldClcbiAgICAgICAgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0IC09IGRpZmZcbiAgICAgICAgdGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC09IGRpZmZcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IHRhcmdldENyYWRsZVJvd09mZnNldCAqIGNyb3NzY291bnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjcmFkbGUgY29udGVudCBjb3VudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgbmV3Q3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgaWYgKHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9PSBsaXN0RW5kUm93T2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGVuZFJvd1JlbWFpbmRlckNvdW50ID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGlmIChlbmRSb3dSZW1haW5kZXJDb3VudCkge1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IChjcm9zc2NvdW50IC0gZW5kUm93UmVtYWluZGVyQ291bnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjc3MgcG9zaXRpb25pbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICh0YXJnZXRBeGlzUm93T2Zmc2V0ICogcm93TGVuZ3RoKSAtICh0YXJnZXRBeGlzUGl4ZWxPZmZzZXQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXR1cm4gcmVxdWlyZWQgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICB0YXJnZXRBeGlzUm93T2Zmc2V0LFxuICAgICAgICB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LCBcbiAgICB9IFxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1bIGZvciB1cGRhdGVDcmFkbGVDb250ZW50IF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gLTEgPSBzaGlmdCByb3cgdG8gaGVhZC4gMSA9IHNoaWZ0IHJvdyB0byB0YWlsLiAwID0gZG8gbm90IHNoaWZ0IGEgcm93LlxuZXhwb3J0IGNvbnN0IGdldFNoaWZ0SW5zdHJ1Y3Rpb24gPSAoe1xuICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIHRyaWdnZXJsaW5lRW50cmllcyxcbiAgICB0cmlnZ2VybGluZVJlY29yZCxcbiAgICB0cmlnZ2VybGluZVNwYW4sXG4gICAgc2Nyb2xsZXJJRCwgLy8gZm9yIGRlYnVnXG5cbn0pID0+IHtcbiAgICBpZiAoaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQgIT0gdHJpZ2dlcmxpbmVSZWNvcmQud2FzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkKSB7XG4gICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLndhc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCA9IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLmRyaXZlciA9IFxuICAgICAgICAgICAgaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQ/XG4gICAgICAgICAgICAndHJpZ2dlcmxpbmUtdGFpbCc6XG4gICAgICAgICAgICAndHJpZ2dlcmxpbmUtaGVhZCdcbiAgICAgICAgdHJpZ2dlcmxpbmVSZWNvcmQub2Zmc2V0ID0gbnVsbFxuICAgIH1cbiAgICBjb25zdCBlbnRyaWVzID0gdHJpZ2dlcmxpbmVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IGlzSW50ZXJzZWN0aW5nID0gZW50cnkuaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgY29uc3QgdHJpZ2dlcmxpbmVuYW1lID0gZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZVxuICAgICAgICBlbnRyeS50cmlnZ2VybGluZW5hbWUgPSB0cmlnZ2VybGluZW5hbWVcbiAgICAgICAgZW50cnkuc2Nyb2xsaW5nZm9yd2FyZCA9IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgIGNvbnN0IHJvb3Rwb3MgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBlbnRyeS5yb290Qm91bmRzLnk6XG4gICAgICAgICAgICAgICAgZW50cnkucm9vdEJvdW5kcy54XG4gICAgICAgIGNvbnN0IGVudHJ5cG9zID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0Lnk6XG4gICAgICAgICAgICAgICAgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LnhcbiAgICAgICAgZW50cnkudmlld3BvcnRvZmZzZXQgPSBlbnRyeXBvcyAtIHJvb3Rwb3NcbiAgICAgICAgcmV0dXJuICgoaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQpICYmICh0cmlnZ2VybGluZW5hbWUgPT0gJ3RyaWdnZXJsaW5lLXRhaWwnKSAmJiAoZW50cnlwb3MgPD0gcm9vdHBvcykpIHx8IFxuICAgICAgICAgICAgKCghaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQpICYmICh0cmlnZ2VybGluZW5hbWUgPT0gJ3RyaWdnZXJsaW5lLWhlYWQnKSAmJiAoZW50cnlwb3MgPj0gcm9vdHBvcykpXG4gICAgfSlcblxuICAgIC8vIGlmICgoZW50cmllcy5sZW5ndGggPT0gMCkgJiYgKHRyaWdnZXJsaW5lRW50cmllcy5sZW5ndGggPT0gMikpIHsgLy8gcmVjb25uZWN0aW5nXG5cbiAgICAvLyAgICAgcmV0dXJuIDBcbiAgICAvLyB9XG5cbiAgICBpZiAoZW50cmllcy5sZW5ndGggPT0gMCkge1xuXG4gICAgICAgIGNvbnN0IGNvdW50ZXJlbnRyaWVzID0gdHJpZ2dlcmxpbmVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50cmlnZ2VybGluZW5hbWUgIT0gdHJpZ2dlcmxpbmVSZWNvcmQuZHJpdmVyKVxuXG4gICAgICAgIGlmIChjb3VudGVyZW50cmllcy5sZW5ndGggPT0gMCkgcmV0dXJuIDBcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY291bnRlcmVudHJpZXMnLCctJytzY3JvbGxlcklEKyctJywgWy4uLmNvdW50ZXJlbnRyaWVzXSlcblxuICAgICAgICAvLyBjaGVjayBmb3IgaW1wbGllZCB0cmlnZ2VyIC0gdHJpZ2dlciBjYW4gYmUgYnlwYXNzZWQgd2l0aCBoZWF2eSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGNvdW50ZXJlbnRyeSA9ICBjb3VudGVyZW50cmllcy5wb3AoKSAvL2R0cmlnZ2VybGluZUVudHJpZXNbMF1cbiAgICAgICAgY29uc3QgY291bnRlcnRyaWdnZXJsaW5lbmFtZSA9IGNvdW50ZXJlbnRyeS50cmlnZ2VybGluZW5hbWVcblxuICAgICAgICBsZXQgaW1wbGllZG9mZnNldFxuICAgICAgICBpZiAoY291bnRlcnRyaWdnZXJsaW5lbmFtZSAhPSB0cmlnZ2VybGluZVJlY29yZC5kcml2ZXIpIHsgLy8gc2hvdWxkIGFsd2F5cyBiZSB0cnVlXG4gICAgICAgICAgICBpZiAoY291bnRlcnRyaWdnZXJsaW5lbmFtZSA9PSAndHJpZ2dlcmxpbmUtaGVhZCcpIHtcbiAgICAgICAgICAgICAgICBpbXBsaWVkb2Zmc2V0ID0gY291bnRlcmVudHJ5LnZpZXdwb3J0b2Zmc2V0ICsgdHJpZ2dlcmxpbmVTcGFuXG4gICAgICAgICAgICAgICAgaWYgKGltcGxpZWRvZmZzZXQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VybGluZVJlY29yZC5vZmZzZXQgPSBpbXBsaWVkb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgLTEnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBjb3VudGVydHJpZ2dlcmxpbmVuYW1lID09ICd0cmlnZ2VybGluZS10YWlsJ1xuICAgICAgICAgICAgICAgIGltcGxpZWRvZmZzZXQgPSBjb3VudGVyZW50cnkudmlld3BvcnRvZmZzZXQgLSB0cmlnZ2VybGluZVNwYW5cbiAgICAgICAgICAgICAgICBpZiAoaW1wbGllZG9mZnNldCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJsaW5lUmVjb3JkLm9mZnNldCA9IGltcGxpZWRvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JldHVybmluZyAxJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygncmV0dXJuaW5nIDAnKVxuICAgICAgICByZXR1cm4gMFxuXG4gICAgfVxuXG4gICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdIC8vIGFzc3VtZSBvbmUgcmVjb3JkIGdldHMgZmlsdGVyZWQ7IG9ubHkgcGFpcmVkIGFib3ZlIG9uIHJlY29ubmVjdFxuXG4gICAgdHJpZ2dlcmxpbmVSZWNvcmQub2Zmc2V0ID0gZW50cnkudmlld3BvcnRvZmZzZXRcblxuICAgIGxldCByZXR2YWxcbiAgICBpZiAoIWlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkKSB7XG4gICAgICAgIHJldHZhbCA9IDEgLy8gc2hpZnQgcm93IHRvIHRhaWxcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR2YWwgPSAtMSAvLyBzaGlmdCByb3cgdG8gaGVhZFxuICAgIH1cbiAgICByZXR1cm4gcmV0dmFsXG5cbn1cblxuLy8gQSBuZWdhdGl2ZSBzaGlmdCBpbnN0cnVjdGlvbiBpcyBpbnRvIHRoZSBoZWFkLCBhIHBvc2l0aXZlIHNoaWZ0IGlzIGludG8gdGhlIHRhaWwuXG4vLyBjYWxsZWQgb25seSBmcm9tIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbmV4cG9ydCBjb25zdCBjYWxjQ29udGVudFNoaWZ0ID0gKHtcblxuICAgIHNoaWZ0aW5zdHJ1Y3Rpb24sXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgY3JhZGxlQ29udGVudCxcbiAgICBjcmFkbGVFbGVtZW50cyxcbiAgICBzY3JvbGxQb3MsIC8vIG9mIGNyYWRsZSBhZ2FpbnN0IHZpZXdwb3J0OyB3aGVyZSB0aGUgY3JhZGxlIG1vdGlvbiBpbnRlcnNlY3RzIHRoZSB2aWV3cG9ydFxuICAgIC8vIHZpZXdwb3J0RWxlbWVudCxcblxufSkgPT4ge1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQgPSAoc2hpZnRpbnN0cnVjdGlvbiA8IDApXG5cbiAgICBjb25zdCB7IFxuXG4gICAgICAgIGdhcCxcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG5cbiAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcblxuICAgIGNvbnN0IHtcblxuICAgICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHM6Y3JhZGxlY29udGVudGxpc3QsIFxuICAgICAgICB0YWlsTW9kZWxDb21wb25lbnRzOnRhaWxjb250ZW50bGlzdCxcblxuICAgIH0gPSBjcmFkbGVDb250ZW50XG5cbiAgICBjb25zdCB7IFxuXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBydW53YXlSb3djb3VudCxcblxuICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNcblxuICAgIGNvbnN0IHJvd0xlbmd0aCA9IFxuICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgIGNlbGxXaWR0aCkgXG4gICAgICAgICsgZ2FwXG5cbiAgICAvLyAtLS0tLS0tLS0tLVsgMi4gY2FsY3VsYXRlIGF4aXMgcmVmZXJlbmNlIHJvdyBzaGlmdCBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGV4dHJhIGdhcHMgY2FuIGJlIGNhdXNlZCBieSByYXBpZCBzY3JvbGxpbmdcblxuICAgIGNvbnN0IGNyYWRsZUF4aXNPZmZzZXQgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0VG9wOlxuICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0TGVmdFxuXG4gICAgLy8gdmlld3BvcnRBeGlzT2Zmc2V0IHdpbGwgYmUgbmVnYXRpdmUgZm9yIHNjcm9sbCBmb3J3YXJkIGFuZCBwb3NpdGl2ZSBmb3Igc2Nyb2xsIGJhY2t3YXJkXG4gICAgY29uc3Qgdmlld3BvcnRBeGlzT2Zmc2V0ID0gLy8gdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZpZXdwb3J0IGZyYW1lIGFuZCB0aGUgYXhpcywgdG93YXJkIHRoZSBoZWFkXG4gICAgICAgIGNyYWRsZUF4aXNPZmZzZXQgLSBzY3JvbGxQb3NcblxuICAgIGNvbnN0IHRyaWdnZXJBeGlzT2Zmc2V0ID0gXG4gICAgICAgIChpc1Njcm9sbGluZ1ZpZXdwb3J0Rm9yd2FyZCk/XG4gICAgICAgICAgICAvLyBzY3JvbGwgZm9yd2FyZCBlbmdhZ2VzIHRoZSB0YWlsIHRyaWdnZXJsaW5lIHdoaWNoIGlzIGJlbG93IHRoZSBheGlzXG4gICAgICAgICAgICAvLyB0aGUgdGFpbCB0cmlnZ2VybGluZSBtdXN0IGJlIHBsYWNlZCB0byBpbnRlcnNlY3QgdG8gcmUtdHJpZ2dlclxuICAgICAgICAgICAgdmlld3BvcnRBeGlzT2Zmc2V0ICsgdHJpZ2dlcmxpbmVPZmZzZXQ6XG4gICAgICAgICAgICAvLyBzY3JvbGxiYWNrd2FyZCBlbmdhZ2VzIHRoZSBoZWFkIHRyaWdnZXJsaW5lIHdoaWNoIGlzIGFib3ZlIHRoZSBheGlzXG4gICAgICAgICAgICAvLyB0aGUgaGVhZCB0cmlnZ2VybGluZSBtdXNlIGJlIHBsYWNlZCBub3QgdG8gaW50ZXJzZWN0IHRvIHJldHJpZ2dlclxuICAgICAgICAgICAgdmlld3BvcnRBeGlzT2Zmc2V0IC0gKHJvd0xlbmd0aCAtIHRyaWdnZXJsaW5lT2Zmc2V0KVxuXG4gICAgLy8gbmVnYXRpdmUgZm9yIG1vdmluZyByb3dzIG91dCBvZiBoZWFkIGludG8gdGFpbDtcbiAgICAvLyBwb3NpdGl2ZSBmb3IgbW92aW5nIHJvd3Mgb3V0IG9mIHRhaWwgaW50byBoZWFkXG4gICAgLy8gKy8tIDEgZ3VyYW50ZWVzIGJvdW5kYXJ5IGxvY2F0aW9uIHJlc3VsdHMgaW4gbW92ZVxuICAgIGNvbnN0IHRyaWdnZXJSb3dTaGlmdCA9IFxuICAgICAgICAoaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQpP1xuICAgICAgICAgICAgTWF0aC5mbG9vcigodHJpZ2dlckF4aXNPZmZzZXQ/dHJpZ2dlckF4aXNPZmZzZXQ6IC0xKS9yb3dMZW5ndGgpOlxuICAgICAgICAgICAgTWF0aC5jZWlsKCh0cmlnZ2VyQXhpc09mZnNldD90cmlnZ2VyQXhpc09mZnNldDogMSkvcm93TGVuZ3RoKVxuXG4gICAgbGV0IGF4aXNSZWZlcmVuY2VSb3dzaGlmdCA9IC10cmlnZ2VyUm93U2hpZnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLVsgNS4gY2FsYyBuZXcgY3JhZGxlIGFuZCBheGlzIHJlZmVyZW5jZSByb3cgb2Zmc2V0IF0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBiYXNlIHZhbHVlIGZvciBjcmFkbGUgcmVmZXJlbmNlIHNoaWZ0OyBtYXkgY2hhbmdlIGlmIGJleW9uZCBsaXN0IGJvdW5kc1xuICAgIGxldCBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCA9IGF4aXNSZWZlcmVuY2VSb3dzaGlmdFxuXG4gICAgY29uc3QgcHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChjcmFkbGVjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcbiAgICBjb25zdCBwcmV2aW91c0NyYWRsZVJvd09mZnNldCA9IE1hdGguY2VpbChwcmV2aW91c0NyYWRsZVJlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICBjb25zdCBwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCA9ICh0YWlsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApXG4gICAgY29uc3QgcHJldmlvdXNBeGlzUm93T2Zmc2V0ID0gTWF0aC5jZWlsKHByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICAvLyBiYXNlIHZhbHVlc1xuICAgIGxldCBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgPSBwcmV2aW91c0NyYWRsZVJvd09mZnNldCArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0XG4gICAgbGV0IG5ld0F4aXNSZWZlcmVuY2VSb3dPZmZzZXQgPSBwcmV2aW91c0F4aXNSb3dPZmZzZXQgKyBheGlzUmVmZXJlbmNlUm93c2hpZnRcblxuICAgIC8vIC0tLS0tLS0tWyA2LiBhZGp1c3QgY3JhZGxlIGNvbnRlbnRzIGZvciBzdGFydCBhbmQgZW5kIG9mIGxpc3QgXS0tLS0tLS1cbiAgICAvLyAuLi50byBtYWludGFpbiBjb25zdGFudCBudW1iZXIgb2YgY3JhZGxlIHJvd3NcblxuICAgIGNvbnN0IGxpc3RFbmRyb3dPZmZzZXQgPSAobGlzdFJvd2NvdW50IC0gMSlcblxuICAgIGlmIChpc1Njcm9sbGluZ1ZpZXdwb3J0Rm9yd2FyZCkge1xuXG4gICAgICAgIC8vIGEuIGlmIHNjcm9sbGluZyBmb3J3YXJkIG5lYXIgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LCBuZXcgY3JhZGxlIHJvdyBvZmZzZXQgYW5kXG4gICAgICAgIC8vIGNyYWRsZSByb3cgc2hpZnQgY291bnQgaGFzIHRvIGJlIGFkanVzdGVkIHRvIGFjY29tbW9kYXRlIHRoZSBsZWFkaW5nIHJ1bndheVxuICAgICAgICAvLyBiLiBpZiBzY3JvbGxpbmcgZm9yd2FyZCAodG93YXJkIHRhaWwgb2YgbGlzdCksIGFzIHRoZSBjcmFkbGUgbGFzdCByb3cgb2Zmc2V0IGFwcHJvYWNoZXMgXG4gICAgICAgIC8vIGxpc3Ryb3cgbmV3IGNyYWRsZSBvZmZzZXQgYW5kIGNyYWRsZSByb3cgc2hpZnQgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IHNob3J0ZW5pbmcgXG4gICAgICAgIC8vIG9mIGNyYWRsZSBjb250ZW50LlxuXG4gICAgICAgIGNvbnN0IHRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldCA9IFxuICAgICAgICAgICAgTWF0aC5tYXgoMCwgXG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0IC0gXG4gICAgICAgICAgICAgICAgICAgICAgICBydW53YXlSb3djb3VudCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgKHJ1bndheVJvd2NvdW50Py0xOjApIC8vIG9uZSByb3cgaXMgdmlzaWJsZSwgbm90IHJ1bndheVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICBjb25zdCBoZWFkcm93RGlmZiA9IG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtIHRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldFxuICAgICAgICBpZiAoaGVhZHJvd0RpZmYgPiAwKSB7XG5cbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtPSBoZWFkcm93RGlmZlxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgLT0gaGVhZHJvd0RpZmZcblxuICAgICAgICB9XG4gICAgICAgIC8vIGNhc2Ugb2YgYmVpbmcgaW4gYm91bmRzIG9mIHRyYWlsaW5nIHJ1bndheSAoZW5kIG9mIGxpc3QpXG4gICAgICAgIGNvbnN0IHRhcmdldENyYWRsZUVuZHJvd09mZnNldCA9IG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtIDEpXG4gICAgICAgIGNvbnN0IHRhaWxyb3dkaWZmID0gTWF0aC5tYXgoMCx0YXJnZXRDcmFkbGVFbmRyb3dPZmZzZXQgLSBsaXN0RW5kcm93T2Zmc2V0KVxuICAgICAgICBpZiAodGFpbHJvd2RpZmYgPiAwKSB7XG5cbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCAtPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgLT0gdGFpbHJvd2RpZmZcblxuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy8gIWlzU2Nyb2xsaW5nVmlld3BvcnRGb3J3YXJkID0gc2Nyb2xsIGJhY2t3YXJkXG5cbiAgICAgICAgLy8gYy4gaWYgc2Nyb2xsaW5nIGJhY2t3YXJkICh0b3dhcmQgaGVhZCBvZiBsaXN0KSwgYXMgdGhlIGNyYWRsZXJvd29mZnNldCBoaXRzIDAsIGNyYWRsZSBjaGFuZ2VzIGhhdmVcbiAgICAgICAgLy8gdG8gYmUgYWRqdXN0ZWQgdG8gcHJldmVudCBzaG9ydGVuaW5nIG9mIGNyYWRsZSBjb250ZW50XG4gICAgICAgIC8vIGQuIGlmIHNjcm9sbGluZyBiYWNrd2FyZCBuZWFyIHRoZSBlbmQgb2YgdGhlIGxpc3QsIGNyYWRsZSBjaGFuZ2VzIGhhcyB0byBiZSBhZGp1c3RlZCB0byBhY2NvbW9kYXRlXG4gICAgICAgIC8vIHRoZSB0cmFpbGluZyBydW53YXlcblxuICAgICAgICBpZiAobmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0IDwgMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXRcbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCA9IDBcblxuICAgICAgICB9XG4gICAgICAgIC8vIGNhc2Ugb2YgaW4gYm91bmRzIG9mIHRyYWlsaW5nIHJ1bndheSAoZW5kIG9mIGxpc3QpXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkTmV4dENyYWRsZUVuZHJvd09mZnNldCA9IFxuICAgICAgICAgICAgKHByZXZpb3VzQ3JhZGxlUm93T2Zmc2V0ICsgKGNyYWRsZVJvd2NvdW50IC0xKSArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0KVxuICAgICAgICBjb25zdCB0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQgPSBNYXRoLm1pbihsaXN0RW5kcm93T2Zmc2V0LCBcbiAgICAgICAgICAgIChuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0ICsgKHZpZXdwb3J0Um93Y291bnQgLSAxKSArIChydW53YXlSb3djb3VudCAtIDEpKSlcbiAgICAgICAgY29uc3QgdGFpbHJvd2RpZmYgPSBNYXRoLm1heCgwLCB0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQgLSBjb21wdXRlZE5leHRDcmFkbGVFbmRyb3dPZmZzZXQpXG5cbiAgICAgICAgaWYgKHRhaWxyb3dkaWZmID4gMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCArPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0ICs9IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNy4gbWFwIHJvd3MgdG8gaXRlbSByZWZlcmVuY2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgKiBjcm9zc2NvdW50KVxuICAgIGNvbnN0IGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCA9IChjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAqIGNyb3NzY291bnQpXG5cbiAgICBjb25zdCBuZXdBeGlzUmVmZXJlbmNlSW5kZXggPSBuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0ICogY3Jvc3Njb3VudFxuICAgIGNvbnN0IGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQgPSBheGlzUmVmZXJlbmNlUm93c2hpZnQgKiBjcm9zc2NvdW50XG5cbiAgICBsZXQgbmV3Q3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50IC8vIGJhc2UgY291bnRcbiAgICBjb25zdCBpbmNsdWRlc0xhc3RSb3cgPSAoKG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCArIGNyYWRsZVJvd2NvdW50KSA+PSBsaXN0Um93Y291bnQpXG4gICAgaWYgKGluY2x1ZGVzTGFzdFJvdykge1xuICAgICAgICBjb25zdCBwYXJ0aWFsc3BhY2VzID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGNvbnN0IGl0ZW1zU2hvcnRmYWxsID0gXG4gICAgICAgICAgICAocGFydGlhbHNwYWNlcyA9PSAwKT9cbiAgICAgICAgICAgICAgICAwOlxuICAgICAgICAgICAgICAgIGNyb3NzY291bnQgLSBwYXJ0aWFsc3BhY2VzXG4gICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudCAtPSBpdGVtc1Nob3J0ZmFsbFxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBoZWFkIGFuZCB0YWlsIGNoYW5nZSBjb3VudHNcbiAgICBjb25zdCBjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZWNvbnRlbnRsaXN0Lmxlbmd0aCAtIG5ld0NyYWRsZUNvbnRlbnRDb3VudFxuXG4gICAgY29uc3QgbGlzdFN0YXJ0Q2hhbmdlQ291bnQgPSAtKGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdClcbiAgICBjb25zdCBsaXN0RW5kQ2hhbmdlQ291bnQgPSAtbGlzdFN0YXJ0Q2hhbmdlQ291bnQgLSAoY2hhbmdlT2ZDcmFkbGVDb250ZW50Q291bnQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tWyA4LiBjYWxjdWxhdGUgbmV3IGF4aXMgcGl4ZWwgcG9zaXRpb24gXS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgbmV3QXhpc1BpeGVsT2Zmc2V0ID0gdmlld3BvcnRBeGlzT2Zmc2V0ICsgKGF4aXNSZWZlcmVuY2VSb3dzaGlmdCAqIHJvd0xlbmd0aClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgOS4gcmV0dXJuIHJlcXVpcmVkIHZhbHVlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQsIFxuICAgICAgICBuZXdBeGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0LCBcbiAgICAgICAgbmV3QXhpc1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50XG4gICAgfVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PVsgc2hhcmVkIGJ5IGJvdGggc2V0Q3JhZGxlQ29udGVudCBhbmQgdXBkYXRlQ3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT1cblxuLy8gdXBkYXRlIGNvbnRlbnRcbi8vIGFkZHMgaXRlbXNoZWxscyBhdCBlbmQgb2YgY29udGVudGxpc3QgYWNjb3JkaW5nIHRvIGhlYWRpbmRleGNvdW50IGFuZCB0YWlsaW5kZXNjb3VudCxcbi8vIG9yIGlmIGluZGV4Y291bnQgdmFsdWVzIGFyZSA8MCByZW1vdmVzIHRoZW0uXG5leHBvcnQgY29uc3QgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCA9ICh7IFxuXG4gICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsIFxuICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsIFxuICAgICAgICB3b3JraW5nQ29udGVudExpc3Q6Y29udGVudGxpc3QsXG4gICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IGxvY2FsQ29udGVudGxpc3QgPSBbLi4uY29udGVudGxpc3RdXG4gICAgY29uc3QgbGFzdGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBsb2NhbENvbnRlbnRsaXN0Lmxlbmd0aCAtIDFcblxuICAgIGNvbnN0IGhlYWRDb250ZW50bGlzdCA9IFtdLCB0YWlsQ29udGVudGxpc3QgPSBbXVxuXG4gICAgbGV0IGRlbGV0ZWR0YWlsaXRlbXMgPSBbXSwgZGVsZXRlZGhlYWRpdGVtcyA9IFtdXG5cbiAgICBpZiAobGlzdFN0YXJ0Q2hhbmdlQ291bnQgPj0gMCkgeyAvLyBhY3F1aXJlIG5ldyBpdGVtc1xuXG4gICAgICAgIGZvciAobGV0IG5ld2luZGV4ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggLSBsaXN0U3RhcnRDaGFuZ2VDb3VudDsgbmV3aW5kZXggPCAoY3JhZGxlUmVmZXJlbmNlSW5kZXgpOyBuZXdpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIGhlYWRDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGNyZWF0ZUNlbGwoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Om5ld2luZGV4LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGRlbGV0ZWRoZWFkaXRlbXMgPSBsb2NhbENvbnRlbnRsaXN0LnNwbGljZSggMCwgLWxpc3RTdGFydENoYW5nZUNvdW50IClcblxuICAgIH1cblxuICAgIGlmIChsaXN0RW5kQ2hhbmdlQ291bnQgPj0gMCkgeyAvLyBhY3F1aXJlIG5ldyBpdGVtc1xuXG4gICAgICAgIGZvciAobGV0IG5ld2luZGV4ID0gbGFzdGluZGV4b2Zmc2V0ICsgMTsgbmV3aW5kZXggPCAobGFzdGluZGV4b2Zmc2V0ICsgMSArIGxpc3RFbmRDaGFuZ2VDb3VudCk7IG5ld2luZGV4KyspIHtcblxuICAgICAgICAgICAgdGFpbENvbnRlbnRsaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2VsbChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6bmV3aW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZGVsZXRlZHRhaWxpdGVtcyA9IGxvY2FsQ29udGVudGxpc3Quc3BsaWNlKGxpc3RFbmRDaGFuZ2VDb3VudCwtbGlzdEVuZENoYW5nZUNvdW50KVxuXG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlZEl0ZW1zID0gZGVsZXRlZGhlYWRpdGVtcy5jb25jYXQoZGVsZXRlZHRhaWxpdGVtcylcblxuICAgIGNvbnN0IGNvbXBvbmVudExpc3QgPSBoZWFkQ29udGVudGxpc3QuY29uY2F0KGxvY2FsQ29udGVudGxpc3QsdGFpbENvbnRlbnRsaXN0KVxuXG4gICAgcmV0dXJuIFtjb21wb25lbnRMaXN0LGRlbGV0ZWRJdGVtc11cblxufVxuXG4vLyBidXR0ZXJmbHkgbW9kZWwuIExlYWRpbmcgKGhlYWQpIGFsbCBvciBwYXJ0aWFsbHkgaGlkZGVuOyB0YWlsLCB2aXNpYmxlIHBsdXMgZm9sbG93aW5nIGhpZGRlblxuZXhwb3J0IGNvbnN0IGFsbG9jYXRlQ29udGVudExpc3QgPSAoXG4gICAge1xuXG4gICAgICAgIGNvbnRlbnRsaXN0LCAvLyBvZiBjcmFkbGUsIGluIGl0ZW1zIChSZWFjdCBjb21wb25lbnRzKVxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZpcnN0IHRhaWwgaXRlbVxuXG4gICAgfVxuKSA9PiB7XG5cbiAgICBjb25zdCBvZmZzZXRpbmRleCA9IGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCAvLyBUT0RPOiBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAncHJvcHMnIG9mIHVuZGVmaW5lZFxuXG4gICAgY29uc3QgaGVhZGl0ZW1jb3VudCA9IChheGlzUmVmZXJlbmNlSW5kZXggLSBvZmZzZXRpbmRleClcblxuICAgIGNvbnN0IGhlYWRsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoMCxoZWFkaXRlbWNvdW50KVxuICAgIGNvbnN0IHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbaGVhZGxpc3QsdGFpbGxpc3RdXG5cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcnRhbHMgPSAoY2FjaGVIYW5kbGVyLCBkZWxldGVMaXN0LCBjYWNoZURlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgLy8gY29uc29sZS5sb2coJ2luc2lkZSBkZWxldGVQb3J0YWxzJyxkZWxldGVMaXN0KVxuICAgIGNvbnN0IGRsaXN0ID0gZGVsZXRlTGlzdC5tYXAoKGl0ZW0pPT57XG4gICAgICAgIHJldHVybiBpdGVtLnByb3BzLmluZGV4XG4gICAgfSlcbiAgICAvLyBUT0RPIHJldHVybiBsaXN0IG9mIGRlbGV0ZWQgaXRlbXMgdG8gdXNlclxuICAgIGNhY2hlSGFuZGxlci5kZWxldGVQb3J0YWwoZGxpc3QsIGNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuICAgIGlmIChkZWxldGVMaXN0Lmxlbmd0aCkgY2FjaGVIYW5kbGVyLnJlbmRlclBvcnRhbExpc3QoKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT1bIGFjcXVpcmUgaXRlbSBdPT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBjcmVhdGVDZWxsID0gKHtcbiAgICBpbmRleCwgXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgY2FjaGVIYW5kbGVyLFxuXG59KSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2VJRCA9IGluc3RhbmNlSWRDb3VudGVyUmVmLmN1cnJlbnQrK1xuXG4gICAgY29uc3QgeyBcbiAgICAgICAgXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdldEl0ZW0sXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICBzY3JvbGxlcklEIFxuXG4gICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgIGNvbnN0IHsgbGlzdHNpemUgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1xuXG4gICAgY29uc3QgaXRlbUlEID0gY2FjaGVIYW5kbGVyLmdldEl0ZW1JRChpbmRleClcblxuICAgIHJldHVybiA8Q2VsbEZyYW1lIFxuICAgICAgICBrZXkgPSB7IGluc3RhbmNlSUQgfSBcbiAgICAgICAgb3JpZW50YXRpb24gPSB7IG9yaWVudGF0aW9uIH1cbiAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgaW5kZXggPSB7IGluZGV4IH1cbiAgICAgICAgZ2V0SXRlbSA9IHsgZ2V0SXRlbSB9XG4gICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgIHBsYWNlaG9sZGVyID0geyBwbGFjZWhvbGRlciB9XG4gICAgICAgIGl0ZW1JRCA9IHsgaXRlbUlEIH1cbiAgICAgICAgaW5zdGFuY2VJRCA9IHsgaW5zdGFuY2VJRCB9XG4gICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuICAgIC8+XG5cbn1cbiJdLCJuYW1lcyI6WyJnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyIsInJvd0xlbmd0aCIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJ2aWV3cG9ydEVsZW1lbnQiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJnYXAiLCJjcm9zc2NvdW50IiwiY3JhZGxlUm93Y291bnQiLCJydW53YXlSb3djb3VudCIsImxpc3RSb3djb3VudCIsImxpc3RzaXplIiwidmlld3BvcnRWaXNpYmxlUm93Y291bnQiLCJNYXRoIiwibWluIiwidGFyZ2V0QXhpc1Jvd09mZnNldCIsImNlaWwiLCJtYXhBeGlzUm93T2Zmc2V0IiwidGFyZ2V0Q3JhZGxlUm93T2Zmc2V0IiwibWF4IiwidGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IiwibGlzdEVuZFJvd09mZnNldCIsImRpZmYiLCJ0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCIsIm5ld0NyYWRsZUNvbnRlbnRDb3VudCIsImVuZFJvd1JlbWFpbmRlckNvdW50IiwidGFyZ2V0U2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsImV4cG9ydHMiLCJnZXRTaGlmdEluc3RydWN0aW9uIiwiaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJ0cmlnZ2VybGluZUVudHJpZXMiLCJ0cmlnZ2VybGluZVJlY29yZCIsInRyaWdnZXJsaW5lU3BhbiIsInNjcm9sbGVySUQiLCJ3YXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJkcml2ZXIiLCJvZmZzZXQiLCJlbnRyaWVzIiwiZmlsdGVyIiwidHJpZ2dlcmxpbmVuYW1lIiwiZW50cnkiLCJ0YXJnZXQiLCJkYXRhc2V0IiwidHlwZSIsInNjcm9sbGluZ2ZvcndhcmQiLCJyb290cG9zIiwicm9vdEJvdW5kcyIsInkiLCJ4IiwiZW50cnlwb3MiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3cG9ydG9mZnNldCIsImxlbmd0aCIsImNvdW50ZXJlbnRyaWVzIiwiY291bnRlcmVudHJ5IiwicG9wIiwiY291bnRlcnRyaWdnZXJsaW5lbmFtZSIsImltcGxpZWRvZmZzZXQiLCJyZXR2YWwiLCJjYWxjQ29udGVudFNoaWZ0Iiwic2hpZnRpbnN0cnVjdGlvbiIsImNyYWRsZUNvbnRlbnQiLCJjcmFkbGVFbGVtZW50cyIsInNjcm9sbFBvcyIsImlzU2Nyb2xsaW5nVmlld3BvcnRGb3J3YXJkIiwidHJpZ2dlcmxpbmVPZmZzZXQiLCJheGlzRWxlbWVudCIsImF4aXNSZWYiLCJjdXJyZW50IiwiY3JhZGxlY29udGVudGxpc3QiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJ0YWlsY29udGVudGxpc3QiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwidmlld3BvcnRSb3djb3VudCIsImNyYWRsZUF4aXNPZmZzZXQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwidmlld3BvcnRBeGlzT2Zmc2V0IiwidHJpZ2dlckF4aXNPZmZzZXQiLCJ0cmlnZ2VyUm93U2hpZnQiLCJmbG9vciIsImF4aXNSZWZlcmVuY2VSb3dzaGlmdCIsImNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IiwicHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleCIsIl9hIiwicHJvcHMiLCJpbmRleCIsInByZXZpb3VzQ3JhZGxlUm93T2Zmc2V0IiwicHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXgiLCJfYiIsInByZXZpb3VzQXhpc1Jvd09mZnNldCIsIm5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCIsIm5ld0F4aXNSZWZlcmVuY2VSb3dPZmZzZXQiLCJsaXN0RW5kcm93T2Zmc2V0IiwidGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0IiwiaGVhZHJvd0RpZmYiLCJ0YXJnZXRDcmFkbGVFbmRyb3dPZmZzZXQiLCJ0YWlscm93ZGlmZiIsImNvbXB1dGVkTmV4dENyYWRsZUVuZHJvd09mZnNldCIsInRhcmdldGNyYWRsZUVuZHJvd29mZnNldCIsIm5ld0NyYWRsZVJlZmVyZW5jZUluZGV4IiwiY3JhZGxlUmVmZXJlbmNlSXRlbVNoaWZ0IiwibmV3QXhpc1JlZmVyZW5jZUluZGV4IiwiYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdCIsImluY2x1ZGVzTGFzdFJvdyIsInBhcnRpYWxzcGFjZXMiLCJpdGVtc1Nob3J0ZmFsbCIsImNoYW5nZU9mQ3JhZGxlQ29udGVudENvdW50IiwibGlzdFN0YXJ0Q2hhbmdlQ291bnQiLCJsaXN0RW5kQ2hhbmdlQ291bnQiLCJuZXdBeGlzUGl4ZWxPZmZzZXQiLCJnZXRDZWxsRnJhbWVDb21wb25lbnRMaXN0IiwiY2FjaGVIYW5kbGVyIiwiY3JhZGxlQ29udGVudENvdW50IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJjb250ZW50bGlzdCIsIndvcmtpbmdDb250ZW50TGlzdCIsImluc3RhbmNlSWRDb3VudGVyUmVmIiwibG9jYWxDb250ZW50bGlzdCIsImxhc3RpbmRleG9mZnNldCIsImhlYWRDb250ZW50bGlzdCIsInRhaWxDb250ZW50bGlzdCIsImRlbGV0ZWR0YWlsaXRlbXMiLCJkZWxldGVkaGVhZGl0ZW1zIiwibmV3aW5kZXgiLCJwdXNoIiwiY3JlYXRlQ2VsbCIsInNwbGljZSIsImRlbGV0ZWRJdGVtcyIsImNvbmNhdCIsImNvbXBvbmVudExpc3QiLCJhbGxvY2F0ZUNvbnRlbnRMaXN0IiwiYXhpc1JlZmVyZW5jZUluZGV4Iiwib2Zmc2V0aW5kZXgiLCJoZWFkaXRlbWNvdW50IiwiaGVhZGxpc3QiLCJzbGljZSIsInRhaWxsaXN0IiwiZGVsZXRlUG9ydGFscyIsImRlbGV0ZUxpc3QiLCJjYWNoZURlbGV0ZUxpc3RDYWxsYmFjayIsImRsaXN0IiwibWFwIiwiaXRlbSIsImRlbGV0ZVBvcnRhbCIsInJlbmRlclBvcnRhbExpc3QiLCJpbnN0YW5jZUlEIiwiZ2V0SXRlbSIsInBsYWNlaG9sZGVyIiwiaXRlbUlEIiwiZ2V0SXRlbUlEIiwicmVhY3RfMSIsIkNlbGxGcmFtZV8xIiwia2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n");

/***/ }),

/***/ "./src/cradle/contenthandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/contenthandler.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // contenthandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ \"./src/cradle/contentfunctions.tsx\");\n\nvar ContentHandler = /*#__PURE__*/function () {\n  function ContentHandler(cradleParameters) {\n    var _this = this;\n\n    _classCallCheck(this, ContentHandler);\n\n    this.content = {\n      cradleModelComponents: null,\n      headModelComponents: null,\n      tailModelComponents: null,\n      // the following two only used in cradle for render\n      headDisplayComponents: [],\n      tailDisplayComponents: []\n    };\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    this.instanceIdMap = new Map(); // Two public methods - setCradleContent and updateCradleContent\n    // reset cradle, including allocation between head and tail parts of the cradle\n    // called only from cradle state handler\n    // ==========================[ SET CONTENT ]===========================\n    //initially (dosetup), after reposition (doreposition), or with finishresize, pivot, \n    // or user size param reconfigure or reload\n    // setCradleContent sets the scrollblock's scroll position, as well as config and content\n\n    this.setCradleContent = function (cradleState) {\n      // ------------------------------[ 1. initialize ]---------------------------\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var cradleHandlers = _this.cradleParameters.handlersRef.current;\n      var cacheHandler = cradleHandlers.cacheHandler,\n          scaffoldHandler = cradleHandlers.scaffoldHandler,\n          serviceHandler = cradleHandlers.serviceHandler,\n          interruptHandler = cradleHandlers.interruptHandler; // the triggerlines and cradle wings will be moved, so disconnect them from their observers.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.cradleIntersect.observer.disconnect();\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      var viewportElement = viewportInterruptProperties.elementRef.current;\n      var requestedAxisReferenceIndex = cradlePositionData.targetAxisReferenceIndex;\n      var targetAxisPixelOffset = cradlePositionData.targetAxisPixelOffset;\n      var orientation = cradleInheritedProperties.orientation,\n          gap = cradleInheritedProperties.gap,\n          padding = cradleInheritedProperties.padding,\n          cellHeight = cradleInheritedProperties.cellHeight,\n          cellWidth = cradleInheritedProperties.cellWidth,\n          cache = cradleInheritedProperties.cache;\n      var crosscount = cradleInternalProperties.crosscount,\n          listsize = cradleInternalProperties.listsize;\n      var workingAxisReferenceIndex = Math.min(requestedAxisReferenceIndex, listsize - 1);\n      workingAxisReferenceIndex -= workingAxisReferenceIndex % crosscount; // console.log('cradleState in setCradleContent; workingAxisReferenceIndex',\n      //     cradleState, workingAxisReferenceIndex)\n\n      if (cradleState == 'doreposition' || cradleState == 'reconfigure') {\n        targetAxisPixelOffset = workingAxisReferenceIndex == 0 ? padding : gap; // default\n      } // console.log('cradleState in setCradleContent; workingAxisReferenceIndex, targetAxisPixelOffset',\n      //     cradleState, workingAxisReferenceIndex, targetAxisPixelOffset)\n\n\n      var workingContentList = [];\n      var cradleContent = _this.content; // ----------------------[ 2. get content requirements ]----------------------\n\n      var isVertical = orientation == 'vertical';\n      var rowLength = isVertical ? cellHeight + gap : cellWidth + gap;\n\n      var _ref = (0, contentfunctions_1.getContentListRequirements)({\n        rowLength: rowLength,\n        targetAxisReferenceIndex: requestedAxisReferenceIndex,\n        targetAxisPixelOffset: targetAxisPixelOffset,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        viewportElement: viewportInterruptProperties.elementRef.current\n      }),\n          targetCradleReferenceIndex = _ref.targetCradleReferenceIndex,\n          targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n          targetAxisRowOffset = _ref.targetAxisRowOffset,\n          cradleContentCount = _ref.newCradleContentCount,\n          scrollblockPixelOffset = _ref.targetScrollblockPixelOffset;\n\n      var scrollPosAdjustment;\n\n      if (targetAxisReferenceIndex == 0) {\n        scrollPosAdjustment = 0; // } else if (cradleState == 'doreposition') {\n        //     scrollPosAdjustment = padding //+ gap\n      } else {\n        scrollPosAdjustment = padding;\n      }\n\n      var axisPixelOffset = targetAxisPixelOffset; // ----------------------[ 3. get and config content ]----------------------\n      // returns content constrained by cradleRowcount\n\n      var _ref2 = (0, contentfunctions_1.getCellFrameComponentList)({\n        cacheHandler: cacheHandler,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        cradleContentCount: cradleContentCount,\n        cradleReferenceIndex: targetCradleReferenceIndex,\n        listStartChangeCount: 0,\n        listEndChangeCount: cradleContentCount,\n        workingContentList: workingContentList,\n        instanceIdCounterRef: _this.instanceIdCounterRef\n      }),\n          _ref3 = _slicedToArray(_ref2, 2),\n          newcontentlist = _ref3[0],\n          deleteditems = _ref3[1]; // if (deleteditems.length && (cache == 'cradle')) {\n      //     deletePortals(cacheHandler, deleteditems)\n      // }\n\n\n      var _ref4 = (0, contentfunctions_1.allocateContentList)({\n        contentlist: newcontentlist,\n        axisReferenceIndex: targetAxisReferenceIndex\n      }),\n          _ref5 = _slicedToArray(_ref4, 2),\n          headcontentlist = _ref5[0],\n          tailcontentlist = _ref5[1];\n\n      cradleContent.cradleModelComponents = newcontentlist;\n      cradleContent.headModelComponents = headcontentlist;\n      cradleContent.tailModelComponents = tailcontentlist;\n      cradlePositionData.targetAxisReferenceIndex = targetAxisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = cradleState;\n        serviceHandler.callbacks.referenceIndexCallback(cradlePositionData.targetAxisReferenceIndex, 'setCradleContent', cstate);\n      } //  ----------------------[ 4. set CSS ]-----------------------\n\n\n      cradlePositionData.blockScrollPos = scrollblockPixelOffset + scrollPosAdjustment; // console.log('setting SCROLLPOS in setCradleContent', '-'+cradleInheritedProperties.scrollerID+'-', cradlePositionData.blockScrollPos)\n\n      viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n      var cradleElements = scaffoldHandler.elements; //cradleElementsRef.current\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (orientation == 'vertical') {\n        var top = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.top = top + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontentlist.length ? gap + 'px' : 0;\n      } else {\n        // orientation = 'horizontal'\n        axisElement.style.top = 'auto';\n        var left = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.left = left + 'px';\n        headElement.style.paddingRight = headcontentlist.length ? gap + 'px' : 0;\n      } //  ----------------------[ 5. reset interrupts ]-----------------------\n\n\n      interruptHandler.axisTriggerlinesIntersect.connectElements();\n      interruptHandler.cradleIntersect.connectElements();\n      interruptHandler.signals.pauseTriggerlinesObserver = false; // interruptHandler.signals.pauseCradleIntersectionObserver = false\n    }; // ==================[ UPDATE CONTENT through scroll ]========================\n    // updateCradleContent does not touch the viewport element's scroll position for the scrollblock\n    // instead it reconfigures elements within the cradle\n\n\n    this.updateCradleContent = function (isViewportScrollingForward, triggerlineEntries) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'notifications';\n\n      // ----------------------[ 1. initialize ]-------------------------\n      var _a; // handler support\n\n\n      var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n          cacheHandler = _this$cradleParameter.cacheHandler,\n          scrollHandler = _this$cradleParameter.scrollHandler,\n          scaffoldHandler = _this$cradleParameter.scaffoldHandler,\n          stateHandler = _this$cradleParameter.stateHandler,\n          interruptHandler = _this$cradleParameter.interruptHandler,\n          serviceHandler = _this$cradleParameter.serviceHandler; // scroll data\n\n      var scrollData = scrollHandler.scrollData;\n      var scrollPos = scrollData.currentupdate; // console.log('updateCradleContent with scrollPos, blockScrollPos, source', \n      //     scrollPos, scaffoldHandler.cradlePositionData.blockScrollPos, source)\n      // first abandon option/3; nothing to do\n\n      if (scrollPos < 0) {\n        // for Safari, FF elastic bounce at top of scroll\n        return;\n      } // cradle scaffold and user cells\n\n\n      var cradleElements = scaffoldHandler.elements;\n      var cradleContent = _this.content;\n      var modelcontentlist = cradleContent.cradleModelComponents;\n      var oldCradleReferenceIndex = ((_a = modelcontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0; // --------------------[ 2. get shift instruction ]-----------------------\n\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var orientation = cradleInheritedProperties.orientation,\n          cache = cradleInheritedProperties.cache; // -1 is move a row up to the head, +1 is move a row down to the tail, 0 is no shift\n\n      var triggerlineRecord = cradleInternalProperties.triggerlineRecordsRef.current;\n      var shiftinstruction = (0, contentfunctions_1.getShiftInstruction)({\n        scrollerID: cradleInheritedProperties.scrollerID,\n        isViewportScrollingForward: isViewportScrollingForward,\n        orientation: orientation,\n        triggerlineEntries: triggerlineEntries,\n        triggerlineRecord: triggerlineRecord,\n        triggerlineSpan: scaffoldHandler.triggerlineSpan\n      }); // console.log('scrollerID, shiftinstruction',\n      //     '-'+cradleInheritedProperties.scrollerID+'-', shiftinstruction)\n      // second abandon option/3; nothing to do\n\n      if (shiftinstruction == 0) {\n        // console.log('triggerlineRecord',triggerlineRecord)\n        return;\n      } // --------------------------------[ 3. Calculate shifts ]-------------------------------\n      // cradle properties\n      // const cradleInheritedProperties = this.cradleParameters.cradleInheritedPropertiesRef.current\n      // const viewportElement = this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current\n\n\n      var _ref6 = (0, contentfunctions_1.calcContentShift)({\n        shiftinstruction: shiftinstruction,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        cradleContent: cradleContent,\n        cradleElements: cradleElements,\n        scrollPos: scrollPos\n      }),\n          newCradleReferenceIndex = _ref6.newCradleReferenceIndex,\n          cradleItemShift = _ref6.cradleReferenceItemShift,\n          axisReferenceIndex = _ref6.newAxisReferenceIndex,\n          axisItemShift = _ref6.axisReferenceItemShift,\n          axisPixelOffset = _ref6.newAxisPixelOffset,\n          cradleContentCount = _ref6.newCradleContentCount,\n          listStartChangeCount = _ref6.listStartChangeCount,\n          listEndChangeCount = _ref6.listEndChangeCount; // third abandon option/3; nothing to do\n\n\n      if (axisItemShift == 0 && cradleItemShift == 0) {\n        // TODO: is this possible?\n        return;\n      } // the triggerlines will be moved, so disconnect them from their observer.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.signals.pauseTriggerlinesObserver = true; // ----------------------------------[ 4. reconfigure cradle content ]--------------------------\n      // collect modified content\n\n      var updatedContentList,\n          deletedContentItems = [];\n\n      if (listStartChangeCount || listEndChangeCount) {\n        // if either is non-0 then modify content\n        var _ref7 = (0, contentfunctions_1.getCellFrameComponentList)({\n          cacheHandler: cacheHandler,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          workingContentList: modelcontentlist,\n          listStartChangeCount: listStartChangeCount,\n          listEndChangeCount: listEndChangeCount,\n          cradleReferenceIndex: oldCradleReferenceIndex,\n          instanceIdCounterRef: _this.instanceIdCounterRef\n        });\n\n        var _ref8 = _slicedToArray(_ref7, 2);\n\n        updatedContentList = _ref8[0];\n        deletedContentItems = _ref8[1];\n      } else {\n        updatedContentList = modelcontentlist;\n      }\n\n      if (deletedContentItems.length && cache == 'cradle') {\n        (0, contentfunctions_1.deletePortals)(cacheHandler, deletedContentItems, serviceHandler.callbacks.cacheDeleteListCallback);\n      } // ----------------------------------[ 5. allocate cradle content ]--------------------------\n\n\n      var _ref9 = (0, contentfunctions_1.allocateContentList)({\n        contentlist: updatedContentList,\n        axisReferenceIndex: axisReferenceIndex\n      }),\n          _ref10 = _slicedToArray(_ref9, 2),\n          headcontent = _ref10[0],\n          tailcontent = _ref10[1];\n\n      cradleContent.cradleModelComponents = updatedContentList;\n      cradleContent.headModelComponents = headcontent;\n      cradleContent.tailModelComponents = tailcontent;\n\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = stateHandler.cradleStateRef.current;\n        serviceHandler.callbacks.referenceIndexCallback(scaffoldHandler.cradlePositionData.targetAxisReferenceIndex, 'updateCradleContent', cstate);\n      } // -------------------------------[ 6. set css changes ]-------------------------\n\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (cradleInheritedProperties.orientation == 'vertical') {\n        var topPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = topPos + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      } else {\n        // 'horizontal'\n        var leftPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = 'auto';\n        axisElement.style.left = leftPos + 'px';\n        headElement.style.paddingRight = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      }\n\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n      stateHandler.setCradleState('renderupdatedcontent');\n    };\n\n    this.guardAgainstRunawayCaching = function () {\n      var cacheMax = _this.cradleParameters.cradleInheritedPropertiesRef.current.cacheMax;\n      var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n          contentHandler = _this$cradleParameter2.contentHandler,\n          cacheHandler = _this$cradleParameter2.cacheHandler;\n      var modelComponentList = contentHandler.content.cradleModelComponents;\n\n      if (cacheHandler.guardAgainstRunawayCaching(cacheMax, modelComponentList.length)) {\n        _this.pareCacheToMax();\n      }\n    };\n\n    this.pareCacheToMax = function () {\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n\n      if (cradleInheritedProperties.cache == 'keepload') {\n        var cradleHandlers = _this.cradleParameters.handlersRef.current;\n        var cacheHandler = cradleHandlers.cacheHandler,\n            serviceHandler = cradleHandlers.serviceHandler;\n\n        var modelIndexList = _this.getModelIndexList();\n\n        var paring = cacheHandler.pareCacheToMax(cradleInheritedProperties.cacheMax, modelIndexList, serviceHandler.callbacks.cacheDeleteListCallback);\n        if (paring) cacheHandler.renderPortalList();\n      }\n    }; // ==========================[ SERVICE SUPPORT ]=======================\n\n\n    this.clearCache = function () {\n      var cradleContent = _this.content;\n      var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n      cradleContent.headModelComponents = [];\n      cradleContent.tailModelComponents = []; // register new array id for Object.is to trigger react re-processing\n\n      cradleContent.headDisplayComponents = [];\n      cradleContent.tailDisplayComponents = [];\n      cacheHandler.clearCache();\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  _createClass(ContentHandler, [{\n    key: \"getModelIndexList\",\n    value: function getModelIndexList() {\n      var cradleModelComponents = this.content.cradleModelComponents;\n\n      if (!cradleModelComponents) {\n        return [];\n      } else {\n        return cradleModelComponents.map(function (item) {\n          return item.props.index;\n        });\n      }\n    }\n  }, {\n    key: \"updateCellFrames\",\n    value: function updateCellFrames(modifiedCellFrameMap) {\n      // console.log('contentHandler got modifiedCellFrameMap',modifiedCellFrameMap)\n      if (!modifiedCellFrameMap.size) return;\n      var stateHandler = this.cradleParameters.handlersRef.current.stateHandler;\n      var _this$content = this.content,\n          cradleModelComponents = _this$content.cradleModelComponents,\n          headModelComponents = _this$content.headModelComponents,\n          tailModelComponents = _this$content.tailModelComponents,\n          headDisplayComponents = _this$content.headDisplayComponents,\n          tailDisplayComponents = _this$content.tailDisplayComponents;\n\n      function processComponent(component, i, array) {\n        var instanceID = component.props.instanceID;\n\n        if (modifiedCellFrameMap.has(instanceID)) {\n          array[i] = modifiedCellFrameMap.get(instanceID);\n        }\n      }\n\n      cradleModelComponents.forEach(processComponent);\n      headModelComponents.forEach(processComponent);\n      tailModelComponents.forEach(processComponent);\n      this.content.headDisplayComponents = headModelComponents;\n      this.content.tailDisplayComponents = tailModelComponents;\n      stateHandler.setCradleState('applycellframechanges');\n    }\n  }, {\n    key: \"changeCradleItemIDs\",\n    value: function changeCradleItemIDs(changeList) {\n      if (changeList.length == 0) return;\n      var cacheHandler = this.cradleParameters.handlersRef.current.cacheHandler;\n      var _cacheHandler$cachePr = cacheHandler.cacheProps,\n          indexToItemIDMap = _cacheHandler$cachePr.indexToItemIDMap,\n          metadataMap = _cacheHandler$cachePr.metadataMap; // console.log('==> changeCradleItemIDs: changeList, indexToItemIDMap, metadataMap', \n      //     changeList, indexToItemIDMap, metadataMap)\n\n      var _this$content2 = this.content,\n          cradleModelComponents = _this$content2.cradleModelComponents,\n          headModelComponents = _this$content2.headModelComponents,\n          tailModelComponents = _this$content2.tailModelComponents;\n\n      function processcomponent(component, i, array) {\n        var index = component.props.index;\n        var ptr = changeList.indexOf(index); // console.log('processing array index, cache index, change position', \n        //     i, index, ptr)\n\n        if (ptr != -1) {\n          var itemID = indexToItemIDMap.get(index); // console.log('new itemID, old itemID', itemID, component.props.itemID )\n\n          array[i] = react_1[\"default\"].cloneElement(component, {\n            itemID: itemID\n          });\n        }\n      }\n\n      cradleModelComponents.forEach(processcomponent);\n      headModelComponents.forEach(processcomponent);\n      tailModelComponents.forEach(processcomponent);\n      this.content.headDisplayComponents = headModelComponents;\n      this.content.tailDisplayComponents = tailModelComponents;\n    }\n  }, {\n    key: \"createNewItemIDs\",\n    value: function createNewItemIDs(newList) {\n      var cacheHandler = this.cradleParameters.handlersRef.current.cacheHandler;\n      var _this$content3 = this.content,\n          cradleModelComponents = _this$content3.cradleModelComponents,\n          headModelComponents = _this$content3.headModelComponents,\n          tailModelComponents = _this$content3.tailModelComponents;\n\n      function processcomponent(component, i, array) {\n        var index = component.props.index;\n        var ptr = newList.indexOf(index);\n\n        if (ptr != -1) {\n          var newItemID = cacheHandler.getNewItemID();\n          array[i] = react_1[\"default\"].cloneElement(component, {\n            newItemID: newItemID\n          });\n        }\n      }\n\n      cradleModelComponents.forEach(processcomponent);\n      headModelComponents.forEach(processcomponent);\n      tailModelComponents.forEach(processcomponent);\n      this.content.headDisplayComponents = headModelComponents;\n      this.content.tailDisplayComponents = tailModelComponents;\n    }\n  }]);\n\n  return ContentHandler;\n}();\n\nexports[\"default\"] = ContentHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQTs7SUFVcUJBLGM7RUFFbEIsd0JBQVlDLGdCQUFaLEVBQTRCO0lBQUE7O0lBQUE7O0lBTXJCLGVBQVU7TUFFZEMscUJBQXFCLEVBQUUsSUFGVDtNQUdkQyxtQkFBbUIsRUFBRSxJQUhQO01BSWRDLG1CQUFtQixFQUFFLElBSlA7TUFLZDtNQUNBQyxxQkFBcUIsRUFBRSxFQU5UO01BT2RDLHFCQUFxQixFQUFFO0lBUFQsQ0FBVjtJQWVFLDRCQUF1QjtNQUM1QkMsT0FBTyxFQUFDO0lBRG9CLENBQXZCO0lBR0EscUJBQWdCLElBQUlDLEdBQUosRUFBaEIsQ0F4Qm1CLENBMEIzQjtJQUVBO0lBQ0E7SUFFQTtJQUNDO0lBQ0E7SUFDQTs7SUFDTSx3QkFBbUIsVUFBQ0MsV0FBRCxFQUFnQjtNQUV0QztNQUVBLElBQU1DLDJCQUEyQixHQUFHLEtBQUksQ0FBQ1QsZ0JBQUwsQ0FBc0JVLDhCQUF0QixDQUFxREosT0FBekY7TUFDQSxJQUFNSyx5QkFBeUIsR0FBRyxLQUFJLENBQUNYLGdCQUFMLENBQXNCWSw0QkFBdEIsQ0FBbUROLE9BQXJGO01BQ0EsSUFBTU8sd0JBQXdCLEdBQUcsS0FBSSxDQUFDYixnQkFBTCxDQUFzQmMsMkJBQXRCLENBQWtEUixPQUFuRjtNQUNBLElBQU1TLGNBQWMsR0FBRyxLQUFJLENBQUNmLGdCQUFMLENBQXNCZ0IsV0FBdEIsQ0FBa0NWLE9BQXpEO01BRUEsSUFFSVcsWUFGSixHQU9JRixjQVBKLENBRUlFLFlBRko7TUFBQSxJQUdJQyxlQUhKLEdBT0lILGNBUEosQ0FHSUcsZUFISjtNQUFBLElBSUlDLGNBSkosR0FPSUosY0FQSixDQUlJSSxjQUpKO01BQUEsSUFLSUMsZ0JBTEosR0FPSUwsY0FQSixDQUtJSyxnQkFMSixDQVRzQyxDQWtCdEM7TUFDQTs7TUFDQUEsZ0JB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cEIsQ0FBNEJLLGdCQUE1QjtNQUVBLEtBQUtyRyxPQUFMLENBQWF4QyxxQkFBYixHQUFxQ0YsbUJBQXJDO01BQ0EsS0FBSzBDLE9BQUwsQ0FBYXZDLHFCQUFiLEdBQXFDRixtQkFBckM7SUFFSDs7Ozs7O0FBamxCTHVKLGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeD9hODlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnRlbnRoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgXG4gICAgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCwgXG4gICAgY2FsY0NvbnRlbnRTaGlmdCxcbiAgICBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyxcbiAgICBnZXRTaGlmdEluc3RydWN0aW9uLFxuICAgIGFsbG9jYXRlQ29udGVudExpc3QsXG4gICAgZGVsZXRlUG9ydGFscyxcblxufSBmcm9tICcuL2NvbnRlbnRmdW5jdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRlbnRIYW5kbGVyIHtcblxuICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgIH1cblxuICAgcHVibGljIGNvbnRlbnQgPSB7XG5cbiAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50czogbnVsbCxcbiAgICAgIGhlYWRNb2RlbENvbXBvbmVudHM6IG51bGwsXG4gICAgICB0YWlsTW9kZWxDb21wb25lbnRzOiBudWxsLFxuICAgICAgLy8gdGhlIGZvbGxvd2luZyB0d28gb25seSB1c2VkIGluIGNyYWRsZSBmb3IgcmVuZGVyXG4gICAgICBoZWFkRGlzcGxheUNvbXBvbmVudHM6IFtdLFxuICAgICAgdGFpbERpc3BsYXlDb21wb25lbnRzOiBbXSxcblxuICAgIH1cblxuICAgIC8vIHB1YmxpYyBpdGVtRWxlbWVudHMgPSBuZXcgTWFwKClcblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHJpdmF0ZSBpbnN0YW5jZUlkQ291bnRlclJlZiA9IHtcbiAgICAgICBjdXJyZW50OjBcbiAgICB9XG4gICAgcHJpdmF0ZSBpbnN0YW5jZUlkTWFwID0gbmV3IE1hcCgpXG5cbiAgICAvLyBUd28gcHVibGljIG1ldGhvZHMgLSBzZXRDcmFkbGVDb250ZW50IGFuZCB1cGRhdGVDcmFkbGVDb250ZW50XG5cbiAgICAvLyByZXNldCBjcmFkbGUsIGluY2x1ZGluZyBhbGxvY2F0aW9uIGJldHdlZW4gaGVhZCBhbmQgdGFpbCBwYXJ0cyBvZiB0aGUgY3JhZGxlXG4gICAgLy8gY2FsbGVkIG9ubHkgZnJvbSBjcmFkbGUgc3RhdGUgaGFuZGxlclxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFNFVCBDT05URU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgLy9pbml0aWFsbHkgKGRvc2V0dXApLCBhZnRlciByZXBvc2l0aW9uIChkb3JlcG9zaXRpb24pLCBvciB3aXRoIGZpbmlzaHJlc2l6ZSwgcGl2b3QsIFxuICAgICAvLyBvciB1c2VyIHNpemUgcGFyYW0gcmVjb25maWd1cmUgb3IgcmVsb2FkXG4gICAgIC8vIHNldENyYWRsZUNvbnRlbnQgc2V0cyB0aGUgc2Nyb2xsYmxvY2sncyBzY3JvbGwgcG9zaXRpb24sIGFzIHdlbGwgYXMgY29uZmlnIGFuZCBjb250ZW50XG4gICAgcHVibGljIHNldENyYWRsZUNvbnRlbnQgPSAoY3JhZGxlU3RhdGUpID0+IHsgXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUhhbmRsZXJzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7XG5cbiAgICAgICAgICAgIGNhY2hlSGFuZGxlcixcbiAgICAgICAgICAgIHNjYWZmb2xkSGFuZGxlcixcbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLFxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcblxuICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnNcblxuICAgICAgICAvLyB0aGUgdHJpZ2dlcmxpbmVzIGFuZCBjcmFkbGUgd2luZ3Mgd2lsbCBiZSBtb3ZlZCwgc28gZGlzY29ubmVjdCB0aGVtIGZyb20gdGhlaXIgb2JzZXJ2ZXJzLlxuICAgICAgICAvLyB0aGV5IGFyZSByZWNvbm5lY3RlZCB3aXRoICdyZW5kZXJ1cGRhdGVkY29udGVudCcgc3RhdGUgaW4gY3JhZGxlLnRzeFxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgbGV0IHRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXRcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICBnYXAsIFxuICAgICAgICAgICAgcGFkZGluZywgXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgY29uc3Qge2Nyb3NzY291bnQsIGxpc3RzaXplfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1xuXG4gICAgICAgIGxldCB3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5taW4ocmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4LGxpc3RzaXplIC0gMSlcbiAgICAgICAgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAtPSAod29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnQpXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyYWRsZVN0YXRlIGluIHNldENyYWRsZUNvbnRlbnQ7IHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgnLFxuICAgICAgICAvLyAgICAgY3JhZGxlU3RhdGUsIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgpXG5cbiAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlY29uZmlndXJlJykgIHtcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgKHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggPT0gMCk/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6XG4gICAgICAgICAgICAgICAgICAgIGdhcCAvLyBkZWZhdWx0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmFkbGVTdGF0ZSBpbiBzZXRDcmFkbGVDb250ZW50OyB3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4LCB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQnLFxuICAgICAgICAvLyAgICAgY3JhZGxlU3RhdGUsIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgsIHRhcmdldEF4aXNQaXhlbE9mZnNldClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdvcmtpbmdDb250ZW50TGlzdCA9IFtdXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBnZXQgY29udGVudCByZXF1aXJlbWVudHMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpXG4gICAgICAgIGNvbnN0IHJvd0xlbmd0aCA9IFxuICAgICAgICAgICAgaXNWZXJ0aWNhbD9cbiAgICAgICAgICAgICAgICAoY2VsbEhlaWdodCArIGdhcCk6XG4gICAgICAgICAgICAgICAgKGNlbGxXaWR0aCArIGdhcClcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCwgXG4gICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICB0YXJnZXRBeGlzUm93T2Zmc2V0LFxuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50OmNyYWRsZUNvbnRlbnRDb3VudCwgXG4gICAgICAgICAgICB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0OnNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQsXG4gICAgICAgIH0gPSBcbiAgICAgICAgICAgIGdldENvbnRlbnRMaXN0UmVxdWlyZW1lbnRzKHtcbiAgICAgICAgICAgICAgICByb3dMZW5ndGgsXG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4OnJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50OnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBzY3JvbGxQb3NBZGp1c3RtZW50XG4gICAgICAgIGlmICh0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPT0gMCkge1xuICAgICAgICAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IDBcbiAgICAgICAgLy8gfSBlbHNlIGlmIChjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykge1xuICAgICAgICAvLyAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IHBhZGRpbmcgLy8rIGdhcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsUG9zQWRqdXN0bWVudCA9IHBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXNQaXhlbE9mZnNldCA9IHRhcmdldEF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDMuIGdldCBhbmQgY29uZmlnIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgXG4gICAgICAgIC8vIHJldHVybnMgY29udGVudCBjb25zdHJhaW5lZCBieSBjcmFkbGVSb3djb3VudFxuXG4gICAgICAgIGNvbnN0IFtuZXdjb250ZW50bGlzdCxkZWxldGVkaXRlbXNdID0gZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCh7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhY2hlSGFuZGxlciwgICAgICAgICAgICBcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDp0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50OjAsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQ6Y3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0LFxuICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBpZiAoZGVsZXRlZGl0ZW1zLmxlbmd0aCAmJiAoY2FjaGUgPT0gJ2NyYWRsZScpKSB7XG4gICAgICAgIC8vICAgICBkZWxldGVQb3J0YWxzKGNhY2hlSGFuZGxlciwgZGVsZXRlZGl0ZW1zKVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgW2hlYWRjb250ZW50bGlzdCwgdGFpbGNvbnRlbnRsaXN0XSA9IGFsbG9jYXRlQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjb250ZW50bGlzdDpuZXdjb250ZW50bGlzdCxcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleDp0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMgPSBuZXdjb250ZW50bGlzdFxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBoZWFkY29udGVudGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gdGFpbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gYXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgIGxldCBjc3RhdGUgPSBjcmFkbGVTdGF0ZVxuXG4gICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjayhcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsJ3NldENyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDQuIHNldCBDU1MgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gc2Nyb2xsYmxvY2tQaXhlbE9mZnNldCArIHNjcm9sbFBvc0FkanVzdG1lbnRcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0dGluZyBTQ1JPTExQT1MgaW4gc2V0Q3JhZGxlQ29udGVudCcsICctJytjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLnNjcm9sbGVySUQrJy0nLCBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MpXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudFtjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eV0gPVxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zXG5cbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHMgLy9jcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGhlYWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgY29uc3QgdG9wID0gKHRhcmdldEF4aXNSb3dPZmZzZXQgKiByb3dMZW5ndGgpICsgcGFkZGluZ1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gdG9wICsgJ3B4J1xuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgZ2FwICsgJ3B4JzpcbiAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9ICh0YXJnZXRBeGlzUm93T2Zmc2V0ICogcm93TGVuZ3RoKSArIHBhZGRpbmdcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBcbiAgICAgICAgICAgICAgICBsZWZ0ICsgJ3B4J1xuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgZ2FwICsgJ3B4JzpcbiAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNS4gcmVzZXQgaW50ZXJydXB0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICAvLyBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1bIFVQREFURSBDT05URU5UIHRocm91Z2ggc2Nyb2xsIF09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHVwZGF0ZUNyYWRsZUNvbnRlbnQgZG9lcyBub3QgdG91Y2ggdGhlIHZpZXdwb3J0IGVsZW1lbnQncyBzY3JvbGwgcG9zaXRpb24gZm9yIHRoZSBzY3JvbGxibG9ja1xuICAgIC8vIGluc3RlYWQgaXQgcmVjb25maWd1cmVzIGVsZW1lbnRzIHdpdGhpbiB0aGUgY3JhZGxlXG4gICAgcHVibGljIHVwZGF0ZUNyYWRsZUNvbnRlbnQgPSAoXG4gICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkLCB0cmlnZ2VybGluZUVudHJpZXMsIHNvdXJjZSA9ICdub3RpZmljYXRpb25zJykgPT4ge1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDEuIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBoYW5kbGVyIHN1cHBvcnRcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2FjaGVIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIsIFxuICAgICAgICAgICAgc2NhZmZvbGRIYW5kbGVyLCBcbiAgICAgICAgICAgIHN0YXRlSGFuZGxlciwgXG4gICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLFxuICAgICAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIHNjcm9sbCBkYXRhXG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsRGF0YSB9ID0gc2Nyb2xsSGFuZGxlclxuXG4gICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGVDcmFkbGVDb250ZW50IHdpdGggc2Nyb2xsUG9zLCBibG9ja1Njcm9sbFBvcywgc291cmNlJywgXG4gICAgICAgIC8vICAgICBzY3JvbGxQb3MsIHNjYWZmb2xkSGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MsIHNvdXJjZSlcblxuICAgICAgICAvLyBmaXJzdCBhYmFuZG9uIG9wdGlvbi8zOyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICggc2Nyb2xsUG9zIDwgMCkgeyAvLyBmb3IgU2FmYXJpLCBGRiBlbGFzdGljIGJvdW5jZSBhdCB0b3Agb2Ygc2Nyb2xsXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmFkbGUgc2NhZmZvbGQgYW5kIHVzZXIgY2VsbHNcbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IHRoaXMuY29udGVudFxuICAgICAgICBjb25zdCBtb2RlbGNvbnRlbnRsaXN0ID0gY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHNcbiAgICAgICAgY29uc3Qgb2xkQ3JhZGxlUmVmZXJlbmNlSW5kZXggPSAobW9kZWxjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgMi4gZ2V0IHNoaWZ0IGluc3RydWN0aW9uIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgLy8gLTEgaXMgbW92ZSBhIHJvdyB1cCB0byB0aGUgaGVhZCwgKzEgaXMgbW92ZSBhIHJvdyBkb3duIHRvIHRoZSB0YWlsLCAwIGlzIG5vIHNoaWZ0XG4gICAgICAgIGNvbnN0IHRyaWdnZXJsaW5lUmVjb3JkID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLnRyaWdnZXJsaW5lUmVjb3Jkc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHNoaWZ0aW5zdHJ1Y3Rpb24gPSBnZXRTaGlmdEluc3RydWN0aW9uKHtcbiAgICAgICAgICAgIHNjcm9sbGVySUQ6IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuc2Nyb2xsZXJJRCxcbiAgICAgICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkLFxuICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICB0cmlnZ2VybGluZUVudHJpZXMsXG4gICAgICAgICAgICB0cmlnZ2VybGluZVJlY29yZCxcbiAgICAgICAgICAgIHRyaWdnZXJsaW5lU3Bhbjogc2NhZmZvbGRIYW5kbGVyLnRyaWdnZXJsaW5lU3BhbixcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2Nyb2xsZXJJRCwgc2hpZnRpbnN0cnVjdGlvbicsXG4gICAgICAgIC8vICAgICAnLScrY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5zY3JvbGxlcklEKyctJywgc2hpZnRpbnN0cnVjdGlvbilcblxuICAgICAgICAvLyBzZWNvbmQgYWJhbmRvbiBvcHRpb24vMzsgbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAwKSB7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cmlnZ2VybGluZVJlY29yZCcsdHJpZ2dlcmxpbmVSZWNvcmQpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAzLiBDYWxjdWxhdGUgc2hpZnRzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gY3JhZGxlIHByb3BlcnRpZXNcbiAgICAgICAgLy8gY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgLy8gY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQ6Y3JhZGxlSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNSZWZlcmVuY2VJbmRleDpheGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdDpheGlzSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNQaXhlbE9mZnNldDpheGlzUGl4ZWxPZmZzZXQsIFxuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50OmNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50LFxuICAgICAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50LFxuXG4gICAgICAgIH0gPSBjYWxjQ29udGVudFNoaWZ0KHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMsXG4gICAgICAgICAgICBzY3JvbGxQb3MsXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyB0aGlyZCBhYmFuZG9uIG9wdGlvbi8zOyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICgoYXhpc0l0ZW1TaGlmdCA9PSAwICYmIGNyYWRsZUl0ZW1TaGlmdCA9PSAwKSkgeyAvLyBUT0RPOiBpcyB0aGlzIHBvc3NpYmxlP1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIHRyaWdnZXJsaW5lcyB3aWxsIGJlIG1vdmVkLCBzbyBkaXNjb25uZWN0IHRoZW0gZnJvbSB0aGVpciBvYnNlcnZlci5cbiAgICAgICAgLy8gdGhleSBhcmUgcmVjb25uZWN0ZWQgd2l0aCAncmVuZGVydXBkYXRlZGNvbnRlbnQnIHN0YXRlIGluIGNyYWRsZS50c3hcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0Lm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA0LiByZWNvbmZpZ3VyZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjb2xsZWN0IG1vZGlmaWVkIGNvbnRlbnRcbiAgICAgICAgbGV0IHVwZGF0ZWRDb250ZW50TGlzdCwgZGVsZXRlZENvbnRlbnRJdGVtcyA9IFtdXG5cbiAgICAgICAgaWYgKGxpc3RTdGFydENoYW5nZUNvdW50IHx8IGxpc3RFbmRDaGFuZ2VDb3VudCkgeyAvLyBpZiBlaXRoZXIgaXMgbm9uLTAgdGhlbiBtb2RpZnkgY29udGVudFxuXG4gICAgICAgICAgICBbdXBkYXRlZENvbnRlbnRMaXN0LGRlbGV0ZWRDb250ZW50SXRlbXNdID0gZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCh7XG4gICAgICAgICAgICAgICAgY2FjaGVIYW5kbGVyLFxuICAgICAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgICAgICB3b3JraW5nQ29udGVudExpc3Q6bW9kZWxjb250ZW50bGlzdCxcbiAgICAgICAgICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsXG4gICAgICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXg6b2xkQ3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdXBkYXRlZENvbnRlbnRMaXN0ID0gbW9kZWxjb250ZW50bGlzdFxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsZXRlZENvbnRlbnRJdGVtcy5sZW5ndGggJiYgKGNhY2hlID09ICdjcmFkbGUnKSkge1xuXG4gICAgICAgICAgICBkZWxldGVQb3J0YWxzKGNhY2hlSGFuZGxlciwgZGVsZXRlZENvbnRlbnRJdGVtcywgXG4gICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLmNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiBhbGxvY2F0ZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBbaGVhZGNvbnRlbnQsIHRhaWxjb250ZW50XSA9IGFsbG9jYXRlQ29udGVudExpc3QoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudGxpc3Q6dXBkYXRlZENvbnRlbnRMaXN0LFxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzID0gdXBkYXRlZENvbnRlbnRMaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IGhlYWRjb250ZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IHRhaWxjb250ZW50XG5cblxuICAgICAgICBpZiAoc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2spIHtcblxuICAgICAgICAgICAgbGV0IGNzdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKFxuXG4gICAgICAgICAgICAgICAgc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsJ3VwZGF0ZUNyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNi4gc2V0IGNzcyBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvcFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSB0b3BQb3MgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgY29uc3QgbGVmdFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSAnYXV0bydcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0UG9zICsgJ3B4J1xuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgncmVuZGVydXBkYXRlZGNvbnRlbnQnKVxuXG4gICAgfVxuXG4gICAgcHVibGljIGd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nID0gKCkgPT4geyBcbiAgICAgICAgY29uc3QgeyBjYWNoZU1heCB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNvbnRlbnRIYW5kbGVyLCBjYWNoZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IG1vZGVsQ29tcG9uZW50TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzXG4gXG4gICAgICAgIGlmIChjYWNoZUhhbmRsZXIuZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmcoY2FjaGVNYXgsIG1vZGVsQ29tcG9uZW50TGlzdC5sZW5ndGgpKSB7XG5cbiAgICAgICAgICAgIHRoaXMucGFyZUNhY2hlVG9NYXgoKVxuXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIHBhcmVDYWNoZVRvTWF4ID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVIYW5kbGVycyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgICAgICBjb25zdCB7IGNhY2hlSGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IGNyYWRsZUhhbmRsZXJzXG5cbiAgICAgICAgICAgIGNvbnN0IG1vZGVsSW5kZXhMaXN0ID0gdGhpcy5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmluZyA9IGNhY2hlSGFuZGxlci5wYXJlQ2FjaGVUb01heChcbiAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmNhY2hlTWF4LCBtb2RlbEluZGV4TGlzdCwgXG4gICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLmNhY2hlRGVsZXRlTGlzdENhbGxiYWNrKVxuICAgICAgICAgICAgaWYgKHBhcmluZykgY2FjaGVIYW5kbGVyLnJlbmRlclBvcnRhbExpc3QoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgU0VSVklDRSBTVVBQT1JUIF09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIGNsZWFyQ2FjaGUgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IHRoaXMuY29udGVudFxuICAgICAgICBjb25zdCB7IGNhY2hlSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBbXVxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMgPSBbXVxuXG4gICAgICAgIC8vIHJlZ2lzdGVyIG5ldyBhcnJheSBpZCBmb3IgT2JqZWN0LmlzIHRvIHRyaWdnZXIgcmVhY3QgcmUtcHJvY2Vzc2luZ1xuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IFtdXG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gW11cblxuICAgICAgICBjYWNoZUhhbmRsZXIuY2xlYXJDYWNoZSgpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TW9kZWxJbmRleExpc3QoKSB7XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVNb2RlbENvbXBvbmVudHMgfSA9IHRoaXMuY29udGVudFxuICAgICAgICBpZiAoIWNyYWRsZU1vZGVsQ29tcG9uZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIFtdIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5tYXAoKGl0ZW0pPT5pdGVtLnByb3BzLmluZGV4KVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlQ2VsbEZyYW1lcyhtb2RpZmllZENlbGxGcmFtZU1hcCkge1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjb250ZW50SGFuZGxlciBnb3QgbW9kaWZpZWRDZWxsRnJhbWVNYXAnLG1vZGlmaWVkQ2VsbEZyYW1lTWFwKVxuXG4gICAgICAgIGlmICghbW9kaWZpZWRDZWxsRnJhbWVNYXAuc2l6ZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgXG4gICAgICAgICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHMsIFxuICAgICAgICAgICAgaGVhZE1vZGVsQ29tcG9uZW50cyxcbiAgICAgICAgICAgIHRhaWxNb2RlbENvbXBvbmVudHMsXG4gICAgICAgICAgICBoZWFkRGlzcGxheUNvbXBvbmVudHMsXG4gICAgICAgICAgICB0YWlsRGlzcGxheUNvbXBvbmVudHMsXG4gICAgICAgIFxuICAgICAgICB9ID0gdGhpcy5jb250ZW50XG5cbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudCAoY29tcG9uZW50LCBpLCBhcnJheSApIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlSUQgPSBjb21wb25lbnQucHJvcHMuaW5zdGFuY2VJRFxuICAgICAgICAgICAgaWYgKG1vZGlmaWVkQ2VsbEZyYW1lTWFwLmhhcyhpbnN0YW5jZUlEKSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gbW9kaWZpZWRDZWxsRnJhbWVNYXAuZ2V0KGluc3RhbmNlSUQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHMuZm9yRWFjaChwcm9jZXNzQ29tcG9uZW50KVxuICAgICAgICBoZWFkTW9kZWxDb21wb25lbnRzLmZvckVhY2gocHJvY2Vzc0NvbXBvbmVudClcbiAgICAgICAgdGFpbE1vZGVsQ29tcG9uZW50cy5mb3JFYWNoKHByb2Nlc3NDb21wb25lbnQpXG5cbiAgICAgICAgdGhpcy5jb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IGhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgdGhpcy5jb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IHRhaWxNb2RlbENvbXBvbmVudHNcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2FwcGx5Y2VsbGZyYW1lY2hhbmdlcycpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgY2hhbmdlQ3JhZGxlSXRlbUlEcyhjaGFuZ2VMaXN0KSB7XG5cbiAgICAgICAgaWYgKGNoYW5nZUxpc3QubGVuZ3RoID09IDApIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGluZGV4VG9JdGVtSURNYXAsIG1ldGFkYXRhTWFwIH0gPSBjYWNoZUhhbmRsZXIuY2FjaGVQcm9wc1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCc9PT4gY2hhbmdlQ3JhZGxlSXRlbUlEczogY2hhbmdlTGlzdCwgaW5kZXhUb0l0ZW1JRE1hcCwgbWV0YWRhdGFNYXAnLCBcbiAgICAgICAgLy8gICAgIGNoYW5nZUxpc3QsIGluZGV4VG9JdGVtSURNYXAsIG1ldGFkYXRhTWFwKVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50cyxcbiAgICAgICAgICAgIGhlYWRNb2RlbENvbXBvbmVudHMsXG4gICAgICAgICAgICB0YWlsTW9kZWxDb21wb25lbnRzLFxuICAgICAgICB9ID0gdGhpcy5jb250ZW50XG5cbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc2NvbXBvbmVudChjb21wb25lbnQsIGksIGFycmF5KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LnByb3BzLmluZGV4XG5cbiAgICAgICAgICAgIGNvbnN0IHB0ciA9IGNoYW5nZUxpc3QuaW5kZXhPZihpbmRleClcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Byb2Nlc3NpbmcgYXJyYXkgaW5kZXgsIGNhY2hlIGluZGV4LCBjaGFuZ2UgcG9zaXRpb24nLCBcbiAgICAgICAgICAgIC8vICAgICBpLCBpbmRleCwgcHRyKVxuXG4gICAgICAgICAgICBpZiAocHRyICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ25ldyBpdGVtSUQsIG9sZCBpdGVtSUQnLCBpdGVtSUQsIGNvbXBvbmVudC5wcm9wcy5pdGVtSUQgKVxuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5mb3JFYWNoKHByb2Nlc3Njb21wb25lbnQpXG4gICAgICAgIGhlYWRNb2RlbENvbXBvbmVudHMuZm9yRWFjaChwcm9jZXNzY29tcG9uZW50KVxuICAgICAgICB0YWlsTW9kZWxDb21wb25lbnRzLmZvckVhY2gocHJvY2Vzc2NvbXBvbmVudClcblxuICAgICAgICB0aGlzLmNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gaGVhZE1vZGVsQ29tcG9uZW50c1xuICAgICAgICB0aGlzLmNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gdGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU5ld0l0ZW1JRHMobmV3TGlzdCkge1xuXG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50cyxcbiAgICAgICAgICAgIGhlYWRNb2RlbENvbXBvbmVudHMsXG4gICAgICAgICAgICB0YWlsTW9kZWxDb21wb25lbnRzLFxuICAgICAgICB9ID0gdGhpcy5jb250ZW50XG5cbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc2NvbXBvbmVudChjb21wb25lbnQsIGksIGFycmF5KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LnByb3BzLmluZGV4XG4gICAgICAgICAgICBjb25zdCBwdHIgPSBuZXdMaXN0LmluZGV4T2YoaW5kZXgpXG4gICAgICAgICAgICBpZiAocHRyICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbUlEID0gY2FjaGVIYW5kbGVyLmdldE5ld0l0ZW1JRCgpXG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBSZWFjdC5jbG9uZUVsZW1lbnQoY29tcG9uZW50LCB7bmV3SXRlbUlEfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzLmZvckVhY2gocHJvY2Vzc2NvbXBvbmVudClcbiAgICAgICAgaGVhZE1vZGVsQ29tcG9uZW50cy5mb3JFYWNoKHByb2Nlc3Njb21wb25lbnQpXG4gICAgICAgIHRhaWxNb2RlbENvbXBvbmVudHMuZm9yRWFjaChwcm9jZXNzY29tcG9uZW50KVxuXG4gICAgICAgIHRoaXMuY29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBoZWFkTW9kZWxDb21wb25lbnRzXG4gICAgICAgIHRoaXMuY29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSB0YWlsTW9kZWxDb21wb25lbnRzXG5cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsiQ29udGVudEhhbmRsZXIiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiY3JhZGxlTW9kZWxDb21wb25lbnRzIiwiaGVhZE1vZGVsQ29tcG9uZW50cyIsInRhaWxNb2RlbENvbXBvbmVudHMiLCJoZWFkRGlzcGxheUNvbXBvbmVudHMiLCJ0YWlsRGlzcGxheUNvbXBvbmVudHMiLCJjdXJyZW50IiwiTWFwIiwiY3JhZGxlU3RhdGUiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImNyYWRsZUhhbmRsZXJzIiwiaGFuZGxlcnNSZWYiLCJjYWNoZUhhbmRsZXIiLCJzY2FmZm9sZEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsImludGVycnVwdEhhbmRsZXIiLCJheGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0Iiwib2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwiY3JhZGxlSW50ZXJzZWN0IiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidmlld3BvcnRFbGVtZW50IiwiZWxlbWVudFJlZiIsInJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsIm9yaWVudGF0aW9uIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJjYWNoZSIsImNyb3NzY291bnQiLCJsaXN0c2l6ZSIsIndvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgiLCJNYXRoIiwibWluIiwid29ya2luZ0NvbnRlbnRMaXN0IiwiY3JhZGxlQ29udGVudCIsImNvbnRlbnQiLCJpc1ZlcnRpY2FsIiwicm93TGVuZ3RoIiwidGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJ0YXJnZXRBeGlzUm93T2Zmc2V0IiwiY3JhZGxlQ29udGVudENvdW50IiwibmV3Q3JhZGxlQ29udGVudENvdW50Iiwic2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsInRhcmdldFNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQiLCJzY3JvbGxQb3NBZGp1c3RtZW50IiwiYXhpc1BpeGVsT2Zmc2V0IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJsaXN0U3RhcnRDaGFuZ2VDb3VudCIsImxpc3RFbmRDaGFuZ2VDb3VudCIsImluc3RhbmNlSWRDb3VudGVyUmVmIiwibmV3Y29udGVudGxpc3QiLCJkZWxldGVkaXRlbXMiLCJjb250ZW50bGlzdCIsImF4aXNSZWZlcmVuY2VJbmRleCIsImhlYWRjb250ZW50bGlzdCIsInRhaWxjb250ZW50bGlzdCIsImNhbGxiYWNrcyIsInJlZmVyZW5jZUluZGV4Q2FsbGJhY2siLCJjc3RhdGUiLCJibG9ja1Njcm9sbFBvcyIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJjcmFkbGVFbGVtZW50cyIsImVsZW1lbnRzIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiaGVhZEVsZW1lbnQiLCJoZWFkUmVmIiwidG9wIiwic3R5bGUiLCJsZWZ0IiwicGFkZGluZ0JvdHRvbSIsImxlbmd0aCIsInBhZGRpbmdSaWdodCIsImNvbm5lY3RFbGVtZW50cyIsInNpZ25hbHMiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwiaXNWaWV3cG9ydFNjcm9sbGluZ0ZvcndhcmQiLCJ0cmlnZ2VybGluZUVudHJpZXMiLCJzb3VyY2UiLCJzY3JvbGxIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwic2Nyb2xsRGF0YSIsInNjcm9sbFBvcyIsImN1cnJlbnR1cGRhdGUiLCJtb2RlbGNvbnRlbnRsaXN0Iiwib2xkQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYSIsInByb3BzIiwiaW5kZXgiLCJ0cmlnZ2VybGluZVJlY29yZCIsInRyaWdnZXJsaW5lUmVjb3Jkc1JlZiIsInNoaWZ0aW5zdHJ1Y3Rpb24iLCJzY3JvbGxlcklEIiwidHJpZ2dlcmxpbmVTcGFuIiwibmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJjcmFkbGVJdGVtU2hpZnQiLCJjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQiLCJuZXdBeGlzUmVmZXJlbmNlSW5kZXgiLCJheGlzSXRlbVNoaWZ0IiwiYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld0F4aXNQaXhlbE9mZnNldCIsInVwZGF0ZWRDb250ZW50TGlzdCIsImRlbGV0ZWRDb250ZW50SXRlbXMiLCJjYWNoZURlbGV0ZUxpc3RDYWxsYmFjayIsImhlYWRjb250ZW50IiwidGFpbGNvbnRlbnQiLCJjcmFkbGVTdGF0ZVJlZiIsInRvcFBvcyIsImxlZnRQb3MiLCJzZXRDcmFkbGVTdGF0ZSIsImNhY2hlTWF4IiwiY29udGVudEhhbmRsZXIiLCJtb2RlbENvbXBvbmVudExpc3QiLCJndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyIsInBhcmVDYWNoZVRvTWF4IiwibW9kZWxJbmRleExpc3QiLCJnZXRNb2RlbEluZGV4TGlzdCIsInBhcmluZyIsInJlbmRlclBvcnRhbExpc3QiLCJjbGVhckNhY2hlIiwibWFwIiwiaXRlbSIsIm1vZGlmaWVkQ2VsbEZyYW1lTWFwIiwic2l6ZSIsInByb2Nlc3NDb21wb25lbnQiLCJjb21wb25lbnQiLCJpIiwiYXJyYXkiLCJpbnN0YW5jZUlEIiwiaGFzIiwiZ2V0IiwiZm9yRWFjaCIsImNoYW5nZUxpc3QiLCJjYWNoZVByb3BzIiwiaW5kZXhUb0l0ZW1JRE1hcCIsIm1ldGFkYXRhTWFwIiwicHJvY2Vzc2NvbXBvbmVudCIsInB0ciIsImluZGV4T2YiLCJpdGVtSUQiLCJyZWFjdF8xIiwiY2xvbmVFbGVtZW50IiwibmV3TGlzdCIsIm5ld0l0ZW1JRCIsImdldE5ld0l0ZW1JRCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contenthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/interrupthandler.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/interrupthandler.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // interruptshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    TODO: trigger reposition if triggerline entries come back with isIntersecting the same for both\n*/\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver;\n\nvar InterruptHandler = /*#__PURE__*/_createClass(function InterruptHandler(cradleParameters) {\n  var _this = this;\n\n  _classCallCheck(this, InterruptHandler);\n\n  this.isTailCradleInView = false;\n  this.isHeadCradleInView = false; // TODO: stub\n\n  this.cradleresizeobservercallback = function (entries) {\n    if (_this.signals.pauseCradleResizeObserver) return;\n  };\n\n  this.axisTriggerlinesObserverCallback = function (entries) {\n    if (_this.signals.pauseTriggerlinesObserver) {\n      // console.log('returning from axisTriggerlinesObserverCallback with pause!')\n      return;\n    }\n\n    var testrootbounds = entries[0].rootBounds;\n\n    if (testrootbounds.width == 0 && testrootbounds.height == 0) {\n      // reparenting\n      return;\n    }\n\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n        contentHandler = _this$cradleParameter.contentHandler,\n        stateHandler = _this$cradleParameter.stateHandler,\n        scrollHandler = _this$cradleParameter.scrollHandler;\n\n    if (stateHandler.isMountedRef.current) {\n      var scrollData = scrollHandler.scrollData;\n\n      if (scrollData.start != scrollData.current || scrollData.current != scrollData.previous) {\n        scrollData.previousupdate = scrollData.currentupdate;\n        scrollData.currentupdate = scrollData.current;\n        var isViewportScrollingForward;\n\n        if (scrollData.previousupdate == scrollData.currentupdate) {\n          isViewportScrollingForward = scrollData.previous < scrollData.current;\n        } else {\n          isViewportScrollingForward = scrollData.previousupdate < scrollData.currentupdate;\n        }\n\n        contentHandler.updateCradleContent(isViewportScrollingForward, entries, 'triggerlinesObserver');\n      }\n    }\n  };\n\n  this.cradleIntersectionObserverCallback = function (entries) {\n    var _a;\n\n    var signals = _this.signals;\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n        stateHandler = _this$cradleParameter2.stateHandler,\n        contentHandler = _this$cradleParameter2.contentHandler;\n\n    if (signals.pauseCradleIntersectionObserver) {\n      return;\n    }\n\n    for (var i = 0; i < entries.length; i++) {\n      var entry = entries[i];\n\n      if (entry.target.dataset.type == 'head') {\n        _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      } else {\n        _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      }\n    }\n\n    _this.signals.repositioningRequired = !_this.isHeadCradleInView && !_this.isTailCradleInView;\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n\n    if (_this.signals.repositioningRequired) // start reposition if no other interrupts are underway\n      {\n        var cradleState = stateHandler.cradleStateRef.current;\n\n        if (!viewportInterruptProperties.isResizing && !((_a = viewportInterruptProperties.isReparentingRef) === null || _a === void 0 ? void 0 : _a.current) && !(cradleState == 'repositioningRender') && !(cradleState == 'repositioningContinuation') && !(cradleState == 'renderupdatedcontent') && // TODO: *TEST*\n        !(cradleState == 'finishupdatedcontent') && !(cradleState == 'finishresize') && !(cradleState == 'doreposition') && !(cradleState == 'pivot')) {\n          var element = viewportInterruptProperties.elementRef.current;\n          var scrollerID = _this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID;\n\n          if (!element) {\n            console.log('SYSTEM: viewport element not set in cradleIntersectionObserverCallback', scrollerID, viewportInterruptProperties);\n            return;\n          } // TODO this is a duplicate setting procedure with viewport.tsx\n\n\n          var rect = element.getBoundingClientRect();\n          var top = rect.top,\n              right = rect.right,\n              bottom = rect.bottom,\n              left = rect.left;\n          var width = right - left,\n              height = bottom - top;\n          viewportInterruptProperties.viewportDimensions = {\n            top: top,\n            right: right,\n            bottom: bottom,\n            left: left,\n            width: width,\n            height: height\n          }; // update for scrolltracker\n          // console.log('calling startreposition from cradleIntersectionObserverCallback:scrollerID, entries',\n          //  '-' + scrollerID + '-', entries)\n          // debugger\n\n          stateHandler.setCradleState('startreposition');\n        }\n      }\n  }; // for adjusting to content re-sizing\n\n\n  this.cradleResize = {\n    observer: null,\n    callback: this.cradleresizeobservercallback,\n    connectElements: function connectElements() {\n      var observer = _this.cradleResize.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n      observer.observe(cradleElements.headRef.current);\n      observer.observe(cradleElements.tailRef.current);\n    },\n    createObserver: function createObserver() {\n      _this.cradleResize.observer = new ResizeObserver(_this.cradleResize.callback);\n      return _this.cradleResize.observer;\n    }\n  };\n  this.cradleIntersect = {\n    observer: null,\n    callback: this.cradleIntersectionObserverCallback,\n    connectElements: function connectElements() {\n      var observer = _this.cradleIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n      observer.observe(cradleElements.headRef.current);\n      observer.observe(cradleElements.tailRef.current);\n    },\n    createObserver: function createObserver() {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n        root: viewportInterruptProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.cradleIntersect.observer;\n    }\n  };\n  this.axisTriggerlinesIntersect = {\n    observer: null,\n    callback: this.axisTriggerlinesObserverCallback,\n    connectElements: function connectElements() {\n      var observer = _this.axisTriggerlinesIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n      observer.observe(cradleElements.headTriggerlineRef.current);\n      observer.observe(cradleElements.tailTriggerlineRef.current);\n    },\n    createObserver: function createObserver() {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      _this.axisTriggerlinesIntersect.observer = new IntersectionObserver(_this.axisTriggerlinesIntersect.callback, {\n        root: viewportInterruptProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.axisTriggerlinesIntersect.observer;\n    }\n  };\n  this.signals = {\n    repositioningRequired: false,\n    pauseTriggerlinesObserver: false,\n    pauseCradleIntersectionObserver: false,\n    pauseCradleResizeObserver: false,\n    pauseScrollingEffects: false\n  };\n\n  this.pauseInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = true;\n    signals.pauseCradleIntersectionObserver = true;\n    signals.pauseCradleResizeObserver = true;\n    signals.pauseScrollingEffects = true;\n  };\n\n  this.restoreInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = false;\n    signals.pauseCradleIntersectionObserver = false;\n    signals.pauseCradleResizeObserver = false;\n    signals.pauseScrollingEffects = false;\n  };\n\n  this.cradleParameters = cradleParameters;\n});\n\nexports[\"default\"] = InterruptHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2ludGVycnVwdGhhbmRsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBRUE7Ozs7QUFJQTs7QUFFQSxJQUFNQSxjQUFjLEdBQUdDLE1BQU0sQ0FBQyxnQkFBRCxDQUFOLElBQTRCQyxnQ0FBbkQ7O0lBRXFCQyxnQiw2QkFFakIsMEJBQVlDLGdCQUFaLEVBQTRCO0VBQUE7O0VBQUE7O0VBUXBCLDBCQUFxQixLQUFyQjtFQUNBLDBCQUFxQixLQUFyQixDQVRvQixDQVc1Qjs7RUFDUSxvQ0FBK0IsVUFBQ0MsT0FBRCxFQUFZO0lBRWhELElBQUksS0FBSSxDQUFDQyxPQUFMLENBQWFDLHlCQUFqQixFQUE0QztFQUU5QyxDQUpPOztFQU1BLHdDQUFtQyxVQUFDRixPQUFELEVBQVk7SUFFbkQsSUFBSSxLQUFJLENBQUNDLE9BQUwsQ0FBYUUseUJBQWpCLEVBQTRDO01BRXhDO01BRUE7SUFFSDs7SUFFRCxJQUFNQyxjQUFjLEdBQUdKLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBV0ssVUFBbEM7O0lBQ0EsSUFBS0QsY0FBYyxDQUFDRSxLQUFmLElBQXdCLENBQXpCLElBQWdDRixjQUFjLENBQUNHLE1BQWYsSUFBeUIsQ0FBN0QsRUFBaUU7TUFBRTtNQUUvRDtJQUVIOztJQUVELDRCQUlJLEtBQUksQ0FBQ1IsZ0JBQUwsQ0FBc0JTLFdBQXRCLENBQWtDQyxPQUp0QztJQUFBLElBQ0lDLGNBREoseUJBQ0lBLGNBREo7SUFBQSxJQUVJQyxZQUZKLHlCQUVJQSxZQUZKO0lBQUEsSUFHSUMsYUFISix5QkFHSUEsYUFISjs7SUFNQSxJQUFJRCxZQUFZLENBQUNFLFlBQWIsQ0FBMEJKLE9BQTlCLEVBQXVDO01BQ25DLElBQVFLLFVBQVIsR0FBdUJGLGFBQXZCLENBQVFFLFVBQVI7O01BQ0EsSUFBS0EsVUFBVSxDQUFDQyxLQUFYLElBQW9CRCxVQUFVLENBQUNMLE9BQWhDLElBQ0NLLFVBQVUsQ0FBQ0wsT0FBWCxJQUFzQkssVUFB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O01BQWhFLENBRnNDLENBQTFDO01BSUEsT0FBTyxLQUFJLENBQUNFLHlCQUFMLENBQStCbEIsUUFBdEM7SUFDSDtFQWhCNkIsQ0FBNUI7RUFtQkMsZUFBVTtJQUNidEIscUJBQXFCLEVBQUUsS0FEVjtJQUViNUIseUJBQXlCLEVBQUUsS0FGZDtJQUdia0IsK0JBQStCLEVBQUMsS0FIbkI7SUFJYm5CLHlCQUF5QixFQUFFLEtBSmQ7SUFLYndFLHFCQUFxQixFQUFFO0VBTFYsQ0FBVjs7RUFRQSx1QkFBa0IsWUFBSztJQUMxQixJQUFRekUsT0FBUixHQUFvQixLQUFwQixDQUFRQSxPQUFSO0lBQ0FBLE9BQU8sQ0FBQ0UseUJBQVIsR0FBb0MsSUFBcEM7SUFDQUYsT0FBTyxDQUFDb0IsK0JBQVIsR0FBMEMsSUFBMUM7SUFDQXBCLE9BQU8sQ0FBQ0MseUJBQVIsR0FBb0MsSUFBcEM7SUFDQUQsT0FBTyxDQUFDeUUscUJBQVIsR0FBZ0MsSUFBaEM7RUFDSCxDQU5NOztFQVFBLHlCQUFvQixZQUFLO0lBQzVCLElBQVF6RSxPQUFSLEdBQW9CLEtBQXBCLENBQVFBLE9BQVI7SUFDQUEsT0FBTyxDQUFDRSx5QkFBUixHQUFvQyxLQUFwQztJQUNBRixPQUFPLENBQUNvQiwrQkFBUixHQUEwQyxLQUExQztJQUNBcEIsT0FBTyxDQUFDQyx5QkFBUixHQUFvQyxLQUFwQztJQUNBRCxPQUFPLENBQUN5RSxxQkFBUixHQUFnQyxLQUFoQztFQUNILENBTk07O0VBM01KLEtBQUszRSxnQkFBTCxHQUF3QkEsZ0JBQXhCO0FBRUYsQzs7QUFOTDRFLGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2ludGVycnVwdGhhbmRsZXIudHN4P2E5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW50ZXJydXB0c2hhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUT0RPOiB0cmlnZ2VyIHJlcG9zaXRpb24gaWYgdHJpZ2dlcmxpbmUgZW50cmllcyBjb21lIGJhY2sgd2l0aCBpc0ludGVyc2VjdGluZyB0aGUgc2FtZSBmb3IgYm90aFxuKi9cblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5cbmNvbnN0IFJlc2l6ZU9ic2VydmVyID0gd2luZG93WydSZXNpemVPYnNlcnZlciddIHx8IFJlc2l6ZU9ic2VydmVyUG9seWZpbGxcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJydXB0SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHByaXZhdGUgaXNUYWlsQ3JhZGxlSW5WaWV3ID0gZmFsc2VcbiAgICBwcml2YXRlIGlzSGVhZENyYWRsZUluVmlldyA9IGZhbHNlXG5cbiAgICAvLyBUT0RPOiBzdHViXG4gICAgcHJpdmF0ZSBjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgIGlmICh0aGlzLnNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcikgcmV0dXJuXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIpIHsgXG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgZnJvbSBheGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayB3aXRoIHBhdXNlIScpXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXN0cm9vdGJvdW5kcyA9IGVudHJpZXNbMF0ucm9vdEJvdW5kc1xuICAgICAgICBpZiAoKHRlc3Ryb290Ym91bmRzLndpZHRoID09IDApICYmICh0ZXN0cm9vdGJvdW5kcy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLFxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLFxuICAgICAgICAgICAgc2Nyb2xsSGFuZGxlclxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbERhdGEgfSA9IHNjcm9sbEhhbmRsZXJcbiAgICAgICAgICAgIGlmICgoc2Nyb2xsRGF0YS5zdGFydCAhPSBzY3JvbGxEYXRhLmN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgKHNjcm9sbERhdGEuY3VycmVudCAhPSBzY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGF0YS5wcmV2aW91c3VwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZVxuICAgICAgICAgICAgICAgIHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgbGV0IGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbERhdGEucHJldmlvdXN1cGRhdGUgPT0gc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkID0gc2Nyb2xsRGF0YS5wcmV2aW91cyA8IHNjcm9sbERhdGEuY3VycmVudFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkID0gKHNjcm9sbERhdGEucHJldmlvdXN1cGRhdGUgPCBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIudXBkYXRlQ3JhZGxlQ29udGVudChpc1ZpZXdwb3J0U2Nyb2xsaW5nRm9yd2FyZCwgZW50cmllcywndHJpZ2dlcmxpbmVzT2JzZXJ2ZXInKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNcbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIsIGNvbnRlbnRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmIChzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSBlbnRyaWVzW2ldXG4gICAgICAgICAgICBpZiAoZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZSA9PSAnaGVhZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGVhZENyYWRsZUluVmlldyA9IFxuICAgICAgICAgICAgICAgICAgICAoZW50cnkuaXNJbnRlcnNlY3RpbmcgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGVudHJ5LnJvb3RCb3VuZHMud2lkdGggPT0gMCkgJiYgKGVudHJ5LnJvb3RCb3VuZHMuaGVpZ2h0ID09IDApKSAvLyByZXBhcmVudGluZ1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcgPSBcbiAgICAgICAgICAgICAgICAgICAgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCA9ICghdGhpcy5pc0hlYWRDcmFkbGVJblZpZXcgJiYgIXRoaXMuaXNUYWlsQ3JhZGxlSW5WaWV3KVxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICh0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkKSAvLyBzdGFydCByZXBvc2l0aW9uIGlmIG5vIG90aGVyIGludGVycnVwdHMgYXJlIHVuZGVyd2F5XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZyAmJlxuICAgICAgICAgICAgICAgICF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXBhcmVudGluZ1JlZj8uY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSAmJiBcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZW5kZXJ1cGRhdGVkY29udGVudCcpICYmIC8vIFRPRE86ICpURVNUKlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JykgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdmaW5pc2hyZXNpemUnKSAmJlxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ2RvcmVwb3NpdGlvbicpICYmIFxuICAgICAgICAgICAgICAgICEoY3JhZGxlU3RhdGUgPT0gJ3Bpdm90JylcbiAgICAgICAgICAgICAgICApIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjcm9sbGVySUQgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NZU1RFTTogdmlld3BvcnQgZWxlbWVudCBub3Qgc2V0IGluIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCx2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBkdXBsaWNhdGUgc2V0dGluZyBwcm9jZWR1cmUgd2l0aCB2aWV3cG9ydC50c3hcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnR9ID0gcmVjdFxuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0LCBoZWlnaHQgPSBib3R0b20gLSB0b3BcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMudmlld3BvcnREaW1lbnNpb25zID0ge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0gLy8gdXBkYXRlIGZvciBzY3JvbGx0cmFja2VyXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGluZyBzdGFydHJlcG9zaXRpb24gZnJvbSBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrOnNjcm9sbGVySUQsIGVudHJpZXMnLFxuICAgICAgICAgICAgICAgIC8vICAnLScgKyBzY3JvbGxlcklEICsgJy0nLCBlbnRyaWVzKVxuXG4gICAgICAgICAgICAgICAgLy8gZGVidWdnZXJcblxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnc3RhcnRyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgIC8vIGZvciBhZGp1c3RpbmcgdG8gY29udGVudCByZS1zaXppbmdcbiAgIHB1YmxpYyBjcmFkbGVSZXNpemUgPSB7XG4gICAgICBvYnNlcnZlcjpudWxsLFxuICAgICAgY2FsbGJhY2s6dGhpcy5jcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZVJlc2l6ZS5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5zY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQpXG4gICAgICAgIH0sXG4gICAgICBjcmVhdGVPYnNlcnZlcjooKSA9PiB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVSZXNpemUub2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5jcmFkbGVSZXNpemUuY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzLmNyYWRsZVJlc2l6ZS5vYnNlcnZlclxuXG4gICAgICB9XG4gICB9XG5cbiAgIHB1YmxpYyBjcmFkbGVJbnRlcnNlY3QgPSB7ICAgIFxuICAgICAgICBvYnNlcnZlcjpudWxsLCAgICBcbiAgICAgICAgY2FsbGJhY2s6dGhpcy5jcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5zY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZU9ic2VydmVyOigpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3QuY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAge3Jvb3Q6dmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudCwgdGhyZXNob2xkOjB9XG4gICAgICAgICAgICApICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgIHB1YmxpYyBheGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0ID0ge1xuICAgICAgICBvYnNlcnZlcjpudWxsLFxuICAgICAgICBjYWxsYmFjazp0aGlzLmF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRUcmlnZ2VybGluZVJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsVHJpZ2dlcmxpbmVSZWYuY3VycmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgICAgICB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsIHRocmVzaG9sZDowfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNpZ25hbHMgPSB7XG4gICAgICAgIHJlcG9zaXRpb25pbmdSZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXI6IGZhbHNlLCBcbiAgICAgICAgcGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcjpmYWxzZSxcbiAgICAgICAgcGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcjogZmFsc2UsXG4gICAgICAgIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgfVxuXG4gICAgcHVibGljIHBhdXNlSW50ZXJydXB0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzXG4gICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlSW50ZXJydXB0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzXG4gICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gZmFsc2VcbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6WyJSZXNpemVPYnNlcnZlciIsIndpbmRvdyIsInJlc2l6ZV9vYnNlcnZlcl8xIiwiSW50ZXJydXB0SGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJlbnRyaWVzIiwic2lnbmFscyIsInBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwidGVzdHJvb3Rib3VuZHMiLCJyb290Qm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJoYW5kbGVyc1JlZiIsImN1cnJlbnQiLCJjb250ZW50SGFuZGxlciIsInN0YXRlSGFuZGxlciIsInNjcm9sbEhhbmRsZXIiLCJpc01vdW50ZWRSZWYiLCJzY3JvbGxEYXRhIiwic3RhcnQiLCJwcmV2aW91cyIsInByZXZpb3VzdXBkYXRlIiwiY3VycmVudHVwZGF0ZSIsImlzVmlld3BvcnRTY3JvbGxpbmdGb3J3YXJkIiwidXBkYXRlQ3JhZGxlQ29udGVudCIsInBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJpIiwibGVuZ3RoIiwiZW50cnkiLCJ0YXJnZXQiLCJkYXRhc2V0IiwidHlwZSIsImlzSGVhZENyYWRsZUluVmlldyIsImlzSW50ZXJzZWN0aW5nIiwiaXNUYWlsQ3JhZGxlSW5WaWV3IiwicmVwb3NpdGlvbmluZ1JlcXVpcmVkIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiY3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImlzUmVzaXppbmciLCJpc1JlcGFyZW50aW5nUmVmIiwiX2EiLCJlbGVtZW50IiwiZWxlbWVudFJlZiIsInNjcm9sbGVySUQiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwiY29uc29sZSIsImxvZyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJzZXRDcmFkbGVTdGF0ZSIsIm9ic2VydmVyIiwiY2FsbGJhY2siLCJjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrIiwiY29ubmVjdEVsZW1lbnRzIiwiY3JhZGxlUmVzaXplIiwiY3JhZGxlRWxlbWVudHMiLCJzY2FmZm9sZEhhbmRsZXIiLCJlbGVtZW50cyIsIm9ic2VydmUiLCJoZWFkUmVmIiwidGFpbFJlZiIsImNyZWF0ZU9ic2VydmVyIiwiY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayIsImNyYWRsZUludGVyc2VjdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInRocmVzaG9sZCIsImF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrIiwiYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdCIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/interrupthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scaffoldhandler.tsx":
/*!****************************************!*\
  !*** ./src/cradle/scaffoldhandler.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // cradlehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ScaffoldHandler = /*#__PURE__*/function () {\n  function ScaffoldHandler(cradleParameters) {\n    _classCallCheck(this, ScaffoldHandler);\n\n    // cradlePositionData controls the relative positions of the scaffold elements\n    this.cradlePositionData = {\n      /*\n          \"block\" = cradleblock, which is the element that is scrolled\n               blockScrollPos is set by scrollHandler during and after scrolling,\n          and by setCradleContent in contentHandler, which repositions the cradle.\n               blockScrollPos is used by\n              - cradle initialization in response to reparenting interrupt\n              - setCradleContent\n           */\n      blockScrollPos: null,\n\n      /*\n          values can be \"scrollTop\" or \"scrollLeft\" (of the viewport element) depending on orientation\n               blockScrollProperty is set by the orientation reconfiguration effect in cradle module.\n               it is used where blockScrollPos is used above.\n      */\n      blockScrollProperty: null,\n\n      /*\n          targetAxisReferenceIndex is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - host scrollToItem call\n               targetAxisReferenceIndex is used by\n              - scrollTrackerArgs in cradle module\n              - requestedAxisReferenceIndex in setCradleContent\n      */\n      targetAxisReferenceIndex: null,\n\n      /*\n          targetAxisPixelOffset is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - pivot effect (change of orientation) in cradle module\n               targetAxisPixelOffset is used by\n              - previousAxisOffset in pivot effect\n              - setCradleContent\n           */\n      targetAxisPixelOffset: null\n    };\n    this.cradleParameters = cradleParameters;\n    var _cradleParameters$cra = cradleParameters.cradleInternalPropertiesRef.current.cradleElementsRef.current,\n        axisRef = _cradleParameters$cra.axisRef,\n        headRef = _cradleParameters$cra.headRef,\n        tailRef = _cradleParameters$cra.tailRef,\n        headTriggerlineRef = _cradleParameters$cra.headTriggerlineRef,\n        tailTriggerlineRef = _cradleParameters$cra.tailTriggerlineRef;\n    this.elements = {\n      axisRef: axisRef,\n      headRef: headRef,\n      tailRef: tailRef,\n      headTriggerlineRef: headTriggerlineRef,\n      tailTriggerlineRef: tailTriggerlineRef\n    };\n    var _this$cradleParameter = this.cradleParameters.cradleInheritedPropertiesRef.current,\n        startingIndex = _this$cradleParameter.startingIndex,\n        padding = _this$cradleParameter.padding;\n    var listsize = this.cradleParameters.cradleInternalPropertiesRef.current.listsize; // progression of references: implied->target\n\n    this.cradlePositionData.targetAxisReferenceIndex = Math.min(startingIndex, listsize - 1) || 0;\n    this.cradlePositionData.targetAxisPixelOffset = 0;\n  }\n\n  _createClass(ScaffoldHandler, [{\n    key: \"getViewportDimensions\",\n    value: function getViewportDimensions() {\n      var viewportElement = this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current;\n      return {\n        width: viewportElement.clientWidth,\n        height: viewportElement.clientHeight\n      };\n    }\n  }]);\n\n  return ScaffoldHandler;\n}();\n\nexports[\"default\"] = ScaffoldHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3NjYWZmb2xkaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCQSxlO0VBRWpCLHlCQUFZQyxnQkFBWixFQUE0QjtJQUFBOztJQXdDNUI7SUFDTywwQkFBcUI7TUFFeEI7Ozs7Ozs7O01BV0FDLGNBQWMsRUFBQyxJQWJTOztNQWV4Qjs7Ozs7TUFPQUMsbUJBQW1CLEVBQUMsSUF0Qkk7O01Bd0J4Qjs7Ozs7Ozs7Ozs7TUFZQUMsd0JBQXdCLEVBQUMsSUFwQ0Q7O01Bc0N4Qjs7Ozs7Ozs7Ozs7TUFhQUMscUJBQXFCLEVBQUM7SUFuREUsQ0FBckI7SUF2Q0gsS0FBS0osZ0JBQUwsR0FBd0JBLGdCQUF4QjtJQUVBLDRCQU1JQSxnQkFBZ0IsQ0FBQ0ssMkJBQWpCLENBQTZDQyxPQUE3QyxDQUFxREMsaUJBQXJELENBQXVFRCxPQU4zRTtJQUFBLElBQ0lFLE9BREoseUJBQ0lBLE9BREo7SUFBQSxJQUVJQyxPQUZKLHlCQUVJQSxPQUZKO0lBQUEsSUFHSUMsT0FISix5QkFHSUEsT0FISjtJQUFBLElBSUlDLGtCQUpKLHlCQUlJQSxrQkFKSjtJQUFBLElBS0lDLGtCQUxKLHlCQUtJQSxrQkFMSjtJQVFBLEtBQUtDLFFBQUwsR0FBZ0I7TUFDWkwsT0FBTyxFQUFQQSxPQURZO01BRVpDLE9BQU8sRUFBUEEsT0FGWTtNQUdaQyxPQUFPLEVBQVBBLE9BSFk7TUFJWkMsa0JBQWtCLEVBQWxCQSxrQkFKWTtNQUtaQyxrQkFBa0IsRUFBbEJBO0lBTFksQ0FBaEI7SUFRQSw0QkFHSSxLQUFLWixnQkFBTCxDQUFzQmMsNEJBQXRCLENBQW1EUixPQUh2RDtJQUFBLElBQ0lTLGFBREoseUJBQ0lBLGFBREo7SUFBQSxJQUVJQyxPQUZKLHlCQUVJQSxPQUZKO0lBS0EsSUFDSUMsUUFESixHQUVJLEtBQUtqQixnQkFBTCxDQUFzQkssMkJBQXRCLENBQWtEQyxPQUZ0RCxDQUNJVyxRQURKLENBekJ3QixDQTZCeEI7O0lBQ0EsS0FBS0Msa0JBQUwsQ0FBd0JmLHdCQUF4QixHQUNLZ0IsSUFBSSxDQUFDQyxHQUFMLENBQVNMLGFBQVQsRUFBd0JFLFFBQVEsR0FBRyxDQUFuQyxLQUEwQyxDQUQvQztJQUVBLEtBQUtDLGtCQUFMLENBQXdCZCxxQkFBeEIsR0FBZ0QsQ0FBaEQ7RUFFSDs7OztXQWdFTSxpQ0FBcUI7TUFDeEIsSUFBTWlCLGVBQWUsR0FBRyxLQUFLckIsZ0JBQUwsQ0FBc0JzQiw4QkFBdEIsQ0FBcURoQixPQUFyRCxDQUE2RGlCLFVBQTdELENBQXdFakIsT0FBaEc7TUFDQSxPQUFPO1FBQUNrQixLQUFLLEVBQUNILGVBQWUsQ0FBQ0ksV0FBdkI7UUFBb0NDLE1BQU0sRUFBRUwsZUFBZSxDQUFDTTtNQUE1RCxDQUFQO0lBQ0g7Ozs7OztBQXZHTEMsa0JBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc2NhZmZvbGRoYW5kbGVyLnRzeD9mYzJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNyYWRsZWhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhZmZvbGRIYW5kbGVyIHsgXG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGF4aXNSZWYsIFxuICAgICAgICAgICAgaGVhZFJlZiwgXG4gICAgICAgICAgICB0YWlsUmVmLFxuICAgICAgICAgICAgaGVhZFRyaWdnZXJsaW5lUmVmLFxuICAgICAgICAgICAgdGFpbFRyaWdnZXJsaW5lUmVmXG4gICAgICAgIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LmNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7XG4gICAgICAgICAgICBheGlzUmVmLFxuICAgICAgICAgICAgaGVhZFJlZixcbiAgICAgICAgICAgIHRhaWxSZWYsXG4gICAgICAgICAgICBoZWFkVHJpZ2dlcmxpbmVSZWYsXG4gICAgICAgICAgICB0YWlsVHJpZ2dlcmxpbmVSZWZcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHN0YXJ0aW5nSW5kZXgsIFxuICAgICAgICAgICAgcGFkZGluZ1xuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgLy8gcHJvZ3Jlc3Npb24gb2YgcmVmZXJlbmNlczogaW1wbGllZC0+dGFyZ2V0XG4gICAgICAgIHRoaXMuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IFxuICAgICAgICAgICAgKE1hdGgubWluKHN0YXJ0aW5nSW5kZXgsKGxpc3RzaXplIC0gMSkpIHx8IDApXG4gICAgICAgIHRoaXMuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IDBcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIHRyaWdnZXJsaW5lU3BhblxuXG4gICAgLy8gY3JhZGxlUG9zaXRpb25EYXRhIGNvbnRyb2xzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbnMgb2YgdGhlIHNjYWZmb2xkIGVsZW1lbnRzXG4gICAgcHVibGljIGNyYWRsZVBvc2l0aW9uRGF0YSA9IHtcblxuICAgICAgICAvKlxuICAgICAgICAgICAgXCJibG9ja1wiID0gY3JhZGxlYmxvY2ssIHdoaWNoIGlzIHRoZSBlbGVtZW50IHRoYXQgaXMgc2Nyb2xsZWRcblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQb3MgaXMgc2V0IGJ5IHNjcm9sbEhhbmRsZXIgZHVyaW5nIGFuZCBhZnRlciBzY3JvbGxpbmcsXG4gICAgICAgICAgICBhbmQgYnkgc2V0Q3JhZGxlQ29udGVudCBpbiBjb250ZW50SGFuZGxlciwgd2hpY2ggcmVwb3NpdGlvbnMgdGhlIGNyYWRsZS5cblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQb3MgaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gY3JhZGxlIGluaXRpYWxpemF0aW9uIGluIHJlc3BvbnNlIHRvIHJlcGFyZW50aW5nIGludGVycnVwdFxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuXG4gICAgICAgICovXG4gICAgICAgIGJsb2NrU2Nyb2xsUG9zOm51bGwsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHZhbHVlcyBjYW4gYmUgXCJzY3JvbGxUb3BcIiBvciBcInNjcm9sbExlZnRcIiAob2YgdGhlIHZpZXdwb3J0IGVsZW1lbnQpIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvblxuXG4gICAgICAgICAgICBibG9ja1Njcm9sbFByb3BlcnR5IGlzIHNldCBieSB0aGUgb3JpZW50YXRpb24gcmVjb25maWd1cmF0aW9uIGVmZmVjdCBpbiBjcmFkbGUgbW9kdWxlLlxuXG4gICAgICAgICAgICBpdCBpcyB1c2VkIHdoZXJlIGJsb2NrU2Nyb2xsUG9zIGlzIHVzZWQgYWJvdmUuXG4gICAgICAgICovXG4gICAgICAgIGJsb2NrU2Nyb2xsUHJvcGVydHk6bnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IGlzIHNldCBieVxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gc2NhZmZvbGRIYW5kbGVyIChpbml0aWFsaXphdGlvbilcbiAgICAgICAgICAgICAgICAtIHNjcm9sbEhhbmRsZXIgKGR1cmluZyBhbmQgYWZ0ZXIgc2Nyb2xsKVxuICAgICAgICAgICAgICAgIC0gaG9zdCBzY3JvbGxUb0l0ZW0gY2FsbFxuXG4gICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gc2Nyb2xsVHJhY2tlckFyZ3MgaW4gY3JhZGxlIG1vZHVsZVxuICAgICAgICAgICAgICAgIC0gcmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4IGluIHNldENyYWRsZUNvbnRlbnRcbiAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4Om51bGwsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldCBpcyBzZXQgYnlcbiAgICAgICAgICAgICAgICAtIHNldENyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHNjYWZmb2xkSGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIHBpdm90IGVmZmVjdCAoY2hhbmdlIG9mIG9yaWVudGF0aW9uKSBpbiBjcmFkbGUgbW9kdWxlXG5cbiAgICAgICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldCBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBwcmV2aW91c0F4aXNPZmZzZXQgaW4gcGl2b3QgZWZmZWN0XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG5cbiAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0Om51bGwsXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZWxlbWVudHNcblxuICAgIHB1YmxpYyBnZXRWaWV3cG9ydERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgICAgcmV0dXJuIHt3aWR0aDp2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGgsIGhlaWdodDogdmlld3BvcnRFbGVtZW50LmNsaWVudEhlaWdodH1cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsiU2NhZmZvbGRIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsImJsb2NrU2Nyb2xsUG9zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImN1cnJlbnQiLCJjcmFkbGVFbGVtZW50c1JlZiIsImF4aXNSZWYiLCJoZWFkUmVmIiwidGFpbFJlZiIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsImVsZW1lbnRzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsInN0YXJ0aW5nSW5kZXgiLCJwYWRkaW5nIiwibGlzdHNpemUiLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJNYXRoIiwibWluIiwidmlld3BvcnRFbGVtZW50Iiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiZWxlbWVudFJlZiIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/scaffoldhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scrollhandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/scrollhandler.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // scrollhandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar SCROLL_TIMEOUT_FOR_ONAFTERSCROLL = 500;\n\nvar ScrollHandler = /*#__PURE__*/_createClass(function ScrollHandler(cradleParameters) {\n  var _this = this;\n\n  _classCallCheck(this, ScrollHandler);\n\n  this.scrollData = {\n    start: 0,\n    current: 0,\n    previous: 0,\n    previousupdate: 0,\n    currentupdate: 0\n  };\n  this._scrolltimerid = null;\n  this.isScrolling = false;\n\n  this.onScroll = function (e) {\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n    var viewportElement = viewportInterruptProperties.elementRef.current;\n\n    if (viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0) {\n      // in cache\n      clearTimeout(_this._scrolltimerid);\n      return;\n    }\n\n    var scrollPositionCurrent = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    var scrollerID = _this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID; // console.log('scrollPositionCurrent in onScroll','-'+scrollerID+'-' ,scrollPositionCurrent)\n\n    if (scrollPositionCurrent < 0) {\n      // for Safari\n      return;\n    }\n\n    clearTimeout(_this._scrolltimerid);\n    var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n\n    if (signals.pauseScrollingEffects) {\n      return;\n    }\n\n    if (!_this.isScrolling) {\n      _this.isScrolling = true;\n      _this.scrollData.start = scrollPositionCurrent;\n      _this.scrollData.currentupdate = scrollPositionCurrent;\n    }\n\n    var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n    var cradlePositionData = scaffoldHandler.cradlePositionData; // keep up to date in case of reparenting interrupt\n\n    cradlePositionData.blockScrollPos = scrollPositionCurrent;\n    _this.scrollData.previous = _this.scrollData.current;\n    _this.scrollData.current = scrollPositionCurrent;\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    var cradleState = stateHandler.cradleStateRef.current;\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n        contentHandler = _this$cradleParameter.contentHandler,\n        serviceHandler = _this$cradleParameter.serviceHandler;\n\n    if (!viewportInterruptProperties.isResizing) {\n      if (cradleState == 'ready' || cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n        if (cradleState == 'ready') {\n          // const itemindex = cradlePositionData.targetAxisReferenceIndex\n          var axisVisiblePixelOffset;\n          var cradleElements = scaffoldHandler.elements;\n          var axisElement = cradleElements.axisRef.current;\n          var _viewportElement = _this.cradleParameters.viewportInterruptPropertiesRef.current.elementRef.current;\n\n          if (_this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical') {\n            axisVisiblePixelOffset = axisElement.offsetTop - _viewportElement.scrollTop;\n          } else {\n            axisVisiblePixelOffset = axisElement.offsetLeft - _viewportElement.scrollLeft;\n          } // cradlePositionData.targetAxisReferenceIndex = itemindex\n\n\n          cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n        }\n\n        if (cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n          _this.calcImpliedRepositioningData();\n\n          if (cradleState == 'repositioningRender') stateHandler.setCradleState('repositioningContinuation');\n        }\n      }\n    }\n\n    _this._scrolltimerid = setTimeout(function () {\n      _this.onAfterScroll();\n    }, SCROLL_TIMEOUT_FOR_ONAFTERSCROLL);\n    return false;\n  };\n\n  this.onAfterScroll = function () {\n    _this.isScrolling = false;\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n        stateHandler = _this$cradleParameter2.stateHandler,\n        contentHandler = _this$cradleParameter2.contentHandler,\n        cacheHandler = _this$cradleParameter2.cacheHandler;\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n    var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var cradleState = stateHandler.cradleStateRef.current;\n\n    switch (cradleState) {\n      case 'repositioningRender':\n      case 'repositioningContinuation':\n        {\n          _this.updateBlockScrollPos();\n\n          stateHandler.setCradleState('doreposition');\n          break;\n        }\n\n      default:\n        {\n          if (_this.scrollData.start != _this.scrollData.current || _this.scrollData.current != _this.scrollData.previous) {\n            if (stateHandler.isMountedRef.current) {\n              _this.updateReferenceData();\n            }\n          }\n        }\n    } // const {scaffoldHandler} = this.cradleParameters.handlersRef.current\n    // const { cradlePositionData } = scaffoldHandler\n\n\n    var cache = cradleInheritedProperties.cache;\n\n    if (cache == 'keepload') {\n      contentHandler.pareCacheToMax();\n    }\n  }; // after scroll, but not after repositioning\n\n\n  this.updateReferenceData = function () {\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n        stateHandler = _this$cradleParameter3.stateHandler,\n        scaffoldHandler = _this$cradleParameter3.scaffoldHandler;\n    var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n    if (!stateHandler.isMountedRef.current) return;\n    var axisVisiblePixelOffset;\n    var cradleElements = scaffoldHandler.elements;\n    var viewportElement = viewportInterruptProperties.elementRef.current;\n\n    if (cradleProps.orientation == 'vertical') {\n      // console.log('scrollTop in updateReferenceData',viewportElement.scrollTop)\n      axisVisiblePixelOffset = cradleElements.axisRef.current.offsetTop - viewportElement.scrollTop;\n    } else {\n      axisVisiblePixelOffset = cradleElements.axisRef.current.offsetLeft - viewportElement.scrollLeft;\n    }\n\n    var cradlePositionData = scaffoldHandler.cradlePositionData;\n    cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n\n    if (!viewportInterruptProperties.isResizing) {\n      _this.updateBlockScrollPos();\n    }\n  }; // called from finishreposition state change call above\n  // called from updateReferenceData\n\n\n  this.updateBlockScrollPos = function () {\n    var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n    var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n    var cradlePositionData = scaffoldHandler.cradlePositionData;\n    var viewportElement = viewportInterruptProperties.elementRef.current;\n\n    if (!(viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0)) {\n      // in cache\n      if (cradleProps.orientation == 'vertical') {\n        cradlePositionData.blockScrollPos = viewportElement.scrollTop;\n      } else {\n        cradlePositionData.blockScrollPos = viewportElement.scrollLeft;\n      }\n    }\n  };\n\n  this.calcImpliedRepositioningData = function () {\n    var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n    var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var cradleConfig = _this.cradleParameters.cradleInternalPropertiesRef.current;\n    var crosscount = cradleConfig.crosscount,\n        listsize = cradleConfig.listsize;\n    var viewportElement = viewportInterruptProperties.elementRef.current;\n    var orientation = cradleProps.orientation;\n    var scrollPos, cellLength;\n\n    if (orientation == 'vertical') {\n      scrollPos = viewportElement.scrollTop;\n      cellLength = cradleProps.cellHeight + cradleProps.gap; // console.log('scrollPos in calcImpliedRepositioningData', scrollPos)\n    } else {\n      scrollPos = viewportElement.scrollLeft;\n      cellLength = cradleProps.cellWidth + cradleProps.gap;\n    }\n\n    var axisPixelOffset = cellLength - scrollPos % cellLength;\n\n    if (axisPixelOffset == cellLength + cradleProps.padding) {\n      axisPixelOffset = 0;\n    }\n\n    var axisRowIndex = Math.ceil((scrollPos - cradleProps.padding) / cellLength);\n    var axisReferenceIndex = axisRowIndex * crosscount;\n    axisReferenceIndex = Math.min(axisReferenceIndex, listsize - 1);\n    var diff = axisReferenceIndex % crosscount;\n    axisReferenceIndex -= diff;\n    if (axisReferenceIndex == 0) axisPixelOffset = 0; // defensive\n\n    var cradlePositionData = _this.cradleParameters.handlersRef.current.scaffoldHandler.cradlePositionData;\n    cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n    cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n  };\n\n  this.cradleParameters = cradleParameters;\n});\n\nexports[\"default\"] = ScrollHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUExQixFQUE2QkwsZUFBZSxHQUFHLENBQWxCLENBbENXLENBa0NTOztJQUVqRCxJQUFRckMsa0JBQVIsR0FBK0IsS0FBSSxDQUFDNUIsZ0JBQUwsQ0FBc0JzQixXQUF0QixDQUFrQ3BCLE9BQWxDLENBQTBDeUIsZUFBekUsQ0FBUUMsa0JBQVI7SUFDQUEsa0JBQWtCLENBQUM2Qyx3QkFBbkIsR0FBOENILGtCQUE5QztJQUNBMUMsa0JBQWtCLENBQUNlLHFCQUFuQixHQUEyQ3NCLGVBQTNDO0VBRUgsQ0F4Q087O0VBbk9KLEtBQUtqRSxnQkFBTCxHQUF3QkEsZ0JBQXhCO0FBRUgsQzs7QUFOTDBFLGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3Njcm9sbGhhbmRsZXIudHN4P2NlZjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2Nyb2xsaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5jb25zdCBTQ1JPTExfVElNRU9VVF9GT1JfT05BRlRFUlNDUk9MTCA9IDUwMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JvbGxIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBzY3JvbGxEYXRhID0ge3N0YXJ0OjAsIGN1cnJlbnQ6MCwgcHJldmlvdXM6MCwgcHJldmlvdXN1cGRhdGU6MCwgY3VycmVudHVwZGF0ZTowfVxuXG4gICAgcHJpdmF0ZSBfc2Nyb2xsdGltZXJpZCA9IG51bGxcblxuICAgIHByaXZhdGUgaXNTY3JvbGxpbmcgPSBmYWxzZVxuXG4gICAgcHVibGljIG9uU2Nyb2xsID0gKGUpID0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICgodmlld3BvcnRFbGVtZW50LmNsaWVudFdpZHRoID09IDAgICYmIHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpIHsvLyBpbiBjYWNoZVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPSBcbiAgICAgICAgICAgICh0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICBjb25zdCBzY3JvbGxlcklEID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudC5zY3JvbGxlcklEXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxQb3NpdGlvbkN1cnJlbnQgaW4gb25TY3JvbGwnLCctJytzY3JvbGxlcklEKyctJyAsc2Nyb2xsUG9zaXRpb25DdXJyZW50KVxuXG4gICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPCAwKSB7IC8vIGZvciBTYWZhcmlcblxuICAgICAgICAgICAgcmV0dXJuIFxuXG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2Nyb2xsdGltZXJpZClcblxuICAgICAgICBjb25zdCB7c2lnbmFsc30gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLnNjcm9sbERhdGEuc3RhcnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgICAgICAvLyBrZWVwIHVwIHRvIGRhdGUgaW4gY2FzZSBvZiByZXBhcmVudGluZyBpbnRlcnJ1cHRcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzID0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnRcbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcblxuICAgICAgICBjb25zdCB7c3RhdGVIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7Y29udGVudEhhbmRsZXIsIHNlcnZpY2VIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICBpZiAoKGNyYWRsZVN0YXRlID09ICdyZWFkeScpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlYWR5Jykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGl0ZW1pbmRleCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGF4aXNFbGVtZW50Lm9mZnNldFRvcCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGF4aXNFbGVtZW50Lm9mZnNldExlZnQgLSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ID0gaXRlbWluZGV4XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nUmVuZGVyJykgfHwgKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJykpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEoKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmdDb250aW51YXRpb24nKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Njcm9sbHRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5vbkFmdGVyU2Nyb2xsKClcblxuICAgICAgICB9LFNDUk9MTF9USU1FT1VUX0ZPUl9PTkFGVEVSU0NST0xMKVxuXG4gICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgfVxuXG5cbiAgICBwcml2YXRlIG9uQWZ0ZXJTY3JvbGwgPSAoKSA9PiB7XG5cbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICAgICAgY29uc3Qge3N0YXRlSGFuZGxlciwgY29udGVudEhhbmRsZXIsIGNhY2hlSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjcmFkbGVTdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzogXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJzpcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmxvY2tTY3JvbGxQb3MoKVxuXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdkb3JlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnNjcm9sbERhdGEuc3RhcnQgIT0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQpIHx8IFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgIT0gdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWZlcmVuY2VEYXRhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0IHtzY2FmZm9sZEhhbmRsZXJ9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcbiAgICAgICAgLy8gY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKGNhY2hlID09ICdrZWVwbG9hZCcpIHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnBhcmVDYWNoZVRvTWF4KClcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gYWZ0ZXIgc2Nyb2xsLCBidXQgbm90IGFmdGVyIHJlcG9zaXRpb25pbmdcbiAgICBwcml2YXRlIHVwZGF0ZVJlZmVyZW5jZURhdGEgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIsIHNjYWZmb2xkSGFuZGxlciB9IFxuICAgICAgICAgICAgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZVByb3BzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoIXN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgbGV0IGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXRcbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBzY2FmZm9sZEhhbmRsZXIuZWxlbWVudHNcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG4gICAgICAgIGlmIChjcmFkbGVQcm9wcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2Nyb2xsVG9wIGluIHVwZGF0ZVJlZmVyZW5jZURhdGEnLHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3ApXG4gICAgICAgICAgICBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50Lm9mZnNldFRvcCAtIFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGNyYWRsZUVsZW1lbnRzLmF4aXNSZWYuY3VycmVudC5vZmZzZXRMZWZ0IC0gXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrU2Nyb2xsUG9zKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBjYWxsZWQgZnJvbSBmaW5pc2hyZXBvc2l0aW9uIHN0YXRlIGNoYW5nZSBjYWxsIGFib3ZlXG4gICAgLy8gY2FsbGVkIGZyb20gdXBkYXRlUmVmZXJlbmNlRGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQmxvY2tTY3JvbGxQb3MgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCEoKHZpZXdwb3J0RWxlbWVudC5jbGllbnRXaWR0aCA9PSAwKSAgJiYgKHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpKSB7Ly8gaW4gY2FjaGVcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVByb3BzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY0ltcGxpZWRSZXBvc2l0aW9uaW5nRGF0YSA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbmZpZyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtjcm9zc2NvdW50LCBsaXN0c2l6ZX0gPSBjcmFkbGVDb25maWdcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7b3JpZW50YXRpb259ID0gY3JhZGxlUHJvcHNcbiAgICAgICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbEhlaWdodCArIGNyYWRsZVByb3BzLmdhcFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Njcm9sbFBvcyBpbiBjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhJywgc2Nyb2xsUG9zKVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbFdpZHRoICsgY3JhZGxlUHJvcHMuZ2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzUGl4ZWxPZmZzZXQgPSBjZWxsTGVuZ3RoIC0gKHNjcm9sbFBvcyAlIGNlbGxMZW5ndGgpXG4gICAgICAgIGlmIChheGlzUGl4ZWxPZmZzZXQgPT0gKGNlbGxMZW5ndGggKyBjcmFkbGVQcm9wcy5wYWRkaW5nKSkge1xuICAgICAgICAgICAgYXhpc1BpeGVsT2Zmc2V0ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXhpc1Jvd0luZGV4ID0gTWF0aC5jZWlsKChzY3JvbGxQb3MgLSBjcmFkbGVQcm9wcy5wYWRkaW5nKS9jZWxsTGVuZ3RoKVxuICAgICAgICBsZXQgYXhpc1JlZmVyZW5jZUluZGV4ID0gYXhpc1Jvd0luZGV4ICogY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbihheGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgICAgICBjb25zdCBkaWZmID0gYXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggLT0gZGlmZlxuXG4gICAgICAgIGlmIChheGlzUmVmZXJlbmNlSW5kZXggPT0gMCkgYXhpc1BpeGVsT2Zmc2V0ID0gMCAvLyBkZWZlbnNpdmVcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiU0NST0xMX1RJTUVPVVRfRk9SX09OQUZURVJTQ1JPTEwiLCJTY3JvbGxIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsInN0YXJ0IiwiY3VycmVudCIsInByZXZpb3VzIiwicHJldmlvdXN1cGRhdGUiLCJjdXJyZW50dXBkYXRlIiwiZSIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImNsZWFyVGltZW91dCIsIl9zY3JvbGx0aW1lcmlkIiwic2Nyb2xsUG9zaXRpb25DdXJyZW50IiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsIm9yaWVudGF0aW9uIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInNjcm9sbGVySUQiLCJzaWduYWxzIiwiaGFuZGxlcnNSZWYiLCJpbnRlcnJ1cHRIYW5kbGVyIiwicGF1c2VTY3JvbGxpbmdFZmZlY3RzIiwiaXNTY3JvbGxpbmciLCJzY3JvbGxEYXRhIiwic2NhZmZvbGRIYW5kbGVyIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwiYmxvY2tTY3JvbGxQb3MiLCJzdGF0ZUhhbmRsZXIiLCJjcmFkbGVTdGF0ZSIsImNyYWRsZVN0YXRlUmVmIiwiY29udGVudEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsImlzUmVzaXppbmciLCJheGlzVmlzaWJsZVBpeGVsT2Zmc2V0IiwiY3JhZGxlRWxlbWVudHMiLCJlbGVtZW50cyIsImF4aXNFbGVtZW50IiwiYXhpc1JlZiIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhIiwic2V0Q3JhZGxlU3RhdGUiLCJzZXRUaW1lb3V0Iiwib25BZnRlclNjcm9sbCIsImNhY2hlSGFuZGxlciIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJ1cGRhdGVCbG9ja1Njcm9sbFBvcyIsImlzTW91bnRlZFJlZiIsInVwZGF0ZVJlZmVyZW5jZURhdGEiLCJjYWNoZSIsInBhcmVDYWNoZVRvTWF4IiwiY3JhZGxlUHJvcHMiLCJjcmFkbGVDb25maWciLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjcm9zc2NvdW50IiwibGlzdHNpemUiLCJzY3JvbGxQb3MiLCJjZWxsTGVuZ3RoIiwiY2VsbEhlaWdodCIsImdhcCIsImNlbGxXaWR0aCIsImF4aXNQaXhlbE9mZnNldCIsInBhZGRpbmciLCJheGlzUm93SW5kZXgiLCJNYXRoIiwiY2VpbCIsImF4aXNSZWZlcmVuY2VJbmRleCIsIm1pbiIsImRpZmYiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/scrollhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/servicehandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/servicehandler.tsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // servicehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\")); // ServiceHandler handles client service requests\n\n\nvar ServiceHandler = /*#__PURE__*/_createClass(function ServiceHandler(cradleParameters) {\n  var _this = this;\n\n  _classCallCheck(this, ServiceHandler);\n\n  // ========================[ GENERAL ]============================\n  this.reload = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    var interruptHandler = _this.cradleParameters.handlersRef.current.interruptHandler;\n    interruptHandler.pauseInterrupts();\n    stateHandler.setCradleState('reload');\n  };\n\n  this.scrollToItem = function (index) {\n    var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n        scaffoldHandler = _this$cradleParameter.scaffoldHandler,\n        stateHandler = _this$cradleParameter.stateHandler;\n    signals.pauseScrollingEffects = true;\n    scaffoldHandler.cradlePositionData.targetAxisReferenceIndex = index;\n    stateHandler.setCradleState('doreposition');\n  };\n\n  this.setListsize = function (listsize) {\n    var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n    cacheHandler.changeListsize(listsize, _this.callbacks.cacheDeleteListCallback);\n  }; // ======================[ GET SNAPSHOTS ]========================\n\n\n  this.getCacheMap = function () {\n    var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n    return cacheHandler.getCacheMap();\n  };\n\n  this.getCacheList = function () {\n    var cacheHandler = _this.cradleParameters.handlersRef.current.cacheHandler;\n    return cacheHandler.getCacheList();\n  };\n\n  this.getCradleMap = function () {\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n        cacheHandler = _this$cradleParameter2.cacheHandler,\n        contentHandler = _this$cradleParameter2.contentHandler;\n    var modelIndexList = contentHandler.getModelIndexList();\n    return cacheHandler.getCradleMap(modelIndexList);\n  }; // =================[ CACHE MANAGEMENT REQUESTS ]==================\n\n\n  this.clearCache = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    stateHandler.setCradleState('clearcache');\n  }; // blank index values (itemID) are assigned a new \n  // itemID if in the cradle, otherwise removed from the cache.\n  // Duplicate index/itemID pairs have the itemID turned to blank\n  // and are processed by the above rule\n\n\n  this.modifyCacheMap = function (modifyMap) {\n    // console.log('modifyMap in serviceHandler',modifyMap)\n    var modifymapsize = modifyMap.size;\n    if (modifymapsize == 0) return true;\n    var unitIDset = new Set(modifyMap.values());\n    var unitidsetsize = unitIDset.size;\n\n    if (modifymapsize != unitidsetsize) {\n      var modifyUnitIDCount = new Map();\n      modifyMap.forEach(function (cacheUnitID, index) {\n        if (!modifyUnitIDCount.has(cacheUnitID)) {\n          modifyUnitIDCount.set(cacheUnitID, 1);\n        } else {\n          modifyUnitIDCount.set(cacheUnitID, modifyUnitIDCount.get(cacheUnitID) + 1);\n        }\n      });\n      modifyUnitIDCount[\"delete\"](null); // legitimate\n\n      var duplicateunits = new Map();\n      modifyUnitIDCount.forEach(function (count, cacheUnitID) {\n        if (count > 1) {\n          duplicateunits.set(cacheUnitID, count);\n        }\n      });\n\n      if (duplicateunits.size) {\n        console.log('WARNING: modifyCacheMap rejected: \\\n                    duplicate cacheUnitID index assignment values found:\\\n                    duplicateCacheUnitIDs, modifyMap', duplicateunits, modifyMap);\n        return false;\n      }\n    }\n\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n        cacheHandler = _this$cradleParameter3.cacheHandler,\n        contentHandler = _this$cradleParameter3.contentHandler; // apply changes to cache index and itemID maps\n\n    var _cacheHandler$cachePr = cacheHandler.cacheProps,\n        metadataMap = _cacheHandler$cachePr.metadataMap,\n        indexToItemIDMap = _cacheHandler$cachePr.indexToItemIDMap; // const cradleMap = this.getCradleMap() // index to itemID\n\n    var duplicates = new Map();\n    var processed = new Map();\n    var originalitemindex = new Map();\n    var ignored = new Map();\n    var pending = new Map();\n    modifyMap.forEach(function (itemID, index) {\n      if (itemID === null) {\n        pending.set(index, null);\n      } else {\n        if (!indexToItemIDMap.has(index)) {\n          // not in cache\n          ignored.set(index, itemID);\n        } else {\n          if (indexToItemIDMap.get(index) != itemID) {\n            // modification requested\n            indexToItemIDMap.set(index, itemID); // modiication applied, part 1\n\n            var data = metadataMap.get(itemID);\n            originalitemindex.set(itemID, data.index);\n            data.index = index; // modification applied, part 2\n\n            processed.set(index, itemID);\n          }\n        }\n      }\n    }); // console.log('ignored,processed',ignored,processed)\n\n    if (processed.size == 0 && pending.size == 0) return true;\n\n    if (processed.size) {\n      cacheHandler.cacheProps.modified = true;\n      cacheHandler.renderPortalList();\n    } // eliminate duplicate itemIDs in index map\n    // if the original index for the re-assigned cache item still maps to the cache item,\n    // then there is a duplicate\n\n\n    originalitemindex.forEach(function (itemID, index) {\n      if (indexToItemIDMap.has(index) && indexToItemIDMap.get(index) == itemID) {\n        duplicates.set(itemID, index);\n      }\n    });\n    var retval = true;\n\n    if (duplicates.size) {\n      retval = false;\n      console.log('WARNING: original mapping for re-assigned cache item ID(s) was left \\\n                unchanged by modifyCacheMap, creating duplicates:\\\n                \\nduplicates, modifyMap\\n', duplicates, modifyMap, '\\nDuplicates left behind will be cleared.');\n      duplicates.forEach(function (index, itemID) {\n        pending.set(index, null);\n      });\n    }\n\n    if (pending.size) {\n      pending.forEach(function (value, index) {\n        modifyMap.set(index, value); // assert null for itemID\n      });\n    } // apply changes to extant cellFrames\n\n\n    var cradleModelComponents = contentHandler.content.cradleModelComponents;\n    var modifiedCellFrames = new Map();\n    cradleModelComponents.forEach(function (component) {\n      var index = component.props.index;\n\n      if (modifyMap.has(index)) {\n        var itemID = component.props.itemID;\n        var newItemID = modifyMap.get(index);\n\n        if (newItemID === null) {\n          newItemID = cacheHandler.getNewItemID();\n        }\n\n        if (newItemID != itemID) {\n          var instanceID = component.props.instanceID;\n          modifiedCellFrames.set(instanceID, react_1[\"default\"].cloneElement(component, {\n            itemID: newItemID\n          }));\n        }\n      }\n    }); // console.log('modifiedCellFrames',modifiedCellFrames)\n\n    if (modifiedCellFrames.size) {\n      contentHandler.updateCellFrames(modifiedCellFrames);\n    }\n\n    return true;\n  }; // TODO implement hightrange logic\n\n\n  this.moveIndex = function (toindex, fromindex) {\n    var highrange = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    if (fromindex == toindex) return;\n    var _this$cradleParameter4 = _this.cradleParameters.handlersRef.current,\n        cacheHandler = _this$cradleParameter4.cacheHandler,\n        contentHandler = _this$cradleParameter4.contentHandler,\n        stateHandler = _this$cradleParameter4.stateHandler;\n    var processedIndexList = cacheHandler.moveIndex(toindex, fromindex, highrange);\n\n    if (processedIndexList.length) {\n      cacheHandler.cacheProps.modified = true;\n      cacheHandler.renderPortalList();\n      contentHandler.changeCradleItemIDs(processedIndexList);\n      stateHandler.setCradleState('applycellframechanges');\n    }\n  };\n\n  this.insertIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // console.log('service handler called to insert index', index, rangehighindex)\n    _this.insertRemoveIndex(index, rangehighindex, +1);\n  };\n\n  this.removeIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // console.log('service handler called to remove index', index, rangehighindex)\n    _this.insertRemoveIndex(index, rangehighindex, -1);\n  }; // shared logic\n\n\n  this.insertRemoveIndex = function (index, rangehighindex, increment) {\n    var _this$cradleParameter5 = _this.cradleParameters.handlersRef.current,\n        cacheHandler = _this$cradleParameter5.cacheHandler,\n        contentHandler = _this$cradleParameter5.contentHandler,\n        stateHandler = _this$cradleParameter5.stateHandler;\n    var listsize = _this.cradleParameters.cradleInternalPropertiesRef.current.listsize;\n\n    var _cacheHandler$increme = cacheHandler.incrementFromIndex(index, rangehighindex, increment),\n        _cacheHandler$increme2 = _slicedToArray(_cacheHandler$increme, 3),\n        changeList = _cacheHandler$increme2[0],\n        removeList = _cacheHandler$increme2[1],\n        rangeincrement = _cacheHandler$increme2[2]; // console.log('insertRemoveIndex: listsize, changeList, removeList',listsize, changeList, removeList)\n\n\n    contentHandler.changeCradleItemIDs(changeList);\n    if (increment == +1) contentHandler.createNewItemIDs(removeList);\n    stateHandler.setCradleState('applycellframechanges');\n    var changecount = rangeincrement; // (removeList.length * increment)\n\n    var newlistsize = listsize + changecount;\n\n    _this.setListsize(newlistsize);\n  };\n\n  this.cradleParameters = cradleParameters; // doing this explicitly here for documentation\n\n  var _cradleParameters$ext = cradleParameters.externalCallbacksRef.current,\n      referenceIndexCallback = _cradleParameters$ext.referenceIndexCallback,\n      preloadIndexCallback = _cradleParameters$ext.preloadIndexCallback,\n      cacheDeleteListCallback = _cradleParameters$ext.cacheDeleteListCallback,\n      newListSizeCallback = _cradleParameters$ext.newListSizeCallback;\n  var callbacks = {\n    referenceIndexCallback: referenceIndexCallback,\n    preloadIndexCallback: preloadIndexCallback,\n    cacheDeleteListCallback: cacheDeleteListCallback,\n    newListSizeCallback: newListSizeCallback\n  };\n  this.callbacks = callbacks;\n});\n\nexports[\"default\"] = ServiceHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0VBQUEsSUFJSXdFLG1CQUpKLHlCQUlJQSxtQkFKSjtFQU9BLElBQU16RSxTQUFTLEdBQUc7SUFDZHVFLHNCQUFzQixFQUF0QkEsc0JBRGM7SUFFZEMsb0JBQW9CLEVBQXBCQSxvQkFGYztJQUdkdkUsdUJBQXVCLEVBQXZCQSx1QkFIYztJQUlkd0UsbUJBQW1CLEVBQW5CQTtFQUpjLENBQWxCO0VBT0EsS0FBS3pFLFNBQUwsR0FBaUJBLFNBQWpCO0FBRUYsQzs7QUF2QkwwRSxrQkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zZXJ2aWNlaGFuZGxlci50c3g/OWNiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXJ2aWNlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbi8vIFNlcnZpY2VIYW5kbGVyIGhhbmRsZXMgY2xpZW50IHNlcnZpY2UgcmVxdWVzdHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2VIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgICAgIC8vIGRvaW5nIHRoaXMgZXhwbGljaXRseSBoZXJlIGZvciBkb2N1bWVudGF0aW9uXG4gICAgICAgY29uc3Qge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgIG5ld0xpc3RTaXplQ2FsbGJhY2ssXG4gICAgICAgfSA9IGNyYWRsZVBhcmFtZXRlcnMuZXh0ZXJuYWxDYWxsYmFja3NSZWYuY3VycmVudFxuXG4gICAgICAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgY2FjaGVEZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgIG5ld0xpc3RTaXplQ2FsbGJhY2ssXG4gICAgICAgfVxuXG4gICAgICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3NcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgLy8gc2VlIGFib3ZlIGZvciBsaXN0XG4gICAgcHVibGljIGNhbGxiYWNrc1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09WyBHRU5FUkFMIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHsgaW50ZXJydXB0SGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpXG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdyZWxvYWQnKVxuXG4gICAgfVxuXG5cbiAgICBwdWJsaWMgc2Nyb2xsVG9JdGVtID0gKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG4gICAgICAgIGNvbnN0IHsgc2NhZmZvbGRIYW5kbGVyLCBzdGF0ZUhhbmRsZXJ9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBzY2FmZm9sZEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IGluZGV4XG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdkb3JlcG9zaXRpb24nKVxuXG4gICAgfVxuXG4gICAgcHVibGljIHNldExpc3RzaXplID0gKGxpc3RzaXplKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY2FjaGVIYW5kbGVyLmNoYW5nZUxpc3RzaXplKGxpc3RzaXplLCB0aGlzLmNhbGxiYWNrcy5jYWNoZURlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1bIEdFVCBTTkFQU0hPVFMgXT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIGdldENhY2hlTWFwID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIHJldHVybiBjYWNoZUhhbmRsZXIuZ2V0Q2FjaGVNYXAoKVxuXG4gICAgfVxuXG4gICAgcHVibGljIGdldENhY2hlTGlzdCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNhY2hlSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICByZXR1cm4gY2FjaGVIYW5kbGVyLmdldENhY2hlTGlzdCgpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3JhZGxlTWFwID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyLCBjb250ZW50SGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBtb2RlbEluZGV4TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmdldE1vZGVsSW5kZXhMaXN0KClcbiAgICAgICAgcmV0dXJuIGNhY2hlSGFuZGxlci5nZXRDcmFkbGVNYXAobW9kZWxJbmRleExpc3QpXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT1bIENBQ0hFIE1BTkFHRU1FTlQgUkVRVUVTVFMgXT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIGNsZWFyQ2FjaGUgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdjbGVhcmNhY2hlJylcblxuICAgIH1cblxuICAgIC8vIGJsYW5rIGluZGV4IHZhbHVlcyAoaXRlbUlEKSBhcmUgYXNzaWduZWQgYSBuZXcgXG4gICAgLy8gaXRlbUlEIGlmIGluIHRoZSBjcmFkbGUsIG90aGVyd2lzZSByZW1vdmVkIGZyb20gdGhlIGNhY2hlLlxuICAgIC8vIER1cGxpY2F0ZSBpbmRleC9pdGVtSUQgcGFpcnMgaGF2ZSB0aGUgaXRlbUlEIHR1cm5lZCB0byBibGFua1xuICAgIC8vIGFuZCBhcmUgcHJvY2Vzc2VkIGJ5IHRoZSBhYm92ZSBydWxlXG4gICAgcHVibGljIG1vZGlmeUNhY2hlTWFwID0gKG1vZGlmeU1hcCkgPT4geyAvLyBpbmRleCA9PiBpdGVtSURcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9kaWZ5TWFwIGluIHNlcnZpY2VIYW5kbGVyJyxtb2RpZnlNYXApXG5cbiAgICAgICAgY29uc3QgbW9kaWZ5bWFwc2l6ZSA9IG1vZGlmeU1hcC5zaXplXG5cbiAgICAgICAgaWYgKG1vZGlmeW1hcHNpemUgPT0gMCkgcmV0dXJuIHRydWVcblxuICAgICAgICBjb25zdCB1bml0SURzZXQgPSBuZXcgU2V0KG1vZGlmeU1hcC52YWx1ZXMoKSlcblxuICAgICAgICBjb25zdCB1bml0aWRzZXRzaXplID0gdW5pdElEc2V0LnNpemVcblxuICAgICAgICBpZiAobW9kaWZ5bWFwc2l6ZSAhPSB1bml0aWRzZXRzaXplKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vZGlmeVVuaXRJRENvdW50ID0gbmV3IE1hcCgpXG5cbiAgICAgICAgICAgIG1vZGlmeU1hcC5mb3JFYWNoKChjYWNoZVVuaXRJRCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZGlmeVVuaXRJRENvdW50LmhhcyhjYWNoZVVuaXRJRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5VW5pdElEQ291bnQuc2V0KGNhY2hlVW5pdElELCAxKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmeVVuaXRJRENvdW50LnNldChjYWNoZVVuaXRJRCwgbW9kaWZ5VW5pdElEQ291bnQuZ2V0KGNhY2hlVW5pdElEKSArIDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgbW9kaWZ5VW5pdElEQ291bnQuZGVsZXRlKG51bGwpIC8vIGxlZ2l0aW1hdGVcblxuICAgICAgICAgICAgY29uc3QgZHVwbGljYXRldW5pdHMgPSBuZXcgTWFwKClcbiAgICAgICAgICAgIG1vZGlmeVVuaXRJRENvdW50LmZvckVhY2goKGNvdW50LGNhY2hlVW5pdElEKT0+e1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRldW5pdHMuc2V0KGNhY2hlVW5pdElELCBjb3VudClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAoZHVwbGljYXRldW5pdHMuc2l6ZSkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dBUk5JTkc6IG1vZGlmeUNhY2hlTWFwIHJlamVjdGVkOiBcXFxuICAgICAgICAgICAgICAgICAgICBkdXBsaWNhdGUgY2FjaGVVbml0SUQgaW5kZXggYXNzaWdubWVudCB2YWx1ZXMgZm91bmQ6XFxcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlQ2FjaGVVbml0SURzLCBtb2RpZnlNYXAnLFxuICAgICAgICAgICAgICAgICAgICBkdXBsaWNhdGV1bml0cywgbW9kaWZ5TWFwKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVIYW5kbGVyLCBjb250ZW50SGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBhcHBseSBjaGFuZ2VzIHRvIGNhY2hlIGluZGV4IGFuZCBpdGVtSUQgbWFwc1xuICAgICAgICBjb25zdCB7IFxuICAgICAgICAgICAgbWV0YWRhdGFNYXAsIC8vIGl0ZW1JRCB0byBwb3J0YWwgZGF0YSwgaW5jbHVkaW5nIGluZGV4XG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwIC8vIGluZGV4IHRvIGl0ZW1JRFxuICAgICAgICB9ID0gY2FjaGVIYW5kbGVyLmNhY2hlUHJvcHMgXG4gICAgICAgIC8vIGNvbnN0IGNyYWRsZU1hcCA9IHRoaXMuZ2V0Q3JhZGxlTWFwKCkgLy8gaW5kZXggdG8gaXRlbUlEXG5cbiAgICAgICAgY29uc3QgZHVwbGljYXRlcyA9IG5ldyBNYXAoKVxuICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBuZXcgTWFwKClcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxpdGVtaW5kZXggPSBuZXcgTWFwKClcbiAgICAgICAgY29uc3QgaWdub3JlZCA9IG5ldyBNYXAoKVxuICAgICAgICBjb25zdCBwZW5kaW5nID0gbmV3IE1hcCgpXG5cbiAgICAgICAgbW9kaWZ5TWFwLmZvckVhY2goKGl0ZW1JRCxpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW1JRCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcuc2V0KGluZGV4LCBudWxsKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWluZGV4VG9JdGVtSURNYXAuaGFzKGluZGV4KSkgeyAvLyBub3QgaW4gY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlZC5zZXQoaW5kZXgsaXRlbUlEKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleFRvSXRlbUlETWFwLmdldChpbmRleCkgIT0gaXRlbUlEKSB7IC8vIG1vZGlmaWNhdGlvbiByZXF1ZXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuc2V0KGluZGV4LGl0ZW1JRCkgLy8gbW9kaWljYXRpb24gYXBwbGllZCwgcGFydCAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsaXRlbWluZGV4LnNldChpdGVtSUQsZGF0YS5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaW5kZXggPSBpbmRleCAvLyBtb2RpZmljYXRpb24gYXBwbGllZCwgcGFydCAyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQuc2V0KGluZGV4LGl0ZW1JRClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaWdub3JlZCxwcm9jZXNzZWQnLGlnbm9yZWQscHJvY2Vzc2VkKVxuXG4gICAgICAgIGlmICgocHJvY2Vzc2VkLnNpemUgPT0gMCkgJiYgKHBlbmRpbmcuc2l6ZSA9PSAwKSkgcmV0dXJuIHRydWVcblxuICAgICAgICBpZiAocHJvY2Vzc2VkLnNpemUpIHtcbiAgICAgICAgICAgIGNhY2hlSGFuZGxlci5jYWNoZVByb3BzLm1vZGlmaWVkID0gdHJ1ZVxuICAgICAgICAgICAgY2FjaGVIYW5kbGVyLnJlbmRlclBvcnRhbExpc3QoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZWxpbWluYXRlIGR1cGxpY2F0ZSBpdGVtSURzIGluIGluZGV4IG1hcFxuXG4gICAgICAgIC8vIGlmIHRoZSBvcmlnaW5hbCBpbmRleCBmb3IgdGhlIHJlLWFzc2lnbmVkIGNhY2hlIGl0ZW0gc3RpbGwgbWFwcyB0byB0aGUgY2FjaGUgaXRlbSxcbiAgICAgICAgLy8gdGhlbiB0aGVyZSBpcyBhIGR1cGxpY2F0ZVxuICAgICAgICBvcmlnaW5hbGl0ZW1pbmRleC5mb3JFYWNoKChpdGVtSUQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXhUb0l0ZW1JRE1hcC5oYXMoaW5kZXgpICYmIChpbmRleFRvSXRlbUlETWFwLmdldChpbmRleCkgPT0gaXRlbUlEKSkge1xuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZXMuc2V0KGl0ZW1JRCwgaW5kZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGxldCByZXR2YWwgPSB0cnVlXG4gICAgICAgIGlmIChkdXBsaWNhdGVzLnNpemUpIHtcbiAgICAgICAgICAgIHJldHZhbCA9IGZhbHNlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV0FSTklORzogb3JpZ2luYWwgbWFwcGluZyBmb3IgcmUtYXNzaWduZWQgY2FjaGUgaXRlbSBJRChzKSB3YXMgbGVmdCBcXFxuICAgICAgICAgICAgICAgIHVuY2hhbmdlZCBieSBtb2RpZnlDYWNoZU1hcCwgY3JlYXRpbmcgZHVwbGljYXRlczpcXFxuICAgICAgICAgICAgICAgIFxcbmR1cGxpY2F0ZXMsIG1vZGlmeU1hcFxcbicsXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlcywgbW9kaWZ5TWFwLCBcbiAgICAgICAgICAgICAgICAnXFxuRHVwbGljYXRlcyBsZWZ0IGJlaGluZCB3aWxsIGJlIGNsZWFyZWQuJylcbiAgICAgICAgICAgIGR1cGxpY2F0ZXMuZm9yRWFjaCgoaW5kZXgsIGl0ZW1JRCk9PntcbiAgICAgICAgICAgICAgICBwZW5kaW5nLnNldChpbmRleCxudWxsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwZW5kaW5nLnNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmcuZm9yRWFjaCgodmFsdWUsIGluZGV4KT0+eyAvLyB2YWx1ZSBpcyBhbHdheXMgbnVsbFxuICAgICAgICAgICAgICAgIG1vZGlmeU1hcC5zZXQoaW5kZXgsIHZhbHVlKSAvLyBhc3NlcnQgbnVsbCBmb3IgaXRlbUlEXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgY2hhbmdlcyB0byBleHRhbnQgY2VsbEZyYW1lc1xuICAgICAgICBjb25zdCB7IGNyYWRsZU1vZGVsQ29tcG9uZW50cyB9ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgICAgIGNvbnN0IG1vZGlmaWVkQ2VsbEZyYW1lcyA9IG5ldyBNYXAoKVxuXG4gICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LnByb3BzLmluZGV4XG4gICAgICAgICAgICBpZiAobW9kaWZ5TWFwLmhhcyhpbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSUQgPSBjb21wb25lbnQucHJvcHMuaXRlbUlEXG4gICAgICAgICAgICAgICAgbGV0IG5ld0l0ZW1JRCA9IG1vZGlmeU1hcC5nZXQoaW5kZXgpXG4gICAgICAgICAgICAgICAgaWYgKG5ld0l0ZW1JRCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtSUQgPSBjYWNoZUhhbmRsZXIuZ2V0TmV3SXRlbUlEKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCBuZXdJdGVtSUQgIT0gaXRlbUlEICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlSUQgPSBjb21wb25lbnQucHJvcHMuaW5zdGFuY2VJRFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZENlbGxGcmFtZXMuc2V0KGluc3RhbmNlSUQsIFJlYWN0LmNsb25lRWxlbWVudChjb21wb25lbnQsIHtpdGVtSUQ6bmV3SXRlbUlEfSkpXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ21vZGlmaWVkQ2VsbEZyYW1lcycsbW9kaWZpZWRDZWxsRnJhbWVzKVxuXG4gICAgICAgIGlmIChtb2RpZmllZENlbGxGcmFtZXMuc2l6ZSkge1xuXG4gICAgICAgICAgICBjb250ZW50SGFuZGxlci51cGRhdGVDZWxsRnJhbWVzKG1vZGlmaWVkQ2VsbEZyYW1lcylcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAgIH1cblxuICAgIC8vIFRPRE8gaW1wbGVtZW50IGhpZ2h0cmFuZ2UgbG9naWNcbiAgICBwdWJsaWMgbW92ZUluZGV4ID0gKHRvaW5kZXgsIGZyb21pbmRleCwgaGlnaHJhbmdlID0gbnVsbCkgPT4ge1xuXG4gICAgICAgIGlmIChmcm9taW5kZXggPT0gdG9pbmRleCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUhhbmRsZXIsIGNvbnRlbnRIYW5kbGVyLCBzdGF0ZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRJbmRleExpc3QgPSBcbiAgICAgICAgICAgIGNhY2hlSGFuZGxlci5tb3ZlSW5kZXgodG9pbmRleCwgZnJvbWluZGV4LCBoaWdocmFuZ2UpXG5cbiAgICAgICAgaWYgKHByb2Nlc3NlZEluZGV4TGlzdC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgY2FjaGVIYW5kbGVyLmNhY2hlUHJvcHMubW9kaWZpZWQgPSB0cnVlXG4gICAgICAgICAgICBjYWNoZUhhbmRsZXIucmVuZGVyUG9ydGFsTGlzdCgpXG4gICAgICAgICAgICBjb250ZW50SGFuZGxlci5jaGFuZ2VDcmFkbGVJdGVtSURzKHByb2Nlc3NlZEluZGV4TGlzdClcbiAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnYXBwbHljZWxsZnJhbWVjaGFuZ2VzJylcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW5zZXJ0SW5kZXggPSAoaW5kZXgsIHJhbmdlaGlnaGluZGV4ID0gbnVsbCkgPT4ge1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZXJ2aWNlIGhhbmRsZXIgY2FsbGVkIHRvIGluc2VydCBpbmRleCcsIGluZGV4LCByYW5nZWhpZ2hpbmRleClcblxuICAgICAgICB0aGlzLmluc2VydFJlbW92ZUluZGV4KGluZGV4LCByYW5nZWhpZ2hpbmRleCwgKzEpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlSW5kZXggPSAoaW5kZXgsIHJhbmdlaGlnaGluZGV4ID0gbnVsbCkgPT4ge1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZXJ2aWNlIGhhbmRsZXIgY2FsbGVkIHRvIHJlbW92ZSBpbmRleCcsIGluZGV4LCByYW5nZWhpZ2hpbmRleClcblxuICAgICAgICB0aGlzLmluc2VydFJlbW92ZUluZGV4KGluZGV4LCByYW5nZWhpZ2hpbmRleCwgLTEpXG5cbiAgICB9XG5cbiAgICAvLyBzaGFyZWQgbG9naWNcbiAgICBwcml2YXRlIGluc2VydFJlbW92ZUluZGV4ID0gKGluZGV4LCByYW5nZWhpZ2hpbmRleCwgaW5jcmVtZW50KSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUhhbmRsZXIsIGNvbnRlbnRIYW5kbGVyLCBzdGF0ZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIFxuICAgICAgICBjb25zdCB7IGxpc3RzaXplIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBbY2hhbmdlTGlzdCwgcmVtb3ZlTGlzdCwgcmFuZ2VpbmNyZW1lbnRdID0gY2FjaGVIYW5kbGVyLmluY3JlbWVudEZyb21JbmRleChpbmRleCwgcmFuZ2VoaWdoaW5kZXgsIGluY3JlbWVudClcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaW5zZXJ0UmVtb3ZlSW5kZXg6IGxpc3RzaXplLCBjaGFuZ2VMaXN0LCByZW1vdmVMaXN0JyxsaXN0c2l6ZSwgY2hhbmdlTGlzdCwgcmVtb3ZlTGlzdClcblxuICAgICAgICBjb250ZW50SGFuZGxlci5jaGFuZ2VDcmFkbGVJdGVtSURzKGNoYW5nZUxpc3QpXG5cbiAgICAgICAgaWYgKGluY3JlbWVudCA9PSArMSkgY29udGVudEhhbmRsZXIuY3JlYXRlTmV3SXRlbUlEcyhyZW1vdmVMaXN0KVxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnYXBwbHljZWxsZnJhbWVjaGFuZ2VzJylcblxuICAgICAgICBjb25zdCBjaGFuZ2Vjb3VudCA9IHJhbmdlaW5jcmVtZW50IC8vIChyZW1vdmVMaXN0Lmxlbmd0aCAqIGluY3JlbWVudClcbiAgICAgICAgY29uc3QgbmV3bGlzdHNpemUgPSBsaXN0c2l6ZSArIGNoYW5nZWNvdW50IFxuXG4gICAgICAgIHRoaXMuc2V0TGlzdHNpemUobmV3bGlzdHNpemUpXG5cbiAgICB9XG5cbn1cblxuIl0sIm5hbWVzIjpbIlNlcnZpY2VIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsInN0YXRlSGFuZGxlciIsImhhbmRsZXJzUmVmIiwiY3VycmVudCIsImludGVycnVwdEhhbmRsZXIiLCJwYXVzZUludGVycnVwdHMiLCJzZXRDcmFkbGVTdGF0ZSIsImluZGV4Iiwic2lnbmFscyIsInNjYWZmb2xkSGFuZGxlciIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsImNyYWRsZVBvc2l0aW9uRGF0YSIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsImxpc3RzaXplIiwiY2FjaGVIYW5kbGVyIiwiY2hhbmdlTGlzdHNpemUiLCJjYWxsYmFja3MiLCJjYWNoZURlbGV0ZUxpc3RDYWxsYmFjayIsImdldENhY2hlTWFwIiwiZ2V0Q2FjaGVMaXN0IiwiY29udGVudEhhbmRsZXIiLCJtb2RlbEluZGV4TGlzdCIsImdldE1vZGVsSW5kZXhMaXN0IiwiZ2V0Q3JhZGxlTWFwIiwibW9kaWZ5TWFwIiwibW9kaWZ5bWFwc2l6ZSIsInNpemUiLCJ1bml0SURzZXQiLCJTZXQiLCJ2YWx1ZXMiLCJ1bml0aWRzZXRzaXplIiwibW9kaWZ5VW5pdElEQ291bnQiLCJNYXAiLCJmb3JFYWNoIiwiY2FjaGVVbml0SUQiLCJoYXMiLCJzZXQiLCJnZXQiLCJkdXBsaWNhdGV1bml0cyIsImNvdW50IiwiY29uc29sZSIsImxvZyIsImNhY2hlUHJvcHMiLCJtZXRhZGF0YU1hcCIsImluZGV4VG9JdGVtSURNYXAiLCJkdXBsaWNhdGVzIiwicHJvY2Vzc2VkIiwib3JpZ2luYWxpdGVtaW5kZXgiLCJpZ25vcmVkIiwicGVuZGluZyIsIml0ZW1JRCIsImRhdGEiLCJtb2RpZmllZCIsInJlbmRlclBvcnRhbExpc3QiLCJyZXR2YWwiLCJ2YWx1ZSIsImNyYWRsZU1vZGVsQ29tcG9uZW50cyIsImNvbnRlbnQiLCJtb2RpZmllZENlbGxGcmFtZXMiLCJjb21wb25lbnQiLCJwcm9wcyIsIm5ld0l0ZW1JRCIsImdldE5ld0l0ZW1JRCIsImluc3RhbmNlSUQiLCJyZWFjdF8xIiwiY2xvbmVFbGVtZW50IiwidXBkYXRlQ2VsbEZyYW1lcyIsInRvaW5kZXgiLCJmcm9taW5kZXgiLCJoaWdocmFuZ2UiLCJwcm9jZXNzZWRJbmRleExpc3QiLCJtb3ZlSW5kZXgiLCJsZW5ndGgiLCJjaGFuZ2VDcmFkbGVJdGVtSURzIiwicmFuZ2VoaWdoaW5kZXgiLCJpbnNlcnRSZW1vdmVJbmRleCIsImluY3JlbWVudCIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImluY3JlbWVudEZyb21JbmRleCIsImNoYW5nZUxpc3QiLCJyZW1vdmVMaXN0IiwicmFuZ2VpbmNyZW1lbnQiLCJjcmVhdGVOZXdJdGVtSURzIiwiY2hhbmdlY291bnQiLCJuZXdsaXN0c2l6ZSIsInNldExpc3RzaXplIiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJuZXdMaXN0U2l6ZUNhbGxiYWNrIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/servicehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/statehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/statehandler.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // statehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StateHandler = /*#__PURE__*/_createClass(function StateHandler(cradleParameters) {\n  _classCallCheck(this, StateHandler);\n\n  this.cradleParameters = cradleParameters;\n  var internalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n  this.setCradleState = internalProperties.setCradleState;\n  this.cradleStateRef = internalProperties.cradleStateRef;\n  this.isMountedRef = internalProperties.isMountedRef;\n});\n\nexports[\"default\"] = StateHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCQSxZLDZCQUVqQixzQkFBWUMsZ0JBQVosRUFBNEI7RUFBQTs7RUFFekIsS0FBS0EsZ0JBQUwsR0FBd0JBLGdCQUF4QjtFQUVBLElBQU1DLGtCQUFrQixHQUFHRCxnQkFBZ0IsQ0FBQ0UsMkJBQWpCLENBQTZDQyxPQUF4RTtFQUVBLEtBQUtDLGNBQUwsR0FBc0JILGtCQUFrQixDQUFDRyxjQUF6QztFQUNBLEtBQUtDLGNBQUwsR0FBc0JKLGtCQUFrQixDQUFDSSxjQUF6QztFQUNBLEtBQUtDLFlBQUwsR0FBb0JMLGtCQUFrQixDQUFDSyxZQUF2QztBQUVGLEM7O0FBWkxDLGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3g/NjM5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzdGF0ZWhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGVIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgICAgIGNvbnN0IGludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgIHRoaXMuc2V0Q3JhZGxlU3RhdGUgPSBpbnRlcm5hbFByb3BlcnRpZXMuc2V0Q3JhZGxlU3RhdGVcbiAgICAgICB0aGlzLmNyYWRsZVN0YXRlUmVmID0gaW50ZXJuYWxQcm9wZXJ0aWVzLmNyYWRsZVN0YXRlUmVmXG4gICAgICAgdGhpcy5pc01vdW50ZWRSZWYgPSBpbnRlcm5hbFByb3BlcnRpZXMuaXNNb3VudGVkUmVmXG4gICAgICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwdWJsaWMgY3JhZGxlU3RhdGVSZWZcbiAgICBwdWJsaWMgc2V0Q3JhZGxlU3RhdGVcbiAgICBwdWJsaWMgaXNNb3VudGVkUmVmXG5cbn1cbiJdLCJuYW1lcyI6WyJTdGF0ZUhhbmRsZXIiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiaW50ZXJuYWxQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmIiwiY3VycmVudCIsInNldENyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJpc01vdW50ZWRSZWYiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/statehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/styleshandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/styleshandler.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // styleshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StylesHandler = /*#__PURE__*/_createClass(function StylesHandler(cradleParameters) {\n  var _this = this;\n\n  _classCallCheck(this, StylesHandler);\n\n  this.setCradleStyles = function (_ref) {\n    var orientation = _ref.orientation,\n        cellHeight = _ref.cellHeight,\n        cellWidth = _ref.cellWidth,\n        gap = _ref.gap,\n        padding = _ref.padding,\n        crosscount = _ref.crosscount,\n        viewportheight = _ref.viewportheight,\n        viewportwidth = _ref.viewportwidth,\n        userstyles = _ref.userstyles,\n        triggerlineOffset = _ref.triggerlineOffset;\n\n    // TODO: change 'cradle' to 'head' and 'tail' for more granularity\n    // TODO: triggerline offset for head styles experimentally set to negative\n    //    to assure a brealline is always available for notification\n    var headstyles = _this.getHeadStyles(gap, padding, orientation, userstyles.cradle);\n\n    var tailstyles = _this.getTailStyles(gap, padding, orientation, userstyles.cradle);\n\n    var axisstyles = _this.getAxisStyles(gap, padding, orientation, userstyles.axis);\n\n    var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n\n    var triggerlineheadstyles = _this.getTriggerlineHeadStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n    var triggerlinetailstyles = _this.getTriggerlineTailStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n    scaffoldHandler.triggerlineSpan = _this.tailTriggerlineOffset - _this.headTriggerlineOffset;\n    var cradledividerstyles = {\n      zIndex: 1,\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      boxShadow: '0 0 5px 3px red'\n    };\n    headstyles.gridGap = gap + 'px';\n    tailstyles.gridGap = gap + 'px';\n\n    if (orientation == 'horizontal') {\n      headstyles.padding = \"\".concat(padding, \"px 0 \").concat(padding, \"px \").concat(padding, \"px\");\n      headstyles.width = 'auto';\n      headstyles.height = '100%';\n      headstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n      //     sets length of horiz cradle items in one line (row), not multi-row config\n\n      headstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n      headstyles.gridTemplateColumns = 'none';\n      tailstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px 0\");\n      tailstyles.width = 'auto';\n      tailstyles.height = '100%';\n      tailstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n      //     sets length of horiz cradle items in one line (row), not multi-row config\n\n      tailstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n      tailstyles.gridTemplateColumns = 'none';\n    } else if (orientation == 'vertical') {\n      headstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px 0 \").concat(padding, \"px\");\n      headstyles.width = '100%';\n      headstyles.height = 'auto';\n      headstyles.gridAutoFlow = 'row';\n      headstyles.gridTemplateRows = 'none';\n      headstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fill, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n      tailstyles.padding = \"0 \".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px\");\n      tailstyles.width = '100%';\n      tailstyles.height = 'auto';\n      tailstyles.gridAutoFlow = 'row';\n      tailstyles.gridTemplateRows = 'none';\n      tailstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fill, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n    }\n\n    return [headstyles, tailstyles, axisstyles, triggerlineheadstyles, triggerlinetailstyles, cradledividerstyles];\n  };\n\n  this.getHeadStyles = function (gap, padding, orientation, userheadstyles) {\n    var bottom, left, top, right;\n\n    if (orientation == 'vertical') {\n      bottom = 0;\n      left = 0;\n      right = 0;\n      top = 'auto';\n    } else {\n      bottom = 0;\n      left = 'auto';\n      right = 0;\n      top = 0;\n    }\n\n    return Object.assign(Object.assign({}, {\n      position: 'absolute',\n      backgroundColor: 'blue',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      justifyContent: 'start',\n      alignContent: 'start',\n      boxSizing: 'border-box',\n      bottom: bottom,\n      left: left,\n      right: right,\n      top: top\n    }), userheadstyles);\n  };\n\n  this.getTailStyles = function (gap, padding, orientation, usertailstyles) {\n    var bottom, left, top, right;\n\n    if (orientation == 'vertical') {\n      bottom = 'auto';\n      left = 0;\n      right = 0;\n      top = 0;\n    } else {\n      bottom = 0;\n      left = 0;\n      right = 'auto';\n      top = 0;\n    }\n\n    return Object.assign(Object.assign({}, {\n      position: 'absolute',\n      backgroundColor: 'blue',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      justifyContent: 'start',\n      alignContent: 'start',\n      boxSizing: 'border-box',\n      top: top,\n      left: left,\n      right: right,\n      bottom: bottom\n    }), usertailstyles);\n  };\n\n  this.getAxisStyles = function (gap, padding, orientation, useraxisstyles) {\n    var top, left, width, height; // for axis\n\n    if (orientation == 'vertical') {\n      top = padding + 'px';\n      left = 'auto';\n      width = '100%';\n      height = 'auto';\n    } else {\n      top = 'auto';\n      left = padding + 'px';\n      width = 0;\n      height = '100%';\n    }\n\n    return Object.assign(Object.assign({}, {\n      position: 'relative',\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    }), useraxisstyles);\n  };\n\n  this.getTriggerlineTailStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n    var transform; // for position relative to axis\n\n    var position = 'absolute',\n        width = '100%',\n        height = '100%';\n    _this.tailTriggerlineOffset = triggerlineOffset;\n\n    if (orientation == 'horizontal') {\n      transform = \"translateX(\".concat(triggerlineOffset + 'px', \")\");\n    } else {\n      transform = \"translateY(\".concat(triggerlineOffset + 'px', \")\");\n    }\n\n    return Object.assign({}, {\n      position: position,\n      width: width,\n      height: height,\n      transform: transform\n    });\n  };\n\n  this.getTriggerlineHeadStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n    var transform; // for position relative to axis\n\n    var position = 'absolute',\n        width = '100%',\n        height = '100%';\n\n    if (orientation == 'horizontal') {\n      _this.headTriggerlineOffset = -(cellWidth + gap - triggerlineOffset);\n      transform = \"translateX(\".concat(_this.headTriggerlineOffset + 'px', \")\");\n    } else {\n      _this.headTriggerlineOffset = -(cellHeight + gap - triggerlineOffset);\n      transform = \"translateY(\".concat(_this.headTriggerlineOffset + 'px', \")\");\n    }\n\n    return Object.assign({}, {\n      position: position,\n      width: width,\n      height: height,\n      transform: transform\n    });\n  };\n\n  this.cradleParameters = cradleParameters;\n});\n\nexports[\"default\"] = StylesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0eWxlc2hhbmRsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7OztJQUVxQkEsYSw2QkFFbEIsdUJBQVlDLGdCQUFaLEVBQTRCO0VBQUE7O0VBQUE7O0VBV3BCLHVCQUFrQixnQkFhcEI7SUFBQSxJQVhEQyxXQVdDLFFBWERBLFdBV0M7SUFBQSxJQVZEQyxVQVVDLFFBVkRBLFVBVUM7SUFBQSxJQVREQyxTQVNDLFFBVERBLFNBU0M7SUFBQSxJQVJEQyxHQVFDLFFBUkRBLEdBUUM7SUFBQSxJQVBEQyxPQU9DLFFBUERBLE9BT0M7SUFBQSxJQU5EQyxVQU1DLFFBTkRBLFVBTUM7SUFBQSxJQUxEQyxjQUtDLFFBTERBLGNBS0M7SUFBQSxJQUpEQyxhQUlDLFFBSkRBLGFBSUM7SUFBQSxJQUhEQyxVQUdDLFFBSERBLFVBR0M7SUFBQSxJQUZEQyxpQkFFQyxRQUZEQSxpQkFFQzs7SUFFRDtJQUNBO0lBQ0E7SUFDQSxJQUFNQyxVQUFVLEdBQXVCLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQlIsR0FBbkIsRUFBd0JDLE9BQXhCLEVBQWlDSixXQUFqQyxFQUE4Q1EsVUFBVSxDQUFDSSxNQUF6RCxDQUF2Qzs7SUFDQSxJQUFNQyxVQUFVLEdBQXVCLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQlgsR0FBbkIsRUFBd0JDLE9BQXhCLEVBQWlDSixXQUFqQyxFQUE4Q1EsVUFBVSxDQUFDSSxNQUF6RCxDQUF2Qzs7SUFDQSxJQUFNRyxVQUFVLEdBQXVCLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQmIsR0FBbkIsRUFBd0JDLE9BQXhCLEVBQWlDSixXQUFqQyxFQUE4Q1EsVUFBVSxDQUFDUyxJQUF6RCxDQUF2Qzs7SUFFQSxJQUFRQyxlQUFSLEdBQTRCLEtBQUksQ0FBQ25CLGdCQUFMLENBQXNCb0IsV0FBdEIsQ0FBa0NDLE9BQTlELENBQVFGLGVBQVI7O0lBQ0EsSUFBTUcscUJBQXFCLEdBQ3ZCLEtBQUksQ0FBQ0Msd0JBQUwsQ0FBOEJ0QixXQUE5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R0FBNkIsSUFBOUMsTUFBVDtJQUNILENBSEQsTUFHTztNQUNILEtBQUksQ0FBQ0EscUJBQUwsR0FBNkIsRUFBRTFCLFVBQVUsR0FBR0UsR0FBYixHQUFrQk0saUJBQXBCLENBQTdCO01BQ0F5QyxTQUFTLHdCQUFpQixLQUFJLENBQUN2QixxQkFBTCxHQUE2QixJQUE5QyxNQUFUO0lBQ0g7O0lBQ0QseUJBQVk7TUFDUkcsUUFBUSxFQUFSQSxRQURRO01BRVJDLEtBQUssRUFBTEEsS0FGUTtNQUdSQyxNQUFNLEVBQU5BLE1BSFE7TUFJUmtCLFNBQVMsRUFBVEE7SUFKUSxDQUFaO0VBTUgsQ0FuQk87O0VBNU9OLEtBQUtuRCxnQkFBTCxHQUF3QkEsZ0JBQXhCO0FBRUQsQzs7QUFOTG9ELGtCQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3N0eWxlc2hhbmRsZXIudHN4PzQ1ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGVzaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHlsZXNIYW5kbGVyIHsgXG5cbiAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwcml2YXRlIGhlYWRUcmlnZ2VybGluZU9mZnNldFxuICAgIHByaXZhdGUgdGFpbFRyaWdnZXJsaW5lT2Zmc2V0XG5cbiAgICBwdWJsaWMgc2V0Q3JhZGxlU3R5bGVzID0gKHtcblxuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICB1c2Vyc3R5bGVzLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcblxuICAgIH0pID0+IHtcblxuICAgICAgICAvLyBUT0RPOiBjaGFuZ2UgJ2NyYWRsZScgdG8gJ2hlYWQnIGFuZCAndGFpbCcgZm9yIG1vcmUgZ3JhbnVsYXJpdHlcbiAgICAgICAgLy8gVE9ETzogdHJpZ2dlcmxpbmUgb2Zmc2V0IGZvciBoZWFkIHN0eWxlcyBleHBlcmltZW50YWxseSBzZXQgdG8gbmVnYXRpdmVcbiAgICAgICAgLy8gICAgdG8gYXNzdXJlIGEgYnJlYWxsaW5lIGlzIGFsd2F5cyBhdmFpbGFibGUgZm9yIG5vdGlmaWNhdGlvblxuICAgICAgICBjb25zdCBoZWFkc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB0aGlzLmdldEhlYWRTdHlsZXMoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbiwgdXNlcnN0eWxlcy5jcmFkbGUpXG4gICAgICAgIGNvbnN0IHRhaWxzdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHRoaXMuZ2V0VGFpbFN0eWxlcyhnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2Vyc3R5bGVzLmNyYWRsZSlcbiAgICAgICAgY29uc3QgYXhpc3N0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdGhpcy5nZXRBeGlzU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXMuYXhpcylcblxuICAgICAgICBjb25zdCB7IHNjYWZmb2xkSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgdHJpZ2dlcmxpbmVoZWFkc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSBcbiAgICAgICAgICAgIHRoaXMuZ2V0VHJpZ2dlcmxpbmVIZWFkU3R5bGVzKG9yaWVudGF0aW9uLGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcClcbiAgICAgICAgY29uc3QgdHJpZ2dlcmxpbmV0YWlsc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSBcbiAgICAgICAgICAgIHRoaXMuZ2V0VHJpZ2dlcmxpbmVUYWlsU3R5bGVzKG9yaWVudGF0aW9uLGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcClcbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyLnRyaWdnZXJsaW5lU3BhbiA9IHRoaXMudGFpbFRyaWdnZXJsaW5lT2Zmc2V0IC0gdGhpcy5oZWFkVHJpZ2dlcmxpbmVPZmZzZXRcblxuICAgICAgICBjb25zdCBjcmFkbGVkaXZpZGVyc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB6SW5kZXg6MSwgXG4gICAgICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICB3aWR0aDonMTAwJScsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OicxMDAlJyxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6JzAgMCA1cHggM3B4IHJlZCdcbiAgICAgICAgICAgIH1cblxuICAgICAgICBoZWFkc3R5bGVzLmdyaWRHYXAgPSBnYXAgKyAncHgnXG5cbiAgICAgICAgdGFpbHN0eWxlcy5ncmlkR2FwID0gZ2FwICsgJ3B4J1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5wYWRkaW5nID0gYCR7cGFkZGluZ31weCAwICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMud2lkdGggPSAnYXV0bydcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdjb2x1bW4nXG4gICAgICAgICAgICAvLyBleHBsaWN0IGNyb3NzY291bnQgbmV4dCBsaW5lIGFzIHdvcmthcm91bmQgZm9yIEZGIHByb2JsZW0gLSBcbiAgICAgICAgICAgIC8vICAgICBzZXRzIGxlbmd0aCBvZiBob3JpeiBjcmFkbGUgaXRlbXMgaW4gb25lIGxpbmUgKHJvdyksIG5vdCBtdWx0aS1yb3cgY29uZmlnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0P1xuICAgICAgICAgICAgICAgICAgICBgcmVwZWF0KCR7Y3Jvc3Njb3VudH0sIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYDpcbiAgICAgICAgICAgICAgICAgICAgJ2F1dG8nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnbm9uZSdcblxuICAgICAgICAgICAgdGFpbHN0eWxlcy5wYWRkaW5nID0gYCR7cGFkZGluZ31weCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4IDBgXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMud2lkdGggPSAnYXV0bydcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdjb2x1bW4nXG4gICAgICAgICAgICAvLyBleHBsaWN0IGNyb3NzY291bnQgbmV4dCBsaW5lIGFzIHdvcmthcm91bmQgZm9yIEZGIHByb2JsZW0gLSBcbiAgICAgICAgICAgIC8vICAgICBzZXRzIGxlbmd0aCBvZiBob3JpeiBjcmFkbGUgaXRlbXMgaW4gb25lIGxpbmUgKHJvdyksIG5vdCBtdWx0aS1yb3cgY29uZmlnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0P1xuICAgICAgICAgICAgICAgICAgICBgcmVwZWF0KCR7Y3Jvc3Njb3VudH0sIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYDpcbiAgICAgICAgICAgICAgICAgICAgJ2F1dG8nXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAnbm9uZSdcblxuICAgICAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5wYWRkaW5nID0gYCR7cGFkZGluZ31weCAke3BhZGRpbmd9cHggMCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMud2lkdGggPSAnMTAwJSdcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuaGVpZ2h0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdyb3cnXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9ICdub25lJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoP1xuICAgICAgICAgICAgICAgICAgICBgcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLnBhZGRpbmcgPSBgMCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgdGFpbHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5oZWlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ3JvdydcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gJ25vbmUnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGg/XG4gICAgICAgICAgICAgICAgICAgIGByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoJHtjZWxsV2lkdGh9cHgsIDFmcikpYDpcbiAgICAgICAgICAgICAgICAgICAgJ2F1dG8nXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBoZWFkc3R5bGVzLFxuICAgICAgICAgICAgdGFpbHN0eWxlcyxcbiAgICAgICAgICAgIGF4aXNzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VybGluZWhlYWRzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VybGluZXRhaWxzdHlsZXMsXG4gICAgICAgICAgICBjcmFkbGVkaXZpZGVyc3R5bGVzXG4gICAgICAgIF1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRIZWFkU3R5bGVzID0gKGdhcCxwYWRkaW5nLG9yaWVudGF0aW9uLHVzZXJoZWFkc3R5bGVzKSA9PiB7XG5cbiAgICAgICAgbGV0IGJvdHRvbSwgbGVmdCwgdG9wLCByaWdodFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBib3R0b20gPSAwXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIHJpZ2h0ID0gMFxuICAgICAgICAgICAgdG9wID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsuLi57XG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgICAgICBncmlkR2FwOiBnYXAgKyAncHgnLFxuICAgICAgICAgICAgcGFkZGluZzogcGFkZGluZyArICdweCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYWxpZ25Db250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgdG9wLFxuXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcywuLi51c2VyaGVhZHN0eWxlc31cblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGFpbFN0eWxlcyA9IChnYXAscGFkZGluZyxvcmllbnRhdGlvbix1c2VydGFpbHN0eWxlcykgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gJ2F1dG8nXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b20gPSAwXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7Li4ue1xuXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgZ3JpZEdhcDogZ2FwICsgJ3B4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcgKyAncHgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGFsaWduQ29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIGJvdHRvbSxcblxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsLi4udXNlcnRhaWxzdHlsZXN9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEF4aXNTdHlsZXMgPSAoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbiwgdXNlcmF4aXNzdHlsZXMpID0+IHtcbiAgICAgICAgbGV0IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCAvLyBmb3IgYXhpc1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICB0b3AgPSBwYWRkaW5nICsgJ3B4J1xuICAgICAgICAgICAgbGVmdCA9ICdhdXRvJ1xuICAgICAgICAgICAgd2lkdGggPSAnMTAwJSdcbiAgICAgICAgICAgIGhlaWdodCA9ICdhdXRvJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBsZWZ0ID0gcGFkZGluZyArICdweCdcbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyAuLi57XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcblxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsLi4udXNlcmF4aXNzdHlsZXN9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRyaWdnZXJsaW5lVGFpbFN0eWxlcyA9IChvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCB0cmlnZ2VybGluZU9mZnNldCwgZ2FwKSA9PiB7XG4gICAgICAgIGxldCB0cmFuc2Zvcm0gLy8gZm9yIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGF4aXNcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgd2lkdGggPSAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQgPSAnMTAwJSdcblxuICAgICAgICB0aGlzLnRhaWxUcmlnZ2VybGluZU9mZnNldCA9IHRyaWdnZXJsaW5lT2Zmc2V0XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0cmlnZ2VybGluZU9mZnNldCArICdweCd9KWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBnZXRUcmlnZ2VybGluZUhlYWRTdHlsZXMgPSAob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcCkgPT4ge1xuICAgICAgICBsZXQgdHJhbnNmb3JtIC8vIGZvciBwb3NpdGlvbiByZWxhdGl2ZSB0byBheGlzXG5cbiAgICAgICAgbGV0IHBvc2l0aW9uID0gJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnLFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZFRyaWdnZXJsaW5lT2Zmc2V0ID0gLShjZWxsV2lkdGggKyBnYXAgLXRyaWdnZXJsaW5lT2Zmc2V0KVxuICAgICAgICAgICAgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0aGlzLmhlYWRUcmlnZ2VybGluZU9mZnNldCArICdweCd9KWBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZFRyaWdnZXJsaW5lT2Zmc2V0ID0gLShjZWxsSGVpZ2h0ICsgZ2FwIC10cmlnZ2VybGluZU9mZnNldClcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5oZWFkVHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJTdHlsZXNIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsIm9yaWVudGF0aW9uIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImdhcCIsInBhZGRpbmciLCJjcm9zc2NvdW50Iiwidmlld3BvcnRoZWlnaHQiLCJ2aWV3cG9ydHdpZHRoIiwidXNlcnN0eWxlcyIsInRyaWdnZXJsaW5lT2Zmc2V0IiwiaGVhZHN0eWxlcyIsImdldEhlYWRTdHlsZXMiLCJjcmFkbGUiLCJ0YWlsc3R5bGVzIiwiZ2V0VGFpbFN0eWxlcyIsImF4aXNzdHlsZXMiLCJnZXRBeGlzU3R5bGVzIiwiYXhpcyIsInNjYWZmb2xkSGFuZGxlciIsImhhbmRsZXJzUmVmIiwiY3VycmVudCIsInRyaWdnZXJsaW5laGVhZHN0eWxlcyIsImdldFRyaWdnZXJsaW5lSGVhZFN0eWxlcyIsInRyaWdnZXJsaW5ldGFpbHN0eWxlcyIsImdldFRyaWdnZXJsaW5lVGFpbFN0eWxlcyIsInRyaWdnZXJsaW5lU3BhbiIsInRhaWxUcmlnZ2VybGluZU9mZnNldCIsImhlYWRUcmlnZ2VybGluZU9mZnNldCIsImNyYWRsZWRpdmlkZXJzdHlsZXMiLCJ6SW5kZXgiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2hhZG93IiwiZ3JpZEdhcCIsImdyaWRBdXRvRmxvdyIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwidXNlcmhlYWRzdHlsZXMiLCJib3R0b20iLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkNvbnRlbnQiLCJib3hTaXppbmciLCJ1c2VydGFpbHN0eWxlcyIsInVzZXJheGlzc3R5bGVzIiwidHJhbnNmb3JtIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/styleshandler.tsx\n");

/***/ }),

/***/ "./src/infinitegridscroller.tsx":
/*!**************************************!*\
  !*** ./src/infinitegridscroller.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // infinitegridscroller.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    react-infinite-grid-scroller = RIGS\n\n    ROADMAP:\n        // cache management\n            // cacheMax; cacheMax over-run\n            // preload\n            // keepload\n            // cradle\n            cache mapping modification by user\n            organize return values of getItem\n            checkmark enable console feedback (for external callbacks)\n            add swap callback\n            check behaviour of axis & triggerlines with modify cache map - extra DOM cycle?\n            constrain preload by cacheMax!\n\n        insert, remove, swap functions (create itemID reference system)\n\n        also surface external callbacks with return values for testing\n        review all code\n        newListsize callback\n\n        layout: uniform, variable, dynamic, dense\n\n        test changing all gridscroller parameters\n        test config size edge cases - over and under sized cells\n\n        create demo site - github pages, and sandbox\n        release to npm\n\n    BUGS:\n        - insert 100 - 104 doesn't work for some reason\n        - select nested lists, then preload -> breaks presentation\n        - clear cache after change mapping triggers a setCradleContent event\n            - disable/re-enable interrupts?\n        //- rapid scrolling up with full cache can lead to overshoot just shy of reposition,\n        //    with trigger lines out of view\n        // - time lag before repositioning the trigger lines - promises?\n        // - when sublist is in scroll motion when being reparented, block scrollpos is not properly recovered\n        // - item 400 in 400 item nested list of scrollers crosscount = 3 takes up entire width of viewport\n\n    TODO:\n        - add an increment list size internal function\n        - during modification, assigen cloneElements from main to head/tail, instead of recreating\n            each for head tail\n        - allow range for moveto\n        - cacheMax is also boundary for preload, and for dense, as well as keepload (?)\n        - add insertCacheItem and removeCacheItem - affects listsize\n        - adjust listSize for add and remove\n        - add modify listsize callback\n        - getItem null return means past list - list size is adjusted;\n            undefined means error; reject means error \"unable to load\"\n\n        - review event cycles - they seem slower\n        - try to preload all children, even if cached\n        - return modified cachedItemMap from modify, add, and remove\n\n        - use allSettled instead of all\n        - use finally for callback\n        - provide way to attempt reload of a single cell (change instanceID)\n        - modifyCacheMap instruction by user\n        - call matchCacheToCradle through contentHandler (?) iac rationalize calls to cacheHandler\n        - test and review itemID\n        - implement changeOrder (by index) callback for user - cellFrame index prop must be updated\n        - use itemID for referencing; index for order - cellFrame reload to re-order?\n        - review state change chains in cradle\n        - check preload intent against state machine handling\n        - rationalize await handling everywhere to behave like promises\n        - check number of passes to scrollblock; consider implementing named states\n        // - rationalize external callbacks routing\n        // callback for user re preload\n        error handling for preload items -- allow recovery\n        test for memory leaks with Chrome's window.performance.memory property\n        try to reduce need to run renderportallist - try some kind of pagination/grouping\n        replace top/left with transformx/y\n        prioritize fetch cells for visible cells\n        customizable scrolltracker, or provide callback feature for scroll tracking\n        reload from/to for insertions and substitutions\n        check use of useCallback\n        test for two root portals\n        promote system constants to 'advanced' parameter, eg RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE\n        calc minwidth by form factor\n        review scroller-frame for appropriate dimensions - s/b inset:0;position:absolute\n        add grid-template-rows: max-content to parent for safari issue grid-auto-flow: column not filling column\n        cross-browser testing\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Viewport_1 = __importDefault(__webpack_require__(/*! ./Viewport */ \"./src/Viewport.tsx\"));\n\nvar Scrollblock_1 = __importDefault(__webpack_require__(/*! ./Scrollblock */ \"./src/Scrollblock.tsx\"));\n\nvar Cradle_1 = __importDefault(__webpack_require__(/*! ./Cradle */ \"./src/Cradle.tsx\"));\n\nvar cachehandler_1 = __webpack_require__(/*! ./cradle/cachehandler */ \"./src/cradle/cachehandler.tsx\"); // -------------------[ global session ID generator ]----------------\n\n\nvar globalScrollerID = 0; // ===================================[ INITIALIZE ]===========================\n\n/*\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the scrollblock, fullsize for adjusted cell height/width, which in turn contains the cradle\n        - a component that contains CellFrames (which contain displayed items or transitional placeholders).\n    The CellFrames are skeletons which contain the host content components.\n\n    Host content is created in a portal cache (via PortalAgent) and then portal'd to its host CellFrame\n\n    Scrollblock virtually represents the entirety of the list, and is the scroller\n\n    Cradle contains the list items, and is 'virtualized' -- it appears as\n      though it is the full scrollblock, but in fact it is only slightly larger than\n      the viewport.\n    - individual items are framed by CellFrame, managed by Cradle\n\n    Overall the infinitegridscroller manages the (often asynchronous) interactions of the\n    components of the mechanism\n*/\n\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  // ------------------[ normalize properties ]--------------------\n  var _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'vertical' : _props$orientation,\n      _props$gap = props.gap,\n      gap = _props$gap === void 0 ? 0 : _props$gap,\n      _props$padding = props.padding,\n      padding = _props$padding === void 0 ? 0 : _props$padding,\n      cellHeight = props.cellHeight,\n      cellWidth = props.cellWidth,\n      _props$layout = props.layout,\n      layout = _props$layout === void 0 ? 'uniform' : _props$layout,\n      _props$estimatedListS = props.estimatedListSize,\n      estimatedListSize = _props$estimatedListS === void 0 ? 0 : _props$estimatedListS,\n      _props$runwaySize = props.runwaySize,\n      runwaySize = _props$runwaySize === void 0 ? 3 : _props$runwaySize,\n      _props$startingIndex = props.startingIndex,\n      startingIndex = _props$startingIndex === void 0 ? 0 : _props$startingIndex,\n      getItem = props.getItem,\n      placeholder = props.placeholder,\n      _props$styles = props.styles,\n      styles = _props$styles === void 0 ? {} : _props$styles,\n      _props$cache = props.cache,\n      cache = _props$cache === void 0 ? 'cradle' : _props$cache,\n      _props$cacheMax = props.cacheMax,\n      cacheMax = _props$cacheMax === void 0 ? null : _props$cacheMax,\n      _props$triggerlineOff = props.triggerlineOffset,\n      triggerlineOffset = _props$triggerlineOff === void 0 ? 10 : _props$triggerlineOff,\n      _props$functions = props.functions,\n      functions = _props$functions === void 0 ? {} : _props$functions,\n      scrollerData = props.scrollerData,\n      _props$advanced = props.advanced,\n      advanced = _props$advanced === void 0 ? {} : _props$advanced; // avoid null\n\n  styles = styles !== null && styles !== void 0 ? styles : {};\n  functions = functions !== null && functions !== void 0 ? functions : {};\n  advanced = advanced !== null && advanced !== void 0 ? advanced : {}; // prop constraints - non-negative values\n\n  runwaySize = Math.max(0, runwaySize);\n  estimatedListSize = Math.max(0, estimatedListSize);\n  startingIndex = Math.max(0, startingIndex); // enums\n\n  if (!['horizontal', 'vertical'].includes(orientation)) {\n    orientation = 'vertical';\n  }\n\n  if (!['preload', 'keepload', 'cradle'].includes(cache)) {\n    cache = 'cradle';\n  }\n\n  if (!['uniform', 'variable', 'dynamic', 'dense'].includes(layout)) {\n    layout = 'uniform';\n  }\n\n  var gridSpecs = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout\n  };\n\n  var _ref = (0, react_1.useState)('setup'),\n      _ref2 = _slicedToArray(_ref, 2),\n      scrollerState = _ref2[0],\n      setScrollerState = _ref2[1];\n\n  var gridSpecsRef = (0, react_1.useRef)(gridSpecs);\n  var stylesRef = (0, react_1.useRef)(styles);\n  var functionsRef = (0, react_1.useRef)(functions); // for mount\n\n  var scrollerSessionIDRef = (0, react_1.useRef)(null);\n  var scrollerID = scrollerSessionIDRef.current; // satisfy React Object.is for attributes\n\n  if (!compareProps(gridSpecs, gridSpecsRef.current)) {\n    gridSpecsRef.current = gridSpecs;\n  }\n\n  if (!compareProps(styles, stylesRef.current)) {\n    stylesRef.current = styles;\n  }\n\n  if (!compareProps(functions, functionsRef.current)) {\n    functionsRef.current = functions;\n  }\n\n  var cacheHandlerRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    scrollerSessionIDRef.current = globalScrollerID++;\n    cacheHandlerRef.current = new cachehandler_1.CacheHandler(scrollerSessionIDRef.current, setListsize, listsizeRef);\n  }, []);\n  var listsizeRef = (0, react_1.useRef)(estimatedListSize);\n  var listsize = listsizeRef.current; // console.log('infinite scroller listsizeRef','-'+scrollerID+'-' , scrollerState, listsizeRef)\n  // console.log('infinite scroller scrollerID, scrollerState, cache, cacheMax', \n  //     '-'+scrollerID+'-',scrollerState, cache, cacheMax)\n\n  var setListsize = (0, react_1.useCallback)(function (listsize) {\n    if (listsize == listsizeRef.current) return;\n    listsizeRef.current = listsize; // inform the user\n\n    functionsRef.current.newListsize && functionsRef.current.newListsize(listsize);\n    setScrollerState('setlistsize');\n  }, []); // --------------------[ render ]---------------------\n\n  (0, react_1.useEffect)(function () {\n    switch (scrollerState) {\n      case 'setup':\n      case 'setlistsize':\n        setScrollerState('ready');\n    }\n  }, [scrollerState]);\n  return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null, scrollerState != 'setup' && react_1[\"default\"].createElement(Viewport_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerData: scrollerData,\n    scrollerID: scrollerID\n  }, react_1[\"default\"].createElement(Scrollblock_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    listsize: listsize,\n    scrollerID: scrollerID\n  }, react_1[\"default\"].createElement(Cradle_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    listsize: listsize,\n    cache: cache,\n    cacheMax: cacheMax,\n    userFunctions: functionsRef.current,\n    startingIndex: startingIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    runwaySize: runwaySize,\n    triggerlineOffset: triggerlineOffset,\n    cacheHandler: cacheHandlerRef.current,\n    scrollerID: scrollerID\n  }))), scrollerState != 'setup' && react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cacheroot',\n    style: cacherootstyle\n  }, react_1[\"default\"].createElement(cachehandler_1.PortalList, {\n    cacheProps: cacheHandlerRef.current.cacheProps\n  })));\n};\n\nvar cacherootstyle = {\n  display: 'none'\n}; // static, out of view \n\nexports[\"default\"] = InfiniteGridScroller; // utilities\n\nfunction compareProps(obj1, obj2) {\n  var keys = Object.keys(obj1);\n  var same;\n\n  for (var _i2 = 0, _keys = keys; _i2 < _keys.length; _i2++) {\n    var key = _keys[_i2];\n\n    if (!Object.is(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1RkE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBRUEsdUcsQ0FFQTs7O0FBRUEsSUFBSUEsZ0JBQWdCLEdBQUcsQ0FBdkIsQyxDQUVBOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBLElBQU1DLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBdUIsQ0FBQ0MsS0FBRCxFQUFVO0VBRW5DO0VBRUEseUJBMEJJQSxLQTFCSixDQUVJQyxXQUZKO0VBQUEsSUFFSUEsV0FGSixtQ0FFa0IsVUFGbEI7RUFBQSxpQkEwQklELEtBMUJKLENBR0lFLEdBSEo7RUFBQSxJQUdJQSxHQUhKLDJCQUdVLENBSFY7RUFBQSxxQkEwQklGLEtBMUJKLENBSUlHLE9BSko7RUFBQSxJQUlJQSxPQUpKLCtCQUljLENBSmQ7RUFBQSxJQUtJQyxVQUxKLEdBMEJJSixLQTFCSixDQUtJSSxVQUxKO0VBQUEsSUFNSUMsU0FOSixHQTBCSUwsS0ExQkosQ0FNSUssU0FOSjtFQUFBLG9CQTBCSUwsS0ExQkosQ0FPSU0sTUFQSjtFQUFBLElBT0lBLE1BUEosOEJBT2EsU0FQYjtFQUFBLDRCQTBCSU4sS0ExQkosQ0FTSU8saUJBVEo7RUFBQSxJQVNJQSxpQkFUSixzQ0FTd0IsQ0FUeEI7RUFBQSx3QkEwQklQLEtBMUJKLENBVUlRLFVBVko7RUFBQSxJQVVJQSxVQVZKLGtDQVVpQixDQVZqQjtFQUFBLDJCQTBCSVIsS0ExQkosQ0FZSVMsYUFaSjtFQUFBLElBWUlBLGFBWkoscUNBWW9CLENBWnBCO0VBQUEsSUFhSUMsT0FiSixHQTBC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RUFBdkMsQ0FBWCxDQUQyQixDQXRDM0IsQ0FBUjtBQTBDSCxDQXRLRDs7QUF3S0EsSUFBTUQsY0FBYyxHQUFHO0VBQUNFLE9BQU8sRUFBQztBQUFULENBQXZCLEMsQ0FBK0Q7O0FBRS9EQyxrQkFBQUEsR0FBZWpELG9CQUFmLEMsQ0FFQTs7QUFDQSxTQUFTZ0MsWUFBVCxDQUF1QmtCLElBQXZCLEVBQTRCQyxJQUE1QixFQUFnQztFQUM1QixJQUFNQyxJQUFJLEdBQUdDLE1BQU0sQ0FBQ0QsSUFBUCxDQUFZRixJQUFaLENBQWI7RUFDQSxJQUFJSSxJQUFKOztFQUNBLDBCQUFnQkYsSUFBaEIsNkJBQXNCO0lBQWpCLElBQUlHLEdBQUcsYUFBUDs7SUFDRCxJQUFJLENBQUNGLE1BQU0sQ0FBQ0csRUFBUCxDQUFVTixJQUFJLENBQUNLLEdBQUQsQ0FBZCxFQUFvQkosSUFBSSxDQUFDSSxHQUFELENBQXhCLENBQUwsRUFBcUM7TUFDakMsT0FBTyxLQUFQO0lBQ0g7RUFDSjs7RUFDRCxPQUFPLElBQVA7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4PzYzZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIHJlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIgPSBSSUdTXG5cbiAgICBST0FETUFQOlxuICAgICAgICAvLyBjYWNoZSBtYW5hZ2VtZW50XG4gICAgICAgICAgICAvLyBjYWNoZU1heDsgY2FjaGVNYXggb3Zlci1ydW5cbiAgICAgICAgICAgIC8vIHByZWxvYWRcbiAgICAgICAgICAgIC8vIGtlZXBsb2FkXG4gICAgICAgICAgICAvLyBjcmFkbGVcbiAgICAgICAgICAgIGNhY2hlIG1hcHBpbmcgbW9kaWZpY2F0aW9uIGJ5IHVzZXJcbiAgICAgICAgICAgIG9yZ2FuaXplIHJldHVybiB2YWx1ZXMgb2YgZ2V0SXRlbVxuICAgICAgICAgICAgY2hlY2ttYXJrIGVuYWJsZSBjb25zb2xlIGZlZWRiYWNrIChmb3IgZXh0ZXJuYWwgY2FsbGJhY2tzKVxuICAgICAgICAgICAgYWRkIHN3YXAgY2FsbGJhY2tcbiAgICAgICAgICAgIGNoZWNrIGJlaGF2aW91ciBvZiBheGlzICYgdHJpZ2dlcmxpbmVzIHdpdGggbW9kaWZ5IGNhY2hlIG1hcCAtIGV4dHJhIERPTSBjeWNsZT9cbiAgICAgICAgICAgIGNvbnN0cmFpbiBwcmVsb2FkIGJ5IGNhY2hlTWF4IVxuXG4gICAgICAgIGluc2VydCwgcmVtb3ZlLCBzd2FwIGZ1bmN0aW9ucyAoY3JlYXRlIGl0ZW1JRCByZWZlcmVuY2Ugc3lzdGVtKVxuXG4gICAgICAgIGFsc28gc3VyZmFjZSBleHRlcm5hbCBjYWxsYmFja3Mgd2l0aCByZXR1cm4gdmFsdWVzIGZvciB0ZXN0aW5nXG4gICAgICAgIHJldmlldyBhbGwgY29kZVxuICAgICAgICBuZXdMaXN0c2l6ZSBjYWxsYmFja1xuXG4gICAgICAgIGxheW91dDogdW5pZm9ybSwgdmFyaWFibGUsIGR5bmFtaWMsIGRlbnNlXG5cbiAgICAgICAgdGVzdCBjaGFuZ2luZyBhbGwgZ3JpZHNjcm9sbGVyIHBhcmFtZXRlcnNcbiAgICAgICAgdGVzdCBjb25maWcgc2l6ZSBlZGdlIGNhc2VzIC0gb3ZlciBhbmQgdW5kZXIgc2l6ZWQgY2VsbHNcblxuICAgICAgICBjcmVhdGUgZGVtbyBzaXRlIC0gZ2l0aHViIHBhZ2VzLCBhbmQgc2FuZGJveFxuICAgICAgICByZWxlYXNlIHRvIG5wbVxuXG4gICAgQlVHUzogXG4gICAgICAgIC0gaW5zZXJ0IDEwMCAtIDEwNCBkb2Vzbid0IHdvcmsgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgIC0gc2VsZWN0IG5lc3RlZCBsaXN0cywgdGhlbiBwcmVsb2FkIC0+IGJyZWFrcyBwcmVzZW50YXRpb25cbiAgICAgICAgLSBjbGVhciBjYWNoZSBhZnRlciBjaGFuZ2UgbWFwcGluZyB0cmlnZ2VycyBhIHNldENyYWRsZUNvbnRlbnQgZXZlbnRcbiAgICAgICAgICAgIC0gZGlzYWJsZS9yZS1lbmFibGUgaW50ZXJydXB0cz9cbiAgICAgICAgLy8tIHJhcGlkIHNjcm9sbGluZyB1cCB3aXRoIGZ1bGwgY2FjaGUgY2FuIGxlYWQgdG8gb3ZlcnNob290IGp1c3Qgc2h5IG9mIHJlcG9zaXRpb24sXG4gICAgICAgIC8vICAgIHdpdGggdHJpZ2dlciBsaW5lcyBvdXQgb2Ygdmlld1xuICAgICAgICAvLyAtIHRpbWUgbGFnIGJlZm9yZSByZXBvc2l0aW9uaW5nIHRoZSB0cmlnZ2VyIGxpbmVzIC0gcHJvbWlzZXM/XG4gICAgICAgIC8vIC0gd2hlbiBzdWJsaXN0IGlzIGluIHNjcm9sbCBtb3Rpb24gd2hlbiBiZWluZyByZXBhcmVudGVkLCBibG9jayBzY3JvbGxwb3MgaXMgbm90IHByb3Blcmx5IHJlY292ZXJlZFxuICAgICAgICAvLyAtIGl0ZW0gNDAwIGluIDQwMCBpdGVtIG5lc3RlZCBsaXN0IG9mIHNjcm9sbGVycyBjcm9zc2NvdW50ID0gMyB0YWtlcyB1cCBlbnRpcmUgd2lkdGggb2Ygdmlld3BvcnRcblxuICAgIFRPRE86XG4gICAgICAgIC0gYWRkIGFuIGluY3JlbWVudCBsaXN0IHNpemUgaW50ZXJuYWwgZnVuY3Rpb25cbiAgICAgICAgLSBkdXJpbmcgbW9kaWZpY2F0aW9uLCBhc3NpZ2VuIGNsb25lRWxlbWVudHMgZnJvbSBtYWluIHRvIGhlYWQvdGFpbCwgaW5zdGVhZCBvZiByZWNyZWF0aW5nIFxuICAgICAgICAgICAgZWFjaCBmb3IgaGVhZCB0YWlsXG4gICAgICAgIC0gYWxsb3cgcmFuZ2UgZm9yIG1vdmV0b1xuICAgICAgICAtIGNhY2hlTWF4IGlzIGFsc28gYm91bmRhcnkgZm9yIHByZWxvYWQsIGFuZCBmb3IgZGVuc2UsIGFzIHdlbGwgYXMga2VlcGxvYWQgKD8pXG4gICAgICAgIC0gYWRkIGluc2VydENhY2hlSXRlbSBhbmQgcmVtb3ZlQ2FjaGVJdGVtIC0gYWZmZWN0cyBsaXN0c2l6ZVxuICAgICAgICAtIGFkanVzdCBsaXN0U2l6ZSBmb3IgYWRkIGFuZCByZW1vdmVcbiAgICAgICAgLSBhZGQgbW9kaWZ5IGxpc3RzaXplIGNhbGxiYWNrXG4gICAgICAgIC0gZ2V0SXRlbSBudWxsIHJldHVybiBtZWFucyBwYXN0IGxpc3QgLSBsaXN0IHNpemUgaXMgYWRqdXN0ZWQ7XG4gICAgICAgICAgICB1bmRlZmluZWQgbWVhbnMgZXJyb3I7IHJlamVjdCBtZWFucyBlcnJvciBcInVuYWJsZSB0byBsb2FkXCJcblxuICAgICAgICAtIHJldmlldyBldmVudCBjeWNsZXMgLSB0aGV5IHNlZW0gc2xvd2VyXG4gICAgICAgIC0gdHJ5IHRvIHByZWxvYWQgYWxsIGNoaWxkcmVuLCBldmVuIGlmIGNhY2hlZFxuICAgICAgICAtIHJldHVybiBtb2RpZmllZCBjYWNoZWRJdGVtTWFwIGZyb20gbW9kaWZ5LCBhZGQsIGFuZCByZW1vdmVcblxuICAgICAgICAtIHVzZSBhbGxTZXR0bGVkIGluc3RlYWQgb2YgYWxsXG4gICAgICAgIC0gdXNlIGZpbmFsbHkgZm9yIGNhbGxiYWNrXG4gICAgICAgIC0gcHJvdmlkZSB3YXkgdG8gYXR0ZW1wdCByZWxvYWQgb2YgYSBzaW5nbGUgY2VsbCAoY2hhbmdlIGluc3RhbmNlSUQpXG4gICAgICAgIC0gbW9kaWZ5Q2FjaGVNYXAgaW5zdHJ1Y3Rpb24gYnkgdXNlclxuICAgICAgICAtIGNhbGwgbWF0Y2hDYWNoZVRvQ3JhZGxlIHRocm91Z2ggY29udGVudEhhbmRsZXIgKD8pIGlhYyByYXRpb25hbGl6ZSBjYWxscyB0byBjYWNoZUhhbmRsZXJcbiAgICAgICAgLSB0ZXN0IGFuZCByZXZpZXcgaXRlbUlEXG4gICAgICAgIC0gaW1wbGVtZW50IGNoYW5nZU9yZGVyIChieSBpbmRleCkgY2FsbGJhY2sgZm9yIHVzZXIgLSBjZWxsRnJhbWUgaW5kZXggcHJvcCBtdXN0IGJlIHVwZGF0ZWRcbiAgICAgICAgLSB1c2UgaXRlbUlEIGZvciByZWZlcmVuY2luZzsgaW5kZXggZm9yIG9yZGVyIC0gY2VsbEZyYW1lIHJlbG9hZCB0byByZS1vcmRlcj9cbiAgICAgICAgLSByZXZpZXcgc3RhdGUgY2hhbmdlIGNoYWlucyBpbiBjcmFkbGVcbiAgICAgICAgLSBjaGVjayBwcmVsb2FkIGludGVudCBhZ2FpbnN0IHN0YXRlIG1hY2hpbmUgaGFuZGxpbmdcbiAgICAgICAgLSByYXRpb25hbGl6ZSBhd2FpdCBoYW5kbGluZyBldmVyeXdoZXJlIHRvIGJlaGF2ZSBsaWtlIHByb21pc2VzXG4gICAgICAgIC0gY2hlY2sgbnVtYmVyIG9mIHBhc3NlcyB0byBzY3JvbGxibG9jazsgY29uc2lkZXIgaW1wbGVtZW50aW5nIG5hbWVkIHN0YXRlc1xuICAgICAgICAvLyAtIHJhdGlvbmFsaXplIGV4dGVybmFsIGNhbGxiYWNrcyByb3V0aW5nXG4gICAgICAgIC8vIGNhbGxiYWNrIGZvciB1c2VyIHJlIHByZWxvYWRcbiAgICAgICAgZXJyb3IgaGFuZGxpbmcgZm9yIHByZWxvYWQgaXRlbXMgLS0gYWxsb3cgcmVjb3ZlcnlcbiAgICAgICAgdGVzdCBmb3IgbWVtb3J5IGxlYWtzIHdpdGggQ2hyb21lJ3Mgd2luZG93LnBlcmZvcm1hbmNlLm1lbW9yeSBwcm9wZXJ0eVxuICAgICAgICB0cnkgdG8gcmVkdWNlIG5lZWQgdG8gcnVuIHJlbmRlcnBvcnRhbGxpc3QgLSB0cnkgc29tZSBraW5kIG9mIHBhZ2luYXRpb24vZ3JvdXBpbmdcbiAgICAgICAgcmVwbGFjZSB0b3AvbGVmdCB3aXRoIHRyYW5zZm9ybXgveVxuICAgICAgICBwcmlvcml0aXplIGZldGNoIGNlbGxzIGZvciB2aXNpYmxlIGNlbGxzXG4gICAgICAgIGN1c3RvbWl6YWJsZSBzY3JvbGx0cmFja2VyLCBvciBwcm92aWRlIGNhbGxiYWNrIGZlYXR1cmUgZm9yIHNjcm9sbCB0cmFja2luZ1xuICAgICAgICByZWxvYWQgZnJvbS90byBmb3IgaW5zZXJ0aW9ucyBhbmQgc3Vic3RpdHV0aW9uc1xuICAgICAgICBjaGVjayB1c2Ugb2YgdXNlQ2FsbGJhY2tcbiAgICAgICAgdGVzdCBmb3IgdHdvIHJvb3QgcG9ydGFsc1xuICAgICAgICBwcm9tb3RlIHN5c3RlbSBjb25zdGFudHMgdG8gJ2FkdmFuY2VkJyBwYXJhbWV0ZXIsIGVnIFJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRVxuICAgICAgICBjYWxjIG1pbndpZHRoIGJ5IGZvcm0gZmFjdG9yXG4gICAgICAgIHJldmlldyBzY3JvbGxlci1mcmFtZSBmb3IgYXBwcm9wcmlhdGUgZGltZW5zaW9ucyAtIHMvYiBpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlXG4gICAgICAgIGFkZCBncmlkLXRlbXBsYXRlLXJvd3M6IG1heC1jb250ZW50IHRvIHBhcmVudCBmb3Igc2FmYXJpIGlzc3VlIGdyaWQtYXV0by1mbG93OiBjb2x1bW4gbm90IGZpbGxpbmcgY29sdW1uXG4gICAgICAgIGNyb3NzLWJyb3dzZXIgdGVzdGluZ1xuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBWaWV3cG9ydCBmcm9tICcuL1ZpZXdwb3J0J1xuaW1wb3J0IFNjcm9sbGJsb2NrIGZyb20gJy4vU2Nyb2xsYmxvY2snXG5pbXBvcnQgQ3JhZGxlIGZyb20gJy4vQ3JhZGxlJ1xuXG5pbXBvcnQgeyBDYWNoZUhhbmRsZXIsIFBvcnRhbExpc3QgfSBmcm9tICcuL2NyYWRsZS9jYWNoZWhhbmRsZXInXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1bIGdsb2JhbCBzZXNzaW9uIElEIGdlbmVyYXRvciBdLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgZ2xvYmFsU2Nyb2xsZXJJRCA9IDBcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkUgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKlxuICAgIFRoZSBqb2Igb2YgSW5maW5pdGVHcmlkU2Nyb2xsZXIgaXMgdG8gcGFzcyBwYXJhbWV0ZXJzIHRvIGRlcGVuZGVudHMuXG4gICAgVmlld3BvcnQgY29udGFpbnMgdGhlIHNjcm9sbGJsb2NrLCBmdWxsc2l6ZSBmb3IgYWRqdXN0ZWQgY2VsbCBoZWlnaHQvd2lkdGgsIHdoaWNoIGluIHR1cm4gY29udGFpbnMgdGhlIGNyYWRsZSBcbiAgICAgICAgLSBhIGNvbXBvbmVudCB0aGF0IGNvbnRhaW5zIENlbGxGcmFtZXMgKHdoaWNoIGNvbnRhaW4gZGlzcGxheWVkIGl0ZW1zIG9yIHRyYW5zaXRpb25hbCBwbGFjZWhvbGRlcnMpLiBcbiAgICBUaGUgQ2VsbEZyYW1lcyBhcmUgc2tlbGV0b25zIHdoaWNoIGNvbnRhaW4gdGhlIGhvc3QgY29udGVudCBjb21wb25lbnRzLlxuXG4gICAgSG9zdCBjb250ZW50IGlzIGNyZWF0ZWQgaW4gYSBwb3J0YWwgY2FjaGUgKHZpYSBQb3J0YWxBZ2VudCkgYW5kIHRoZW4gcG9ydGFsJ2QgdG8gaXRzIGhvc3QgQ2VsbEZyYW1lXG5cbiAgICBTY3JvbGxibG9jayB2aXJ0dWFsbHkgcmVwcmVzZW50cyB0aGUgZW50aXJldHkgb2YgdGhlIGxpc3QsIGFuZCBpcyB0aGUgc2Nyb2xsZXJcblxuICAgIENyYWRsZSBjb250YWlucyB0aGUgbGlzdCBpdGVtcywgYW5kIGlzICd2aXJ0dWFsaXplZCcgLS0gaXQgYXBwZWFycyBhc1xuICAgICAgdGhvdWdoIGl0IGlzIHRoZSBmdWxsIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuXG4gICAgICB0aGUgdmlld3BvcnQuXG4gICAgLSBpbmRpdmlkdWFsIGl0ZW1zIGFyZSBmcmFtZWQgYnkgQ2VsbEZyYW1lLCBtYW5hZ2VkIGJ5IENyYWRsZVxuXG4gICAgT3ZlcmFsbCB0aGUgaW5maW5pdGVncmlkc2Nyb2xsZXIgbWFuYWdlcyB0aGUgKG9mdGVuIGFzeW5jaHJvbm91cykgaW50ZXJhY3Rpb25zIG9mIHRoZSBcbiAgICBjb21wb25lbnRzIG9mIHRoZSBtZWNoYW5pc21cbiovXG5cbmNvbnN0IEluZmluaXRlR3JpZFNjcm9sbGVyID0gKHByb3BzKSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1bIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHsgXG4gICAgICAgIC8vIGdyaWQgc3BlY3M6XG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJywgLy8gdmVydGljYWwgb3IgaG9yaXpvbnRhbFxuICAgICAgICBnYXAgPSAwLCAvLyBzcGFjZSBiZXR3ZWVuIGdyaWQgY2VsbHMsIG5vdCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGVkZ2VzXG4gICAgICAgIHBhZGRpbmcgPSAwLCAvLyB0aGUgc3BhY2UgYmV0d2VlbiB0aGUgaXRlbXMgYW5kIHRoZSB2aWV3cG9ydCwgYXBwbGllZCB0byB0aGUgY3JhZGxlXG4gICAgICAgIGNlbGxIZWlnaHQsIC8vIHJlcXVpcmVkLiB0aGUgb3V0ZXIgcGl4ZWwgaGVpZ2h0IC0gbGl0ZXJhbCBmb3IgdmVydGljYWw7IGFwcHJveGltYXRlIGZvciBob3Jpem9udGFsXG4gICAgICAgIGNlbGxXaWR0aCwgLy8gcmVxdWlyZWQuIHRoZSBvdXRlciBwaXhlbCB3aWR0aCAtIGxpdGVyYWwgZm9yIGhvcml6b250YWw7IGFwcHJveGltYXRlIGZvciB2ZXJ0aWNhbFxuICAgICAgICBsYXlvdXQgPSAndW5pZm9ybScsIC8vIHVuaWZvcm0sIHZhcmlhYmxlIChkb2Vzbid0IHVzZSBheGlzKSwgZHluYW1pYyAodXNlcyBheGlzKSwgZGVuc2VcbiAgICAgICAgLy8gc2Nyb2xsZXIgc3BlY3M6XG4gICAgICAgIGVzdGltYXRlZExpc3RTaXplID0gMCwgLy8gdGhlIGV4YWN0IG51bWJlciBvZiB0aGUgc2l6ZSBvZiB0aGUgdmlydHVhbCBsaXN0XG4gICAgICAgIHJ1bndheVNpemUgPSAzLCAvLyB0aGUgbnVtYmVyIG9mIGl0ZW1zIG91dHNpZGUgdGhlIHZpZXcgb2YgZWFjaCBzaWRlIG9mIHRoZSB2aWV3cG9ydCBcbiAgICAgICAgICAgIC8vIC0tIGdpdmVzIHRpbWUgdG8gYXNzZW1ibGUgYmVmb3JlIGRpc3BsYXlcbiAgICAgICAgc3RhcnRpbmdJbmRleCA9IDAsIC8vIHRoZSAwLWJhc2VkIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBsaXN0LCB3aGVuIGZpcnN0IGxvYWRlZFxuICAgICAgICBnZXRJdGVtLCAvLyByZXF1aXJlZC4gZnVuY3Rpb24gcHJvdmlkZWQgYnkgaG9zdCAtIHBhcmFtZXRlciBpcyBpbmRleCBudW1iZXIsIHNldCBieSBzeXN0ZW07IHJldHVybiB2YWx1ZSBpcyBcbiAgICAgICAgICAgIC8vIGhvc3Qtc2VsZWN0ZWQgY29tcG9uZW50IG9yIHByb21pc2Ugb2YgYSBjb21wb25lbnRcbiAgICAgICAgcGxhY2Vob2xkZXIsIC8vIG9wdGlvbmFsLiBhIHNwYXJzZSBjb21wb25lbnQgdG8gc3RhbmQgaW4gZm9yIGNvbnRlbnQgdW50aWwgdGhlIGNvbnRlbnQgYXJyaXZlczsgXG4gICAgICAgICAgICAvLyBvcHRpb25hbCwgcmVwbGFjZXMgZGVmYXVsdCBwbGFjZWhvbGRlclxuICAgICAgICBzdHlsZXMgPSB7fSwgLy8gb3B0aW9uYWwuIHBhc3NpdmUgc3R5bGUgb3Zlci1yaWRlcyAoZWcuIGNvbG9yLCBvcGFjaXR5KTsgaGFzIFxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyB2aWV3cG9ydCwgc2Nyb2xsYmxvY2ssIGNyYWRsZSwgb3Igc2Nyb2xsdHJhY2tlclxuICAgICAgICAvLyBzeXN0ZW0gc3BlY3M6XG4gICAgICAgIGNhY2hlID0gJ2NyYWRsZScsIC8vIFwicHJlbG9hZFwiLCBcImtlZXBsb2FkXCIgb3IgXCJjcmFkbGVcIlxuICAgICAgICBjYWNoZU1heCA9IG51bGwsIC8vIGFsd2F5cyBtaW5pbXVtIGNyYWRsZSBudWxsIG1lYW5zIGxpbWl0ZWQgYnkgbGlzdHNpemVcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSAxMCwgLy8gZGlzdGFuY2UgZnJvbSBjZWxsIGhlYWQgb3IgdGFpbCBmb3IgY29udGVudCBzaGlmdHMgYWJvdmUvYmVsb3cgYXhpc1xuICAgICAgICBmdW5jdGlvbnMgPSB7fSwgLy8gb3B0aW9uYWwuIHByb3BlcnRpZXMgdG8gZ2V0IGRpcmVjdCBhY2Nlc3MgdG8gc29tZSBjb21wb25lbnQgdXRpbGl0ZXMsIG9wdGlvbmFsXG4gICAgICAgIHNjcm9sbGVyRGF0YSwgLy8gcmVxdWlyZWQgZm9yIGVtYmVkZGVkIHNjcm9sbGVyLCBzaGFyZXMgc2Nyb2xsZXIgc2V0dGluZ3Mgd2l0aCBjb250ZW50XG4gICAgICAgIGFkdmFuY2VkID0ge30sIC8vIG9wdGlvbmFsLiB0ZWNobmljYWwgc2V0dGluZ3MgbGlrZSB1c2VSZXF1ZXN0SWRsZUNhbGxiYWNrLCBhbmQgUmVxdWVzdElkbGVDYWxsYmFja1RpbWVvdXRcbiAgICB9ID0gcHJvcHNcblxuICAgIC8vIGF2b2lkIG51bGxcbiAgICBzdHlsZXMgPSBzdHlsZXMgPz8ge31cbiAgICBmdW5jdGlvbnMgPSBmdW5jdGlvbnMgPz8ge31cbiAgICBhZHZhbmNlZCA9IGFkdmFuY2VkID8/IHt9XG5cbiAgICAvLyBwcm9wIGNvbnN0cmFpbnRzIC0gbm9uLW5lZ2F0aXZlIHZhbHVlc1xuICAgIHJ1bndheVNpemUgPSBNYXRoLm1heCgwLHJ1bndheVNpemUpXG4gICAgZXN0aW1hdGVkTGlzdFNpemUgPSBNYXRoLm1heCgwLGVzdGltYXRlZExpc3RTaXplKVxuICAgIHN0YXJ0aW5nSW5kZXggPSBNYXRoLm1heCgwLHN0YXJ0aW5nSW5kZXgpXG5cbiAgICAvLyBlbnVtc1xuICAgIGlmICghWydob3Jpem9udGFsJywndmVydGljYWwnXS5pbmNsdWRlcyhvcmllbnRhdGlvbikpIHsgXG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJ1xuICAgIH1cbiAgICBpZiAoIVsncHJlbG9hZCcsJ2tlZXBsb2FkJywnY3JhZGxlJ10uaW5jbHVkZXMoY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlID0gJ2NyYWRsZSdcbiAgICB9XG4gICAgaWYgKCFbJ3VuaWZvcm0nLCAndmFyaWFibGUnLCAnZHluYW1pYycsICdkZW5zZSddLmluY2x1ZGVzKGxheW91dCkpIHtcbiAgICAgICAgbGF5b3V0ID0gJ3VuaWZvcm0nXG4gICAgfVxuXG4gICAgY29uc3QgZ3JpZFNwZWNzID0geyAvLyBwYWNrYWdlXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuICAgIH1cblxuICAgIGNvbnN0IFtzY3JvbGxlclN0YXRlLCBzZXRTY3JvbGxlclN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG5cbiAgICBjb25zdCBncmlkU3BlY3NSZWYgPSB1c2VSZWYoZ3JpZFNwZWNzKVxuICAgIGNvbnN0IHN0eWxlc1JlZiA9IHVzZVJlZihzdHlsZXMpXG4gICAgY29uc3QgZnVuY3Rpb25zUmVmID0gdXNlUmVmKGZ1bmN0aW9ucylcblxuICAgIC8vIGZvciBtb3VudFxuICAgIGNvbnN0IHNjcm9sbGVyU2Vzc2lvbklEUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgY29uc3Qgc2Nyb2xsZXJJRCA9IHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnRcblxuICAgIC8vIHNhdGlzZnkgUmVhY3QgT2JqZWN0LmlzIGZvciBhdHRyaWJ1dGVzXG4gICAgaWYgKCFjb21wYXJlUHJvcHMoZ3JpZFNwZWNzLCBncmlkU3BlY3NSZWYuY3VycmVudCkpIHtcbiAgICAgICAgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgPSBncmlkU3BlY3NcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhzdHlsZXMsIHN0eWxlc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBzdHlsZXNSZWYuY3VycmVudCA9IHN0eWxlc1xuICAgIH1cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhmdW5jdGlvbnMsIGZ1bmN0aW9uc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBmdW5jdGlvbnNSZWYuY3VycmVudCA9IGZ1bmN0aW9uc1xuICAgIH1cblxuICAgIGNvbnN0IGNhY2hlSGFuZGxlclJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgdXNlRWZmZWN0ICgoKSA9PiB7XG4gICAgICAgIHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQgPSBnbG9iYWxTY3JvbGxlcklEKytcbiAgICAgICAgY2FjaGVIYW5kbGVyUmVmLmN1cnJlbnQgPSBuZXcgQ2FjaGVIYW5kbGVyKHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQsIHNldExpc3RzaXplLCBsaXN0c2l6ZVJlZilcbiAgICB9LFtdKVxuXG4gICAgY29uc3QgbGlzdHNpemVSZWYgPSB1c2VSZWYoZXN0aW1hdGVkTGlzdFNpemUpXG5cbiAgICBjb25zdCBsaXN0c2l6ZSA9IGxpc3RzaXplUmVmLmN1cnJlbnRcblxuICAgIC8vIGNvbnNvbGUubG9nKCdpbmZpbml0ZSBzY3JvbGxlciBsaXN0c2l6ZVJlZicsJy0nK3Njcm9sbGVySUQrJy0nICwgc2Nyb2xsZXJTdGF0ZSwgbGlzdHNpemVSZWYpXG4gICAgLy8gY29uc29sZS5sb2coJ2luZmluaXRlIHNjcm9sbGVyIHNjcm9sbGVySUQsIHNjcm9sbGVyU3RhdGUsIGNhY2hlLCBjYWNoZU1heCcsIFxuICAgIC8vICAgICAnLScrc2Nyb2xsZXJJRCsnLScsc2Nyb2xsZXJTdGF0ZSwgY2FjaGUsIGNhY2hlTWF4KVxuXG4gICAgY29uc3Qgc2V0TGlzdHNpemUgPSB1c2VDYWxsYmFjaygobGlzdHNpemUpID0+e1xuXG4gICAgICAgIGlmIChsaXN0c2l6ZSA9PSBsaXN0c2l6ZVJlZi5jdXJyZW50KSByZXR1cm5cblxuICAgICAgICBsaXN0c2l6ZVJlZi5jdXJyZW50ID0gbGlzdHNpemVcblxuICAgICAgICAvLyBpbmZvcm0gdGhlIHVzZXJcbiAgICAgICAgZnVuY3Rpb25zUmVmLmN1cnJlbnQubmV3TGlzdHNpemUgJiYgZnVuY3Rpb25zUmVmLmN1cnJlbnQubmV3TGlzdHNpemUobGlzdHNpemUpXG5cbiAgICAgICAgc2V0U2Nyb2xsZXJTdGF0ZSgnc2V0bGlzdHNpemUnKVxuICAgIH0sW10pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgc3dpdGNoIChzY3JvbGxlclN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6XG4gICAgICAgICAgICBjYXNlICdzZXRsaXN0c2l6ZSc6XG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsZXJTdGF0ZSgncmVhZHknKVxuICAgICAgICB9XG5cbiAgICB9LFtzY3JvbGxlclN0YXRlXSlcblxuICAgIHJldHVybiAoPD5cbiAgICAgICAgeyhzY3JvbGxlclN0YXRlICE9ICdzZXR1cCcpICYmIDxWaWV3cG9ydFxuXG4gICAgICAgICAgICBncmlkU3BlY3MgPSB7IGdyaWRTcGVjc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgc2Nyb2xsZXJEYXRhID0ge3Njcm9sbGVyRGF0YX1cbiAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuXG4gICAgICAgID5cbiAgICAgICAgXG4gICAgICAgICAgICA8U2Nyb2xsYmxvY2tcblxuICAgICAgICAgICAgICAgIGdyaWRTcGVjcyA9IHsgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENyYWRsZSBcblxuICAgICAgICAgICAgICAgICAgICBncmlkU3BlY3MgPSB7IGdyaWRTcGVjc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzID0geyBzdHlsZXNSZWYuY3VycmVudCB9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlID0geyBjYWNoZSB9XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlTWF4ID0geyBjYWNoZU1heCB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJGdW5jdGlvbnMgPSB7IGZ1bmN0aW9uc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdJbmRleCA9IHsgc3RhcnRpbmdJbmRleCB9XG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0gPSB7IGdldEl0ZW0gfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICAgICAgICAgICAgICBydW53YXlTaXplID0geyBydW53YXlTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSB7IHRyaWdnZXJsaW5lT2Zmc2V0IH1cblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUhhbmRsZXIgPSB7Y2FjaGVIYW5kbGVyUmVmLmN1cnJlbnR9XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvU2Nyb2xsYmxvY2s+XG4gICAgICAgIDwvVmlld3BvcnQ+fVxuICAgICAgICB7KHNjcm9sbGVyU3RhdGUgIT0gJ3NldHVwJykgJiYgPGRpdiBkYXRhLXR5cGUgPSAnY2FjaGVyb290JyBzdHlsZSA9IHsgY2FjaGVyb290c3R5bGUgfT5cbiAgICAgICAgICAgIDxQb3J0YWxMaXN0IGNhY2hlUHJvcHMgPSB7Y2FjaGVIYW5kbGVyUmVmLmN1cnJlbnQuY2FjaGVQcm9wc30vPlxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIDwvPilcbn1cblxuY29uc3QgY2FjaGVyb290c3R5bGUgPSB7ZGlzcGxheTonbm9uZSd9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMgLy8gc3RhdGljLCBvdXQgb2YgdmlldyBcblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcblxuLy8gdXRpbGl0aWVzXG5mdW5jdGlvbiBjb21wYXJlUHJvcHMgKG9iajEsb2JqMikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmoxKVxuICAgIGxldCBzYW1lXG4gICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXMob2JqMVtrZXldLG9iajJba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG4iXSwibmFtZXMiOlsiZ2xvYmFsU2Nyb2xsZXJJRCIsIkluZmluaXRlR3JpZFNjcm9sbGVyIiwicHJvcHMiLCJvcmllbnRhdGlvbiIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0IiwiZXN0aW1hdGVkTGlzdFNpemUiLCJydW53YXlTaXplIiwic3RhcnRpbmdJbmRleCIsImdldEl0ZW0iLCJwbGFjZWhvbGRlciIsInN0eWxlcyIsImNhY2hlIiwiY2FjaGVNYXgiLCJ0cmlnZ2VybGluZU9mZnNldCIsImZ1bmN0aW9ucyIsInNjcm9sbGVyRGF0YSIsImFkdmFuY2VkIiwiTWF0aCIsIm1heCIsImluY2x1ZGVzIiwiZ3JpZFNwZWNzIiwic2Nyb2xsZXJTdGF0ZSIsInNldFNjcm9sbGVyU3RhdGUiLCJncmlkU3BlY3NSZWYiLCJzdHlsZXNSZWYiLCJmdW5jdGlvbnNSZWYiLCJzY3JvbGxlclNlc3Npb25JRFJlZiIsInNjcm9sbGVySUQiLCJjdXJyZW50IiwiY29tcGFyZVByb3BzIiwiY2FjaGVIYW5kbGVyUmVmIiwiY2FjaGVoYW5kbGVyXzEiLCJzZXRMaXN0c2l6ZSIsImxpc3RzaXplUmVmIiwibGlzdHNpemUiLCJuZXdMaXN0c2l6ZSIsInJlYWN0XzEiLCJWaWV3cG9ydF8xIiwiU2Nyb2xsYmxvY2tfMSIsIkNyYWRsZV8xIiwidXNlckZ1bmN0aW9ucyIsImNhY2hlSGFuZGxlciIsInN0eWxlIiwiY2FjaGVyb290c3R5bGUiLCJjYWNoZVByb3BzIiwiZGlzcGxheSIsImV4cG9ydHMiLCJvYmoxIiwib2JqMiIsImtleXMiLCJPYmplY3QiLCJzYW1lIiwia2V5IiwiaXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/infinitegridscroller.tsx\n");

/***/ }),

/***/ "./node_modules/react-reverse-portal/dist/web/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-reverse-portal/dist/web/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InPortal\": () => (/* binding */ InPortal),\n/* harmony export */   \"OutPortal\": () => (/* binding */ OutPortal),\n/* harmony export */   \"createHtmlPortalNode\": () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   \"createSvgPortalNode\": () => (/* binding */ createSvgPortalNode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = 'html';\nvar ELEMENT_TYPE_SVG = 'svg';\n// ReactDOM can handle several different namespaces, but they're not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error(\"Unrecognized element type \\\"\" + elementType + \"\\\" for validateElementType.\");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement('div');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, 'g');\n    }\n    else {\n        throw new Error(\"Invalid element type \\\"\" + elementType + \"\\\" for createPortalNode: must be \\\"html\\\" or \\\"svg\\\".\");\n    }\n    if (options && typeof options === \"object\") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode's elementType needs to match\n            // the elementType it's being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error(\"Invalid element type for portal: \\\"\" + elementType + \"\\\" portalNodes must be used with \" + elementType + \" elements, but OutPortal is within <\" + newParent.tagName + \">.\");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren't currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we're switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsK0NBQWtCO0FBQ3ZELGlCQUFpQixpREFBb0I7QUFDckM7QUFDQSxtQkFBbUIsK0NBQWtCO0FBQ3JDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnQkFBZ0IsaUJBQWlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixVQUFVLDJCQUEyQjtBQUN2RTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQzJFO0FBQzNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZXZlcnNlLXBvcnRhbC9kaXN0L3dlYi9pbmRleC5qcz9lMDAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIEludGVybmFsbHksIHRoZSBwb3J0YWxOb2RlIG11c3QgYmUgZm9yIGVpdGhlciBIVE1MIG9yIFNWRyBlbGVtZW50c1xudmFyIEVMRU1FTlRfVFlQRV9IVE1MID0gJ2h0bWwnO1xudmFyIEVMRU1FTlRfVFlQRV9TVkcgPSAnc3ZnJztcbi8vIFJlYWN0RE9NIGNhbiBoYW5kbGUgc2V2ZXJhbCBkaWZmZXJlbnQgbmFtZXNwYWNlcywgYnV0IHRoZXkncmUgbm90IGV4cG9ydGVkIHB1YmxpY2x5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iODdhYWJkZmUxYjc0NjFlNzMzMWFiYjM2MDFkOWU2YmIyNzU0NGJjL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvc2hhcmVkL0RPTU5hbWVzcGFjZXMuanMjTDgtTDEwXG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG52YXIgdmFsaWRhdGVFbGVtZW50VHlwZSA9IGZ1bmN0aW9uIChkb21FbGVtZW50LCBlbGVtZW50VHlwZSkge1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSBFTEVNRU5UX1RZUEVfU1ZHKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgdmFsaWRhdGVFbGVtZW50VHlwZS5cIik7XG59O1xuLy8gVGhpcyBpcyB0aGUgaW50ZXJuYWwgaW1wbGVtZW50YXRpb246IHRoZSBwdWJsaWMgZW50cnkgcG9pbnRzIHNldCBlbGVtZW50VHlwZSB0byBhbiBhcHByb3ByaWF0ZSB2YWx1ZVxudmFyIGNyZWF0ZVBvcnRhbE5vZGUgPSBmdW5jdGlvbiAoZWxlbWVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbFByb3BzID0ge307XG4gICAgdmFyIHBhcmVudDtcbiAgICB2YXIgbGFzdFBsYWNlaG9sZGVyO1xuICAgIHZhciBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgY3JlYXRlUG9ydGFsTm9kZTogbXVzdCBiZSBcXFwiaHRtbFxcXCIgb3IgXFxcInN2Z1xcXCIuXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5hdHRyaWJ1dGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcG9ydGFsTm9kZSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICBzZXRQb3J0YWxQcm9wczogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBpbml0aWFsUHJvcHMgPSBwcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5pdGlhbFBvcnRhbFByb3BzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudDogZnVuY3Rpb24gKG5ld1BhcmVudCwgbmV3UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChuZXdQbGFjZWhvbGRlciA9PT0gbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtb3VudGVkIC0gbm9vcC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3J0YWxOb2RlLnVubW91bnQoKTtcbiAgICAgICAgICAgIC8vIFRvIHN1cHBvcnQgU1ZHIGFuZCBvdGhlciBub24taHRtbCBlbGVtZW50cywgdGhlIHBvcnRhbE5vZGUncyBlbGVtZW50VHlwZSBuZWVkcyB0byBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnRUeXBlIGl0J3MgYmVpbmcgcmVuZGVyZWQgaW50b1xuICAgICAgICAgICAgaWYgKG5ld1BhcmVudCAhPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUVsZW1lbnRUeXBlKG5ld1BhcmVudCwgZWxlbWVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZWxlbWVudCB0eXBlIGZvciBwb3J0YWw6IFxcXCJcIiArIGVsZW1lbnRUeXBlICsgXCJcXFwiIHBvcnRhbE5vZGVzIG11c3QgYmUgdXNlZCB3aXRoIFwiICsgZWxlbWVudFR5cGUgKyBcIiBlbGVtZW50cywgYnV0IE91dFBvcnRhbCBpcyB3aXRoaW4gPFwiICsgbmV3UGFyZW50LnRhZ05hbWUgKyBcIj4uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1BhcmVudC5yZXBsYWNlQ2hpbGQocG9ydGFsTm9kZS5lbGVtZW50LCBuZXdQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBwYXJlbnQgPSBuZXdQYXJlbnQ7XG4gICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSBuZXdQbGFjZWhvbGRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudDogZnVuY3Rpb24gKGV4cGVjdGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChleHBlY3RlZFBsYWNlaG9sZGVyICYmIGV4cGVjdGVkUGxhY2Vob2xkZXIgIT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdW5tb3VudHMgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgbW91bnRlZFxuICAgICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCBoYXZlIGJlZW4gYXV0b21hdGljYWxseSB1bm1vdW50ZWQgYWxyZWFkeSBieSBhIHN1YnNlcXVlbnQgbW91bnQoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChsYXN0UGxhY2Vob2xkZXIsIHBvcnRhbE5vZGUuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxhc3RQbGFjZWhvbGRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBvcnRhbE5vZGU7XG59O1xudmFyIEluUG9ydGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJblBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJblBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkUHJvcHNDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5wcm9wcy5ub2RlLCB7XG4gICAgICAgICAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXJlbmRlciB0aGUgY2hpbGQgbm9kZSBoZXJlIGlmL3doZW4gdGhlIG91dCBwb3J0YWwgcHJvcHMgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9kZVByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBub2RlUHJvcHM6IF90aGlzLnByb3BzLm5vZGUuZ2V0SW5pdGlhbFBvcnRhbFByb3BzKCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkZFByb3BzQ2hhbm5lbCgpO1xuICAgIH07XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG5vZGUgPSBfYS5ub2RlO1xuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBfdGhpcy5zdGF0ZS5ub2RlUHJvcHMpO1xuICAgICAgICB9KSwgbm9kZS5lbGVtZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBJblBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIE91dFBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3V0UG9ydGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE91dFBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGxhY2Vob2xkZXJOb2RlID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIF90aGlzLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9wc0ZvclRhcmdldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgbm9kZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm5vZGUuc2V0UG9ydGFsUHJvcHMocHJvcHNGb3JUYXJnZXQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIHRoaXMuY3VycmVudFBvcnRhbE5vZGUgPSBub2RlO1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2UgcmUtbW91bnQgb24gdXBkYXRlLCBqdXN0IGluIGNhc2Ugd2Ugd2VyZSB1bm1vdW50ZWQgKGUuZy4gYnlcbiAgICAgICAgLy8gYSBzZWNvbmQgT3V0UG9ydGFsLCB3aGljaCBoYXMgbm93IGJlZW4gcmVtb3ZlZClcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIC8vIElmIHdlJ3JlIHN3aXRjaGluZyBwb3J0YWwgbm9kZXMsIHdlIG5lZWQgdG8gY2xlYW4gdXAgdGhlIGN1cnJlbnQgb25lIGZpcnN0LlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9ydGFsTm9kZSAmJiBub2RlICE9PSB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlLnVubW91bnQodGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJlbmRlciBhIHBsYWNlaG9sZGVyIHRvIHRoZSBET00sIHNvIHdlIGNhbiBnZXQgYSByZWZlcmVuY2UgaW50b1xuICAgICAgICAvLyBvdXIgbG9jYXRpb24gaW4gdGhlIERPTSwgYW5kIHN3YXAgaXQgb3V0IGZvciB0aGUgcG9ydGFsZWQgbm9kZS5cbiAgICAgICAgLy8gQSA8ZGl2PiBwbGFjZWhvbGRlciB3b3JrcyBmaW5lIGV2ZW4gZm9yIFNWRy5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMucGxhY2Vob2xkZXJOb2RlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE91dFBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIGNyZWF0ZUh0bWxQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9IVE1MKTtcbnZhciBjcmVhdGVTdmdQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9TVkcpO1xuZXhwb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIGNyZWF0ZVN2Z1BvcnRhbE5vZGUsIEluUG9ydGFsLCBPdXRQb3J0YWwsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n");

/***/ }),

/***/ "./node_modules/requestidlecallback/index.js":
/*!***************************************************!*\
  !*** ./node_modules/requestidlecallback/index.js ***!
  \***************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/infinitegridscroller.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});