/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["react-infinite-grid-scroller"] = factory(require("react"), require("react-dom"));
	else
		root["react-infinite-grid-scroller"] = factory(root["react"], root["react-dom"]);
})(self, (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOMRectReadOnly\": () => (/* binding */ DOMRectReadOnly)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzP2ZkZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObservation\": () => (/* binding */ ResizeObservation)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isSVG)(target)\n        && !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isReplacedElement)(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__.calculateBoxSize)(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0U7QUFDTDtBQUNOO0FBQzNEO0FBQ0EsWUFBWSxxREFBSztBQUNqQixZQUFZLGlFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJGQUFvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUM0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzPzQ0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* binding */ ResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRTtBQUMxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RkFBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsdUZBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlEQUFTO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLHlGQUFrQztBQUMxQztBQUNBO0FBQ0EsUUFBUSwwRkFBbUM7QUFDM0M7QUFDQTtBQUNBLDZDQUE2QyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBLENBQUM7QUFDeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcz9kMDIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverBoxOptions\": () => (/* binding */ ResizeObserverBoxOptions)\n/* harmony export */ });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzP2U1NTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverController\": () => (/* binding */ ResizeObserverController)\n/* harmony export */ });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__.ResizeObservation(target, options && options.box));\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNIO0FBQ007QUFDSjtBQUMxRDtBQUNBO0FBQ0Esb0JBQW9CLCtCQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1RUFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFvQjtBQUNwRCwrQ0FBK0MsaUVBQWlCO0FBQ2hFLFlBQVksNkRBQVc7QUFDdkIsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQXNCLENBQUMsMkVBQXVCO0FBQzdFO0FBQ0EsWUFBWSw2REFBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9EQUFvRDtBQUN0SDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzP2YzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverDetail\": () => (/* binding */ ResizeObserverDetail)\n/* harmony export */ });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanM/NzgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverEntry\": () => (/* binding */ ResizeObserverEntry)\n/* harmony export */ });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__.calculateBoxSizes)(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.borderBoxSize]);\n        this.contentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQzFCO0FBQ3hDO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQWlCO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkIscURBQU07QUFDbkMsOEJBQThCLHFEQUFNO0FBQ3BDLHlDQUF5QyxxREFBTTtBQUMvQztBQUNBO0FBQ0EsQ0FBQztBQUM4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanM/NDFlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverSize\": () => (/* binding */ ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQU07QUFDZDtBQUNBO0FBQ0EsQ0FBQztBQUM2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcz9jNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcastActiveObservations\": () => (/* binding */ broadcastActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry(ot.target);\n            var targetDepth = (0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__.calculateDepthForNode)(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = (0,_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__.calculateBoxSize)(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDRztBQUNWO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQW1CO0FBQy9DLDhCQUE4Qiw2RUFBcUI7QUFDbkQ7QUFDQSxrQ0FBa0MsbUVBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhDQUE4Qyx5QkFBeUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzP2NhYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateBoxSize\": () => (/* binding */ calculateBoxSize),\n/* harmony export */   \"calculateBoxSizes\": () => (/* binding */ calculateBoxSizes)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isHidden)(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = (0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isSVG)(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RTtBQUNaO0FBQ047QUFDRjtBQUNWO0FBQ0E7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFnQixJQUFJLHFFQUEwQjtBQUM5RSx3Q0FBd0M7QUFDeEM7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxlQUFlLG1FQUFrQjtBQUNqQztBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWU7QUFDcEMsQ0FBQztBQUNEO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0dBQWlEO0FBQzlEO0FBQ0EsYUFBYSwwRkFBbUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcz8xMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateDepthForNode\": () => (/* binding */ calculateDepthForNode)\n/* harmony export */ });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_0__.isHidden)(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQzVDO0FBQ0EsUUFBUSx3REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzP2M5MzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deliverResizeLoopError\": () => (/* binding */ deliverResizeLoopError)\n/* harmony export */ });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanM/YzJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gatherActiveObservationsAtDepth\": () => (/* binding */ gatherActiveObservationsAtDepth)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if ((0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__.calculateDepthForNode)(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDSztBQUNoRTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQzJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzPzQ1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasActiveObservations\": () => (/* binding */ hasActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyx3RUFBb0IsaUJBQWlCLHFDQUFxQztBQUNyRjtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzP2RkYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasSkippedObservations\": () => (/* binding */ hasSkippedObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUMzRDtBQUNBLFdBQVcsd0VBQW9CLGlCQUFpQixzQ0FBc0M7QUFDdEY7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanM/YzEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* reexport safe */ _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__.ResizeObserver),\n/* harmony export */   \"ResizeObserverEntry\": () => (/* reexport safe */ _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry),\n/* harmony export */   \"ResizeObserverSize\": () => (/* reexport safe */ _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUNVO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9leHBvcnRzL3Jlc2l6ZS1vYnNlcnZlci5qcz8xZDFmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXInO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isElement\": () => (/* binding */ isElement),\n/* harmony export */   \"isHidden\": () => (/* binding */ isHidden),\n/* harmony export */   \"isReplacedElement\": () => (/* binding */ isReplacedElement),\n/* harmony export */   \"isSVG\": () => (/* binding */ isSVG)\n/* harmony export */ });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzPzNjZDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/element.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"freeze\": () => (/* binding */ freeze)\n/* harmony export */ });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzP2ZjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"global\": () => (/* binding */ global)\n/* harmony export */ });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/global.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"process\": () => (/* binding */ process)\n/* harmony export */ });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    while ((0,_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__.hasActiveObservations)()) {\n        depth = (0,_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__.broadcastActiveObservations)();\n        (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    }\n    if ((0,_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__.hasSkippedObservations)()) {\n        (0,_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__.deliverResizeLoopError)();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFO0FBQ0U7QUFDQTtBQUNVO0FBQ1E7QUFDaEc7QUFDQTtBQUNBLElBQUksNEdBQStCO0FBQ25DLFdBQVcsd0ZBQXFCO0FBQ2hDLGdCQUFnQixvR0FBMkI7QUFDM0MsUUFBUSw0R0FBK0I7QUFDdkM7QUFDQSxRQUFRLDBGQUFzQjtBQUM5QixRQUFRLDBGQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzP2Q0YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yJztcbmltcG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfSBmcm9tICcuLi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgnO1xudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB3aGlsZSAoaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVwdGggPSBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMoKTtcbiAgICAgICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgfVxuICAgIGlmIChoYXNTa2lwcGVkT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVsaXZlclJlc2l6ZUxvb3BFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGggPiAwO1xufTtcbmV4cG9ydCB7IHByb2Nlc3MgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/process.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueMicroTask\": () => (/* binding */ queueMicroTask)\n/* harmony export */ });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFtRCxjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDJDQUEyQyxrQkFBa0I7QUFDN0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanM/YTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueResizeObserver\": () => (/* binding */ queueResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    (0,_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__.queueMicroTask)(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7QUFDbEQ7QUFDQSxJQUFJLCtEQUFjO0FBQ2xCO0FBQ0EsS0FBSztBQUNMO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcz9hMzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resizeObservers\": () => (/* binding */ resizeObservers)\n/* harmony export */ });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanM/YThlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"scheduler\": () => (/* binding */ scheduler),\n/* harmony export */   \"updateCount\": () => (/* binding */ updateCount)\n/* harmony export */ });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        (0,_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__.queueResizeObserver)(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = (0,_process__WEBPACK_IMPORTED_MODULE_0__.process)();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUNGO0FBQzBCO0FBQzVEO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFtQjtBQUMzQjtBQUNBO0FBQ0Esc0NBQXNDLGlEQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsK0JBQStCLDREQUF1QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLDREQUF1QiwrQkFBK0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sK0RBQTBCLCtCQUErQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanM/YjAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n");

/***/ }),

/***/ "./src/cellshell.tsx":
/*!***************************!*\
  !*** ./src/cellshell.tsx ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cellshell.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ \"./node_modules/requestidlecallback/index.js\");\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar placeholder_1 = __importDefault(__webpack_require__(/*! ./placeholder */ \"./src/placeholder.tsx\"));\n\nvar cradle_1 = __webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\");\n\nvar IDLECALLBACK_TIMEOUT = 8000; // TODO experimentally high!!\n\nvar CellShell = function CellShell(_a) {\n  var orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      index = _a.index,\n      // callbacks, \n  getItem = _a.getItem,\n      listsize = _a.listsize,\n      placeholder = _a.placeholder,\n      instanceID = _a.instanceID,\n      scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID;\n  var cacheHandler = (0, react_1.useContext)(cradle_1.CradleCacheContext);\n\n  var _b = (0, react_1.useState)({\n    overflow: 'hidden'\n  }),\n      styles = _b[0],\n      saveStyles = _b[1];\n\n  var _c = (0, react_1.useState)('setup'),\n      cellStatus = _c[0],\n      setCellStatus = _c[1]; // console.log('cell instanceID, cellStatus', instanceID, cellStatus)\n\n\n  var shellRef = (0, react_1.useRef)(null);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var portaldataRef = (0, react_1.useRef)(null); // for unmount\n\n  (0, react_1.useEffect)(function () {\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); // ----------------- [ placeholder definition ] -------------------------\n\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    return placeholder ? react_1[\"default\"].createElement(placeholder, {\n      index: index,\n      listsize: listsize\n    }) : null;\n  }, [placeholder, listsize]);\n  var placeholderRef = (0, react_1.useRef)(null);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    var placeholder = customplaceholder ? customplaceholder : react_1[\"default\"].createElement(placeholder_1[\"default\"], {\n      index: index,\n      listsize: listsize,\n      error: false\n    });\n    return placeholder;\n  }, [index, customplaceholder, listsize]); // ---------------- [ end of placeholder definition ] ------------------------\n\n  var requestidlecallback = window['requestIdleCallback'] ? window['requestIdleCallback'] : requestidlecallback_1.requestIdleCallback;\n  var cancelidlecallback = window['cancelIdleCallback'] ? window['cancelIdleCallback'] : requestidlecallback_1.cancelIdleCallback;\n  var requestIdleCallbackIdRef = (0, react_1.useRef)(null); // initialize cell content\n\n  (0, react_1.useEffect)(function () {\n    // portaldataRef.current = cacheHandler.fetchOrCreatePortal(index, placeholderRef.current)\n    // const hasUserContent = !!portaldataRef.current.hasusercontent // previous InPortal creation for index\n    // const { reverseportal } = portaldataRef.current\n    // contentPortalRef.current = <OutPortal node = {reverseportal}/>\n    contentRef.current = placeholderRef.current; // if (!hasUserContent) {\n\n    setCellStatus('getusercontent'); // } else {\n    // portaldataRef.current.isReparenting = true\n    // if (isMountedRef.current) setCellStatus('ready')\n    // }        \n    // unmount\n\n    return function () {\n      cancelidlecallback(requestIdleCallbackIdRef.current);\n    };\n  }, []); // cradle invariant ondemand callback parameter value\n\n  var getElementData = (0, react_1.useCallback)(function () {\n    return [index, shellRef];\n  }, []); // ---------------------[ end of configure observer ]-------------------------\n  // set styles\n\n  (0, react_1.useEffect)(function () {\n    var newStyles = getShellStyles(orientation, cellHeight, cellWidth, styles);\n\n    if (isMountedRef.current) {\n      saveStyles(newStyles);\n    }\n  }, [orientation, cellHeight, cellWidth]); // const contentPortalRef = useRef(null)\n\n  var contentRef = (0, react_1.useRef)(null);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cellStatus) {\n      case 'setup':\n        // no-op\n        break;\n\n      case 'getusercontent':\n        {\n          // const dimensions = shellRef.current?.getBoundingClientRect()\n          // console.log('cellShell dimensions',dimensions)\n          var isPortal_1 = cacheHandler.hasPortal(index); // if (isPortal) {\n          //     console.log('fetching portal')\n          //     portaldataRef.current = cacheHandler.fetchPortal(index)\n          //     const { reverseportal } = portaldataRef.current\n          //     portaldataRef.current.isReparenting = true\n          //     contentRef.current = <OutPortal node = {reverseportal}/>\n          //     setCellStatus('ready')\n          // } else {\n\n          setCellStatus('waiting');\n          requestIdleCallbackIdRef.current = requestidlecallback(function () {\n            return __awaiter(void 0, void 0, void 0, function () {\n              var reverseportal, usercontent, reverseportal;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    if (!isPortal_1) return [3\n                    /*break*/\n                    , 1];\n                    console.log('fetching portal');\n                    portaldataRef.current = cacheHandler.fetchPortal(index);\n                    reverseportal = portaldataRef.current.reverseportal; // portaldataRef.current.isReparenting = true\n\n                    contentRef.current = react_1[\"default\"].createElement(react_reverse_portal_1.OutPortal, {\n                      node: reverseportal\n                    });\n                    setCellStatus('ready');\n                    return [3\n                    /*break*/\n                    , 3];\n\n                  case 1:\n                    console.log('fetching new content');\n                    return [4\n                    /*yield*/\n                    , getItem(index)];\n\n                  case 2:\n                    usercontent = _a.sent();\n\n                    if (isMountedRef.current) {\n                      if (usercontent) {\n                        portaldataRef.current = cacheHandler.fetchPortal(index, usercontent);\n                        reverseportal = portaldataRef.current.reverseportal;\n                        contentRef.current = react_1[\"default\"].createElement(react_reverse_portal_1.OutPortal, {\n                          node: reverseportal\n                        });\n                      } else {\n                        console.log('ERROR', 'no content item');\n                      }\n                    }\n\n                    _a.label = 3;\n\n                  case 3:\n                    setCellStatus('ready');\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          }, {\n            timeout: IDLECALLBACK_TIMEOUT\n          }); // }\n          // console.log('contentRef.current',contentRef.current)\n          // setCellStatus('acquired')\n\n          break;\n        }\n\n      case 'waiting':\n        {\n          break;\n        }\n    }\n  }, [cellStatus]);\n  (0, react_1.useEffect)(function () {\n    switch (cellStatus) {\n      case 'ready':\n        {\n          break;\n        }\n    }\n  }, [cellStatus]);\n  return react_1[\"default\"].createElement(\"div\", {\n    ref: shellRef,\n    \"data-type\": 'cellshell',\n    \"data-scrollerid\": scrollerID,\n    \"data-index\": index,\n    \"data-instanceid\": instanceID,\n    style: styles\n  }, cellStatus != 'setup' && contentRef.current);\n}; // CellShell\n\n\nvar getShellStyles = function getShellStyles(orientation, cellHeight, cellWidth, styles) {\n  var styleset = Object.assign({\n    position: 'relative'\n  }, styles);\n\n  if (orientation == 'horizontal') {\n    styleset.width = cellWidth ? cellWidth + 'px' : 'auto';\n    styleset.height = 'auto';\n  } else if (orientation === 'vertical') {\n    styleset.width = 'auto';\n    styleset.height = cellHeight ? cellHeight + 'px' : 'auto';\n  }\n\n  return styleset;\n};\n\nexports[\"default\"] = CellShell;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2VsbHNoZWxsLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNQSxvQkFBb0IsR0FBRyxJQUE3QixDLENBQWtDOztBQUVsQyxJQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDQyxFQUFELEVBWWpCO01BWEdDLFdBQVc7TUFDWEMsVUFBVTtNQUNWQyxTQUFTO01BQ1RDLEtBQUs7TUFDTDtFQUNBQyxPQUFPO01BQ1BDLFFBQVE7TUFDUkMsV0FBVztNQUNYQyxVQUFVO01BQ1ZDLFlBQVk7TUFDWkMsVUFBVTtFQUdWLElBQU1DLFlBQVksR0FBRyx3QkFBV0MsMkJBQVgsQ0FBckI7O0VBRU0sU0FBc0Isc0JBQVM7SUFDakNDLFFBQVEsRUFBQztFQUR3QixDQUFULENBQXRCO0VBQUEsSUFBQ0MsTUFBTSxRQUFQO0VBQUEsSUFBUUMsVUFBVSxRQUFsQjs7RUFJQSxTQUE4QixzQkFBUyxPQUFULENBQTlCO0VBQUEsSUFBQ0MsVUFBVSxRQUFYO0VBQUEsSUFBYUMsYUFBYSxRQUExQixDQVJULENBVUc7OztFQUVBLElBQU1DLFFBQVEsR0FBRyxvQkFBTyxJQUFQLENBQWpCO0VBRUEsSUFBTUMsWUFBWSxHQUFHLG9CQUFPLElBQVAsQ0FBckI7RUFFQSxJQUFNQyxhQUFhLEdBQUcsb0JBQU8sSUFBUCxDQUF0QixDQWhCSCxDQWtCRzs7RUFDQSx1QkFBVTtJQUVOLE9BQU87TUFDSEQsWUFBWSxDQUFDRSxPQUFiLEdBQXVCLEtBQXZCO0lBQ0gs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QUxMO0VBUUgsQ0FWRCxFQVVHLENBQUNBLFVBQUQsQ0FWSDtFQVlBLE9BQU9PO0lBQUt3QixHQUFHLEVBQUs3QixRQUFiO0lBQXFCLGFBQ1osV0FEVDtJQUNvQixtQkFDSlIsVUFGaEI7SUFFMEIsY0FDZk4sS0FIWDtJQUdnQixtQkFDQUksVUFKaEI7SUFLSHdDLEtBQUssRUFBSWxDO0VBTE4sR0FPSUUsVUFBVSxJQUFJLE9BQWYsSUFBMkJpQixVQUFVLENBQUNaLE9BUHpDLENBQVA7QUFXSCxDQXZQRCxDLENBdVBFOzs7QUFFRixJQUFNZSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNuQyxXQUFELEVBQWNDLFVBQWQsRUFBMEJDLFNBQTFCLEVBQXFDVyxNQUFyQyxFQUEyQztFQUU5RCxJQUFJbUMsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztJQUFDQyxRQUFRLEVBQUM7RUFBVixDQUFkLEVBQW9DdEMsTUFBcEMsQ0FBZjs7RUFFQSxJQUFJYixXQUFXLElBQUksWUFBbkIsRUFBaUM7SUFDN0JnRCxRQUFRLENBQUNJLEtBQVQsR0FDSWxELFNBQVMsR0FDSkEsU0FBUyxHQUFHLElBRFIsR0FFTCxNQUhSO0lBSUE4QyxRQUFRLENBQUNLLE1BQVQsR0FBa0IsTUFBbEI7RUFFSCxDQVBELE1BT08sSUFBSXJELFdBQVcsS0FBSyxVQUFwQixFQUFnQztJQUVuQ2dELFFBQVEsQ0FBQ0ksS0FBVCxHQUFpQixNQUFqQjtJQUNBSixRQUFRLENBQUNLLE1BQVQsR0FDSXBELFVBQVUsR0FDTEEsVUFBVSxHQUFHLElBRFIsR0FFTixNQUhSO0VBS0g7O0VBRUQsT0FBTytDLFFBQVA7QUFFSCxDQXZCRDs7QUF5QkFNLGtCQUFBQSxHQUFleEQsU0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY2VsbHNoZWxsLnRzeD82ZGRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNlbGxzaGVsbC50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIyIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge3JlcXVlc3RJZGxlQ2FsbGJhY2ssIGNhbmNlbElkbGVDYWxsYmFja30gZnJvbSAncmVxdWVzdGlkbGVjYWxsYmFjaydcblxuaW1wb3J0IHsgT3V0UG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnXG5cbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuL3BsYWNlaG9sZGVyJ1xuXG5pbXBvcnQgeyBDcmFkbGVDYWNoZUNvbnRleHQgfSBmcm9tICcuL2NyYWRsZSdcblxuY29uc3QgSURMRUNBTExCQUNLX1RJTUVPVVQgPSA4MDAwIC8vIFRPRE8gZXhwZXJpbWVudGFsbHkgaGlnaCEhXG5cbmNvbnN0IENlbGxTaGVsbCA9ICh7XG4gICAgb3JpZW50YXRpb24sIFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGNlbGxXaWR0aCwgXG4gICAgaW5kZXgsIFxuICAgIC8vIGNhbGxiYWNrcywgXG4gICAgZ2V0SXRlbSwgXG4gICAgbGlzdHNpemUsIFxuICAgIHBsYWNlaG9sZGVyLCBcbiAgICBpbnN0YW5jZUlELCBcbiAgICBzY3JvbGxlck5hbWUsXG4gICAgc2Nyb2xsZXJJRCxcbn0pID0+IHtcblxuICAgIGNvbnN0IGNhY2hlSGFuZGxlciA9IHVzZUNvbnRleHQoQ3JhZGxlQ2FjaGVDb250ZXh0KVxuICAgIFxuICAgIGNvbnN0IFtzdHlsZXMsc2F2ZVN0eWxlc10gPSB1c2VTdGF0ZSh7XG4gICAgICAgIG92ZXJmbG93OidoaWRkZW4nLFxuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcylcblxuICAgIGNvbnN0IFtjZWxsU3RhdHVzLCBzZXRDZWxsU3RhdHVzXSA9IHVzZVN0YXRlKCdzZXR1cCcpOyBcblxuICAgIC8vIGNvbnNvbGUubG9nKCdjZWxsIGluc3RhbmNlSUQsIGNlbGxTdGF0dXMnLCBpbnN0YW5jZUlELCBjZWxsU3RhdHVzKVxuXG4gICAgY29uc3Qgc2hlbGxSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuXG4gICAgY29uc3QgcG9ydGFsZGF0YVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gZm9yIHVubW91bnRcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0gWyBwbGFjZWhvbGRlciBkZWZpbml0aW9uIF0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgY3VzdG9tcGxhY2Vob2xkZXIgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQocGxhY2Vob2xkZXIsIHtpbmRleCwgbGlzdHNpemV9KTpcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBcbiAgICB9LFtwbGFjZWhvbGRlcixsaXN0c2l6ZV0pXG5cbiAgICBjb25zdCBwbGFjZWhvbGRlclJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgcGxhY2Vob2xkZXJSZWYuY3VycmVudCA9IHVzZU1lbW8oKCk9PntcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBcbiAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyOlxuICAgICAgICAgICAgICAgIDxQbGFjZWhvbGRlciBpbmRleCA9IHtpbmRleH0gbGlzdHNpemUgPSB7bGlzdHNpemV9IGVycm9yID0ge2ZhbHNlfS8+XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlclxuICAgIH0sIFtpbmRleCwgY3VzdG9tcGxhY2Vob2xkZXIsIGxpc3RzaXplXSk7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIFsgZW5kIG9mIHBsYWNlaG9sZGVyIGRlZmluaXRpb24gXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHJlcXVlc3RpZGxlY2FsbGJhY2sgPSBcbiAgICAgICAgd2luZG93WydyZXF1ZXN0SWRsZUNhbGxiYWNrJ10/XG4gICAgICAgICAgICB3aW5kb3dbJ3JlcXVlc3RJZGxlQ2FsbGJhY2snXTpcbiAgICAgICAgICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2tcbiAgICBjb25zdCBjYW5jZWxpZGxlY2FsbGJhY2sgPSBcbiAgICAgICAgd2luZG93WydjYW5jZWxJZGxlQ2FsbGJhY2snXT9cbiAgICAgICAgICAgIHdpbmRvd1snY2FuY2VsSWRsZUNhbGxiYWNrJ106XG4gICAgICAgICAgICBjYW5jZWxJZGxlQ2FsbGJhY2tcblxuICAgIGNvbnN0IHJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gaW5pdGlhbGl6ZSBjZWxsIGNvbnRlbnRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIC8vIHBvcnRhbGRhdGFSZWYuY3VycmVudCA9IGNhY2hlSGFuZGxlci5mZXRjaE9yQ3JlYXRlUG9ydGFsKGluZGV4LCBwbGFjZWhvbGRlclJlZi5jdXJyZW50KVxuXG4gICAgICAgIC8vIGNvbnN0IGhhc1VzZXJDb250ZW50ID0gISFwb3J0YWxkYXRhUmVmLmN1cnJlbnQuaGFzdXNlcmNvbnRlbnQgLy8gcHJldmlvdXMgSW5Qb3J0YWwgY3JlYXRpb24gZm9yIGluZGV4XG5cbiAgICAgICAgLy8gY29uc3QgeyByZXZlcnNlcG9ydGFsIH0gPSBwb3J0YWxkYXRhUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBjb250ZW50UG9ydGFsUmVmLmN1cnJlbnQgPSA8T3V0UG9ydGFsIG5vZGUgPSB7cmV2ZXJzZXBvcnRhbH0vPlxuXG4gICAgICAgIGNvbnRlbnRSZWYuY3VycmVudCA9IHBsYWNlaG9sZGVyUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBpZiAoIWhhc1VzZXJDb250ZW50KSB7XG5cbiAgICAgICAgICAgIHNldENlbGxTdGF0dXMoJ2dldHVzZXJjb250ZW50JylcblxuICAgICAgICAvLyB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBwb3J0YWxkYXRhUmVmLmN1cnJlbnQuaXNSZXBhcmVudGluZyA9IHRydWVcbiAgICAgICAgICAgIC8vIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkgc2V0Q2VsbFN0YXR1cygncmVhZHknKVxuICAgICAgICAgICAgXG4gICAgICAgIC8vIH0gICAgICAgIFxuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgY2FuY2VsaWRsZWNhbGxiYWNrKHJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZi5jdXJyZW50KVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cblxuICAgIC8vIGNyYWRsZSBpbnZhcmlhbnQgb25kZW1hbmQgY2FsbGJhY2sgcGFyYW1ldGVyIHZhbHVlXG4gICAgY29uc3QgZ2V0RWxlbWVudERhdGEgPSB1c2VDYWxsYmFjaygoKT0+e1xuXG4gICAgICAgIHJldHVybiBbaW5kZXgsIHNoZWxsUmVmXVxuICAgICAgICBcbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBlbmQgb2YgY29uZmlndXJlIG9ic2VydmVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBzZXQgc3R5bGVzXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgbGV0IG5ld1N0eWxlcyA9IGdldFNoZWxsU3R5bGVzKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHN0eWxlcylcbiAgICAgICAgXG4gICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc2F2ZVN0eWxlcyhuZXdTdHlsZXMpXG4gICAgICAgIH1cblxuICAgIH0sW29yaWVudGF0aW9uLGNlbGxIZWlnaHQsY2VsbFdpZHRoXSkgXG5cbiAgICAvLyBjb25zdCBjb250ZW50UG9ydGFsUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgY29udGVudFJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcblxuICAgICAgICBzd2l0Y2ggKGNlbGxTdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzpcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdnZXR1c2VyY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaW1lbnNpb25zID0gc2hlbGxSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2VsbFNoZWxsIGRpbWVuc2lvbnMnLGRpbWVuc2lvbnMpXG4gICAgICAgICAgICAgICAgY29uc3QgaXNQb3J0YWwgPSBjYWNoZUhhbmRsZXIuaGFzUG9ydGFsKGluZGV4KVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgKGlzUG9ydGFsKSB7XG5cbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2ZldGNoaW5nIHBvcnRhbCcpXG5cbiAgICAgICAgICAgICAgICAvLyAgICAgcG9ydGFsZGF0YVJlZi5jdXJyZW50ID0gY2FjaGVIYW5kbGVyLmZldGNoUG9ydGFsKGluZGV4KVxuXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IHsgcmV2ZXJzZXBvcnRhbCB9ID0gcG9ydGFsZGF0YVJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICAvLyAgICAgcG9ydGFsZGF0YVJlZi5jdXJyZW50LmlzUmVwYXJlbnRpbmcgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAvLyAgICAgY29udGVudFJlZi5jdXJyZW50ID0gPE91dFBvcnRhbCBub2RlID0ge3JldmVyc2Vwb3J0YWx9Lz5cblxuICAgICAgICAgICAgICAgIC8vICAgICBzZXRDZWxsU3RhdHVzKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENlbGxTdGF0dXMoJ3dhaXRpbmcnKVxuXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZi5jdXJyZW50ID0gcmVxdWVzdGlkbGVjYWxsYmFjayhhc3luYyAoKT0+e1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1BvcnRhbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZldGNoaW5nIHBvcnRhbCcpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxkYXRhUmVmLmN1cnJlbnQgPSBjYWNoZUhhbmRsZXIuZmV0Y2hQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJldmVyc2Vwb3J0YWwgfSA9IHBvcnRhbGRhdGFSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9ydGFsZGF0YVJlZi5jdXJyZW50LmlzUmVwYXJlbnRpbmcgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmVmLmN1cnJlbnQgPSA8T3V0UG9ydGFsIG5vZGUgPSB7cmV2ZXJzZXBvcnRhbH0vPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2VsbFN0YXR1cygncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZldGNoaW5nIG5ldyBjb250ZW50JylcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJjb250ZW50ID0gYXdhaXQgZ2V0SXRlbShpbmRleClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxkYXRhUmVmLmN1cnJlbnQgPSBjYWNoZUhhbmRsZXIuZmV0Y2hQb3J0YWwoaW5kZXgsIHVzZXJjb250ZW50KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJldmVyc2Vwb3J0YWwgfSA9IHBvcnRhbGRhdGFSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmVmLmN1cnJlbnQgPSA8T3V0UG9ydGFsIG5vZGUgPSB7cmV2ZXJzZXBvcnRhbH0vPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsJ25vIGNvbnRlbnQgaXRlbScpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENlbGxTdGF0dXMoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgICAgICB9LHt0aW1lb3V0OklETEVDQUxMQkFDS19USU1FT1VUfSlcblxuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjb250ZW50UmVmLmN1cnJlbnQnLGNvbnRlbnRSZWYuY3VycmVudClcblxuICAgICAgICAgICAgICAgIC8vIHNldENlbGxTdGF0dXMoJ2FjcXVpcmVkJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3dhaXRpbmcnOiB7XG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sIFtjZWxsU3RhdHVzXSlcblxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChjZWxsU3RhdHVzKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYWR5Jzoge1xuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSwgW2NlbGxTdGF0dXNdKVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmID0geyBzaGVsbFJlZiB9IFxuICAgICAgICBkYXRhLXR5cGUgPSAnY2VsbHNoZWxsJyBcbiAgICAgICAgZGF0YS1zY3JvbGxlcmlkID0ge3Njcm9sbGVySUR9IFxuICAgICAgICBkYXRhLWluZGV4ID0ge2luZGV4fSBcbiAgICAgICAgZGF0YS1pbnN0YW5jZWlkID0ge2luc3RhbmNlSUR9IFxuICAgICAgICBzdHlsZSA9IHtzdHlsZXN9PlxuXG4gICAgICAgICAgICB7IChjZWxsU3RhdHVzICE9ICdzZXR1cCcpICYmIGNvbnRlbnRSZWYuY3VycmVudCB9XG4gICAgICAgICAgICBcbiAgICAgICAgPC9kaXY+XG5cbn0gLy8gQ2VsbFNoZWxsXG5cbmNvbnN0IGdldFNoZWxsU3R5bGVzID0gKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHN0eWxlcykgPT4ge1xuXG4gICAgbGV0IHN0eWxlc2V0ID0gT2JqZWN0LmFzc2lnbih7cG9zaXRpb246J3JlbGF0aXZlJ30sc3R5bGVzKVxuXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICBzdHlsZXNldC53aWR0aCA9IFxuICAgICAgICAgICAgY2VsbFdpZHRoP1xuICAgICAgICAgICAgICAgIChjZWxsV2lkdGggKyAncHgnKTpcbiAgICAgICAgICAgICAgICAnYXV0bydcbiAgICAgICAgc3R5bGVzZXQuaGVpZ2h0ID0gJ2F1dG8nXG5cbiAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgc3R5bGVzZXQud2lkdGggPSAnYXV0bydcbiAgICAgICAgc3R5bGVzZXQuaGVpZ2h0ID0gXG4gICAgICAgICAgICBjZWxsSGVpZ2h0P1xuICAgICAgICAgICAgICAgIChjZWxsSGVpZ2h0ICsgJ3B4Jyk6XG4gICAgICAgICAgICAgICAgJ2F1dG8nXG4gICAgICAgIFxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXNldFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENlbGxTaGVsbFxuIl0sIm5hbWVzIjpbIklETEVDQUxMQkFDS19USU1FT1VUIiwiQ2VsbFNoZWxsIiwiX2EiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJpbmRleCIsImdldEl0ZW0iLCJsaXN0c2l6ZSIsInBsYWNlaG9sZGVyIiwiaW5zdGFuY2VJRCIsInNjcm9sbGVyTmFtZSIsInNjcm9sbGVySUQiLCJjYWNoZUhhbmRsZXIiLCJjcmFkbGVfMSIsIm92ZXJmbG93Iiwic3R5bGVzIiwic2F2ZVN0eWxlcyIsImNlbGxTdGF0dXMiLCJzZXRDZWxsU3RhdHVzIiwic2hlbGxSZWYiLCJpc01vdW50ZWRSZWYiLCJwb3J0YWxkYXRhUmVmIiwiY3VycmVudCIsImN1c3RvbXBsYWNlaG9sZGVyIiwicmVhY3RfMSIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZWhvbGRlclJlZiIsInBsYWNlaG9sZGVyXzEiLCJlcnJvciIsInJlcXVlc3RpZGxlY2FsbGJhY2siLCJ3aW5kb3ciLCJyZXF1ZXN0aWRsZWNhbGxiYWNrXzEiLCJjYW5jZWxpZGxlY2FsbGJhY2siLCJyZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYiLCJjb250ZW50UmVmIiwiZ2V0RWxlbWVudERhdGEiLCJuZXdTdHlsZXMiLCJnZXRTaGVsbFN0eWxlcyIsImlzUG9ydGFsXzEiLCJoYXNQb3J0YWwiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2hQb3J0YWwiLCJyZXZlcnNlcG9ydGFsIiwicmVhY3RfcmV2ZXJzZV9wb3J0YWxfMSIsIm5vZGUiLCJ1c2VyY29udGVudCIsInRpbWVvdXQiLCJyZWYiLCJzdHlsZSIsInN0eWxlc2V0IiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cellshell.tsx\n");

/***/ }),

/***/ "./src/cradle.tsx":
/*!************************!*\
  !*** ./src/cradle.tsx ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("// cradle.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\n/*\n    rationalize pauseScrolling, and other signals\n*/\n\n/*\n    Description\n    -----------\n    The GridStroller provides the illusion of infinite scrolling through the use of a data 'cradle' inside a viewport.\n    The illusion is maintained by synchronizing changes in cradle content with cradle location inside a scrollblock, such\n    that as the scrollblock is moved, the cradle moves oppositely in the scrollblock (to stay visible within the viewport).\n    The scrollblock is sized to approximate the list being viewed, so as to have a scroll thumb size and position which\n    realistically reflects the size of the list being shown.\n\n    The position of the cradle is controlled by a 'axis' which is a 0px height/width (along the medial - ScrollBlock can be\n    verticsl or horizontal). The purpose of the axis is to act as a 'fold', above which cell content expands 'upwards', and\n    below which the cell content expands  'downwards'. GridScroller can be viewed vertically or horizontally. When horizontal,\n    the axis has a 0px width, so that the 'fold' is vertical, and cells expand to the left and right.\n\n    The axis is controlled to always be in the at the leading edge of the leading cellrow of the viewport. Thus\n    in vertical orientation, the axis 'top' css attribute is always equal to the 'scrollTop' position of the scrollblock,\n    plus an adjustment. The adjustment is the result of the alignment of the axis in relation to the top-(or left-)most cell\n    in the viewport (the 'reference' row). The axis can only be placed at the leading edge of the first visible\n    cell in the viewport. Therefore the axis offset from the leading edge of the viewport can be anywhere from minus to\n    plus the length of the leading row. The exact amount depends on where the 'breakpoint' of transition notification is set for\n    cells crossing the viewport threshold (and can be configured). The default of the breakpoint is .5 (half the length of the cell).\n\n    Technically, there are several reference points tracked by the GridScroller. These are:\n        - axisReferenceIndex (the virtual index of the item controlling the location of the axis)\n            The axisReferenceIndex is also used to allocate items above (lower index value) and below (same or higher index value)\n            the fold\n        - cradleReferenceIndex (the virtual index of the item defining the leading bound of the cradle content)\n        - axisPixelOffset (pixels - plus or minus - that the axis is placed in relation to the viewport's leading edge)\n    \n    These reference points are applied to the following structures:\n        - the viewport\n        - the scrollblock\n        - the cradle, consisting of\n            - the axis (contains cradle head and tail)\n            - the head (contains leading items)\n            - the tail (contains trailing items)\n\n    Structure details:\n        the cradle content consists of\n        - the number of rows that are visible in the viewport (according to the default parameters)\n            - this typically includes one partially visible row\n        - the number of runway rows specified in the parameters, times 2 (one et for the head; one for the tail)\n        - the number of items is the number of rows times the 'crosscount' the lateral number of cells.\n        - the last row might consist of fewer items than crosscount, to match the maximum listsize\n        - the cradleRowcount (visible default rows + runwayRowcountSpec * 2) and viewpointRowcount (visble rows;typicall one partial)\n\n    Item containers:\n        Client cell content is contained in CellShell's, which are configured according to GridScroller's input parameters.\n        The ItemCell's are in turn contained in CSS grid structures. There are two grid structures - one in the cradle head,\n        and one in the cradle tail. Each grid structure is allowed uniform padding and gaps - identical between the two.\n\n    Overscroll handling:\n        Owing to the weight of the code, and potential rapidity of scrolling, there is an overscroll protocol.\n        if the overscroll is such that part of the cradle is still within the viewport boundaries, then the overscroll\n        is calculated as the number of cell rows that would fit (completely or partially) in the space between the edge of\n        the cradle that is receding from a viewport edge.\n\n        If the overshoot is such that the cradle has entirely passed out of the viewport, the GridScroller goes into 'Repositoining'\n        mode, meaning that it tracks relative location of the axis edge of the viewport, and repaints the cradle accroding to\n        this position when the scrolling stops.\n*/\n\n/*\n    Cradle is activated by interrupts:\n    - resizing of the viewport (1)\n    - observer callbacks:\n        - cradle viewport intersection for repositioning when the cradle races out of scope - by scroll (2)\n        - cellShell viewport intersection which triggers rolling of content - by scroll (3)\n            - rolling content triggers re-allocation of content between cradle wings\n        - cradle wing resize (responding to variable length cell changes) which triggers reconfiguration (4)\n    - pivot - change of orientation (5)\n    - host change of other configuration specs (6)\n*/\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleCacheContext = void 0;\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"); // popup position tracker for repositioning\n\n\nvar scrolltracker_1 = __importDefault(__webpack_require__(/*! ./scrolltracker */ \"./src/scrolltracker.tsx\")); // support code\n\n\nvar cachehandler_1 = __webpack_require__(/*! ./cradle/cachehandler */ \"./src/cradle/cachehandler.tsx\");\n\nvar scrollhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollhandler */ \"./src/cradle/scrollhandler.tsx\"));\n\nvar statehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/statehandler */ \"./src/cradle/statehandler.tsx\"));\n\nvar contenthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/contenthandler */ \"./src/cradle/contenthandler.tsx\"));\n\nvar scaffoldhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scaffoldhandler */ \"./src/cradle/scaffoldhandler.tsx\"));\n\nvar interrupthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/interrupthandler */ \"./src/cradle/interrupthandler.tsx\"));\n\nvar servicehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/servicehandler */ \"./src/cradle/servicehandler.tsx\"));\n\nvar styleshandler_1 = __importDefault(__webpack_require__(/*! ./cradle/styleshandler */ \"./src/cradle/styleshandler.tsx\")); // for children\n\n\nexports.CradleCacheContext = react_1[\"default\"].createContext(null);\nvar portalrootstyle = {\n  display: 'none'\n}; // static \n// component\n\nvar Cradle = function Cradle(_a) {\n  var gridSpecs = _a.gridSpecs,\n      runwayRowcountSpec = _a.runwayRowcountSpec,\n      listsize = _a.listsize,\n      defaultVisibleIndex = _a.defaultVisibleIndex,\n      getItem = _a.getItem,\n      placeholder = _a.placeholder,\n      functions = _a.functions,\n      styles = _a.styles,\n      triggerlineOffset = _a.triggerlineOffset,\n      cache = _a.cache,\n      cacheMax = _a.cacheMax,\n      // for debugging\n  scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID;\n  if (listsize == 0) return; // nothing to do\n  // ========================[ DATA SETUP ]========================\n  // unpack gridSpecs\n\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // get viewport context\n\n  var viewportInterruptProperties = (0, react_1.useContext)(viewport_1.ViewportInterrupt);\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)(null);\n  viewportInterruptPropertiesRef.current = viewportInterruptProperties; // for closures\n\n  var viewportDimensions = viewportInterruptProperties.viewportDimensions;\n  var viewportheight = viewportDimensions.height,\n      viewportwidth = viewportDimensions.width; // state\n\n  var _b = (0, react_1.useState)('setup'),\n      cradleState = _b[0],\n      setCradleState = _b[1];\n\n  var cradleStateRef = (0, react_1.useRef)(null); // access by closures\n\n  cradleStateRef.current = cradleState;\n  console.log('ENTERING cradleState, scrollerID', cradleState, scrollerID); // controls\n\n  var isMountedRef = (0, react_1.useRef)(true); // cradle scaffold elements refs\n\n  var headCradleElementRef = (0, react_1.useRef)(null);\n  var tailCradleElementRef = (0, react_1.useRef)(null);\n  var axisCradleElementRef = (0, react_1.useRef)(null);\n  var headTriggerlineCradleElementRef = (0, react_1.useRef)(null);\n  var tailTriggerlineCradleElementRef = (0, react_1.useRef)(null); // scaffold bundle\n\n  var cradleElementsRef = (0, react_1.useRef)({\n    headRef: headCradleElementRef,\n    tailRef: tailCradleElementRef,\n    axisRef: axisCradleElementRef,\n    headTriggerlineRef: headTriggerlineCradleElementRef,\n    tailTriggerlineRef: tailTriggerlineCradleElementRef\n  }); // ------------------------[ calculated data ]------------------------\n  // configuration calculations\n\n  var crosscount = (0, react_1.useMemo)(function () {\n    var viewportsize = orientation == 'horizontal' ? viewportheight : viewportwidth;\n    var crossLength = orientation == 'horizontal' ? cellHeight : cellWidth;\n    var viewportlengthforcalc = viewportsize - padding * 2 + gap; // length of viewport\n\n    var tilelengthforcalc = crossLength + gap;\n    tilelengthforcalc = Math.min(tilelengthforcalc, viewportlengthforcalc); // result cannot be less than 1\n\n    return Math.floor(viewportlengthforcalc / tilelengthforcalc);\n  }, [orientation, gap, padding, cellWidth, cellHeight, viewportheight, viewportwidth]);\n\n  var _c = (0, react_1.useMemo)(function () {\n    var viewportLength, rowLength;\n\n    if (orientation == 'vertical') {\n      viewportLength = viewportheight;\n      rowLength = cellHeight;\n    } else {\n      viewportLength = viewportwidth;\n      rowLength = cellWidth;\n    }\n\n    rowLength += gap;\n    var viewportRowcount = Math.ceil(viewportLength / rowLength);\n    var viewportVisibleRowcount = Math.floor(viewportLength / rowLength);\n    var listRowcount = Math.ceil(listsize / crosscount);\n    var calculatedCradleRowcount = viewportRowcount + runwayRowcountSpec * 2;\n    var cradleRowcount = Math.min(listRowcount, calculatedCradleRowcount);\n    var runwayRowcount;\n\n    if (calculatedCradleRowcount >= cradleRowcount) {\n      runwayRowcount = runwayRowcountSpec;\n    } else {\n      var diff = cradleRowcount - calculatedCradleRowcount;\n      runwayRowcount -= Math.floor(diff / 2);\n      runwayRowcount = Math.max(0, runwayRowcount);\n    }\n\n    var itemcount = cradleRowcount * crosscount;\n\n    if (itemcount > listsize) {\n      itemcount = listsize;\n      cradleRowcount = Math.ceil(itemcount / crosscount);\n    }\n\n    return [cradleRowcount, viewportRowcount, viewportVisibleRowcount, listRowcount, runwayRowcount];\n  }, [orientation, gap, // padding,\n  cellWidth, cellHeight, viewportheight, viewportwidth, listsize, runwayRowcountSpec, crosscount]),\n      cradleRowcount = _c[0],\n      viewportRowcount = _c[1],\n      viewportVisibleRowcount = _c[2],\n      // max number of rows completely visible at once\n  listRowcount = _c[3],\n      runwayRowcount = _c[4]; // ======================[ callbacks ]=====================\n  // host callbacks\n\n\n  var referenceIndexCallbackRef = (0, react_1.useRef)(functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback);\n  var externalCallbacksRef = (0, react_1.useRef)({\n    referenceIndexCallbackRef: referenceIndexCallbackRef\n  }); // ====================[ bundle parameters for handlers ]===================\n  // bundle cradle props to pass to handlers\n\n  var cradleInheritedPropertiesRef = (0, react_1.useRef)(null); // access by closures and support functions\n  // up to data values\n\n  cradleInheritedPropertiesRef.current = {\n    // gridSpecs\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout,\n    // ...rest\n    listsize: listsize,\n    cache: cache,\n    cacheMax: cacheMax,\n    defaultVisibleIndex: defaultVisibleIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    triggerlineOffset: triggerlineOffset,\n    scrollerName: scrollerName,\n    scrollerID: scrollerID,\n    // objects\n    functions: functions,\n    styles: styles\n  }; // configuration properties to share\n\n  var cradleInternalPropertiesRef = (0, react_1.useRef)(null);\n  cradleInternalPropertiesRef.current = {\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    viewportVisibleRowcount: viewportVisibleRowcount,\n    listRowcount: listRowcount,\n    runwayRowcount: runwayRowcount,\n    isMountedRef: isMountedRef,\n    cradleElementsRef: cradleElementsRef,\n    // for stateHandler\n    cradleStateRef: cradleStateRef,\n    setCradleState: setCradleState\n  }; // placeholder in cradleParameters to make available individual handlers\n\n  var handlersRef = (0, react_1.useRef)(null); // cradle parameters MASTER BUNDLE\n\n  var cradleParameters = {\n    handlersRef: handlersRef,\n    viewportInterruptPropertiesRef: viewportInterruptPropertiesRef,\n    cradleInheritedPropertiesRef: cradleInheritedPropertiesRef,\n    cradleInternalPropertiesRef: cradleInternalPropertiesRef,\n    // internalCallbacksRef, // n/a\n    externalCallbacksRef: externalCallbacksRef\n  }; // ongoing source of handlers\n\n  if (!handlersRef.current) {\n    handlersRef.current = getCradleHandlers(cradleParameters);\n  } // make handlers directly available to cradle code\n\n\n  var _d = handlersRef.current,\n      cacheHandler = _d.cacheHandler,\n      interruptHandler = _d.interruptHandler,\n      scrollHandler = _d.scrollHandler,\n      stateHandler = _d.stateHandler,\n      contentHandler = _d.contentHandler,\n      scaffoldHandler = _d.scaffoldHandler,\n      serviceHandler = _d.serviceHandler,\n      stylesHandler = _d.stylesHandler; // ===================[ INITIALIZATION effects ]=========================\n  // this is an immediate response to reparenting (moving portals). Reparenting resets scroll\n  // positions for nested infinitegridscrollers.\n  // the code restores scroll as soon as cradle is invoked after reparenting\n\n  var isReparentingRef = (0, react_1.useRef)(false);\n  var dimensions = viewportInterruptProperties.elementref.current.getBoundingClientRect();\n\n  if (!isReparentingRef.current && dimensions.height == 0 && dimensions.width == 0) {\n    console.log('SETTING isReparentingRef.current to true for scrollerID', scrollerID);\n    isReparentingRef.current = true;\n  } // if (viewportInterruptProperties.portal?.isReparenting) { \n\n\n  if (isReparentingRef.current) {\n    // if (!isReparentingRef.current) {\n    //     isReparentingRef.current = true\n    //     console.log('setting isReparenting to true: scrollerID, isReparentingRef.current',\n    //         scrollerID, isReparentingRef.current)\n    // viewportInterruptProperties.portal.isReparenting = false\n    // setCradleState('reparenting')\n    // isReparentingRef.current = true\n    interruptHandler.pauseTriggerlinesObserver = true;\n    interruptHandler.pauseCradleIntersectionObserver = true;\n    interruptHandler.pauseCradleResizeObserver = true; // pauseScrollingEffects: false,\n\n    interruptHandler.pauseViewportResizing = true; // viewportInterruptProperties.isResizing && (viewportInterruptProperties.isResizing = false)\n\n    var cradlePositionData = scaffoldHandler.cradlePositionData;\n    viewportInterruptProperties.elementref.current[cradlePositionData.blockScrollProperty] = Math.max(0, cradlePositionData.blockScrollPos); // }\n  }\n\n  (0, react_1.useLayoutEffect)(function () {\n    if (!isReparentingRef.current) return; // isReparentingRef.current = false\n    // viewportInterruptProperties.portal.isReparenting = false\n\n    setCradleState('reparenting'); // },[viewportInterruptPropertiesRef.current.portal?.isReparenting])\n  }, [isReparentingRef.current]); // clear mounted flag on unmount\n\n  (0, react_1.useLayoutEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); //send callback functions to host\n\n  (0, react_1.useEffect)(function () {\n    referenceIndexCallbackRef.current = functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback;\n    if (!functions.getCallbacks) return; // const {scrollToItem, getVisibleList, getContentList, reload} = serviceHandler\n\n    var scrollToItem = serviceHandler.scrollToItem,\n        reload = serviceHandler.reload;\n    var callbacks = {\n      scrollToItem: scrollToItem,\n      // getVisibleList,\n      // getContentList,\n      reload: reload\n    }; // console.log('sending callbacks', callbacks)\n\n    functions.getCallbacks(callbacks);\n  }, []); // initialize window scroll listener\n\n  (0, react_1.useEffect)(function () {\n    var viewportdata = viewportInterruptPropertiesRef.current;\n    viewportdata.elementref.current.addEventListener('scroll', scrollHandler.onScroll);\n    return function () {\n      viewportdata.elementref.current && viewportdata.elementref.current.removeEventListener('scroll', scrollHandler.onScroll);\n    };\n  }, []); // observer support\n\n  /*\n      There are two interection observers, one for the cradle, and another for triggerlines;\n          both against the viewport.\n      There is also a resize observer for the cradle wings, to respond to size changes of\n          variable cells.\n  */\n  // intersection observer for cradle body\n  // this sets up an IntersectionObserver of the cradle against the viewport. When the\n  // cradle goes out of the observer scope, the \"repositioningRender\" cradle state is triggerd.\n  // Also, intersection observer for cradle axis triggerlines, and cradle resizeobserver\n\n  (0, react_1.useEffect)(function () {\n    var cradleElements = scaffoldHandler.elements;\n    var cradleintersectobserver = interruptHandler.cradleIntersect.createObserver();\n    interruptHandler.cradleIntersect.connectElements();\n    var triggerobserver = interruptHandler.axisTriggerlinesIntersect.createObserver();\n    interruptHandler.axisTriggerlinesIntersect.connectElements();\n    var resizeobserver = interruptHandler.cradleResize.createObserver();\n    interruptHandler.cradleResize.connectElements();\n    return function () {\n      cradleintersectobserver.disconnect();\n      triggerobserver.disconnect();\n      resizeobserver.disconnect();\n    };\n  }, []); // =====================[ RECONFIGURATION effects ]======================\n  // trigger resizing based on viewport state\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isReparentingRef.current) return; // const dimensions = viewportInterruptPropertiesRef.current.elementref.current.getBoundingClientRect()\n    // console.log('inside resizing from isResizing effect:scrollerID, width, height', scrollerID, dimensions.width, dimensions.height)\n    // if ((dimensions.width == 0 && dimensions.height == 0)) { // reparenting\n    //     console.log('RETURNING from resize call')\n    //     return\n    // }\n    // if (interruptHandler.pauseViewportResizing) return\n    // if (cradleStateRef.current == 'reparenting') {\n    //     return            \n    // }\n\n    if (viewportInterruptPropertiesRef.current.isResizing) {\n      var signals = interruptHandler.signals;\n      signals.pauseTriggerlinesObserver = true;\n      signals.pauseCradleIntersectionObserver = true;\n      signals.pauseCradleResizeObserver = true;\n      signals.pauseScrollingEffects = true;\n      console.log('CALLING resizing in isResizing effect, scrollerID', scrollerID);\n      setCradleState('resizing');\n    } // complete resizing mode\n\n\n    if (!viewportInterruptPropertiesRef.current.isResizing && cradleStateRef.current == 'resizing') {\n      setCradleState('finishresize');\n    }\n  }, [viewportInterruptPropertiesRef.current.isResizing]); // reconfigure for changed size parameters\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    var signals = interruptHandler.signals; // TODO: bundle these as interruptHandler.pauseEffects(), then interruptHandler.resumeEffects()\n\n    signals.pauseCradleIntersectionObserver = true;\n    signals.pauseTriggerlinesObserver = true;\n    signals.pauseScrollingEffects = true;\n    setCradleState('reconfigure');\n  }, [listsize, cellHeight, cellWidth, gap, padding, triggerlineOffset]); // trigger pivot *only* on change in orientation\n\n  (0, react_1.useEffect)(function () {\n    scaffoldHandler.cradlePositionData.blockScrollProperty = orientation == \"vertical\" ? \"scrollTop\" : \"scrollLeft\";\n    if (cradleStateRef.current == 'setup') return;\n    var _a = cradleInheritedPropertiesRef.current,\n        cellWidth = _a.cellWidth,\n        cellHeight = _a.cellHeight,\n        gap = _a.gap; // get previous ratio\n\n    var previousCellPixelLength = (orientation == 'vertical' ? cellWidth : cellHeight) + gap;\n    var previousAxisOffset = scaffoldHandler.cradlePositionData.targetAxisPixelOffset;\n    var previousratio = previousAxisOffset / previousCellPixelLength;\n    var pivotCellPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap;\n    var pivotAxisOffset = previousratio * pivotCellPixelLength;\n    scaffoldHandler.cradlePositionData.targetAxisPixelOffset = Math.round(pivotAxisOffset);\n    var signals = interruptHandler.signals;\n    signals.pauseTriggerlinesObserver = true;\n    signals.pauseScrollingEffects = true;\n    signals.pauseCradleIntersectionObserver = true;\n    setCradleState('pivot');\n  }, [orientation]); // =====================[ STYLES ]===========================\n  // styles for the six scaffold components\n\n  var _e = (0, react_1.useMemo)(function () {\n    return stylesHandler.setCradleStyles({\n      orientation: orientation,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      viewportheight: viewportheight,\n      viewportwidth: viewportwidth,\n      crosscount: crosscount,\n      userstyles: styles,\n      triggerlineOffset: triggerlineOffset\n    });\n  }, [orientation, cellHeight, cellWidth, gap, padding, viewportheight, viewportwidth, crosscount, styles, triggerlineOffset]),\n      cradleHeadStyle = _e[0],\n      cradleTailStyle = _e[1],\n      cradleAxisStyle = _e[2],\n      triggerlineHeadStyle = _e[3],\n      triggerlineTailStyle = _e[4],\n      cradleDividerStyle = _e[5]; // =====================[ state management ]==========================\n  // this is the core state engine\n  // useLayout for suppressing flashes\n\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cradleState) {\n      case 'setup':\n        {\n          // cycle to allow for ref config\n          setCradleState('dosetup'); // load grid\n\n          break;\n        }\n      // renderupdatedcontent is called from updateCradleContent. \n      // it is required to integrate changed DOM configurations before 'ready' is displayed\n\n      case 'renderupdatedcontent':\n        {\n          // cycle for DOM update\n          cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n          cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n          setCradleState('finishupdatedcontent');\n          break;\n        }\n\n      case 'finishupdatedcontent':\n        {\n          // cycle for DOM update\n          interruptHandler.axisTriggerlinesIntersect.connectElements();\n          interruptHandler.signals.pauseTriggerlinesObserver = false;\n          setCradleState('ready');\n          break;\n        }\n\n      case 'startreposition':\n        {\n          interruptHandler.signals.pauseTriggerlinesObserver = true; // avoid recursive cradle intersection interrupts\n\n          interruptHandler.signals.pauseCradleIntersectionObserver = true;\n          interruptHandler.signals.repositioningRequired = false; // because now underway\n\n          setCradleState('repositioningRender');\n          break;\n        }\n\n      /*\n          the following 6 cradle states all resolve with\n          a chain starting with setCradleContent,\n          continuing with 'preparerender', and ending with\n          'normalizesignals'\n      */\n\n      case 'dosetup':\n      case 'doreposition':\n      case 'finishresize':\n      case 'pivot':\n      case 'reconfigure':\n      case 'reload':\n        {\n          var cradleContent_1 = contentHandler.content;\n          cradleContent_1.headModelComponents = [];\n          cradleContent_1.tailModelComponents = []; // register new array id for Object.is to trigger react re-processing\n\n          cradleContent_1.headDisplayComponents = [];\n          cradleContent_1.tailDisplayComponents = [];\n\n          if (cradleState == 'reload') {\n            cacheHandler.clearCache();\n          }\n\n          contentHandler.setCradleContent(cradleState); // if (cache == 'cradle') {\n          //     cacheHandler.matchCacheToCradle\n          // }\n\n          setCradleState('preparerender');\n          break;\n        }\n\n      case 'preparerender':\n        {\n          // cycle for DOM update\n          var cradleContent_2 = contentHandler.content;\n          cradleContent_2.headDisplayComponents = cradleContent_2.headModelComponents;\n          cradleContent_2.tailDisplayComponents = cradleContent_2.tailModelComponents;\n          setCradleState('normalizesignals'); // call a timeout for ready (or interrupt continuation)\n\n          break;\n        }\n\n      case 'normalizesignals':\n        {\n          // normalize or resume cycling\n          // prioritize interrupts\n          if (!isReparentingRef.current && viewportInterruptPropertiesRef.current.isResizing) {\n            console.log('calling resizing from normalizesignals');\n            setCradleState('resizing');\n          } else if (interruptHandler.signals.repositioningRequired) {\n            setCradleState('startreposition');\n          } else {\n            var signals = interruptHandler.signals;\n            signals.pauseTriggerlinesObserver && (signals.pauseTriggerlinesObserver = false);\n            signals.pauseCradleIntersectionObserver && (signals.pauseCradleIntersectionObserver = false);\n            signals.pauseScrollingEffects && (signals.pauseScrollingEffects = false);\n            setCradleState('ready');\n          }\n\n          break;\n        }\n      // case 'reparenting': { // cycle for DOM update\n      //     // isReparentingRef.current = false\n      //     setCradleState('donereparenting')\n      //     break\n      // }\n\n      case 'donereparenting':\n        {\n          // normalize\n          var dimensions_1 = viewportInterruptPropertiesRef.current.elementref.current.getBoundingClientRect();\n          console.log('dimensions width and height in donereparenting', dimensions_1.width, dimensions_1.height);\n          isReparentingRef.current = false; // viewportInterruptPropertiesRef.current.portal.isReparenting = false\n\n          interruptHandler.pauseTriggerlinesObserver = false;\n          interruptHandler.pauseCradleIntersectionObserver = false;\n          interruptHandler.pauseCradleResizeObserver = false; // pauseScrollingEffects: false,\n\n          interruptHandler.pauseViewportResizing = false;\n          setCradleState('ready');\n          break;\n        }\n    }\n  }, [cradleState]); // standard rendering states\n\n  (0, react_1.useEffect)(function () {\n    switch (cradleState) {\n      case 'reparenting':\n        {\n          // cycle for DOM update\n          // isReparentingRef.current = false\n          setCradleState('donereparenting');\n          break;\n        }\n      // repositioningRender and repositioningContinuation are toggled to generate continuous \n      // reposiioning renders\n\n      case 'repositioningRender':\n        break;\n\n      case 'repositioningContinuation':\n        // set from onScroll\n        setCradleState('repositioningRender');\n        break;\n\n      case 'ready':\n        // no action on ready\n        break;\n    }\n  }, [cradleState]); // ==========================[ RENDER ]===========================\n\n  var scrollAxisReferenceIndex = scaffoldHandler.cradlePositionData.targetAxisReferenceIndex;\n  var scrollTrackerArgs = (0, react_1.useMemo)(function () {\n    if (!(cradleState == 'repositioningContinuation' || cradleState == 'repositioningRender')) {\n      return null;\n    }\n\n    var trackerargs = {\n      top: viewportDimensions.top + 3,\n      left: viewportDimensions.left + 3,\n      scrollAxisReferenceIndex: scrollAxisReferenceIndex,\n      listsize: listsize,\n      styles: styles\n    };\n    return trackerargs;\n  }, [cradleState, viewportDimensions, scrollAxisReferenceIndex, listsize, styles]);\n  var cradleContent = contentHandler.content; // the data-type = portalroot div is the hidden portal component cache\n\n  return react_1[\"default\"].createElement(exports.CradleCacheContext.Provider, {\n    value: handlersRef.current.cacheHandler\n  }, cradleStateRef.current != 'setup' && react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'portalroot',\n    style: portalrootstyle\n  }, react_1[\"default\"].createElement(cachehandler_1.PortalList, {\n    scrollerProps: handlersRef.current.cacheHandler.scrollerProps\n  })), cradleStateRef.current == 'repositioningRender' || cradleStateRef.current == 'repositioningContinuation' ? react_1[\"default\"].createElement(scrolltracker_1[\"default\"], {\n    top: scrollTrackerArgs.top,\n    left: scrollTrackerArgs.left,\n    offset: scrollTrackerArgs.scrollAxisReferenceIndex,\n    listsize: scrollTrackerArgs.listsize,\n    styles: scrollTrackerArgs.styles\n  }) : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-axis',\n    style: cradleAxisStyle,\n    ref: axisCradleElementRef\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-head',\n    style: triggerlineHeadStyle,\n    ref: headTriggerlineCradleElementRef\n  }), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'triggerline-tail',\n    style: triggerlineTailStyle,\n    ref: tailTriggerlineCradleElementRef\n  }),  true ? react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: cradleDividerStyle\n  }) : 0, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.headDisplayComponents : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.tailDisplayComponents : null)));\n}; // Cradle\n// utilities\n\n\nvar getCradleHandlers = function getCradleHandlers(cradleParameters) {\n  var createHandler = function createHandler(handler) {\n    return new handler(cradleParameters);\n  };\n\n  return {\n    cacheHandler: new cachehandler_1.CacheHandler(),\n    interruptHandler: createHandler(interrupthandler_1[\"default\"]),\n    scrollHandler: createHandler(scrollhandler_1[\"default\"]),\n    stateHandler: createHandler(statehandler_1[\"default\"]),\n    contentHandler: createHandler(contenthandler_1[\"default\"]),\n    scaffoldHandler: createHandler(scaffoldhandler_1[\"default\"]),\n    serviceHandler: createHandler(servicehandler_1[\"default\"]),\n    stylesHandler: createHandler(styleshandler_1[\"default\"])\n  };\n};\n\nexports[\"default\"] = Cradle;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWhCQSxhQUFnQixVQUFPO0lBQUksV0FBSUMsT0FBSixDQUFZdkYsZ0JBQVo7RUFBNkIsQ0FBOUQ7O0VBRUEsT0FBTztJQUNIRSxZQUFZLEVBQUMsSUFBSStFLDJCQUFKLEVBRFY7SUFFSDlFLGdCQUFnQixFQUFDbUYsYUFBYSxDQUFDRSw2QkFBRCxDQUYzQjtJQUdIcEYsYUFBYSxFQUFDa0YsYUFBYSxDQUFDRywwQkFBRCxDQUh4QjtJQUlIcEYsWUFBWSxFQUFDaUYsYUFBYSxDQUFDSSx5QkFBRCxDQUp2QjtJQUtIcEYsY0FBYyxFQUFDZ0YsYUFBYSxDQUFDSywyQkFBRCxDQUx6QjtJQU1IcEYsZUFBZSxFQUFDK0UsYUFBYSxDQUFDTSw0QkFBRCxDQU4xQjtJQU9IcEYsY0FBYyxFQUFDOEUsYUFBYSxDQUFDTywyQkFBRCxDQVB6QjtJQVFIcEYsYUFBYSxFQUFDNkUsYUFBYSxDQUFDUSwwQkFBRDtFQVJ4QixDQUFQO0FBVUgsQ0FkRDs7QUFnQkExSyxrQkFBQUEsR0FBZUssTUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlLnRzeD8xODNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNyYWRsZS50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIyIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgcmF0aW9uYWxpemUgcGF1c2VTY3JvbGxpbmcsIGFuZCBvdGhlciBzaWduYWxzXG4qL1xuXG4vKlxuICAgIERlc2NyaXB0aW9uXG4gICAgLS0tLS0tLS0tLS1cbiAgICBUaGUgR3JpZFN0cm9sbGVyIHByb3ZpZGVzIHRoZSBpbGx1c2lvbiBvZiBpbmZpbml0ZSBzY3JvbGxpbmcgdGhyb3VnaCB0aGUgdXNlIG9mIGEgZGF0YSAnY3JhZGxlJyBpbnNpZGUgYSB2aWV3cG9ydC5cbiAgICBUaGUgaWxsdXNpb24gaXMgbWFpbnRhaW5lZCBieSBzeW5jaHJvbml6aW5nIGNoYW5nZXMgaW4gY3JhZGxlIGNvbnRlbnQgd2l0aCBjcmFkbGUgbG9jYXRpb24gaW5zaWRlIGEgc2Nyb2xsYmxvY2ssIHN1Y2hcbiAgICB0aGF0IGFzIHRoZSBzY3JvbGxibG9jayBpcyBtb3ZlZCwgdGhlIGNyYWRsZSBtb3ZlcyBvcHBvc2l0ZWx5IGluIHRoZSBzY3JvbGxibG9jayAodG8gc3RheSB2aXNpYmxlIHdpdGhpbiB0aGUgdmlld3BvcnQpLiBcbiAgICBUaGUgc2Nyb2xsYmxvY2sgaXMgc2l6ZWQgdG8gYXBwcm94aW1hdGUgdGhlIGxpc3QgYmVpbmcgdmlld2VkLCBzbyBhcyB0byBoYXZlIGEgc2Nyb2xsIHRodW1iIHNpemUgYW5kIHBvc2l0aW9uIHdoaWNoIFxuICAgIHJlYWxpc3RpY2FsbHkgcmVmbGVjdHMgdGhlIHNpemUgb2YgdGhlIGxpc3QgYmVpbmcgc2hvd24uXG5cbiAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGNyYWRsZSBpcyBjb250cm9sbGVkIGJ5IGEgJ2F4aXMnIHdoaWNoIGlzIGEgMHB4IGhlaWdodC93aWR0aCAoYWxvbmcgdGhlIG1lZGlhbCAtIFNjcm9sbEJsb2NrIGNhbiBiZSBcbiAgICB2ZXJ0aWNzbCBvciBob3Jpem9udGFsKS4gVGhlIHB1cnBvc2Ugb2YgdGhlIGF4aXMgaXMgdG8gYWN0IGFzIGEgJ2ZvbGQnLCBhYm92ZSB3aGljaCBjZWxsIGNvbnRlbnQgZXhwYW5kcyAndXB3YXJkcycsIGFuZCBcbiAgICBiZWxvdyB3aGljaCB0aGUgY2VsbCBjb250ZW50IGV4cGFuZHMgICdkb3dud2FyZHMnLiBHcmlkU2Nyb2xsZXIgY2FuIGJlIHZpZXdlZCB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS4gV2hlbiBob3Jpem9udGFsLCBcbiAgICB0aGUgYXhpcyBoYXMgYSAwcHggd2lkdGgsIHNvIHRoYXQgdGhlICdmb2xkJyBpcyB2ZXJ0aWNhbCwgYW5kIGNlbGxzIGV4cGFuZCB0byB0aGUgbGVmdCBhbmQgcmlnaHQuXG5cbiAgICBUaGUgYXhpcyBpcyBjb250cm9sbGVkIHRvIGFsd2F5cyBiZSBpbiB0aGUgYXQgdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgbGVhZGluZyBjZWxscm93IG9mIHRoZSB2aWV3cG9ydC4gVGh1c1xuICAgIGluIHZlcnRpY2FsIG9yaWVudGF0aW9uLCB0aGUgYXhpcyAndG9wJyBjc3MgYXR0cmlidXRlIGlzIGFsd2F5cyBlcXVhbCB0byB0aGUgJ3Njcm9sbFRvcCcgcG9zaXRpb24gb2YgdGhlIHNjcm9sbGJsb2NrLFxuICAgIHBsdXMgYW4gYWRqdXN0bWVudC4gVGhlIGFkanVzdG1lbnQgaXMgdGhlIHJlc3VsdCBvZiB0aGUgYWxpZ25tZW50IG9mIHRoZSBheGlzIGluIHJlbGF0aW9uIHRvIHRoZSB0b3AtKG9yIGxlZnQtKW1vc3QgY2VsbFxuICAgIGluIHRoZSB2aWV3cG9ydCAodGhlICdyZWZlcmVuY2UnIHJvdykuIFRoZSBheGlzIGNhbiBvbmx5IGJlIHBsYWNlZCBhdCB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSBmaXJzdCB2aXNpYmxlXG4gICAgY2VsbCBpbiB0aGUgdmlld3BvcnQuIFRoZXJlZm9yZSB0aGUgYXhpcyBvZmZzZXQgZnJvbSB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB2aWV3cG9ydCBjYW4gYmUgYW55d2hlcmUgZnJvbSBtaW51cyB0b1xuICAgIHBsdXMgdGhlIGxlbmd0aCBvZiB0aGUgbGVhZGluZyByb3cuIFRoZSBleGFjdCBhbW91bnQgZGVwZW5kcyBvbiB3aGVyZSB0aGUgJ2JyZWFrcG9pbnQnIG9mIHRyYW5zaXRpb24gbm90aWZpY2F0aW9uIGlzIHNldCBmb3JcbiAgICBjZWxscyBjcm9zc2luZyB0aGUgdmlld3BvcnQgdGhyZXNob2xkIChhbmQgY2FuIGJlIGNvbmZpZ3VyZWQpLiBUaGUgZGVmYXVsdCBvZiB0aGUgYnJlYWtwb2ludCBpcyAuNSAoaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZSBjZWxsKS5cblxuICAgIFRlY2huaWNhbGx5LCB0aGVyZSBhcmUgc2V2ZXJhbCByZWZlcmVuY2UgcG9pbnRzIHRyYWNrZWQgYnkgdGhlIEdyaWRTY3JvbGxlci4gVGhlc2UgYXJlOlxuICAgICAgICAtIGF4aXNSZWZlcmVuY2VJbmRleCAodGhlIHZpcnR1YWwgaW5kZXggb2YgdGhlIGl0ZW0gY29udHJvbGxpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBheGlzKVxuICAgICAgICAgICAgVGhlIGF4aXNSZWZlcmVuY2VJbmRleCBpcyBhbHNvIHVzZWQgdG8gYWxsb2NhdGUgaXRlbXMgYWJvdmUgKGxvd2VyIGluZGV4IHZhbHVlKSBhbmQgYmVsb3cgKHNhbWUgb3IgaGlnaGVyIGluZGV4IHZhbHVlKVxuICAgICAgICAgICAgdGhlIGZvbGRcbiAgICAgICAgLSBjcmFkbGVSZWZlcmVuY2VJbmRleCAodGhlIHZpcnR1YWwgaW5kZXggb2YgdGhlIGl0ZW0gZGVmaW5pbmcgdGhlIGxlYWRpbmcgYm91bmQgb2YgdGhlIGNyYWRsZSBjb250ZW50KVxuICAgICAgICAtIGF4aXNQaXhlbE9mZnNldCAocGl4ZWxzIC0gcGx1cyBvciBtaW51cyAtIHRoYXQgdGhlIGF4aXMgaXMgcGxhY2VkIGluIHJlbGF0aW9uIHRvIHRoZSB2aWV3cG9ydCdzIGxlYWRpbmcgZWRnZSkgXG4gICAgXG4gICAgVGhlc2UgcmVmZXJlbmNlIHBvaW50cyBhcmUgYXBwbGllZCB0byB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZXM6XG4gICAgICAgIC0gdGhlIHZpZXdwb3J0XG4gICAgICAgIC0gdGhlIHNjcm9sbGJsb2NrXG4gICAgICAgIC0gdGhlIGNyYWRsZSwgY29uc2lzdGluZyBvZlxuICAgICAgICAgICAgLSB0aGUgYXhpcyAoY29udGFpbnMgY3JhZGxlIGhlYWQgYW5kIHRhaWwpXG4gICAgICAgICAgICAtIHRoZSBoZWFkIChjb250YWlucyBsZWFkaW5nIGl0ZW1zKVxuICAgICAgICAgICAgLSB0aGUgdGFpbCAoY29udGFpbnMgdHJhaWxpbmcgaXRlbXMpXG5cbiAgICBTdHJ1Y3R1cmUgZGV0YWlsczpcbiAgICAgICAgdGhlIGNyYWRsZSBjb250ZW50IGNvbnNpc3RzIG9mXG4gICAgICAgIC0gdGhlIG51bWJlciBvZiByb3dzIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0IChhY2NvcmRpbmcgdG8gdGhlIGRlZmF1bHQgcGFyYW1ldGVycylcbiAgICAgICAgICAgIC0gdGhpcyB0eXBpY2FsbHkgaW5jbHVkZXMgb25lIHBhcnRpYWxseSB2aXNpYmxlIHJvd1xuICAgICAgICAtIHRoZSBudW1iZXIgb2YgcnVud2F5IHJvd3Mgc3BlY2lmaWVkIGluIHRoZSBwYXJhbWV0ZXJzLCB0aW1lcyAyIChvbmUgZXQgZm9yIHRoZSBoZWFkOyBvbmUgZm9yIHRoZSB0YWlsKVxuICAgICAgICAtIHRoZSBudW1iZXIgb2YgaXRlbXMgaXMgdGhlIG51bWJlciBvZiByb3dzIHRpbWVzIHRoZSAnY3Jvc3Njb3VudCcgdGhlIGxhdGVyYWwgbnVtYmVyIG9mIGNlbGxzLiBcbiAgICAgICAgLSB0aGUgbGFzdCByb3cgbWlnaHQgY29uc2lzdCBvZiBmZXdlciBpdGVtcyB0aGFuIGNyb3NzY291bnQsIHRvIG1hdGNoIHRoZSBtYXhpbXVtIGxpc3RzaXplXG4gICAgICAgIC0gdGhlIGNyYWRsZVJvd2NvdW50ICh2aXNpYmxlIGRlZmF1bHQgcm93cyArIHJ1bndheVJvd2NvdW50U3BlYyAqIDIpIGFuZCB2aWV3cG9pbnRSb3djb3VudCAodmlzYmxlIHJvd3M7dHlwaWNhbGwgb25lIHBhcnRpYWwpXG5cbiAgICBJdGVtIGNvbnRhaW5lcnM6XG4gICAgICAgIENsaWVudCBjZWxsIGNvbnRlbnQgaXMgY29udGFpbmVkIGluIENlbGxTaGVsbCdzLCB3aGljaCBhcmUgY29uZmlndXJlZCBhY2NvcmRpbmcgdG8gR3JpZFNjcm9sbGVyJ3MgaW5wdXQgcGFyYW1ldGVycy5cbiAgICAgICAgVGhlIEl0ZW1DZWxsJ3MgYXJlIGluIHR1cm4gY29udGFpbmVkIGluIENTUyBncmlkIHN0cnVjdHVyZXMuIFRoZXJlIGFyZSB0d28gZ3JpZCBzdHJ1Y3R1cmVzIC0gb25lIGluIHRoZSBjcmFkbGUgaGVhZCxcbiAgICAgICAgYW5kIG9uZSBpbiB0aGUgY3JhZGxlIHRhaWwuIEVhY2ggZ3JpZCBzdHJ1Y3R1cmUgaXMgYWxsb3dlZCB1bmlmb3JtIHBhZGRpbmcgYW5kIGdhcHMgLSBpZGVudGljYWwgYmV0d2VlbiB0aGUgdHdvLlxuXG4gICAgT3ZlcnNjcm9sbCBoYW5kbGluZzpcbiAgICAgICAgT3dpbmcgdG8gdGhlIHdlaWdodCBvZiB0aGUgY29kZSwgYW5kIHBvdGVudGlhbCByYXBpZGl0eSBvZiBzY3JvbGxpbmcsIHRoZXJlIGlzIGFuIG92ZXJzY3JvbGwgcHJvdG9jb2wuIFxuICAgICAgICBpZiB0aGUgb3ZlcnNjcm9sbCBpcyBzdWNoIHRoYXQgcGFydCBvZiB0aGUgY3JhZGxlIGlzIHN0aWxsIHdpdGhpbiB0aGUgdmlld3BvcnQgYm91bmRhcmllcywgdGhlbiB0aGUgb3ZlcnNjcm9sbFxuICAgICAgICBpcyBjYWxjdWxhdGVkIGFzIHRoZSBudW1iZXIgb2YgY2VsbCByb3dzIHRoYXQgd291bGQgZml0IChjb21wbGV0ZWx5IG9yIHBhcnRpYWxseSkgaW4gdGhlIHNwYWNlIGJldHdlZW4gdGhlIGVkZ2Ugb2YgXG4gICAgICAgIHRoZSBjcmFkbGUgdGhhdCBpcyByZWNlZGluZyBmcm9tIGEgdmlld3BvcnQgZWRnZS4gXG5cbiAgICAgICAgSWYgdGhlIG92ZXJzaG9vdCBpcyBzdWNoIHRoYXQgdGhlIGNyYWRsZSBoYXMgZW50aXJlbHkgcGFzc2VkIG91dCBvZiB0aGUgdmlld3BvcnQsIHRoZSBHcmlkU2Nyb2xsZXIgZ29lcyBpbnRvICdSZXBvc2l0b2luaW5nJ1xuICAgICAgICBtb2RlLCBtZWFuaW5nIHRoYXQgaXQgdHJhY2tzIHJlbGF0aXZlIGxvY2F0aW9uIG9mIHRoZSBheGlzIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0LCBhbmQgcmVwYWludHMgdGhlIGNyYWRsZSBhY2Nyb2RpbmcgdG9cbiAgICAgICAgdGhpcyBwb3NpdGlvbiB3aGVuIHRoZSBzY3JvbGxpbmcgc3RvcHMuXG4qL1xuXG4vKlxuICAgIENyYWRsZSBpcyBhY3RpdmF0ZWQgYnkgaW50ZXJydXB0czpcbiAgICAtIHJlc2l6aW5nIG9mIHRoZSB2aWV3cG9ydCAoMSlcbiAgICAtIG9ic2VydmVyIGNhbGxiYWNrczpcbiAgICAgICAgLSBjcmFkbGUgdmlld3BvcnQgaW50ZXJzZWN0aW9uIGZvciByZXBvc2l0aW9uaW5nIHdoZW4gdGhlIGNyYWRsZSByYWNlcyBvdXQgb2Ygc2NvcGUgLSBieSBzY3JvbGwgKDIpXG4gICAgICAgIC0gY2VsbFNoZWxsIHZpZXdwb3J0IGludGVyc2VjdGlvbiB3aGljaCB0cmlnZ2VycyByb2xsaW5nIG9mIGNvbnRlbnQgLSBieSBzY3JvbGwgKDMpXG4gICAgICAgICAgICAtIHJvbGxpbmcgY29udGVudCB0cmlnZ2VycyByZS1hbGxvY2F0aW9uIG9mIGNvbnRlbnQgYmV0d2VlbiBjcmFkbGUgd2luZ3NcbiAgICAgICAgLSBjcmFkbGUgd2luZyByZXNpemUgKHJlc3BvbmRpbmcgdG8gdmFyaWFibGUgbGVuZ3RoIGNlbGwgY2hhbmdlcykgd2hpY2ggdHJpZ2dlcnMgcmVjb25maWd1cmF0aW9uICg0KVxuICAgIC0gcGl2b3QgLSBjaGFuZ2Ugb2Ygb3JpZW50YXRpb24gKDUpXG4gICAgLSBob3N0IGNoYW5nZSBvZiBvdGhlciBjb25maWd1cmF0aW9uIHNwZWNzICg2KVxuKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRJbnRlcnJ1cHQgfSBmcm9tICcuL3ZpZXdwb3J0J1xuXG4vLyBwb3B1cCBwb3NpdGlvbiB0cmFja2VyIGZvciByZXBvc2l0aW9uaW5nXG5pbXBvcnQgU2Nyb2xsVHJhY2tlciBmcm9tICcuL3Njcm9sbHRyYWNrZXInXG5cbi8vIHN1cHBvcnQgY29kZVxuaW1wb3J0IHsgQ2FjaGVIYW5kbGVyLCBQb3J0YWxMaXN0IH0gZnJvbSAnLi9jcmFkbGUvY2FjaGVoYW5kbGVyJ1xuaW1wb3J0IFNjcm9sbEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc2Nyb2xsaGFuZGxlcidcbmltcG9ydCBTdGF0ZUhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc3RhdGVoYW5kbGVyJ1xuaW1wb3J0IENvbnRlbnRIYW5kbGVyIGZyb20gJy4vY3JhZGxlL2NvbnRlbnRoYW5kbGVyJ1xuaW1wb3J0IFNjYWZmb2xkSGFuZGxlciBmcm9tICcuL2NyYWRsZS9zY2FmZm9sZGhhbmRsZXInXG5pbXBvcnQgSW50ZXJydXB0SGFuZGxlciBmcm9tICcuL2NyYWRsZS9pbnRlcnJ1cHRoYW5kbGVyJ1xuaW1wb3J0IFNlcnZpY2VIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3NlcnZpY2VoYW5kbGVyJ1xuaW1wb3J0IFN0eWxlc0hhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc3R5bGVzaGFuZGxlcidcblxuLy8gZm9yIGNoaWxkcmVuXG5leHBvcnQgY29uc3QgQ3JhZGxlQ2FjaGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKVxuXG5jb25zdCBwb3J0YWxyb290c3R5bGUgPSB7ZGlzcGxheTonbm9uZSd9IC8vIHN0YXRpYyBcblxuLy8gY29tcG9uZW50XG5jb25zdCBDcmFkbGUgPSAoeyBcbiAgICAgICAgZ3JpZFNwZWNzLFxuXG4gICAgICAgIHJ1bndheVJvd2NvdW50U3BlYywgXG4gICAgICAgIGxpc3RzaXplLCBcbiAgICAgICAgZGVmYXVsdFZpc2libGVJbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBwbGFjZWhvbGRlciwgXG4gICAgICAgIGZ1bmN0aW9ucyxcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgY2FjaGUsXG4gICAgICAgIGNhY2hlTWF4LFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIHNjcm9sbGVyTmFtZSxcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICB9KSA9PiB7XG5cbiAgICBpZiAobGlzdHNpemUgPT0gMCkgcmV0dXJuIC8vIG5vdGhpbmcgdG8gZG9cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PVsgREFUQSBTRVRVUCBdPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB1bnBhY2sgZ3JpZFNwZWNzXG4gICAgY29uc3Qge1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGxheW91dCxcbiAgICB9ID0gZ3JpZFNwZWNzXG5cbiAgICAvLyBnZXQgdmlld3BvcnQgY29udGV4dFxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHVzZUNvbnRleHQoVmlld3BvcnRJbnRlcnJ1cHQpXG4gICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgLy8gZm9yIGNsb3N1cmVzXG5cbiAgICBjb25zdCB7IHZpZXdwb3J0RGltZW5zaW9ucyB9ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzXG4gICAgY29uc3QgeyBoZWlnaHQ6dmlld3BvcnRoZWlnaHQsd2lkdGg6dmlld3BvcnR3aWR0aCB9ID0gdmlld3BvcnREaW1lbnNpb25zXG5cbiAgICAvLyBzdGF0ZVxuICAgIGNvbnN0IFtjcmFkbGVTdGF0ZSwgc2V0Q3JhZGxlU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJylcbiAgICBjb25zdCBjcmFkbGVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcbiAgICBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID0gY3JhZGxlU3RhdGVcblxuICAgIGNvbnNvbGUubG9nKCdFTlRFUklORyBjcmFkbGVTdGF0ZSwgc2Nyb2xsZXJJRCcsY3JhZGxlU3RhdGUsIHNjcm9sbGVySUQpXG5cbiAgICAvLyBjb250cm9sc1xuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuXG4gICAgLy8gY3JhZGxlIHNjYWZmb2xkIGVsZW1lbnRzIHJlZnNcbiAgICBjb25zdCBoZWFkQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IHRhaWxDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgYXhpc0NyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgdGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gc2NhZmZvbGQgYnVuZGxlXG4gICAgY29uc3QgY3JhZGxlRWxlbWVudHNSZWYgPSB1c2VSZWYoXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhlYWRSZWY6aGVhZENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgdGFpbFJlZjp0YWlsQ3JhZGxlRWxlbWVudFJlZiwgXG4gICAgICAgICAgICBheGlzUmVmOmF4aXNDcmFkbGVFbGVtZW50UmVmLFxuICAgICAgICAgICAgaGVhZFRyaWdnZXJsaW5lUmVmOmhlYWRUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWYsXG4gICAgICAgICAgICB0YWlsVHJpZ2dlcmxpbmVSZWY6dGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZlxuICAgICAgICB9XG4gICAgKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjdWxhdGVkIGRhdGEgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gY29uZmlndXJhdGlvbiBjYWxjdWxhdGlvbnNcbiAgICBjb25zdCBjcm9zc2NvdW50ID0gdXNlTWVtbygoKSA9PiB7IC8vIHRoZSBudW1iZXIgb2YgY2VsbHMgY3Jvc3Npbmcgb3JpZW50YXRpb25cblxuICAgICAgICBjb25zdCB2aWV3cG9ydHNpemUgPSAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKT92aWV3cG9ydGhlaWdodDp2aWV3cG9ydHdpZHRoXG4gICAgICAgIGNvbnN0IGNyb3NzTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/Y2VsbEhlaWdodDpjZWxsV2lkdGhcblxuICAgICAgICBjb25zdCB2aWV3cG9ydGxlbmd0aGZvcmNhbGMgPSB2aWV3cG9ydHNpemUgLSAocGFkZGluZyAqIDIpICsgZ2FwIC8vIGxlbmd0aCBvZiB2aWV3cG9ydFxuICAgICAgICBsZXQgdGlsZWxlbmd0aGZvcmNhbGMgPSBjcm9zc0xlbmd0aCArIGdhcFxuICAgICAgICB0aWxlbGVuZ3RoZm9yY2FsYyA9IE1hdGgubWluKHRpbGVsZW5ndGhmb3JjYWxjLHZpZXdwb3J0bGVuZ3RoZm9yY2FsYykgLy8gcmVzdWx0IGNhbm5vdCBiZSBsZXNzIHRoYW4gMVxuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZpZXdwb3J0bGVuZ3RoZm9yY2FsYy90aWxlbGVuZ3RoZm9yY2FsYylcblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcCwgXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgIF0pXG5cbiAgICBjb25zdCBbXG4gICAgICAgIGNyYWRsZVJvd2NvdW50LCBcbiAgICAgICAgdmlld3BvcnRSb3djb3VudCwgXG4gICAgICAgIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50LCAvLyBtYXggbnVtYmVyIG9mIHJvd3MgY29tcGxldGVseSB2aXNpYmxlIGF0IG9uY2VcbiAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBsZXQgdmlld3BvcnRMZW5ndGgsIHJvd0xlbmd0aFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSB2aWV3cG9ydGhlaWdodFxuICAgICAgICAgICAgcm93TGVuZ3RoID0gY2VsbEhlaWdodFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSB2aWV3cG9ydHdpZHRoXG4gICAgICAgICAgICByb3dMZW5ndGggPSBjZWxsV2lkdGhcbiAgICAgICAgfVxuXG4gICAgICAgIHJvd0xlbmd0aCArPSBnYXBcblxuICAgICAgICBjb25zdCB2aWV3cG9ydFJvd2NvdW50ID0gTWF0aC5jZWlsKHZpZXdwb3J0TGVuZ3RoL3Jvd0xlbmd0aClcblxuICAgICAgICBjb25zdCB2aWV3cG9ydFZpc2libGVSb3djb3VudCA9IE1hdGguZmxvb3Iodmlld3BvcnRMZW5ndGgvcm93TGVuZ3RoKVxuXG4gICAgICAgIGNvbnN0IGxpc3RSb3djb3VudCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KVxuXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCA9IHZpZXdwb3J0Um93Y291bnQgKyAocnVud2F5Um93Y291bnRTcGVjICogMilcblxuICAgICAgICBsZXQgY3JhZGxlUm93Y291bnQgPSBNYXRoLm1pbihsaXN0Um93Y291bnQsIGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudClcblxuICAgICAgICBsZXQgcnVud2F5Um93Y291bnRcbiAgICAgICAgaWYgKGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCA+PSBjcmFkbGVSb3djb3VudCkge1xuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgPSBydW53YXlSb3djb3VudFNwZWNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSAoY3JhZGxlUm93Y291bnQgLSBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQpXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCAtPSBNYXRoLmZsb29yKGRpZmYvMilcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50ID0gTWF0aC5tYXgoMCxydW53YXlSb3djb3VudClcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbWNvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgICAgIGlmIChpdGVtY291bnQgPiBsaXN0c2l6ZSkge1xuICAgICAgICAgICAgaXRlbWNvdW50ID0gbGlzdHNpemVcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50ID0gTWF0aC5jZWlsKGl0ZW1jb3VudC9jcm9zc2NvdW50KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50LCBcbiAgICAgICAgICAgIHZpZXdwb3J0Um93Y291bnQsIFxuICAgICAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG4gICAgICAgICAgICBsaXN0Um93Y291bnQsXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICAgICAgXVxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgLy8gcGFkZGluZyxcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcblxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgcnVud2F5Um93Y291bnRTcGVjLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09WyBjYWxsYmFja3MgXT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gaG9zdCBjYWxsYmFja3NcbiAgICBjb25zdCByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmID0gdXNlUmVmKGZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjaylcblxuICAgIGNvbnN0IGV4dGVybmFsQ2FsbGJhY2tzUmVmID0gdXNlUmVmKHtyZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmfSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09WyBidW5kbGUgcGFyYW1ldGVycyBmb3IgaGFuZGxlcnMgXT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIGJ1bmRsZSBjcmFkbGUgcHJvcHMgdG8gcGFzcyB0byBoYW5kbGVyc1xuICAgIGNvbnN0IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbCkgLy8gYWNjZXNzIGJ5IGNsb3N1cmVzIGFuZCBzdXBwb3J0IGZ1bmN0aW9uc1xuICAgIC8vIHVwIHRvIGRhdGEgdmFsdWVzXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50ID0ge1xuICAgICAgICAvLyBncmlkU3BlY3NcbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBnYXAsIFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgLy8gLi4ucmVzdFxuICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgIGNhY2hlLFxuICAgICAgICBjYWNoZU1heCxcbiAgICAgICAgZGVmYXVsdFZpc2libGVJbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBwbGFjZWhvbGRlciwgXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBzY3JvbGxlck5hbWUsXG4gICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgIC8vIG9iamVjdHNcbiAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICBzdHlsZXMsXG5cbiAgICB9XG5cbiAgICAvLyBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gc2hhcmVcbiAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCA9IHtcbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50LFxuICAgICAgICBsaXN0Um93Y291bnQsXG4gICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgICAgICBpc01vdW50ZWRSZWYsXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmLFxuICAgICAgICAvLyBmb3Igc3RhdGVIYW5kbGVyXG4gICAgICAgIGNyYWRsZVN0YXRlUmVmLFxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSxcbiAgICB9XG5cbiAgICAvLyBwbGFjZWhvbGRlciBpbiBjcmFkbGVQYXJhbWV0ZXJzIHRvIG1ha2UgYXZhaWxhYmxlIGluZGl2aWR1YWwgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVyc1JlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gY3JhZGxlIHBhcmFtZXRlcnMgTUFTVEVSIEJVTkRMRVxuICAgIGNvbnN0IGNyYWRsZVBhcmFtZXRlcnMgPSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLFxuICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYsXG4gICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYsIFxuICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYsIFxuICAgICAgICAvLyBpbnRlcm5hbENhbGxiYWNrc1JlZiwgLy8gbi9hXG4gICAgICAgIGV4dGVybmFsQ2FsbGJhY2tzUmVmLFxuICAgIH1cblxuICAgIC8vIG9uZ29pbmcgc291cmNlIG9mIGhhbmRsZXJzXG4gICAgaWYgKCFoYW5kbGVyc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLmN1cnJlbnQgPSBnZXRDcmFkbGVIYW5kbGVycyhjcmFkbGVQYXJhbWV0ZXJzKVxuICAgIH1cblxuICAgIC8vIG1ha2UgaGFuZGxlcnMgZGlyZWN0bHkgYXZhaWxhYmxlIHRvIGNyYWRsZSBjb2RlXG4gICAgY29uc3Qge1xuICAgICAgICBjYWNoZUhhbmRsZXIsXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIsXG4gICAgICAgIHNjcm9sbEhhbmRsZXIsXG4gICAgICAgIHN0YXRlSGFuZGxlcixcbiAgICAgICAgY29udGVudEhhbmRsZXIsXG4gICAgICAgIHNjYWZmb2xkSGFuZGxlcixcbiAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgIHN0eWxlc0hhbmRsZXIsXG4gICAgfSA9IGhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkFUSU9OIGVmZmVjdHMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHRoaXMgaXMgYW4gaW1tZWRpYXRlIHJlc3BvbnNlIHRvIHJlcGFyZW50aW5nIChtb3ZpbmcgcG9ydGFscykuIFJlcGFyZW50aW5nIHJlc2V0cyBzY3JvbGxcbiAgICAvLyBwb3NpdGlvbnMgZm9yIG5lc3RlZCBpbmZpbml0ZWdyaWRzY3JvbGxlcnMuXG4gICAgLy8gdGhlIGNvZGUgcmVzdG9yZXMgc2Nyb2xsIGFzIHNvb24gYXMgY3JhZGxlIGlzIGludm9rZWQgYWZ0ZXIgcmVwYXJlbnRpbmdcbiAgICBjb25zdCBpc1JlcGFyZW50aW5nUmVmID0gdXNlUmVmKGZhbHNlKVxuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaWYgKCghaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50KSAmJiAoZGltZW5zaW9ucy5oZWlnaHQgPT0gMCkgJiYgKGRpbWVuc2lvbnMud2lkdGggPT0gMCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NFVFRJTkcgaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50IHRvIHRydWUgZm9yIHNjcm9sbGVySUQnLCBzY3JvbGxlcklEKVxuICAgICAgICBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgfVxuICAgIC8vIGlmICh2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMucG9ydGFsPy5pc1JlcGFyZW50aW5nKSB7IFxuICAgIGlmIChpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAvLyBpZiAoIWlzUmVwYXJlbnRpbmdSZWYuY3VycmVudCkge1xuICAgICAgICAvLyAgICAgaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3NldHRpbmcgaXNSZXBhcmVudGluZyB0byB0cnVlOiBzY3JvbGxlcklELCBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQnLFxuICAgICAgICAvLyAgICAgICAgIHNjcm9sbGVySUQsIGlzUmVwYXJlbnRpbmdSZWYuY3VycmVudClcbiAgICAgICAgICAgIC8vIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5wb3J0YWwuaXNSZXBhcmVudGluZyA9IGZhbHNlXG4gICAgICAgICAgICAvLyBzZXRDcmFkbGVTdGF0ZSgncmVwYXJlbnRpbmcnKVxuXG4gICAgICAgICAgICAvLyBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIC8vIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlVmlld3BvcnRSZXNpemluZyA9IHRydWVcblxuICAgICAgICAgICAgIC8vIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1Jlc2l6aW5nICYmICh2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZyA9IGZhbHNlKVxuICAgICAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50W1xuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9XG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoMCxjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MpXG4gICAgICAgLy8gfVxuXG4gICAgfVxuXG4gICAgdXNlTGF5b3V0RWZmZWN0ICgoKT0+e1xuXG4gICAgICAgIGlmICghaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50KSByZXR1cm5cblxuICAgICAgICAvLyBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAvLyB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMucG9ydGFsLmlzUmVwYXJlbnRpbmcgPSBmYWxzZVxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwYXJlbnRpbmcnKVxuXG4gICAgLy8gfSxbdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQucG9ydGFsPy5pc1JlcGFyZW50aW5nXSlcbiAgICB9LFtpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnRdKVxuXG4gICAgLy8gY2xlYXIgbW91bnRlZCBmbGFnIG9uIHVubW91bnRcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvL3NlbmQgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGhvc3RcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQgPSBmdW5jdGlvbnM/LnJlZmVyZW5jZUluZGV4Q2FsbGJhY2tcblxuICAgICAgICBpZiAoIWZ1bmN0aW9ucy5nZXRDYWxsYmFja3MpIHJldHVyblxuXG4gICAgICAgIC8vIGNvbnN0IHtzY3JvbGxUb0l0ZW0sIGdldFZpc2libGVMaXN0LCBnZXRDb250ZW50TGlzdCwgcmVsb2FkfSA9IHNlcnZpY2VIYW5kbGVyXG4gICAgICAgIGNvbnN0IHtzY3JvbGxUb0l0ZW0sIHJlbG9hZH0gPSBzZXJ2aWNlSGFuZGxlclxuXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgIHNjcm9sbFRvSXRlbSxcbiAgICAgICAgICAgIC8vIGdldFZpc2libGVMaXN0LFxuICAgICAgICAgICAgLy8gZ2V0Q29udGVudExpc3QsXG4gICAgICAgICAgICByZWxvYWQsXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2VuZGluZyBjYWxsYmFja3MnLCBjYWxsYmFja3MpXG4gICAgICAgIGZ1bmN0aW9ucy5nZXRDYWxsYmFja3MoY2FsbGJhY2tzKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ZGF0YSA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIHZpZXdwb3J0ZGF0YS5lbGVtZW50cmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLm9uU2Nyb2xsKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0ZGF0YS5lbGVtZW50cmVmLmN1cnJlbnQgJiYgdmlld3BvcnRkYXRhLmVsZW1lbnRyZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLHNjcm9sbEhhbmRsZXIub25TY3JvbGwpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIG9ic2VydmVyIHN1cHBvcnRcblxuICAgIC8qXG4gICAgICAgIFRoZXJlIGFyZSB0d28gaW50ZXJlY3Rpb24gb2JzZXJ2ZXJzLCBvbmUgZm9yIHRoZSBjcmFkbGUsIGFuZCBhbm90aGVyIGZvciB0cmlnZ2VybGluZXM7IFxuICAgICAgICAgICAgYm90aCBhZ2FpbnN0IHRoZSB2aWV3cG9ydC5cbiAgICAgICAgVGhlcmUgaXMgYWxzbyBhIHJlc2l6ZSBvYnNlcnZlciBmb3IgdGhlIGNyYWRsZSB3aW5ncywgdG8gcmVzcG9uZCB0byBzaXplIGNoYW5nZXMgb2YgXG4gICAgICAgICAgICB2YXJpYWJsZSBjZWxscy5cbiAgICAqLyAgICBcblxuICAgIC8vIGludGVyc2VjdGlvbiBvYnNlcnZlciBmb3IgY3JhZGxlIGJvZHlcblxuICAgIC8vIHRoaXMgc2V0cyB1cCBhbiBJbnRlcnNlY3Rpb25PYnNlcnZlciBvZiB0aGUgY3JhZGxlIGFnYWluc3QgdGhlIHZpZXdwb3J0LiBXaGVuIHRoZVxuICAgIC8vIGNyYWRsZSBnb2VzIG91dCBvZiB0aGUgb2JzZXJ2ZXIgc2NvcGUsIHRoZSBcInJlcG9zaXRpb25pbmdSZW5kZXJcIiBjcmFkbGUgc3RhdGUgaXMgdHJpZ2dlcmQuXG4gICAgLy8gQWxzbywgaW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBjcmFkbGUgYXhpcyB0cmlnZ2VybGluZXMsIGFuZCBjcmFkbGUgcmVzaXplb2JzZXJ2ZXJcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHNjYWZmb2xkSGFuZGxlci5lbGVtZW50c1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZWludGVyc2VjdG9ic2VydmVyID0gaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuY3JlYXRlT2JzZXJ2ZXIoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIGNvbnN0IHRyaWdnZXJvYnNlcnZlciA9IGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jcmVhdGVPYnNlcnZlcigpXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIGNvbnN0IHJlc2l6ZW9ic2VydmVyID0gaW50ZXJydXB0SGFuZGxlci5jcmFkbGVSZXNpemUuY3JlYXRlT2JzZXJ2ZXIoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZVJlc2l6ZS5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGNyYWRsZWludGVyc2VjdG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgdHJpZ2dlcm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgcmVzaXplb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVsgUkVDT05GSUdVUkFUSU9OIGVmZmVjdHMgXT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHRyaWdnZXIgcmVzaXppbmcgYmFzZWQgb24gdmlld3BvcnQgc3RhdGVcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBpZiAoaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50KSByZXR1cm5cblxuICAgICAgICAvLyBjb25zdCBkaW1lbnNpb25zID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuZWxlbWVudHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnNpZGUgcmVzaXppbmcgZnJvbSBpc1Jlc2l6aW5nIGVmZmVjdDpzY3JvbGxlcklELCB3aWR0aCwgaGVpZ2h0Jywgc2Nyb2xsZXJJRCwgZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHQpXG5cbiAgICAgICAgLy8gaWYgKChkaW1lbnNpb25zLndpZHRoID09IDAgJiYgZGltZW5zaW9ucy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdSRVRVUk5JTkcgZnJvbSByZXNpemUgY2FsbCcpXG4gICAgICAgIC8vICAgICByZXR1cm5cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmIChpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlVmlld3BvcnRSZXNpemluZykgcmV0dXJuXG5cbiAgICAgICAgLy8gaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3JlcGFyZW50aW5nJykge1xuICAgICAgICAvLyAgICAgcmV0dXJuICAgICAgICAgICAgXG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAodmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICBjb25zdCB7IHNpZ25hbHMgfSA9IGludGVycnVwdEhhbmRsZXJcbiAgICAgICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciA9IHRydWVcbiAgICAgICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NBTExJTkcgcmVzaXppbmcgaW4gaXNSZXNpemluZyBlZmZlY3QsIHNjcm9sbGVySUQnLCBzY3JvbGxlcklEKVxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Jlc2l6aW5nJylcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29tcGxldGUgcmVzaXppbmcgbW9kZVxuICAgICAgICBpZiAoIXZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcgJiYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3Jlc2l6aW5nJykpIHtcblxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHJlc2l6ZScpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZ10pXG5cbiAgICAvLyByZWNvbmZpZ3VyZSBmb3IgY2hhbmdlZCBzaXplIHBhcmFtZXRlcnNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBjb25zdCBzaWduYWxzID0gaW50ZXJydXB0SGFuZGxlci5zaWduYWxzXG5cbiAgICAgICAgLy8gVE9ETzogYnVuZGxlIHRoZXNlIGFzIGludGVycnVwdEhhbmRsZXIucGF1c2VFZmZlY3RzKCksIHRoZW4gaW50ZXJydXB0SGFuZGxlci5yZXN1bWVFZmZlY3RzKClcbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuXG4gICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWNvbmZpZ3VyZScpXG5cbiAgICB9LFtcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldFxuICAgIF0pXG5cbiAgICAvLyB0cmlnZ2VyIHBpdm90ICpvbmx5KiBvbiBjaGFuZ2UgaW4gb3JpZW50YXRpb25cbiAgICB1c2VFZmZlY3QoKCk9PiB7XG5cbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiKT9cInNjcm9sbFRvcFwiOlwic2Nyb2xsTGVmdFwiXG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBnZXQgcHJldmlvdXMgcmF0aW9cbiAgICAgICAgY29uc3QgcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoOlxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQpXG4gICAgICAgICAgICArIGdhcFxuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzQXhpc09mZnNldCA9IHNjYWZmb2xkSGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNyYXRpbyA9IHByZXZpb3VzQXhpc09mZnNldC9wcmV2aW91c0NlbGxQaXhlbExlbmd0aFxuXG4gICAgICAgIGNvbnN0IHBpdm90Q2VsbFBpeGVsTGVuZ3RoID0gXG4gICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoKVxuICAgICAgICAgICAgKyBnYXBcblxuICAgICAgICBjb25zdCBwaXZvdEF4aXNPZmZzZXQgPSBwcmV2aW91c3JhdGlvICogcGl2b3RDZWxsUGl4ZWxMZW5ndGhcbiAgICAgICAgXG4gICAgICAgIHNjYWZmb2xkSGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gTWF0aC5yb3VuZChwaXZvdEF4aXNPZmZzZXQpXG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG4gICAgICAgIFxuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0cnVlXG5cbiAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Bpdm90JylcblxuICAgIH0sW29yaWVudGF0aW9uXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVsgU1RZTEVTIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHN0eWxlcyBmb3IgdGhlIHNpeCBzY2FmZm9sZCBjb21wb25lbnRzXG4gICAgY29uc3QgW1xuICAgICAgICBjcmFkbGVIZWFkU3R5bGUsIFxuICAgICAgICBjcmFkbGVUYWlsU3R5bGUsIFxuICAgICAgICBjcmFkbGVBeGlzU3R5bGUsIFxuICAgICAgICB0cmlnZ2VybGluZUhlYWRTdHlsZSwgXG4gICAgICAgIHRyaWdnZXJsaW5lVGFpbFN0eWxlLFxuICAgICAgICBjcmFkbGVEaXZpZGVyU3R5bGVcbiAgICBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICByZXR1cm4gc3R5bGVzSGFuZGxlci5zZXRDcmFkbGVTdHlsZXMoe1xuXG4gICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgdXNlcnN0eWxlczpzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcblxuICAgICAgICB9KVxuXG4gICAgfSxbXG5cbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICB2aWV3cG9ydGhlaWdodCxcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcblxuICAgICAgXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PVsgc3RhdGUgbWFuYWdlbWVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHRoaXMgaXMgdGhlIGNvcmUgc3RhdGUgZW5naW5lXG4gICAgLy8gdXNlTGF5b3V0IGZvciBzdXBwcmVzc2luZyBmbGFzaGVzXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHsgLy8gY3ljbGUgdG8gYWxsb3cgZm9yIHJlZiBjb25maWdcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdkb3NldHVwJykgLy8gbG9hZCBncmlkXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbmRlcnVwZGF0ZWRjb250ZW50IGlzIGNhbGxlZCBmcm9tIHVwZGF0ZUNyYWRsZUNvbnRlbnQuIFxuICAgICAgICAgICAgLy8gaXQgaXMgcmVxdWlyZWQgdG8gaW50ZWdyYXRlIGNoYW5nZWQgRE9NIGNvbmZpZ3VyYXRpb25zIGJlZm9yZSAncmVhZHknIGlzIGRpc3BsYXllZFxuICAgICAgICAgICAgY2FzZSAncmVuZGVydXBkYXRlZGNvbnRlbnQnOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cblxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHNcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2h1cGRhdGVkY29udGVudCcpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JzogeyAvLyBjeWNsZSBmb3IgRE9NIHVwZGF0ZVxuXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNvbm5lY3RFbGVtZW50cygpXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydHJlcG9zaXRpb24nOiB7XG5cbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcblxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHJlY3Vyc2l2ZSBjcmFkbGUgaW50ZXJzZWN0aW9uIGludGVycnVwdHNcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQgPSBmYWxzZSAvLyBiZWNhdXNlIG5vdyB1bmRlcndheVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmdSZW5kZXInKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIHRoZSBmb2xsb3dpbmcgNiBjcmFkbGUgc3RhdGVzIGFsbCByZXNvbHZlIHdpdGhcbiAgICAgICAgICAgICAgICBhIGNoYWluIHN0YXJ0aW5nIHdpdGggc2V0Q3JhZGxlQ29udGVudCwgXG4gICAgICAgICAgICAgICAgY29udGludWluZyB3aXRoICdwcmVwYXJlcmVuZGVyJywgYW5kIGVuZGluZyB3aXRoXG4gICAgICAgICAgICAgICAgJ25vcm1hbGl6ZXNpZ25hbHMnXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAnZG9zZXR1cCc6XG4gICAgICAgICAgICBjYXNlICdkb3JlcG9zaXRpb24nOlxuICAgICAgICAgICAgY2FzZSAnZmluaXNocmVzaXplJzpcbiAgICAgICAgICAgIGNhc2UgJ3Bpdm90JzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSBjb250ZW50SGFuZGxlci5jb250ZW50XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBuZXcgYXJyYXkgaWQgZm9yIE9iamVjdC5pcyB0byB0cmlnZ2VyIHJlYWN0IHJlLXByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZWxvYWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlSGFuZGxlci5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5zZXRDcmFkbGVDb250ZW50KCBjcmFkbGVTdGF0ZSApXG5cbiAgICAgICAgICAgICAgICAvLyBpZiAoY2FjaGUgPT0gJ2NyYWRsZScpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgY2FjaGVIYW5kbGVyLm1hdGNoQ2FjaGVUb0NyYWRsZVxuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdwcmVwYXJlcmVuZGVyJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXBhcmVyZW5kZXInOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ25vcm1hbGl6ZXNpZ25hbHMnKSAvLyBjYWxsIGEgdGltZW91dCBmb3IgcmVhZHkgKG9yIGludGVycnVwdCBjb250aW51YXRpb24pXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdub3JtYWxpemVzaWduYWxzJzogeyAvLyBub3JtYWxpemUgb3IgcmVzdW1lIGN5Y2xpbmdcblxuICAgICAgICAgICAgICAgIC8vIHByaW9yaXRpemUgaW50ZXJydXB0c1xuICAgICAgICAgICAgICAgIGlmICgoIWlzUmVwYXJlbnRpbmdSZWYuY3VycmVudCkgJiYgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYWxsaW5nIHJlc2l6aW5nIGZyb20gbm9ybWFsaXplc2lnbmFscycpXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGludGVycnVwdEhhbmRsZXIuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnc3RhcnRyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFscyA9IGludGVycnVwdEhhbmRsZXIuc2lnbmFsc1xuXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciAmJiAoc2lnbmFscy5wYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyID0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciAmJiAoc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gZmFsc2UpXG5cbiAgICAgICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgJiYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gZmFsc2UpXG5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrIFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNhc2UgJ3JlcGFyZW50aW5nJzogeyAvLyBjeWNsZSBmb3IgRE9NIHVwZGF0ZVxuXG4gICAgICAgICAgICAvLyAgICAgLy8gaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICAgIC8vICAgICBzZXRDcmFkbGVTdGF0ZSgnZG9uZXJlcGFyZW50aW5nJylcblxuICAgICAgICAgICAgLy8gICAgIGJyZWFrXG5cbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgY2FzZSAnZG9uZXJlcGFyZW50aW5nJzogeyAvLyBub3JtYWxpemVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkaW1lbnNpb25zIHdpZHRoIGFuZCBoZWlnaHQgaW4gZG9uZXJlcGFyZW50aW5nJywgZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHQpXG5cbiAgICAgICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIC8vIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LnBvcnRhbC5pc1JlcGFyZW50aW5nID0gZmFsc2VcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gZmFsc2VcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICAgICAgICAgIC8vIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZVZpZXdwb3J0UmVzaXppbmcgPSBmYWxzZVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gc3RhbmRhcmQgcmVuZGVyaW5nIHN0YXRlc1xuICAgIHVzZUVmZmVjdCgoKT0+IHsgXG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZXBhcmVudGluZyc6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIC8vIGlzUmVwYXJlbnRpbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2RvbmVyZXBhcmVudGluZycpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlcG9zaXRpb25pbmdSZW5kZXIgYW5kIHJlcG9zaXRpb25pbmdDb250aW51YXRpb24gYXJlIHRvZ2dsZWQgdG8gZ2VuZXJhdGUgY29udGludW91cyBcbiAgICAgICAgICAgIC8vIHJlcG9zaWlvbmluZyByZW5kZXJzXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzpcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJzogLy8gc2V0IGZyb20gb25TY3JvbGxcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ1JlbmRlcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSAncmVhZHknOiAvLyBubyBhY3Rpb24gb24gcmVhZHlcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgIH1cblxuICAgIH0sW2NyYWRsZVN0YXRlXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBSRU5ERVIgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY29uc3Qgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4ID0gc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICBjb25zdCBzY3JvbGxUcmFja2VyQXJncyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIShjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFja2VyYXJncyA9IHtcbiAgICAgICAgICAgIHRvcDp2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgMyxcbiAgICAgICAgICAgIGxlZnQ6dmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyAzLFxuICAgICAgICAgICAgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYWNrZXJhcmdzXG4gICAgfSxbXG4gICAgICAgIGNyYWRsZVN0YXRlLCBcbiAgICAgICAgdmlld3BvcnREaW1lbnNpb25zLCBcbiAgICAgICAgc2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgXVxuICAgIClcblxuICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSBjb250ZW50SGFuZGxlci5jb250ZW50XG5cbiAgICAvLyB0aGUgZGF0YS10eXBlID0gcG9ydGFscm9vdCBkaXYgaXMgdGhlIGhpZGRlbiBwb3J0YWwgY29tcG9uZW50IGNhY2hlXG4gICAgcmV0dXJuIDxDcmFkbGVDYWNoZUNvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7aGFuZGxlcnNSZWYuY3VycmVudC5jYWNoZUhhbmRsZXJ9PlxuICAgICAgICB7KGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgIT0gJ3NldHVwJykgJiYgPGRpdiBkYXRhLXR5cGUgPSAncG9ydGFscm9vdCcgc3R5bGUgPSB7IHBvcnRhbHJvb3RzdHlsZSB9PlxuICAgICAgICAgICAgPFBvcnRhbExpc3Qgc2Nyb2xsZXJQcm9wcyA9IHtoYW5kbGVyc1JlZi5jdXJyZW50LmNhY2hlSGFuZGxlci5zY3JvbGxlclByb3BzfS8+XG4gICAgICAgIDwvZGl2Pn1cblxuICAgICAgICB7KChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdyZXBvc2l0aW9uaW5nUmVuZGVyJykgfHwgXG4gICAgICAgICAgICAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpKT9cbiAgICAgICAgICAgIDxTY3JvbGxUcmFja2VyIFxuICAgICAgICAgICAgICAgIHRvcCA9IHtzY3JvbGxUcmFja2VyQXJncy50b3B9IFxuICAgICAgICAgICAgICAgIGxlZnQgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGVmdH0gXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0ge3Njcm9sbFRyYWNrZXJBcmdzLnNjcm9sbEF4aXNSZWZlcmVuY2VJbmRleH0gXG4gICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGlzdHNpemV9XG4gICAgICAgICAgICAgICAgc3R5bGVzID0ge3Njcm9sbFRyYWNrZXJBcmdzLnN0eWxlc31cbiAgICAgICAgICAgIC8+OlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWF4aXMnXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlQXhpc1N0eWxlfSBcbiAgICAgICAgICAgICAgICByZWYgPSB7YXhpc0NyYWRsZUVsZW1lbnRSZWZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndHJpZ2dlcmxpbmUtaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7dHJpZ2dlcmxpbmVIZWFkU3R5bGV9XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHtoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd0cmlnZ2VybGluZS10YWlsJ1xuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHt0cmlnZ2VybGluZVRhaWxTdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge3RhaWxUcmlnZ2VybGluZUNyYWRsZUVsZW1lbnRSZWZ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAge3RydWU/XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWRpdmlkZXInIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlRGl2aWRlclN0eWxlfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PjpcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAnaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge2hlYWRDcmFkbGVFbGVtZW50UmVmfSBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlSGVhZFN0eWxlfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgeyhjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICdzZXR1cCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHM6XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbCdcbiAgICAgICAgICAgICAgICAgICAgcmVmID0ge3RhaWxDcmFkbGVFbGVtZW50UmVmfSBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlVGFpbFN0eWxlfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgeyhjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICdzZXR1cCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHM6XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvQ3JhZGxlQ2FjaGVDb250ZXh0LlByb3ZpZGVyPlxuXG59IC8vIENyYWRsZVxuXG4vLyB1dGlsaXRpZXNcblxuY29uc3QgZ2V0Q3JhZGxlSGFuZGxlcnMgPSAoY3JhZGxlUGFyYW1ldGVycykgPT4ge1xuXG4gICAgY29uc3QgY3JlYXRlSGFuZGxlciA9IGhhbmRsZXIgPT4gbmV3IGhhbmRsZXIoY3JhZGxlUGFyYW1ldGVycylcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhY2hlSGFuZGxlcjpuZXcgQ2FjaGVIYW5kbGVyKCksXG4gICAgICAgIGludGVycnVwdEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihJbnRlcnJ1cHRIYW5kbGVyKSxcbiAgICAgICAgc2Nyb2xsSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNjcm9sbEhhbmRsZXIpLFxuICAgICAgICBzdGF0ZUhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTdGF0ZUhhbmRsZXIpLFxuICAgICAgICBjb250ZW50SGFuZGxlcjpjcmVhdGVIYW5kbGVyKENvbnRlbnRIYW5kbGVyKSxcbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyOmNyZWF0ZUhhbmRsZXIoU2NhZmZvbGRIYW5kbGVyKSxcbiAgICAgICAgc2VydmljZUhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTZXJ2aWNlSGFuZGxlciksXG4gICAgICAgIHN0eWxlc0hhbmRsZXI6Y3JlYXRlSGFuZGxlcihTdHlsZXNIYW5kbGVyKSxcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENyYWRsZSJdLCJuYW1lcyI6WyJleHBvcnRzIiwicmVhY3RfMSIsImNyZWF0ZUNvbnRleHQiLCJwb3J0YWxyb290c3R5bGUiLCJkaXNwbGF5IiwiQ3JhZGxlIiwiX2EiLCJncmlkU3BlY3MiLCJydW53YXlSb3djb3VudFNwZWMiLCJsaXN0c2l6ZSIsImRlZmF1bHRWaXNpYmxlSW5kZXgiLCJnZXRJdGVtIiwicGxhY2Vob2xkZXIiLCJmdW5jdGlvbnMiLCJzdHlsZXMiLCJ0cmlnZ2VybGluZU9mZnNldCIsImNhY2hlIiwiY2FjaGVNYXgiLCJzY3JvbGxlck5hbWUiLCJzY3JvbGxlcklEIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJsYXlvdXQiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMiLCJ2aWV3cG9ydF8xIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwiY3VycmVudCIsInZpZXdwb3J0aGVpZ2h0Iiwidmlld3BvcnREaW1lbnNpb25zIiwidmlld3BvcnR3aWR0aCIsImNyYWRsZVN0YXRlIiwic2V0Q3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImNvbnNvbGUiLCJsb2ciLCJpc01vdW50ZWRSZWYiLCJoZWFkQ3JhZGxlRWxlbWVudFJlZiIsInRhaWxDcmFkbGVFbGVtZW50UmVmIiwiYXhpc0NyYWRsZUVsZW1lbnRSZWYiLCJoZWFkVHJpZ2dlcmxpbmVDcmFkbGVFbGVtZW50UmVmIiwidGFpbFRyaWdnZXJsaW5lQ3JhZGxlRWxlbWVudFJlZiIsImNyYWRsZUVsZW1lbnRzUmVmIiwiaGVhZFJlZiIsInRhaWxSZWYiLCJheGlzUmVmIiwiaGVhZFRyaWdnZXJsaW5lUmVmIiwidGFpbFRyaWdnZXJsaW5lUmVmIiwiY3Jvc3Njb3VudCIsInZpZXdwb3J0c2l6ZSIsIm9yaWVudGF0aW9uIiwiY3Jvc3NMZW5ndGgiLCJ2aWV3cG9ydGxlbmd0aGZvcmNhbGMiLCJ0aWxlbGVuZ3RoZm9yY2FsYyIsIk1hdGgiLCJtaW4iLCJmbG9vciIsInZpZXdwb3J0TGVuZ3RoIiwicm93TGVuZ3RoIiwidmlld3BvcnRSb3djb3VudCIsImNlaWwiLCJ2aWV3cG9ydFZpc2libGVSb3djb3VudCIsImxpc3RSb3djb3VudCIsImNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCIsImNyYWRsZVJvd2NvdW50IiwicnVud2F5Um93Y291bnQiLCJkaWZmIiwibWF4IiwiaXRlbWNvdW50IiwicmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZiIsInJlZmVyZW5jZUluZGV4Q2FsbGJhY2siLCJleHRlcm5hbENhbGxiYWNrc1JlZiIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJoYW5kbGVyc1JlZiIsImNyYWRsZVBhcmFtZXRlcnMiLCJnZXRDcmFkbGVIYW5kbGVycyIsImNhY2hlSGFuZGxlciIsImludGVycnVwdEhhbmRsZXIiLCJzY3JvbGxIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwiY29udGVudEhhbmRsZXIiLCJzY2FmZm9sZEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsInN0eWxlc0hhbmRsZXIiLCJpc1JlcGFyZW50aW5nUmVmIiwiZGltZW5zaW9ucyIsImVsZW1lbnRyZWYiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJ3aWR0aCIsInBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwicGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciIsInBhdXNlVmlld3BvcnRSZXNpemluZyIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJibG9ja1Njcm9sbFBvcyIsImdldENhbGxiYWNrcyIsInJlbG9hZCIsImNhbGxiYWNrcyIsInNjcm9sbFRvSXRlbSIsInZpZXdwb3J0ZGF0YSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblNjcm9sbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjcmFkbGVFbGVtZW50cyIsImVsZW1lbnRzIiwiY3JhZGxlaW50ZXJzZWN0b2JzZXJ2ZXIiLCJjcmFkbGVJbnRlcnNlY3QiLCJjcmVhdGVPYnNlcnZlciIsImNvbm5lY3RFbGVtZW50cyIsInRyaWdnZXJvYnNlcnZlciIsImF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3QiLCJyZXNpemVvYnNlcnZlciIsImNyYWRsZVJlc2l6ZSIsImRpc2Nvbm5lY3QiLCJpc1Jlc2l6aW5nIiwic2lnbmFscyIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsInByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoIiwicHJldmlvdXNBeGlzT2Zmc2V0IiwidGFyZ2V0QXhpc1BpeGVsT2Zmc2V0IiwicHJldmlvdXNyYXRpbyIsInBpdm90Q2VsbFBpeGVsTGVuZ3RoIiwicGl2b3RBeGlzT2Zmc2V0Iiwicm91bmQiLCJzZXRDcmFkbGVTdHlsZXMiLCJ1c2Vyc3R5bGVzIiwiY3JhZGxlSGVhZFN0eWxlIiwiY3JhZGxlVGFpbFN0eWxlIiwiY3JhZGxlQXhpc1N0eWxlIiwidHJpZ2dlcmxpbmVIZWFkU3R5bGUiLCJ0cmlnZ2VybGluZVRhaWxTdHlsZSIsImNyYWRsZURpdmlkZXJTdHlsZSIsImNyYWRsZUNvbnRlbnQiLCJoZWFkRGlzcGxheUNvbXBvbmVudHMiLCJoZWFkTW9kZWxDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwidGFpbE1vZGVsQ29tcG9uZW50cyIsInJlcG9zaXRpb25pbmdSZXF1aXJlZCIsImNyYWRsZUNvbnRlbnRfMSIsImNvbnRlbnQiLCJjbGVhckNhY2hlIiwic2V0Q3JhZGxlQ29udGVudCIsImNyYWRsZUNvbnRlbnRfMiIsImRpbWVuc2lvbnNfMSIsInNjcm9sbEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInNjcm9sbFRyYWNrZXJBcmdzIiwidHJhY2tlcmFyZ3MiLCJ0b3AiLCJsZWZ0IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInN0eWxlIiwiY2FjaGVoYW5kbGVyXzEiLCJzY3JvbGxlclByb3BzIiwic2Nyb2xsdHJhY2tlcl8xIiwib2Zmc2V0IiwicmVmIiwiY3JlYXRlSGFuZGxlciIsImhhbmRsZXIiLCJpbnRlcnJ1cHRoYW5kbGVyXzEiLCJzY3JvbGxoYW5kbGVyXzEiLCJzdGF0ZWhhbmRsZXJfMSIsImNvbnRlbnRoYW5kbGVyXzEiLCJzY2FmZm9sZGhhbmRsZXJfMSIsInNlcnZpY2VoYW5kbGVyXzEiLCJzdHlsZXNoYW5kbGVyXzEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle.tsx\n");

/***/ }),

/***/ "./src/cradle/cachehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/cachehandler.tsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // portalhandler.tsx\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PortalList = exports.PortalWrapper = exports.CacheHandler = void 0;\n/*\n    The infinite list scroller stores user cell data in a central hidden portal cache for each\n    infinitegridscroller root, from whence the data is pulled into the relevant CellShell for display\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\"); // global scroller data, organized by session scrollerID\n\n\nvar CacheHandler =\n/** @class */\nfunction () {\n  function CacheHandler() {\n    //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n    var _this = this;\n\n    this.scrollerProps = {\n      setListState: null,\n      modified: false,\n      portalMetadataMap: new Map(),\n      portalMap: new Map(),\n      portalList: null\n    }; // initialize scroller repository\n\n    this.clearCache = function () {\n      // keep the setListState callback\n      _this.scrollerProps.portalMap.clear();\n\n      _this.scrollerProps.portalMetadataMap.clear();\n\n      _this.scrollerProps.portalList = null;\n      _this.scrollerProps.modified = false;\n    }; // set state of the PortalList component of the scroller to trigger render\n\n\n    this.renderPortalList = function () {\n      if (_this.scrollerProps.modified) {\n        _this.scrollerProps.portalList = Array.from(_this.scrollerProps.portalMap.values());\n        _this.scrollerProps.modified = false;\n      }\n\n      _this.scrollerProps.setListState(); // trigger display update\n\n    };\n  } // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n  // add a portal list item. The index is the scroller's portal dataset index\n\n\n  CacheHandler.prototype.fetchPortal = function (index, content) {\n    if (this.hasPortal(index)) {\n      return this.getPortal(index);\n    } // if not found, create new portal\n\n\n    var _a = createInPortal(content, index),\n        inportal = _a[0],\n        reverseportal = _a[1];\n\n    this.scrollerProps.portalMap.set(index, react_1[\"default\"].createElement(exports.PortalWrapper, {\n      inportal: inportal,\n      key: index,\n      index: index\n    }));\n    this.scrollerProps.modified = true;\n    var portalMetadata = {\n      reverseportal: reverseportal,\n      isReparenting: false,\n      hasusercontent: false\n    };\n    this.scrollerProps.portalMetadataMap.set(index, portalMetadata);\n    this.renderPortalList();\n    return portalMetadata;\n  }; // update the content of a portal list item\n  // updatePortal(index, content) {\n  //     const portalMetadata = this.getPortal(index)\n  //     const portalComponent = updateInPortal(content, portalMetadata.reverseportal )\n  //     this.scrollerProps.portalMap.set(index,<PortalWrapper inportal = {portalComponent} key = {index} index = {index}/>)\n  //     this.scrollerProps.modified = true\n  //     this.renderPortalList()\n  //     return portalMetadata\n  // }\n  // delete a portal list item\n\n\n  CacheHandler.prototype.deletePortal = function (index) {\n    this.scrollerProps.portalMetadataMap[\"delete\"](index);\n    this.scrollerProps.portalMap[\"delete\"](index);\n    this.scrollerProps.modified = true;\n  }; // query existence of a portal list item\n\n\n  CacheHandler.prototype.hasPortal = function (index) {\n    return this.scrollerProps.portalMetadataMap.has(index);\n  }; // get a portal list item's meta data\n\n\n  CacheHandler.prototype.getPortal = function (index) {\n    return this.scrollerProps.portalMetadataMap.get(index);\n  };\n\n  return CacheHandler;\n}();\n\nexports.CacheHandler = CacheHandler; // ==========================[ Utility functions ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n\nvar createInPortal = function createInPortal(content, index) {\n  var reversePortal = (0, react_reverse_portal_1.createHtmlPortalNode)();\n  var container = reversePortal.element; // container.style.inset = '0px' \n  // container.style.position = 'absolute'\n\n  container.style.height = '400px';\n  container.style.width = '308px';\n  container.dataset.type = 'portalcontainer';\n  container.dataset.index = index;\n  container.setAttribute('key', index);\n  return [react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n    node: reversePortal\n  }, content), reversePortal];\n}; // update an InPortal component's user content\n\n\nvar updateInPortal = function updateInPortal(content, reversePortal) {\n  return react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n    node: reversePortal\n  }, content);\n}; // ========================[ Utility components ]==============================\n\n\nvar wrapperstyle = {\n  display: 'none'\n}; // static; should take same dimensions as container CellShell\n// hidden portal wrapper for clarity and usage of conventional react relisting services\n\nvar PortalWrapper = function PortalWrapper(_a) {\n  var inportal = _a.inportal,\n      index = _a.index;\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'portalwrapper',\n    \"data-index\": index,\n    style: wrapperstyle,\n    key: index\n  }, inportal);\n};\n\nexports.PortalWrapper = PortalWrapper; // portal list component for rapid relisting of updates, using external callback for set state\n\nvar PortalList = function PortalList(_a) {\n  var scrollerProps = _a.scrollerProps;\n\n  var _b = (0, react_1.useState)(null),\n      portalList = _b[0],\n      setPortalList = _b[1];\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    scrollerProps.setListState = function () {\n      isMountedRef.current && setPortalList(scrollerProps.portalList);\n    };\n\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return portalList;\n};\n\nexports.PortalList = PortalList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NhY2hlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7QUFLQTs7QUFFQSxzSSxDQUVBOzs7QUFDQTtBQUFBO0FBQUE7RUFBQTtJQUVJO0lBRko7O0lBSUkscUJBQWdCO01BQ1pBLFlBQVksRUFBQyxJQUREO01BRVpDLFFBQVEsRUFBQyxLQUZHO01BR1pDLGlCQUFpQixFQUFDLElBQUlDLEdBQUosRUFITjtNQUlaQyxTQUFTLEVBQUMsSUFBSUQsR0FBSixFQUpFO01BS1pFLFVBQVUsRUFBQztJQUxDLENBQWhCLENBSkosQ0FZSTs7SUFFQSxrQkFBYTtNQUVUO01BQ0FDLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQkgsU0FBbkIsQ0FBNkJJLEtBQTdCOztNQUNBRixLQUFJLENBQUNDLGFBQUwsQ0FBbUJMLGlCQUFuQixDQUFxQ00sS0FBckM7O01BQ0FGLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQkYsVUFBbkIsR0FBZ0MsSUFBaEM7TUFDQUMsS0FBSSxDQUFDQyxhQUFMLENBQW1CTixRQUFuQixHQUE4QixLQUE5QjtJQUVILENBUkQsQ0FkSixDQXdCSTs7O0lBQ0Esd0JBQW1CO01BRWYsSUFBSUssS0FBSSxDQUFDQyxhQUFMLENBQW1CTixRQUF2QixFQUFpQztRQUM3QkssS0FBSSxDQUFDQyxhQUFMLENBQW1CRixVQUFuQixHQUFnQ0ksS0FBSyxDQUFDQyxJQUFOLENBQVdKLEtBQUksQ0FBQ0MsYUFBTCxDQUFtQkgsU0FBbkIsQ0FBNkJPLE1BQTdCLEVBQVgsQ0FBaEM7UUFDQUwsS0FBSSxDQUFDQyxhQUFMLENBQW1CTixRQUFuQixHQUE4QixLQUE5QjtNQUNIOztNQUVESyxLQUFJLENBQUNDLGFBQUwsQ0FBbUJQLFlBQW5CLEdBUGUsQ0FPbUI7O0lBRXJDLENBVEQ7RUE4RUgsQ0F2R0QsQ0FvQ0k7RUFFQTs7O0VBQ0FZLCtDQUFZQyxLQUFaLEVBQW1CQyxPQUFuQixFQUEwQjtJQUV0QixJQUFJLEtBQUtDLFNBQUwsQ0FBZUYsS0FBZixDQUFKLEVBQTJCO01BQ3ZCLE9BQU8sS0FBS0csU0FBTCxDQUFlSCxLQUFmLENBQVA7SUFDSCxDQUpxQixDQU10Qjs7O0lBRU0sU0FBMkJJLGNBQWMsQ0FBQ0gsT0FBRCxFQUFVRCxLQUFWLENBQXpDO0lBQUEsSUFBQ0ssUUFBUSxRQUFUO0lBQUEsSUFBVUMsYUFBYSxRQUF2Qjs7SUFFTixLQUFLWixhQUFMLENBQW1CSCxTQUFuQixDQUE2QmdCLEdBQTdCLENBQWlDUCxLQUFqQyxFQUF1Q1EsaUNBQUNDLHFCQUFELEVBQWM7TUFBQ0osUUFBUSxFQUFJQSxRQUFiO01BQXVCSyxHQUFHLEVBQUlWLEtBQTlCO01BQXFDQSxLQUFLLEVBQUlBO0lBQTlDLENBQWQsQ0FBdkM7SUFDQSxLQUFLTixhQUFMLENBQW1CTixRQUFuQixHQUE4QixJQUE5QjtJQUVBLElBQU11QixjQUFjLEdBQUc7TUFDbkJMLGFBQWEsZUFETTtNQUVuQk0sYUFBYSxFQUFDLEtBRks7TUFHbkJDLGNBQWMsRUFBQztJQUhJLENBQXZCO0lBTUEsS0FBS25CLGFBQUwsQ0FBbUJMLGlCQUFuQixDQUFxQ2tCLEdBQXJDLENBQXlDUCxLQUF6QyxFQUFnRFcsY0FBaEQ7SUFFQSxLQUFLRyxnQkFBTDtJQUVBLE9BQU9ILGNBQVA7RUFFSCxDQXpCRCxDQXZDSixDQWtFSTtFQUNBO0VBQ0E7RUFFQTtFQUVBO0VBQ0E7RUFFQTtFQUVBO0VBQ0E7RUFFQTs7O0VBQ0FaLGdEQUFhQyxLQUFiLEVBQWtCO0lBRWQsS0FBS04sYUFBTCxDQUFtQkwsaUJBQW5CLFdBQTRDVyxLQUE1QztJQUNBLEtBQUtOLGFBQUwsQ0FBbUJILFNBQW5CLFdBQW9DUyxLQUFwQztJQUNBLEtBQUtOLGFBQUwsQ0FBbUJOLFFBQW5CLEdBQThCLElBQTlCO0VBRUgsQ0FORCxDQWpGSixDQXlGSTs7O0VBQ0FXLDZDQUFVQyxLQUFWLEVBQWU7SUFFWCxPQUFPLEtBQUtOLGFBQUwsQ0FBbUJMLGlCQUFuQixDQUFxQzBCLEdBQXJDLENBQXlDZixLQUF6QyxDQUFQO0VBRUgsQ0FKRCxDQTFGSixDQWdHSTs7O0VBQ0FELDZDQUFVQyxLQUFWLEVBQWU7SUFFWCxPQUFPLEtBQUtOLGFBQUwsQ0FBbUJMLGlCQUFuQixDQUFxQzJCLEdBQXJDLENBQXlDaEIsS0FBekMsQ0FBUDtFQUVILENBSkQ7O0VBTUo7QUFBQyxDQXZHRDs7QUFBYVMsb0JBQUFBLGdCLENBeUdiO0FBRUE7QUFDQTs7QUFDQSxJQUFNTCxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNILE9BQUQsRUFBVUQsS0FBVixFQUFlO0VBRWxDLElBQUlpQixhQUFhLEdBQUcsa0RBQXBCO0VBRUEsSUFBSUMsU0FBUyxHQUFHRCxhQUFhLENBQUNFLE9BQTlCLENBSmtDLENBS2xDO0VBQ0E7O0VBQ0FELFNBQVMsQ0FBQ0UsS0FBVixDQUFnQkMsTUFBaEIsR0FBeUIsT0FBekI7RUFDQUgsU0FBUyxDQUFDRSxLQUFWLENBQWdCRSxLQUFoQixHQUF3QixPQUF4QjtFQUNBSixTQUFTLENBQUNLLE9BQVYsQ0FBa0JDLElBQWxCLEdBQXlCLGlCQUF6QjtFQUNBTixTQUFTLENBQUNLLE9BQVYsQ0FBa0J2QixLQUFsQixHQUEwQkEsS0FBMUI7RUFFQWtCLFNBQVMsQ0FBQ08sWUFBVixDQUF1QixLQUF2QixFQUE2QnpCLEtBQTdCO0VBR0EsT0FBTyxDQUNIUSxpQ0FBQ2tCLCtCQUFELEVBQVM7SUFBQ0MsSUFBSSxFQUFJVjtFQUFULENBQVQsRUFBa0NoQixPQUFsQyxDQURHLEVBRUhnQixhQUZHLENBQVA7QUFLSCxDQXBCRCxDLENBc0JBOzs7QUFDQSxJQUFNVyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUMzQixPQUFELEVBQVVnQixhQUFWLEVBQXVCO0VBRTFDLE9BQU9ULGlDQUFDa0IsK0JBQUQsRUFBUztJQUFDQyxJQUFJLEVBQUlWO0VBQVQsQ0FBVCxFQUNEaEIsT0FEQyxDQUFQO0FBSUgsQ0FORCxDLENBUUE7OztBQUVBLElBQU00QixZQUFZLEdBQUc7RUFBQ0MsT0FBTyxFQUFDO0FBQVQsQ0FBckIsQyxDQUFzQztBQUV0Qzs7QUFDTyxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUNDLEVBQUQsRUFBb0I7TUFBakIzQixRQUFRO01BQUVMLEtBQUs7RUFFM0MsT0FBT1E7SUFBQSxhQUFpQixlQUFqQjtJQUFnQyxjQUFnQlIsS0FBaEQ7SUFBd0RvQixLQUFLLEVBQUtTLFlBQWxFO0lBQWlGbkIsR0FBRyxFQUFLVjtFQUF6RixHQUNESyxRQURDLENBQVA7QUFJSCxDQU5NOztBQUFNSSxxQkFBQUEsR0FBYXNCLGFBQWIsQyxDQVFiOztBQUNPLElBQU1FLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQUNELEVBQUQsRUFBa0I7TUFBZnRDLGFBQWE7O0VBRWhDLFNBQThCLHNCQUFTLElBQVQsQ0FBOUI7RUFBQSxJQUFDRixVQUFVLFFBQVg7RUFBQSxJQUFhMEMsYUFBYSxRQUExQjs7RUFDTixJQUFNQyxZQUFZLEdBQUcsb0JBQU8sSUFBUCxDQUFyQjtFQUVBLHVCQUFVO0lBRU56QyxhQUFhLENBQUNQLFlBQWQsR0FBNkI7TUFDekJnRCxZQUFZLENBQUNDLE9BQWIsSUFBd0JGLGFBQWEsQ0FBQ3hDLGFBQWEsQ0FBQ0YsVUFBZixDQUFyQztJQUNILENBRkQ7O0lBSUEsT0FBTztNQUFPMkMsWUFBWSxDQUFDQyxPQUFiLEdBQXVCLEtBQXZCO0lBQTZCLENBQTNDO0VBRUgsQ0FSRCxFQVFFLEVBUkY7RUFVQSxPQUFPNUMsVUFBUDtBQUNILENBaEJNOztBQUFNaUIsa0JBQUFBLEdBQVV3QixVQUFWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY2FjaGVoYW5kbGVyLnRzeD85ZTlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBvcnRhbGhhbmRsZXIudHN4XG5cbi8qXG4gICAgVGhlIGluZmluaXRlIGxpc3Qgc2Nyb2xsZXIgc3RvcmVzIHVzZXIgY2VsbCBkYXRhIGluIGEgY2VudHJhbCBoaWRkZW4gcG9ydGFsIGNhY2hlIGZvciBlYWNoXG4gICAgaW5maW5pdGVncmlkc2Nyb2xsZXIgcm9vdCwgZnJvbSB3aGVuY2UgdGhlIGRhdGEgaXMgcHVsbGVkIGludG8gdGhlIHJlbGV2YW50IENlbGxTaGVsbCBmb3IgZGlzcGxheVxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIEluUG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnXG5cbi8vIGdsb2JhbCBzY3JvbGxlciBkYXRhLCBvcmdhbml6ZWQgYnkgc2Vzc2lvbiBzY3JvbGxlcklEXG5leHBvcnQgY2xhc3MgQ2FjaGVIYW5kbGVyIHtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09WyBSRVBPU0lUT1JZIEFORCBMSVNUIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNjcm9sbGVyUHJvcHMgPSB7XG4gICAgICAgIHNldExpc3RTdGF0ZTpudWxsLFxuICAgICAgICBtb2RpZmllZDpmYWxzZSxcbiAgICAgICAgcG9ydGFsTWV0YWRhdGFNYXA6bmV3IE1hcCgpLFxuICAgICAgICBwb3J0YWxNYXA6bmV3IE1hcCgpLFxuICAgICAgICBwb3J0YWxMaXN0Om51bGxcbiAgICB9XG5cbiAgICAvLyBpbml0aWFsaXplIHNjcm9sbGVyIHJlcG9zaXRvcnlcblxuICAgIGNsZWFyQ2FjaGUgPSAoKSA9PiB7XG5cbiAgICAgICAgLy8ga2VlcCB0aGUgc2V0TGlzdFN0YXRlIGNhbGxiYWNrXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNYXAuY2xlYXIoKSBcbiAgICAgICAgdGhpcy5zY3JvbGxlclByb3BzLnBvcnRhbE1ldGFkYXRhTWFwLmNsZWFyKClcbiAgICAgICAgdGhpcy5zY3JvbGxlclByb3BzLnBvcnRhbExpc3QgPSBudWxsXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJQcm9wcy5tb2RpZmllZCA9IGZhbHNlXG5cbiAgICB9XG5cbiAgICAvLyBzZXQgc3RhdGUgb2YgdGhlIFBvcnRhbExpc3QgY29tcG9uZW50IG9mIHRoZSBzY3JvbGxlciB0byB0cmlnZ2VyIHJlbmRlclxuICAgIHJlbmRlclBvcnRhbExpc3QgPSAoKSA9PiB7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXJQcm9wcy5tb2RpZmllZCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlclByb3BzLnBvcnRhbExpc3QgPSBBcnJheS5mcm9tKHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNYXAudmFsdWVzKCkpXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyUHJvcHMubW9kaWZpZWQgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGxlclByb3BzLnNldExpc3RTdGF0ZSgpIC8vIHRyaWdnZXIgZGlzcGxheSB1cGRhdGVcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBJTkRJVklEVUFMIFBPUlRBTCBNQU5BR0VNRU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBhZGQgYSBwb3J0YWwgbGlzdCBpdGVtLiBUaGUgaW5kZXggaXMgdGhlIHNjcm9sbGVyJ3MgcG9ydGFsIGRhdGFzZXQgaW5kZXhcbiAgICBmZXRjaFBvcnRhbChpbmRleCwgY29udGVudCkgeyAvLyBjb250ZW50IGlzIHVzZWQgZm9yIG5ldyBwb3J0YWwgb25seVxuXG4gICAgICAgIGlmICh0aGlzLmhhc1BvcnRhbChpbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBvcnRhbChpbmRleClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIG5vdCBmb3VuZCwgY3JlYXRlIG5ldyBwb3J0YWxcblxuICAgICAgICBjb25zdCBbaW5wb3J0YWwscmV2ZXJzZXBvcnRhbF0gPSBjcmVhdGVJblBvcnRhbChjb250ZW50LCBpbmRleClcblxuICAgICAgICB0aGlzLnNjcm9sbGVyUHJvcHMucG9ydGFsTWFwLnNldChpbmRleCw8UG9ydGFsV3JhcHBlciBpbnBvcnRhbCA9IHtpbnBvcnRhbH0ga2V5ID0ge2luZGV4fSBpbmRleCA9IHtpbmRleH0vPilcbiAgICAgICAgdGhpcy5zY3JvbGxlclByb3BzLm1vZGlmaWVkID0gdHJ1ZVxuXG4gICAgICAgIGNvbnN0IHBvcnRhbE1ldGFkYXRhID0ge1xuICAgICAgICAgICAgcmV2ZXJzZXBvcnRhbCwgXG4gICAgICAgICAgICBpc1JlcGFyZW50aW5nOmZhbHNlLFxuICAgICAgICAgICAgaGFzdXNlcmNvbnRlbnQ6ZmFsc2UgXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbGVyUHJvcHMucG9ydGFsTWV0YWRhdGFNYXAuc2V0KGluZGV4LCBwb3J0YWxNZXRhZGF0YSlcblxuICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3QoKVxuXG4gICAgICAgIHJldHVybiBwb3J0YWxNZXRhZGF0YVxuXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHRoZSBjb250ZW50IG9mIGEgcG9ydGFsIGxpc3QgaXRlbVxuICAgIC8vIHVwZGF0ZVBvcnRhbChpbmRleCwgY29udGVudCkge1xuICAgIC8vICAgICBjb25zdCBwb3J0YWxNZXRhZGF0YSA9IHRoaXMuZ2V0UG9ydGFsKGluZGV4KVxuXG4gICAgLy8gICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHVwZGF0ZUluUG9ydGFsKGNvbnRlbnQsIHBvcnRhbE1ldGFkYXRhLnJldmVyc2Vwb3J0YWwgKVxuXG4gICAgLy8gICAgIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNYXAuc2V0KGluZGV4LDxQb3J0YWxXcmFwcGVyIGlucG9ydGFsID0ge3BvcnRhbENvbXBvbmVudH0ga2V5ID0ge2luZGV4fSBpbmRleCA9IHtpbmRleH0vPilcbiAgICAvLyAgICAgdGhpcy5zY3JvbGxlclByb3BzLm1vZGlmaWVkID0gdHJ1ZVxuXG4gICAgLy8gICAgIHRoaXMucmVuZGVyUG9ydGFsTGlzdCgpXG5cbiAgICAvLyAgICAgcmV0dXJuIHBvcnRhbE1ldGFkYXRhXG4gICAgLy8gfVxuXG4gICAgLy8gZGVsZXRlIGEgcG9ydGFsIGxpc3QgaXRlbVxuICAgIGRlbGV0ZVBvcnRhbChpbmRleCkge1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcC5kZWxldGUoaW5kZXgpXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNYXAuZGVsZXRlKGluZGV4KVxuICAgICAgICB0aGlzLnNjcm9sbGVyUHJvcHMubW9kaWZpZWQgPSB0cnVlXG5cbiAgICB9XG5cbiAgICAvLyBxdWVyeSBleGlzdGVuY2Ugb2YgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgaGFzUG9ydGFsKGluZGV4KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcC5oYXMoaW5kZXgpXG5cbiAgICB9XG5cbiAgICAvLyBnZXQgYSBwb3J0YWwgbGlzdCBpdGVtJ3MgbWV0YSBkYXRhXG4gICAgZ2V0UG9ydGFsKGluZGV4KSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZXJQcm9wcy5wb3J0YWxNZXRhZGF0YU1hcC5nZXQoaW5kZXgpXG5cbiAgICB9XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFV0aWxpdHkgZnVuY3Rpb25zIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIGdldCBhIHJlYWN0LXJldmVyc2UtcG9ydGFsIEluUG9ydGFsIGNvbXBvbmVudCwgd2l0aCBpdHMgbWV0YWRhdGFcbi8vIHdpdGggdXNlciBjb250ZW50IGFuZCBjb250YWluZXJcbmNvbnN0IGNyZWF0ZUluUG9ydGFsID0gKGNvbnRlbnQsIGluZGV4KSA9PiB7XG5cbiAgICBsZXQgcmV2ZXJzZVBvcnRhbCA9IGNyZWF0ZUh0bWxQb3J0YWxOb2RlKClcblxuICAgIGxldCBjb250YWluZXIgPSByZXZlcnNlUG9ydGFsLmVsZW1lbnRcbiAgICAvLyBjb250YWluZXIuc3R5bGUuaW5zZXQgPSAnMHB4JyBcbiAgICAvLyBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICc0MDBweCdcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMzA4cHgnXG4gICAgY29udGFpbmVyLmRhdGFzZXQudHlwZSA9ICdwb3J0YWxjb250YWluZXInXG4gICAgY29udGFpbmVyLmRhdGFzZXQuaW5kZXggPSBpbmRleFxuXG4gICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgna2V5JyxpbmRleClcblxuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgPEluUG9ydGFsIG5vZGUgPSB7cmV2ZXJzZVBvcnRhbH0+e2NvbnRlbnR9PC9JblBvcnRhbD4sXG4gICAgICAgIHJldmVyc2VQb3J0YWxcbiAgICBdXG5cbn0gICAgIFxuXG4vLyB1cGRhdGUgYW4gSW5Qb3J0YWwgY29tcG9uZW50J3MgdXNlciBjb250ZW50XG5jb25zdCB1cGRhdGVJblBvcnRhbCA9IChjb250ZW50LCByZXZlcnNlUG9ydGFsKSA9PiB7XG5cbiAgICByZXR1cm4gPEluUG9ydGFsIG5vZGUgPSB7cmV2ZXJzZVBvcnRhbH0gPlxuICAgICAgICB7IGNvbnRlbnQgfVxuICAgIDwvSW5Qb3J0YWw+XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09WyBVdGlsaXR5IGNvbXBvbmVudHMgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCB3cmFwcGVyc3R5bGUgPSB7ZGlzcGxheTonbm9uZSd9IC8vIHN0YXRpYzsgc2hvdWxkIHRha2Ugc2FtZSBkaW1lbnNpb25zIGFzIGNvbnRhaW5lciBDZWxsU2hlbGxcblxuLy8gaGlkZGVuIHBvcnRhbCB3cmFwcGVyIGZvciBjbGFyaXR5IGFuZCB1c2FnZSBvZiBjb252ZW50aW9uYWwgcmVhY3QgcmVsaXN0aW5nIHNlcnZpY2VzXG5leHBvcnQgY29uc3QgUG9ydGFsV3JhcHBlciA9ICh7IGlucG9ydGFsLCBpbmRleCB9KSA9PiB7XG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLXR5cGUgPSAncG9ydGFsd3JhcHBlcicgZGF0YS1pbmRleCA9IHsgaW5kZXggfSBzdHlsZSA9IHsgd3JhcHBlcnN0eWxlIH0ga2V5ID0geyBpbmRleCB9PlxuICAgICAgICB7IGlucG9ydGFsIH1cbiAgICA8L2Rpdj5cblxufVxuXG4vLyBwb3J0YWwgbGlzdCBjb21wb25lbnQgZm9yIHJhcGlkIHJlbGlzdGluZyBvZiB1cGRhdGVzLCB1c2luZyBleHRlcm5hbCBjYWxsYmFjayBmb3Igc2V0IHN0YXRlXG5leHBvcnQgY29uc3QgUG9ydGFsTGlzdCA9ICh7IHNjcm9sbGVyUHJvcHMgfSkgPT4ge1xuXG4gICAgY29uc3QgW3BvcnRhbExpc3QsIHNldFBvcnRhbExpc3RdID0gdXNlU3RhdGUobnVsbClcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHNjcm9sbGVyUHJvcHMuc2V0TGlzdFN0YXRlID0gKCk9PntcbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ICYmIHNldFBvcnRhbExpc3Qoc2Nyb2xsZXJQcm9wcy5wb3J0YWxMaXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlfVxuXG4gICAgfSxbXSkgXG5cbiAgICByZXR1cm4gcG9ydGFsTGlzdFxufVxuIl0sIm5hbWVzIjpbInNldExpc3RTdGF0ZSIsIm1vZGlmaWVkIiwicG9ydGFsTWV0YWRhdGFNYXAiLCJNYXAiLCJwb3J0YWxNYXAiLCJwb3J0YWxMaXN0IiwiX3RoaXMiLCJzY3JvbGxlclByb3BzIiwiY2xlYXIiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJDYWNoZUhhbmRsZXIiLCJpbmRleCIsImNvbnRlbnQiLCJoYXNQb3J0YWwiLCJnZXRQb3J0YWwiLCJjcmVhdGVJblBvcnRhbCIsImlucG9ydGFsIiwicmV2ZXJzZXBvcnRhbCIsInNldCIsInJlYWN0XzEiLCJleHBvcnRzIiwia2V5IiwicG9ydGFsTWV0YWRhdGEiLCJpc1JlcGFyZW50aW5nIiwiaGFzdXNlcmNvbnRlbnQiLCJyZW5kZXJQb3J0YWxMaXN0IiwiaGFzIiwiZ2V0IiwicmV2ZXJzZVBvcnRhbCIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwiZGF0YXNldCIsInR5cGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWFjdF9yZXZlcnNlX3BvcnRhbF8xIiwibm9kZSIsInVwZGF0ZUluUG9ydGFsIiwid3JhcHBlcnN0eWxlIiwiZGlzcGxheSIsIlBvcnRhbFdyYXBwZXIiLCJfYSIsIlBvcnRhbExpc3QiLCJzZXRQb3J0YWxMaXN0IiwiaXNNb3VudGVkUmVmIiwiY3VycmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/cachehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/contentfunctions.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/contentfunctions.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // contentfunctions.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deletePortals = exports.allocateContentList = exports.getCellShellComponentList = exports.calcContentShift = exports.getShiftInstruction = exports.getContentListRequirements = void 0;\n/******************************************************************************************\n ------------------------------------[ SUPPORTING FUNCTIONS ]------------------------------\n*******************************************************************************************/\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar cellshell_1 = __importDefault(__webpack_require__(/*! ../cellshell */ \"./src/cellshell.tsx\")); // ======================[ for setCradleContent ]===========================\n\n\nvar getContentListRequirements = function getContentListRequirements(_a) {\n  var // called from setCradleContent only\n  rowLength = _a.rowLength,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleInternalProperties = _a.cradleInternalProperties,\n      targetAxisReferenceIndex = _a.targetAxisReferenceIndex,\n      // from user, or from pivot\n  targetAxisPixelOffset = _a.targetAxisPixelOffset,\n      viewportElement = _a.viewportElement;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      gap = cradleInheritedProperties.gap,\n      listsize = cradleInheritedProperties.listsize;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount,\n      listRowcount = cradleInternalProperties.listRowcount,\n      viewportVisibleRowcount = cradleInternalProperties.viewportVisibleRowcount; // align axis reference to first row item\n\n  var origrefindex = targetAxisReferenceIndex;\n  targetAxisReferenceIndex = Math.min(targetAxisReferenceIndex, listsize - 1);\n  targetAxisReferenceIndex -= targetAxisReferenceIndex % crosscount; // derive target row\n\n  var targetAxisRowOffset = Math.ceil(targetAxisReferenceIndex / crosscount);\n  var maxAxisRowOffset = listRowcount - viewportVisibleRowcount;\n\n  if (targetAxisRowOffset > maxAxisRowOffset) {\n    targetAxisRowOffset = maxAxisRowOffset;\n    targetAxisReferenceIndex = targetAxisRowOffset * crosscount;\n  } // -----------------------[ calc cradleReferenceRow & Index ]------------------------\n  // leading edge\n  // let targetCradleReferenceIndex = Math.max(0,targetAxisReferenceIndex - leadingrunwayitemcount)\n\n\n  var targetCradleRowOffset = Math.max(0, targetAxisRowOffset - runwayRowcount); // trailing edge\n\n  var targetCradleEndRowOffset = targetCradleRowOffset + (cradleRowcount - 1);\n  var listEndRowOffset = listRowcount - 1;\n\n  if (targetCradleEndRowOffset > listEndRowOffset) {\n    var diff = targetCradleEndRowOffset - listEndRowOffset;\n    targetCradleRowOffset -= diff;\n    targetCradleEndRowOffset -= diff;\n  }\n\n  var targetCradleReferenceIndex = targetCradleRowOffset * crosscount; // ---------------------[ calc cradle content count ]---------------------\n\n  var newCradleContentCount = cradleRowcount * crosscount;\n\n  if (targetCradleEndRowOffset == listEndRowOffset) {\n    var endRowRemainderCount = listsize % crosscount;\n\n    if (endRowRemainderCount) {\n      newCradleContentCount -= crosscount - endRowRemainderCount;\n    }\n  } // --------------------[ calc css positioning ]-----------------------\n\n\n  var targetScrollblockPixelOffset = targetAxisRowOffset * rowLength - targetAxisPixelOffset; // ----------------------[ return required values ]---------------------\n\n  return {\n    targetCradleReferenceIndex: targetCradleReferenceIndex,\n    targetAxisReferenceIndex: targetAxisReferenceIndex,\n    targetAxisRowOffset: targetAxisRowOffset,\n    targetScrollblockPixelOffset: targetScrollblockPixelOffset,\n    newCradleContentCount: newCradleContentCount\n  };\n};\n\nexports.getContentListRequirements = getContentListRequirements; // ======================[ for updateCradleContent ]===========================\n// -1 = shift row to head. 1 = shift row to tail. 0 = do not shift a row.\n\nvar getShiftInstruction = function getShiftInstruction(_a) {\n  var orientation = _a.orientation,\n      triggerlineEntries = _a.triggerlineEntries;\n  var entries = triggerlineEntries.filter(function (entry) {\n    // const isIntersecting = entry.isIntersecting\n    var triggerlinename = entry.target.dataset.type;\n    var rootboundpos = orientation == 'vertical' ? entry.rootBounds.y : entry.rootBounds.x;\n    var entryboundpos = orientation == 'vertical' ? entry.boundingClientRect.y : entry.boundingClientRect.x;\n    return triggerlinename == 'triggerline-tail' && entryboundpos <= rootboundpos || triggerlinename == 'triggerline-head' && entryboundpos >= rootboundpos;\n  });\n  if (entries.length == 0) return 0;\n  var entry = entries[entries.length - 1]; // if more than one take the last\n  // const isIntersecting = entry.isIntersecting\n\n  var triggerlinename = entry.target.dataset.type;\n  var retval;\n\n  if (triggerlinename == 'triggerline-tail') {\n    retval = -1; // shift row to head\n  } else if (triggerlinename == 'triggerline-head') {\n    retval = 1; // shift row to tail\n  } else {\n    retval = 0; // do not shift a row\n  }\n\n  return retval;\n};\n\nexports.getShiftInstruction = getShiftInstruction; // A negative shift instruction is into the head, a positive shift is into the tail.\n// called only from updateCradleContent\n\nvar calcContentShift = function calcContentShift(_a) {\n  // ------------------------[ 1. initialize ]-----------------------\n  var _b, _c;\n\n  var shiftinstruction = _a.shiftinstruction,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleInternalProperties = _a.cradleInternalProperties,\n      cradleContent = _a.cradleContent,\n      cradleElements = _a.cradleElements,\n      scrollPos = _a.scrollPos;\n  var isScrollingViewportForward = shiftinstruction < 0;\n  var gap = cradleInheritedProperties.gap,\n      orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      listsize = cradleInheritedProperties.listsize,\n      triggerlineOffset = cradleInheritedProperties.triggerlineOffset;\n  var axisElement = cradleElements.axisRef.current;\n  var cradlecontentlist = cradleContent.cradleModelComponents,\n      tailcontentlist = cradleContent.tailModelComponents;\n  var crosscount = cradleInternalProperties.crosscount,\n      cradleRowcount = cradleInternalProperties.cradleRowcount,\n      listRowcount = cradleInternalProperties.listRowcount,\n      viewportRowcount = cradleInternalProperties.viewportRowcount,\n      runwayRowcount = cradleInternalProperties.runwayRowcount;\n  var rowLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap; // -----------[ 2. calculate axis reference row shift ]-------------------\n  // extra gaps can be caused by rapid scrolling\n\n  var cradleAxisOffset = orientation == 'vertical' ? axisElement.offsetTop : axisElement.offsetLeft; // viewportAxisOffset will be negative for scroll forward and positive for scroll backward\n\n  var viewportAxisOffset = // the pixel distance between the viewport frame and the axis, toward the head\n  cradleAxisOffset - scrollPos;\n  var triggerAxisOffset = isScrollingViewportForward ? // scroll forward engages the tail triggerline which is below the axis\n  // the tail triggerline must be placed to intersect to re-trigger\n  viewportAxisOffset + triggerlineOffset : // scrollbackward engages the head triggerline which is above the axis\n  // the head triggerline muse be placed not to intersect to retrigger\n  viewportAxisOffset - (rowLength - triggerlineOffset); // negative for moving rows out of head into tail;\n  // positive for moving rows out of tail into head\n  // +/- 1 gurantees boundary location results in move\n\n  var triggerRowShift = isScrollingViewportForward ? Math.floor((triggerAxisOffset ? triggerAxisOffset : -1) / rowLength) : Math.ceil((triggerAxisOffset ? triggerAxisOffset : 1) / rowLength);\n  var axisReferenceRowshift = -triggerRowShift; // ------------[ 5. calc new cradle and axis reference row offset ]-------------\n  // base value for cradle reference shift; may change if beyond list bounds\n\n  var cradleReferenceRowshift = axisReferenceRowshift;\n  var previousCradleReferenceIndex = ((_b = cradlecontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0;\n  var previousCradleRowOffset = Math.ceil(previousCradleReferenceIndex / crosscount);\n  var previousAxisReferenceIndex = ((_c = tailcontentlist[0]) === null || _c === void 0 ? void 0 : _c.props.index) || 0;\n  var previousAxisRowOffset = Math.ceil(previousAxisReferenceIndex / crosscount); // base values\n\n  var newCradleReferenceRowOffset = previousCradleRowOffset + cradleReferenceRowshift;\n  var newAxisReferenceRowOffset = previousAxisRowOffset + axisReferenceRowshift; // --------[ 6. adjust cradle contents for start and end of list ]-------\n  // ...to maintain constant number of cradle rows\n\n  var listEndrowOffset = listRowcount - 1;\n\n  if (isScrollingViewportForward) {\n    // a. if scrolling forward near the start of the list, new cradle row offset and\n    // cradle row shift count has to be adjusted to accommodate the leading runway\n    // b. if scrolling forward (toward tail of list), as the cradle last row offset approaches \n    // listrow new cradle offset and cradle row shift have to be adjusted to prevent shortening \n    // of cradle content.\n    var targetCradleReferenceRowOffset = Math.max(0, newAxisReferenceRowOffset - runwayRowcount + (runwayRowcount ? -1 : 0) // one row is visible, not runway\n    );\n    var headrowDiff = newCradleReferenceRowOffset - targetCradleReferenceRowOffset;\n\n    if (headrowDiff > 0) {\n      newCradleReferenceRowOffset -= headrowDiff;\n      cradleReferenceRowshift -= headrowDiff;\n    } // case of being in bounds of trailing runway (end of list)\n\n\n    var targetCradleEndrowOffset = newCradleReferenceRowOffset + (cradleRowcount - 1);\n    var tailrowdiff = Math.max(0, targetCradleEndrowOffset - listEndrowOffset);\n\n    if (tailrowdiff > 0) {\n      newCradleReferenceRowOffset -= tailrowdiff;\n      cradleReferenceRowshift -= tailrowdiff;\n    }\n  } else {\n    // !isScrollingViewportForward = scroll backward\n    // c. if scrolling backward (toward head of list), as the cradlerowoffset hits 0, cradle changes have\n    // to be adjusted to prevent shortening of cradle content\n    // d. if scrolling backward near the end of the list, cradle changes has to be adjusted to accomodate\n    // the trailing runway\n    if (newCradleReferenceRowOffset < 0) {\n      cradleReferenceRowshift -= newCradleReferenceRowOffset;\n      newCradleReferenceRowOffset = 0;\n    } // case of in bounds of trailing runway (end of list)\n\n\n    var computedNextCradleEndrowOffset = previousCradleRowOffset + (cradleRowcount - 1) + cradleReferenceRowshift;\n    var targetcradleEndrowoffset = Math.min(listEndrowOffset, newAxisReferenceRowOffset + (viewportRowcount - 1) + (runwayRowcount - 1));\n    var tailrowdiff = Math.max(0, targetcradleEndrowoffset - computedNextCradleEndrowOffset);\n\n    if (tailrowdiff > 0) {\n      cradleReferenceRowshift += tailrowdiff;\n      newCradleReferenceRowOffset += tailrowdiff;\n    }\n  } // ----------------------[ 7. map rows to item references ]----------------------\n\n\n  var newCradleReferenceIndex = newCradleReferenceRowOffset * crosscount;\n  var cradleReferenceItemShift = cradleReferenceRowshift * crosscount;\n  var newAxisReferenceIndex = newAxisReferenceRowOffset * crosscount;\n  var axisReferenceItemShift = axisReferenceRowshift * crosscount;\n  var newCradleContentCount = cradleRowcount * crosscount; // base count\n\n  var includesLastRow = newCradleReferenceRowOffset + cradleRowcount >= listRowcount;\n\n  if (includesLastRow) {\n    var partialspaces = listsize % crosscount;\n    var itemsShortfall = partialspaces == 0 ? 0 : crosscount - partialspaces;\n    newCradleContentCount -= itemsShortfall;\n  } // create head and tail change counts\n\n\n  var changeOfCradleContentCount = cradlecontentlist.length - newCradleContentCount;\n  var listStartChangeCount = -cradleReferenceItemShift;\n  var listEndChangeCount = -listStartChangeCount - changeOfCradleContentCount; // -------------[ 8. calculate new axis pixel position ]------------------\n\n  var newAxisPixelOffset = viewportAxisOffset + axisReferenceRowshift * rowLength; // ---------------------[ 9. return required values ]-------------------\n\n  return {\n    newCradleReferenceIndex: newCradleReferenceIndex,\n    cradleReferenceItemShift: cradleReferenceItemShift,\n    newAxisReferenceIndex: newAxisReferenceIndex,\n    axisReferenceItemShift: axisReferenceItemShift,\n    newAxisPixelOffset: newAxisPixelOffset,\n    newCradleContentCount: newCradleContentCount,\n    listStartChangeCount: listStartChangeCount,\n    listEndChangeCount: listEndChangeCount\n  };\n};\n\nexports.calcContentShift = calcContentShift; // =====================[ shared by both setCradleContent and updateCradleContent ]====================\n// update content\n// adds itemshells at end of contentlist according to headindexcount and tailindescount,\n// or if indexcount values are <0 removes them.\n\nvar getCellShellComponentList = function getCellShellComponentList(_a) {\n  var cradleInheritedProperties = _a.cradleInheritedProperties,\n      cradleContentCount = _a.cradleContentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      listStartChangeCount = _a.listStartChangeCount,\n      listEndChangeCount = _a.listEndChangeCount,\n      contentlist = _a.workingContentList,\n      // callbacks,\n  instanceIdCounterRef = _a.instanceIdCounterRef;\n\n  var localContentlist = __spreadArray([], contentlist, true);\n\n  var lastindexoffset = cradleReferenceIndex + localContentlist.length - 1;\n  var headContentlist = [],\n      tailContentlist = [];\n  var deletedtailitems = [],\n      deletedheaditems = [];\n\n  if (listStartChangeCount >= 0) {\n    // acquire new items\n    for (var newindex = cradleReferenceIndex - listStartChangeCount; newindex < cradleReferenceIndex; newindex++) {\n      headContentlist.push(acquireItem({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        // callbacks, \n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -listStartChangeCount);\n  }\n\n  if (listEndChangeCount >= 0) {\n    // acquire new items\n    for (var newindex = lastindexoffset + 1; newindex < lastindexoffset + 1 + listEndChangeCount; newindex++) {\n      tailContentlist.push(acquireItem({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        // callbacks, \n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(listEndChangeCount, -listEndChangeCount);\n  }\n\n  var deletedItems = deletedheaditems.concat(deletedtailitems);\n  var componentList = headContentlist.concat(localContentlist, tailContentlist);\n  return [componentList, deletedItems];\n};\n\nexports.getCellShellComponentList = getCellShellComponentList; // butterfly model. Leading (head) all or partially hidden; tail, visible plus following hidden\n\nvar allocateContentList = function allocateContentList(_a) {\n  var _b;\n\n  var contentlist = _a.contentlist,\n      // of cradle, in items (React components)\n  axisReferenceIndex = _a.axisReferenceIndex;\n  var offsetindex = (_b = contentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index; // TODO: Cannot read property 'props' of undefined\n\n  var headitemcount = axisReferenceIndex - offsetindex;\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\n\nexports.allocateContentList = allocateContentList;\n\nvar deletePortals = function deletePortals(cacheHandler, deleteList) {\n  console.log('inside deletePortals', deleteList);\n\n  for (var _i = 0, deleteList_1 = deleteList; _i < deleteList_1.length; _i++) {\n    var item = deleteList_1[_i];\n    cacheHandler.deletePortal(item.props.index);\n  }\n\n  if (deleteList.length) cacheHandler.renderPortalList();\n};\n\nexports.deletePortals = deletePortals; // =====================[ acquire item ]======================\n\nvar acquireItem = function acquireItem(_a) {\n  var index = _a.index,\n      cradleInheritedProperties = _a.cradleInheritedProperties,\n      // callbacks, \n  instanceIdCounterRef = _a.instanceIdCounterRef;\n  var instanceID = instanceIdCounterRef.current++;\n  var orientation = cradleInheritedProperties.orientation,\n      cellHeight = cradleInheritedProperties.cellHeight,\n      cellWidth = cradleInheritedProperties.cellWidth,\n      getItem = cradleInheritedProperties.getItem,\n      placeholder = cradleInheritedProperties.placeholder,\n      listsize = cradleInheritedProperties.listsize,\n      scrollerName = cradleInheritedProperties.scrollerName,\n      scrollerID = cradleInheritedProperties.scrollerID;\n  return react_1[\"default\"].createElement(cellshell_1[\"default\"], {\n    key: index,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    index: index,\n    // callbacks = {callbacks}\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    instanceID: instanceID,\n    scrollerName: scrollerName,\n    scrollerID: scrollerID\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxZQUFZLENBQUNPLGdCQUFiO0FBQzFCLENBUE07O0FBQU10RyxxQkFBQUEsR0FBYThGLGFBQWIsQyxDQVNiOztBQUVBLElBQU1aLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNqSCxFQUFELEVBTW5CO01BTEcyRSxLQUFLO01BQ0x6RSx5QkFBeUI7TUFDekI7RUFDQXNHLG9CQUFvQjtFQUdwQixJQUFNOEIsVUFBVSxHQUFHOUIsb0JBQW9CLENBQUM3QyxPQUFyQixFQUFuQjtFQUlJLGVBQVcsR0FTWHpELHlCQUF5QixZQVR6QjtFQUFBLElBQ0FLLFVBQVUsR0FRVkwseUJBQXlCLFdBVHpCO0VBQUEsSUFFQU0sU0FBUyxHQU9UTix5QkFBeUIsVUFUekI7RUFBQSxJQUdBcUksT0FBTyxHQU1QckkseUJBQXlCLFFBVHpCO0VBQUEsSUFJQXNJLFdBQVcsR0FLWHRJLHlCQUF5QixZQVR6QjtFQUFBLElBS0FRLFFBQVEsR0FJUlIseUJBQXlCLFNBVHpCO0VBQUEsSUFNQXVJLFlBQVksR0FHWnZJLHlCQUF5QixhQVR6QjtFQUFBLElBT0F3SSxVQUFVLEdBRVZ4SSx5QkFBeUIsV0FUekI7RUFXSixPQUFPeUksaUNBQUNDLHNCQUFELEVBQVU7SUFDYkMsR0FBRyxFQUFJbEUsS0FETTtJQUViMUMsV0FBVyxFQUFLQSxXQUZIO0lBR2IxQixVQUFVLEVBQUtBLFVBSEY7SUFJYkMsU0FBUyxFQUFLQSxTQUpEO0lBS2JtRSxLQUFLLEVBQUtBLEtBTEc7SUFNYjtJQUNBNEQsT0FBTyxFQUFJQSxPQVBFO0lBUWI3SCxRQUFRLEVBQUlBLFFBUkM7SUFTYjhILFdBQVcsRUFBS0EsV0FUSDtJQVViRixVQUFVLEVBQUlBLFVBVkQ7SUFXYkcsWUFBWSxFQUFLQSxZQVhKO0lBWWJDLFVBQVUsRUFBS0E7RUFaRixDQUFWLENBQVA7QUFlSCxDQXJDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4P2QyZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudGZ1bmN0aW9ucy50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBTVVBQT1JUSU5HIEZVTkNUSU9OUyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDZWxsU2hlbGwgZnJvbSAnLi4vY2VsbHNoZWxsJ1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09WyBmb3Igc2V0Q3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyA9ICh7IC8vIGNhbGxlZCBmcm9tIHNldENyYWRsZUNvbnRlbnQgb25seVxuXG4gICAgICAgIHJvd0xlbmd0aCxcbiAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZyb20gdXNlciwgb3IgZnJvbSBwaXZvdFxuICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQsXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCxcblxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IHsgXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGdhcCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgIGNvbnN0IHtcblxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRWaXNpYmxlUm93Y291bnQsXG5cbiAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzXG4gICAgXG4gICAgLy8gYWxpZ24gYXhpcyByZWZlcmVuY2UgdG8gZmlyc3Qgcm93IGl0ZW1cbiAgICBjb25zdCBvcmlncmVmaW5kZXggPSB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbih0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCAtPSAodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudClcblxuICAgIC8vIGRlcml2ZSB0YXJnZXQgcm93XG4gICAgbGV0IHRhcmdldEF4aXNSb3dPZmZzZXQgPSBNYXRoLmNlaWwodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG4gICAgY29uc3QgbWF4QXhpc1Jvd09mZnNldCA9IGxpc3RSb3djb3VudCAtIHZpZXdwb3J0VmlzaWJsZVJvd2NvdW50XG4gICAgaWYgKHRhcmdldEF4aXNSb3dPZmZzZXQgPiBtYXhBeGlzUm93T2Zmc2V0KSB7XG4gICAgICAgIHRhcmdldEF4aXNSb3dPZmZzZXQgPSBtYXhBeGlzUm93T2Zmc2V0XG4gICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSb3dPZmZzZXQgKiBjcm9zc2NvdW50XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlUmVmZXJlbmNlUm93ICYgSW5kZXggXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGxlYWRpbmcgZWRnZVxuICAgIC8vIGxldCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IE1hdGgubWF4KDAsdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IC0gbGVhZGluZ3J1bndheWl0ZW1jb3VudClcbiAgICBsZXQgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0ID0gTWF0aC5tYXgoMCx0YXJnZXRBeGlzUm93T2Zmc2V0IC0gcnVud2F5Um93Y291bnQpXG5cbiAgICAvLyB0cmFpbGluZyBlZGdlXG4gICAgbGV0IHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9IHRhcmdldENyYWRsZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtIDEpXG5cbiAgICBjb25zdCBsaXN0RW5kUm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpXG5cbiAgICBpZiAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0ID4gKGxpc3RFbmRSb3dPZmZzZXQpKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSAodGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC0gbGlzdEVuZFJvd09mZnNldClcbiAgICAgICAgdGFyZ2V0Q3JhZGxlUm93T2Zmc2V0IC09IGRpZmZcbiAgICAgICAgdGFyZ2V0Q3JhZGxlRW5kUm93T2Zmc2V0IC09IGRpZmZcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IHRhcmdldENyYWRsZVJvd09mZnNldCAqIGNyb3NzY291bnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjcmFkbGUgY29udGVudCBjb3VudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgbmV3Q3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgaWYgKHRhcmdldENyYWRsZUVuZFJvd09mZnNldCA9PSBsaXN0RW5kUm93T2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGVuZFJvd1JlbWFpbmRlckNvdW50ID0gbGlzdHNpemUgJSBjcm9zc2NvdW50XG4gICAgICAgIGlmIChlbmRSb3dSZW1haW5kZXJDb3VudCkge1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IChjcm9zc2NvdW50IC0gZW5kUm93UmVtYWluZGVyQ291bnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjc3MgcG9zaXRpb25pbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICh0YXJnZXRBeGlzUm93T2Zmc2V0ICogcm93TGVuZ3RoKSAtICh0YXJnZXRBeGlzUGl4ZWxPZmZzZXQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXR1cm4gcmVxdWlyZWQgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICB0YXJnZXRBeGlzUm93T2Zmc2V0LFxuICAgICAgICB0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0LCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LCBcbiAgICB9IFxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1bIGZvciB1cGRhdGVDcmFkbGVDb250ZW50IF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gLTEgPSBzaGlmdCByb3cgdG8gaGVhZC4gMSA9IHNoaWZ0IHJvdyB0byB0YWlsLiAwID0gZG8gbm90IHNoaWZ0IGEgcm93LlxuZXhwb3J0IGNvbnN0IGdldFNoaWZ0SW5zdHJ1Y3Rpb24gPSAoe1xuXG4gICAgb3JpZW50YXRpb24sXG4gICAgdHJpZ2dlcmxpbmVFbnRyaWVzLFxuXG59KSA9PiB7XG5cbiAgICBjb25zdCBlbnRyaWVzID0gdHJpZ2dlcmxpbmVFbnRyaWVzLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IGlzSW50ZXJzZWN0aW5nID0gZW50cnkuaXNJbnRlcnNlY3RpbmdcbiAgICAgICAgY29uc3QgdHJpZ2dlcmxpbmVuYW1lID0gZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZVxuICAgICAgICBjb25zdCByb290Ym91bmRwb3MgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBlbnRyeS5yb290Qm91bmRzLnk6XG4gICAgICAgICAgICAgICAgZW50cnkucm9vdEJvdW5kcy54XG4gICAgICAgIGNvbnN0IGVudHJ5Ym91bmRwb3MgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueTpcbiAgICAgICAgICAgICAgICBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueFxuICAgICAgICByZXR1cm4gKCh0cmlnZ2VybGluZW5hbWUgPT0gJ3RyaWdnZXJsaW5lLXRhaWwnKSAmJiAoZW50cnlib3VuZHBvcyA8PSByb290Ym91bmRwb3MpKSB8fCBcbiAgICAgICAgICAgICgodHJpZ2dlcmxpbmVuYW1lID09ICd0cmlnZ2VybGluZS1oZWFkJykgJiYgKGVudHJ5Ym91bmRwb3MgPj0gcm9vdGJvdW5kcG9zKSlcbiAgICB9KVxuXG4gICAgaWYgKGVudHJpZXMubGVuZ3RoID09IDApIHJldHVybiAwXG5cbiAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGgtMV0gLy8gaWYgbW9yZSB0aGFuIG9uZSB0YWtlIHRoZSBsYXN0XG4gICAgLy8gY29uc3QgaXNJbnRlcnNlY3RpbmcgPSBlbnRyeS5pc0ludGVyc2VjdGluZ1xuICAgIGNvbnN0IHRyaWdnZXJsaW5lbmFtZSA9IGVudHJ5LnRhcmdldC5kYXRhc2V0LnR5cGVcblxuICAgIGxldCByZXR2YWxcbiAgICBpZiAodHJpZ2dlcmxpbmVuYW1lID09ICd0cmlnZ2VybGluZS10YWlsJykge1xuICAgICAgICByZXR2YWwgPSAtMSAvLyBzaGlmdCByb3cgdG8gaGVhZFxuICAgIH0gZWxzZSBpZiAodHJpZ2dlcmxpbmVuYW1lID09ICd0cmlnZ2VybGluZS1oZWFkJykge1xuICAgICAgICByZXR2YWwgPSAxIC8vIHNoaWZ0IHJvdyB0byB0YWlsXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dmFsID0gMCAvLyBkbyBub3Qgc2hpZnQgYSByb3dcbiAgICB9XG4gICAgcmV0dXJuIHJldHZhbFxuXG59XG5cbi8vIEEgbmVnYXRpdmUgc2hpZnQgaW5zdHJ1Y3Rpb24gaXMgaW50byB0aGUgaGVhZCwgYSBwb3NpdGl2ZSBzaGlmdCBpcyBpbnRvIHRoZSB0YWlsLlxuLy8gY2FsbGVkIG9ubHkgZnJvbSB1cGRhdGVDcmFkbGVDb250ZW50XG5leHBvcnQgY29uc3QgY2FsY0NvbnRlbnRTaGlmdCA9ICh7XG5cbiAgICBzaGlmdGluc3RydWN0aW9uLFxuICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgY3JhZGxlRWxlbWVudHMsXG4gICAgc2Nyb2xsUG9zLCAvLyBvZiBjcmFkbGUgYWdhaW5zdCB2aWV3cG9ydDsgd2hlcmUgdGhlIGNyYWRsZSBtb3Rpb24gaW50ZXJzZWN0cyB0aGUgdmlld3BvcnRcbiAgICAvLyB2aWV3cG9ydEVsZW1lbnQsXG5cbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMS4gaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGlzU2Nyb2xsaW5nVmlld3BvcnRGb3J3YXJkID0gKHNoaWZ0aW5zdHJ1Y3Rpb24gPCAwKVxuXG4gICAgY29uc3QgeyBcblxuICAgICAgICBnYXAsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcblxuICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICBjb25zdCBheGlzRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmF4aXNSZWYuY3VycmVudFxuXG4gICAgY29uc3Qge1xuXG4gICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50czpjcmFkbGVjb250ZW50bGlzdCwgXG4gICAgICAgIHRhaWxNb2RlbENvbXBvbmVudHM6dGFpbGNvbnRlbnRsaXN0LFxuXG4gICAgfSA9IGNyYWRsZUNvbnRlbnRcblxuICAgIGNvbnN0IHsgXG5cbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG5cbiAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzXG5cbiAgICBjb25zdCByb3dMZW5ndGggPSBcbiAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICBjZWxsV2lkdGgpIFxuICAgICAgICArIGdhcFxuXG4gICAgLy8gLS0tLS0tLS0tLS1bIDIuIGNhbGN1bGF0ZSBheGlzIHJlZmVyZW5jZSByb3cgc2hpZnQgXS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBleHRyYSBnYXBzIGNhbiBiZSBjYXVzZWQgYnkgcmFwaWQgc2Nyb2xsaW5nXG5cbiAgICBjb25zdCBjcmFkbGVBeGlzT2Zmc2V0ID0gXG4gICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIGF4aXNFbGVtZW50Lm9mZnNldFRvcDpcbiAgICAgICAgICAgIGF4aXNFbGVtZW50Lm9mZnNldExlZnRcblxuICAgIC8vIHZpZXdwb3J0QXhpc09mZnNldCB3aWxsIGJlIG5lZ2F0aXZlIGZvciBzY3JvbGwgZm9yd2FyZCBhbmQgcG9zaXRpdmUgZm9yIHNjcm9sbCBiYWNrd2FyZFxuICAgIGNvbnN0IHZpZXdwb3J0QXhpc09mZnNldCA9IC8vIHRoZSBwaXhlbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2aWV3cG9ydCBmcmFtZSBhbmQgdGhlIGF4aXMsIHRvd2FyZCB0aGUgaGVhZFxuICAgICAgICBjcmFkbGVBeGlzT2Zmc2V0IC0gc2Nyb2xsUG9zXG5cbiAgICBjb25zdCB0cmlnZ2VyQXhpc09mZnNldCA9IFxuICAgICAgICAoaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQpP1xuICAgICAgICAgICAgLy8gc2Nyb2xsIGZvcndhcmQgZW5nYWdlcyB0aGUgdGFpbCB0cmlnZ2VybGluZSB3aGljaCBpcyBiZWxvdyB0aGUgYXhpc1xuICAgICAgICAgICAgLy8gdGhlIHRhaWwgdHJpZ2dlcmxpbmUgbXVzdCBiZSBwbGFjZWQgdG8gaW50ZXJzZWN0IHRvIHJlLXRyaWdnZXJcbiAgICAgICAgICAgIHZpZXdwb3J0QXhpc09mZnNldCArIHRyaWdnZXJsaW5lT2Zmc2V0OlxuICAgICAgICAgICAgLy8gc2Nyb2xsYmFja3dhcmQgZW5nYWdlcyB0aGUgaGVhZCB0cmlnZ2VybGluZSB3aGljaCBpcyBhYm92ZSB0aGUgYXhpc1xuICAgICAgICAgICAgLy8gdGhlIGhlYWQgdHJpZ2dlcmxpbmUgbXVzZSBiZSBwbGFjZWQgbm90IHRvIGludGVyc2VjdCB0byByZXRyaWdnZXJcbiAgICAgICAgICAgIHZpZXdwb3J0QXhpc09mZnNldCAtIChyb3dMZW5ndGggLSB0cmlnZ2VybGluZU9mZnNldClcblxuICAgIC8vIG5lZ2F0aXZlIGZvciBtb3Zpbmcgcm93cyBvdXQgb2YgaGVhZCBpbnRvIHRhaWw7XG4gICAgLy8gcG9zaXRpdmUgZm9yIG1vdmluZyByb3dzIG91dCBvZiB0YWlsIGludG8gaGVhZFxuICAgIC8vICsvLSAxIGd1cmFudGVlcyBib3VuZGFyeSBsb2NhdGlvbiByZXN1bHRzIGluIG1vdmVcbiAgICBjb25zdCB0cmlnZ2VyUm93U2hpZnQgPSBcbiAgICAgICAgKGlzU2Nyb2xsaW5nVmlld3BvcnRGb3J3YXJkKT9cbiAgICAgICAgICAgIE1hdGguZmxvb3IoKHRyaWdnZXJBeGlzT2Zmc2V0P3RyaWdnZXJBeGlzT2Zmc2V0OiAtMSkvcm93TGVuZ3RoKTpcbiAgICAgICAgICAgIE1hdGguY2VpbCgodHJpZ2dlckF4aXNPZmZzZXQ/dHJpZ2dlckF4aXNPZmZzZXQ6IDEpL3Jvd0xlbmd0aClcblxuICAgIGxldCBheGlzUmVmZXJlbmNlUm93c2hpZnQgPSAtdHJpZ2dlclJvd1NoaWZ0XG5cbiAgICAvLyAtLS0tLS0tLS0tLS1bIDUuIGNhbGMgbmV3IGNyYWRsZSBhbmQgYXhpcyByZWZlcmVuY2Ugcm93IG9mZnNldCBdLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gYmFzZSB2YWx1ZSBmb3IgY3JhZGxlIHJlZmVyZW5jZSBzaGlmdDsgbWF5IGNoYW5nZSBpZiBiZXlvbmQgbGlzdCBib3VuZHNcbiAgICBsZXQgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgPSBheGlzUmVmZXJlbmNlUm93c2hpZnRcblxuICAgIGNvbnN0IHByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXggPSAoY3JhZGxlY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApXG4gICAgY29uc3QgcHJldmlvdXNDcmFkbGVSb3dPZmZzZXQgPSBNYXRoLmNlaWwocHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleC9jcm9zc2NvdW50KVxuXG4gICAgY29uc3QgcHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXggPSAodGFpbGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCB8fCAwKVxuICAgIGNvbnN0IHByZXZpb3VzQXhpc1Jvd09mZnNldCA9IE1hdGguY2VpbChwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleC9jcm9zc2NvdW50KVxuXG4gICAgLy8gYmFzZSB2YWx1ZXNcbiAgICBsZXQgbmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0ID0gcHJldmlvdXNDcmFkbGVSb3dPZmZzZXQgKyBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdFxuICAgIGxldCBuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0ID0gcHJldmlvdXNBeGlzUm93T2Zmc2V0ICsgYXhpc1JlZmVyZW5jZVJvd3NoaWZ0XG5cbiAgICAvLyAtLS0tLS0tLVsgNi4gYWRqdXN0IGNyYWRsZSBjb250ZW50cyBmb3Igc3RhcnQgYW5kIGVuZCBvZiBsaXN0IF0tLS0tLS0tXG4gICAgLy8gLi4udG8gbWFpbnRhaW4gY29uc3RhbnQgbnVtYmVyIG9mIGNyYWRsZSByb3dzXG5cbiAgICBjb25zdCBsaXN0RW5kcm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpXG5cbiAgICBpZiAoaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQpIHtcblxuICAgICAgICAvLyBhLiBpZiBzY3JvbGxpbmcgZm9yd2FyZCBuZWFyIHRoZSBzdGFydCBvZiB0aGUgbGlzdCwgbmV3IGNyYWRsZSByb3cgb2Zmc2V0IGFuZFxuICAgICAgICAvLyBjcmFkbGUgcm93IHNoaWZ0IGNvdW50IGhhcyB0byBiZSBhZGp1c3RlZCB0byBhY2NvbW1vZGF0ZSB0aGUgbGVhZGluZyBydW53YXlcbiAgICAgICAgLy8gYi4gaWYgc2Nyb2xsaW5nIGZvcndhcmQgKHRvd2FyZCB0YWlsIG9mIGxpc3QpLCBhcyB0aGUgY3JhZGxlIGxhc3Qgcm93IG9mZnNldCBhcHByb2FjaGVzIFxuICAgICAgICAvLyBsaXN0cm93IG5ldyBjcmFkbGUgb2Zmc2V0IGFuZCBjcmFkbGUgcm93IHNoaWZ0IGhhdmUgdG8gYmUgYWRqdXN0ZWQgdG8gcHJldmVudCBzaG9ydGVuaW5nIFxuICAgICAgICAvLyBvZiBjcmFkbGUgY29udGVudC5cblxuICAgICAgICBjb25zdCB0YXJnZXRDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgPSBcbiAgICAgICAgICAgIE1hdGgubWF4KDAsIFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgbmV3QXhpc1JlZmVyZW5jZVJvd09mZnNldCAtIFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVud2F5Um93Y291bnQgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgIChydW53YXlSb3djb3VudD8tMTowKSAvLyBvbmUgcm93IGlzIHZpc2libGUsIG5vdCBydW53YXlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG5cbiAgICAgICAgY29uc3QgaGVhZHJvd0RpZmYgPSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgLSB0YXJnZXRDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXRcbiAgICAgICAgaWYgKGhlYWRyb3dEaWZmID4gMCkge1xuXG4gICAgICAgICAgICBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgLT0gaGVhZHJvd0RpZmZcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IC09IGhlYWRyb3dEaWZmXG5cbiAgICAgICAgfVxuICAgICAgICAvLyBjYXNlIG9mIGJlaW5nIGluIGJvdW5kcyBvZiB0cmFpbGluZyBydW53YXkgKGVuZCBvZiBsaXN0KVxuICAgICAgICBjb25zdCB0YXJnZXRDcmFkbGVFbmRyb3dPZmZzZXQgPSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgKyAoY3JhZGxlUm93Y291bnQgLSAxKVxuICAgICAgICBjb25zdCB0YWlscm93ZGlmZiA9IE1hdGgubWF4KDAsdGFyZ2V0Q3JhZGxlRW5kcm93T2Zmc2V0IC0gbGlzdEVuZHJvd09mZnNldClcbiAgICAgICAgaWYgKHRhaWxyb3dkaWZmID4gMCkge1xuXG4gICAgICAgICAgICBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgLT0gdGFpbHJvd2RpZmZcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IC09IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7IC8vICFpc1Njcm9sbGluZ1ZpZXdwb3J0Rm9yd2FyZCA9IHNjcm9sbCBiYWNrd2FyZFxuXG4gICAgICAgIC8vIGMuIGlmIHNjcm9sbGluZyBiYWNrd2FyZCAodG93YXJkIGhlYWQgb2YgbGlzdCksIGFzIHRoZSBjcmFkbGVyb3dvZmZzZXQgaGl0cyAwLCBjcmFkbGUgY2hhbmdlcyBoYXZlXG4gICAgICAgIC8vIHRvIGJlIGFkanVzdGVkIHRvIHByZXZlbnQgc2hvcnRlbmluZyBvZiBjcmFkbGUgY29udGVudFxuICAgICAgICAvLyBkLiBpZiBzY3JvbGxpbmcgYmFja3dhcmQgbmVhciB0aGUgZW5kIG9mIHRoZSBsaXN0LCBjcmFkbGUgY2hhbmdlcyBoYXMgdG8gYmUgYWRqdXN0ZWQgdG8gYWNjb21vZGF0ZVxuICAgICAgICAvLyB0aGUgdHJhaWxpbmcgcnVud2F5XG5cbiAgICAgICAgaWYgKG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCA8IDApIHtcblxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgLT0gbmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0XG4gICAgICAgICAgICBuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgPSAwXG5cbiAgICAgICAgfVxuICAgICAgICAvLyBjYXNlIG9mIGluIGJvdW5kcyBvZiB0cmFpbGluZyBydW53YXkgKGVuZCBvZiBsaXN0KVxuICAgICAgICBjb25zdCBjb21wdXRlZE5leHRDcmFkbGVFbmRyb3dPZmZzZXQgPSBcbiAgICAgICAgICAgIChwcmV2aW91c0NyYWRsZVJvd09mZnNldCArIChjcmFkbGVSb3djb3VudCAtMSkgKyBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdClcbiAgICAgICAgY29uc3QgdGFyZ2V0Y3JhZGxlRW5kcm93b2Zmc2V0ID0gTWF0aC5taW4obGlzdEVuZHJvd09mZnNldCwgXG4gICAgICAgICAgICAobmV3QXhpc1JlZmVyZW5jZVJvd09mZnNldCArICh2aWV3cG9ydFJvd2NvdW50IC0gMSkgKyAocnVud2F5Um93Y291bnQgLSAxKSkpXG4gICAgICAgIGNvbnN0IHRhaWxyb3dkaWZmID0gTWF0aC5tYXgoMCwgdGFyZ2V0Y3JhZGxlRW5kcm93b2Zmc2V0IC0gY29tcHV0ZWROZXh0Q3JhZGxlRW5kcm93T2Zmc2V0KVxuXG4gICAgICAgIGlmICh0YWlscm93ZGlmZiA+IDApIHtcblxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgKz0gdGFpbHJvd2RpZmZcbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvd09mZnNldCArPSB0YWlscm93ZGlmZlxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDcuIG1hcCByb3dzIHRvIGl0ZW0gcmVmZXJlbmNlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXggPSAobmV3Q3JhZGxlUmVmZXJlbmNlUm93T2Zmc2V0ICogY3Jvc3Njb3VudClcbiAgICBjb25zdCBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQgPSAoY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQgKiBjcm9zc2NvdW50KVxuXG4gICAgY29uc3QgbmV3QXhpc1JlZmVyZW5jZUluZGV4ID0gbmV3QXhpc1JlZmVyZW5jZVJvd09mZnNldCAqIGNyb3NzY291bnRcbiAgICBjb25zdCBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0ID0gYXhpc1JlZmVyZW5jZVJvd3NoaWZ0ICogY3Jvc3Njb3VudFxuXG4gICAgbGV0IG5ld0NyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudCAvLyBiYXNlIGNvdW50XG4gICAgY29uc3QgaW5jbHVkZXNMYXN0Um93ID0gKChuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQgKyBjcmFkbGVSb3djb3VudCkgPj0gbGlzdFJvd2NvdW50KVxuICAgIGlmIChpbmNsdWRlc0xhc3RSb3cpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbHNwYWNlcyA9IGxpc3RzaXplICUgY3Jvc3Njb3VudFxuICAgICAgICBjb25zdCBpdGVtc1Nob3J0ZmFsbCA9IFxuICAgICAgICAgICAgKHBhcnRpYWxzcGFjZXMgPT0gMCk/XG4gICAgICAgICAgICAgICAgMDpcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50IC0gcGFydGlhbHNwYWNlc1xuICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQgLT0gaXRlbXNTaG9ydGZhbGxcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgaGVhZCBhbmQgdGFpbCBjaGFuZ2UgY291bnRzXG4gICAgY29uc3QgY2hhbmdlT2ZDcmFkbGVDb250ZW50Q291bnQgPSBjcmFkbGVjb250ZW50bGlzdC5sZW5ndGggLSBuZXdDcmFkbGVDb250ZW50Q291bnRcblxuICAgIGNvbnN0IGxpc3RTdGFydENoYW5nZUNvdW50ID0gLShjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQpXG4gICAgY29uc3QgbGlzdEVuZENoYW5nZUNvdW50ID0gLWxpc3RTdGFydENoYW5nZUNvdW50IC0gKGNoYW5nZU9mQ3JhZGxlQ29udGVudENvdW50KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLVsgOC4gY2FsY3VsYXRlIG5ldyBheGlzIHBpeGVsIHBvc2l0aW9uIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IG5ld0F4aXNQaXhlbE9mZnNldCA9IHZpZXdwb3J0QXhpc09mZnNldCArIChheGlzUmVmZXJlbmNlUm93c2hpZnQgKiByb3dMZW5ndGgpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDkuIHJldHVybiByZXF1aXJlZCB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSXRlbVNoaWZ0LCBcbiAgICAgICAgbmV3QXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdCwgXG4gICAgICAgIG5ld0F4aXNQaXhlbE9mZnNldCwgXG4gICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsXG4gICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudFxuICAgIH1cblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT1bIHNoYXJlZCBieSBib3RoIHNldENyYWRsZUNvbnRlbnQgYW5kIHVwZGF0ZUNyYWRsZUNvbnRlbnQgXT09PT09PT09PT09PT09PT09PT09XG5cbi8vIHVwZGF0ZSBjb250ZW50XG4vLyBhZGRzIGl0ZW1zaGVsbHMgYXQgZW5kIG9mIGNvbnRlbnRsaXN0IGFjY29yZGluZyB0byBoZWFkaW5kZXhjb3VudCBhbmQgdGFpbGluZGVzY291bnQsXG4vLyBvciBpZiBpbmRleGNvdW50IHZhbHVlcyBhcmUgPDAgcmVtb3ZlcyB0aGVtLlxuZXhwb3J0IGNvbnN0IGdldENlbGxTaGVsbENvbXBvbmVudExpc3QgPSAoeyBcblxuICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsIFxuICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsIFxuICAgICAgICB3b3JraW5nQ29udGVudExpc3Q6Y29udGVudGxpc3QsXG4gICAgICAgIC8vIGNhbGxiYWNrcyxcbiAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgfSkgPT4ge1xuXG4gICAgY29uc3QgbG9jYWxDb250ZW50bGlzdCA9IFsuLi5jb250ZW50bGlzdF1cbiAgICBjb25zdCBsYXN0aW5kZXhvZmZzZXQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCArIGxvY2FsQ29udGVudGxpc3QubGVuZ3RoIC0gMVxuXG4gICAgY29uc3QgaGVhZENvbnRlbnRsaXN0ID0gW10sIHRhaWxDb250ZW50bGlzdCA9IFtdXG5cbiAgICBsZXQgZGVsZXRlZHRhaWxpdGVtcyA9IFtdLCBkZWxldGVkaGVhZGl0ZW1zID0gW11cblxuICAgIGlmIChsaXN0U3RhcnRDaGFuZ2VDb3VudCA+PSAwKSB7IC8vIGFjcXVpcmUgbmV3IGl0ZW1zXG5cbiAgICAgICAgZm9yIChsZXQgbmV3aW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGxpc3RTdGFydENoYW5nZUNvdW50OyBuZXdpbmRleCA8IChjcmFkbGVSZWZlcmVuY2VJbmRleCk7IG5ld2luZGV4KyspIHtcblxuICAgICAgICAgICAgaGVhZENvbnRlbnRsaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgYWNxdWlyZUl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Om5ld2luZGV4LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFja3MsIFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBkZWxldGVkaGVhZGl0ZW1zID0gbG9jYWxDb250ZW50bGlzdC5zcGxpY2UoIDAsIC1saXN0U3RhcnRDaGFuZ2VDb3VudCApXG5cbiAgICB9XG5cbiAgICBpZiAobGlzdEVuZENoYW5nZUNvdW50ID49IDApIHsgLy8gYWNxdWlyZSBuZXcgaXRlbXNcblxuICAgICAgICBmb3IgKGxldCBuZXdpbmRleCA9IGxhc3RpbmRleG9mZnNldCArIDE7IG5ld2luZGV4IDwgKGxhc3RpbmRleG9mZnNldCArIDEgKyBsaXN0RW5kQ2hhbmdlQ291bnQpOyBuZXdpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIHRhaWxDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGFjcXVpcmVJdGVtKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDpuZXdpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2tzLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZGVsZXRlZHRhaWxpdGVtcyA9IGxvY2FsQ29udGVudGxpc3Quc3BsaWNlKGxpc3RFbmRDaGFuZ2VDb3VudCwtbGlzdEVuZENoYW5nZUNvdW50KVxuXG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlZEl0ZW1zID0gZGVsZXRlZGhlYWRpdGVtcy5jb25jYXQoZGVsZXRlZHRhaWxpdGVtcylcblxuICAgIGNvbnN0IGNvbXBvbmVudExpc3QgPSBoZWFkQ29udGVudGxpc3QuY29uY2F0KGxvY2FsQ29udGVudGxpc3QsdGFpbENvbnRlbnRsaXN0KVxuXG4gICAgcmV0dXJuIFtjb21wb25lbnRMaXN0LGRlbGV0ZWRJdGVtc11cblxufVxuXG4vLyBidXR0ZXJmbHkgbW9kZWwuIExlYWRpbmcgKGhlYWQpIGFsbCBvciBwYXJ0aWFsbHkgaGlkZGVuOyB0YWlsLCB2aXNpYmxlIHBsdXMgZm9sbG93aW5nIGhpZGRlblxuZXhwb3J0IGNvbnN0IGFsbG9jYXRlQ29udGVudExpc3QgPSAoXG4gICAge1xuXG4gICAgICAgIGNvbnRlbnRsaXN0LCAvLyBvZiBjcmFkbGUsIGluIGl0ZW1zIChSZWFjdCBjb21wb25lbnRzKVxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZpcnN0IHRhaWwgaXRlbVxuXG4gICAgfVxuKSA9PiB7XG5cbiAgICBjb25zdCBvZmZzZXRpbmRleCA9IGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCAvLyBUT0RPOiBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAncHJvcHMnIG9mIHVuZGVmaW5lZFxuXG4gICAgY29uc3QgaGVhZGl0ZW1jb3VudCA9IChheGlzUmVmZXJlbmNlSW5kZXggLSBvZmZzZXRpbmRleClcblxuICAgIGNvbnN0IGhlYWRsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoMCxoZWFkaXRlbWNvdW50KVxuICAgIGNvbnN0IHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbaGVhZGxpc3QsdGFpbGxpc3RdXG5cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcnRhbHMgPSAoY2FjaGVIYW5kbGVyLCBkZWxldGVMaXN0KSA9PiB7XG5cbiAgICBjb25zb2xlLmxvZygnaW5zaWRlIGRlbGV0ZVBvcnRhbHMnLGRlbGV0ZUxpc3QpXG4gICAgZm9yIChsZXQgaXRlbSBvZiBkZWxldGVMaXN0KSB7XG4gICAgICAgIGNhY2hlSGFuZGxlci5kZWxldGVQb3J0YWwoaXRlbS5wcm9wcy5pbmRleClcbiAgICB9XG4gICAgaWYgKGRlbGV0ZUxpc3QubGVuZ3RoKSBjYWNoZUhhbmRsZXIucmVuZGVyUG9ydGFsTGlzdCgpXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PVsgYWNxdWlyZSBpdGVtIF09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IGFjcXVpcmVJdGVtID0gKHtcbiAgICBpbmRleCwgXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAvLyBjYWxsYmFja3MsIFxuICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuXG59KSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2VJRCA9IGluc3RhbmNlSWRDb3VudGVyUmVmLmN1cnJlbnQrK1xuXG4gICAgY29uc3QgeyBcbiAgICAgICAgXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdldEl0ZW0sXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgc2Nyb2xsZXJOYW1lLFxuICAgICAgICBzY3JvbGxlcklEIFxuXG4gICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNcblxuICAgIHJldHVybiA8Q2VsbFNoZWxsIFxuICAgICAgICBrZXkgPSB7aW5kZXh9IFxuICAgICAgICBvcmllbnRhdGlvbiA9IHsgb3JpZW50YXRpb24gfVxuICAgICAgICBjZWxsSGVpZ2h0ID0geyBjZWxsSGVpZ2h0IH1cbiAgICAgICAgY2VsbFdpZHRoID0geyBjZWxsV2lkdGggfVxuICAgICAgICBpbmRleCA9IHsgaW5kZXggfVxuICAgICAgICAvLyBjYWxsYmFja3MgPSB7Y2FsbGJhY2tzfVxuICAgICAgICBnZXRJdGVtID0ge2dldEl0ZW19XG4gICAgICAgIGxpc3RzaXplID0ge2xpc3RzaXplfVxuICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICBpbnN0YW5jZUlEID0ge2luc3RhbmNlSUR9XG4gICAgICAgIHNjcm9sbGVyTmFtZSA9IHsgc2Nyb2xsZXJOYW1lIH1cbiAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgLz5cblxufVxuIl0sIm5hbWVzIjpbImdldENvbnRlbnRMaXN0UmVxdWlyZW1lbnRzIiwiX2EiLCJyb3dMZW5ndGgiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwidGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IiwidGFyZ2V0QXhpc1BpeGVsT2Zmc2V0Iiwidmlld3BvcnRFbGVtZW50IiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImdhcCIsImxpc3RzaXplIiwiY3JhZGxlUm93Y291bnQiLCJydW53YXlSb3djb3VudCIsImxpc3RSb3djb3VudCIsInZpZXdwb3J0VmlzaWJsZVJvd2NvdW50Iiwib3JpZ3JlZmluZGV4IiwiTWF0aCIsIm1pbiIsImNyb3NzY291bnQiLCJ0YXJnZXRBeGlzUm93T2Zmc2V0IiwiY2VpbCIsIm1heEF4aXNSb3dPZmZzZXQiLCJ0YXJnZXRDcmFkbGVSb3dPZmZzZXQiLCJtYXgiLCJ0YXJnZXRDcmFkbGVFbmRSb3dPZmZzZXQiLCJsaXN0RW5kUm93T2Zmc2V0IiwiZGlmZiIsInRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4IiwibmV3Q3JhZGxlQ29udGVudENvdW50IiwiZW5kUm93UmVtYWluZGVyQ291bnQiLCJ0YXJnZXRTY3JvbGxibG9ja1BpeGVsT2Zmc2V0IiwiZXhwb3J0cyIsImdldFNoaWZ0SW5zdHJ1Y3Rpb24iLCJvcmllbnRhdGlvbiIsInRyaWdnZXJsaW5lRW50cmllcyIsImVudHJpZXMiLCJmaWx0ZXIiLCJ0cmlnZ2VybGluZW5hbWUiLCJlbnRyeSIsInRhcmdldCIsImRhdGFzZXQiLCJ0eXBlIiwicm9vdGJvdW5kcG9zIiwicm9vdEJvdW5kcyIsInkiLCJ4IiwiZW50cnlib3VuZHBvcyIsImJvdW5kaW5nQ2xpZW50UmVjdCIsImxlbmd0aCIsInJldHZhbCIsImNhbGNDb250ZW50U2hpZnQiLCJzaGlmdGluc3RydWN0aW9uIiwiY3JhZGxlQ29udGVudCIsImNyYWRsZUVsZW1lbnRzIiwic2Nyb2xsUG9zIiwiaXNTY3JvbGxpbmdWaWV3cG9ydEZvcndhcmQiLCJ0cmlnZ2VybGluZU9mZnNldCIsImF4aXNFbGVtZW50IiwiYXhpc1JlZiIsImN1cnJlbnQiLCJjcmFkbGVjb250ZW50bGlzdCIsInRhaWxjb250ZW50bGlzdCIsInZpZXdwb3J0Um93Y291bnQiLCJjcmFkbGVBeGlzT2Zmc2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsInZpZXdwb3J0QXhpc09mZnNldCIsInRyaWdnZXJBeGlzT2Zmc2V0IiwidHJpZ2dlclJvd1NoaWZ0IiwiZmxvb3IiLCJheGlzUmVmZXJlbmNlUm93c2hpZnQiLCJjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCIsInByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYiIsInByb3BzIiwiaW5kZXgiLCJwcmV2aW91c0NyYWRsZVJvd09mZnNldCIsInByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4IiwiX2MiLCJwcmV2aW91c0F4aXNSb3dPZmZzZXQiLCJuZXdDcmFkbGVSZWZlcmVuY2VSb3dPZmZzZXQiLCJuZXdBeGlzUmVmZXJlbmNlUm93T2Zmc2V0IiwibGlzdEVuZHJvd09mZnNldCIsInRhcmdldENyYWRsZVJlZmVyZW5jZVJvd09mZnNldCIsImhlYWRyb3dEaWZmIiwidGFyZ2V0Q3JhZGxlRW5kcm93T2Zmc2V0IiwidGFpbHJvd2RpZmYiLCJjb21wdXRlZE5leHRDcmFkbGVFbmRyb3dPZmZzZXQiLCJ0YXJnZXRjcmFkbGVFbmRyb3dvZmZzZXQiLCJuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCIsImNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld0F4aXNSZWZlcmVuY2VJbmRleCIsImF4aXNSZWZlcmVuY2VJdGVtU2hpZnQiLCJpbmNsdWRlc0xhc3RSb3ciLCJwYXJ0aWFsc3BhY2VzIiwiaXRlbXNTaG9ydGZhbGwiLCJjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCIsImxpc3RTdGFydENoYW5nZUNvdW50IiwibGlzdEVuZENoYW5nZUNvdW50IiwibmV3QXhpc1BpeGVsT2Zmc2V0IiwiZ2V0Q2VsbFNoZWxsQ29tcG9uZW50TGlzdCIsImNyYWRsZUNvbnRlbnRDb3VudCIsImNyYWRsZVJlZmVyZW5jZUluZGV4IiwiY29udGVudGxpc3QiLCJpbnN0YW5jZUlkQ291bnRlclJlZiIsImxvY2FsQ29udGVudGxpc3QiLCJsYXN0aW5kZXhvZmZzZXQiLCJoZWFkQ29udGVudGxpc3QiLCJ0YWlsQ29udGVudGxpc3QiLCJkZWxldGVkdGFpbGl0ZW1zIiwiZGVsZXRlZGhlYWRpdGVtcyIsIm5ld2luZGV4IiwicHVzaCIsImFjcXVpcmVJdGVtIiwic3BsaWNlIiwiZGVsZXRlZEl0ZW1zIiwiY29uY2F0IiwiY29tcG9uZW50TGlzdCIsImFsbG9jYXRlQ29udGVudExpc3QiLCJheGlzUmVmZXJlbmNlSW5kZXgiLCJvZmZzZXRpbmRleCIsImhlYWRpdGVtY291bnQiLCJoZWFkbGlzdCIsInNsaWNlIiwidGFpbGxpc3QiLCJkZWxldGVQb3J0YWxzIiwiY2FjaGVIYW5kbGVyIiwiZGVsZXRlTGlzdCIsImNvbnNvbGUiLCJsb2ciLCJfaSIsIml0ZW0iLCJkZWxldGVQb3J0YWwiLCJyZW5kZXJQb3J0YWxMaXN0IiwiaW5zdGFuY2VJRCIsImdldEl0ZW0iLCJwbGFjZWhvbGRlciIsInNjcm9sbGVyTmFtZSIsInNjcm9sbGVySUQiLCJyZWFjdF8xIiwiY2VsbHNoZWxsXzEiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n");

/***/ }),

/***/ "./src/cradle/contenthandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/contenthandler.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // contenthandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ \"./src/cradle/contentfunctions.tsx\");\n\nvar ContentHandler =\n/** @class */\nfunction () {\n  function ContentHandler(cradleParameters) {\n    var _this = this;\n\n    this.content = {\n      cradleModelComponents: null,\n      headModelComponents: null,\n      tailModelComponents: null,\n      // the following two only used in cradle for render\n      headDisplayComponents: [],\n      tailDisplayComponents: []\n    };\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    this.instanceIdMap = new Map(); // Two public methods - setCradleContent and updateCradleContent\n    // reset cradle, including allocation between head and tail parts of the cradle\n    // called only from cradle state handler\n    // ==========================[ SET CONTENT ]===========================\n    //initially (dosetup), after reposition (doreposition), or with finishresize, pivot, \n    // or user size param reconfigure or reload\n    // setCradleContent sets the scrollblock's scroll position, as well as config and content\n\n    this.setCradleContent = function (cradleState) {\n      // ------------------------------[ 1. initialize ]---------------------------\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var cradleHandlers = _this.cradleParameters.handlersRef.current;\n      var cacheHandler = cradleHandlers.cacheHandler,\n          scaffoldHandler = cradleHandlers.scaffoldHandler,\n          serviceHandler = cradleHandlers.serviceHandler,\n          interruptHandler = cradleHandlers.interruptHandler; // the triggerlines and cradle wings will be moved, so disconnect them from their observers.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.cradleIntersect.observer.disconnect();\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      var viewportElement = viewportInterruptProperties.elementref.current;\n      var requestedAxisReferenceIndex = cradlePositionData.targetAxisReferenceIndex;\n      var targetAxisPixelOffset = cradlePositionData.targetAxisPixelOffset;\n      var orientation = cradleInheritedProperties.orientation,\n          gap = cradleInheritedProperties.gap,\n          padding = cradleInheritedProperties.padding,\n          cellHeight = cradleInheritedProperties.cellHeight,\n          cellWidth = cradleInheritedProperties.cellWidth,\n          cache = cradleInheritedProperties.cache;\n\n      if (cradleState == 'doreposition' || cradleState == 'reconfigure') {\n        targetAxisPixelOffset = gap; // default\n      }\n\n      var workingContentList = [];\n      var cradleContent = _this.content; // ----------------------[ 2. get content requirements ]----------------------\n\n      var isVertical = orientation == 'vertical';\n      var rowLength = isVertical ? cellHeight + gap : cellWidth + gap;\n\n      var _a = (0, contentfunctions_1.getContentListRequirements)({\n        rowLength: rowLength,\n        targetAxisReferenceIndex: requestedAxisReferenceIndex,\n        targetAxisPixelOffset: targetAxisPixelOffset,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        viewportElement: viewportInterruptProperties.elementref.current\n      }),\n          targetCradleReferenceIndex = _a.targetCradleReferenceIndex,\n          targetAxisReferenceIndex = _a.targetAxisReferenceIndex,\n          targetAxisRowOffset = _a.targetAxisRowOffset,\n          cradleContentCount = _a.newCradleContentCount,\n          scrollblockPixelOffset = _a.targetScrollblockPixelOffset;\n\n      var scrollPosAdjustment;\n\n      if (targetAxisReferenceIndex == 0) {\n        scrollPosAdjustment = 0;\n      } else if (cradleState == 'doreposition') {\n        scrollPosAdjustment = padding; //+ gap\n      } else {\n        scrollPosAdjustment = padding;\n      }\n\n      var axisPixelOffset = targetAxisPixelOffset; // ----------------------[ 3. get and config content ]----------------------\n      // returns content constrained by cradleRowcount\n\n      var _b = (0, contentfunctions_1.getCellShellComponentList)({\n        cradleInheritedProperties: cradleInheritedProperties,\n        // cradleInternalProperties,\n        cradleContentCount: cradleContentCount,\n        cradleReferenceIndex: targetCradleReferenceIndex,\n        listStartChangeCount: 0,\n        listEndChangeCount: cradleContentCount,\n        workingContentList: workingContentList,\n        instanceIdCounterRef: _this.instanceIdCounterRef\n      }),\n          newcontentlist = _b[0],\n          deleteditems = _b[1];\n\n      if (deleteditems.length && cache == 'cradle') {\n        (0, contentfunctions_1.deletePortals)(cacheHandler, deleteditems);\n      }\n\n      var _c = (0, contentfunctions_1.allocateContentList)({\n        contentlist: newcontentlist,\n        axisReferenceIndex: targetAxisReferenceIndex\n      }),\n          headcontentlist = _c[0],\n          tailcontentlist = _c[1];\n\n      cradleContent.cradleModelComponents = newcontentlist;\n      cradleContent.headModelComponents = headcontentlist;\n      cradleContent.tailModelComponents = tailcontentlist;\n      cradlePositionData.targetAxisReferenceIndex = targetAxisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n\n      if (serviceHandler.serviceCalls.referenceIndexCallbackRef.current) {\n        var cstate = cradleState;\n        serviceHandler.serviceCalls.referenceIndexCallbackRef.current(cradlePositionData.targetAxisReferenceIndex, 'setCradleContent', cstate);\n      } //  ----------------------[ 4. set CSS ]-----------------------\n\n\n      cradlePositionData.blockScrollPos = scrollblockPixelOffset + scrollPosAdjustment;\n      viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n      var cradleElements = scaffoldHandler.elements; //cradleElementsRef.current\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (orientation == 'vertical') {\n        var top_1 = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.top = top_1 + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontentlist.length ? gap + 'px' : 0;\n      } else {\n        // orientation = 'horizontal'\n        axisElement.style.top = 'auto';\n        var left = targetAxisRowOffset * rowLength + padding;\n        axisElement.style.left = left + 'px';\n        headElement.style.paddingRight = headcontentlist.length ? gap + 'px' : 0;\n      } //  ----------------------[ 5. reset interrupts ]-----------------------\n\n\n      interruptHandler.axisTriggerlinesIntersect.connectElements();\n      interruptHandler.cradleIntersect.connectElements();\n      interruptHandler.signals.pauseTriggerlinesObserver = false; // interruptHandler.signals.pauseCradleIntersectionObserver = false\n    }; // =============================[ UPDATE through scroll ]===============================\n    // updateCradleContent does not touch the viewport element's scroll position for the scrollblock\n    // instead it reconfigures elements within the cradle\n\n\n    this.updateCradleContent = function (triggerlineEntries, source) {\n      // ----------------------[ 1. initialize ]-------------------------\n      var _a;\n\n      var _b;\n\n      if (source === void 0) {\n        source = 'notifications';\n      } // handler support\n\n\n      var _c = _this.cradleParameters.handlersRef.current,\n          cacheHandler = _c.cacheHandler,\n          scrollHandler = _c.scrollHandler,\n          scaffoldHandler = _c.scaffoldHandler,\n          stateHandler = _c.stateHandler,\n          interruptHandler = _c.interruptHandler; // scroll data\n\n      var scrollData = scrollHandler.scrollData;\n      var scrollPos = scrollData.currentupdate; // first abandon option/3; nothing to do\n\n      if (scrollPos < 0) {\n        // for Safari elastic bounce at top of scroll\n        return;\n      } // cradle scaffold and user cells\n\n\n      var cradleElements = scaffoldHandler.elements;\n      var cradleContent = _this.content;\n      var modelcontentlist = cradleContent.cradleModelComponents;\n      var oldCradleReferenceIndex = ((_b = modelcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0; // --------------------[ 2. get shift instruction ]-----------------------\n\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var orientation = cradleInheritedProperties.orientation,\n          cache = cradleInheritedProperties.cache; // -1 is move a row up to the head, +1 is move a row down to the tail, 0 is no shift\n\n      var shiftinstruction = (0, contentfunctions_1.getShiftInstruction)({\n        orientation: orientation,\n        triggerlineEntries: triggerlineEntries\n      }); // second abandon option/3; nothing to do\n\n      if (shiftinstruction == 0) {\n        return;\n      } // --------------------------------[ 3. Calculate shifts ]-------------------------------\n      // cradle properties\n      // const cradleInheritedProperties = this.cradleParameters.cradleInheritedPropertiesRef.current\n\n\n      var cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var viewportElement = _this.cradleParameters.viewportInterruptPropertiesRef.current.elementref.current;\n\n      var _d = (0, contentfunctions_1.calcContentShift)({\n        shiftinstruction: shiftinstruction,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        cradleContent: cradleContent,\n        cradleElements: cradleElements,\n        scrollPos: scrollPos\n      }),\n          newCradleReferenceIndex = _d.newCradleReferenceIndex,\n          cradleItemShift = _d.cradleReferenceItemShift,\n          axisReferenceIndex = _d.newAxisReferenceIndex,\n          axisItemShift = _d.axisReferenceItemShift,\n          axisPixelOffset = _d.newAxisPixelOffset,\n          cradleContentCount = _d.newCradleContentCount,\n          listStartChangeCount = _d.listStartChangeCount,\n          listEndChangeCount = _d.listEndChangeCount; // third abandon option/3; nothing to do\n\n\n      if (axisItemShift == 0 && cradleItemShift == 0) {\n        // TODO: is this possible?\n        return;\n      } // the triggerlines will be moved, so disconnect them from their observer.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx\n\n\n      interruptHandler.axisTriggerlinesIntersect.observer.disconnect();\n      interruptHandler.signals.pauseTriggerlinesObserver = true; // ----------------------------------[ 4. reconfigure cradle content ]--------------------------\n      // collect modified content\n\n      var updatedContentList,\n          deletedContentItems = [];\n\n      if (listStartChangeCount || listEndChangeCount) {\n        // if either is non-0 then modify content\n        _a = (0, contentfunctions_1.getCellShellComponentList)({\n          cradleInheritedProperties: cradleInheritedProperties,\n          // cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          workingContentList: modelcontentlist,\n          listStartChangeCount: listStartChangeCount,\n          listEndChangeCount: listEndChangeCount,\n          cradleReferenceIndex: oldCradleReferenceIndex,\n          instanceIdCounterRef: _this.instanceIdCounterRef\n        }), updatedContentList = _a[0], deletedContentItems = _a[1];\n      } else {\n        updatedContentList = modelcontentlist;\n      }\n\n      if (deletedContentItems.length && cache == 'cradle') {\n        (0, contentfunctions_1.deletePortals)(cacheHandler, deletedContentItems);\n      } // ----------------------------------[ 5. allocate cradle content ]--------------------------\n\n\n      var _e = (0, contentfunctions_1.allocateContentList)({\n        contentlist: updatedContentList,\n        axisReferenceIndex: axisReferenceIndex\n      }),\n          headcontent = _e[0],\n          tailcontent = _e[1];\n\n      cradleContent.cradleModelComponents = updatedContentList;\n      cradleContent.headModelComponents = headcontent;\n      cradleContent.tailModelComponents = tailcontent; // -------------------------------[ 6. set css changes ]-------------------------\n\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n\n      if (cradleInheritedProperties.orientation == 'vertical') {\n        var topPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = topPos + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.paddingBottom = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      } else {\n        // 'horizontal'\n        var leftPos = scrollPos + axisPixelOffset;\n        axisElement.style.top = 'auto';\n        axisElement.style.left = leftPos + 'px';\n        headElement.style.paddingRight = headcontent.length ? cradleInheritedProperties.gap + 'px' : 0;\n      }\n\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset; //  ----------------------[ 7. reset interrupts ]-----------------------\n      // trigger lines have been moved, so observer must be reset\n      // interruptHandler.axisTriggerlinesIntersect.connectElements()\n      // interruptHandler.signals.pauseTriggerlinesObserver = false\n\n      stateHandler.setCradleState('renderupdatedcontent');\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return ContentHandler;\n}();\n\nexports[\"default\"] = ContentHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiQ0FBQTtBQUNBOzs7Ozs7QUFFQTs7QUFVQTtBQUFBO0FBQUE7RUFFRyx3QkFBWUEsZ0JBQVosRUFBNEI7SUFBNUI7O0lBTU8sZUFBVTtNQUVkQyxxQkFBcUIsRUFBRSxJQUZUO01BR2RDLG1CQUFtQixFQUFFLElBSFA7TUFJZEMsbUJBQW1CLEVBQUUsSUFKUDtNQUtkO01BQ0FDLHFCQUFxQixFQUFFLEVBTlQ7TUFPZEMscUJBQXFCLEVBQUU7SUFQVCxDQUFWO0lBZUUsNEJBQXVCO01BQzVCQyxPQUFPLEVBQUM7SUFEb0IsQ0FBdkI7SUFHQSxxQkFBZ0IsSUFBSUMsR0FBSixFQUFoQixDQXhCbUIsQ0EwQjNCO0lBRUE7SUFDQTtJQUVBO0lBQ0M7SUFDQTtJQUNBOztJQUNNLHdCQUFtQixVQUFDQyxXQUFELEVBQVk7TUFFbEM7TUFFQSxJQUFNQywyQkFBMkIsR0FBR0MsS0FBSSxDQUFDVixnQkFBTCxDQUFzQlcsOEJBQXRCLENBQXFETCxPQUF6RjtNQUNBLElBQU1NLHlCQUF5QixHQUFHRixLQUFJLENBQUNWLGdCQUFMLENBQXNCYSw0QkFBdEIsQ0FBbURQLE9BQXJGO01BQ0EsSUFBTVEsd0JBQXdCLEdBQUdKLEtBQUksQ0FBQ1YsZ0JBQUwsQ0FBc0JlLDJCQUF0QixDQUFrRFQsT0FBbkY7TUFDQSxJQUFNVSxjQUFjLEdBQUdOLEtBQUksQ0FBQ1YsZ0JBQUwsQ0FBc0JpQixXQUF0QixDQUFrQ1gsT0FBekQ7TUFJSSxnQkFBWSxHQUtaVSxjQUFjLGFBTGQ7TUFBQSxJQUNBRSxlQUFlLEdBSWZGLGNBQWMsZ0JBTGQ7TUFBQSxJQUVBRyxjQUFjLEdBR2RILGNBQWMsZUFMZDtNQUFBLElBR0FJLGdCQUFnQixHQUVoQkosY0FBYyxpQkFMZCxDQVg4QixDQWtCbEM7TUFDQTs7TUFDQUksZ0JBQWdCLENBQUNDLHlCQUFqQixDQUEyQ0MsUUFBM0MsQ0FBb0RDLFVBQXBEO01BQ0FILGdCQUFn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bEIsR0FBd0IsTUFBeEI7UUFDQU4sV0FBVyxDQUFDSyxLQUFaLENBQWtCRSxJQUFsQixHQUF5QjRCLE9BQU8sR0FBRyxJQUFuQztRQUNBakMsV0FBVyxDQUFDRyxLQUFaLENBQWtCSSxZQUFsQixHQUNJdUIsV0FBVyxDQUFDN0MsTUFBWixHQUNJMUMseUJBQXlCLENBQUNtQixHQUExQixHQUFnQyxJQURwQyxHQUVJLENBSFI7TUFLSDs7TUFFTyxzQkFBa0IsR0FBS2IsZUFBZSxtQkFBdEM7TUFFUlUsa0JBQWtCLENBQUNDLHdCQUFuQixHQUE4QzRCLGtCQUE5QztNQUNBN0Isa0JBQWtCLENBQUNFLHFCQUFuQixHQUEyQ2lCLGVBQTNDLENBdktzRSxDQXlLdEU7TUFFQTtNQUNBO01BQ0E7O01BRUFvQyxZQUFZLENBQUNvQixjQUFiLENBQTRCLHNCQUE1QjtJQUVILENBakxNOztJQTlNTCxLQUFLdkcsZ0JBQUwsR0FBd0JBLGdCQUF4QjtFQUVGOztFQStYSjtBQUFDLENBcllEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY29udGVudGhhbmRsZXIudHN4P2E4OWEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudGhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IHsgXG4gICAgZ2V0Q2VsbFNoZWxsQ29tcG9uZW50TGlzdCwgXG4gICAgY2FsY0NvbnRlbnRTaGlmdCxcbiAgICBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyxcbiAgICBnZXRTaGlmdEluc3RydWN0aW9uLFxuICAgIGFsbG9jYXRlQ29udGVudExpc3QsXG4gICAgZGVsZXRlUG9ydGFscyxcblxufSBmcm9tICcuL2NvbnRlbnRmdW5jdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRlbnRIYW5kbGVyIHtcblxuICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgIH1cblxuICAgcHVibGljIGNvbnRlbnQgPSB7XG5cbiAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50czogbnVsbCxcbiAgICAgIGhlYWRNb2RlbENvbXBvbmVudHM6IG51bGwsXG4gICAgICB0YWlsTW9kZWxDb21wb25lbnRzOiBudWxsLFxuICAgICAgLy8gdGhlIGZvbGxvd2luZyB0d28gb25seSB1c2VkIGluIGNyYWRsZSBmb3IgcmVuZGVyXG4gICAgICBoZWFkRGlzcGxheUNvbXBvbmVudHM6IFtdLFxuICAgICAgdGFpbERpc3BsYXlDb21wb25lbnRzOiBbXSxcblxuICAgIH1cblxuICAgIC8vIHB1YmxpYyBpdGVtRWxlbWVudHMgPSBuZXcgTWFwKClcblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHJpdmF0ZSBpbnN0YW5jZUlkQ291bnRlclJlZiA9IHtcbiAgICAgICBjdXJyZW50OjBcbiAgICB9XG4gICAgcHJpdmF0ZSBpbnN0YW5jZUlkTWFwID0gbmV3IE1hcCgpXG5cbiAgICAvLyBUd28gcHVibGljIG1ldGhvZHMgLSBzZXRDcmFkbGVDb250ZW50IGFuZCB1cGRhdGVDcmFkbGVDb250ZW50XG5cbiAgICAvLyByZXNldCBjcmFkbGUsIGluY2x1ZGluZyBhbGxvY2F0aW9uIGJldHdlZW4gaGVhZCBhbmQgdGFpbCBwYXJ0cyBvZiB0aGUgY3JhZGxlXG4gICAgLy8gY2FsbGVkIG9ubHkgZnJvbSBjcmFkbGUgc3RhdGUgaGFuZGxlclxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFNFVCBDT05URU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgLy9pbml0aWFsbHkgKGRvc2V0dXApLCBhZnRlciByZXBvc2l0aW9uIChkb3JlcG9zaXRpb24pLCBvciB3aXRoIGZpbmlzaHJlc2l6ZSwgcGl2b3QsIFxuICAgICAvLyBvciB1c2VyIHNpemUgcGFyYW0gcmVjb25maWd1cmUgb3IgcmVsb2FkXG4gICAgIC8vIHNldENyYWRsZUNvbnRlbnQgc2V0cyB0aGUgc2Nyb2xsYmxvY2sncyBzY3JvbGwgcG9zaXRpb24sIGFzIHdlbGwgYXMgY29uZmlnIGFuZCBjb250ZW50XG4gICAgcHVibGljIHNldENyYWRsZUNvbnRlbnQgPSAoY3JhZGxlU3RhdGUpID0+IHsgXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUhhbmRsZXJzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7XG5cbiAgICAgICAgICAgIGNhY2hlSGFuZGxlcixcbiAgICAgICAgICAgIHNjYWZmb2xkSGFuZGxlcixcbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLFxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcblxuICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnNcblxuICAgICAgICAvLyB0aGUgdHJpZ2dlcmxpbmVzIGFuZCBjcmFkbGUgd2luZ3Mgd2lsbCBiZSBtb3ZlZCwgc28gZGlzY29ubmVjdCB0aGVtIGZyb20gdGhlaXIgb2JzZXJ2ZXJzLlxuICAgICAgICAvLyB0aGV5IGFyZSByZWNvbm5lY3RlZCB3aXRoICdyZW5kZXJ1cGRhdGVkY29udGVudCcgc3RhdGUgaW4gY3JhZGxlLnRzeFxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRyZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgbGV0IHRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXRcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICBnYXAsIFxuICAgICAgICAgICAgcGFkZGluZywgXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykgfHwgY3JhZGxlU3RhdGUgPT0gJ3JlY29uZmlndXJlJykgIHtcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gZ2FwIC8vIGRlZmF1bHRcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd29ya2luZ0NvbnRlbnRMaXN0ID0gW11cbiAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IHRoaXMuY29udGVudFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDIuIGdldCBjb250ZW50IHJlcXVpcmVtZW50cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJylcbiAgICAgICAgY29uc3Qgcm93TGVuZ3RoID0gXG4gICAgICAgICAgICBpc1ZlcnRpY2FsP1xuICAgICAgICAgICAgICAgIChjZWxsSGVpZ2h0ICsgZ2FwKTpcbiAgICAgICAgICAgICAgICAoY2VsbFdpZHRoICsgZ2FwKVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIHRhcmdldEF4aXNSb3dPZmZzZXQsXG4gICAgICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQ6Y3JhZGxlQ29udGVudENvdW50LCBcbiAgICAgICAgICAgIHRhcmdldFNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQ6c2Nyb2xsYmxvY2tQaXhlbE9mZnNldCxcbiAgICAgICAgfSA9IFxuICAgICAgICAgICAgZ2V0Q29udGVudExpc3RSZXF1aXJlbWVudHMoe1xuICAgICAgICAgICAgICAgIHJvd0xlbmd0aCxcbiAgICAgICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXg6cmVxdWVzdGVkQXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldCxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQ6dmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRyZWYuY3VycmVudCxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHNjcm9sbFBvc0FkanVzdG1lbnRcbiAgICAgICAgaWYgKHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9PSAwKSB7XG4gICAgICAgICAgICBzY3JvbGxQb3NBZGp1c3RtZW50ID0gMFxuICAgICAgICB9IGVsc2UgaWYgKGNyYWRsZVN0YXRlID09ICdkb3JlcG9zaXRpb24nKSB7XG4gICAgICAgICAgICBzY3JvbGxQb3NBZGp1c3RtZW50ID0gcGFkZGluZyAvLysgZ2FwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY3JvbGxQb3NBZGp1c3RtZW50ID0gcGFkZGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXhpc1BpeGVsT2Zmc2V0ID0gdGFyZ2V0QXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMy4gZ2V0IGFuZCBjb25maWcgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBcbiAgICAgICAgLy8gcmV0dXJucyBjb250ZW50IGNvbnN0cmFpbmVkIGJ5IGNyYWRsZVJvd2NvdW50XG4gICAgICAgIGNvbnN0IFtuZXdjb250ZW50bGlzdCxkZWxldGVkaXRlbXNdID0gZ2V0Q2VsbFNoZWxsQ29tcG9uZW50TGlzdCh7XG5cbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAvLyBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDp0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50OjAsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQ6Y3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0LFxuICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoZGVsZXRlZGl0ZW1zLmxlbmd0aCAmJiAoY2FjaGUgPT0gJ2NyYWRsZScpKSB7XG4gICAgICAgICAgICBkZWxldGVQb3J0YWxzKGNhY2hlSGFuZGxlciwgZGVsZXRlZGl0ZW1zKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgW2hlYWRjb250ZW50bGlzdCwgdGFpbGNvbnRlbnRsaXN0XSA9IGFsbG9jYXRlQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjb250ZW50bGlzdDpuZXdjb250ZW50bGlzdCxcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleDp0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMgPSBuZXdjb250ZW50bGlzdFxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBoZWFkY29udGVudGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gdGFpbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gYXhpc1BpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKHNlcnZpY2VIYW5kbGVyLnNlcnZpY2VDYWxscy5yZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgbGV0IGNzdGF0ZSA9IGNyYWRsZVN0YXRlXG5cbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLnNlcnZpY2VDYWxscy5yZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQoXG5cbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LCdzZXRDcmFkbGVDb250ZW50JywgY3N0YXRlKVxuICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA0LiBzZXQgQ1NTIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQgKyBzY3JvbGxQb3NBZGp1c3RtZW50XG5cbiAgICAgICAgdmlld3BvcnRFbGVtZW50W2NyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9XG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3NcblxuICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHNjYWZmb2xkSGFuZGxlci5lbGVtZW50cyAvL2NyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBjb25zdCB0b3AgPSAodGFyZ2V0QXhpc1Jvd09mZnNldCAqIHJvd0xlbmd0aCkgKyBwYWRkaW5nXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIGhlYWRFbGVtZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudGxpc3QubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBnYXAgKyAncHgnOlxuICAgICAgICAgICAgICAgICAgICAwXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gb3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gKHRhcmdldEF4aXNSb3dPZmZzZXQgKiByb3dMZW5ndGgpICsgcGFkZGluZ1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUubGVmdCA9IFxuICAgICAgICAgICAgICAgIGxlZnQgKyAncHgnXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudGxpc3QubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBnYXAgKyAncHgnOlxuICAgICAgICAgICAgICAgICAgICAwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiByZXNldCBpbnRlcnJ1cHRzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG4gICAgICAgIC8vIGludGVycnVwdEhhbmRsZXIuc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gZmFsc2VcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09WyBVUERBVEUgdGhyb3VnaCBzY3JvbGwgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHVwZGF0ZUNyYWRsZUNvbnRlbnQgZG9lcyBub3QgdG91Y2ggdGhlIHZpZXdwb3J0IGVsZW1lbnQncyBzY3JvbGwgcG9zaXRpb24gZm9yIHRoZSBzY3JvbGxibG9ja1xuICAgIC8vIGluc3RlYWQgaXQgcmVjb25maWd1cmVzIGVsZW1lbnRzIHdpdGhpbiB0aGUgY3JhZGxlXG4gICAgcHVibGljIHVwZGF0ZUNyYWRsZUNvbnRlbnQgPSAodHJpZ2dlcmxpbmVFbnRyaWVzLCBzb3VyY2UgPSAnbm90aWZpY2F0aW9ucycpID0+IHtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gaGFuZGxlciBzdXBwb3J0XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNhY2hlSGFuZGxlciwgXG4gICAgICAgICAgICBzY3JvbGxIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjYWZmb2xkSGFuZGxlciwgXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIsIFxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgLy8gc2Nyb2xsIGRhdGFcbiAgICAgICAgY29uc3Qgc2Nyb2xsRGF0YSA9IHNjcm9sbEhhbmRsZXIuc2Nyb2xsRGF0YSBcblxuICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGVcblxuICAgICAgICAvLyBmaXJzdCBhYmFuZG9uIG9wdGlvbi8zOyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICggc2Nyb2xsUG9zIDwgMCkgeyAvLyBmb3IgU2FmYXJpIGVsYXN0aWMgYm91bmNlIGF0IHRvcCBvZiBzY3JvbGxcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyYWRsZSBzY2FmZm9sZCBhbmQgdXNlciBjZWxsc1xuICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHNjYWZmb2xkSGFuZGxlci5lbGVtZW50c1xuICAgICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gdGhpcy5jb250ZW50XG4gICAgICAgIGNvbnN0IG1vZGVsY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50c1xuICAgICAgICBjb25zdCBvbGRDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChtb2RlbGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCB8fCAwKVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBnZXQgc2hpZnQgaW5zdHJ1Y3Rpb24gXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGNhY2hlLFxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgICAgIC8vIC0xIGlzIG1vdmUgYSByb3cgdXAgdG8gdGhlIGhlYWQsICsxIGlzIG1vdmUgYSByb3cgZG93biB0byB0aGUgdGFpbCwgMCBpcyBubyBzaGlmdFxuICAgICAgICBjb25zdCBzaGlmdGluc3RydWN0aW9uID0gZ2V0U2hpZnRJbnN0cnVjdGlvbih7XG4gICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgIHRyaWdnZXJsaW5lRW50cmllcyxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzZWNvbmQgYWJhbmRvbiBvcHRpb24vMzsgbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAwKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDMuIENhbGN1bGF0ZSBzaGlmdHMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjcmFkbGUgcHJvcGVydGllc1xuICAgICAgICAvLyBjb25zdCBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRyZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQ6Y3JhZGxlSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNSZWZlcmVuY2VJbmRleDpheGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdDpheGlzSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNQaXhlbE9mZnNldDpheGlzUGl4ZWxPZmZzZXQsIFxuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50OmNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50LFxuICAgICAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50LFxuXG4gICAgICAgIH0gPSBjYWxjQ29udGVudFNoaWZ0KHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMsXG4gICAgICAgICAgICBzY3JvbGxQb3MsXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyB0aGlyZCBhYmFuZG9uIG9wdGlvbi8zOyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICgoYXhpc0l0ZW1TaGlmdCA9PSAwICYmIGNyYWRsZUl0ZW1TaGlmdCA9PSAwKSkgeyAvLyBUT0RPOiBpcyB0aGlzIHBvc3NpYmxlP1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIHRyaWdnZXJsaW5lcyB3aWxsIGJlIG1vdmVkLCBzbyBkaXNjb25uZWN0IHRoZW0gZnJvbSB0aGVpciBvYnNlcnZlci5cbiAgICAgICAgLy8gdGhleSBhcmUgcmVjb25uZWN0ZWQgd2l0aCAncmVuZGVydXBkYXRlZGNvbnRlbnQnIHN0YXRlIGluIGNyYWRsZS50c3hcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0Lm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA0LiByZWNvbmZpZ3VyZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjb2xsZWN0IG1vZGlmaWVkIGNvbnRlbnRcbiAgICAgICAgbGV0IHVwZGF0ZWRDb250ZW50TGlzdCwgZGVsZXRlZENvbnRlbnRJdGVtcyA9IFtdXG5cbiAgICAgICAgaWYgKGxpc3RTdGFydENoYW5nZUNvdW50IHx8IGxpc3RFbmRDaGFuZ2VDb3VudCkgeyAvLyBpZiBlaXRoZXIgaXMgbm9uLTAgdGhlbiBtb2RpZnkgY29udGVudFxuXG4gICAgICAgICAgICBbdXBkYXRlZENvbnRlbnRMaXN0LGRlbGV0ZWRDb250ZW50SXRlbXNdID0gZ2V0Q2VsbFNoZWxsQ29tcG9uZW50TGlzdCh7XG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAvLyBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgICAgIHdvcmtpbmdDb250ZW50TGlzdDptb2RlbGNvbnRlbnRsaXN0LFxuICAgICAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50LFxuICAgICAgICAgICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCxcbiAgICAgICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDpvbGRDcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZjp0aGlzLmluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB1cGRhdGVkQ29udGVudExpc3QgPSBtb2RlbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWxldGVkQ29udGVudEl0ZW1zLmxlbmd0aCAmJiAoY2FjaGUgPT0gJ2NyYWRsZScpKSB7XG5cbiAgICAgICAgICAgIGRlbGV0ZVBvcnRhbHMoY2FjaGVIYW5kbGVyLCBkZWxldGVkQ29udGVudEl0ZW1zKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiBhbGxvY2F0ZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBbaGVhZGNvbnRlbnQsIHRhaWxjb250ZW50XSA9IGFsbG9jYXRlQ29udGVudExpc3QoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGVudGxpc3Q6dXBkYXRlZENvbnRlbnRMaXN0LFxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzID0gdXBkYXRlZENvbnRlbnRMaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IGhlYWRjb250ZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IHRhaWxjb250ZW50XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNi4gc2V0IGNzcyBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvcFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSB0b3BQb3MgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nQm90dG9tID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgY29uc3QgbGVmdFBvcyA9IHNjcm9sbFBvcyArIGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSAnYXV0bydcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0UG9zICsgJ3B4J1xuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLmdhcCArICdweCc6XG4gICAgICAgICAgICAgICAgICAgIDBcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgICAgIC8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA3LiByZXNldCBpbnRlcnJ1cHRzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIHRyaWdnZXIgbGluZXMgaGF2ZSBiZWVuIG1vdmVkLCBzbyBvYnNlcnZlciBtdXN0IGJlIHJlc2V0XG4gICAgICAgIC8vIGludGVycnVwdEhhbmRsZXIuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuICAgICAgICAvLyBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IGZhbHNlXG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdyZW5kZXJ1cGRhdGVkY29udGVudCcpXG5cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsImNyYWRsZU1vZGVsQ29tcG9uZW50cyIsImhlYWRNb2RlbENvbXBvbmVudHMiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwiaGVhZERpc3BsYXlDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwiY3VycmVudCIsIk1hcCIsImNyYWRsZVN0YXRlIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIiwiX3RoaXMiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImNyYWRsZUhhbmRsZXJzIiwiaGFuZGxlcnNSZWYiLCJzY2FmZm9sZEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsImludGVycnVwdEhhbmRsZXIiLCJheGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0Iiwib2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwiY3JhZGxlSW50ZXJzZWN0Iiwidmlld3BvcnRFbGVtZW50IiwiZWxlbWVudHJlZiIsInJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCIsImNyYWRsZVBvc2l0aW9uRGF0YSIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwiY2FjaGUiLCJ3b3JraW5nQ29udGVudExpc3QiLCJjcmFkbGVDb250ZW50IiwiY29udGVudCIsImlzVmVydGljYWwiLCJvcmllbnRhdGlvbiIsInJvd0xlbmd0aCIsInRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4IiwidGFyZ2V0QXhpc1Jvd09mZnNldCIsImNyYWRsZUNvbnRlbnRDb3VudCIsInNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQiLCJzY3JvbGxQb3NBZGp1c3RtZW50IiwiYXhpc1BpeGVsT2Zmc2V0IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJsaXN0U3RhcnRDaGFuZ2VDb3VudCIsImxpc3RFbmRDaGFuZ2VDb3VudCIsImluc3RhbmNlSWRDb3VudGVyUmVmIiwibmV3Y29udGVudGxpc3QiLCJkZWxldGVkaXRlbXMiLCJsZW5ndGgiLCJjYWNoZUhhbmRsZXIiLCJjb250ZW50bGlzdCIsImF4aXNSZWZlcmVuY2VJbmRleCIsImhlYWRjb250ZW50bGlzdCIsInRhaWxjb250ZW50bGlzdCIsInNlcnZpY2VDYWxscyIsInJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYiLCJjc3RhdGUiLCJibG9ja1Njcm9sbFBvcyIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJjcmFkbGVFbGVtZW50cyIsImVsZW1lbnRzIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiaGVhZEVsZW1lbnQiLCJoZWFkUmVmIiwidG9wXzEiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJwYWRkaW5nQm90dG9tIiwicGFkZGluZ1JpZ2h0IiwiY29ubmVjdEVsZW1lbnRzIiwic2lnbmFscyIsInBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIiLCJ0cmlnZ2VybGluZUVudHJpZXMiLCJzb3VyY2UiLCJzY3JvbGxIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwic2Nyb2xsRGF0YSIsInNjcm9sbFBvcyIsImN1cnJlbnR1cGRhdGUiLCJtb2RlbGNvbnRlbnRsaXN0Iiwib2xkQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYiIsInByb3BzIiwiaW5kZXgiLCJzaGlmdGluc3RydWN0aW9uIiwibmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJjcmFkbGVJdGVtU2hpZnQiLCJheGlzSXRlbVNoaWZ0IiwidXBkYXRlZENvbnRlbnRMaXN0IiwiZGVsZXRlZENvbnRlbnRJdGVtcyIsIl9hIiwiaGVhZGNvbnRlbnQiLCJ0YWlsY29udGVudCIsInRvcFBvcyIsImxlZnRQb3MiLCJzZXRDcmFkbGVTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/contenthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/interrupthandler.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/interrupthandler.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("// interruptshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    TODO: trigger reposition if triggerline entries come back with isIntersecting the same for both\n*/\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver;\n\nvar InterruptHandler =\n/** @class */\nfunction () {\n  function InterruptHandler(cradleParameters) {\n    var _this = this;\n\n    this.isTailCradleInView = false;\n    this.isHeadCradleInView = false; // TODO: stub\n\n    this.cradleresizeobservercallback = function (entries) {\n      if (_this.signals.pauseCradleResizeObserver) return;\n    };\n\n    this.axisTriggerlinesObserverCallback = function (entries) {\n      if (_this.signals.pauseTriggerlinesObserver) {\n        return;\n      }\n\n      var testrootbounds = entries[0].rootBounds;\n\n      if (testrootbounds.width == 0 && testrootbounds.height == 0) {\n        // reparenting\n        return;\n      }\n\n      var _a = _this.cradleParameters.handlersRef.current,\n          contentHandler = _a.contentHandler,\n          stateHandler = _a.stateHandler,\n          scrollHandler = _a.scrollHandler;\n\n      if (stateHandler.isMountedRef.current) {\n        var scrollData = scrollHandler.scrollData;\n\n        if (scrollData.start != scrollData.current || scrollData.current != scrollData.previous) {\n          scrollData.previousupdate = scrollData.currentupdate;\n          scrollData.currentupdate = scrollData.current;\n          contentHandler.updateCradleContent(entries, 'triggerlinesObserver');\n        }\n      }\n    };\n\n    this.cradleIntersectionObserverCallback = function (entries) {\n      var signals = _this.signals;\n      var _a = _this.cradleParameters.handlersRef.current,\n          stateHandler = _a.stateHandler,\n          contentHandler = _a.contentHandler;\n\n      if (signals.pauseCradleIntersectionObserver) {\n        return;\n      }\n\n      for (var i = 0; i < entries.length; i++) {\n        var entry = entries[i];\n\n        if (entry.target.dataset.type == 'head') {\n          _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        } else {\n          _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        }\n      }\n\n      _this.signals.repositioningRequired = !_this.isHeadCradleInView && !_this.isTailCradleInView;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n\n      if (_this.signals.repositioningRequired) // start reposition if no other interrupts are underway\n        {\n          var cradleState = stateHandler.cradleStateRef.current;\n\n          if (!viewportInterruptProperties.isResizing && // !viewportInterruptProperties.portal?.isReparenting &&\n          !(cradleState == 'repositioningRender') && !(cradleState == 'repositioningContinuation') && !(cradleState == 'renderupdatedcontent') && // TODO: *TEST*\n          !(cradleState == 'finishupdatedcontent') && !(cradleState == 'finishresize') && !(cradleState == 'doreposition') && !(cradleState == 'pivot')) {\n            var element = viewportInterruptProperties.elementref.current;\n\n            if (!element) {\n              console.log('SYSTEM: viewport element not set in cradleIntersectionObserverCallback', _this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID, viewportInterruptProperties);\n              return;\n            } // TODO this is a duplicate setting procedure with viewport.tsx\n\n\n            var rect = element.getBoundingClientRect();\n            var top_1 = rect.top,\n                right = rect.right,\n                bottom = rect.bottom,\n                left = rect.left;\n            var width = right - left,\n                height = bottom - top_1;\n            viewportInterruptProperties.viewportDimensions = {\n              top: top_1,\n              right: right,\n              bottom: bottom,\n              left: left,\n              width: width,\n              height: height\n            }; // update for scrolltracker\n\n            stateHandler.setCradleState('startreposition');\n          }\n        }\n    }; // for adjusting to content re-sizing\n\n\n    this.cradleResize = {\n      observer: null,\n      callback: this.cradleresizeobservercallback,\n      connectElements: function connectElements() {\n        var observer = _this.cradleResize.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headRef.current);\n        observer.observe(cradleElements.tailRef.current);\n      },\n      createObserver: function createObserver() {\n        _this.cradleResize.observer = new ResizeObserver(_this.cradleResize.callback);\n        return _this.cradleResize.observer;\n      }\n    };\n    this.cradleIntersect = {\n      observer: null,\n      callback: this.cradleIntersectionObserverCallback,\n      connectElements: function connectElements() {\n        var observer = _this.cradleIntersect.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headRef.current);\n        observer.observe(cradleElements.tailRef.current);\n      },\n      createObserver: function createObserver() {\n        var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n        _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n          root: viewportInterruptProperties.elementref.current,\n          threshold: 0\n        });\n        return _this.cradleIntersect.observer;\n      }\n    };\n    this.axisTriggerlinesIntersect = {\n      observer: null,\n      callback: this.axisTriggerlinesObserverCallback,\n      connectElements: function connectElements() {\n        var observer = _this.axisTriggerlinesIntersect.observer;\n        var cradleElements = _this.cradleParameters.handlersRef.current.scaffoldHandler.elements;\n        observer.observe(cradleElements.headTriggerlineRef.current);\n        observer.observe(cradleElements.tailTriggerlineRef.current);\n      },\n      createObserver: function createObserver() {\n        var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n        _this.axisTriggerlinesIntersect.observer = new IntersectionObserver(_this.axisTriggerlinesIntersect.callback, {\n          root: viewportInterruptProperties.elementref.current,\n          threshold: 0\n        });\n        return _this.axisTriggerlinesIntersect.observer;\n      }\n    };\n    this.signals = {\n      repositioningRequired: false,\n      pauseTriggerlinesObserver: false,\n      pauseCradleIntersectionObserver: false,\n      pauseCradleResizeObserver: false,\n      pauseScrollingEffects: false,\n      pauseViewportResizing: false\n    };\n    this.cradleParameters = cradleParameters;\n  }\n\n  return InterruptHandler;\n}();\n\nexports[\"default\"] = InterruptHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEMsQ0FBMENnRCxlQUExQyxDQUEwREMsUUFBakY7UUFDQVAsUUFBUSxDQUFDUSxPQUFULENBQWlCSCxjQUFjLENBQUNjLGtCQUFmLENBQWtDN0QsT0FBbkQ7UUFDQTBDLFFBQVEsQ0FBQ1EsT0FBVCxDQUFpQkgsY0FBYyxDQUFDZSxrQkFBZixDQUFrQzlELE9BQW5EO01BQ0gsQ0FSNkI7TUFTOUJxRCxjQUFjLEVBQUM7UUFDWCxJQUFJL0IsMkJBQTJCLEdBQUcvQixLQUFJLENBQUNGLGdCQUFMLENBQXNCa0MsOEJBQXRCLENBQXFEdkIsT0FBdkY7UUFDQVQsS0FBSSxDQUFDcUUseUJBQUwsQ0FBK0JsQixRQUEvQixHQUEwQyxJQUFJYyxvQkFBSixDQUN0Q2pFLEtBQUksQ0FBQ3FFLHlCQUFMLENBQStCakIsUUFETyxFQUV0QztVQUFDYyxJQUFJLEVBQUNuQywyQkFBMkIsQ0FBQ00sVUFBNUIsQ0FBdUM1QixPQUE3QztVQUFzRDBELFNBQVMsRUFBQztRQUFoRSxDQUZzQyxDQUExQztRQUlBLE9BQU9uRSxLQUFJLENBQUNxRSx5QkFBTCxDQUErQmxCLFFBQXRDO01BQ0g7SUFoQjZCLENBQTVCO0lBbUJDLGVBQVU7TUFDYnJCLHFCQUFxQixFQUFFLEtBRFY7TUFFYjNCLHlCQUF5QixFQUFFLEtBRmQ7TUFHYmlCLCtCQUErQixFQUFDLEtBSG5CO01BSWJsQix5QkFBeUIsRUFBRSxLQUpkO01BS2JzRSxxQkFBcUIsRUFBRSxLQUxWO01BTWJDLHFCQUFxQixFQUFFO0lBTlYsQ0FBVjtJQTNLSixLQUFLM0UsZ0JBQUwsR0FBd0JBLGdCQUF4QjtFQUVGOztFQWtMTDtBQUFDLENBeExEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvaW50ZXJydXB0aGFuZGxlci50c3g/YTk2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbnRlcnJ1cHRzaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4ndXNlIHN0cmljdCdcblxuLypcbiAgICBUT0RPOiB0cmlnZ2VyIHJlcG9zaXRpb24gaWYgdHJpZ2dlcmxpbmUgZW50cmllcyBjb21lIGJhY2sgd2l0aCBpc0ludGVyc2VjdGluZyB0aGUgc2FtZSBmb3IgYm90aFxuKi9cblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXIgYXMgUmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5cbmNvbnN0IFJlc2l6ZU9ic2VydmVyID0gd2luZG93WydSZXNpemVPYnNlcnZlciddIHx8IFJlc2l6ZU9ic2VydmVyUG9seWZpbGxcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJydXB0SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHByaXZhdGUgaXNUYWlsQ3JhZGxlSW5WaWV3ID0gZmFsc2VcbiAgICBwcml2YXRlIGlzSGVhZENyYWRsZUluVmlldyA9IGZhbHNlXG5cbiAgICAvLyBUT0RPOiBzdHViXG4gICAgcHJpdmF0ZSBjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgIGlmICh0aGlzLnNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcikgcmV0dXJuXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIpIHsgXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXN0cm9vdGJvdW5kcyA9IGVudHJpZXNbMF0ucm9vdEJvdW5kc1xuICAgICAgICBpZiAoKHRlc3Ryb290Ym91bmRzLndpZHRoID09IDApICYmICh0ZXN0cm9vdGJvdW5kcy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLFxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLFxuICAgICAgICAgICAgc2Nyb2xsSGFuZGxlclxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbERhdGEgfSA9IHNjcm9sbEhhbmRsZXJcbiAgICAgICAgICAgIGlmICgoc2Nyb2xsRGF0YS5zdGFydCAhPSBzY3JvbGxEYXRhLmN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgKHNjcm9sbERhdGEuY3VycmVudCAhPSBzY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGF0YS5wcmV2aW91c3VwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZVxuICAgICAgICAgICAgICAgIHNjcm9sbERhdGEuY3VycmVudHVwZGF0ZSA9IHNjcm9sbERhdGEuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIudXBkYXRlQ3JhZGxlQ29udGVudChlbnRyaWVzLCd0cmlnZ2VybGluZXNPYnNlcnZlcicpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayA9IChlbnRyaWVzKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IHRoaXMuc2lnbmFsc1xuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciwgY29udGVudEhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IGVudHJpZXNbaV1cbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC50eXBlID09ICdoZWFkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gXG4gICAgICAgICAgICAgICAgICAgIChlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVGFpbENyYWRsZUluVmlldyA9IFxuICAgICAgICAgICAgICAgICAgICAoZW50cnkuaXNJbnRlcnNlY3RpbmcgIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgKChlbnRyeS5yb290Qm91bmRzLndpZHRoID09IDApICYmIChlbnRyeS5yb290Qm91bmRzLmhlaWdodCA9PSAwKSkgLy8gcmVwYXJlbnRpbmdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gKCF0aGlzLmlzSGVhZENyYWRsZUluVmlldyAmJiAhdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcpXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKHRoaXMuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQpIC8vIHN0YXJ0IHJlcG9zaXRpb24gaWYgbm8gb3RoZXIgaW50ZXJydXB0cyBhcmUgdW5kZXJ3YXlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY3JhZGxlU3RhdGUgPSBzdGF0ZUhhbmRsZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5pc1Jlc2l6aW5nICYmXG4gICAgICAgICAgICAgICAgLy8gIXZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5wb3J0YWw/LmlzUmVwYXJlbnRpbmcgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nUmVuZGVyJykgJiYgXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncmVuZGVydXBkYXRlZGNvbnRlbnQnKSAmJiAvLyBUT0RPOiAqVEVTVCpcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdmaW5pc2h1cGRhdGVkY29udGVudCcpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAnZmluaXNocmVzaXplJykgJiZcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdkb3JlcG9zaXRpb24nKSAmJiBcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdwaXZvdCcpXG4gICAgICAgICAgICAgICAgKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRyZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1lTVEVNOiB2aWV3cG9ydCBlbGVtZW50IG5vdCBzZXQgaW4gY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LnNjcm9sbGVySUQsdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGlzIGEgZHVwbGljYXRlIHNldHRpbmcgcHJvY2VkdXJlIHdpdGggdmlld3BvcnQudHN4XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgICAgICBjb25zdCB7dG9wLCByaWdodCwgYm90dG9tLCBsZWZ0fSA9IHJlY3RcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdCwgaGVpZ2h0ID0gYm90dG9tIC0gdG9wXG4gICAgICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLnZpZXdwb3J0RGltZW5zaW9ucyA9IHt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIHdpZHRoLCBoZWlnaHR9IC8vIHVwZGF0ZSBmb3Igc2Nyb2xsdHJhY2tlclxuXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdzdGFydHJlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgLy8gZm9yIGFkanVzdGluZyB0byBjb250ZW50IHJlLXNpemluZ1xuICAgcHVibGljIGNyYWRsZVJlc2l6ZSA9IHtcbiAgICAgIG9ic2VydmVyOm51bGwsXG4gICAgICBjYWxsYmFjazp0aGlzLmNyYWRsZXJlc2l6ZW9ic2VydmVyY2FsbGJhY2ssXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMuY3JhZGxlUmVzaXplLm9ic2VydmVyXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LnNjYWZmb2xkSGFuZGxlci5lbGVtZW50c1xuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRhaWxSZWYuY3VycmVudClcbiAgICAgICAgfSxcbiAgICAgIGNyZWF0ZU9ic2VydmVyOigpID0+IHtcblxuICAgICAgICB0aGlzLmNyYWRsZVJlc2l6ZS5vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aGlzLmNyYWRsZVJlc2l6ZS5jYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlUmVzaXplLm9ic2VydmVyXG5cbiAgICAgIH1cbiAgIH1cblxuICAgcHVibGljIGNyYWRsZUludGVyc2VjdCA9IHsgICAgXG4gICAgICAgIG9ic2VydmVyOm51bGwsICAgIFxuICAgICAgICBjYWxsYmFjazp0aGlzLmNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2ssXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LnNjYWZmb2xkSGFuZGxlci5lbGVtZW50c1xuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRhaWxSZWYuY3VycmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3QuY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAge3Jvb3Q6dmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRyZWYuY3VycmVudCwgdGhyZXNob2xkOjB9XG4gICAgICAgICAgICApICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgIHB1YmxpYyBheGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0ID0ge1xuICAgICAgICBvYnNlcnZlcjpudWxsLFxuICAgICAgICBjYWxsYmFjazp0aGlzLmF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjb25uZWN0RWxlbWVudHM6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRUcmlnZ2VybGluZVJlZi5jdXJyZW50KVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsVHJpZ2dlcmxpbmVSZWYuY3VycmVudClcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgdGhpcy5heGlzVHJpZ2dlcmxpbmVzSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMuYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdC5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICB7cm9vdDp2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50LCB0aHJlc2hvbGQ6MH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF4aXNUcmlnZ2VybGluZXNJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzaWduYWxzID0ge1xuICAgICAgICByZXBvc2l0aW9uaW5nUmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICBwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyOiBmYWxzZSwgXG4gICAgICAgIHBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6ZmFsc2UsXG4gICAgICAgIHBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXI6IGZhbHNlLFxuICAgICAgICBwYXVzZVNjcm9sbGluZ0VmZmVjdHM6IGZhbHNlLFxuICAgICAgICBwYXVzZVZpZXdwb3J0UmVzaXppbmc6IGZhbHNlLFxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbIlJlc2l6ZU9ic2VydmVyIiwid2luZG93IiwicmVzaXplX29ic2VydmVyXzEiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiZW50cmllcyIsIl90aGlzIiwic2lnbmFscyIsInBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwidGVzdHJvb3Rib3VuZHMiLCJyb290Qm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJoYW5kbGVyc1JlZiIsImN1cnJlbnQiLCJjb250ZW50SGFuZGxlciIsInN0YXRlSGFuZGxlciIsInNjcm9sbEhhbmRsZXIiLCJpc01vdW50ZWRSZWYiLCJzY3JvbGxEYXRhIiwic3RhcnQiLCJwcmV2aW91cyIsInByZXZpb3VzdXBkYXRlIiwiY3VycmVudHVwZGF0ZSIsInVwZGF0ZUNyYWRsZUNvbnRlbnQiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwiaSIsImxlbmd0aCIsImVudHJ5IiwidGFyZ2V0IiwiZGF0YXNldCIsInR5cGUiLCJpc0hlYWRDcmFkbGVJblZpZXciLCJpc0ludGVyc2VjdGluZyIsImlzVGFpbENyYWRsZUluVmlldyIsInJlcG9zaXRpb25pbmdSZXF1aXJlZCIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiIsImNyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJpc1Jlc2l6aW5nIiwiZWxlbWVudCIsImVsZW1lbnRyZWYiLCJjb25zb2xlIiwibG9nIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsInNjcm9sbGVySUQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwidG9wXzEiLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3AiLCJzZXRDcmFkbGVTdGF0ZSIsIm9ic2VydmVyIiwiY2FsbGJhY2siLCJjcmFkbGVyZXNpemVvYnNlcnZlcmNhbGxiYWNrIiwiY29ubmVjdEVsZW1lbnRzIiwiY3JhZGxlUmVzaXplIiwiY3JhZGxlRWxlbWVudHMiLCJzY2FmZm9sZEhhbmRsZXIiLCJlbGVtZW50cyIsIm9ic2VydmUiLCJoZWFkUmVmIiwidGFpbFJlZiIsImNyZWF0ZU9ic2VydmVyIiwiY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayIsImNyYWRsZUludGVyc2VjdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInRocmVzaG9sZCIsImF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrIiwiYXhpc1RyaWdnZXJsaW5lc0ludGVyc2VjdCIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsInBhdXNlVmlld3BvcnRSZXNpemluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/interrupthandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scaffoldhandler.tsx":
/*!****************************************!*\
  !*** ./src/cradle/scaffoldhandler.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // cradlehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ScaffoldHandler =\n/** @class */\nfunction () {\n  function ScaffoldHandler(cradleParameters) {\n    // cradlePositionData controls the relative positions of the scaffold elements\n    this.cradlePositionData = {\n      /*\n          \"block\" = cradleblock, which is the element that is scrolled\n               blockScrollPos is set by scrollHandler during and after scrolling,\n          and by setCradleContent in contentHandler, which repositions the cradle.\n               blockScrollPos is used by\n              - cradle initialization in response to reparenting interrupt\n              - setCradleContent\n           */\n      blockScrollPos: null,\n\n      /*\n          values can be \"scrollTop\" or \"scrollLeft\" (of the viewport element) depending on orientation\n               blockScrollProperty is set by the orientation reconfiguration effect in cradle module.\n               it is used where blockScrollPos is used above.\n      */\n      blockScrollProperty: null,\n\n      /*\n          targetAxisReferenceIndex is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - host scrollToItem call\n               targetAxisReferenceIndex is used by\n              - scrollTrackerArgs in cradle module\n              - requestedAxisReferenceIndex in setCradleContent\n      */\n      targetAxisReferenceIndex: null,\n\n      /*\n          targetAxisPixelOffset is set by\n              - setCradleContent\n              - updateCradleContent\n              - scaffoldHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - pivot effect (change of orientation) in cradle module\n               targetAxisPixelOffset is used by\n              - previousAxisOffset in pivot effect\n              - setCradleContent\n           */\n      targetAxisPixelOffset: null\n    };\n    this.cradleParameters = cradleParameters;\n    var _a = cradleParameters.cradleInternalPropertiesRef.current.cradleElementsRef.current,\n        axisRef = _a.axisRef,\n        headRef = _a.headRef,\n        tailRef = _a.tailRef,\n        headTriggerlineRef = _a.headTriggerlineRef,\n        tailTriggerlineRef = _a.tailTriggerlineRef;\n    this.elements = {\n      axisRef: axisRef,\n      headRef: headRef,\n      tailRef: tailRef,\n      headTriggerlineRef: headTriggerlineRef,\n      tailTriggerlineRef: tailTriggerlineRef\n    };\n    var _b = this.cradleParameters.cradleInheritedPropertiesRef.current,\n        defaultVisibleIndex = _b.defaultVisibleIndex,\n        listsize = _b.listsize,\n        padding = _b.padding; // progression of references: implied->target\n\n    this.cradlePositionData.targetAxisReferenceIndex = Math.min(defaultVisibleIndex, listsize - 1) || 0;\n    this.cradlePositionData.targetAxisPixelOffset = 0;\n  }\n\n  return ScaffoldHandler;\n}();\n\nexports[\"default\"] = ScaffoldHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3NjYWZmb2xkaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7O0FBRUE7QUFBQTtBQUFBO0VBRUkseUJBQVlBLGdCQUFaLEVBQTRCO0lBa0M1QjtJQUNPLDBCQUFxQjtNQUV4Qjs7Ozs7Ozs7TUFXQUMsY0FBYyxFQUFDLElBYlM7O01BZXhCOzs7OztNQU9BQyxtQkFBbUIsRUFBQyxJQXRCSTs7TUF3QnhCOzs7Ozs7Ozs7OztNQVlBQyx3QkFBd0IsRUFBQyxJQXBDRDs7TUFzQ3hCOzs7Ozs7Ozs7OztNQWFBQyxxQkFBcUIsRUFBQztJQW5ERSxDQUFyQjtJQWpDSCxLQUFLSixnQkFBTCxHQUF3QkEsZ0JBQXhCO0lBRU0sU0FNRkEsZ0JBQWdCLENBQUNLLDJCQUFqQixDQUE2Q0MsT0FBN0MsQ0FBcURDLGlCQUFyRCxDQUF1RUQsT0FOckU7SUFBQSxJQUNGRSxPQUFPLGFBREw7SUFBQSxJQUVGQyxPQUFPLGFBRkw7SUFBQSxJQUdGQyxPQUFPLGFBSEw7SUFBQSxJQUlGQyxrQkFBa0Isd0JBSmhCO0lBQUEsSUFLRkMsa0JBQWtCLHdCQUxoQjtJQU9OLEtBQUtDLFFBQUwsR0FBZ0I7TUFDWkwsT0FBTyxTQURLO01BRVpDLE9BQU8sU0FGSztNQUdaQyxPQUFPLFNBSEs7TUFJWkMsa0JBQWtCLG9CQUpOO01BS1pDLGtCQUFrQjtJQUxOLENBQWhCO0lBUU0sU0FJRixLQUFLWixnQkFBTCxDQUFzQmMsNEJBQXRCLENBQW1EUixPQUpqRDtJQUFBLElBQ0ZTLG1CQUFtQix5QkFEakI7SUFBQSxJQUVGQyxRQUFRLGNBRk47SUFBQSxJQUdGQyxPQUFPLGFBSEwsQ0FuQmtCLENBeUJ4Qjs7SUFDQSxLQUFLQyxrQkFBTCxDQUF3QmYsd0JBQXhCLEdBQ0tnQixJQUFJLENBQUNDLEdBQUwsQ0FBU0wsbUJBQVQsRUFBOEJDLFFBQVEsR0FBRyxDQUF6QyxLQUFnRCxDQURyRDtJQUVBLEtBQUtFLGtCQUFMLENBQXdCZCxxQkFBeEIsR0FBZ0QsQ0FBaEQ7RUFFSDs7RUE4REw7QUFBQyxDQTlGRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3NjYWZmb2xkaGFuZGxlci50c3g/ZmMyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjcmFkbGVoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWZmb2xkSGFuZGxlciB7IFxuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBheGlzUmVmLCBcbiAgICAgICAgICAgIGhlYWRSZWYsIFxuICAgICAgICAgICAgdGFpbFJlZixcbiAgICAgICAgICAgIGhlYWRUcmlnZ2VybGluZVJlZixcbiAgICAgICAgICAgIHRhaWxUcmlnZ2VybGluZVJlZlxuICAgICAgICB9ID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC5jcmFkbGVFbGVtZW50c1JlZi5jdXJyZW50XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7XG4gICAgICAgICAgICBheGlzUmVmLFxuICAgICAgICAgICAgaGVhZFJlZixcbiAgICAgICAgICAgIHRhaWxSZWYsXG4gICAgICAgICAgICBoZWFkVHJpZ2dlcmxpbmVSZWYsXG4gICAgICAgICAgICB0YWlsVHJpZ2dlcmxpbmVSZWZcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlSW5kZXgsIFxuICAgICAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICAgICAgcGFkZGluZ1xuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIHByb2dyZXNzaW9uIG9mIHJlZmVyZW5jZXM6IGltcGxpZWQtPnRhcmdldFxuICAgICAgICB0aGlzLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBcbiAgICAgICAgICAgIChNYXRoLm1pbihkZWZhdWx0VmlzaWJsZUluZGV4LChsaXN0c2l6ZSAtIDEpKSB8fCAwKVxuICAgICAgICB0aGlzLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSAwXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIC8vIGNyYWRsZVBvc2l0aW9uRGF0YSBjb250cm9scyB0aGUgcmVsYXRpdmUgcG9zaXRpb25zIG9mIHRoZSBzY2FmZm9sZCBlbGVtZW50c1xuICAgIHB1YmxpYyBjcmFkbGVQb3NpdGlvbkRhdGEgPSB7XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIFwiYmxvY2tcIiA9IGNyYWRsZWJsb2NrLCB3aGljaCBpcyB0aGUgZWxlbWVudCB0aGF0IGlzIHNjcm9sbGVkXG5cbiAgICAgICAgICAgIGJsb2NrU2Nyb2xsUG9zIGlzIHNldCBieSBzY3JvbGxIYW5kbGVyIGR1cmluZyBhbmQgYWZ0ZXIgc2Nyb2xsaW5nLFxuICAgICAgICAgICAgYW5kIGJ5IHNldENyYWRsZUNvbnRlbnQgaW4gY29udGVudEhhbmRsZXIsIHdoaWNoIHJlcG9zaXRpb25zIHRoZSBjcmFkbGUuXG5cbiAgICAgICAgICAgIGJsb2NrU2Nyb2xsUG9zIGlzIHVzZWQgYnlcbiAgICAgICAgICAgICAgICAtIGNyYWRsZSBpbml0aWFsaXphdGlvbiBpbiByZXNwb25zZSB0byByZXBhcmVudGluZyBpbnRlcnJ1cHRcbiAgICAgICAgICAgICAgICAtIHNldENyYWRsZUNvbnRlbnRcblxuICAgICAgICAqL1xuICAgICAgICBibG9ja1Njcm9sbFBvczpudWxsLFxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICB2YWx1ZXMgY2FuIGJlIFwic2Nyb2xsVG9wXCIgb3IgXCJzY3JvbGxMZWZ0XCIgKG9mIHRoZSB2aWV3cG9ydCBlbGVtZW50KSBkZXBlbmRpbmcgb24gb3JpZW50YXRpb25cblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQcm9wZXJ0eSBpcyBzZXQgYnkgdGhlIG9yaWVudGF0aW9uIHJlY29uZmlndXJhdGlvbiBlZmZlY3QgaW4gY3JhZGxlIG1vZHVsZS5cblxuICAgICAgICAgICAgaXQgaXMgdXNlZCB3aGVyZSBibG9ja1Njcm9sbFBvcyBpcyB1c2VkIGFib3ZlLlxuICAgICAgICAqL1xuICAgICAgICBibG9ja1Njcm9sbFByb3BlcnR5Om51bGwsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCBpcyBzZXQgYnlcbiAgICAgICAgICAgICAgICAtIHNldENyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbiAgICAgICAgICAgICAgICAtIHNjYWZmb2xkSGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIGhvc3Qgc2Nyb2xsVG9JdGVtIGNhbGxcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IGlzIHVzZWQgYnlcbiAgICAgICAgICAgICAgICAtIHNjcm9sbFRyYWNrZXJBcmdzIGluIGNyYWRsZSBtb2R1bGVcbiAgICAgICAgICAgICAgICAtIHJlcXVlc3RlZEF4aXNSZWZlcmVuY2VJbmRleCBpbiBzZXRDcmFkbGVDb250ZW50XG4gICAgICAgICovXG4gICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleDpudWxsLFxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQgaXMgc2V0IGJ5XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG4gICAgICAgICAgICAgICAgLSB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgICAgICAgICAgICAgLSBzY2FmZm9sZEhhbmRsZXIgKGluaXRpYWxpemF0aW9uKVxuICAgICAgICAgICAgICAgIC0gc2Nyb2xsSGFuZGxlciAoZHVyaW5nIGFuZCBhZnRlciBzY3JvbGwpXG4gICAgICAgICAgICAgICAgLSBwaXZvdCBlZmZlY3QgKGNoYW5nZSBvZiBvcmllbnRhdGlvbikgaW4gY3JhZGxlIG1vZHVsZVxuXG4gICAgICAgICAgICB0YXJnZXRBeGlzUGl4ZWxPZmZzZXQgaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gcHJldmlvdXNBeGlzT2Zmc2V0IGluIHBpdm90IGVmZmVjdFxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuXG4gICAgICAgICovXG4gICAgICAgIHRhcmdldEF4aXNQaXhlbE9mZnNldDpudWxsLFxuXG4gICAgfVxuXG4gICAgcHVibGljIGVsZW1lbnRzXG5cbn0iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsImJsb2NrU2Nyb2xsUG9zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldEF4aXNQaXhlbE9mZnNldCIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImN1cnJlbnQiLCJjcmFkbGVFbGVtZW50c1JlZiIsImF4aXNSZWYiLCJoZWFkUmVmIiwidGFpbFJlZiIsImhlYWRUcmlnZ2VybGluZVJlZiIsInRhaWxUcmlnZ2VybGluZVJlZiIsImVsZW1lbnRzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImRlZmF1bHRWaXNpYmxlSW5kZXgiLCJsaXN0c2l6ZSIsInBhZGRpbmciLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJNYXRoIiwibWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/scaffoldhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/scrollhandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/scrollhandler.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // scrollhandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar SCROLL_TIMEOUT_FOR_ONAFTERSCROLL = 500;\n\nvar ScrollHandler =\n/** @class */\nfunction () {\n  function ScrollHandler(cradleParameters) {\n    var _this = this;\n\n    this.scrollData = {\n      start: 0,\n      current: 0,\n      previous: 0,\n      previousupdate: 0,\n      currentupdate: 0\n    };\n    this._scrolltimerid = null;\n    this.isScrolling = false;\n\n    this.onScroll = function (e) {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var viewportElement = viewportInterruptProperties.elementref.current;\n      var scrollPositionCurrent = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n\n      if (scrollPositionCurrent < 0) {\n        // for Safari\n        return;\n      }\n\n      clearTimeout(_this._scrolltimerid);\n      var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n\n      if (signals.pauseScrollingEffects) {\n        return;\n      }\n\n      if (!_this.isScrolling) {\n        _this.isScrolling = true;\n        _this.scrollData.start = scrollPositionCurrent;\n        _this.scrollData.currentupdate = scrollPositionCurrent;\n      }\n\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n      var cradlePositionData = scaffoldHandler.cradlePositionData; // keep up to date in case of reparenting interrupt\n\n      cradlePositionData.blockScrollPos = scrollPositionCurrent;\n      _this.scrollData.previous = _this.scrollData.current;\n      _this.scrollData.current = scrollPositionCurrent;\n      var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n      var cradleState = stateHandler.cradleStateRef.current;\n      var _a = _this.cradleParameters.handlersRef.current,\n          contentHandler = _a.contentHandler,\n          serviceHandler = _a.serviceHandler;\n\n      if (!viewportInterruptProperties.isResizing) {\n        if (cradleState == 'ready' || cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n          if (cradleState == 'ready') {\n            // const itemindex = cradlePositionData.targetAxisReferenceIndex\n            var axisVisiblePixelOffset = void 0;\n            var cradleElements = scaffoldHandler.elements;\n            var axisElement = cradleElements.axisRef.current;\n            var viewportElement_1 = _this.cradleParameters.viewportInterruptPropertiesRef.current.elementref.current;\n\n            if (_this.cradleParameters.cradleInheritedPropertiesRef.current.orientation == 'vertical') {\n              axisVisiblePixelOffset = axisElement.offsetTop - viewportElement_1.scrollTop;\n            } else {\n              axisVisiblePixelOffset = axisElement.offsetLeft - viewportElement_1.scrollLeft;\n            } // cradlePositionData.targetAxisReferenceIndex = itemindex\n\n\n            cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n          }\n\n          if (cradleState == 'repositioningRender' || cradleState == 'repositioningContinuation') {\n            _this.calcImpliedRepositioningData();\n\n            if (cradleState == 'repositioningRender') stateHandler.setCradleState('repositioningContinuation');\n          } // TODO: re-instate the following\n\n\n          serviceHandler.serviceCalls.referenceIndexCallbackRef.current && serviceHandler.serviceCalls.referenceIndexCallbackRef.current(cradlePositionData.targetAxisReferenceIndex, 'scrolling', cradleState);\n        }\n      }\n\n      _this._scrolltimerid = setTimeout(function () {\n        _this.onAfterScroll();\n      }, SCROLL_TIMEOUT_FOR_ONAFTERSCROLL);\n      return false;\n    };\n\n    this.onAfterScroll = function () {\n      _this.isScrolling = false;\n      var _a = _this.cradleParameters.handlersRef.current,\n          stateHandler = _a.stateHandler,\n          contentHandler = _a.contentHandler;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleState = stateHandler.cradleStateRef.current;\n\n      switch (cradleState) {\n        case 'repositioningRender':\n        case 'repositioningContinuation':\n          {\n            _this.updateBlockScrollPos();\n\n            stateHandler.setCradleState('doreposition');\n            break;\n          }\n\n        default:\n          {\n            if (_this.scrollData.start != _this.scrollData.current || _this.scrollData.current != _this.scrollData.previous) {\n              if (stateHandler.isMountedRef.current) {\n                _this.updateReferenceData();\n              }\n            }\n          }\n      }\n\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n    }; // after scroll, but not after repositioning\n\n\n    this.updateReferenceData = function () {\n      var _a = _this.cradleParameters.handlersRef.current,\n          stateHandler = _a.stateHandler,\n          scaffoldHandler = _a.scaffoldHandler;\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      if (!stateHandler.isMountedRef.current) return;\n      var axisVisiblePixelOffset;\n      var cradleElements = scaffoldHandler.elements;\n      var viewportElement = viewportInterruptProperties.elementref.current;\n\n      if (cradleProps.orientation == 'vertical') {\n        axisVisiblePixelOffset = cradleElements.axisRef.current.offsetTop - viewportElement.scrollTop;\n      } else {\n        axisVisiblePixelOffset = cradleElements.axisRef.current.offsetLeft - viewportElement.scrollLeft;\n      }\n\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisPixelOffset = axisVisiblePixelOffset;\n\n      if (!viewportInterruptProperties.isResizing) {\n        _this.updateBlockScrollPos();\n      }\n    }; // called from finishreposition state change call above\n    // called from updateReferenceData\n\n\n    this.updateBlockScrollPos = function () {\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var scaffoldHandler = _this.cradleParameters.handlersRef.current.scaffoldHandler;\n      var cradlePositionData = scaffoldHandler.cradlePositionData;\n      var viewportElement = viewportInterruptProperties.elementref.current;\n\n      if (cradleProps.orientation == 'vertical') {\n        cradlePositionData.blockScrollPos = viewportElement.scrollTop;\n      } else {\n        cradlePositionData.blockScrollPos = viewportElement.scrollLeft;\n      }\n    };\n\n    this.calcImpliedRepositioningData = function () {\n      var viewportInterruptProperties = _this.cradleParameters.viewportInterruptPropertiesRef.current;\n      var cradleProps = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cradleConfig = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var crosscount = cradleConfig.crosscount;\n      var viewportElement = viewportInterruptProperties.elementref.current;\n      var orientation = cradleProps.orientation,\n          listsize = cradleProps.listsize;\n      var scrollPos, cellLength;\n\n      if (orientation == 'vertical') {\n        scrollPos = viewportElement.scrollTop;\n        cellLength = cradleProps.cellHeight + cradleProps.gap;\n      } else {\n        scrollPos = viewportElement.scrollLeft;\n        cellLength = cradleProps.cellWidth + cradleProps.gap;\n      }\n\n      var axisPixelOffset = cellLength - scrollPos % cellLength;\n\n      if (axisPixelOffset == cellLength + cradleProps.padding) {\n        axisPixelOffset = 0;\n      }\n\n      var axisRowIndex = Math.ceil((scrollPos - cradleProps.padding) / cellLength);\n      var axisReferenceIndex = axisRowIndex * crosscount;\n      axisReferenceIndex = Math.min(axisReferenceIndex, listsize - 1);\n      var diff = axisReferenceIndex % crosscount;\n      axisReferenceIndex -= diff;\n      if (axisReferenceIndex == 0) axisPixelOffset = 0; // defensive\n\n      var cradlePositionData = _this.cradleParameters.handlersRef.current.scaffoldHandler.cradlePositionData;\n      cradlePositionData.targetAxisReferenceIndex = axisReferenceIndex;\n      cradlePositionData.targetAxisPixelOffset = axisPixelOffset;\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return ScrollHandler;\n}();\n\nexports[\"default\"] = ScrollHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBR0wsV0FBVyxDQUFDUSxTQUFaLEdBQXdCUixXQUFXLENBQUNPLEdBQWpEO01BRUg7O01BRUQsSUFBSUUsZUFBZSxHQUFHSixVQUFVLEdBQUlELFNBQVMsR0FBR0MsVUFBaEQ7O01BQ0EsSUFBSUksZUFBZSxJQUFLSixVQUFVLEdBQUdMLFdBQVcsQ0FBQ1UsT0FBakQsRUFBMkQ7UUFDdkRELGVBQWUsR0FBRyxDQUFsQjtNQUNIOztNQUVELElBQU1FLFlBQVksR0FBR0MsSUFBSSxDQUFDQyxJQUFMLENBQVUsQ0FBQ1QsU0FBUyxHQUFHSixXQUFXLENBQUNVLE9BQXpCLElBQWtDTCxVQUE1QyxDQUFyQjtNQUNBLElBQUlTLGtCQUFrQixHQUFHSCxZQUFZLEdBQUdJLFVBQXhDO01BQ0FELGtCQUFrQixHQUFHRixJQUFJLENBQUNJLEdBQUwsQ0FBU0Ysa0JBQVQsRUFBNEJYLFFBQVEsR0FBRyxDQUF2QyxDQUFyQjtNQUNBLElBQU1jLElBQUksR0FBR0gsa0JBQWtCLEdBQUdDLFVBQWxDO01BQ0FELGtCQUFrQixJQUFJRyxJQUF0QjtNQUVBLElBQUlILGtCQUFrQixJQUFJLENBQTFCLEVBQTZCTCxlQUFlLEdBQUcsQ0FBbEIsQ0FqQ00sQ0FpQ2M7O01BRXpDLHNCQUFrQixHQUFLdEQsS0FBSSxDQUFDUixnQkFBTCxDQUFzQm1CLFdBQXRCLENBQWtDakIsT0FBbEMsQ0FBMEN1QixlQUExQyxDQUF5REMsa0JBQWhGO01BQ1JBLGtCQUFrQixDQUFDcUIsd0JBQW5CLEdBQThDb0Isa0JBQTlDO01BQ0F6QyxrQkFBa0IsQ0FBQ2dCLHFCQUFuQixHQUEyQ29CLGVBQTNDO0lBRUgsQ0F2Q087O0lBek5KLEtBQUs5RCxnQkFBTCxHQUF3QkEsZ0JBQXhCO0VBRUg7O0VBZ1FMO0FBQUMsQ0F0UUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zY3JvbGxoYW5kbGVyLnRzeD9jZWY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbGhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuY29uc3QgU0NST0xMX1RJTUVPVVRfRk9SX09OQUZURVJTQ1JPTEwgPSA1MDBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwdWJsaWMgc2Nyb2xsRGF0YSA9IHtzdGFydDowLCBjdXJyZW50OjAsIHByZXZpb3VzOjAsIHByZXZpb3VzdXBkYXRlOjAsIGN1cnJlbnR1cGRhdGU6MH1cblxuICAgIHByaXZhdGUgX3Njcm9sbHRpbWVyaWQgPSBudWxsXG5cbiAgICBwcml2YXRlIGlzU2Nyb2xsaW5nID0gZmFsc2VcblxuICAgIHB1YmxpYyBvblNjcm9sbCA9IChlKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcy5lbGVtZW50cmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPSBcbiAgICAgICAgICAgICh0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb25DdXJyZW50IDwgMCkgeyAvLyBmb3IgU2FmYXJpXG5cbiAgICAgICAgICAgIHJldHVybiBcblxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG5cbiAgICAgICAgY29uc3Qge3NpZ25hbHN9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuaW50ZXJydXB0SGFuZGxlclxuXG4gICAgICAgIGlmIChzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cykge1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxEYXRhLnN0YXJ0ID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG4gICAgICAgICAgICB0aGlzLnNjcm9sbERhdGEuY3VycmVudHVwZGF0ZSA9IHNjcm9sbFBvc2l0aW9uQ3VycmVudFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge3NjYWZmb2xkSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gc2NhZmZvbGRIYW5kbGVyXG5cbiAgICAgICAgLy8ga2VlcCB1cCB0byBkYXRlIGluIGNhc2Ugb2YgcmVwYXJlbnRpbmcgaW50ZXJydXB0XG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHNjcm9sbFBvc2l0aW9uQ3VycmVudFxuXG4gICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5wcmV2aW91cyA9IHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50XG4gICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50ID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgY29uc3Qge3N0YXRlSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBjcmFkbGVTdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qge2NvbnRlbnRIYW5kbGVyLCBzZXJ2aWNlSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICghdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAncmVhZHknKSB8fCAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSB8fCAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdDb250aW51YXRpb24nKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZWFkeScpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBpdGVtaW5kZXggPSBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4XG4gICAgICAgICAgICAgICAgICAgIGxldCBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudC5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXQgPSBheGlzRWxlbWVudC5vZmZzZXRUb3AgLSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNWaXNpYmxlUGl4ZWxPZmZzZXQgPSBheGlzRWxlbWVudC5vZmZzZXRMZWZ0IC0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IGl0ZW1pbmRleFxuICAgICAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1BpeGVsT2Zmc2V0ID0gYXhpc1Zpc2libGVQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nUmVuZGVyJykgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlLWluc3RhdGUgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLnNlcnZpY2VDYWxscy5yZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQgJiYgXG5cbiAgICAgICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIuc2VydmljZUNhbGxzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudChjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LCdzY3JvbGxpbmcnLCBjcmFkbGVTdGF0ZSlcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zY3JvbGx0aW1lcmlkID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMub25BZnRlclNjcm9sbCgpXG5cbiAgICAgICAgfSxTQ1JPTExfVElNRU9VVF9GT1JfT05BRlRFUlNDUk9MTClcblxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkFmdGVyU2Nyb2xsID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuXG4gICAgICAgIGNvbnN0IHtzdGF0ZUhhbmRsZXIsIGNvbnRlbnRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICBzd2l0Y2ggKGNyYWRsZVN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmdSZW5kZXInOiBcbiAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmdDb250aW51YXRpb24nOlxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja1Njcm9sbFBvcygpXG5cbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2RvcmVwb3NpdGlvbicpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuc2Nyb2xsRGF0YS5zdGFydCAhPSB0aGlzLnNjcm9sbERhdGEuY3VycmVudCkgfHwgXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnNjcm9sbERhdGEuY3VycmVudCAhPSB0aGlzLnNjcm9sbERhdGEucHJldmlvdXMpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlZmVyZW5jZURhdGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgIH1cblxuICAgIC8vIGFmdGVyIHNjcm9sbCwgYnV0IG5vdCBhZnRlciByZXBvc2l0aW9uaW5nXG4gICAgcHJpdmF0ZSB1cGRhdGVSZWZlcmVuY2VEYXRhID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyLCBzY2FmZm9sZEhhbmRsZXIgfSBcbiAgICAgICAgICAgID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjcmFkbGVQcm9wcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCFzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGxldCBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG4gICAgICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzID0gc2NhZmZvbGRIYW5kbGVyLmVsZW1lbnRzXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLmVsZW1lbnRyZWYuY3VycmVudFxuICAgICAgICBpZiAoY3JhZGxlUHJvcHMub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50Lm9mZnNldFRvcCAtIFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYXhpc1Zpc2libGVQaXhlbE9mZnNldCA9IGNyYWRsZUVsZW1lbnRzLmF4aXNSZWYuY3VycmVudC5vZmZzZXRMZWZ0IC0gXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IHNjYWZmb2xkSGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUGl4ZWxPZmZzZXQgPSBheGlzVmlzaWJsZVBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKCF2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrU2Nyb2xsUG9zKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBjYWxsZWQgZnJvbSBmaW5pc2hyZXBvc2l0aW9uIHN0YXRlIGNoYW5nZSBjYWxsIGFib3ZlXG4gICAgLy8gY2FsbGVkIGZyb20gdXBkYXRlUmVmZXJlbmNlRGF0YVxuICAgIHByaXZhdGUgdXBkYXRlQmxvY2tTY3JvbGxQb3MgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy52aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7c2NhZmZvbGRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBzY2FmZm9sZEhhbmRsZXJcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKGNyYWRsZVByb3BzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY0ltcGxpZWRSZXBvc2l0aW9uaW5nRGF0YSA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlUHJvcHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbmZpZyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtjcm9zc2NvdW50fSA9IGNyYWRsZUNvbmZpZ1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHtvcmllbnRhdGlvbiwgbGlzdHNpemV9ID0gY3JhZGxlUHJvcHNcbiAgICAgICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbEhlaWdodCArIGNyYWRsZVByb3BzLmdhcFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlUHJvcHMuY2VsbFdpZHRoICsgY3JhZGxlUHJvcHMuZ2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzUGl4ZWxPZmZzZXQgPSBjZWxsTGVuZ3RoIC0gKHNjcm9sbFBvcyAlIGNlbGxMZW5ndGgpXG4gICAgICAgIGlmIChheGlzUGl4ZWxPZmZzZXQgPT0gKGNlbGxMZW5ndGggKyBjcmFkbGVQcm9wcy5wYWRkaW5nKSkge1xuICAgICAgICAgICAgYXhpc1BpeGVsT2Zmc2V0ID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXhpc1Jvd0luZGV4ID0gTWF0aC5jZWlsKChzY3JvbGxQb3MgLSBjcmFkbGVQcm9wcy5wYWRkaW5nKS9jZWxsTGVuZ3RoKVxuICAgICAgICBsZXQgYXhpc1JlZmVyZW5jZUluZGV4ID0gYXhpc1Jvd0luZGV4ICogY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbihheGlzUmVmZXJlbmNlSW5kZXgsbGlzdHNpemUgLSAxKVxuICAgICAgICBjb25zdCBkaWZmID0gYXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXggLT0gZGlmZlxuXG4gICAgICAgIGlmIChheGlzUmVmZXJlbmNlSW5kZXggPT0gMCkgYXhpc1BpeGVsT2Zmc2V0ID0gMCAvLyBkZWZlbnNpdmVcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuc2NhZmZvbGRIYW5kbGVyXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBheGlzUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNQaXhlbE9mZnNldCA9IGF4aXNQaXhlbE9mZnNldFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiU0NST0xMX1RJTUVPVVRfRk9SX09OQUZURVJTQ1JPTEwiLCJjcmFkbGVQYXJhbWV0ZXJzIiwic3RhcnQiLCJjdXJyZW50IiwicHJldmlvdXMiLCJwcmV2aW91c3VwZGF0ZSIsImN1cnJlbnR1cGRhdGUiLCJlIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzIiwiX3RoaXMiLCJ2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnQiLCJlbGVtZW50cmVmIiwic2Nyb2xsUG9zaXRpb25DdXJyZW50IiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsIm9yaWVudGF0aW9uIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImNsZWFyVGltZW91dCIsIl9zY3JvbGx0aW1lcmlkIiwiaGFuZGxlcnNSZWYiLCJpbnRlcnJ1cHRIYW5kbGVyIiwic2lnbmFscyIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsImlzU2Nyb2xsaW5nIiwic2Nyb2xsRGF0YSIsInNjYWZmb2xkSGFuZGxlciIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImJsb2NrU2Nyb2xsUG9zIiwic3RhdGVIYW5kbGVyIiwiY3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImNvbnRlbnRIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJpc1Jlc2l6aW5nIiwiYXhpc1Zpc2libGVQaXhlbE9mZnNldCIsImNyYWRsZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJheGlzRWxlbWVudCIsImF4aXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnRfMSIsIm9mZnNldFRvcCIsIm9mZnNldExlZnQiLCJ0YXJnZXRBeGlzUGl4ZWxPZmZzZXQiLCJjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhIiwic2V0Q3JhZGxlU3RhdGUiLCJzZXJ2aWNlQ2FsbHMiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmIiwidGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4Iiwic2V0VGltZW91dCIsIm9uQWZ0ZXJTY3JvbGwiLCJ1cGRhdGVCbG9ja1Njcm9sbFBvcyIsImlzTW91bnRlZFJlZiIsInVwZGF0ZVJlZmVyZW5jZURhdGEiLCJjcmFkbGVQcm9wcyIsImNyYWRsZUNvbmZpZyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImxpc3RzaXplIiwic2Nyb2xsUG9zIiwiY2VsbExlbmd0aCIsImNlbGxIZWlnaHQiLCJnYXAiLCJjZWxsV2lkdGgiLCJheGlzUGl4ZWxPZmZzZXQiLCJwYWRkaW5nIiwiYXhpc1Jvd0luZGV4IiwiTWF0aCIsImNlaWwiLCJheGlzUmVmZXJlbmNlSW5kZXgiLCJjcm9zc2NvdW50IiwibWluIiwiZGlmZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/scrollhandler.tsx\n");

/***/ }),

/***/ "./src/cradle/servicehandler.tsx":
/*!***************************************!*\
  !*** ./src/cradle/servicehandler.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // servicehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ServiceHandler =\n/** @class */\nfunction () {\n  function ServiceHandler(cradleParameters) {\n    var _this = this; // public getVisibleList = () => {\n    //     const {contentHandler} = this.cradleParameters.handlersRef.current        \n    //     const cradleContent = contentHandler.content\n    //     const viewportInterruptProperties = this.cradleParameters.viewportInterruptPropertiesRef.current\n    //     const {scaffoldHandler} = this.cradleParameters.handlersRef.current\n    //     const cradleElements = scaffoldHandler.elements\n    //     return getVisibleItemsList({\n    //         itemElementMap:contentHandler.itemElements,\n    //         viewportElement:viewportInterruptProperties.elementref.current,\n    //         cradleElements, \n    //         cradleProps:this.cradleParameters.cradleInheritedPropertiesRef.current,\n    //         cradleContent,\n    //     })\n    // }\n    // public getContentList = () => {\n    //     const { contentHandler } = this.cradleParameters.handlersRef.current\n    //     const contentlist = Array.from(contentHandler.itemElements)\n    //     contentlist.sort((a,b)=>{\n    //         return (a[0] < b[0])?\n    //             -1:\n    //             1\n    //     })\n    //     return contentlist\n    // }\n    // TODO: adjust axisPixelOffset to match new data\n\n\n    this.reload = function () {\n      // console.log('calling reload state from serviceHandler')\n      var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n      var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n      signals.pauseCradleIntersectionObserver = true;\n      signals.pauseTriggerlinesObserver = true;\n      signals.pauseScrollingEffects = true;\n      stateHandler.setCradleState('reload');\n    };\n\n    this.scrollToItem = function (index) {\n      console.log('calling scrollToItem: index', index);\n      var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n      var _a = _this.cradleParameters.handlersRef.current,\n          scaffoldHandler = _a.scaffoldHandler,\n          stateHandler = _a.stateHandler;\n      signals.pauseScrollingEffects = true;\n      scaffoldHandler.cradlePositionData.targetAxisReferenceIndex = index;\n      stateHandler.setCradleState('doreposition');\n    };\n\n    this.cradleParameters = cradleParameters;\n    this.serviceCalls = cradleParameters.externalCallbacksRef.current;\n  }\n\n  return ServiceHandler;\n}();\n\nexports[\"default\"] = ServiceHandler;\n\nvar getVisibleItemsList = function getVisibleItemsList(_a) {\n  var itemElementMap = _a.itemElementMap,\n      viewportElement = _a.viewportElement,\n      cradleElements = _a.cradleElements,\n      cradleProps = _a.cradleProps,\n      cradleContent = _a.cradleContent;\n  var headElement = cradleElements.headRef.current;\n  var axisElement = cradleElements.axisRef.current;\n  var orientation = cradleProps.orientation;\n  var headlist = cradleContent.headModelComponents;\n  var itemlistindexes = Array.from(itemElementMap.keys());\n  itemlistindexes.sort(function (a, b) {\n    return a < b ? -1 : 1;\n  });\n  var headlistindexes = [];\n\n  for (var _i = 0, headlist_1 = headlist; _i < headlist_1.length; _i++) {\n    var item = headlist_1[_i];\n    headlistindexes.push(parseInt(item.props.index));\n  }\n\n  var list = [];\n  var cradleTop = headElement.offsetTop + axisElement.offsetTop,\n      cradleLeft = headElement.offsetLeft + axisElement.offsetLeft;\n  var scrollblockTopOffset = -viewportElement.scrollTop,\n      scrollblockLeftOffset = -viewportElement.scrollLeft,\n      viewportHeight = viewportElement.offsetHeight,\n      viewportWidth = viewportElement.offsetWidth,\n      viewportTopOffset = -scrollblockTopOffset,\n      viewportBottomOffset = -scrollblockTopOffset + viewportHeight;\n\n  for (var _b = 0, itemlistindexes_1 = itemlistindexes; _b < itemlistindexes_1.length; _b++) {\n    var index = itemlistindexes_1[_b];\n    var element = itemElementMap.get(index).current;\n    var inheadlist = headlistindexes.includes(index);\n    var top_1 = inheadlist ? element.offsetTop : (orientation == 'vertical' ? headElement.offsetHeight : 0) + element.offsetTop,\n        left = inheadlist ? element.offsetLeft : (orientation == 'horizontal' ? headElement.offsetWidth : 0) + element.offsetLeft,\n        width = element.offsetWidth,\n        height = element.offsetHeight,\n        right = left + width,\n        bottom = top_1 + height;\n    var itemTopOffset = scrollblockTopOffset + cradleTop + top_1,\n        // offset from top of viewport\n    itemBottomOffset = scrollblockTopOffset + cradleTop + bottom,\n        // offset from top of viewport\n    itemLeftOffset = scrollblockLeftOffset + cradleLeft + left,\n        itemRightOffset = scrollblockLeftOffset + cradleLeft + right;\n    var isVisible = false; // default\n\n    var topPortion = void 0,\n        bottomPortion = void 0,\n        leftPortion = void 0,\n        rightPortion = void 0;\n\n    if (itemTopOffset < 0 && itemBottomOffset > 0) {\n      if (orientation == 'vertical') isVisible = true;\n      bottomPortion = itemBottomOffset;\n      topPortion = bottomPortion - height;\n    } else if (itemTopOffset >= 0 && itemBottomOffset < viewportHeight) {\n      if (orientation == 'vertical') isVisible = true;\n      topPortion = height;\n      bottomPortion = 0;\n    } else if (itemTopOffset > 0 && itemTopOffset - viewportHeight < 0) {\n      if (orientation == 'vertical') isVisible = true;\n      topPortion = viewportHeight - itemTopOffset;\n      bottomPortion = topPortion - height;\n    } else {\n      if (orientation == 'vertical') continue;\n    }\n\n    if (itemLeftOffset < 0 && itemRightOffset > 0) {\n      if (orientation == 'horizontal') isVisible = true;\n      rightPortion = itemRightOffset;\n      leftPortion = rightPortion - width;\n    } else if (itemLeftOffset >= 0 && itemRightOffset < viewportWidth) {\n      if (orientation == 'horizontal') isVisible = true;\n      leftPortion = width;\n      rightPortion = 0;\n    } else if (itemLeftOffset > 0 && itemLeftOffset - viewportWidth < 0) {\n      if (orientation == 'horizontal') isVisible = true;\n      leftPortion = viewportWidth - itemLeftOffset;\n      rightPortion = leftPortion - width;\n    } else {\n      if (orientation == 'horizontal') continue;\n    }\n\n    var verticalRatio = topPortion > 0 ? topPortion / height : bottomPortion / height,\n        horizontalRatio = leftPortion > 0 ? leftPortion / width : rightPortion / height;\n    var itemData = {\n      index: index,\n      isVisible: isVisible,\n      top: top_1,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height,\n      itemTopOffset: itemTopOffset,\n      itemBottomOffset: itemBottomOffset,\n      topPortion: topPortion,\n      bottomPortion: bottomPortion,\n      itemLeftOffset: itemLeftOffset,\n      itemRightOffset: itemRightOffset,\n      leftPortion: leftPortion,\n      rightPortion: rightPortion,\n      verticalRatio: verticalRatio,\n      horizontalRatio: horizontalRatio\n    };\n    list.push(itemData);\n  }\n\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHQUVJWSxZQUFZLEdBQUNYLE1BUHpCO0lBU0EsSUFBTWMsUUFBUSxHQUFHO01BRWJ4RSxLQUFLLE9BRlE7TUFHYmlFLFNBQVMsV0FISTtNQUtiUSxHQUFHLE9BTFU7TUFNYmQsS0FBSyxPQU5RO01BT2JDLE1BQU0sUUFQTztNQVFiSixJQUFJLE1BUlM7TUFTYkMsS0FBSyxPQVRRO01BVWJDLE1BQU0sUUFWTztNQVliRyxhQUFhLGVBWkE7TUFhYkMsZ0JBQWdCLGtCQWJIO01BY2JJLFVBQVUsWUFkRztNQWViQyxhQUFhLGVBZkE7TUFpQmJKLGNBQWMsZ0JBakJEO01Ba0JiQyxlQUFlLGlCQWxCRjtNQW1CYkksV0FBVyxhQW5CRTtNQW9CYkMsWUFBWSxjQXBCQztNQXNCYkMsYUFBYSxlQXRCQTtNQXVCYkMsZUFBZTtJQXZCRixDQUFqQjtJQTJCQXJDLElBQUksQ0FBQ0gsSUFBTCxDQUFVeUMsUUFBVjtFQUVIOztFQUVELE9BQU90QyxJQUFQO0FBQ0gsQ0F0S0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zZXJ2aWNlaGFuZGxlci50c3g/OWNiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXJ2aWNlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAgICB0aGlzLnNlcnZpY2VDYWxscyA9IGNyYWRsZVBhcmFtZXRlcnMuZXh0ZXJuYWxDYWxsYmFja3NSZWYuY3VycmVudFxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwdWJsaWMgc2VydmljZUNhbGxzXG5cbiAgICAvLyBwdWJsaWMgZ2V0VmlzaWJsZUxpc3QgPSAoKSA9PiB7XG5cbiAgICAvLyAgICAgY29uc3Qge2NvbnRlbnRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50ICAgICAgICBcblxuICAgIC8vICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuICAgIC8vICAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMudmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAvLyAgICAgY29uc3Qge3NjYWZmb2xkSGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgIC8vICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IHNjYWZmb2xkSGFuZGxlci5lbGVtZW50c1xuXG4gICAgLy8gICAgIHJldHVybiBnZXRWaXNpYmxlSXRlbXNMaXN0KHtcbiAgICAvLyAgICAgICAgIGl0ZW1FbGVtZW50TWFwOmNvbnRlbnRIYW5kbGVyLml0ZW1FbGVtZW50cyxcbiAgICAvLyAgICAgICAgIHZpZXdwb3J0RWxlbWVudDp2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMuZWxlbWVudHJlZi5jdXJyZW50LFxuICAgIC8vICAgICAgICAgY3JhZGxlRWxlbWVudHMsIFxuICAgIC8vICAgICAgICAgY3JhZGxlUHJvcHM6dGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAvLyAgICAgICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgLy8gICAgIH0pXG5cbiAgICAvLyB9XG5cbiAgICAvLyBwdWJsaWMgZ2V0Q29udGVudExpc3QgPSAoKSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IHsgY29udGVudEhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgLy8gICAgIGNvbnN0IGNvbnRlbnRsaXN0ID0gQXJyYXkuZnJvbShjb250ZW50SGFuZGxlci5pdGVtRWxlbWVudHMpXG5cbiAgICAvLyAgICAgY29udGVudGxpc3Quc29ydCgoYSxiKT0+e1xuICAgIC8vICAgICAgICAgcmV0dXJuIChhWzBdIDwgYlswXSk/XG4gICAgLy8gICAgICAgICAgICAgLTE6XG4gICAgLy8gICAgICAgICAgICAgMVxuICAgIC8vICAgICB9KVxuXG4gICAgLy8gICAgIHJldHVybiBjb250ZW50bGlzdFxuICAgIC8vIH1cblxuICAgIC8vIFRPRE86IGFkanVzdCBheGlzUGl4ZWxPZmZzZXQgdG8gbWF0Y2ggbmV3IGRhdGFcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYWxsaW5nIHJlbG9hZCBzdGF0ZSBmcm9tIHNlcnZpY2VIYW5kbGVyJylcblxuICAgICAgICBjb25zdCB7IHNpZ25hbHMgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LmludGVycnVwdEhhbmRsZXJcbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2Nyb2xsVG9JdGVtID0gKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2NhbGxpbmcgc2Nyb2xsVG9JdGVtOiBpbmRleCcsIGluZGV4KVxuXG4gICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQuaW50ZXJydXB0SGFuZGxlclxuICAgICAgICBjb25zdCB7IHNjYWZmb2xkSGFuZGxlciwgc3RhdGVIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG5cbiAgICAgICAgc2NhZmZvbGRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggPSBpbmRleFxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnZG9yZXBvc2l0aW9uJylcblxuICAgIH1cblxufVxuXG5jb25zdCBnZXRWaXNpYmxlSXRlbXNMaXN0ID0gKHsgICBcblxuICAgICAgICBpdGVtRWxlbWVudE1hcCwgXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCwgXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzLCBcbiAgICAgICAgY3JhZGxlUHJvcHMsIFxuICAgICAgICBjcmFkbGVDb250ZW50XG5cbiAgICB9KSA9PiB7XG5cbiAgICBjb25zdCBoZWFkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudFxuICAgIGNvbnN0IGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50XG4gICAgY29uc3Qge29yaWVudGF0aW9ufSA9IGNyYWRsZVByb3BzXG4gICAgY29uc3QgaGVhZGxpc3QgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcblxuICAgIGNvbnN0IGl0ZW1saXN0aW5kZXhlcyA9IEFycmF5LmZyb20oaXRlbUVsZW1lbnRNYXAua2V5cygpKVxuICAgIGl0ZW1saXN0aW5kZXhlcy5zb3J0KChhLGIpPT57XG4gICAgICAgIHJldHVybiAoYSA8IGIpP1xuICAgICAgICAgICAgLTE6XG4gICAgICAgICAgICAxXG4gICAgfSlcbiAgICBjb25zdCBoZWFkbGlzdGluZGV4ZXMgPSBbXVxuICAgIGZvciAobGV0IGl0ZW0gb2YgaGVhZGxpc3QpIHtcbiAgICAgICAgaGVhZGxpc3RpbmRleGVzLnB1c2gocGFyc2VJbnQoaXRlbS5wcm9wcy5pbmRleCkpXG4gICAgfVxuXG4gICAgY29uc3QgbGlzdCA9IFtdXG4gICAgY29uc3QgY3JhZGxlVG9wID0gaGVhZEVsZW1lbnQub2Zmc2V0VG9wICsgYXhpc0VsZW1lbnQub2Zmc2V0VG9wLCBcbiAgICAgICAgY3JhZGxlTGVmdCA9IGhlYWRFbGVtZW50Lm9mZnNldExlZnQgKyBheGlzRWxlbWVudC5vZmZzZXRMZWZ0XG4gICAgY29uc3Qgc2Nyb2xsYmxvY2tUb3BPZmZzZXQgPSAtdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCwgXG4gICAgICAgIHNjcm9sbGJsb2NrTGVmdE9mZnNldCA9IC12aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgdmlld3BvcnRIZWlnaHQgPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydFdpZHRoID0gdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICB2aWV3cG9ydFRvcE9mZnNldCA9IC1zY3JvbGxibG9ja1RvcE9mZnNldCxcbiAgICAgICAgdmlld3BvcnRCb3R0b21PZmZzZXQgPSAtc2Nyb2xsYmxvY2tUb3BPZmZzZXQgKyB2aWV3cG9ydEhlaWdodFxuXG4gICAgZm9yIChsZXQgaW5kZXggb2YgaXRlbWxpc3RpbmRleGVzKSB7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGl0ZW1FbGVtZW50TWFwLmdldChpbmRleCkuY3VycmVudFxuICAgICAgICBjb25zdCBpbmhlYWRsaXN0ID0gaGVhZGxpc3RpbmRleGVzLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHRvcCA9IFxuICAgICAgICAgICAgICAgIGluaGVhZGxpc3Q/XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0VG9wOlxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZEVsZW1lbnQub2Zmc2V0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgKSBcbiAgICAgICAgICAgICAgICAgICAgKyBlbGVtZW50Lm9mZnNldFRvcCwgXG4gICAgICAgICAgICBsZWZ0ID0gXG4gICAgICAgICAgICAgICAgaW5oZWFkbGlzdD9cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vZmZzZXRMZWZ0OlxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkRWxlbWVudC5vZmZzZXRXaWR0aDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICkgXG4gICAgICAgICAgICAgICAgICAgICsgZWxlbWVudC5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoLCBcbiAgICAgICAgICAgIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgd2lkdGgsXG4gICAgICAgICAgICBib3R0b20gPSB0b3AgKyBoZWlnaHRcblxuICAgICAgICBjb25zdCBpdGVtVG9wT2Zmc2V0ID0gc2Nyb2xsYmxvY2tUb3BPZmZzZXQgKyBjcmFkbGVUb3AgKyB0b3AsIC8vIG9mZnNldCBmcm9tIHRvcCBvZiB2aWV3cG9ydFxuICAgICAgICAgICAgaXRlbUJvdHRvbU9mZnNldCA9IHNjcm9sbGJsb2NrVG9wT2Zmc2V0ICsgY3JhZGxlVG9wICsgYm90dG9tLCAvLyBvZmZzZXQgZnJvbSB0b3Agb2Ygdmlld3BvcnRcbiAgICAgICAgICAgIGl0ZW1MZWZ0T2Zmc2V0ID0gc2Nyb2xsYmxvY2tMZWZ0T2Zmc2V0ICsgY3JhZGxlTGVmdCArIGxlZnQsIFxuICAgICAgICAgICAgaXRlbVJpZ2h0T2Zmc2V0ID0gc2Nyb2xsYmxvY2tMZWZ0T2Zmc2V0ICsgY3JhZGxlTGVmdCArIHJpZ2h0IFxuXG5cbiAgICAgICAgbGV0IGlzVmlzaWJsZSA9IGZhbHNlIC8vIGRlZmF1bHRcblxuICAgICAgICBsZXQgdG9wUG9ydGlvbixcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24sXG4gICAgICAgICAgICBsZWZ0UG9ydGlvbixcbiAgICAgICAgICAgIHJpZ2h0UG9ydGlvblxuXG4gICAgICAgIGlmICgoaXRlbVRvcE9mZnNldCA8IDApICYmIChpdGVtQm90dG9tT2Zmc2V0ID4gMCkpIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIGlzVmlzaWJsZSA9IHRydWVcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24gPSBpdGVtQm90dG9tT2Zmc2V0XG4gICAgICAgICAgICB0b3BQb3J0aW9uID0gYm90dG9tUG9ydGlvbiAtIGhlaWdodFxuXG4gICAgICAgIH0gZWxzZSBpZiAoKGl0ZW1Ub3BPZmZzZXQgPj0gMCkgJiYgKGl0ZW1Cb3R0b21PZmZzZXQgPCB2aWV3cG9ydEhlaWdodCkpIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIGlzVmlzaWJsZSA9IHRydWVcbiAgICAgICAgICAgIHRvcFBvcnRpb24gPSBoZWlnaHRcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24gPSAwXG5cbiAgICAgICAgfSBlbHNlIGlmICgoaXRlbVRvcE9mZnNldCA+IDApICYmICgoaXRlbVRvcE9mZnNldCAtIHZpZXdwb3J0SGVpZ2h0KSA8IDApKSB7XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSBpc1Zpc2libGUgPSB0cnVlXG4gICAgICAgICAgICB0b3BQb3J0aW9uID0gdmlld3BvcnRIZWlnaHQgLSBpdGVtVG9wT2Zmc2V0XG4gICAgICAgICAgICBib3R0b21Qb3J0aW9uID0gdG9wUG9ydGlvbiAtIGhlaWdodFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSBjb250aW51ZVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbUxlZnRPZmZzZXQgPCAwICYmIGl0ZW1SaWdodE9mZnNldCA+IDApIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykgaXNWaXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uID0gaXRlbVJpZ2h0T2Zmc2V0XG4gICAgICAgICAgICBsZWZ0UG9ydGlvbiA9IHJpZ2h0UG9ydGlvbiAtIHdpZHRoXG5cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtTGVmdE9mZnNldCA+PSAwICYmIGl0ZW1SaWdodE9mZnNldCA8IHZpZXdwb3J0V2lkdGgpIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykgaXNWaXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgbGVmdFBvcnRpb24gPSB3aWR0aFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uID0gMFxuXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbUxlZnRPZmZzZXQgPiAwICYmIChpdGVtTGVmdE9mZnNldCAtIHZpZXdwb3J0V2lkdGgpIDwgMCkge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSBpc1Zpc2libGUgPSB0cnVlXG4gICAgICAgICAgICBsZWZ0UG9ydGlvbiA9IHZpZXdwb3J0V2lkdGggLSBpdGVtTGVmdE9mZnNldFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uID0gbGVmdFBvcnRpb24gLSB3aWR0aFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIGNvbnRpbnVlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsUmF0aW8gPSBcbiAgICAgICAgICAgICAgICAodG9wUG9ydGlvbiA+IDApP1xuICAgICAgICAgICAgICAgICAgICB0b3BQb3J0aW9uL2hlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tUG9ydGlvbi9oZWlnaHQsXG4gICAgICAgICAgICBob3Jpem9udGFsUmF0aW8gPSBcbiAgICAgICAgICAgICAgICAobGVmdFBvcnRpb24gPiAwKT9cbiAgICAgICAgICAgICAgICAgICAgbGVmdFBvcnRpb24vd2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UG9ydGlvbi9oZWlnaHRcblxuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcblxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpc1Zpc2libGUsXG5cbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuXG4gICAgICAgICAgICBpdGVtVG9wT2Zmc2V0LFxuICAgICAgICAgICAgaXRlbUJvdHRvbU9mZnNldCxcbiAgICAgICAgICAgIHRvcFBvcnRpb24sXG4gICAgICAgICAgICBib3R0b21Qb3J0aW9uLFxuXG4gICAgICAgICAgICBpdGVtTGVmdE9mZnNldCxcbiAgICAgICAgICAgIGl0ZW1SaWdodE9mZnNldCxcbiAgICAgICAgICAgIGxlZnRQb3J0aW9uLFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uLFxuXG4gICAgICAgICAgICB2ZXJ0aWNhbFJhdGlvLFxuICAgICAgICAgICAgaG9yaXpvbnRhbFJhdGlvLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbURhdGEpXG5cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdFxufVxuXG4iXSwibmFtZXMiOlsiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwiaGFuZGxlcnNSZWYiLCJjdXJyZW50IiwiaW50ZXJydXB0SGFuZGxlciIsInNpZ25hbHMiLCJzdGF0ZUhhbmRsZXIiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwicGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsInNldENyYWRsZVN0YXRlIiwiaW5kZXgiLCJjb25zb2xlIiwibG9nIiwic2NhZmZvbGRIYW5kbGVyIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4Iiwic2VydmljZUNhbGxzIiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJnZXRWaXNpYmxlSXRlbXNMaXN0IiwiX2EiLCJpdGVtRWxlbWVudE1hcCIsInZpZXdwb3J0RWxlbWVudCIsImNyYWRsZUVsZW1lbnRzIiwiY3JhZGxlUHJvcHMiLCJjcmFkbGVDb250ZW50IiwiaGVhZEVsZW1lbnQiLCJoZWFkUmVmIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiaGVhZGxpc3QiLCJoZWFkTW9kZWxDb21wb25lbnRzIiwiaXRlbWxpc3RpbmRleGVzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsInNvcnQiLCJhIiwiYiIsImhlYWRsaXN0aW5kZXhlcyIsIl9pIiwiaXRlbSIsInB1c2giLCJwYXJzZUludCIsInByb3BzIiwibGlzdCIsImNyYWRsZVRvcCIsIm9mZnNldFRvcCIsImNyYWRsZUxlZnQiLCJvZmZzZXRMZWZ0Iiwic2Nyb2xsYmxvY2tUb3BPZmZzZXQiLCJzY3JvbGxUb3AiLCJzY3JvbGxibG9ja0xlZnRPZmZzZXQiLCJzY3JvbGxMZWZ0Iiwidmlld3BvcnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ2aWV3cG9ydFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJ2aWV3cG9ydFRvcE9mZnNldCIsInZpZXdwb3J0Qm90dG9tT2Zmc2V0IiwiX2IiLCJlbGVtZW50IiwiZ2V0IiwiaW5oZWFkbGlzdCIsImluY2x1ZGVzIiwidG9wXzEiLCJvcmllbnRhdGlvbiIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsInJpZ2h0IiwiYm90dG9tIiwiaXRlbVRvcE9mZnNldCIsIml0ZW1Cb3R0b21PZmZzZXQiLCJpdGVtTGVmdE9mZnNldCIsIml0ZW1SaWdodE9mZnNldCIsImlzVmlzaWJsZSIsInRvcFBvcnRpb24iLCJib3R0b21Qb3J0aW9uIiwibGVmdFBvcnRpb24iLCJyaWdodFBvcnRpb24iLCJ2ZXJ0aWNhbFJhdGlvIiwiaG9yaXpvbnRhbFJhdGlvIiwiaXRlbURhdGEiLCJ0b3AiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/servicehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/statehandler.tsx":
/*!*************************************!*\
  !*** ./src/cradle/statehandler.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // statehandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StateHandler =\n/** @class */\nfunction () {\n  function StateHandler(cradleParameters) {\n    this.cradleParameters = cradleParameters;\n    var internalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n    this.setCradleState = internalProperties.setCradleState;\n    this.cradleStateRef = internalProperties.cradleStateRef;\n    this.isMountedRef = internalProperties.isMountedRef;\n  }\n\n  return StateHandler;\n}();\n\nexports[\"default\"] = StateHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7O0FBRUE7QUFBQTtBQUFBO0VBRUksc0JBQVlBLGdCQUFaLEVBQTRCO0lBRXpCLEtBQUtBLGdCQUFMLEdBQXdCQSxnQkFBeEI7SUFFQSxJQUFNQyxrQkFBa0IsR0FBR0QsZ0JBQWdCLENBQUNFLDJCQUFqQixDQUE2Q0MsT0FBeEU7SUFFQSxLQUFLQyxjQUFMLEdBQXNCSCxrQkFBa0IsQ0FBQ0csY0FBekM7SUFDQSxLQUFLQyxjQUFMLEdBQXNCSixrQkFBa0IsQ0FBQ0ksY0FBekM7SUFDQSxLQUFLQyxZQUFMLEdBQW9CTCxrQkFBa0IsQ0FBQ0ssWUFBdkM7RUFFRjs7RUFRTDtBQUFDLENBcEJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc3RhdGVoYW5kbGVyLnRzeD82Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZUhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgY29uc3QgaW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgdGhpcy5zZXRDcmFkbGVTdGF0ZSA9IGludGVybmFsUHJvcGVydGllcy5zZXRDcmFkbGVTdGF0ZVxuICAgICAgIHRoaXMuY3JhZGxlU3RhdGVSZWYgPSBpbnRlcm5hbFByb3BlcnRpZXMuY3JhZGxlU3RhdGVSZWZcbiAgICAgICB0aGlzLmlzTW91bnRlZFJlZiA9IGludGVybmFsUHJvcGVydGllcy5pc01vdW50ZWRSZWZcbiAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBjcmFkbGVTdGF0ZVJlZlxuICAgIHB1YmxpYyBzZXRDcmFkbGVTdGF0ZVxuICAgIHB1YmxpYyBpc01vdW50ZWRSZWZcblxufVxuIl0sIm5hbWVzIjpbImNyYWRsZVBhcmFtZXRlcnMiLCJpbnRlcm5hbFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjdXJyZW50Iiwic2V0Q3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImlzTW91bnRlZFJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/statehandler.tsx\n");

/***/ }),

/***/ "./src/cradle/styleshandler.tsx":
/*!**************************************!*\
  !*** ./src/cradle/styleshandler.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval(" // styleshandler.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StylesHandler =\n/** @class */\nfunction () {\n  function StylesHandler(cradleParameters) {\n    var _this = this;\n\n    this.setCradleStyles = function (_a) {\n      var orientation = _a.orientation,\n          cellHeight = _a.cellHeight,\n          cellWidth = _a.cellWidth,\n          gap = _a.gap,\n          padding = _a.padding,\n          crosscount = _a.crosscount,\n          viewportheight = _a.viewportheight,\n          viewportwidth = _a.viewportwidth,\n          userstyles = _a.userstyles,\n          triggerlineOffset = _a.triggerlineOffset; // TODO: change 'cradle' to 'head' and 'tail' for more granularity\n      // TODO: triggerline offset for head styles experimentally set to negative\n      //    to assure a brealline is always available for notification\n\n      var headstyles = _this.getHeadStyles(gap, padding, orientation, userstyles.cradle);\n\n      var tailstyles = _this.getTailStyles(gap, padding, orientation, userstyles.cradle);\n\n      var axisstyles = _this.getAxisStyles(gap, padding, orientation, userstyles.axis);\n\n      var triggerlineheadstyles = _this.getTriggerlineHeadStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n      var triggerlinetailstyles = _this.getTriggerlineTailStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n\n      var cradledividerstyles = {\n        zIndex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        boxShadow: '0 0 5px 3px red'\n      };\n      headstyles.gridGap = gap + 'px';\n      tailstyles.gridGap = gap + 'px';\n\n      if (orientation == 'horizontal') {\n        headstyles.padding = \"\".concat(padding, \"px 0 \").concat(padding, \"px \").concat(padding, \"px\");\n        headstyles.width = 'auto';\n        headstyles.height = '100%';\n        headstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        headstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n        headstyles.gridTemplateColumns = 'none';\n        tailstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px 0\");\n        tailstyles.width = 'auto';\n        tailstyles.height = '100%';\n        tailstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        tailstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto';\n        tailstyles.gridTemplateColumns = 'none';\n      } else if (orientation == 'vertical') {\n        headstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px 0 \").concat(padding, \"px\");\n        headstyles.width = '100%';\n        headstyles.height = 'auto';\n        headstyles.gridAutoFlow = 'row';\n        headstyles.gridTemplateRows = 'none';\n        headstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n        tailstyles.padding = \"0 \".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px\");\n        tailstyles.width = '100%';\n        tailstyles.height = 'auto';\n        tailstyles.gridAutoFlow = 'row';\n        tailstyles.gridTemplateRows = 'none';\n        tailstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n      }\n\n      return [headstyles, tailstyles, axisstyles, triggerlineheadstyles, triggerlinetailstyles, cradledividerstyles];\n    };\n\n    this.getHeadStyles = function (gap, padding, orientation, userheadstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 0;\n        left = 0;\n        right = 0;\n        top = 'auto';\n      } else {\n        bottom = 0;\n        left = 'auto';\n        right = 0;\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        bottom: bottom,\n        left: left,\n        right: right,\n        top: top\n      }), userheadstyles);\n    };\n\n    this.getTailStyles = function (gap, padding, orientation, usertailstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 'auto';\n        left = 0;\n        right = 0;\n        top = 0;\n      } else {\n        bottom = 0;\n        left = 0;\n        right = 'auto';\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        top: top,\n        left: left,\n        right: right,\n        bottom: bottom\n      }), usertailstyles);\n    };\n\n    this.getAxisStyles = function (gap, padding, orientation, useraxisstyles) {\n      var top, left, width, height; // for axis\n\n      if (orientation == 'vertical') {\n        top = padding + 'px';\n        left = 'auto';\n        width = '100%';\n        height = 'auto';\n      } else {\n        top = 'auto';\n        left = padding + 'px';\n        width = 0;\n        height = '100%';\n      }\n\n      return __assign(__assign({}, {\n        position: 'relative',\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      }), useraxisstyles);\n    };\n\n    this.getTriggerlineTailStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n      var transform; // for position relative to axis\n\n      var position = 'absolute',\n          // backgroundColor = 'blue',\n      width = '100%',\n          height = '100%';\n\n      if (orientation == 'horizontal') {\n        // width = '5px'\n        // height = '100%'\n        transform = \"translateX(\".concat(triggerlineOffset + 'px', \")\");\n      } else {\n        // width = '100%'\n        // height = '5px'\n        transform = \"translateY(\".concat(triggerlineOffset + 'px', \")\");\n      }\n\n      return __assign({}, {\n        position: position,\n        width: width,\n        height: height,\n        transform: transform // backgroundColor\n\n      });\n    };\n\n    this.getTriggerlineHeadStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n      var transform; // for position relative to axis\n\n      var position = 'absolute',\n          // backgroundColor = 'blue',\n      width = '100%',\n          height = '100%';\n\n      if (orientation == 'horizontal') {\n        // width = '5px'\n        // height = '100%'\n        transform = \"translateX(\".concat(-(cellWidth + gap - triggerlineOffset) + 'px', \")\");\n      } else {\n        // width = '100%'\n        // height = '5px'\n        transform = \"translateY(\".concat(-(cellHeight + gap - triggerlineOffset) + 'px', \")\");\n      }\n\n      return __assign({}, {\n        position: position,\n        width: width,\n        height: height,\n        transform: transform // backgroundColor,\n\n      });\n    };\n\n    this.cradleParameters = cradleParameters;\n  }\n\n  return StylesHandler;\n}();\n\nexports[\"default\"] = StylesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFTLEdBQUdDLEdBQVosR0FBaUJNLGlCQUFuQixJQUF3QyxJQUF0RCxFQUEwRCxHQUExRCxDQUFaO01BQ0gsQ0FKRCxNQUlPO1FBQ0g7UUFDQTtRQUNBcUMsU0FBUyxHQUFHLHFCQUFjLEVBQUU3QyxVQUFVLEdBQUdFLEdBQWIsR0FBa0JNLGlCQUFwQixJQUF5QyxJQUF2RCxFQUEyRCxHQUEzRCxDQUFaO01BQ0g7O01BQ0Qsb0JBQVk7UUFDUmdCLFFBQVEsVUFEQTtRQUVSQyxLQUFLLE9BRkc7UUFHUkMsTUFBTSxRQUhFO1FBSVJtQixTQUFTLFdBSkQsQ0FLUjs7TUFMUSxDQUFaO0lBT0gsQ0F2Qk87O0lBdk9OLEtBQUtoRCxnQkFBTCxHQUF3QkEsZ0JBQXhCO0VBRUQ7O0VBNlBMO0FBQUMsQ0FuUUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zdHlsZXNoYW5kbGVyLnRzeD80NWRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlc2hhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVzSGFuZGxlciB7IFxuXG4gICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIHNldENyYWRsZVN0eWxlcyA9ICh7XG5cbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgdXNlcnN0eWxlcyxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG5cbiAgICB9KSA9PiB7XG5cbiAgICAgICAgLy8gVE9ETzogY2hhbmdlICdjcmFkbGUnIHRvICdoZWFkJyBhbmQgJ3RhaWwnIGZvciBtb3JlIGdyYW51bGFyaXR5XG4gICAgICAgIC8vIFRPRE86IHRyaWdnZXJsaW5lIG9mZnNldCBmb3IgaGVhZCBzdHlsZXMgZXhwZXJpbWVudGFsbHkgc2V0IHRvIG5lZ2F0aXZlXG4gICAgICAgIC8vICAgIHRvIGFzc3VyZSBhIGJyZWFsbGluZSBpcyBhbHdheXMgYXZhaWxhYmxlIGZvciBub3RpZmljYXRpb25cbiAgICAgICAgY29uc3QgaGVhZHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdGhpcy5nZXRIZWFkU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXMuY3JhZGxlKVxuICAgICAgICBjb25zdCB0YWlsc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB0aGlzLmdldFRhaWxTdHlsZXMoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbiwgdXNlcnN0eWxlcy5jcmFkbGUpXG4gICAgICAgIGNvbnN0IGF4aXNzdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHRoaXMuZ2V0QXhpc1N0eWxlcyhnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2Vyc3R5bGVzLmF4aXMpXG4gICAgICAgIGNvbnN0IHRyaWdnZXJsaW5laGVhZHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdGhpcy5nZXRUcmlnZ2VybGluZUhlYWRTdHlsZXMob3JpZW50YXRpb24sY2VsbEhlaWdodCwgY2VsbFdpZHRoLCB0cmlnZ2VybGluZU9mZnNldCwgZ2FwKVxuICAgICAgICBjb25zdCB0cmlnZ2VybGluZXRhaWxzdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHRoaXMuZ2V0VHJpZ2dlcmxpbmVUYWlsU3R5bGVzKG9yaWVudGF0aW9uLGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcClcbiAgICAgICAgY29uc3QgY3JhZGxlZGl2aWRlcnN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgekluZGV4OjEsIFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxuICAgICAgICAgICAgICAgIGhlaWdodDonMTAwJScsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OicwIDAgNXB4IDNweCByZWQnXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaGVhZHN0eWxlcy5ncmlkR2FwID0gZ2FwICsgJ3B4J1xuXG4gICAgICAgIHRhaWxzdHlsZXMuZ3JpZEdhcCA9IGdhcCArICdweCdcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggMCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgLy8gZXhwbGljdCBjcm9zc2NvdW50IG5leHQgbGluZSBhcyB3b3JrYXJvdW5kIGZvciBGRiBwcm9ibGVtIC0gXG4gICAgICAgICAgICAvLyAgICAgc2V0cyBsZW5ndGggb2YgaG9yaXogY3JhZGxlIGl0ZW1zIGluIG9uZSBsaW5lIChyb3cpLCBub3QgbXVsdGktcm93IGNvbmZpZ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gJ25vbmUnXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwYFxuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgLy8gZXhwbGljdCBjcm9zc2NvdW50IG5leHQgbGluZSBhcyB3b3JrYXJvdW5kIGZvciBGRiBwcm9ibGVtIC0gXG4gICAgICAgICAgICAvLyAgICAgc2V0cyBsZW5ndGggb2YgaG9yaXogY3JhZGxlIGl0ZW1zIGluIG9uZSBsaW5lIChyb3cpLCBub3QgbXVsdGktcm93IGNvbmZpZ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gJ25vbmUnXG5cbiAgICAgICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4IDAgJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAncm93J1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSAnbm9uZSdcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IFxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aD9cbiAgICAgICAgICAgICAgICAgICAgYHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWA6XG4gICAgICAgICAgICAgICAgICAgICdhdXRvJ1xuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLnBhZGRpbmcgPSBgMCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgdGFpbHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5oZWlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ3JvdydcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gJ25vbmUnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGg/XG4gICAgICAgICAgICAgICAgICAgIGByZXBlYXQoYXV0by1maXQsIG1pbm1heCgke2NlbGxXaWR0aH1weCwgMWZyKSlgOlxuICAgICAgICAgICAgICAgICAgICAnYXV0bydcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGhlYWRzdHlsZXMsXG4gICAgICAgICAgICB0YWlsc3R5bGVzLFxuICAgICAgICAgICAgYXhpc3N0eWxlcyxcbiAgICAgICAgICAgIHRyaWdnZXJsaW5laGVhZHN0eWxlcyxcbiAgICAgICAgICAgIHRyaWdnZXJsaW5ldGFpbHN0eWxlcyxcbiAgICAgICAgICAgIGNyYWRsZWRpdmlkZXJzdHlsZXNcbiAgICAgICAgXVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEhlYWRTdHlsZXMgPSAoZ2FwLHBhZGRpbmcsb3JpZW50YXRpb24sdXNlcmhlYWRzdHlsZXMpID0+IHtcblxuICAgICAgICBsZXQgYm90dG9tLCBsZWZ0LCB0b3AsIHJpZ2h0XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9ICdhdXRvJ1xuICAgICAgICAgICAgcmlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gey4uLntcblxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgIGdyaWRHYXA6IGdhcCArICdweCcsXG4gICAgICAgICAgICBwYWRkaW5nOiBwYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBhbGlnbkNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB0b3AsXG5cbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLC4uLnVzZXJoZWFkc3R5bGVzfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUYWlsU3R5bGVzID0gKGdhcCxwYWRkaW5nLG9yaWVudGF0aW9uLHVzZXJ0YWlsc3R5bGVzKSA9PiB7XG5cbiAgICAgICAgbGV0IGJvdHRvbSwgbGVmdCwgdG9wLCByaWdodFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBib3R0b20gPSAnYXV0bydcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgdG9wID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsuLi57XG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgICAgICBncmlkR2FwOiBnYXAgKyAncHgnLFxuICAgICAgICAgICAgcGFkZGluZzogcGFkZGluZyArICdweCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYWxpZ25Db250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcywuLi51c2VydGFpbHN0eWxlc31cblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXhpc1N0eWxlcyA9IChnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2VyYXhpc3N0eWxlcykgPT4ge1xuICAgICAgICBsZXQgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IC8vIGZvciBheGlzXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHRvcCA9IHBhZGRpbmcgKyAncHgnXG4gICAgICAgICAgICBsZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVpZ2h0ID0gJ2F1dG8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSAnYXV0bydcbiAgICAgICAgICAgIGxlZnQgPSBwYWRkaW5nICsgJ3B4J1xuICAgICAgICAgICAgd2lkdGggPSAwXG4gICAgICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IC4uLntcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcywuLi51c2VyYXhpc3N0eWxlc31cblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VHJpZ2dlcmxpbmVUYWlsU3R5bGVzID0gKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApID0+IHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybSAvLyBmb3IgcG9zaXRpb24gcmVsYXRpdmUgdG8gYXhpc1xuICAgICAgICBsZXQgcG9zaXRpb24gPSAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yID0gJ2JsdWUnLFxuICAgICAgICAgICAgd2lkdGggPSAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQgPSAnMTAwJSdcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICAvLyB3aWR0aCA9ICc1cHgnXG4gICAgICAgICAgICAvLyBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgLy8gaGVpZ2h0ID0gJzVweCdcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dHJpZ2dlcmxpbmVPZmZzZXQgKyAncHgnfSlgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvclxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXN9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGdldFRyaWdnZXJsaW5lSGVhZFN0eWxlcyA9IChvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCB0cmlnZ2VybGluZU9mZnNldCwgZ2FwKSA9PiB7XG4gICAgICAgIGxldCB0cmFuc2Zvcm0gLy8gZm9yIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGF4aXNcblxuICAgICAgICBsZXQgcG9zaXRpb24gPSAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgLy8gYmFja2dyb3VuZENvbG9yID0gJ2JsdWUnLFxuICAgICAgICAgICAgd2lkdGggPSAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgLy8gd2lkdGggPSAnNXB4J1xuICAgICAgICAgICAgLy8gaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey0oY2VsbFdpZHRoICsgZ2FwIC10cmlnZ2VybGluZU9mZnNldCkgKyAncHgnfSlgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgLy8gaGVpZ2h0ID0gJzVweCdcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7LShjZWxsSGVpZ2h0ICsgZ2FwIC10cmlnZ2VybGluZU9mZnNldCkgKyAncHgnfSlgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmFkbGVQYXJhbWV0ZXJzIiwiX2EiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJnYXAiLCJwYWRkaW5nIiwiY3Jvc3Njb3VudCIsInZpZXdwb3J0aGVpZ2h0Iiwidmlld3BvcnR3aWR0aCIsInVzZXJzdHlsZXMiLCJ0cmlnZ2VybGluZU9mZnNldCIsImhlYWRzdHlsZXMiLCJfdGhpcyIsImdldEhlYWRTdHlsZXMiLCJjcmFkbGUiLCJ0YWlsc3R5bGVzIiwiZ2V0VGFpbFN0eWxlcyIsImF4aXNzdHlsZXMiLCJnZXRBeGlzU3R5bGVzIiwiYXhpcyIsInRyaWdnZXJsaW5laGVhZHN0eWxlcyIsImdldFRyaWdnZXJsaW5lSGVhZFN0eWxlcyIsInRyaWdnZXJsaW5ldGFpbHN0eWxlcyIsImdldFRyaWdnZXJsaW5lVGFpbFN0eWxlcyIsImNyYWRsZWRpdmlkZXJzdHlsZXMiLCJ6SW5kZXgiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2hhZG93IiwiZ3JpZEdhcCIsImNvbmNhdCIsImdyaWRBdXRvRmxvdyIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwidXNlcmhlYWRzdHlsZXMiLCJib3R0b20iLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkNvbnRlbnQiLCJib3hTaXppbmciLCJ1c2VydGFpbHN0eWxlcyIsInVzZXJheGlzc3R5bGVzIiwidHJhbnNmb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/styleshandler.tsx\n");

/***/ }),

/***/ "./src/infinitegridscroller.tsx":
/*!**************************************!*\
  !*** ./src/infinitegridscroller.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("// infinitegridscroller.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\n/*\n    ROADMAP:\n        cache management\n        suspense analog\n        review all code\n        modes: uniform, variable, dynamic\n        insert, remove, swap functions\n        test changing all gridscroller parameters\n\n    BUGS:\n        - use requestidlecallback for fetch from portal\n        - top padding was lost under heavy cache loads\n        - triggerlines are confounded under heavy cache loads\n        - does portal need to be returned to cache?\n        - nested lists need to have orientation property changed on pivot\n        - clearCache user callback to anticipate different dataset?\n        - or clearCache with new getItem function\n\n    TODO:\n        customizable scrolltracker\n        reload from/to for insertions and substitutions\n        provide user with isReparenting flag to be able to reset scroll\n        check use of useCallback\n        resize triggered by root only, unless variable\n        intersection applied to cradle only\n        test for two root portals\n        promote system constants to 'advanced' parameter, eg RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE\n        calc minwidth by form factor\n        review scroller-frame for appropriate dimensions - s/b inset:0;position:absolute\n        add grid-template-rows: max-content to parent for safari issue grid-auto-flow: column not filling column\n*/\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __importDefault(__webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"));\n\nvar scrollblock_1 = __importDefault(__webpack_require__(/*! ./scrollblock */ \"./src/scrollblock.tsx\"));\n\nvar cradle_1 = __importDefault(__webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\")); // -------------------[ global session ID generator ]----------------\n\n\nvar globalScrollerID = 0; // ===================================[ INITIALIZE ]===========================\n\n/*\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the scrollblock, fullsize for adjusted cell height/width, which in turn contains the cradle\n        - a component that contains CellShells (which contain displayed items or transitional placeholders).\n    The CellShells are skeletons which contain the host content components.\n\n    Host content is created in a portal cache (via PortalAgent) and then portal'd to its host CellShell\n\n    Scrollblock virtually represents the entirety of the list, and is the scroller\n\n    Cradle contains the list items, and is 'virtualized' -- it appears as\n      though it is the full scrollblock, but in fact it is only slightly larger than\n      the viewport.\n    - individual items are framed by CellShell, managed by Cradle\n\n    Overall the infinitegridscroller manages the (often asynchronous) interactions of the\n    components of the mechanism\n*/\n\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  // ------------------[ normalize properties ]--------------------\n  // const props = Object.assign({},args) // args should be immutable\n  var orientation = props.orientation,\n      // vertical or horizontal\n  gap = props.gap,\n      // space between grid cells, not including the leading and trailing edges\n  padding = props.padding,\n      // the space between the items and the viewport, applied to the cradle\n  cellHeight = props.cellHeight,\n      // the outer pixel height - literal for vertical; approximate for horizontal\n  cellWidth = props.cellWidth,\n      // the outer pixel width - literal for horizontal; approximate for vertical\n  layout = props.layout,\n      // uniform, variable (doesn't use axis), dynamic (uses axis), dense\n  runwaySize = props.runwaySize,\n      // the number of items outside the view of each side of the viewport \n  // -- gives time to assemble before display\n  listSize = props.listSize,\n      // the exact number of the size of the virtual list; will eventually be changable.\n  defaultVisibleIndex = props.indexOffset,\n      // the 0-based starting index of the list, when first loaded\n  getItem = props.getItem,\n      // function provided by host - parameter is index number, set by system; return value is \n  // host-selected component or promise of a component\n  functions = props.functions,\n      // properties to get direct access to some component utilites, optional\n  placeholder = props.placeholder,\n      // a sparse component to stand in for content until the content arrives; \n  // optional, replaces default placeholder\n  styles = props.styles,\n      // passive style over-rides (eg. color, opacity); has \n  // properties viewport, scrollblock, cradle, or scrolltracker\n  // to come...\n  cache = props.cache,\n      //  = \"preload\" or \"keepload\" or \"cradle\"\n  cacheMax = props.cacheMax,\n      // (always minimum cradle)\n  advanced = props.advanced,\n      // technical settings like useRequestIdleCallback, and RequestIdleCallbackTimeout\n  scrollerName = props.scrollerName,\n      // for debugging\n  triggerlineOffset = props.triggerlineOffset,\n      indexOffset = props.indexOffset;\n  var gridSpecs = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    layout: layout\n  }; // allow scrollerID to be set by useEffect. Inline setting causes double processing\n\n  var _a = (0, react_1.useState)('setup'),\n      scrollerState = _a[0],\n      setScrollerState = _a[1]; // set defaults\n\n\n  functions !== null && functions !== void 0 ? functions : functions = {};\n  styles !== null && styles !== void 0 ? styles : styles = {};\n  gap !== null && gap !== void 0 ? gap : gap = 0;\n  padding !== null && padding !== void 0 ? padding : padding = 0;\n  runwaySize !== null && runwaySize !== void 0 ? runwaySize : runwaySize = 3;\n  runwaySize = Math.max(0, runwaySize);\n  indexOffset !== null && indexOffset !== void 0 ? indexOffset : indexOffset = 0;\n  listSize !== null && listSize !== void 0 ? listSize : listSize = 0;\n  listSize = Math.max(0, listSize);\n  layout !== null && layout !== void 0 ? layout : layout = 'uniform';\n  cache !== null && cache !== void 0 ? cache : cache = 'keepload'; // constraints\n\n  indexOffset = Math.max(0, indexOffset); // non-negative\n\n  indexOffset = Math.min(listSize - 1, indexOffset); // not larger than list\n\n  if (!['horizontal', 'vertical'].includes(orientation)) {\n    orientation = 'vertical';\n  }\n\n  if (!['preload', 'keepload', 'cradle'].includes(cache)) {\n    cache = 'cradle';\n  } // TODO: rationalize with cellHeight & cellWidth; must be less than half\n\n\n  triggerlineOffset !== null && triggerlineOffset !== void 0 ? triggerlineOffset : triggerlineOffset = 10;\n  var gridSpecsRef = (0, react_1.useRef)(gridSpecs);\n  var stylesRef = (0, react_1.useRef)(styles);\n  var functionsRef = (0, react_1.useRef)(functions); // satisfy React Object.is for attributes\n\n  if (!compareProps(gridSpecs, gridSpecsRef.current)) {\n    gridSpecsRef.current = gridSpecs;\n  }\n\n  if (!compareProps(styles, stylesRef.current)) {\n    stylesRef.current = styles;\n  }\n\n  if (!compareProps(functions, functionsRef.current)) {\n    functionsRef.current = functions;\n  } // for mount\n\n\n  var scrollerSessionIDRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    scrollerSessionIDRef.current = globalScrollerID++;\n  }, []);\n  var scrollerID = scrollerSessionIDRef.current; // --------------------[ render ]---------------------\n\n  (0, react_1.useEffect)(function () {\n    switch (scrollerState) {\n      case 'setup':\n        setScrollerState('ready');\n    }\n  }, [scrollerState]);\n  return react_1[\"default\"].createElement(react_1[\"default\"].StrictMode, null, scrollerState != 'setup' && react_1[\"default\"].createElement(viewport_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerID: scrollerID\n  }, react_1[\"default\"].createElement(scrollblock_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerID: scrollerID,\n    listsize: listSize\n  }, react_1[\"default\"].createElement(cradle_1[\"default\"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerID: scrollerID,\n    scrollerName: scrollerName,\n    listsize: listSize,\n    cache: cache,\n    cacheMax: cacheMax,\n    functions: functionsRef.current,\n    defaultVisibleIndex: defaultVisibleIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    runwayRowcountSpec: runwaySize,\n    triggerlineOffset: triggerlineOffset\n  }))));\n};\n\nexports[\"default\"] = InfiniteGridScroller; // utilities\n\nfunction compareProps(obj1, obj2) {\n  var keys = Object.keys(obj1);\n  var same;\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var key = keys_1[_i];\n\n    if (!Object.is(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFDQTs7QUFDQSx3RixDQUVBOzs7QUFFQSxJQUFJQSxnQkFBZ0IsR0FBRyxDQUF2QixDLENBRUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQkEsSUFBTUMsb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUF1QixDQUFDQyxLQUFELEVBQU07RUFFL0I7RUFFQTtFQUdJLGVBQVcsR0F5QlhBLEtBQUssWUF6Qkw7RUFBQSxJQUFhO0VBQ2JDLEdBQUcsR0F3QkhELEtBQUssSUF6Qkw7RUFBQSxJQUNLO0VBQ0xFLE9BQU8sR0F1QlBGLEtBQUssUUF6Qkw7RUFBQSxJQUVTO0VBQ1RHLFVBQVUsR0FzQlZILEtBQUssV0F6Qkw7RUFBQSxJQUdZO0VBQ1pJLFNBQVMsR0FxQlRKLEtBQUssVUF6Qkw7RUFBQSxJQUlXO0VBQ1hLLE1BQU0sR0FvQk5MLEtBQUssT0F6Qkw7RUFBQSxJQUtRO0VBRVJNLFVBQVUsR0FrQlZOLEtBQUssV0F6Qkw7RUFBQSxJQU9ZO0VBQ1I7RUFDSk8sUUFBUSxHQWdCUlAsS0FBSyxTQXpCTDtFQUFBLElBU1U7RUFDRVEsbUJBQW1CLEdBZS9CUixLQUFLLFlBekJMO0VBQUEsSUFVaUM7RUFDakNTLE9BQU8sR0FjUFQsS0FBSyxRQXpCTDtFQUFBLElBV1M7RUFDTDtFQUNKVSxTQUFTLEdBWVRWLEtBQUssVUF6Qkw7RUFBQSxJQWFXO0VBQ1hXLFdBQVcsR0FXWFgsS0FBSyxZQXpCTDtFQUFBLElBY2E7RUFDVDtFQUNKWSxNQUFNLEdBU05aLEtBQUssT0F6Qkw7RUFBQSxJQWdCUTtFQUNKO0VBQ0o7RUFDQWEsS0FBSyxHQU1MYixLQUFLLE1BekJMO0VBQUEsSUFtQk87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QixRQVRWO0lBVUhNLEtBQUssRUFBSUEsS0FWTjtJQVdIQyxRQUFRLEVBQUlBLFFBWFQ7SUFhSEosU0FBUyxFQUFLbUIsWUFBWSxDQUFDRSxPQWJ4QjtJQWNIdkIsbUJBQW1CLEVBQUtBLG1CQWRyQjtJQWVIQyxPQUFPLEVBQUtBLE9BZlQ7SUFnQkhFLFdBQVcsRUFBS0EsV0FoQmI7SUFpQkg2QixrQkFBa0IsRUFBS2xDLFVBakJwQjtJQW1CSFcsaUJBQWlCLEVBQUtBO0VBbkJuQixDQUFQLENBWEosQ0FUMkIsQ0FEL0IsQ0FESjtBQWlESCxDQTFKRDs7QUE0SkF3QixrQkFBQUEsR0FBZTFDLG9CQUFmLEMsQ0FFQTs7QUFDQSxTQUFTK0IsWUFBVCxDQUF1QlksSUFBdkIsRUFBNEJDLElBQTVCLEVBQWdDO0VBQzVCLElBQU1DLElBQUksR0FBR0MsTUFBTSxDQUFDRCxJQUFQLENBQVlGLElBQVosQ0FBYjtFQUNBLElBQUlJLElBQUo7O0VBQ0EsS0FBZ0IseUJBQWhCLEVBQWdCQyxrQkFBaEIsRUFBZ0JBLElBQWhCLEVBQXNCO0lBQWpCLElBQUlDLEdBQUcsYUFBUDs7SUFDRCxJQUFJLENBQUNILE1BQU0sQ0FBQ0ksRUFBUCxDQUFVUCxJQUFJLENBQUNNLEdBQUQsQ0FBZCxFQUFvQkwsSUFBSSxDQUFDSyxHQUFELENBQXhCLENBQUwsRUFBcUM7TUFDakMsT0FBTyxLQUFQO0lBQ0g7RUFDSjs7RUFDRCxPQUFPLElBQVA7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4PzYzZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMiBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFJPQURNQVA6XG4gICAgICAgIGNhY2hlIG1hbmFnZW1lbnRcbiAgICAgICAgc3VzcGVuc2UgYW5hbG9nXG4gICAgICAgIHJldmlldyBhbGwgY29kZVxuICAgICAgICBtb2RlczogdW5pZm9ybSwgdmFyaWFibGUsIGR5bmFtaWNcbiAgICAgICAgaW5zZXJ0LCByZW1vdmUsIHN3YXAgZnVuY3Rpb25zXG4gICAgICAgIHRlc3QgY2hhbmdpbmcgYWxsIGdyaWRzY3JvbGxlciBwYXJhbWV0ZXJzXG5cbiAgICBCVUdTOiBcbiAgICAgICAgLSB1c2UgcmVxdWVzdGlkbGVjYWxsYmFjayBmb3IgZmV0Y2ggZnJvbSBwb3J0YWxcbiAgICAgICAgLSB0b3AgcGFkZGluZyB3YXMgbG9zdCB1bmRlciBoZWF2eSBjYWNoZSBsb2Fkc1xuICAgICAgICAtIHRyaWdnZXJsaW5lcyBhcmUgY29uZm91bmRlZCB1bmRlciBoZWF2eSBjYWNoZSBsb2Fkc1xuICAgICAgICAtIGRvZXMgcG9ydGFsIG5lZWQgdG8gYmUgcmV0dXJuZWQgdG8gY2FjaGU/XG4gICAgICAgIC0gbmVzdGVkIGxpc3RzIG5lZWQgdG8gaGF2ZSBvcmllbnRhdGlvbiBwcm9wZXJ0eSBjaGFuZ2VkIG9uIHBpdm90XG4gICAgICAgIC0gY2xlYXJDYWNoZSB1c2VyIGNhbGxiYWNrIHRvIGFudGljaXBhdGUgZGlmZmVyZW50IGRhdGFzZXQ/XG4gICAgICAgIC0gb3IgY2xlYXJDYWNoZSB3aXRoIG5ldyBnZXRJdGVtIGZ1bmN0aW9uXG5cbiAgICBUT0RPOlxuICAgICAgICBjdXN0b21pemFibGUgc2Nyb2xsdHJhY2tlclxuICAgICAgICByZWxvYWQgZnJvbS90byBmb3IgaW5zZXJ0aW9ucyBhbmQgc3Vic3RpdHV0aW9uc1xuICAgICAgICBwcm92aWRlIHVzZXIgd2l0aCBpc1JlcGFyZW50aW5nIGZsYWcgdG8gYmUgYWJsZSB0byByZXNldCBzY3JvbGxcbiAgICAgICAgY2hlY2sgdXNlIG9mIHVzZUNhbGxiYWNrXG4gICAgICAgIHJlc2l6ZSB0cmlnZ2VyZWQgYnkgcm9vdCBvbmx5LCB1bmxlc3MgdmFyaWFibGVcbiAgICAgICAgaW50ZXJzZWN0aW9uIGFwcGxpZWQgdG8gY3JhZGxlIG9ubHlcbiAgICAgICAgdGVzdCBmb3IgdHdvIHJvb3QgcG9ydGFsc1xuICAgICAgICBwcm9tb3RlIHN5c3RlbSBjb25zdGFudHMgdG8gJ2FkdmFuY2VkJyBwYXJhbWV0ZXIsIGVnIFJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRVxuICAgICAgICBjYWxjIG1pbndpZHRoIGJ5IGZvcm0gZmFjdG9yXG4gICAgICAgIHJldmlldyBzY3JvbGxlci1mcmFtZSBmb3IgYXBwcm9wcmlhdGUgZGltZW5zaW9ucyAtIHMvYiBpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlXG4gICAgICAgIGFkZCBncmlkLXRlbXBsYXRlLXJvd3M6IG1heC1jb250ZW50IHRvIHBhcmVudCBmb3Igc2FmYXJpIGlzc3VlIGdyaWQtYXV0by1mbG93OiBjb2x1bW4gbm90IGZpbGxpbmcgY29sdW1uXG4qL1xuXG4ndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7dXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnXG5pbXBvcnQgU2Nyb2xsYmxvY2sgZnJvbSAnLi9zY3JvbGxibG9jaydcbmltcG9ydCBDcmFkbGUgZnJvbSAnLi9jcmFkbGUnXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1bIGdsb2JhbCBzZXNzaW9uIElEIGdlbmVyYXRvciBdLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgZ2xvYmFsU2Nyb2xsZXJJRCA9IDBcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkUgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKlxuICAgIFRoZSBqb2Igb2YgSW5maW5pdGVHcmlkU2Nyb2xsZXIgaXMgdG8gcGFzcyBwYXJhbWV0ZXJzIHRvIGRlcGVuZGVudHMuXG4gICAgVmlld3BvcnQgY29udGFpbnMgdGhlIHNjcm9sbGJsb2NrLCBmdWxsc2l6ZSBmb3IgYWRqdXN0ZWQgY2VsbCBoZWlnaHQvd2lkdGgsIHdoaWNoIGluIHR1cm4gY29udGFpbnMgdGhlIGNyYWRsZSBcbiAgICAgICAgLSBhIGNvbXBvbmVudCB0aGF0IGNvbnRhaW5zIENlbGxTaGVsbHMgKHdoaWNoIGNvbnRhaW4gZGlzcGxheWVkIGl0ZW1zIG9yIHRyYW5zaXRpb25hbCBwbGFjZWhvbGRlcnMpLiBcbiAgICBUaGUgQ2VsbFNoZWxscyBhcmUgc2tlbGV0b25zIHdoaWNoIGNvbnRhaW4gdGhlIGhvc3QgY29udGVudCBjb21wb25lbnRzLlxuXG4gICAgSG9zdCBjb250ZW50IGlzIGNyZWF0ZWQgaW4gYSBwb3J0YWwgY2FjaGUgKHZpYSBQb3J0YWxBZ2VudCkgYW5kIHRoZW4gcG9ydGFsJ2QgdG8gaXRzIGhvc3QgQ2VsbFNoZWxsXG5cbiAgICBTY3JvbGxibG9jayB2aXJ0dWFsbHkgcmVwcmVzZW50cyB0aGUgZW50aXJldHkgb2YgdGhlIGxpc3QsIGFuZCBpcyB0aGUgc2Nyb2xsZXJcblxuICAgIENyYWRsZSBjb250YWlucyB0aGUgbGlzdCBpdGVtcywgYW5kIGlzICd2aXJ0dWFsaXplZCcgLS0gaXQgYXBwZWFycyBhc1xuICAgICAgdGhvdWdoIGl0IGlzIHRoZSBmdWxsIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuXG4gICAgICB0aGUgdmlld3BvcnQuXG4gICAgLSBpbmRpdmlkdWFsIGl0ZW1zIGFyZSBmcmFtZWQgYnkgQ2VsbFNoZWxsLCBtYW5hZ2VkIGJ5IENyYWRsZVxuXG4gICAgT3ZlcmFsbCB0aGUgaW5maW5pdGVncmlkc2Nyb2xsZXIgbWFuYWdlcyB0aGUgKG9mdGVuIGFzeW5jaHJvbm91cykgaW50ZXJhY3Rpb25zIG9mIHRoZSBcbiAgICBjb21wb25lbnRzIG9mIHRoZSBtZWNoYW5pc21cbiovXG5cbmNvbnN0IEluZmluaXRlR3JpZFNjcm9sbGVyID0gKHByb3BzKSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1bIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gY29uc3QgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LGFyZ3MpIC8vIGFyZ3Mgc2hvdWxkIGJlIGltbXV0YWJsZVxuXG4gICAgbGV0IHsgXG4gICAgICAgIG9yaWVudGF0aW9uLCAvLyB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAgICAgIGdhcCwgLy8gc3BhY2UgYmV0d2VlbiBncmlkIGNlbGxzLCBub3QgaW5jbHVkaW5nIHRoZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBlZGdlc1xuICAgICAgICBwYWRkaW5nLCAvLyB0aGUgc3BhY2UgYmV0d2VlbiB0aGUgaXRlbXMgYW5kIHRoZSB2aWV3cG9ydCwgYXBwbGllZCB0byB0aGUgY3JhZGxlXG4gICAgICAgIGNlbGxIZWlnaHQsIC8vIHRoZSBvdXRlciBwaXhlbCBoZWlnaHQgLSBsaXRlcmFsIGZvciB2ZXJ0aWNhbDsgYXBwcm94aW1hdGUgZm9yIGhvcml6b250YWxcbiAgICAgICAgY2VsbFdpZHRoLCAvLyB0aGUgb3V0ZXIgcGl4ZWwgd2lkdGggLSBsaXRlcmFsIGZvciBob3Jpem9udGFsOyBhcHByb3hpbWF0ZSBmb3IgdmVydGljYWxcbiAgICAgICAgbGF5b3V0LCAvLyB1bmlmb3JtLCB2YXJpYWJsZSAoZG9lc24ndCB1c2UgYXhpcyksIGR5bmFtaWMgKHVzZXMgYXhpcyksIGRlbnNlXG5cbiAgICAgICAgcnVud2F5U2l6ZSwgLy8gdGhlIG51bWJlciBvZiBpdGVtcyBvdXRzaWRlIHRoZSB2aWV3IG9mIGVhY2ggc2lkZSBvZiB0aGUgdmlld3BvcnQgXG4gICAgICAgICAgICAvLyAtLSBnaXZlcyB0aW1lIHRvIGFzc2VtYmxlIGJlZm9yZSBkaXNwbGF5XG4gICAgICAgIGxpc3RTaXplLCAvLyB0aGUgZXhhY3QgbnVtYmVyIG9mIHRoZSBzaXplIG9mIHRoZSB2aXJ0dWFsIGxpc3Q7IHdpbGwgZXZlbnR1YWxseSBiZSBjaGFuZ2FibGUuXG4gICAgICAgIGluZGV4T2Zmc2V0OmRlZmF1bHRWaXNpYmxlSW5kZXgsIC8vIHRoZSAwLWJhc2VkIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBsaXN0LCB3aGVuIGZpcnN0IGxvYWRlZFxuICAgICAgICBnZXRJdGVtLCAvLyBmdW5jdGlvbiBwcm92aWRlZCBieSBob3N0IC0gcGFyYW1ldGVyIGlzIGluZGV4IG51bWJlciwgc2V0IGJ5IHN5c3RlbTsgcmV0dXJuIHZhbHVlIGlzIFxuICAgICAgICAgICAgLy8gaG9zdC1zZWxlY3RlZCBjb21wb25lbnQgb3IgcHJvbWlzZSBvZiBhIGNvbXBvbmVudFxuICAgICAgICBmdW5jdGlvbnMsIC8vIHByb3BlcnRpZXMgdG8gZ2V0IGRpcmVjdCBhY2Nlc3MgdG8gc29tZSBjb21wb25lbnQgdXRpbGl0ZXMsIG9wdGlvbmFsXG4gICAgICAgIHBsYWNlaG9sZGVyLCAvLyBhIHNwYXJzZSBjb21wb25lbnQgdG8gc3RhbmQgaW4gZm9yIGNvbnRlbnQgdW50aWwgdGhlIGNvbnRlbnQgYXJyaXZlczsgXG4gICAgICAgICAgICAvLyBvcHRpb25hbCwgcmVwbGFjZXMgZGVmYXVsdCBwbGFjZWhvbGRlclxuICAgICAgICBzdHlsZXMsIC8vIHBhc3NpdmUgc3R5bGUgb3Zlci1yaWRlcyAoZWcuIGNvbG9yLCBvcGFjaXR5KTsgaGFzIFxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyB2aWV3cG9ydCwgc2Nyb2xsYmxvY2ssIGNyYWRsZSwgb3Igc2Nyb2xsdHJhY2tlclxuICAgICAgICAvLyB0byBjb21lLi4uXG4gICAgICAgIGNhY2hlLCAvLyAgPSBcInByZWxvYWRcIiBvciBcImtlZXBsb2FkXCIgb3IgXCJjcmFkbGVcIlxuICAgICAgICBjYWNoZU1heCwgLy8gKGFsd2F5cyBtaW5pbXVtIGNyYWRsZSlcbiAgICAgICAgYWR2YW5jZWQsIC8vIHRlY2huaWNhbCBzZXR0aW5ncyBsaWtlIHVzZVJlcXVlc3RJZGxlQ2FsbGJhY2ssIGFuZCBSZXF1ZXN0SWRsZUNhbGxiYWNrVGltZW91dFxuICAgICAgICBzY3JvbGxlck5hbWUsIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgIGluZGV4T2Zmc2V0LFxuICAgIH0gPSBwcm9wc1xuXG4gICAgY29uc3QgZ3JpZFNwZWNzID0geyAvLyBwYWNrYWdlXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuICAgIH1cblxuICAgIC8vIGFsbG93IHNjcm9sbGVySUQgdG8gYmUgc2V0IGJ5IHVzZUVmZmVjdC4gSW5saW5lIHNldHRpbmcgY2F1c2VzIGRvdWJsZSBwcm9jZXNzaW5nXG4gICAgY29uc3QgW3Njcm9sbGVyU3RhdGUsIHNldFNjcm9sbGVyU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJylcblxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIGZ1bmN0aW9ucyA/PyAoZnVuY3Rpb25zID0ge30pXG4gICAgc3R5bGVzID8/IChzdHlsZXMgPSB7fSlcbiAgICBnYXAgPz8gKGdhcCA9IDApXG4gICAgcGFkZGluZyA/PyAocGFkZGluZyA9IDApXG4gICAgcnVud2F5U2l6ZSA/PyAocnVud2F5U2l6ZSA9IDMpXG4gICAgcnVud2F5U2l6ZSA9IE1hdGgubWF4KDAscnVud2F5U2l6ZSlcbiAgICBpbmRleE9mZnNldCA/PyAoaW5kZXhPZmZzZXQgPSAwKVxuICAgIGxpc3RTaXplID8/IChsaXN0U2l6ZSA9IDApXG4gICAgbGlzdFNpemUgPSBNYXRoLm1heCgwLGxpc3RTaXplKVxuICAgIGxheW91dCA/PyAobGF5b3V0ID0gJ3VuaWZvcm0nKVxuICAgIGNhY2hlID8/IChjYWNoZSA9ICdrZWVwbG9hZCcpXG4gICAgLy8gY29uc3RyYWludHNcbiAgICBpbmRleE9mZnNldCA9IE1hdGgubWF4KDAsaW5kZXhPZmZzZXQpIC8vIG5vbi1uZWdhdGl2ZVxuICAgIGluZGV4T2Zmc2V0ID0gTWF0aC5taW4oKGxpc3RTaXplIC0xKSwgaW5kZXhPZmZzZXQpIC8vIG5vdCBsYXJnZXIgdGhhbiBsaXN0XG4gICAgaWYgKCFbJ2hvcml6b250YWwnLCd2ZXJ0aWNhbCddLmluY2x1ZGVzKG9yaWVudGF0aW9uKSkge1xuICAgICAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCdcbiAgICB9XG4gICAgaWYgKCFbJ3ByZWxvYWQnLCdrZWVwbG9hZCcsJ2NyYWRsZSddLmluY2x1ZGVzKGNhY2hlKSkge1xuICAgICAgICBjYWNoZSA9ICdjcmFkbGUnXG4gICAgfVxuICAgIC8vIFRPRE86IHJhdGlvbmFsaXplIHdpdGggY2VsbEhlaWdodCAmIGNlbGxXaWR0aDsgbXVzdCBiZSBsZXNzIHRoYW4gaGFsZlxuICAgIHRyaWdnZXJsaW5lT2Zmc2V0ID8/ICh0cmlnZ2VybGluZU9mZnNldCA9IDEwKSBcblxuICAgIGNvbnN0IGdyaWRTcGVjc1JlZiA9IHVzZVJlZihncmlkU3BlY3MpXG4gICAgY29uc3Qgc3R5bGVzUmVmID0gdXNlUmVmKHN0eWxlcylcbiAgICBjb25zdCBmdW5jdGlvbnNSZWYgPSB1c2VSZWYoZnVuY3Rpb25zKVxuXG4gICAgLy8gc2F0aXNmeSBSZWFjdCBPYmplY3QuaXMgZm9yIGF0dHJpYnV0ZXNcbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhncmlkU3BlY3MsIGdyaWRTcGVjc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBncmlkU3BlY3NSZWYuY3VycmVudCA9IGdyaWRTcGVjc1xuICAgIH1cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhzdHlsZXMsIHN0eWxlc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBzdHlsZXNSZWYuY3VycmVudCA9IHN0eWxlc1xuICAgIH1cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhmdW5jdGlvbnMsIGZ1bmN0aW9uc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBmdW5jdGlvbnNSZWYuY3VycmVudCA9IGZ1bmN0aW9uc1xuICAgIH1cblxuICAgIC8vIGZvciBtb3VudFxuICAgIGNvbnN0IHNjcm9sbGVyU2Vzc2lvbklEUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgdXNlRWZmZWN0ICgoKSA9PiB7XG4gICAgICAgIHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQgPSBnbG9iYWxTY3JvbGxlcklEKytcbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgc2Nyb2xsZXJJRCA9IHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZW5kZXIgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBzd2l0Y2ggKHNjcm9sbGVyU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzpcbiAgICAgICAgICAgICAgICBzZXRTY3JvbGxlclN0YXRlKCdyZWFkeScpXG4gICAgICAgIH1cblxuICAgIH0sW3Njcm9sbGVyU3RhdGVdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFJlYWN0LlN0cmljdE1vZGU+XG4gICAgICAgIHsoc2Nyb2xsZXJTdGF0ZSAhPSAnc2V0dXAnKSAmJiA8Vmlld3BvcnRcblxuICAgICAgICAgICAgZ3JpZFNwZWNzID0geyBncmlkU3BlY3NSZWYuY3VycmVudCB9XG5cbiAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuXG4gICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlcklEIH1cbiAgICAgICAgPlxuICAgICAgICBcbiAgICAgICAgICAgIDxTY3JvbGxibG9ja1xuXG4gICAgICAgICAgICAgICAgZ3JpZFNwZWNzID0geyBncmlkU3BlY3NSZWYuY3VycmVudCB9XG5cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cblxuICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuXG4gICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7IGxpc3RTaXplIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q3JhZGxlIFxuXG4gICAgICAgICAgICAgICAgICAgIGdyaWRTcGVjcyA9IHsgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlck5hbWUgPSB7IHNjcm9sbGVyTmFtZSB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7IGxpc3RTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgY2FjaGUgPSB7Y2FjaGV9XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlTWF4ID0ge2NhY2hlTWF4fVxuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9ucyA9IHsgZnVuY3Rpb25zUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlzaWJsZUluZGV4ID0geyBkZWZhdWx0VmlzaWJsZUluZGV4IH1cbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbSA9IHsgZ2V0SXRlbSB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0geyBwbGFjZWhvbGRlciB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bndheVJvd2NvdW50U3BlYyA9IHsgcnVud2F5U2l6ZSB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSB7IHRyaWdnZXJsaW5lT2Zmc2V0IH1cblxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Njcm9sbGJsb2NrPlxuICAgICAgICA8L1ZpZXdwb3J0Pn1cbiAgICAgICAgPC9SZWFjdC5TdHJpY3RNb2RlPlxuXG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbmZpbml0ZUdyaWRTY3JvbGxlclxuXG4vLyB1dGlsaXRpZXNcbmZ1bmN0aW9uIGNvbXBhcmVQcm9wcyAob2JqMSxvYmoyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iajEpXG4gICAgbGV0IHNhbWVcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICBpZiAoIU9iamVjdC5pcyhvYmoxW2tleV0sb2JqMltrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbn1cbiJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxlcklEIiwiSW5maW5pdGVHcmlkU2Nyb2xsZXIiLCJwcm9wcyIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0IiwicnVud2F5U2l6ZSIsImxpc3RTaXplIiwiZGVmYXVsdFZpc2libGVJbmRleCIsImdldEl0ZW0iLCJmdW5jdGlvbnMiLCJwbGFjZWhvbGRlciIsInN0eWxlcyIsImNhY2hlIiwiY2FjaGVNYXgiLCJhZHZhbmNlZCIsInNjcm9sbGVyTmFtZSIsInRyaWdnZXJsaW5lT2Zmc2V0IiwiaW5kZXhPZmZzZXQiLCJncmlkU3BlY3MiLCJvcmllbnRhdGlvbiIsInNjcm9sbGVyU3RhdGUiLCJzZXRTY3JvbGxlclN0YXRlIiwiTWF0aCIsIm1heCIsIm1pbiIsImluY2x1ZGVzIiwiZ3JpZFNwZWNzUmVmIiwic3R5bGVzUmVmIiwiZnVuY3Rpb25zUmVmIiwiY29tcGFyZVByb3BzIiwiY3VycmVudCIsInNjcm9sbGVyU2Vzc2lvbklEUmVmIiwic2Nyb2xsZXJJRCIsInJlYWN0XzEiLCJTdHJpY3RNb2RlIiwidmlld3BvcnRfMSIsInNjcm9sbGJsb2NrXzEiLCJsaXN0c2l6ZSIsImNyYWRsZV8xIiwicnVud2F5Um93Y291bnRTcGVjIiwiZXhwb3J0cyIsIm9iajEiLCJvYmoyIiwia2V5cyIsIk9iamVjdCIsInNhbWUiLCJfaSIsImtleSIsImlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/infinitegridscroller.tsx\n");

/***/ }),

/***/ "./src/placeholder.tsx":
/*!*****************************!*\
  !*** ./src/placeholder.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // placeholder.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Placeholder = function Placeholder(_a) {\n  var index = _a.index,\n      listsize = _a.listsize,\n      error = _a.error;\n  var stylesRef = (0, react_1.useRef)({\n    position: 'relative',\n    boxSizing: 'border-box',\n    backgroundColor: 'cyan',\n    border: '2px solid black',\n    height: '100%',\n    width: '100%'\n  });\n  var itemStylesRef = (0, react_1.useRef)({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    padding: '3px',\n    opacity: .5,\n    borderRadius: '8px',\n    backgroundColor: 'white',\n    margin: '3px',\n    fontSize: 'smaller'\n  });\n  return react_1[\"default\"].createElement(\"div\", {\n    style: stylesRef.current\n  }, !error ? react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, index + 1, \"/\", listsize, \" (loading...)\") : react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, \"item is not available at this time\"));\n};\n\nexports[\"default\"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGxhY2Vob2xkZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxFQUFELEVBQXlCO01BQXZCQyxLQUFLO01BQUVDLFFBQVE7TUFBRUMsS0FBSztFQUV4QyxJQUFNQyxTQUFTLEdBQUcsb0JBQU87SUFDckJDLFFBQVEsRUFBQyxVQURZO0lBRXJCQyxTQUFTLEVBQUMsWUFGVztJQUdyQkMsZUFBZSxFQUFDLE1BSEs7SUFJckJDLE1BQU0sRUFBQyxpQkFKYztJQUtyQkMsTUFBTSxFQUFDLE1BTGM7SUFNckJDLEtBQUssRUFBQztFQU5lLENBQVAsQ0FBbEI7RUFRQSxJQUFNQyxhQUFhLEdBQUcsb0JBQ2xCO0lBQ0lOLFFBQVEsRUFBQyxVQURiO0lBRUlPLEdBQUcsRUFBQyxDQUZSO0lBR0lDLElBQUksRUFBQyxDQUhUO0lBSUlDLE9BQU8sRUFBQyxLQUpaO0lBS0lDLE9BQU8sRUFBQyxFQUxaO0lBTUlDLFlBQVksRUFBQyxLQU5qQjtJQU9JVCxlQUFlLEVBQUMsT0FQcEI7SUFRSVUsTUFBTSxFQUFDLEtBUlg7SUFTSUMsUUFBUSxFQUFDO0VBVGIsQ0FEa0IsQ0FBdEI7RUFjQSxPQUFPQztJQUFLQyxLQUFLLEVBQUloQixTQUFTLENBQUNpQjtFQUF4QixHQUNELENBQUNsQixLQUFELEdBQ0VnQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBc0NwQixLQUFLLEdBQUcsQ0FBOUMsT0FBa0RDLFFBQWxELGtCQURGLEdBRUVpQjtJQUFLQyxLQUFLLEVBQUlULGFBQWEsQ0FBQ1U7RUFBNUIsR0FBbUMsb0NBQW5DLENBSEQsQ0FBUDtBQU9ILENBL0JEOztBQWlDQUMsa0JBQUFBLEdBQWV2QixXQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9wbGFjZWhvbGRlci50c3g/MTEzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwbGFjZWhvbGRlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5pbXBvcnQgUmVhY3QsIHt1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFBsYWNlaG9sZGVyID0gKHtpbmRleCwgbGlzdHNpemUsIGVycm9yfSkgPT4ge1xuXG4gICAgY29uc3Qgc3R5bGVzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOidjeWFuJyxcbiAgICAgICAgYm9yZGVyOicycHggc29saWQgYmxhY2snLFxuICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICB3aWR0aDonMTAwJSdcbiAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMpXG4gICAgY29uc3QgaXRlbVN0eWxlc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgbGVmdDowLFxuICAgICAgICAgICAgcGFkZGluZzonM3B4JyxcbiAgICAgICAgICAgIG9wYWNpdHk6LjUsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6JzhweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJywgXG4gICAgICAgICAgICBtYXJnaW46JzNweCcsXG4gICAgICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgIClcblxuICAgIHJldHVybiA8ZGl2IHN0eWxlID0ge3N0eWxlc1JlZi5jdXJyZW50fT5cbiAgICAgICAgeyAhZXJyb3I/XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+e2luZGV4ICsgMX0ve2xpc3RzaXplfSAobG9hZGluZy4uLik8L2Rpdj46XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+aXRlbSBpcyBub3QgYXZhaWxhYmxlIGF0IHRoaXMgdGltZTwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlciJdLCJuYW1lcyI6WyJQbGFjZWhvbGRlciIsIl9hIiwiaW5kZXgiLCJsaXN0c2l6ZSIsImVycm9yIiwic3R5bGVzUmVmIiwicG9zaXRpb24iLCJib3hTaXppbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJoZWlnaHQiLCJ3aWR0aCIsIml0ZW1TdHlsZXNSZWYiLCJ0b3AiLCJsZWZ0IiwicGFkZGluZyIsIm9wYWNpdHkiLCJib3JkZXJSYWRpdXMiLCJtYXJnaW4iLCJmb250U2l6ZSIsInJlYWN0XzEiLCJzdHlsZSIsImN1cnJlbnQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/placeholder.tsx\n");

/***/ }),

/***/ "./src/scrollblock.tsx":
/*!*****************************!*\
  !*** ./src/scrollblock.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("// scrollblock.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\n/*\n    TODO\n    update length for cradle adjustments based on variable length changes in cell shells.\n\n*/\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar Scrollblock = function Scrollblock(_a) {\n  var children = _a.children,\n      listsize = _a.listsize,\n      gridSpecs = _a.gridSpecs,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID;\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout; // -------------------------[ context and state ]-------------------------\n\n  var viewportInterruptProperties = (0, react_1.useContext)(viewport_1.ViewportInterrupt); // -----------------------------------[ data heap ]-------------------------\n\n  var baseScrollBlockLengthRef = (0, react_1.useRef)(null); // const scrollblockRef = useRef(null)\n\n  var divlinerstyleRef = (0, react_1.useRef)(Object.assign({\n    backgroundColor: 'white',\n    position: 'relative'\n  }, styles.cradle));\n\n  var _b = (0, react_1.useState)(divlinerstyleRef.current),\n      divlinerstyle = _b[0],\n      saveDivlinerstyle = _b[1]; // to trigger render\n\n\n  var _c = viewportInterruptProperties.viewportDimensions,\n      width = _c.width,\n      height = _c.height;\n  (0, react_1.useLayoutEffect)(function () {\n    updateBaseBlockLength();\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, baseScrollBlockLengthRef);\n    saveDivlinerstyle(divlinerstyleRef.current);\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBaseBlockLength = (0, react_1.useCallback)(function () {\n    var basescrollblocklength = calcBaseScrollblockLength({\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width,\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding\n    });\n    baseScrollBlockLengthRef.current = basescrollblocklength;\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'scrollblock',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\n// all the parameters can affect the length\n\n\nvar calcBaseScrollblockLength = function calcBaseScrollblockLength(_a) {\n  var orientation = _a.orientation,\n      viewportheight = _a.viewportheight,\n      viewportwidth = _a.viewportwidth,\n      listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding; // dependents of orientation\n\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n\n  if (orientation == 'vertical') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    // 'horizontal'\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  } // adjustments to viewportcrosslength\n\n\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap;\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  var listlength = Math.ceil(listsize / crosscount);\n  var straightlength = listlength * cellLength - (listlength > 0 ? gap : 0) + padding * 2;\n  return straightlength;\n};\n\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, baseScrollblocklengthRef) {\n  var localstyles = Object.assign({}, stylesRef.current);\n  var height;\n  var width;\n\n  if (orientation == 'horizontal') {\n    height = '100%';\n    width = baseScrollblocklengthRef.current + 'px';\n  } else if (orientation == 'vertical') {\n    height = baseScrollblocklengthRef.current + 'px';\n    width = '100%';\n  }\n\n  localstyles.height = height;\n  localstyles.width = width;\n  return localstyles;\n};\n\nexports[\"default\"] = Scrollblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nyb2xsYmxvY2sudHN4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7Ozs7O0FBTUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxFQUFELEVBTW5CO01BTEdDLFFBQVE7TUFDUkMsUUFBUTtNQUNSQyxTQUFTO01BQ1RDLE1BQU07TUFDTkMsVUFBVTtFQUlOLGVBQVcsR0FNWEYsU0FBUyxZQU5UO0VBQUEsSUFDQUcsR0FBRyxHQUtISCxTQUFTLElBTlQ7RUFBQSxJQUVBSSxPQUFPLEdBSVBKLFNBQVMsUUFOVDtFQUFBLElBR0FLLFVBQVUsR0FHVkwsU0FBUyxXQU5UO0VBQUEsSUFJQU0sU0FBUyxHQUVUTixTQUFTLFVBTlQ7RUFBQSxJQUtBTyxNQUFNLEdBQ05QLFNBQVMsT0FOVCxDQUhQLENBV0c7O0VBQ0EsSUFBTVEsMkJBQTJCLEdBQUcsd0JBQVdDLDRCQUFYLENBQXBDLENBWkgsQ0FjRzs7RUFDQSxJQUFNQyx3QkFBd0IsR0FBRyxvQkFBTyxJQUFQLENBQWpDLENBZkgsQ0FnQkc7O0VBQ0EsSUFBTUMsZ0JBQWdCLEdBQUcsb0JBQ3JCQyxNQUFNLENBQUNDLE1BQVAsQ0FDQTtJQUVJQyxlQUFlLEVBQUMsT0FGcEI7SUFHSUMsUUFBUSxFQUFDO0VBSGIsQ0FEQSxFQU0wQmQsTUFBTSxDQUFDZSxNQU5qQyxDQURxQixDQUF6Qjs7RUFVTSxTQUFvQyxzQkFBU0wsZ0JBQWdCLENBQUNNLE9BQTFCLENBQXBDO0VBQUEsSUFBQ0MsYUFBYSxRQUFkO0VBQUEsSUFBZUMsaUJBQWlCLFFBQWhDLENBM0JULENBMkJnRjs7O0VBRXZFLFNBQW9CWCwyQkFBMkIsQ0FBQ1ksa0JBQWhEO0VBQUEsSUFBRUMsS0FBSyxXQUFQO0VBQUEsSUFBU0MsTUFBTSxZQUFmO0VBRU4sNkJBQWdCO0lBRVpDLHFCQUFxQjtJQUNyQlosZ0JBQWdCLENBQUNNLE9BQWpCLEdBQ0lPLHVCQUF1QixDQUNuQkMsV0FEbUIsRUFFbkJkLGdCQUZtQixFQUduQkQsd0JBSG1CLENBRDNCO0lBTUFTLGlCQUFpQixDQUFDUixnQkFBZ0IsQ0FBQ00sT0FBbEIsQ0FBakI7RUFFSCxDQVhELEVBV0UsQ0FDRVEsV0FERixFQUVFSCxNQUZGLEVBR0VELEtBSEYsRUFJRXRCLFFBSkYsRUFLRU0sVUFMRixFQU1FQyxTQU5GLEVBT0VILEdBUEYsRUFRRUMsT0FSRixDQVhGO0VBc0JBLElBQU1tQixxQkFBcUIsR0FBRyx5QkFDMUI7SUFDSSxJQUFNRyxxQkFBcUIsR0FDdkJDLHlCQUF5QixDQUNyQjtNQUNJRixXQUFXLGFBRGY7TUFFSUcsY0FBYyxFQUFDTixNQUZuQjtNQUdJTyxhQUFhLEVBQUNSLEtBSGxCO01BSUl0QixRQUFRLFVBSlo7TUFLSU0sVUFBVSxZQUxkO01BTUlDLFNBQVMsV0FOYjtNQU9JSCxHQUFHLEtBUFA7TUFRSUMsT0FBTztJQVJYLENBRHFCLENBRDdCO0lBY0FNLHdCQUF3QixDQUFDTyxPQUF6QixHQUFtQ1MscUJBQW5DO0VBRUgsQ0FsQnlCLEVBa0J4QixDQUNFRCxXQURGLEVBRUVILE1BRkYsRUFHRUQsS0FIRixFQUlFdEIsUUFKRixFQUtFTSxVQUxGLEVBTUVDLFNBTkYsRUFPRUgsR0FQRixFQVFFQyxPQVJGLENBbEJ3QixDQUE5QjtFQThCQSxPQUFPMEI7SUFBQSxhQUFpQixhQUFqQjtJQUErQkMsS0FBSyxFQUFFcEIsZ0JBQWdCLENBQUNNO0VBQXZELEdBQWlFbkIsUUFBakUsQ0FBUDtBQUVILENBM0ZELEMsQ0EyRkU7QUFFRjs7O0FBQ0EsSUFBTTZCLHlCQUF5QixHQUFHLFNBQTVCQSx5QkFBNEIsQ0FBQzlCLEVBQUQsRUFTN0I7TUFSRzRCLFdBQVc7TUFDWEcsY0FBYztNQUNkQyxhQUFhO01BQ2I5QixRQUFRO01BQ1JNLFVBQVU7TUFDVkMsU0FBUztNQUNUSCxHQUFHO01BQ0hDLE9BQU8sY0FDVixDQUVEOztFQUNBLElBQUk0QixXQUFKO0VBQ0EsSUFBSUMsVUFBSjtFQUNBLElBQUlDLG1CQUFKOztFQUNBLElBQUlULFdBQVcsSUFBSSxVQUFuQixFQUErQjtJQUUzQk8sV0FBVyxHQUFHMUIsU0FBUyxHQUFHSCxHQUExQjtJQUNBOEIsVUFBVSxHQUFHNUIsVUFBVSxHQUFHRixHQUExQjtJQUNBK0IsbUJBQW1CLEdBQUdMLGFBQXRCO0VBRUgsQ0FORCxNQU1PO0lBQUU7SUFFTEcsV0FBVyxHQUFHM0IsVUFBVSxHQUFHRixHQUEzQjtJQUNBOEIsVUFBVSxHQUFHM0IsU0FBUyxHQUFHSCxHQUF6QjtJQUNBK0IsbUJBQW1CLEdBQUdOLGNBQXRCO0VBRUgsQ0FsQkEsQ0FtQkQ7OztFQUNBTSxtQkFBbUIsSUFBSzlCLE9BQU8sR0FBRyxDQUFsQztFQUNBOEIsbUJBQW1CLElBQUkvQixHQUF2QjtFQUVBLElBQUkrQixtQkFBbUIsR0FBR0YsV0FBMUIsRUFBdUNFLG1CQUFtQixHQUFHRixXQUF0QixDQXZCdEMsQ0F1QndFOztFQUN6RSxJQUFJRyxVQUFVLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxtQkFBbUIsR0FBQ0YsV0FBL0IsQ0FBakI7RUFFQSxJQUFJTSxVQUFVLEdBQUdGLElBQUksQ0FBQ0csSUFBTCxDQUFVeEMsUUFBUSxHQUFDb0MsVUFBbkIsQ0FBakI7RUFFQSxJQUFJSyxjQUFjLEdBQUlGLFVBQVUsR0FBR0wsVUFBZCxJQUNmSyxVQUFVLEdBQUcsQ0FBZCxHQUNHbkMsR0FESCxHQUVHLENBSGEsSUFJZEMsT0FBTyxHQUFHLENBSmpCO0VBTUEsT0FBT29DLGNBQVA7QUFFSCxDQTdDRDs7QUErQ0EsSUFBTWhCLHVCQUF1QixHQUFHLFNBQTFCQSx1QkFBMEIsQ0FBQ0MsV0FBRCxFQUFhZ0IsU0FBYixFQUF1QkMsd0JBQXZCLEVBQStDO0VBRTNFLElBQUlDLFdBQVcsR0FBRy9CLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLEVBQWQsRUFBaUI0QixTQUFTLENBQUN4QixPQUEzQixDQUFsQjtFQUNBLElBQUlLLE1BQUo7RUFDQSxJQUFJRCxLQUFKOztFQUNBLElBQUlJLFdBQVcsSUFBSSxZQUFuQixFQUFpQztJQUM3QkgsTUFBTSxHQUFHLE1BQVQ7SUFDQUQsS0FBSyxHQUFHcUIsd0JBQXdCLENBQUN6QixPQUF6QixHQUFtQyxJQUEzQztFQUNILENBSEQsTUFHTyxJQUFJUSxXQUFXLElBQUksVUFBbkIsRUFBK0I7SUFDbENILE1BQU0sR0FBR29CLHdCQUF3QixDQUFDekIsT0FBekIsR0FBbUMsSUFBNUM7SUFDQUksS0FBSyxHQUFHLE1BQVI7RUFDSDs7RUFDRHNCLFdBQVcsQ0FBQ3JCLE1BQVosR0FBcUJBLE1BQXJCO0VBQ0FxQixXQUFXLENBQUN0QixLQUFaLEdBQW9CQSxLQUFwQjtFQUVBLE9BQU9zQixXQUFQO0FBQ0gsQ0FoQkQ7O0FBa0JBQyxrQkFBQUEsR0FBZWhELFdBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3Njcm9sbGJsb2NrLnRzeD8yZmE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbGJsb2NrLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjIgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUT0RPXG4gICAgdXBkYXRlIGxlbmd0aCBmb3IgY3JhZGxlIGFkanVzdG1lbnRzIGJhc2VkIG9uIHZhcmlhYmxlIGxlbmd0aCBjaGFuZ2VzIGluIGNlbGwgc2hlbGxzLlxuXG4qL1xuXG4ndXNlIHN0cmljdCdcblxuaW1wb3J0IFJlYWN0LCB7dXNlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRJbnRlcnJ1cHQgfSBmcm9tICcuL3ZpZXdwb3J0J1xuXG5jb25zdCBTY3JvbGxibG9jayA9ICh7XG4gICAgY2hpbGRyZW4sXG4gICAgbGlzdHNpemUsXG4gICAgZ3JpZFNwZWNzLCBcbiAgICBzdHlsZXMsXG4gICAgc2Nyb2xsZXJJRCxcbn0pID0+IHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY29udGV4dCBhbmQgc3RhdGUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXMgPSB1c2VDb250ZXh0KFZpZXdwb3J0SW50ZXJydXB0KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGRhdGEgaGVhcCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IGJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZiA9IHVzZVJlZihudWxsKVxuICAgIC8vIGNvbnN0IHNjcm9sbGJsb2NrUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgZGl2bGluZXJzdHlsZVJlZiA9IHVzZVJlZihcbiAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J3doaXRlJyxcbiAgICAgICAgICAgIHBvc2l0aW9uOidyZWxhdGl2ZScsXG4gICAgICAgICAgICBcbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLCBzdHlsZXMuY3JhZGxlKVxuXG4gICAgKVxuICAgIGNvbnN0IFtkaXZsaW5lcnN0eWxlLHNhdmVEaXZsaW5lcnN0eWxlXSA9IHVzZVN0YXRlKGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCkgLy8gdG8gdHJpZ2dlciByZW5kZXJcblxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzLnZpZXdwb3J0RGltZW5zaW9uc1xuICAgIFxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgdXBkYXRlQmFzZUJsb2NrTGVuZ3RoKClcbiAgICAgICAgZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50ID0gXG4gICAgICAgICAgICB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyhcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICBkaXZsaW5lcnN0eWxlUmVmLFxuICAgICAgICAgICAgICAgIGJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZlxuICAgICAgICAgICAgKVxuICAgICAgICBzYXZlRGl2bGluZXJzdHlsZShkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQpXG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICBdKVxuXG4gICAgY29uc3QgdXBkYXRlQmFzZUJsb2NrTGVuZ3RoID0gdXNlQ2FsbGJhY2soXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VzY3JvbGxibG9ja2xlbmd0aCA9IFxuICAgICAgICAgICAgICAgIGNhbGNCYXNlU2Nyb2xsYmxvY2tMZW5ndGgoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRoZWlnaHQ6aGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnR3aWR0aDp3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZi5jdXJyZW50ID0gYmFzZXNjcm9sbGJsb2NrbGVuZ3RoXG5cbiAgICAgICAgfSxbXG4gICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICBdXG4gICAgKVxuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS10eXBlID0gJ3Njcm9sbGJsb2NrJyBzdHlsZT17ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fT57Y2hpbGRyZW59PC9kaXY+XG5cbn0gLy8gU2Nyb2xsYmxvY2tcblxuLy8gYWxsIHRoZSBwYXJhbWV0ZXJzIGNhbiBhZmZlY3QgdGhlIGxlbmd0aFxuY29uc3QgY2FsY0Jhc2VTY3JvbGxibG9ja0xlbmd0aCA9ICh7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICB2aWV3cG9ydGhlaWdodCxcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgIH0pID0+IHtcblxuICAgIC8vIGRlcGVuZGVudHMgb2Ygb3JpZW50YXRpb25cbiAgICBsZXQgY3Jvc3NsZW5ndGhcbiAgICBsZXQgY2VsbExlbmd0aFxuICAgIGxldCB2aWV3cG9ydGNyb3NzbGVuZ3RoXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICBjcm9zc2xlbmd0aCA9IGNlbGxXaWR0aCArIGdhcFxuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcFxuICAgICAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gdmlld3BvcnR3aWR0aCBcblxuICAgIH0gZWxzZSB7IC8vICdob3Jpem9udGFsJ1xuXG4gICAgICAgIGNyb3NzbGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcFxuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoICsgZ2FwXG4gICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSB2aWV3cG9ydGhlaWdodFxuXG4gICAgfVxuICAgIC8vIGFkanVzdG1lbnRzIHRvIHZpZXdwb3J0Y3Jvc3NsZW5ndGhcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoIC09IChwYWRkaW5nICogMilcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoICs9IGdhcFxuXG4gICAgaWYgKHZpZXdwb3J0Y3Jvc3NsZW5ndGggPCBjcm9zc2xlbmd0aCkgdmlld3BvcnRjcm9zc2xlbmd0aCA9IGNyb3NzbGVuZ3RoIC8vIG11c3QgYmUgYXQgbGVhc3Qgb25lXG4gICAgbGV0IGNyb3NzY291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0Y3Jvc3NsZW5ndGgvY3Jvc3NsZW5ndGgpXG5cbiAgICBsZXQgbGlzdGxlbmd0aCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KVxuXG4gICAgbGV0IHN0cmFpZ2h0bGVuZ3RoID0gKGxpc3RsZW5ndGggKiBjZWxsTGVuZ3RoKSAtIFxuICAgICAgICAoKGxpc3RsZW5ndGggPiAwKT9cbiAgICAgICAgICAgIGdhcDpcbiAgICAgICAgICAgIDApIFxuICAgICAgICArIChwYWRkaW5nICogMilcblxuICAgIHJldHVybiBzdHJhaWdodGxlbmd0aFxuXG59XG5cbmNvbnN0IHVwZGF0ZVNjcm9sbGJsb2NrU3R5bGVzID0gKG9yaWVudGF0aW9uLHN0eWxlc1JlZixiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYpID0+IHtcblxuICAgIGxldCBsb2NhbHN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe30sc3R5bGVzUmVmLmN1cnJlbnQpIGFzIFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgICBsZXQgaGVpZ2h0IFxuICAgIGxldCB3aWR0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgIHdpZHRoID0gYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmLmN1cnJlbnQgKyAncHgnXG4gICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgIGhlaWdodCA9IGJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgIH1cbiAgICBsb2NhbHN0eWxlcy5oZWlnaHQgPSBoZWlnaHRcbiAgICBsb2NhbHN0eWxlcy53aWR0aCA9IHdpZHRoXG5cbiAgICByZXR1cm4gbG9jYWxzdHlsZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsYmxvY2tcbiJdLCJuYW1lcyI6WyJTY3JvbGxibG9jayIsIl9hIiwiY2hpbGRyZW4iLCJsaXN0c2l6ZSIsImdyaWRTcGVjcyIsInN0eWxlcyIsInNjcm9sbGVySUQiLCJnYXAiLCJwYWRkaW5nIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsInZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllcyIsInZpZXdwb3J0XzEiLCJiYXNlU2Nyb2xsQmxvY2tMZW5ndGhSZWYiLCJkaXZsaW5lcnN0eWxlUmVmIiwiT2JqZWN0IiwiYXNzaWduIiwiYmFja2dyb3VuZENvbG9yIiwicG9zaXRpb24iLCJjcmFkbGUiLCJjdXJyZW50IiwiZGl2bGluZXJzdHlsZSIsInNhdmVEaXZsaW5lcnN0eWxlIiwidmlld3BvcnREaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJ1cGRhdGVCYXNlQmxvY2tMZW5ndGgiLCJ1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyIsIm9yaWVudGF0aW9uIiwiYmFzZXNjcm9sbGJsb2NrbGVuZ3RoIiwiY2FsY0Jhc2VTY3JvbGxibG9ja0xlbmd0aCIsInZpZXdwb3J0aGVpZ2h0Iiwidmlld3BvcnR3aWR0aCIsInJlYWN0XzEiLCJzdHlsZSIsImNyb3NzbGVuZ3RoIiwiY2VsbExlbmd0aCIsInZpZXdwb3J0Y3Jvc3NsZW5ndGgiLCJjcm9zc2NvdW50IiwiTWF0aCIsImZsb29yIiwibGlzdGxlbmd0aCIsImNlaWwiLCJzdHJhaWdodGxlbmd0aCIsInN0eWxlc1JlZiIsImJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZiIsImxvY2Fsc3R5bGVzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scrollblock.tsx\n");

/***/ }),

/***/ "./src/scrolltracker.tsx":
/*!*******************************!*\
  !*** ./src/scrolltracker.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrolltracker.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar ScrollTracker = function ScrollTracker(_a) {\n  var top = _a.top,\n      left = _a.left,\n      offset = _a.offset,\n      listsize = _a.listsize,\n      styles = _a.styles;\n  var trackdata = \"\".concat(offset + 1, \"/\").concat(listsize);\n  var styleRef = (0, react_1.useRef)(Object.assign({\n    top: top + 'px',\n    left: left + 'px',\n    position: 'fixed',\n    zIndex: 3,\n    backgroundColor: 'white',\n    border: '1px solid gray',\n    borderRadius: '10px',\n    fontSize: 'smaller',\n    padding: '3px'\n  }, styles.scrolltracker));\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'scrolltracker',\n    style: styleRef.current\n  }, trackdata);\n};\n\nexports[\"default\"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nyb2xsdHJhY2tlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUVBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsRUFBRCxFQUF3QztNQUFyQ0MsR0FBRztNQUFFQyxJQUFJO01BQUVDLE1BQU07TUFBRUMsUUFBUTtNQUFFQyxNQUFNO0VBRXhELElBQUlDLFNBQVMsR0FBRyxVQUFHSCxNQUFNLEdBQUcsQ0FBWixFQUFhLEdBQWIsRUFBYUksTUFBYixDQUFpQkgsUUFBakIsQ0FBaEI7RUFFQSxJQUFJSSxRQUFRLEdBQUcsb0JBQU9DLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0lBQ2hDVCxHQUFHLEVBQUVBLEdBQUcsR0FBRyxJQURxQjtJQUVoQ0MsSUFBSSxFQUFFQSxJQUFJLEdBQUcsSUFGbUI7SUFHaENTLFFBQVEsRUFBQyxPQUh1QjtJQUloQ0MsTUFBTSxFQUFDLENBSnlCO0lBS2hDQyxlQUFlLEVBQUMsT0FMZ0I7SUFNaENDLE1BQU0sRUFBRSxnQkFOd0I7SUFPaENDLFlBQVksRUFBQyxNQVBtQjtJQVFoQ0MsUUFBUSxFQUFDLFNBUnVCO0lBU2hDQyxPQUFPLEVBQUM7RUFUd0IsQ0FBZCxFQVVHWixNQUFNLENBQUNhLGFBVlYsQ0FBUCxDQUFmO0VBWUEsT0FBT0M7SUFBQSxhQUFpQixlQUFqQjtJQUFpQ0MsS0FBSyxFQUFJWixRQUFRLENBQUNhO0VBQW5ELEdBQThEZixTQUE5RCxDQUFQO0FBQ0gsQ0FqQkQ7O0FBbUJBZ0Isa0JBQUFBLEdBQWV2QixhQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9zY3JvbGx0cmFja2VyLnRzeD9mZjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbHRyYWNrZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmfSBmcm9tICdyZWFjdCdcblxuY29uc3QgU2Nyb2xsVHJhY2tlciA9ICh7IHRvcCwgbGVmdCwgb2Zmc2V0LCBsaXN0c2l6ZSwgc3R5bGVzIH0pID0+IHtcblxuICAgIGxldCB0cmFja2RhdGEgPSBgJHtvZmZzZXQgKyAxfS8ke2xpc3RzaXplfWBcblxuICAgIGxldCBzdHlsZVJlZiA9IHVzZVJlZihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdG9wOiB0b3AgKyAncHgnLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgJ3B4JyxcbiAgICAgICAgcG9zaXRpb246J2ZpeGVkJyxcbiAgICAgICAgekluZGV4OjMsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgZ3JheScsXG4gICAgICAgIGJvcmRlclJhZGl1czonMTBweCcsXG4gICAgICAgIGZvbnRTaXplOidzbWFsbGVyJyxcbiAgICAgICAgcGFkZGluZzonM3B4J1xuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcyxzdHlsZXMuc2Nyb2xsdHJhY2tlcikpXG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLW5hbWUgPSAnc2Nyb2xsdHJhY2tlcicgc3R5bGUgPSB7c3R5bGVSZWYuY3VycmVudH0gPnt0cmFja2RhdGF9PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFRyYWNrZXIiXSwibmFtZXMiOlsiU2Nyb2xsVHJhY2tlciIsIl9hIiwidG9wIiwibGVmdCIsIm9mZnNldCIsImxpc3RzaXplIiwic3R5bGVzIiwidHJhY2tkYXRhIiwiY29uY2F0Iiwic3R5bGVSZWYiLCJPYmplY3QiLCJhc3NpZ24iLCJwb3NpdGlvbiIsInpJbmRleCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwicGFkZGluZyIsInNjcm9sbHRyYWNrZXIiLCJyZWFjdF8xIiwic3R5bGUiLCJjdXJyZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scrolltracker.tsx\n");

/***/ }),

/***/ "./src/viewport.tsx":
/*!**************************!*\
  !*** ./src/viewport.tsx ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("// viewport.tsx\n// copyright (c) 2019-2022 Henrik Bechmann, Toronto, Licence: MIT\n\n/*\n    The role of viewport is to provide data to its children (scrollblock and cradle),\n    and act as the visible screen portal of the list being shown\n*/\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ViewportInterrupt = void 0;\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nexports.ViewportInterrupt = react_1[\"default\"].createContext(null); // for children\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar cradle_1 = __webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\");\n\nvar ResizeObserver = window['ResizeObserver'] || resize_observer_1.ResizeObserver; // control constant\n\nvar RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE = 250;\n\nvar Viewport = function Viewport(_a) {\n  // -----------------------[ initialize ]------------------\n  var children = _a.children,\n      gridSpecs = _a.gridSpecs,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID;\n  var orientation = gridSpecs.orientation,\n      gap = gridSpecs.gap,\n      padding = gridSpecs.padding,\n      cellHeight = gridSpecs.cellHeight,\n      cellWidth = gridSpecs.cellWidth,\n      layout = gridSpecs.layout;\n\n  var _b = (0, react_1.useState)('setup'),\n      viewportState = _b[0],\n      setViewportState = _b[1]; // setup, resizing, resized, render\n\n\n  var viewportStateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback scope\n\n  viewportStateRef.current = viewportState; // this is only set if viewport is a child of an infiniteScroller\n\n  var parentPortalHandler = (0, react_1.useContext)(cradle_1.CradleCacheContext);\n  var isMountedRef = (0, react_1.useRef)(true); // monitor for unmounted\n\n  (0, react_1.useEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  var viewportdivRef = (0, react_1.useRef)(null); // viewportInterruptPropertiesRef is passed as a resizing interrupt (through context) to children\n  // initialize\n\n  var viewportInterruptPropertiesRef = (0, react_1.useRef)({\n    portal: null,\n    isResizing: false,\n    index: null,\n    viewportDimensions: null,\n    elementref: null\n  }); // --------------------[ resizer setup ]-----------------------\n\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null); // set up resizeObserver\n\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportdivRef.current); // unmount\n\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []); // used by resizeObserver; generates interrupt\n\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (viewportStateRef.current == 'setup') {\n      return;\n    }\n\n    var target = entries[0].target; // first register shouldn't generate interrupt\n\n    if (!target.dataset.initialized) {\n      target.dataset.initialized = true;\n      return;\n    } // generate interrupt response, if initiating resize\n\n\n    if (!isResizingRef.current) {\n      viewportInterruptPropertiesRef.current.isResizing = isResizingRef.current = true; // new object creation triggers a realtime interrupt message to cradle through context\n\n      viewportInterruptPropertiesRef.current = Object.assign({}, viewportInterruptPropertiesRef.current);\n      if (isMountedRef.current) setViewportState('resizing');\n    }\n\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n\n      if (isMountedRef.current) {\n        setViewportState('resized');\n      }\n    }, RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE);\n  }, []); // -------------------[ set portal for non-root viewports ]-------------\n  // sets portal in viewportInterruptPropertiesRef\n\n  (0, react_1.useEffect)(function () {\n    if (!parentPortalHandler) return; // root viewport; has no portal\n\n    var portalindex;\n    var element = viewportdivRef.current;\n\n    while (element) {\n      if (element.dataset && element.dataset.type == 'portalcontainer') {\n        // set portal & exit\n        portalindex = parseInt(element.dataset.index);\n        viewportInterruptPropertiesRef.current.portal = parentPortalHandler.getPortal(portalindex);\n        viewportInterruptPropertiesRef.current.index = portalindex;\n        break;\n      } else {\n        element = element.parentElement;\n      }\n    }\n\n    if (!element) {\n      console.log('ERROR: parent portalcontainer not found');\n      return;\n    }\n  }, []); // ----------------------------------[ calculate config values ]--------------------------------\n\n  var divlinerstyleRef = (0, react_1.useRef)(null); // initialize with inherited styles\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign({\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: 'auto',\n      backgroundColor: 'red'\n    }, styles.viewport);\n  }, [styles.viewport]); // update with config values\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    // TODO: gap\n    var mincrosslength = calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding);\n    var styles = Object.assign({}, divlinerstyleRef.current); // avoid readonly\n\n    if (orientation == 'vertical') {\n      styles.minWidth = mincrosslength + 'px';\n      styles.minHeight = 'auto';\n    } else {\n      styles.minWidth = 'auto';\n      styles.minHeight = mincrosslength + 'px';\n    }\n\n    return styles;\n  }, [orientation, cellWidth, cellHeight, gap, padding]); // update viewportInterruptPropertiesRef; add viewport dimensions\n\n  viewportInterruptPropertiesRef.current = (0, react_1.useMemo)(function () {\n    if (viewportState == 'setup') return viewportInterruptPropertiesRef.current;\n\n    var _a = viewportdivRef.current.getBoundingClientRect(),\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n\n    var width = right - left;\n    var height = bottom - top; // TODO this is a duplicate setting procedure with interrupthandler.tsx cradleIntersectionObserverCallback\n\n    var localViewportData = {\n      viewportDimensions: {\n        top: top,\n        right: right,\n        bottom: bottom,\n        left: left,\n        width: width,\n        height: height\n      },\n      elementref: viewportdivRef,\n      isResizing: isResizingRef.current\n    }; // trigger context change with new object\n\n    var viewportdataobject = Object.assign({}, viewportInterruptPropertiesRef.current, localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportState]); // --------------------[ state processing ]---------------------------\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportState) {\n      case 'resized':\n      case 'setup':\n        {\n          setViewportState('render');\n          break;\n        }\n    }\n  }, [viewportState]); // ----------------------[ render ]--------------------------------\n\n  return react_1[\"default\"].createElement(exports.ViewportInterrupt.Provider, {\n    value: viewportInterruptPropertiesRef.current\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'viewport',\n    \"data-scrollerid\": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportdivRef\n  }, viewportState != 'setup' && children));\n}; // Viewport\n// establish minimum width/height for the viewport -- approximately one item\n// gap only applies with multi-width items, therefore not used in calculations\n\n\nvar calcMinViewportCrossLength = function calcMinViewportCrossLength(orientation, cellWidth, cellHeight, gap, padding) {\n  var crosslength, cellLength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellWidth;\n  } else {\n    cellLength = cellHeight;\n  }\n\n  crosslength = cellLength + padding * 2;\n  return crosslength;\n};\n\nexports[\"default\"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJaEUsT0FBTyxHQUFHLENBQXRDO0VBRUEsT0FBTytELFdBQVA7QUFFSCxDQWJEOztBQWVBN0Usa0JBQUFBLEdBQWVPLFFBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3ZpZXdwb3J0LnRzeD8wZGUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHZpZXdwb3J0LnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjIgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiB2aWV3cG9ydCBpcyB0byBwcm92aWRlIGRhdGEgdG8gaXRzIGNoaWxkcmVuIChzY3JvbGxibG9jayBhbmQgY3JhZGxlKSxcbiAgICBhbmQgYWN0IGFzIHRoZSB2aXNpYmxlIHNjcmVlbiBwb3J0YWwgb2YgdGhlIGxpc3QgYmVpbmcgc2hvd25cbiovXG5cbid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHR9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgVmlld3BvcnRJbnRlcnJ1cHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpIC8vIGZvciBjaGlsZHJlblxuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciBhcyBSZXNpemVPYnNlcnZlclBvbGx5ZmlsbCB9IGZyb20gJ0BqdWdnbGUvcmVzaXplLW9ic2VydmVyJ1xuXG5pbXBvcnQgeyBDcmFkbGVDYWNoZUNvbnRleHQgYXMgUGFyZW50Q3JhZGxlQ2FjaGVDb250ZXh0IH0gZnJvbSAnLi9jcmFkbGUnXG5cbmNvbnN0IFJlc2l6ZU9ic2VydmVyID0gd2luZG93WydSZXNpemVPYnNlcnZlciddIHx8IFJlc2l6ZU9ic2VydmVyUG9sbHlmaWxsXG5cbi8vIGNvbnRyb2wgY29uc3RhbnRcbmNvbnN0IFJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRSA9IDI1MFxuXG5jb25zdCBWaWV3cG9ydCA9ICh7XG4gICAgY2hpbGRyZW4sIFxuICAgIGdyaWRTcGVjcyxcbiAgICBzdHlsZXMsXG4gICAgc2Nyb2xsZXJJRCxcbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgY29uc3QgW3ZpZXdwb3J0U3RhdGUsc2V0Vmlld3BvcnRTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKSAvLyBzZXR1cCwgcmVzaXppbmcsIHJlc2l6ZWQsIHJlbmRlclxuXG4gICAgY29uc3Qgdmlld3BvcnRTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBmb3IgdXNlQ2FsbGJhY2sgLT4gcmVzaXplQ2FsbGJhY2sgc2NvcGVcbiAgICB2aWV3cG9ydFN0YXRlUmVmLmN1cnJlbnQgPSB2aWV3cG9ydFN0YXRlXG5cbiAgICAvLyB0aGlzIGlzIG9ubHkgc2V0IGlmIHZpZXdwb3J0IGlzIGEgY2hpbGQgb2YgYW4gaW5maW5pdGVTY3JvbGxlclxuICAgIGNvbnN0IHBhcmVudFBvcnRhbEhhbmRsZXIgPSB1c2VDb250ZXh0KFBhcmVudENyYWRsZUNhY2hlQ29udGV4dCk7XG5cbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSkgLy8gbW9uaXRvciBmb3IgdW5tb3VudGVkXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlfVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IHZpZXdwb3J0ZGl2UmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYgaXMgcGFzc2VkIGFzIGEgcmVzaXppbmcgaW50ZXJydXB0ICh0aHJvdWdoIGNvbnRleHQpIHRvIGNoaWxkcmVuXG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIGNvbnN0IHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9ydGFsOm51bGwsIFxuICAgICAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgXG4gICAgICAgICAgICBpbmRleDpudWxsLFxuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOm51bGwsXG4gICAgICAgICAgICBlbGVtZW50cmVmOm51bGxcbiAgICAgICAgfVxuICAgIClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXNpemVyIHNldHVwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVzaXplVGltZXJpZFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAvLyBzZXQgdXAgcmVzaXplT2JzZXJ2ZXJcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIocmVzaXplQ2FsbGJhY2spXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZSh2aWV3cG9ydGRpdlJlZi5jdXJyZW50KVxuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudC5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gdXNlZCBieSByZXNpemVPYnNlcnZlcjsgZ2VuZXJhdGVzIGludGVycnVwdFxuICAgIGNvbnN0IHJlc2l6ZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKGVudHJpZXMpPT57XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbnRyaWVzWzBdLnRhcmdldFxuXG4gICAgICAgIC8vIGZpcnN0IHJlZ2lzdGVyIHNob3VsZG4ndCBnZW5lcmF0ZSBpbnRlcnJ1cHRcbiAgICAgICAgaWYgKCF0YXJnZXQuZGF0YXNldC5pbml0aWFsaXplZCkge1xuXG4gICAgICAgICAgICB0YXJnZXQuZGF0YXNldC5pbml0aWFsaXplZCA9IHRydWVcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGludGVycnVwdCByZXNwb25zZSwgaWYgaW5pdGlhdGluZyByZXNpemVcbiAgICAgICAgaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IGlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWUgXG4gICAgICAgICAgICAvLyBuZXcgb2JqZWN0IGNyZWF0aW9uIHRyaWdnZXJzIGEgcmVhbHRpbWUgaW50ZXJydXB0IG1lc3NhZ2UgdG8gY3JhZGxlIHRocm91Z2ggY29udGV4dFxuICAgICAgICAgICAgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHt9LHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50KSBcblxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcmlkUmVmLmN1cnJlbnQpXG4gICAgICAgIHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVzaXplZCcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkUpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgc2V0IHBvcnRhbCBmb3Igbm9uLXJvb3Qgdmlld3BvcnRzIF0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBzZXRzIHBvcnRhbCBpbiB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWZcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIXBhcmVudFBvcnRhbEhhbmRsZXIpIHJldHVybiAvLyByb290IHZpZXdwb3J0OyBoYXMgbm8gcG9ydGFsXG5cbiAgICAgICAgbGV0IHBvcnRhbGluZGV4XG4gICAgICAgIGxldCBlbGVtZW50ID0gdmlld3BvcnRkaXZSZWYuY3VycmVudFxuXG4gICAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kYXRhc2V0ICYmIChlbGVtZW50LmRhdGFzZXQudHlwZSA9PSAncG9ydGFsY29udGFpbmVyJykpIHsgLy8gc2V0IHBvcnRhbCAmIGV4aXRcbiAgICAgICAgICAgICAgICBwb3J0YWxpbmRleCA9IHBhcnNlSW50KGVsZW1lbnQuZGF0YXNldC5pbmRleClcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5wb3J0YWwgPSBwYXJlbnRQb3J0YWxIYW5kbGVyLmdldFBvcnRhbChwb3J0YWxpbmRleClcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEludGVycnVwdFByb3BlcnRpZXNSZWYuY3VycmVudC5pbmRleCA9IHBvcnRhbGluZGV4XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuXG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SOiBwYXJlbnQgcG9ydGFsY29udGFpbmVyIG5vdCBmb3VuZCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGN1bGF0ZSBjb25maWcgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgZGl2bGluZXJzdHlsZVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gaW5pdGlhbGl6ZSB3aXRoIGluaGVyaXRlZCBzdHlsZXNcbiAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgcmlnaHQ6MCxcbiAgICAgICAgICAgIGJvdHRvbTowLFxuICAgICAgICAgICAgbGVmdDowLFxuICAgICAgICAgICAgb3ZlcmZsb3c6J2F1dG8nLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOidyZWQnLFxuICAgICAgICB9LCBzdHlsZXMudmlld3BvcnQpXG5cbiAgICB9LFtzdHlsZXMudmlld3BvcnRdKVxuXG4gICAgLy8gdXBkYXRlIHdpdGggY29uZmlnIHZhbHVlc1xuICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIC8vIFRPRE86IGdhcFxuICAgICAgICBsZXQgbWluY3Jvc3NsZW5ndGggPSBjYWxjTWluVmlld3BvcnRDcm9zc0xlbmd0aChvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBnYXAsIHBhZGRpbmcpXG4gICAgICAgIGxldCBzdHlsZXMgPSBPYmplY3QuYXNzaWduKHt9LGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCkgLy8gYXZvaWQgcmVhZG9ubHlcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgc3R5bGVzLm1pbldpZHRoID0gbWluY3Jvc3NsZW5ndGggKyAncHgnXG4gICAgICAgICAgICBzdHlsZXMubWluSGVpZ2h0ID0gJ2F1dG8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSAnYXV0bydcbiAgICAgICAgICAgIHN0eWxlcy5taW5IZWlnaHQgPSBtaW5jcm9zc2xlbmd0aCArICdweCdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHlsZXNcblxuICAgIH0sW29yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQsIGdhcCwgcGFkZGluZ10pXG5cbiAgICAvLyB1cGRhdGUgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmOyBhZGQgdmlld3BvcnQgZGltZW5zaW9uc1xuICAgIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGUgPT0gJ3NldHVwJykgcmV0dXJuIHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdH0gPSB2aWV3cG9ydGRpdlJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKHJpZ2h0IC0gbGVmdClcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGJvdHRvbSAtIHRvcClcblxuICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBkdXBsaWNhdGUgc2V0dGluZyBwcm9jZWR1cmUgd2l0aCBpbnRlcnJ1cHRoYW5kbGVyLnRzeCBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrXG4gICAgICAgIGNvbnN0IGxvY2FsVmlld3BvcnREYXRhID0ge1xuICAgICAgICAgICAgdmlld3BvcnREaW1lbnNpb25zOnt0b3AscmlnaHQsIGJvdHRvbSwgbGVmdCwgd2lkdGgsIGhlaWdodH0sXG4gICAgICAgICAgICBlbGVtZW50cmVmOnZpZXdwb3J0ZGl2UmVmLFxuICAgICAgICAgICAgaXNSZXNpemluZzppc1Jlc2l6aW5nUmVmLmN1cnJlbnQsXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmlnZ2VyIGNvbnRleHQgY2hhbmdlIHdpdGggbmV3IG9iamVjdFxuICAgICAgICBjb25zdCB2aWV3cG9ydGRhdGFvYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LHZpZXdwb3J0SW50ZXJydXB0UHJvcGVydGllc1JlZi5jdXJyZW50LCBsb2NhbFZpZXdwb3J0RGF0YSkgXG5cbiAgICAgICAgcmV0dXJuICB2aWV3cG9ydGRhdGFvYmplY3RcblxuICAgIH0sW29yaWVudGF0aW9uLCBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQsIHZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHN0YXRlIHByb2Nlc3NpbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuICAgICAgICBzd2l0Y2ggKHZpZXdwb3J0U3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAncmVzaXplZCc6XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgICAgICAgICBzZXRWaWV3cG9ydFN0YXRlKCdyZW5kZXInKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0sW3ZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIDxWaWV3cG9ydEludGVycnVwdC5Qcm92aWRlciB2YWx1ZSA9IHsgdmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgfT5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGRhdGEtdHlwZSA9ICd2aWV3cG9ydCdcbiAgICAgICAgICAgIGRhdGEtc2Nyb2xsZXJpZCA9IHtzY3JvbGxlcklEfVxuICAgICAgICAgICAgc3R5bGUgPSB7ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fVxuICAgICAgICAgICAgcmVmID0ge3ZpZXdwb3J0ZGl2UmVmfVxuICAgICAgICA+XG4gICAgICAgICAgICB7ICh2aWV3cG9ydFN0YXRlICE9ICdzZXR1cCcpICYmIGNoaWxkcmVuIH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9WaWV3cG9ydEludGVycnVwdC5Qcm92aWRlcj5cbiAgICBcbn0gLy8gVmlld3BvcnRcblxuLy8gZXN0YWJsaXNoIG1pbmltdW0gd2lkdGgvaGVpZ2h0IGZvciB0aGUgdmlld3BvcnQgLS0gYXBwcm94aW1hdGVseSBvbmUgaXRlbVxuLy8gZ2FwIG9ubHkgYXBwbGllcyB3aXRoIG11bHRpLXdpZHRoIGl0ZW1zLCB0aGVyZWZvcmUgbm90IHVzZWQgaW4gY2FsY3VsYXRpb25zXG5jb25zdCBjYWxjTWluVmlld3BvcnRDcm9zc0xlbmd0aCA9IChvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBnYXAsIHBhZGRpbmcpID0+IHtcblxuICAgIGxldCBjcm9zc2xlbmd0aCwgY2VsbExlbmd0aFxuICAgIFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsV2lkdGggXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHRcbiAgICB9XG4gICAgY3Jvc3NsZW5ndGggPSBjZWxsTGVuZ3RoICsgKHBhZGRpbmcgKiAyKVxuXG4gICAgcmV0dXJuIGNyb3NzbGVuZ3RoXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld3BvcnRcbiJdLCJuYW1lcyI6WyJleHBvcnRzIiwicmVhY3RfMSIsImNyZWF0ZUNvbnRleHQiLCJSZXNpemVPYnNlcnZlciIsIndpbmRvdyIsInJlc2l6ZV9vYnNlcnZlcl8xIiwiUkVTSVpFX1RJTUVPVVRfRk9SX09OQUZURVJTUkVTSVpFIiwiVmlld3BvcnQiLCJfYSIsImNoaWxkcmVuIiwiZ3JpZFNwZWNzIiwic3R5bGVzIiwic2Nyb2xsZXJJRCIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0Iiwidmlld3BvcnRTdGF0ZSIsInNldFZpZXdwb3J0U3RhdGUiLCJ2aWV3cG9ydFN0YXRlUmVmIiwiY3VycmVudCIsInBhcmVudFBvcnRhbEhhbmRsZXIiLCJjcmFkbGVfMSIsImlzTW91bnRlZFJlZiIsInZpZXdwb3J0ZGl2UmVmIiwidmlld3BvcnRJbnRlcnJ1cHRQcm9wZXJ0aWVzUmVmIiwicG9ydGFsIiwiaXNSZXNpemluZyIsImluZGV4Iiwidmlld3BvcnREaW1lbnNpb25zIiwiZWxlbWVudHJlZiIsInJlc2l6ZVRpbWVyaWRSZWYiLCJpc1Jlc2l6aW5nUmVmIiwicmVzaXplT2JzZXJ2ZXJSZWYiLCJyZXNpemVDYWxsYmFjayIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiZW50cmllcyIsInRhcmdldCIsImRhdGFzZXQiLCJpbml0aWFsaXplZCIsIk9iamVjdCIsImFzc2lnbiIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwb3J0YWxpbmRleCIsImVsZW1lbnQiLCJ0eXBlIiwicGFyc2VJbnQiLCJnZXRQb3J0YWwiLCJwYXJlbnRFbGVtZW50IiwiY29uc29sZSIsImxvZyIsImRpdmxpbmVyc3R5bGVSZWYiLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIm92ZXJmbG93IiwiYmFja2dyb3VuZENvbG9yIiwidmlld3BvcnQiLCJtaW5jcm9zc2xlbmd0aCIsImNhbGNNaW5WaWV3cG9ydENyb3NzTGVuZ3RoIiwib3JpZW50YXRpb24iLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwibG9jYWxWaWV3cG9ydERhdGEiLCJ2aWV3cG9ydGRhdGFvYmplY3QiLCJQcm92aWRlciIsInZhbHVlIiwic3R5bGUiLCJyZWYiLCJjcm9zc2xlbmd0aCIsImNlbGxMZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/viewport.tsx\n");

/***/ }),

/***/ "./node_modules/react-reverse-portal/dist/web/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-reverse-portal/dist/web/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InPortal\": () => (/* binding */ InPortal),\n/* harmony export */   \"OutPortal\": () => (/* binding */ OutPortal),\n/* harmony export */   \"createHtmlPortalNode\": () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   \"createSvgPortalNode\": () => (/* binding */ createSvgPortalNode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = 'html';\nvar ELEMENT_TYPE_SVG = 'svg';\n// ReactDOM can handle several different namespaces, but they're not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error(\"Unrecognized element type \\\"\" + elementType + \"\\\" for validateElementType.\");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement('div');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, 'g');\n    }\n    else {\n        throw new Error(\"Invalid element type \\\"\" + elementType + \"\\\" for createPortalNode: must be \\\"html\\\" or \\\"svg\\\".\");\n    }\n    if (options && typeof options === \"object\") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode's elementType needs to match\n            // the elementType it's being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error(\"Invalid element type for portal: \\\"\" + elementType + \"\\\" portalNodes must be used with \" + elementType + \" elements, but OutPortal is within <\" + newParent.tagName + \">.\");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren't currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we're switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsK0NBQWtCO0FBQ3ZELGlCQUFpQixpREFBb0I7QUFDckM7QUFDQSxtQkFBbUIsK0NBQWtCO0FBQ3JDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnQkFBZ0IsaUJBQWlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixVQUFVLDJCQUEyQjtBQUN2RTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQzJFO0FBQzNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZXZlcnNlLXBvcnRhbC9kaXN0L3dlYi9pbmRleC5qcz9lMDAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIEludGVybmFsbHksIHRoZSBwb3J0YWxOb2RlIG11c3QgYmUgZm9yIGVpdGhlciBIVE1MIG9yIFNWRyBlbGVtZW50c1xudmFyIEVMRU1FTlRfVFlQRV9IVE1MID0gJ2h0bWwnO1xudmFyIEVMRU1FTlRfVFlQRV9TVkcgPSAnc3ZnJztcbi8vIFJlYWN0RE9NIGNhbiBoYW5kbGUgc2V2ZXJhbCBkaWZmZXJlbnQgbmFtZXNwYWNlcywgYnV0IHRoZXkncmUgbm90IGV4cG9ydGVkIHB1YmxpY2x5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iODdhYWJkZmUxYjc0NjFlNzMzMWFiYjM2MDFkOWU2YmIyNzU0NGJjL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvc2hhcmVkL0RPTU5hbWVzcGFjZXMuanMjTDgtTDEwXG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG52YXIgdmFsaWRhdGVFbGVtZW50VHlwZSA9IGZ1bmN0aW9uIChkb21FbGVtZW50LCBlbGVtZW50VHlwZSkge1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSBFTEVNRU5UX1RZUEVfU1ZHKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgdmFsaWRhdGVFbGVtZW50VHlwZS5cIik7XG59O1xuLy8gVGhpcyBpcyB0aGUgaW50ZXJuYWwgaW1wbGVtZW50YXRpb246IHRoZSBwdWJsaWMgZW50cnkgcG9pbnRzIHNldCBlbGVtZW50VHlwZSB0byBhbiBhcHByb3ByaWF0ZSB2YWx1ZVxudmFyIGNyZWF0ZVBvcnRhbE5vZGUgPSBmdW5jdGlvbiAoZWxlbWVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbFByb3BzID0ge307XG4gICAgdmFyIHBhcmVudDtcbiAgICB2YXIgbGFzdFBsYWNlaG9sZGVyO1xuICAgIHZhciBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgY3JlYXRlUG9ydGFsTm9kZTogbXVzdCBiZSBcXFwiaHRtbFxcXCIgb3IgXFxcInN2Z1xcXCIuXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5hdHRyaWJ1dGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcG9ydGFsTm9kZSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICBzZXRQb3J0YWxQcm9wczogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBpbml0aWFsUHJvcHMgPSBwcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5pdGlhbFBvcnRhbFByb3BzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudDogZnVuY3Rpb24gKG5ld1BhcmVudCwgbmV3UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChuZXdQbGFjZWhvbGRlciA9PT0gbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtb3VudGVkIC0gbm9vcC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3J0YWxOb2RlLnVubW91bnQoKTtcbiAgICAgICAgICAgIC8vIFRvIHN1cHBvcnQgU1ZHIGFuZCBvdGhlciBub24taHRtbCBlbGVtZW50cywgdGhlIHBvcnRhbE5vZGUncyBlbGVtZW50VHlwZSBuZWVkcyB0byBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnRUeXBlIGl0J3MgYmVpbmcgcmVuZGVyZWQgaW50b1xuICAgICAgICAgICAgaWYgKG5ld1BhcmVudCAhPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUVsZW1lbnRUeXBlKG5ld1BhcmVudCwgZWxlbWVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZWxlbWVudCB0eXBlIGZvciBwb3J0YWw6IFxcXCJcIiArIGVsZW1lbnRUeXBlICsgXCJcXFwiIHBvcnRhbE5vZGVzIG11c3QgYmUgdXNlZCB3aXRoIFwiICsgZWxlbWVudFR5cGUgKyBcIiBlbGVtZW50cywgYnV0IE91dFBvcnRhbCBpcyB3aXRoaW4gPFwiICsgbmV3UGFyZW50LnRhZ05hbWUgKyBcIj4uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1BhcmVudC5yZXBsYWNlQ2hpbGQocG9ydGFsTm9kZS5lbGVtZW50LCBuZXdQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBwYXJlbnQgPSBuZXdQYXJlbnQ7XG4gICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSBuZXdQbGFjZWhvbGRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudDogZnVuY3Rpb24gKGV4cGVjdGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChleHBlY3RlZFBsYWNlaG9sZGVyICYmIGV4cGVjdGVkUGxhY2Vob2xkZXIgIT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdW5tb3VudHMgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgbW91bnRlZFxuICAgICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCBoYXZlIGJlZW4gYXV0b21hdGljYWxseSB1bm1vdW50ZWQgYWxyZWFkeSBieSBhIHN1YnNlcXVlbnQgbW91bnQoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChsYXN0UGxhY2Vob2xkZXIsIHBvcnRhbE5vZGUuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxhc3RQbGFjZWhvbGRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBvcnRhbE5vZGU7XG59O1xudmFyIEluUG9ydGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJblBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJblBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkUHJvcHNDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5wcm9wcy5ub2RlLCB7XG4gICAgICAgICAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXJlbmRlciB0aGUgY2hpbGQgbm9kZSBoZXJlIGlmL3doZW4gdGhlIG91dCBwb3J0YWwgcHJvcHMgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9kZVByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBub2RlUHJvcHM6IF90aGlzLnByb3BzLm5vZGUuZ2V0SW5pdGlhbFBvcnRhbFByb3BzKCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkZFByb3BzQ2hhbm5lbCgpO1xuICAgIH07XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG5vZGUgPSBfYS5ub2RlO1xuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBfdGhpcy5zdGF0ZS5ub2RlUHJvcHMpO1xuICAgICAgICB9KSwgbm9kZS5lbGVtZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBJblBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIE91dFBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3V0UG9ydGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE91dFBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGxhY2Vob2xkZXJOb2RlID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIF90aGlzLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9wc0ZvclRhcmdldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgbm9kZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm5vZGUuc2V0UG9ydGFsUHJvcHMocHJvcHNGb3JUYXJnZXQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIHRoaXMuY3VycmVudFBvcnRhbE5vZGUgPSBub2RlO1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2UgcmUtbW91bnQgb24gdXBkYXRlLCBqdXN0IGluIGNhc2Ugd2Ugd2VyZSB1bm1vdW50ZWQgKGUuZy4gYnlcbiAgICAgICAgLy8gYSBzZWNvbmQgT3V0UG9ydGFsLCB3aGljaCBoYXMgbm93IGJlZW4gcmVtb3ZlZClcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIC8vIElmIHdlJ3JlIHN3aXRjaGluZyBwb3J0YWwgbm9kZXMsIHdlIG5lZWQgdG8gY2xlYW4gdXAgdGhlIGN1cnJlbnQgb25lIGZpcnN0LlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9ydGFsTm9kZSAmJiBub2RlICE9PSB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlLnVubW91bnQodGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJlbmRlciBhIHBsYWNlaG9sZGVyIHRvIHRoZSBET00sIHNvIHdlIGNhbiBnZXQgYSByZWZlcmVuY2UgaW50b1xuICAgICAgICAvLyBvdXIgbG9jYXRpb24gaW4gdGhlIERPTSwgYW5kIHN3YXAgaXQgb3V0IGZvciB0aGUgcG9ydGFsZWQgbm9kZS5cbiAgICAgICAgLy8gQSA8ZGl2PiBwbGFjZWhvbGRlciB3b3JrcyBmaW5lIGV2ZW4gZm9yIFNWRy5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMucGxhY2Vob2xkZXJOb2RlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE91dFBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIGNyZWF0ZUh0bWxQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9IVE1MKTtcbnZhciBjcmVhdGVTdmdQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9TVkcpO1xuZXhwb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIGNyZWF0ZVN2Z1BvcnRhbE5vZGUsIEluUG9ydGFsLCBPdXRQb3J0YWwsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n");

/***/ }),

/***/ "./node_modules/requestidlecallback/index.js":
/*!***************************************************!*\
  !*** ./node_modules/requestidlecallback/index.js ***!
  \***************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/infinitegridscroller.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});