/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["react-infinite-grid-scroller"] = factory(require("react"), require("react-dom"));
	else
		root["react-infinite-grid-scroller"] = factory(root["react"], root["react-dom"]);
})(self, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOMRectReadOnly\": () => (/* binding */ DOMRectReadOnly)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL0RPTVJlY3RSZWFkT25seS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzP2ZkZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIERPTVJlY3RSZWFkT25seSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRE9NUmVjdFJlYWRPbmx5KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMueDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgcmV0dXJuIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgRE9NUmVjdFJlYWRPbmx5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHggPSBfYS54LCB5ID0gX2EueSwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBib3R0b20gPSBfYS5ib3R0b20sIGxlZnQgPSBfYS5sZWZ0LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHRvcDogdG9wLCByaWdodDogcmlnaHQsIGJvdHRvbTogYm90dG9tLCBsZWZ0OiBsZWZ0LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfTtcbiAgICBET01SZWN0UmVhZE9ubHkuZnJvbVJlY3QgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRE9NUmVjdFJlYWRPbmx5KHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBET01SZWN0UmVhZE9ubHk7XG59KCkpO1xuZXhwb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObservation\": () => (/* binding */ ResizeObservation)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isSVG)(target)\n        && !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isReplacedElement)(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__.calculateBoxSize)(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0U7QUFDTDtBQUNOO0FBQzNEO0FBQ0EsWUFBWSxxREFBSztBQUNqQixZQUFZLGlFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJGQUFvQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUM0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmF0aW9uLmpzPzQ0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm94U2l6ZSB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGlzU1ZHLCBpc1JlcGxhY2VkRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgc2tpcE5vdGlmeU9uRWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICByZXR1cm4gIWlzU1ZHKHRhcmdldClcbiAgICAgICAgJiYgIWlzUmVwbGFjZWRFbGVtZW50KHRhcmdldClcbiAgICAgICAgJiYgZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpLmRpc3BsYXkgPT09ICdpbmxpbmUnO1xufTtcbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvYnNlcnZlZEJveCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vYnNlcnZlZEJveCA9IG9ic2VydmVkQm94IHx8IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5DT05URU5UX0JPWDtcbiAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0ge1xuICAgICAgICAgICAgaW5saW5lU2l6ZTogMCxcbiAgICAgICAgICAgIGJsb2NrU2l6ZTogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaXplID0gY2FsY3VsYXRlQm94U2l6ZSh0aGlzLnRhcmdldCwgdGhpcy5vYnNlcnZlZEJveCwgdHJ1ZSk7XG4gICAgICAgIGlmIChza2lwTm90aWZ5T25FbGVtZW50KHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVwb3J0ZWRTaXplLmlubGluZVNpemUgIT09IHNpemUuaW5saW5lU2l6ZVxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0UmVwb3J0ZWRTaXplLmJsb2NrU2l6ZSAhPT0gc2l6ZS5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* binding */ ResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRTtBQUMxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RkFBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsdUZBQWdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlEQUFTO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLHlGQUFrQztBQUMxQztBQUNBO0FBQ0EsUUFBUSwwRkFBbUM7QUFDM0M7QUFDQTtBQUNBLDZDQUE2QyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBLENBQUM7QUFDeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlci5qcz9kMDIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvZWxlbWVudCc7XG52YXIgUmVzaXplT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IFRoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ29ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlKHRoaXMsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICd1bm9ic2VydmUnIG9uICdSZXNpemVPYnNlcnZlcic6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlICdFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci51bm9ic2VydmUodGhpcywgdGFyZ2V0KTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCh0aGlzKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uIFJlc2l6ZU9ic2VydmVyICgpIHsgW3BvbHlmaWxsIGNvZGVdIH0nO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverBoxOptions\": () => (/* binding */ ResizeObserverBoxOptions)\n/* harmony export */ });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzP2U1NTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucztcbihmdW5jdGlvbiAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQk9SREVSX0JPWFwiXSA9IFwiYm9yZGVyLWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkNPTlRFTlRfQk9YXCJdID0gXCJjb250ZW50LWJveFwiO1xuICAgIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9uc1tcIkRFVklDRV9QSVhFTF9DT05URU5UX0JPWFwiXSA9IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCI7XG59KShSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfHwgKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyA9IHt9KSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverController\": () => (/* binding */ ResizeObserverController)\n/* harmony export */ });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__.ResizeObservation(target, options && options.box));\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyRDtBQUNIO0FBQ007QUFDSjtBQUMxRDtBQUNBO0FBQ0Esb0JBQW9CLCtCQUErQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1RUFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUFvQjtBQUNwRCwrQ0FBK0MsaUVBQWlCO0FBQ2hFLFlBQVksNkRBQVc7QUFDdkIsWUFBWSxnRUFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQXNCLENBQUMsMkVBQXVCO0FBQzdFO0FBQ0EsWUFBWSw2REFBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9EQUFvRDtBQUN0SDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzP2YzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9IGZyb20gJy4vdXRpbHMvc2NoZWR1bGVyJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZhdGlvbic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckRldGFpbCB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJEZXRhaWwnO1xuaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIG9ic2VydmVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRPYnNlcnZhdGlvbkluZGV4ID0gZnVuY3Rpb24gKG9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uVGFyZ2V0c1tpXS50YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpIHtcbiAgICB9XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmNvbm5lY3QgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBuZXcgUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgb2JzZXJ2ZXJNYXAuc2V0KHJlc2l6ZU9ic2VydmVyLCBkZXRhaWwpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUgPSBmdW5jdGlvbiAocmVzaXplT2JzZXJ2ZXIsIHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgdmFyIGZpcnN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KSA8IDApIHtcbiAgICAgICAgICAgIGZpcnN0T2JzZXJ2YXRpb24gJiYgcmVzaXplT2JzZXJ2ZXJzLnB1c2goZGV0YWlsKTtcbiAgICAgICAgICAgIGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMucHVzaChuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuYm94KSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgxKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIudW5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBpbmRleCA9IGdldE9ic2VydmF0aW9uSW5kZXgoZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGxhc3RPYnNlcnZhdGlvbiA9IGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMubGVuZ3RoID09PSAxO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGFzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5zcGxpY2UocmVzaXplT2JzZXJ2ZXJzLmluZGV4T2YoZGV0YWlsKSwgMSk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB1cGRhdGVDb3VudCgtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAob3QpIHsgcmV0dXJuIF90aGlzLnVub2JzZXJ2ZShyZXNpemVPYnNlcnZlciwgb3QudGFyZ2V0KTsgfSk7XG4gICAgICAgIGRldGFpbC5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverDetail\": () => (/* binding */ ResizeObserverDetail)\n/* harmony export */ });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRGV0YWlsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanM/NzgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwcGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRGV0YWlsO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRGV0YWlsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverEntry\": () => (/* binding */ ResizeObserverEntry)\n/* harmony export */ });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__.calculateBoxSizes)(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.borderBoxSize]);\n        this.contentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQzFCO0FBQ3hDO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQWlCO0FBQ3JDO0FBQ0E7QUFDQSw2QkFBNkIscURBQU07QUFDbkMsOEJBQThCLHFEQUFNO0FBQ3BDLHlDQUF5QyxxREFBTTtBQUMvQztBQUNBO0FBQ0EsQ0FBQztBQUM4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyRW50cnkuanM/NDFlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplcyB9IGZyb20gJy4vYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplJztcbmltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCkge1xuICAgICAgICB2YXIgYm94ZXMgPSBjYWxjdWxhdGVCb3hTaXplcyh0YXJnZXQpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jb250ZW50UmVjdCA9IGJveGVzLmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmJvcmRlckJveFNpemUgPSBmcmVlemUoW2JveGVzLmJvcmRlckJveFNpemVdKTtcbiAgICAgICAgdGhpcy5jb250ZW50Qm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuY29udGVudEJveFNpemVdKTtcbiAgICAgICAgdGhpcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckVudHJ5O1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserverSize\": () => (/* binding */ ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQU07QUFDZDtBQUNBO0FBQ0EsQ0FBQztBQUM2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyU2l6ZS5qcz9jNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyZWV6ZSB9IGZyb20gJy4vdXRpbHMvZnJlZXplJztcbnZhciBSZXNpemVPYnNlcnZlclNpemUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyU2l6ZShpbmxpbmVTaXplLCBibG9ja1NpemUpIHtcbiAgICAgICAgdGhpcy5pbmxpbmVTaXplID0gaW5saW5lU2l6ZTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgICAgIGZyZWV6ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU2l6ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"broadcastActiveObservations\": () => (/* binding */ broadcastActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry(ot.target);\n            var targetDepth = (0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__.calculateDepthForNode)(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = (0,_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__.calculateBoxSize)(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDRztBQUNWO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQW1CO0FBQy9DLDhCQUE4Qiw2RUFBcUI7QUFDbkQ7QUFDQSxrQ0FBa0MsbUVBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhDQUE4Qyx5QkFBeUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zLmpzP2NhYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyRW50cnkgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlckVudHJ5JztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemUgfSBmcm9tICcuL2NhbGN1bGF0ZUJveFNpemUnO1xudmFyIGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hhbGxvd2VzdERlcHRoID0gSW5maW5pdHk7XG4gICAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICBpZiAocm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc1RhcmdldChvdCkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXREZXB0aCA9IGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpO1xuICAgICAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG90Lmxhc3RSZXBvcnRlZFNpemUgPSBjYWxjdWxhdGVCb3hTaXplKG90LnRhcmdldCwgb3Qub2JzZXJ2ZWRCb3gpO1xuICAgICAgICAgICAgaWYgKHRhcmdldERlcHRoIDwgc2hhbGxvd2VzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2hhbGxvd2VzdERlcHRoID0gdGFyZ2V0RGVwdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiByZXNpemVPYnNlcnZlckNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcm8uY2FsbGJhY2suY2FsbChyby5vYnNlcnZlciwgZW50cmllcywgcm8ub2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGgpO1xuICAgIH0pO1xuICAgIGZvciAodmFyIF9pID0gMCwgY2FsbGJhY2tzXzEgPSBjYWxsYmFja3M7IF9pIDwgY2FsbGJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xW19pXTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWxsb3dlc3REZXB0aDtcbn07XG5leHBvcnQgeyBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateBoxSize\": () => (/* binding */ calculateBoxSize),\n/* harmony export */   \"calculateBoxSizes\": () => (/* binding */ calculateBoxSizes)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isHidden)(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = (0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isSVG)(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RTtBQUNaO0FBQ047QUFDRjtBQUNWO0FBQ0E7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFnQixJQUFJLHFFQUEwQjtBQUM5RSx3Q0FBd0M7QUFDeEM7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxlQUFlLG1FQUFrQjtBQUNqQztBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWU7QUFDcEMsQ0FBQztBQUNEO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0dBQWlEO0FBQzlEO0FBQ0EsYUFBYSwwRkFBbUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcz8xMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateDepthForNode\": () => (/* binding */ calculateDepthForNode)\n/* harmony export */ });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_0__.isHidden)(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQzVDO0FBQ0EsUUFBUSx3REFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlRGVwdGhGb3JOb2RlLmpzP2M5MzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIaWRkZW4gfSBmcm9tICcuLi91dGlscy9lbGVtZW50JztcbnZhciBjYWxjdWxhdGVEZXB0aEZvck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChpc0hpZGRlbihub2RlKSkge1xuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHZhciBkZXB0aCA9IDA7XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGg7XG59O1xuZXhwb3J0IHsgY2FsY3VsYXRlRGVwdGhGb3JOb2RlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deliverResizeLoopError\": () => (/* binding */ deliverResizeLoopError)\n/* harmony export */ });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3IuanM/YzJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXNnID0gJ1Jlc2l6ZU9ic2VydmVyIGxvb3AgY29tcGxldGVkIHdpdGggdW5kZWxpdmVyZWQgbm90aWZpY2F0aW9ucy4nO1xudmFyIGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmICh0eXBlb2YgRXJyb3JFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBldmVudCA9IG5ldyBFcnJvckV2ZW50KCdlcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXJyb3InLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuZXhwb3J0IHsgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gatherActiveObservationsAtDepth\": () => (/* binding */ gatherActiveObservationsAtDepth)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if ((0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__.calculateDepthForNode)(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDSztBQUNoRTtBQUNBLElBQUksMkVBQXVCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZFQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQzJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzPzQ1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbmltcG9ydCB7IGNhbGN1bGF0ZURlcHRoRm9yTm9kZSB9IGZyb20gJy4vY2FsY3VsYXRlRGVwdGhGb3JOb2RlJztcbnZhciBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoID0gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gcHJvY2Vzc09ic2VydmVyKHJvKSB7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICAgICAgcm8uc2tpcHBlZFRhcmdldHMuc3BsaWNlKDAsIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLm9ic2VydmF0aW9uVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIGlmIChvdC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlcHRoRm9yTm9kZShvdC50YXJnZXQpID4gZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnB1c2gob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasActiveObservations\": () => (/* binding */ hasActiveObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyx3RUFBb0IsaUJBQWlCLHFDQUFxQztBQUNyRjtBQUNpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzQWN0aXZlT2JzZXJ2YXRpb25zLmpzP2RkYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uYWN0aXZlVGFyZ2V0cy5sZW5ndGggPiAwOyB9KTtcbn07XG5leHBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hasSkippedObservations\": () => (/* binding */ hasSkippedObservations)\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyRDtBQUMzRDtBQUNBLFdBQVcsd0VBQW9CLGlCQUFpQixzQ0FBc0M7QUFDdEY7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc1NraXBwZWRPYnNlcnZhdGlvbnMuanM/YzEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNpemVPYnNlcnZlcnMgfSBmcm9tICcuLi91dGlscy9yZXNpemVPYnNlcnZlcnMnO1xudmFyIGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc2l6ZU9ic2VydmVycy5zb21lKGZ1bmN0aW9uIChybykgeyByZXR1cm4gcm8uc2tpcHBlZFRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResizeObserver\": () => (/* reexport safe */ _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__.ResizeObserver),\n/* harmony export */   \"ResizeObserverEntry\": () => (/* reexport safe */ _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry),\n/* harmony export */   \"ResizeObserverSize\": () => (/* reexport safe */ _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSize)\n/* harmony export */ });\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUNVO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9leHBvcnRzL3Jlc2l6ZS1vYnNlcnZlci5qcz8xZDFmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXInO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyRW50cnknO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaXplIH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJTaXplJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isSVG\": () => (/* binding */ isSVG),\n/* harmony export */   \"isHidden\": () => (/* binding */ isHidden),\n/* harmony export */   \"isElement\": () => (/* binding */ isElement),\n/* harmony export */   \"isReplacedElement\": () => (/* binding */ isReplacedElement)\n/* harmony export */ });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9lbGVtZW50LmpzPzNjZDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzU1ZHID0gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAnZ2V0QkJveCcgaW4gdGFyZ2V0OyB9O1xudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmIChpc1NWRyh0YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYSA9IHRhcmdldC5nZXRCQm94KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuICF3aWR0aCAmJiAhaGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgX2IgPSB0YXJnZXQsIG9mZnNldFdpZHRoID0gX2Iub2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCA9IF9iLm9mZnNldEhlaWdodDtcbiAgICByZXR1cm4gIShvZmZzZXRXaWR0aCB8fCBvZmZzZXRIZWlnaHQgfHwgdGFyZ2V0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKTtcbn07XG52YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBzY29wZSA9IChfYiA9IChfYSA9IG9iaikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldztcbiAgICByZXR1cm4gISEoc2NvcGUgJiYgb2JqIGluc3RhbmNlb2Ygc2NvcGUuRWxlbWVudCk7XG59O1xudmFyIGlzUmVwbGFjZWRFbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHN3aXRjaCAodGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnSU5QVVQnOlxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlICE9PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgY2FzZSAnQVVESU8nOlxuICAgICAgICBjYXNlICdFTUJFRCc6XG4gICAgICAgIGNhc2UgJ09CSkVDVCc6XG4gICAgICAgIGNhc2UgJ0NBTlZBUyc6XG4gICAgICAgIGNhc2UgJ0lGUkFNRSc6XG4gICAgICAgIGNhc2UgJ0lNRyc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiwgaXNFbGVtZW50LCBpc1JlcGxhY2VkRWxlbWVudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/element.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"freeze\": () => (/* binding */ freeze)\n/* harmony export */ });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2ZyZWV6ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sOEJBQThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzP2ZjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBmcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"global\": () => (/* binding */ global)\n/* harmony export */ });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9nbG9iYWwuanM/Y2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/global.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"process\": () => (/* binding */ process)\n/* harmony export */ });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    while ((0,_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__.hasActiveObservations)()) {\n        depth = (0,_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__.broadcastActiveObservations)();\n        (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    }\n    if ((0,_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__.hasSkippedObservations)()) {\n        (0,_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__.deliverResizeLoopError)();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRFO0FBQ0U7QUFDQTtBQUNVO0FBQ1E7QUFDaEc7QUFDQTtBQUNBLElBQUksNEdBQStCO0FBQ25DLFdBQVcsd0ZBQXFCO0FBQ2hDLGdCQUFnQixvR0FBMkI7QUFDM0MsUUFBUSw0R0FBK0I7QUFDdkM7QUFDQSxRQUFRLDBGQUFzQjtBQUM5QixRQUFRLDBGQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9wcm9jZXNzLmpzP2Q0YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgaGFzU2tpcHBlZE9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvaGFzU2tpcHBlZE9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yJztcbmltcG9ydCB7IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucyB9IGZyb20gJy4uL2FsZ29yaXRobXMvYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfSBmcm9tICcuLi9hbGdvcml0aG1zL2dhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgnO1xudmFyIHByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB3aGlsZSAoaGFzQWN0aXZlT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVwdGggPSBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMoKTtcbiAgICAgICAgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aChkZXB0aCk7XG4gICAgfVxuICAgIGlmIChoYXNTa2lwcGVkT2JzZXJ2YXRpb25zKCkpIHtcbiAgICAgICAgZGVsaXZlclJlc2l6ZUxvb3BFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gZGVwdGggPiAwO1xufTtcbmV4cG9ydCB7IHByb2Nlc3MgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/process.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueMicroTask\": () => (/* binding */ queueMicroTask)\n/* harmony export */ });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlTWljcm9UYXNrLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFtRCxjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDJDQUEyQyxrQkFBa0I7QUFDN0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQzBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanM/YTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHJpZ2dlcjtcbnZhciBjYWxsYmFja3MgPSBbXTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFja3Muc3BsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTsgfTtcbnZhciBxdWV1ZU1pY3JvVGFzayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghdHJpZ2dlcikge1xuICAgICAgICB2YXIgdG9nZ2xlXzEgPSAwO1xuICAgICAgICB2YXIgZWxfMSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9O1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBub3RpZnkoKTsgfSkub2JzZXJ2ZShlbF8xLCBjb25maWcpO1xuICAgICAgICB0cmlnZ2VyID0gZnVuY3Rpb24gKCkgeyBlbF8xLnRleHRDb250ZW50ID0gXCJcIiArICh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"queueResizeObserver\": () => (/* binding */ queueResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    (0,_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__.queueMicroTask)(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3F1ZXVlUmVzaXplT2JzZXJ2ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7QUFDbEQ7QUFDQSxJQUFJLCtEQUFjO0FBQ2xCO0FBQ0EsS0FBSztBQUNMO0FBQytCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcz9hMzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHF1ZXVlTWljcm9UYXNrIH0gZnJvbSAnLi9xdWV1ZU1pY3JvVGFzayc7XG52YXIgcXVldWVSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uIChjYikge1xuICAgIHF1ZXVlTWljcm9UYXNrKGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resizeObservers\": () => (/* binding */ resizeObservers)\n/* harmony export */ });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDMkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9yZXNpemVPYnNlcnZlcnMuanM/YThlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzaXplT2JzZXJ2ZXJzID0gW107XG5leHBvcnQgeyByZXNpemVPYnNlcnZlcnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n");

/***/ }),

/***/ "./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"scheduler\": () => (/* binding */ scheduler),\n/* harmony export */   \"updateCount\": () => (/* binding */ updateCount)\n/* harmony export */ });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        (0,_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__.queueResizeObserver)(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = (0,_process__WEBPACK_IMPORTED_MODULE_0__.process)();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUNGO0FBQzBCO0FBQzVEO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFtQjtBQUMzQjtBQUNBO0FBQ0Esc0NBQXNDLGlEQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsK0JBQStCLDREQUF1QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLDREQUF1QiwrQkFBK0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sK0RBQTBCLCtCQUErQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9zY2hlZHVsZXIuanM/YjAwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB7IHF1ZXVlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3F1ZXVlUmVzaXplT2JzZXJ2ZXInO1xudmFyIHdhdGNoaW5nID0gMDtcbnZhciBpc1dhdGNoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gISF3YXRjaGluZzsgfTtcbnZhciBDQVRDSF9QRVJJT0QgPSAyNTA7XG52YXIgb2JzZXJ2ZXJDb25maWcgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoYXJhY3RlckRhdGE6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xudmFyIGV2ZW50cyA9IFtcbiAgICAncmVzaXplJyxcbiAgICAnbG9hZCcsXG4gICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICdhbmltYXRpb25lbmQnLFxuICAgICdhbmltYXRpb25zdGFydCcsXG4gICAgJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgJ2tleXVwJyxcbiAgICAna2V5ZG93bicsXG4gICAgJ21vdXNldXAnLFxuICAgICdtb3VzZWRvd24nLFxuICAgICdtb3VzZW92ZXInLFxuICAgICdtb3VzZW91dCcsXG4gICAgJ2JsdXInLFxuICAgICdmb2N1cydcbl07XG52YXIgdGltZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gMDsgfVxuICAgIHJldHVybiBEYXRlLm5vdygpICsgdGltZW91dDtcbn07XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zY2hlZHVsZSgpOyB9O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IENBVENIX1BFUklPRDsgfVxuICAgICAgICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHVudGlsID0gdGltZSh0aW1lb3V0KTtcbiAgICAgICAgcXVldWVSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHNIYXZlUmVzaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c0hhdmVSZXNpemVkID0gcHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHVudGlsIC0gdGltZSgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNXYXRjaGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzSGF2ZVJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVuKDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4odGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW4oKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub2JzZXJ2ZXIgJiYgX3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7IH07XG4gICAgICAgIGRvY3VtZW50LmJvZHkgPyBjYigpIDogZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIF90aGlzLmxpc3RlbmVyLCB0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xudmFyIHNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcbnZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgIXdhdGNoaW5nICYmIG4gPiAwICYmIHNjaGVkdWxlci5zdGFydCgpO1xuICAgIHdhdGNoaW5nICs9IG47XG4gICAgIXdhdGNoaW5nICYmIHNjaGVkdWxlci5zdG9wKCk7XG59O1xuZXhwb3J0IHsgc2NoZWR1bGVyLCB1cGRhdGVDb3VudCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n");

/***/ }),

/***/ "./src/cellshell.tsx":
/*!***************************!*\
  !*** ./src/cellshell.tsx ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cellshell.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    Consider not using requestIdleCallback; try it.\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ \"./node_modules/requestidlecallback/index.js\");\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\");\n\nvar placeholder_1 = __importDefault(__webpack_require__(/*! ./placeholder */ \"./src/placeholder.tsx\"));\n\nvar cradle_1 = __webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\");\n\nvar CellShell = function CellShell(_a) {\n  var orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      index = _a.index,\n      observer = _a.observer,\n      // intersection observer\n  callbacks = _a.callbacks,\n      getItem = _a.getItem,\n      listsize = _a.listsize,\n      placeholder = _a.placeholder,\n      instanceID = _a.instanceID,\n      scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID;\n  var cradleDataRef = (0, react_1.useContext)(cradle_1.CradleContext);\n  var portalManager = cradleDataRef.current.portalManager;\n  var isreparented = (0, react_1.useRef)(false);\n\n  var _b = (0, react_1.useState)({\n    overflow: 'hidden'\n  }),\n      styles = _b[0],\n      saveStyles = _b[1]; // 'setup' -> 'renderplaceholder' -> 'rendercontent' -> 'ready'\n\n\n  var _c = (0, react_1.useState)('setup'),\n      cellStatus = _c[0],\n      setCellStatus = _c[1]; // console.log('RUNNING cellshell cellStatus, index, scrollerID, instanceID',cellStatus, index, scrollerID, instanceID)\n\n\n  var shellRef = (0, react_1.useRef)(null);\n  var instanceIDRef = (0, react_1.useRef)(instanceID);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var callbackrequestRef = (0, react_1.useRef)(null);\n  var portaldataRef = (0, react_1.useRef)(null); // console.log('RUNNING cellshell scrollerID, instanceID, index, cellStatus', scrollerID, instanceID, index, cellStatus)\n  // for unmount\n\n  (0, react_1.useEffect)(function () {\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); // ----------------- [ placeholder definition ] -------------------------\n\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    return placeholder ? react_1[\"default\"].createElement(placeholder, {\n      index: index,\n      listsize: listsize\n    }) : null;\n  }, [placeholder, listsize]);\n  var placeholderRef = (0, react_1.useRef)(null);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    var child = customplaceholder ? customplaceholder : react_1[\"default\"].createElement(placeholder_1[\"default\"], {\n      index: index,\n      listsize: listsize,\n      error: false\n    });\n    return child;\n  }, [index, customplaceholder, listsize]); // ---------------- [ end of placeholder definition ] ------------------------\n  // initialize cell content\n\n  (0, react_1.useEffect)(function () {\n    var requestidlecallback = window['requestIdleCallback'] ? window['requestIdleCallback'] : requestidlecallback_1.requestIdleCallback;\n    var cancelidlecallback = window['cancelIdleCallback'] ? window['cancelIdleCallback'] : requestidlecallback_1.cancelIdleCallback;\n    portaldataRef.current = portalManager.fetchOrCreatePortal(index, placeholderRef.current);\n    var hasUserContent = !!portaldataRef.current.hasusercontent; // previous InPortal creation for index\n\n    if (!hasUserContent) {\n      setCellStatus('renderplaceholder');\n\n      if (isMountedRef.current && getItem) {\n        callbackrequestRef.current = requestidlecallback(function () {\n          var contentItem = getItem(index);\n\n          if (contentItem && contentItem.then) {\n            // it's a promise\n            contentItem.then(function (usercontent) {\n              if (isMountedRef.current) {\n                portaldataRef.current.hasusercontent = true;\n                portaldataRef.current = portalManager.updatePortal(index, usercontent);\n                setCellStatus('rendercontent');\n              }\n            })[\"catch\"](function (e) {\n              console.log('ERROR', e);\n            });\n          } else {\n            if (isMountedRef.current) {\n              if (contentItem) {\n                var usercontent = contentItem;\n                portaldataRef.current.hasusercontent = true;\n                portaldataRef.current = portalManager.updatePortal(index, usercontent);\n                setCellStatus('rendercontent');\n              } else {\n                console.log('ERROR', 'no content item');\n              }\n            }\n          }\n        }, {\n          timeout: 250\n        });\n      }\n    } else {\n      setCellStatus('rendercontent');\n    } // unmount\n\n\n    return function () {\n      var callbackhandle = callbackrequestRef.current;\n      cancelidlecallback(callbackhandle);\n    };\n  }, []); // cradle invariant ondemand callback parameter value\n\n  var getElementData = (0, react_1.useCallback)(function () {\n    return [index, shellRef];\n  }, []); // initialize callbacks\n\n  (0, react_1.useEffect)(function () {\n    var localcalls = callbacks;\n    localcalls.setElementData && localcalls.setElementData(getElementData(), 'register');\n    return function () {\n      localcalls.setElementData && localcalls.setElementData(getElementData(), 'unregister');\n    };\n  }, [callbacks]); // ---------------------[ configure observer ]--------------------------\n\n  var observerElementRef = (0, react_1.useRef)(null); // persistent observer element ref for unmount\n\n  (0, react_1.useEffect)(function () {\n    if (!shellRef.current) return;\n    observer.observe(shellRef.current);\n    observerElementRef.current = shellRef.current;\n    return function () {\n      observer.unobserve(observerElementRef.current);\n    };\n  }, [observer, shellRef.current]); // ---------------------[ end of configure observer ]-------------------------\n  // set styles\n\n  (0, react_1.useEffect)(function () {\n    var newStyles = getShellStyles(orientation, cellHeight, cellWidth, styles);\n\n    if (isMountedRef.current) {\n      saveStyles(newStyles);\n    }\n  }, [orientation, cellHeight, cellWidth]);\n  var contentcomponent = (0, react_1.useMemo)(function () {\n    if (cellStatus == 'setup') return null;\n    var reverseportal = portaldataRef.current.reverseportal;\n    var component = react_1[\"default\"].createElement(react_reverse_portal_1.OutPortal, {\n      node: reverseportal\n    });\n\n    if (cellStatus != 'ready') {\n      if (!isreparented.current) {\n        portaldataRef.current.isReparenting = true;\n        isreparented.current = true;\n      }\n\n      setCellStatus('ready');\n    }\n\n    return component;\n  }, [cellStatus]);\n  return react_1[\"default\"].createElement(\"div\", {\n    ref: shellRef,\n    \"data-type\": 'cellshell',\n    \"data-scrollerid\": scrollerID,\n    \"data-index\": index,\n    \"data-instanceid\": instanceID,\n    style: styles\n  }, cellStatus != 'setup' && contentcomponent);\n}; // CellShell\n\n\nvar getShellStyles = function getShellStyles(orientation, cellHeight, cellWidth, styles) {\n  var styleset = Object.assign({\n    position: 'relative'\n  }, styles);\n\n  if (orientation == 'horizontal') {\n    styleset.width = cellWidth ? cellWidth + 'px' : 'auto';\n    styleset.height = 'auto';\n  } else if (orientation === 'vertical') {\n    styleset.width = 'auto';\n    styleset.height = cellHeight ? cellHeight + 'px' : 'auto';\n  }\n\n  return styleset;\n};\n\nexports[\"default\"] = CellShell;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjO0FBQUMsWUFBUSxFQUFDO0FBQVYsR0FBZCxFQUFvQyxNQUFwQyxDQUFmOztBQUNBLE1BQUksV0FBVyxJQUFJLFlBQW5CLEVBQWlDO0FBQzdCLFlBQVEsQ0FBQyxLQUFULEdBQWlCLFNBQVMsR0FBRSxTQUFTLEdBQUcsSUFBZCxHQUFvQixNQUE5QztBQUNBLFlBQVEsQ0FBQyxNQUFULEdBQWtCLE1BQWxCO0FBQ0gsR0FIRCxNQUdPLElBQUksV0FBVyxLQUFLLFVBQXBCLEVBQWdDO0FBQ25DLFlBQVEsQ0FBQyxLQUFULEdBQWlCLE1BQWpCO0FBQ0EsWUFBUSxDQUFDLE1BQVQsR0FBa0IsVUFBVSxHQUFFLFVBQVUsR0FBRyxJQUFmLEdBQXFCLE1BQWpEO0FBQ0g7O0FBRUQsU0FBTyxRQUFQO0FBRUgsQ0FiRDs7QUFlQSxxQkFBZSxTQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jZWxsc2hlbGwudHN4PzZkZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2VsbHNoZWxsLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIwIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgQ29uc2lkZXIgbm90IHVzaW5nIHJlcXVlc3RJZGxlQ2FsbGJhY2s7IHRyeSBpdC5cbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtyZXF1ZXN0SWRsZUNhbGxiYWNrLCBjYW5jZWxJZGxlQ2FsbGJhY2t9IGZyb20gJ3JlcXVlc3RpZGxlY2FsbGJhY2snXG5cbmltcG9ydCB7IE91dFBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJ1xuXG5pbXBvcnQgUGxhY2Vob2xkZXIgZnJvbSAnLi9wbGFjZWhvbGRlcidcblxuaW1wb3J0IHsgQ3JhZGxlQ29udGV4dCB9IGZyb20gJy4vY3JhZGxlJ1xuXG5jb25zdCBDZWxsU2hlbGwgPSAoe1xuICAgIG9yaWVudGF0aW9uLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGluZGV4LCBcbiAgICBvYnNlcnZlciwgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyXG4gICAgY2FsbGJhY2tzLCBcbiAgICBnZXRJdGVtLCBcbiAgICBsaXN0c2l6ZSwgXG4gICAgcGxhY2Vob2xkZXIsIFxuICAgIGluc3RhbmNlSUQsIFxuICAgIHNjcm9sbGVyTmFtZSxcbiAgICBzY3JvbGxlcklELFxufSkgPT4ge1xuXG4gICAgY29uc3QgY3JhZGxlRGF0YVJlZiA9IHVzZUNvbnRleHQoQ3JhZGxlQ29udGV4dClcbiAgICBjb25zdCBwb3J0YWxNYW5hZ2VyID0gY3JhZGxlRGF0YVJlZi5jdXJyZW50LnBvcnRhbE1hbmFnZXJcbiAgICBjb25zdCBpc3JlcGFyZW50ZWQgPSB1c2VSZWYoZmFsc2UpXG4gICAgXG4gICAgY29uc3QgW3N0eWxlcyxzYXZlU3R5bGVzXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgb3ZlcmZsb3c6J2hpZGRlbicsXG4gICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzKVxuICAgIC8vICdzZXR1cCcgLT4gJ3JlbmRlcnBsYWNlaG9sZGVyJyAtPiAncmVuZGVyY29udGVudCcgLT4gJ3JlYWR5J1xuICAgIGNvbnN0IFtjZWxsU3RhdHVzLCBzZXRDZWxsU3RhdHVzXSA9IHVzZVN0YXRlKCdzZXR1cCcpOyBcblxuICAgIC8vIGNvbnNvbGUubG9nKCdSVU5OSU5HIGNlbGxzaGVsbCBjZWxsU3RhdHVzLCBpbmRleCwgc2Nyb2xsZXJJRCwgaW5zdGFuY2VJRCcsY2VsbFN0YXR1cywgaW5kZXgsIHNjcm9sbGVySUQsIGluc3RhbmNlSUQpXG5cbiAgICBjb25zdCBzaGVsbFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGluc3RhbmNlSURSZWYgPSB1c2VSZWYoaW5zdGFuY2VJRClcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcbiAgICBjb25zdCBjYWxsYmFja3JlcXVlc3RSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBwb3J0YWxkYXRhUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBjb25zb2xlLmxvZygnUlVOTklORyBjZWxsc2hlbGwgc2Nyb2xsZXJJRCwgaW5zdGFuY2VJRCwgaW5kZXgsIGNlbGxTdGF0dXMnLCBzY3JvbGxlcklELCBpbnN0YW5jZUlELCBpbmRleCwgY2VsbFN0YXR1cylcblxuICAgIC8vIGZvciB1bm1vdW50XG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFsgcGxhY2Vob2xkZXIgZGVmaW5pdGlvbiBdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGN1c3RvbXBsYWNlaG9sZGVyID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcj9SZWFjdC5jcmVhdGVFbGVtZW50KHBsYWNlaG9sZGVyLCB7aW5kZXgsIGxpc3RzaXplfSk6bnVsbFxuICAgICAgICAgICAgXG4gICAgfSxbcGxhY2Vob2xkZXIsbGlzdHNpemVdKVxuXG4gICAgY29uc3QgcGxhY2Vob2xkZXJSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpPT57XG4gICAgICAgIGxldCBjaGlsZCA9IGN1c3RvbXBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyOjxQbGFjZWhvbGRlciBpbmRleCA9IHtpbmRleH0gbGlzdHNpemUgPSB7bGlzdHNpemV9IGVycm9yID0ge2ZhbHNlfS8+XG4gICAgICAgIHJldHVybiBjaGlsZFxuICAgIH0sIFtpbmRleCwgY3VzdG9tcGxhY2Vob2xkZXIsIGxpc3RzaXplXSk7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIFsgZW5kIG9mIHBsYWNlaG9sZGVyIGRlZmluaXRpb24gXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGluaXRpYWxpemUgY2VsbCBjb250ZW50XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBjb25zdCByZXF1ZXN0aWRsZWNhbGxiYWNrID0gd2luZG93WydyZXF1ZXN0SWRsZUNhbGxiYWNrJ10/d2luZG93WydyZXF1ZXN0SWRsZUNhbGxiYWNrJ106cmVxdWVzdElkbGVDYWxsYmFja1xuICAgICAgICBjb25zdCBjYW5jZWxpZGxlY2FsbGJhY2sgPSB3aW5kb3dbJ2NhbmNlbElkbGVDYWxsYmFjayddP3dpbmRvd1snY2FuY2VsSWRsZUNhbGxiYWNrJ106Y2FuY2VsSWRsZUNhbGxiYWNrXG5cbiAgICAgICAgcG9ydGFsZGF0YVJlZi5jdXJyZW50ID0gcG9ydGFsTWFuYWdlci5mZXRjaE9yQ3JlYXRlUG9ydGFsKGluZGV4LCBwbGFjZWhvbGRlclJlZi5jdXJyZW50KVxuXG4gICAgICAgIGNvbnN0IGhhc1VzZXJDb250ZW50ID0gISFwb3J0YWxkYXRhUmVmLmN1cnJlbnQuaGFzdXNlcmNvbnRlbnQgLy8gcHJldmlvdXMgSW5Qb3J0YWwgY3JlYXRpb24gZm9yIGluZGV4XG5cbiAgICAgICAgaWYgKCFoYXNVc2VyQ29udGVudCkge1xuXG4gICAgICAgICAgICBzZXRDZWxsU3RhdHVzKCdyZW5kZXJwbGFjZWhvbGRlcicpXG5cbiAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCAmJiBnZXRJdGVtKSB7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFja3JlcXVlc3RSZWYuY3VycmVudCA9IHJlcXVlc3RpZGxlY2FsbGJhY2soKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRJdGVtID0gZ2V0SXRlbShpbmRleClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEl0ZW0gJiYgY29udGVudEl0ZW0udGhlbikgeyAvLyBpdCdzIGEgcHJvbWlzZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50SXRlbS50aGVuKCh1c2VyY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkgeyBcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxkYXRhUmVmLmN1cnJlbnQuaGFzdXNlcmNvbnRlbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbGRhdGFSZWYuY3VycmVudCA9IHBvcnRhbE1hbmFnZXIudXBkYXRlUG9ydGFsKGluZGV4LHVzZXJjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDZWxsU3RhdHVzKCdyZW5kZXJjb250ZW50JylcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsZSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyY29udGVudCA9IGNvbnRlbnRJdGVtXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGFsZGF0YVJlZi5jdXJyZW50Lmhhc3VzZXJjb250ZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxkYXRhUmVmLmN1cnJlbnQgPSBwb3J0YWxNYW5hZ2VyLnVwZGF0ZVBvcnRhbChpbmRleCx1c2VyY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2VsbFN0YXR1cygncmVuZGVyY29udGVudCcpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsJ25vIGNvbnRlbnQgaXRlbScpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0se3RpbWVvdXQ6MjUwfSlcbiAgICAgICAgXG4gICAgICAgICAgICB9ICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIFxuICAgICAgICAgICAgc2V0Q2VsbFN0YXR1cygncmVuZGVyY29udGVudCcpXG4gICAgXG4gICAgICAgIH0gICAgICAgIFxuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2toYW5kbGUgPSBjYWxsYmFja3JlcXVlc3RSZWYuY3VycmVudFxuICAgICAgICAgICAgY2FuY2VsaWRsZWNhbGxiYWNrKGNhbGxiYWNraGFuZGxlKVxuXG4gICAgICAgIH1cbiAgICB9LFtdKVxuXG5cbiAgICAvLyBjcmFkbGUgaW52YXJpYW50IG9uZGVtYW5kIGNhbGxiYWNrIHBhcmFtZXRlciB2YWx1ZVxuICAgIGNvbnN0IGdldEVsZW1lbnREYXRhID0gdXNlQ2FsbGJhY2soKCk9PntcbiAgICAgICAgcmV0dXJuIFtpbmRleCwgc2hlbGxSZWZdXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYWxpemUgY2FsbGJhY2tzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBjb25zdCBsb2NhbGNhbGxzID0gY2FsbGJhY2tzXG5cbiAgICAgICAgbG9jYWxjYWxscy5zZXRFbGVtZW50RGF0YSAmJiBsb2NhbGNhbGxzLnNldEVsZW1lbnREYXRhKGdldEVsZW1lbnREYXRhKCksJ3JlZ2lzdGVyJylcblxuICAgICAgICByZXR1cm4gKCgpPT57XG5cbiAgICAgICAgICAgIGxvY2FsY2FsbHMuc2V0RWxlbWVudERhdGEgJiYgbG9jYWxjYWxscy5zZXRFbGVtZW50RGF0YShnZXRFbGVtZW50RGF0YSgpLCd1bnJlZ2lzdGVyJylcblxuICAgICAgICB9KVxuXG4gICAgfSxbY2FsbGJhY2tzXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY29uZmlndXJlIG9ic2VydmVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIGNvbnN0IG9ic2VydmVyRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSAvLyBwZXJzaXN0ZW50IG9ic2VydmVyIGVsZW1lbnQgcmVmIGZvciB1bm1vdW50XG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIXNoZWxsUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoc2hlbGxSZWYuY3VycmVudClcbiAgICAgICAgb2JzZXJ2ZXJFbGVtZW50UmVmLmN1cnJlbnQgPSBzaGVsbFJlZi5jdXJyZW50XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKG9ic2VydmVyRWxlbWVudFJlZi5jdXJyZW50KVxuXG4gICAgICAgIH1cblxuICAgIH0sW29ic2VydmVyLCBzaGVsbFJlZi5jdXJyZW50XSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgZW5kIG9mIGNvbmZpZ3VyZSBvYnNlcnZlciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gc2V0IHN0eWxlc1xuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGxldCBuZXdTdHlsZXMgPSBnZXRTaGVsbFN0eWxlcyhvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBzdHlsZXMpXG4gICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc2F2ZVN0eWxlcyhuZXdTdHlsZXMpXG4gICAgICAgIH1cblxuICAgIH0sW29yaWVudGF0aW9uLGNlbGxIZWlnaHQsY2VsbFdpZHRoXSkgXG5cbiAgICBjb25zdCBjb250ZW50Y29tcG9uZW50ID0gdXNlTWVtbygoKT0+e1xuXG4gICAgICAgIGlmIChjZWxsU3RhdHVzID09ICdzZXR1cCcpIHJldHVybiBudWxsXG5cbiAgICAgICAgY29uc3QgcmV2ZXJzZXBvcnRhbCA9IHBvcnRhbGRhdGFSZWYuY3VycmVudC5yZXZlcnNlcG9ydGFsXG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gPE91dFBvcnRhbCBub2RlID0ge3JldmVyc2Vwb3J0YWx9Lz5cblxuICAgICAgICBpZiAoY2VsbFN0YXR1cyAhPSAncmVhZHknKSB7XG4gICAgICAgICAgICBpZiAoIWlzcmVwYXJlbnRlZC5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICBwb3J0YWxkYXRhUmVmLmN1cnJlbnQuaXNSZXBhcmVudGluZyA9IHRydWVcbiAgICAgICAgICAgICAgICBpc3JlcGFyZW50ZWQuY3VycmVudCA9IHRydWVcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2VsbFN0YXR1cygncmVhZHknKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFxuXG4gICAgfSwgW2NlbGxTdGF0dXNdKTtcblxuICAgIHJldHVybiA8ZGl2IHJlZiA9IHsgc2hlbGxSZWYgfSBkYXRhLXR5cGUgPSAnY2VsbHNoZWxsJyBkYXRhLXNjcm9sbGVyaWQgPSB7c2Nyb2xsZXJJRH0gZGF0YS1pbmRleCA9IHtpbmRleH0gZGF0YS1pbnN0YW5jZWlkID0ge2luc3RhbmNlSUR9IHN0eWxlID0ge3N0eWxlc30+XG4gICAgICAgICAgICB7IChjZWxsU3RhdHVzICE9ICdzZXR1cCcpICYmIGNvbnRlbnRjb21wb25lbnQgfVxuICAgICAgICA8L2Rpdj5cblxufSAvLyBDZWxsU2hlbGxcblxuY29uc3QgZ2V0U2hlbGxTdHlsZXMgPSAob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgc3R5bGVzKSA9PiB7XG5cbiAgICBsZXQgc3R5bGVzZXQgPSBPYmplY3QuYXNzaWduKHtwb3NpdGlvbjoncmVsYXRpdmUnfSxzdHlsZXMpXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICBzdHlsZXNldC53aWR0aCA9IGNlbGxXaWR0aD8oY2VsbFdpZHRoICsgJ3B4Jyk6J2F1dG8nXG4gICAgICAgIHN0eWxlc2V0LmhlaWdodCA9ICdhdXRvJ1xuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgc3R5bGVzZXQud2lkdGggPSAnYXV0bydcbiAgICAgICAgc3R5bGVzZXQuaGVpZ2h0ID0gY2VsbEhlaWdodD8oY2VsbEhlaWdodCArICdweCcpOidhdXRvJ1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXNldFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENlbGxTaGVsbFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cellshell.tsx\n");

/***/ }),

/***/ "./src/cradle.tsx":
/*!************************!*\
  !*** ./src/cradle.tsx ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cradle.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleContext = void 0;\n/*\n    TODO:\n\n    - consider eliminating cellintersectobserver in favour of head and tail intersect oberver\n\n    - scroll reset problem recurs with repeated above and below rapid resets\n        the problem comes with update content from endofscroll, after double normalize signals\n        the extra reparenting is inserted during the timeout for normalize signals\n    - try cleartimeout\n\n\n    - fix scroll reset on reparent\n    - review need for setscrollposition\n    - BUG: in FF nested scroller switch from placeholder to content resets scroll position\n    - unmounted warning to do with InPortal\n\n    ObserversManager\n    WingsAgent\n    MessageAgent ? // message with host environment, such as referenceIndexCallback\n\n    ScrollManager\n    SignalsManager\n    StateManager\n    ContentManager\n    CradleManager\n    ServiceManager // user services\n    StylesManager\n\n    BUGS:\n    - check styles in scrollTracker args\n    - doreposition gets stuck at a particular number after getting behind on heavy scroll\n        check pauseScrollingEffects\n    - variable cells showing signs of getItem() with portal\n    - Chrome sometimes misses nested cell portals horizontally\n    - reduce computing intensity to avoid battery drainage\n*/\n\n/*\n    Description\n    -----------\n    The GridStroller provides the illusion of infinite scrolling through the use of a data 'cradle' inside a viewport.\n    The illusion is maintained by synchronizing changes in cradle content with cradle location inside a scrollblock, such\n    that as the scrollblock is moved, the cradle moves oppositely in the scrollblock (to stay visible within the viewport).\n    The scrollblock is sized to approximate the list being viewed, so as to have a scroll thumb size and position which\n    realistically reflects the size of the list being shown.\n\n    The position of the cradle is controlled by a 'spine' which is a 0px height/width (along the medial - ScrollBlock can be\n    verticsl or horizontal). The purpose of the spine is to act as a 'fold', above which cell content expands 'upwards', and\n    below which the cell content expands  'downwards'. GridScroller can be viewed vertically or horizontally. When horizontal,\n    the spine has a 0px width, so that the 'fold' is vertical, and cells expand to the left and right.\n\n    The spine is controlled to always be in the at the leading edge of the leading cellrow of the viewport. Thus\n    in vertical orientation, the spine 'top' css attribute is always equal to the 'scrollTop' position of the scrollblock,\n    plus an adjustment. The adjustment is the result of the alignment of the spine in relation to the top-(or left-)most cell\n    in the viewport (the 'reference' row). The spine can only be placed at the leading edge of the first visible\n    cell in the viewport. Therefore the spine offset from the leading edge of the viewport can be anywhere from minus to\n    plus the length of the leading row. The exact amount depends on where the 'breakpoint' of transition notification is set for\n    cells crossing the viewport threshold (and can be configured). The default of the breakpoint is .5 (half the length of the cell).\n\n    Technically, there are several reference points tracked by the GridScroller. These are:\n        - spineReferenceIndex (the virtual index of the item controlling the location of the spine)\n            The spineReferenceIndex is also used to allocate items above (lower index value) and below (same or higher index value)\n            the fold\n        - cradleReferenceIndex (the virtual index of the item defining the leading bound of the cradle content)\n        - spinePosOffset (pixels - plus or minus - that the spine is placed in relation to the viewport's leading edge)\n    \n    These reference points are applied to the following structures:\n        - the viewport\n        - the scrollblock\n        - the cradle, consisting of\n            - the spine (contains cradle head and tail)\n            - the head (contains leading items)\n            - the tail (contains trailing items)\n\n    Structure details:\n        the cradle content consists of\n        - the number of rows that are visible in the viewport (according to the default parameters)\n            - this typically includes one partially visible row\n        - the number of runway rows specified in the parameters, times 2 (one et for the head; one for the tail)\n        - the number of items is the number of rows times the 'crosscount' the lateral number of cells.\n        - the last row might consist of fewer items than crosscount, to match the maximum listsize\n        - the cradleRowcount (visible default rows + runwaycount * 2) and viewpointRowcount (visble rows;typicall one partial)\n\n    Item containers:\n        Client cell content is contained in CellShell's, which are configured according to GridScroller's input parameters.\n        The ItemCell's are in turn contained in CSS grid structures. There are two grid structures - one in the cradle head,\n        and one in the cradle tail. Each grid structure is allowed uniform padding and gaps - identical between the two.\n\n    Overscroll handling:\n        Owing to the weight of the code, and potential rapidity of scrolling, there is an overscroll protocol.\n        if the overscroll is such that part of the cradle is still within the viewport boundaries, then the overscroll\n        is calculated as the number of cell rows that would fit (completely or partially) in the space between the edge of\n        the cradle that is receding from a viewport edge.\n\n        If the overshoot is such that the cradle has entirely passed out of the viewport, the GridScroller goes into 'Repositoining'\n        mode, meaning that it tracks relative location of the spine edge of the viewport, and repaints the cradle accroding to\n        this position when the scrolling stops.\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar portalmanager_1 = __webpack_require__(/*! ./portalmanager */ \"./src/portalmanager.tsx\");\n\nvar ITEM_OBSERVER_THRESHOLD = 0; // import agency classes - loci of data and related methods\n\nvar scrollmanager_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollmanager */ \"./src/cradle/scrollmanager.tsx\"));\n\nvar statemanager_1 = __importDefault(__webpack_require__(/*! ./cradle/statemanager */ \"./src/cradle/statemanager.tsx\"));\n\nvar contentmanager_1 = __importDefault(__webpack_require__(/*! ./cradle/contentmanager */ \"./src/cradle/contentmanager.tsx\"));\n\nvar cradlemanager_1 = __importDefault(__webpack_require__(/*! ./cradle/cradlemanager */ \"./src/cradle/cradlemanager.tsx\"));\n\nvar interruptmanager_1 = __importDefault(__webpack_require__(/*! ./cradle/interruptmanager */ \"./src/cradle/interruptmanager.tsx\"));\n\nvar servicemanager_1 = __importDefault(__webpack_require__(/*! ./cradle/servicemanager */ \"./src/cradle/servicemanager.tsx\"));\n\nvar stylesmanager_1 = __importDefault(__webpack_require__(/*! ./cradle/stylesmanager */ \"./src/cradle/stylesmanager.tsx\")); // popup position trackeer\n\n\nvar scrolltracker_1 = __importDefault(__webpack_require__(/*! ./scrolltracker */ \"./src/scrolltracker.tsx\"));\n\nexports.CradleContext = react_1[\"default\"].createContext(null); // for children\n\nvar portalrootstyle = {\n  display: 'none'\n}; // static parm\n\nvar NORMALIZE_SIGNALS_TIMEOUT = 250;\n\nvar Cradle = function Cradle(_a) {\n  var _b, _c, _d;\n\n  var gap = _a.gap,\n      padding = _a.padding,\n      runwaycount = _a.runwaycount,\n      listsize = _a.listsize,\n      defaultVisibleIndex = _a.defaultVisibleIndex,\n      orientation = _a.orientation,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      getItem = _a.getItem,\n      placeholder = _a.placeholder,\n      functions = _a.functions,\n      styles = _a.styles,\n      scrollerName = _a.scrollerName,\n      scrollerID = _a.scrollerID;\n  var cradlePropsRef = (0, react_1.useRef)(null); // access by closures\n\n  cradlePropsRef.current = {\n    gap: gap,\n    padding: padding,\n    runwaycount: runwaycount,\n    listsize: listsize,\n    defaultVisibleIndex: defaultVisibleIndex,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    getItem: getItem,\n    placeholder: placeholder,\n    scrollerName: scrollerName,\n    scrollerID: scrollerID\n  };\n\n  var _e = (0, react_1.useState)('setup'),\n      cradleState = _e[0],\n      setCradleState = _e[1];\n\n  var isReparentingRef = (0, react_1.useRef)(false);\n  var viewportData = (0, react_1.useContext)(viewport_1.ViewportContext);\n  var viewportDataRef = (0, react_1.useRef)(null);\n  viewportDataRef.current = viewportData;\n  var normalizetimerRef = (0, react_1.useRef)(null); // if ((cradleState == 'normalizesignals') && viewportData.portal?.isReparenting) {\n\n  if ((_b = viewportData.portal) === null || _b === void 0 ? void 0 : _b.isReparenting) {\n    // tiny edge case; avoid resetting signals\n    clearTimeout(normalizetimerRef.current);\n  }\n\n  var cradleStateRef = (0, react_1.useRef)(null); // access by closures\n\n  cradleStateRef.current = cradleState;\n  var cradleDataRef = (0, react_1.useRef)({\n    portalManager: null,\n    scrollerID: scrollerID,\n    viewportDataRef: viewportDataRef\n  }); // if (viewportDataRef.current.index == 0)\n  //     console.log('RUNNING CRADLE index, cradleState',viewportDataRef.current.index, cradleState)\n  // --------------------------[ bundle cradleProps ]----------------------------\n  // functions and styles handled separately\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useLayoutEffect)(function () {\n    var portalmanager = cradleDataRef.current.portalManager = new portalmanager_1.PortalManager(); // cleanup portal repository; clear isMountedRef\n\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []); // const cradleProps = cradlePropsRef.current\n  // =============================================================================================\n  // --------------------------------------[ INITIALIZATION ]-------------------------------------\n  // =============================================================================================\n  // -----------------------------------------------------------------------\n  // -----------------------------------[ utilites ]------------------------\n\n  var referenceIndexCallbackRef = (0, react_1.useRef)(functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback); // -----------------------------------------------------------------------\n  // ---------------------------[ context data ]----------------------------\n  // if (viewportData.index == 0) console.log('cradle index, cradleState, props',\n  //     viewportData.index,cradleState, cradlePropsRef.current)\n  // -----------------------------------------------------------------------\n  // -------------------------[ configuration ]-----------------------------\n\n  var viewportDimensions = viewportData.viewportDimensions;\n  var viewportheight = viewportDimensions.height,\n      viewportwidth = viewportDimensions.width;\n  var crosscount = (0, react_1.useMemo)(function () {\n    var crosscount;\n    var size = orientation == 'horizontal' ? viewportheight : viewportwidth;\n    var crossLength = orientation == 'horizontal' ? cellHeight : cellWidth;\n    var lengthforcalc = size - padding * 2 + gap; // length of viewport\n\n    var tilelengthforcalc = crossLength + gap;\n    tilelengthforcalc = Math.min(tilelengthforcalc, lengthforcalc); // result cannot be less than 1\n\n    crosscount = Math.floor(lengthforcalc / tilelengthforcalc);\n    return crosscount;\n  }, [orientation, cellWidth, cellHeight, gap, padding, viewportheight, viewportwidth]);\n\n  var _f = (0, react_1.useMemo)(function () {\n    var viewportLength, cellLength;\n\n    if (orientation == 'vertical') {\n      viewportLength = viewportheight;\n      cellLength = cellHeight;\n    } else {\n      viewportLength = viewportwidth;\n      cellLength = cellWidth;\n    }\n\n    cellLength += gap;\n    var viewportrowcount = Math.ceil(viewportLength / cellLength);\n    var cradleRowcount = viewportrowcount + runwaycount * 2;\n    var itemcount = cradleRowcount * crosscount;\n\n    if (itemcount > listsize) {\n      itemcount = listsize;\n      cradleRowcount = Math.ceil(itemcount / crosscount);\n    }\n\n    return [cradleRowcount, viewportrowcount];\n  }, [orientation, cellWidth, cellHeight, gap, listsize, // padding,\n  viewportheight, viewportwidth, runwaycount, crosscount]),\n      cradleRowcount = _f[0],\n      viewportRowcount = _f[1];\n\n  var cradleConfigRef = (0, react_1.useRef)(null);\n  cradleConfigRef.current = {\n    crosscount: crosscount,\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    cellObserverThreshold: ITEM_OBSERVER_THRESHOLD,\n    listRowcount: Math.ceil(listsize / crosscount)\n  }; // -----------------------------------------------------------------------\n  // -------------------------[ cradle management nodes ]-----------------\n\n  var managersRef = (0, react_1.useRef)(null); // make available to individual managers\n\n  var commonProps = {\n    managersRef: managersRef,\n    viewportdataRef: viewportDataRef,\n    cradlePropsRef: cradlePropsRef,\n    cradleConfigRef: cradleConfigRef,\n    cradleDataRef: cradleDataRef\n  };\n  var serviceCallsRef = (0, react_1.useRef)({\n    referenceIndexCallbackRef: referenceIndexCallbackRef\n  }); // cradle butterfly html components\n\n  var headCradleElementRef = (0, react_1.useRef)(null);\n  var tailCradleElementRef = (0, react_1.useRef)(null);\n  var spineCradleElementRef = (0, react_1.useRef)(null);\n  var cradleElementsRef = (0, react_1.useRef)({\n    head: headCradleElementRef,\n    tail: tailCradleElementRef,\n    spine: spineCradleElementRef\n  });\n  var setItemElementData = (0, react_1.useCallback)(function (itemElementData, reportType) {\n    var index = itemElementData[0],\n        shellref = itemElementData[1];\n\n    if (reportType == 'register') {\n      contentManager.itemElements.set(index, shellref);\n    } else if (reportType == 'unregister') {\n      contentManager.itemElements[\"delete\"](index);\n    }\n  }, []);\n  var contentCallbacksRef = (0, react_1.useRef)({\n    setElementData: setItemElementData\n  });\n\n  var _g = (0, react_1.useMemo)(function () {\n    return [new scrollmanager_1[\"default\"](commonProps), new statemanager_1[\"default\"](commonProps, cradleStateRef, setCradleState, isMountedRef), new contentmanager_1[\"default\"](commonProps, contentCallbacksRef), new cradlemanager_1[\"default\"](commonProps, cradleElementsRef.current), new interruptmanager_1[\"default\"](commonProps), new servicemanager_1[\"default\"](commonProps, serviceCallsRef), new stylesmanager_1[\"default\"](commonProps)];\n  }, []),\n      scrollManager = _g[0],\n      stateManager = _g[1],\n      contentManager = _g[2],\n      cradleManager = _g[3],\n      interruptManager = _g[4],\n      serviceManager = _g[5],\n      stylesManager = _g[6]; // to instantiate managersRef\n\n\n  var managementsetRef = (0, react_1.useRef)({\n    scroll: scrollManager,\n    // signals:signalsManager, \n    state: stateManager,\n    content: contentManager,\n    cradle: cradleManager,\n    service: serviceManager,\n    interrupts: interruptManager,\n    styles: stylesManager\n  });\n  managersRef.current = managementsetRef.current;\n\n  if (viewportDataRef.current.index == 6\n  /*|| (viewportDataRef.current.index === null)*/\n  ) {\n    console.log('RUNNING CRADLE index', viewportDataRef.current.index, '\\n', '==>', 'cradleState:', cradleState, '\\n', 'isRepositioning signal:', interruptManager.states.isRepositioning, '\\n', 'isReparenting signal, state:', (_c = viewportDataRef.current.portal) === null || _c === void 0 ? void 0 : _c.isReparenting, isReparentingRef.current, '\\n', 'isResizing signal:', viewportData.isResizing, '\\n', 'isCradleInView:', interruptManager.states.isCradleInView);\n  } // ------------------------------------------------------------------------\n  // -----------------------[ initialization effects ]-----------------------\n  //initialize host functions properties\n\n\n  (0, react_1.useEffect)(function () {\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('scrollToItem')) {\n      functions.scrollToItem = serviceManager.scrollToItem;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('getVisibleList')) {\n      functions.getVisibleList = serviceManager.getVisibleList;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('getContentList')) {\n      functions.getContentList = serviceManager.getContentList;\n    }\n\n    if (functions === null || functions === void 0 ? void 0 : functions.hasOwnProperty('reload')) {\n      functions.reload = serviceManager.reload;\n    }\n\n    referenceIndexCallbackRef.current = functions === null || functions === void 0 ? void 0 : functions.referenceIndexCallback;\n  }, [functions]); // initialize window scroll listener\n\n  (0, react_1.useEffect)(function () {\n    var viewportdata = viewportDataRef.current;\n    viewportdata.elementref.current.addEventListener('scroll', scrollManager.onScroll);\n    return function () {\n      viewportdata.elementref.current && viewportdata.elementref.current.removeEventListener('scroll', scrollManager.onScroll);\n    };\n  }, []); // -----------------------------------------------------------------------\n  // -----------------------[ reconfiguration effects ]---------------------\n  // trigger resizing based on viewport state\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n\n    if (viewportData.isResizing) {\n      var signals = interruptManager.signals;\n      signals.pauseCellObserver = true;\n      signals.pauseCradleIntersectionObserver = true;\n      signals.pauseCradleResizeObserver = true;\n      signals.pauseScrollingEffects = true;\n      var states = interruptManager.states;\n      states.isResizing = true;\n      setCradleState('resizing');\n    } // complete resizing mode\n\n\n    if (!viewportData.isResizing && cradleStateRef.current == 'resizing') {\n      interruptManager.states.isResizing = false;\n      setCradleState('resized');\n    }\n  }, [viewportData.isResizing]);\n  (0, react_1.useLayoutEffect)(function () {\n    if (!viewportDataRef.current.portal) return;\n\n    if (viewportDataRef.current.portal.isReparenting) {\n      viewportDataRef.current.portal.isReparenting = false;\n      if (cradleState == 'setup') return;\n\n      if (isReparentingRef.current && cradleState != 'normalizesignals') {\n        return;\n      } else {\n        isReparentingRef.current = true;\n\n        if (viewportDataRef.current.index == 6\n        /*|| (viewportDataRef.current.index === null)*/\n        ) {\n          console.log('setting restorescrollposition for index', viewportDataRef.current.index);\n        }\n\n        setCradleState('restorescrollposition');\n      }\n    } else {\n      return;\n    }\n\n    if (viewportDataRef.current.index == 6\n    /*|| (viewportDataRef.current.index === null)*/\n    ) {\n      console.log('setting reparenting signals for index, state', viewportDataRef.current.index, cradleState);\n    }\n\n    var signals = interruptManager.signals;\n    signals.pauseCellObserver = true;\n    signals.pauseScrollingEffects = true; // signals.pauseCradleIntersectionObserver = true\n    // setCradleState('restorescrollposition')\n  }, [cradleState, (_d = viewportDataRef.current.portal) === null || _d === void 0 ? void 0 : _d.isReparenting]); // reload for changed parameters\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    var signals = interruptManager.signals;\n    signals.pauseCellObserver = true;\n    signals.pauseScrollingEffects = true;\n    setCradleState('reload');\n  }, [listsize, cellHeight, cellWidth, gap, padding]); // trigger pivot on change in orientation\n\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // get previous ratio\n\n    var previousCellPixelLength = orientation == 'vertical' ? cradlePropsRef.current.cellWidth : cradlePropsRef.current.cellHeight; // let previousSpineOffset = cradleManager.cradleReferenceData.theNextSpinePixelOffset\n\n    var previousSpineOffset = cradleManager.cradleReferenceData.nextCradlePosOffset;\n    var previousratio = previousSpineOffset / previousCellPixelLength;\n    var currentCellPixelLength = orientation == 'vertical' ? cradlePropsRef.current.cellHeight : cradlePropsRef.current.cellWidth;\n    var currentSpineOffset = previousratio * currentCellPixelLength;\n    cradleManager.cradleReferenceData.nextCradlePosOffset = Math.round(currentSpineOffset);\n    var signals = interruptManager.signals;\n    signals.pauseCellObserver = true; // pauseCradleIntersectionObserverRef.current = true\n\n    signals.pauseScrollingEffects = true;\n    setCradleState('pivot'); // let cradleContent = contentAgentRef.current.content\n\n    cradleContent.headModel = [];\n    cradleContent.tailModel = [];\n    cradleContent.headView = [];\n    cradleContent.tailView = [];\n  }, [orientation]); // =======================================================================\n  // -------------------------[ OPERATION ]---------------------------------\n  // =======================================================================\n  // -----------------------------------------------------------------------\n  // ------------------------[ style data ]-------------------------------\n  // styles for wings and spine\n\n  var _h = (0, react_1.useMemo)(function () {\n    return stylesManager.setCradleStyles({\n      orientation: orientation,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      viewportheight: viewportheight,\n      viewportwidth: viewportwidth,\n      crosscount: crosscount,\n      userstyles: styles\n    });\n  }, [orientation, cellHeight, cellWidth, gap, padding, viewportheight, viewportwidth, crosscount, styles]),\n      cradleHeadStyle = _h[0],\n      cradleTailStyle = _h[1],\n      cradleSpineStyle = _h[2]; // =================================================================================\n  // -------------------------[ Observer support]-------------------------\n  // =================================================================================\n\n  /*\n      There are two interection observers, one for the cradle, and another for itemShells;\n          both against the viewport.\n      There is also a resize observer for the cradle wings, to respond to size changes of\n          variable cells.\n  */\n  // --------------------------[ resize observer ]-----------------------------------\n  // set up cradle resizeobserver\n\n\n  (0, react_1.useEffect)(function () {\n    var observer = interruptManager.cradleResize.create();\n    var cradleElements = cradleManager.elements;\n    observer.observe(cradleElements.headRef.current);\n    observer.observe(cradleElements.tailRef.current);\n    return function () {\n      observer.disconnect();\n    };\n  }, []); // --------------------[ intersection observer for cradle body ]-----------------------\n  // this sets up an IntersectionObserver of the cradle against the viewport. When the\n  // cradle goes out of the observer scope, the \"repositioningA\" cradle state is triggerd.\n\n  (0, react_1.useEffect)(function () {\n    var observer = interruptManager.cradleIntersect.create();\n    var cradleElements = cradleManager.elements;\n    observer.observe(cradleElements.headRef.current);\n    observer.observe(cradleElements.tailRef.current);\n    return function () {\n      observer.disconnect();\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (cradleState != 'startreposition' && cradleState != 'finishreposition') return;\n    var observer = interruptManager.cradleIntersect.observer;\n\n    if (cradleState == 'startreposition') {\n      observer.disconnect();\n    }\n\n    if (cradleState == 'finishreposition') {\n      var cradleElements = cradleManager.elements;\n      observer.observe(cradleElements.headRef.current);\n      observer.observe(cradleElements.tailRef.current);\n    }\n  }, [cradleState]); // --------------------------[ item shell observer ]-----------------------------\n\n  /*\n      The cradle content is driven by notifications from the IntersectionObserver.\n      - as the user scrolls the cradle, which has a runwaycount at both the leading\n          and trailing edges, CellShells scroll into or out of the scope of the observer\n          (defined by the width/height of the viewport + the lengths of the runways). The observer\n          notifies the app (through cellobservercallback() below) at the crossings of the itemshells\n          of the defined observer cradle boundaries.\n           The no-longer-intersecting notifications trigger dropping of that number of affected items from\n          the cradle contentlist. The dropping of items from the trailing end of the content list\n          triggers the addition of an equal number of items at the leading edge of the cradle content.\n           Technically, the opposite end position spec is set (top or left depending on orientation),\n          and the matching end position spec is set to 'auto' when items are added. This causes items to be\n          \"squeezed\" into the leading or trailing ends of the ui content (out of view) as appropriate.\n           There are exceptions for setup and edge cases.\n  */\n  // responds to change of orientation\n\n  (0, react_1.useEffect)(function () {\n    var observer = interruptManager.cellIntersect.observer;\n    if (observer) observer.disconnect();\n    observer = interruptManager.cellIntersect.create();\n    return function () {\n      observer.disconnect();\n    };\n  }, [orientation]); // =====================================================================================\n  // ----------------------------------[ state management ]-------------------------------\n  // =====================================================================================\n  // data for state processing\n\n  var callingCradleState = (0, react_1.useRef)(cradleStateRef.current);\n  var headlayoutDataRef = (0, react_1.useRef)(null); // this is the core state engine\n  // useLayout for suppressing flashes\n\n  (0, react_1.useLayoutEffect)(function () {\n    var viewportData = viewportDataRef.current;\n    var cradleContent = contentManager.content;\n\n    switch (cradleState) {\n      case 'reload':\n        // cradleContent.portalData.clear()\n        setCradleState('setreload');\n        break;\n\n      case 'restorescrollposition':\n        {\n          if (viewportDataRef.current.index == 6) {\n            console.log('setting scroll to ', cradleManager.cradleReferenceData.blockScrollPos);\n          }\n\n          viewportData.elementref.current[cradleManager.cradleReferenceData.blockScrollProperty] = Math.max(0, cradleManager.cradleReferenceData.blockScrollPos);\n          isReparentingRef.current = false;\n          setCradleState('normalizesignals');\n          break;\n        }\n\n      case 'setscrollposition':\n        {\n          viewportData.elementref.current[cradleManager.cradleReferenceData.blockScrollProperty] = Math.max(0, cradleManager.cradleReferenceData.blockScrollPos);\n          setCradleState('normalizesignals');\n          break;\n        }\n\n      case 'updatecontent':\n        {\n          // scroll\n          setCradleState('ready');\n          break;\n        }\n\n      case 'preparerender':\n        {\n          var cradleContent_1 = contentManager.content;\n          cradleContent_1.headView = cradleContent_1.headModel;\n          cradleContent_1.tailView = cradleContent_1.tailModel;\n          setCradleState('setscrollposition');\n          break;\n        }\n\n      case 'startreposition':\n        {\n          interruptManager.states.isRepositioning = true;\n          interruptManager.signals.pauseCradleIntersectionObserver = true;\n          setCradleState('repositioningA');\n          break;\n        }\n\n      case 'finishreposition':\n        {\n          // interruptManager.states.isCradleInView = true\n          interruptManager.signals.pauseCradleIntersectionObserver = false;\n          setCradleState('updatereferences');\n          break;\n        }\n\n      case 'updatereferences':\n        {\n          scrollManager.updateReferenceData();\n          setCradleState('doreposition');\n          break;\n        }\n\n      case 'doreposition':\n        {\n          interruptManager.states.isRepositioning = false;\n        }\n\n      case 'setup':\n      case 'resized':\n      case 'pivot':\n      case 'setreload':\n        callingCradleState.current = cradleState;\n        setCradleState('preparecontent');\n        break;\n\n      case 'preparecontent':\n        {\n          cradleContent.headModel = [];\n          cradleContent.tailModel = [];\n          cradleContent.headView = [];\n          cradleContent.tailView = [];\n          cradleDataRef.current.portalManager.resetScrollerPortalRepository();\n          contentManager.setCradleContent(callingCradleState.current);\n          setCradleState('preparerender');\n          break;\n        }\n\n      case 'normalizesignals':\n        {\n          normalizetimerRef.current = setTimeout(function () {\n            if (!isMountedRef.current) return; // allow short-circuits to restart or continue interrupt responses\n\n            /*1*/\n\n            if (!viewportData.isResizing) {\n              // resize short-circuit\n\n              /*2*/\n              if (interruptManager.states.isCradleInView) {\n                // repositioning short-circuit\n\n                /*3*/\n                if (!viewportDataRef.current.portal || !viewportDataRef.current.portal.isReparenting && !isReparentingRef.current) {\n                  // reparent (restorescrollpos) short-circuit\n                  var signals = interruptManager.signals;\n\n                  if (viewportData.elementref.current) {\n                    // already unmounted if fails (?)\n                    signals.pauseCellObserver && (signals.pauseCellObserver = false);\n                    signals.pauseScrollingEffects && (signals.pauseScrollingEffects = false);\n                    signals.pauseCradleIntersectionObserver && (signals.pauseCradleIntersectionObserver = false);\n                    signals.pauseCradleResizeObserver && (signals.pauseCradleResizeObserver = false);\n                  } else {\n                    console.log('ERROR: viewport element not set in normalizesignals', scrollerID, viewportData);\n                  }\n\n                  setCradleState('ready');\n                } else {\n                  /*3*/\n                  setCradleState('restorescrollposition');\n                }\n              } else {\n                /*2*/\n                setCradleState('startreposition');\n              }\n            } else {\n              /*1*/\n              setCradleState('resizing');\n            }\n          }, NORMALIZE_SIGNALS_TIMEOUT);\n          break;\n        }\n    }\n  }, [cradleState]); // standard processing stages\n\n  (0, react_1.useEffect)(function () {\n    var viewportData = viewportDataRef.current;\n\n    switch (cradleState) {\n      case 'repositioningB':\n        setCradleState('repositioningA');\n        break;\n\n      case 'repositioningA':\n        break;\n\n      case 'ready':\n        break;\n    }\n  }, [cradleState]); // =============================================================================\n  // ------------------------------[ RENDER... ]----------------------------------\n  // =============================================================================\n\n  var scrollTrackerArgs = (0, react_1.useMemo)(function () {\n    if (!(cradleStateRef.current == 'repositioningB' || cradleStateRef.current == 'repositioningA')) {\n      return;\n    }\n\n    var trackerargs = {\n      top: viewportDimensions.top + 3,\n      left: viewportDimensions.left + 3,\n      referenceIndexOffset: cradleManager.cradleReferenceData.scrollImpliedItemIndexReference,\n      listsize: cradlePropsRef.current.listsize,\n      styles: cradlePropsRef.current.styles\n    };\n    return trackerargs;\n  }, [cradleStateRef.current, viewportDimensions, cradleManager.cradleReferenceData.scrollImpliedItemIndexReference, cradlePropsRef]);\n  var cradleContent = contentManager.content;\n  return react_1[\"default\"].createElement(exports.CradleContext.Provider, {\n    value: cradleDataRef\n  }, cradleStateRef.current != 'setup' && react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'portalroot',\n    style: portalrootstyle\n  }, react_1[\"default\"].createElement(portalmanager_1.PortalList, {\n    scrollerData: cradleDataRef.current.portalManager.scrollerData\n  })), cradleStateRef.current == 'repositioningB' || cradleStateRef.current == 'repositioningA' ? react_1[\"default\"].createElement(scrolltracker_1[\"default\"], {\n    top: scrollTrackerArgs.top,\n    left: scrollTrackerArgs.left,\n    offset: scrollTrackerArgs.referenceIndexOffset,\n    listsize: scrollTrackerArgs.listsize,\n    styles: scrollTrackerArgs.styles\n  }) : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-spine',\n    style: cradleSpineStyle,\n    ref: spineCradleElementRef\n  },  true ? react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: {\n      zIndex: 1,\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      boxShadow: '0 0 5px 3px red'\n    }\n  }) : 0, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.headView : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleStateRef.current != 'setup' ? cradleContent.tailView : null)));\n}; // Cradle\n\n\nexports[\"default\"] = Cradle;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUxwSixFQU1JO0FBQUEsaUJBRWdCLE1BRmhCO0FBR0ksT0FBRyxFQUFJLG9CQUhYO0FBSUksU0FBSyxFQUFJO0FBSmIsS0FRTSxjQUFjLENBQUMsT0FBZixJQUEwQixPQUEzQixHQUFvQyxhQUFhLENBQUMsUUFBbEQsR0FBMkQsSUFSaEUsQ0FOSixFQWlCSTtBQUFBLGlCQUVnQixNQUZoQjtBQUdJLE9BQUcsRUFBSSxvQkFIWDtBQUlJLFNBQUssRUFBSTtBQUpiLEtBUU0sY0FBYyxDQUFDLE9BQWYsSUFBMEIsT0FBM0IsR0FBb0MsYUFBYSxDQUFDLFFBQWxELEdBQTJELElBUmhFLENBakJKLENBZEcsQ0FBUDtBQThDSCxDQXp4QkQsQyxDQXl4QkU7OztBQUdGLHFCQUFlLE1BQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS50c3g/MTgzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjcmFkbGUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUT0RPOlxuXG4gICAgLSBjb25zaWRlciBlbGltaW5hdGluZyBjZWxsaW50ZXJzZWN0b2JzZXJ2ZXIgaW4gZmF2b3VyIG9mIGhlYWQgYW5kIHRhaWwgaW50ZXJzZWN0IG9iZXJ2ZXJcblxuICAgIC0gc2Nyb2xsIHJlc2V0IHByb2JsZW0gcmVjdXJzIHdpdGggcmVwZWF0ZWQgYWJvdmUgYW5kIGJlbG93IHJhcGlkIHJlc2V0c1xuICAgICAgICB0aGUgcHJvYmxlbSBjb21lcyB3aXRoIHVwZGF0ZSBjb250ZW50IGZyb20gZW5kb2ZzY3JvbGwsIGFmdGVyIGRvdWJsZSBub3JtYWxpemUgc2lnbmFsc1xuICAgICAgICB0aGUgZXh0cmEgcmVwYXJlbnRpbmcgaXMgaW5zZXJ0ZWQgZHVyaW5nIHRoZSB0aW1lb3V0IGZvciBub3JtYWxpemUgc2lnbmFsc1xuICAgIC0gdHJ5IGNsZWFydGltZW91dFxuXG5cbiAgICAtIGZpeCBzY3JvbGwgcmVzZXQgb24gcmVwYXJlbnRcbiAgICAtIHJldmlldyBuZWVkIGZvciBzZXRzY3JvbGxwb3NpdGlvblxuICAgIC0gQlVHOiBpbiBGRiBuZXN0ZWQgc2Nyb2xsZXIgc3dpdGNoIGZyb20gcGxhY2Vob2xkZXIgdG8gY29udGVudCByZXNldHMgc2Nyb2xsIHBvc2l0aW9uXG4gICAgLSB1bm1vdW50ZWQgd2FybmluZyB0byBkbyB3aXRoIEluUG9ydGFsXG5cbiAgICBPYnNlcnZlcnNNYW5hZ2VyXG4gICAgV2luZ3NBZ2VudFxuICAgIE1lc3NhZ2VBZ2VudCA/IC8vIG1lc3NhZ2Ugd2l0aCBob3N0IGVudmlyb25tZW50LCBzdWNoIGFzIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2tcblxuICAgIFNjcm9sbE1hbmFnZXJcbiAgICBTaWduYWxzTWFuYWdlclxuICAgIFN0YXRlTWFuYWdlclxuICAgIENvbnRlbnRNYW5hZ2VyXG4gICAgQ3JhZGxlTWFuYWdlclxuICAgIFNlcnZpY2VNYW5hZ2VyIC8vIHVzZXIgc2VydmljZXNcbiAgICBTdHlsZXNNYW5hZ2VyXG5cbiAgICBCVUdTOlxuICAgIC0gY2hlY2sgc3R5bGVzIGluIHNjcm9sbFRyYWNrZXIgYXJnc1xuICAgIC0gZG9yZXBvc2l0aW9uIGdldHMgc3R1Y2sgYXQgYSBwYXJ0aWN1bGFyIG51bWJlciBhZnRlciBnZXR0aW5nIGJlaGluZCBvbiBoZWF2eSBzY3JvbGxcbiAgICAgICAgY2hlY2sgcGF1c2VTY3JvbGxpbmdFZmZlY3RzXG4gICAgLSB2YXJpYWJsZSBjZWxscyBzaG93aW5nIHNpZ25zIG9mIGdldEl0ZW0oKSB3aXRoIHBvcnRhbFxuICAgIC0gQ2hyb21lIHNvbWV0aW1lcyBtaXNzZXMgbmVzdGVkIGNlbGwgcG9ydGFscyBob3Jpem9udGFsbHlcbiAgICAtIHJlZHVjZSBjb21wdXRpbmcgaW50ZW5zaXR5IHRvIGF2b2lkIGJhdHRlcnkgZHJhaW5hZ2VcbiovXG5cbi8qXG4gICAgRGVzY3JpcHRpb25cbiAgICAtLS0tLS0tLS0tLVxuICAgIFRoZSBHcmlkU3Ryb2xsZXIgcHJvdmlkZXMgdGhlIGlsbHVzaW9uIG9mIGluZmluaXRlIHNjcm9sbGluZyB0aHJvdWdoIHRoZSB1c2Ugb2YgYSBkYXRhICdjcmFkbGUnIGluc2lkZSBhIHZpZXdwb3J0LlxuICAgIFRoZSBpbGx1c2lvbiBpcyBtYWludGFpbmVkIGJ5IHN5bmNocm9uaXppbmcgY2hhbmdlcyBpbiBjcmFkbGUgY29udGVudCB3aXRoIGNyYWRsZSBsb2NhdGlvbiBpbnNpZGUgYSBzY3JvbGxibG9jaywgc3VjaFxuICAgIHRoYXQgYXMgdGhlIHNjcm9sbGJsb2NrIGlzIG1vdmVkLCB0aGUgY3JhZGxlIG1vdmVzIG9wcG9zaXRlbHkgaW4gdGhlIHNjcm9sbGJsb2NrICh0byBzdGF5IHZpc2libGUgd2l0aGluIHRoZSB2aWV3cG9ydCkuIFxuICAgIFRoZSBzY3JvbGxibG9jayBpcyBzaXplZCB0byBhcHByb3hpbWF0ZSB0aGUgbGlzdCBiZWluZyB2aWV3ZWQsIHNvIGFzIHRvIGhhdmUgYSBzY3JvbGwgdGh1bWIgc2l6ZSBhbmQgcG9zaXRpb24gd2hpY2ggXG4gICAgcmVhbGlzdGljYWxseSByZWZsZWN0cyB0aGUgc2l6ZSBvZiB0aGUgbGlzdCBiZWluZyBzaG93bi5cblxuICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgY3JhZGxlIGlzIGNvbnRyb2xsZWQgYnkgYSAnc3BpbmUnIHdoaWNoIGlzIGEgMHB4IGhlaWdodC93aWR0aCAoYWxvbmcgdGhlIG1lZGlhbCAtIFNjcm9sbEJsb2NrIGNhbiBiZSBcbiAgICB2ZXJ0aWNzbCBvciBob3Jpem9udGFsKS4gVGhlIHB1cnBvc2Ugb2YgdGhlIHNwaW5lIGlzIHRvIGFjdCBhcyBhICdmb2xkJywgYWJvdmUgd2hpY2ggY2VsbCBjb250ZW50IGV4cGFuZHMgJ3Vwd2FyZHMnLCBhbmQgXG4gICAgYmVsb3cgd2hpY2ggdGhlIGNlbGwgY29udGVudCBleHBhbmRzICAnZG93bndhcmRzJy4gR3JpZFNjcm9sbGVyIGNhbiBiZSB2aWV3ZWQgdmVydGljYWxseSBvciBob3Jpem9udGFsbHkuIFdoZW4gaG9yaXpvbnRhbCwgXG4gICAgdGhlIHNwaW5lIGhhcyBhIDBweCB3aWR0aCwgc28gdGhhdCB0aGUgJ2ZvbGQnIGlzIHZlcnRpY2FsLCBhbmQgY2VsbHMgZXhwYW5kIHRvIHRoZSBsZWZ0IGFuZCByaWdodC5cblxuICAgIFRoZSBzcGluZSBpcyBjb250cm9sbGVkIHRvIGFsd2F5cyBiZSBpbiB0aGUgYXQgdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgbGVhZGluZyBjZWxscm93IG9mIHRoZSB2aWV3cG9ydC4gVGh1c1xuICAgIGluIHZlcnRpY2FsIG9yaWVudGF0aW9uLCB0aGUgc3BpbmUgJ3RvcCcgY3NzIGF0dHJpYnV0ZSBpcyBhbHdheXMgZXF1YWwgdG8gdGhlICdzY3JvbGxUb3AnIHBvc2l0aW9uIG9mIHRoZSBzY3JvbGxibG9jayxcbiAgICBwbHVzIGFuIGFkanVzdG1lbnQuIFRoZSBhZGp1c3RtZW50IGlzIHRoZSByZXN1bHQgb2YgdGhlIGFsaWdubWVudCBvZiB0aGUgc3BpbmUgaW4gcmVsYXRpb24gdG8gdGhlIHRvcC0ob3IgbGVmdC0pbW9zdCBjZWxsXG4gICAgaW4gdGhlIHZpZXdwb3J0ICh0aGUgJ3JlZmVyZW5jZScgcm93KS4gVGhlIHNwaW5lIGNhbiBvbmx5IGJlIHBsYWNlZCBhdCB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSBmaXJzdCB2aXNpYmxlXG4gICAgY2VsbCBpbiB0aGUgdmlld3BvcnQuIFRoZXJlZm9yZSB0aGUgc3BpbmUgb2Zmc2V0IGZyb20gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdmlld3BvcnQgY2FuIGJlIGFueXdoZXJlIGZyb20gbWludXMgdG9cbiAgICBwbHVzIHRoZSBsZW5ndGggb2YgdGhlIGxlYWRpbmcgcm93LiBUaGUgZXhhY3QgYW1vdW50IGRlcGVuZHMgb24gd2hlcmUgdGhlICdicmVha3BvaW50JyBvZiB0cmFuc2l0aW9uIG5vdGlmaWNhdGlvbiBpcyBzZXQgZm9yXG4gICAgY2VsbHMgY3Jvc3NpbmcgdGhlIHZpZXdwb3J0IHRocmVzaG9sZCAoYW5kIGNhbiBiZSBjb25maWd1cmVkKS4gVGhlIGRlZmF1bHQgb2YgdGhlIGJyZWFrcG9pbnQgaXMgLjUgKGhhbGYgdGhlIGxlbmd0aCBvZiB0aGUgY2VsbCkuXG5cbiAgICBUZWNobmljYWxseSwgdGhlcmUgYXJlIHNldmVyYWwgcmVmZXJlbmNlIHBvaW50cyB0cmFja2VkIGJ5IHRoZSBHcmlkU2Nyb2xsZXIuIFRoZXNlIGFyZTpcbiAgICAgICAgLSBzcGluZVJlZmVyZW5jZUluZGV4ICh0aGUgdmlydHVhbCBpbmRleCBvZiB0aGUgaXRlbSBjb250cm9sbGluZyB0aGUgbG9jYXRpb24gb2YgdGhlIHNwaW5lKVxuICAgICAgICAgICAgVGhlIHNwaW5lUmVmZXJlbmNlSW5kZXggaXMgYWxzbyB1c2VkIHRvIGFsbG9jYXRlIGl0ZW1zIGFib3ZlIChsb3dlciBpbmRleCB2YWx1ZSkgYW5kIGJlbG93IChzYW1lIG9yIGhpZ2hlciBpbmRleCB2YWx1ZSlcbiAgICAgICAgICAgIHRoZSBmb2xkXG4gICAgICAgIC0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKHRoZSB2aXJ0dWFsIGluZGV4IG9mIHRoZSBpdGVtIGRlZmluaW5nIHRoZSBsZWFkaW5nIGJvdW5kIG9mIHRoZSBjcmFkbGUgY29udGVudClcbiAgICAgICAgLSBzcGluZVBvc09mZnNldCAocGl4ZWxzIC0gcGx1cyBvciBtaW51cyAtIHRoYXQgdGhlIHNwaW5lIGlzIHBsYWNlZCBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnQncyBsZWFkaW5nIGVkZ2UpIFxuICAgIFxuICAgIFRoZXNlIHJlZmVyZW5jZSBwb2ludHMgYXJlIGFwcGxpZWQgdG8gdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmVzOlxuICAgICAgICAtIHRoZSB2aWV3cG9ydFxuICAgICAgICAtIHRoZSBzY3JvbGxibG9ja1xuICAgICAgICAtIHRoZSBjcmFkbGUsIGNvbnNpc3Rpbmcgb2ZcbiAgICAgICAgICAgIC0gdGhlIHNwaW5lIChjb250YWlucyBjcmFkbGUgaGVhZCBhbmQgdGFpbClcbiAgICAgICAgICAgIC0gdGhlIGhlYWQgKGNvbnRhaW5zIGxlYWRpbmcgaXRlbXMpXG4gICAgICAgICAgICAtIHRoZSB0YWlsIChjb250YWlucyB0cmFpbGluZyBpdGVtcylcblxuICAgIFN0cnVjdHVyZSBkZXRhaWxzOlxuICAgICAgICB0aGUgY3JhZGxlIGNvbnRlbnQgY29uc2lzdHMgb2ZcbiAgICAgICAgLSB0aGUgbnVtYmVyIG9mIHJvd3MgdGhhdCBhcmUgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQgKGFjY29yZGluZyB0byB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzKVxuICAgICAgICAgICAgLSB0aGlzIHR5cGljYWxseSBpbmNsdWRlcyBvbmUgcGFydGlhbGx5IHZpc2libGUgcm93XG4gICAgICAgIC0gdGhlIG51bWJlciBvZiBydW53YXkgcm93cyBzcGVjaWZpZWQgaW4gdGhlIHBhcmFtZXRlcnMsIHRpbWVzIDIgKG9uZSBldCBmb3IgdGhlIGhlYWQ7IG9uZSBmb3IgdGhlIHRhaWwpXG4gICAgICAgIC0gdGhlIG51bWJlciBvZiBpdGVtcyBpcyB0aGUgbnVtYmVyIG9mIHJvd3MgdGltZXMgdGhlICdjcm9zc2NvdW50JyB0aGUgbGF0ZXJhbCBudW1iZXIgb2YgY2VsbHMuIFxuICAgICAgICAtIHRoZSBsYXN0IHJvdyBtaWdodCBjb25zaXN0IG9mIGZld2VyIGl0ZW1zIHRoYW4gY3Jvc3Njb3VudCwgdG8gbWF0Y2ggdGhlIG1heGltdW0gbGlzdHNpemVcbiAgICAgICAgLSB0aGUgY3JhZGxlUm93Y291bnQgKHZpc2libGUgZGVmYXVsdCByb3dzICsgcnVud2F5Y291bnQgKiAyKSBhbmQgdmlld3BvaW50Um93Y291bnQgKHZpc2JsZSByb3dzO3R5cGljYWxsIG9uZSBwYXJ0aWFsKVxuXG4gICAgSXRlbSBjb250YWluZXJzOlxuICAgICAgICBDbGllbnQgY2VsbCBjb250ZW50IGlzIGNvbnRhaW5lZCBpbiBDZWxsU2hlbGwncywgd2hpY2ggYXJlIGNvbmZpZ3VyZWQgYWNjb3JkaW5nIHRvIEdyaWRTY3JvbGxlcidzIGlucHV0IHBhcmFtZXRlcnMuXG4gICAgICAgIFRoZSBJdGVtQ2VsbCdzIGFyZSBpbiB0dXJuIGNvbnRhaW5lZCBpbiBDU1MgZ3JpZCBzdHJ1Y3R1cmVzLiBUaGVyZSBhcmUgdHdvIGdyaWQgc3RydWN0dXJlcyAtIG9uZSBpbiB0aGUgY3JhZGxlIGhlYWQsXG4gICAgICAgIGFuZCBvbmUgaW4gdGhlIGNyYWRsZSB0YWlsLiBFYWNoIGdyaWQgc3RydWN0dXJlIGlzIGFsbG93ZWQgdW5pZm9ybSBwYWRkaW5nIGFuZCBnYXBzIC0gaWRlbnRpY2FsIGJldHdlZW4gdGhlIHR3by5cblxuICAgIE92ZXJzY3JvbGwgaGFuZGxpbmc6XG4gICAgICAgIE93aW5nIHRvIHRoZSB3ZWlnaHQgb2YgdGhlIGNvZGUsIGFuZCBwb3RlbnRpYWwgcmFwaWRpdHkgb2Ygc2Nyb2xsaW5nLCB0aGVyZSBpcyBhbiBvdmVyc2Nyb2xsIHByb3RvY29sLiBcbiAgICAgICAgaWYgdGhlIG92ZXJzY3JvbGwgaXMgc3VjaCB0aGF0IHBhcnQgb2YgdGhlIGNyYWRsZSBpcyBzdGlsbCB3aXRoaW4gdGhlIHZpZXdwb3J0IGJvdW5kYXJpZXMsIHRoZW4gdGhlIG92ZXJzY3JvbGxcbiAgICAgICAgaXMgY2FsY3VsYXRlZCBhcyB0aGUgbnVtYmVyIG9mIGNlbGwgcm93cyB0aGF0IHdvdWxkIGZpdCAoY29tcGxldGVseSBvciBwYXJ0aWFsbHkpIGluIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBlZGdlIG9mIFxuICAgICAgICB0aGUgY3JhZGxlIHRoYXQgaXMgcmVjZWRpbmcgZnJvbSBhIHZpZXdwb3J0IGVkZ2UuIFxuXG4gICAgICAgIElmIHRoZSBvdmVyc2hvb3QgaXMgc3VjaCB0aGF0IHRoZSBjcmFkbGUgaGFzIGVudGlyZWx5IHBhc3NlZCBvdXQgb2YgdGhlIHZpZXdwb3J0LCB0aGUgR3JpZFNjcm9sbGVyIGdvZXMgaW50byAnUmVwb3NpdG9pbmluZydcbiAgICAgICAgbW9kZSwgbWVhbmluZyB0aGF0IGl0IHRyYWNrcyByZWxhdGl2ZSBsb2NhdGlvbiBvZiB0aGUgc3BpbmUgZWRnZSBvZiB0aGUgdmlld3BvcnQsIGFuZCByZXBhaW50cyB0aGUgY3JhZGxlIGFjY3JvZGluZyB0b1xuICAgICAgICB0aGlzIHBvc2l0aW9uIHdoZW4gdGhlIHNjcm9sbGluZyBzdG9wcy5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRDb250ZXh0IH0gZnJvbSAnLi92aWV3cG9ydCdcblxuaW1wb3J0IHsgUG9ydGFsTWFuYWdlciwgUG9ydGFsTGlzdCB9IGZyb20gJy4vcG9ydGFsbWFuYWdlcidcblxuY29uc3QgSVRFTV9PQlNFUlZFUl9USFJFU0hPTEQgPSAwXG5cbi8vIGltcG9ydCBhZ2VuY3kgY2xhc3NlcyAtIGxvY2kgb2YgZGF0YSBhbmQgcmVsYXRlZCBtZXRob2RzXG5pbXBvcnQgU2Nyb2xsTWFuYWdlciBmcm9tICcuL2NyYWRsZS9zY3JvbGxtYW5hZ2VyJ1xuaW1wb3J0IFN0YXRlTWFuYWdlciBmcm9tICcuL2NyYWRsZS9zdGF0ZW1hbmFnZXInXG5pbXBvcnQgQ29udGVudE1hbmFnZXIgZnJvbSAnLi9jcmFkbGUvY29udGVudG1hbmFnZXInXG5pbXBvcnQgQ3JhZGxlTWFuYWdlciBmcm9tICcuL2NyYWRsZS9jcmFkbGVtYW5hZ2VyJ1xuaW1wb3J0IEludGVycnVwdE1hbmFnZXIgZnJvbSAnLi9jcmFkbGUvaW50ZXJydXB0bWFuYWdlcidcbmltcG9ydCBTZXJ2aWNlTWFuYWdlciBmcm9tICcuL2NyYWRsZS9zZXJ2aWNlbWFuYWdlcidcbmltcG9ydCBTdHlsZXNNYW5hZ2VyIGZyb20gJy4vY3JhZGxlL3N0eWxlc21hbmFnZXInXG5cbi8vIHBvcHVwIHBvc2l0aW9uIHRyYWNrZWVyXG5pbXBvcnQgU2Nyb2xsVHJhY2tlciBmcm9tICcuL3Njcm9sbHRyYWNrZXInXG5cbmV4cG9ydCBjb25zdCBDcmFkbGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKSAvLyBmb3IgY2hpbGRyZW5cblxuY29uc3QgcG9ydGFscm9vdHN0eWxlID0ge2Rpc3BsYXk6J25vbmUnfSAvLyBzdGF0aWMgcGFybVxuXG5jb25zdCBOT1JNQUxJWkVfU0lHTkFMU19USU1FT1VUID0gMjUwXG5cbmNvbnN0IENyYWRsZSA9ICh7IFxuICAgICAgICBnYXAsIFxuICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgcnVud2F5Y291bnQsIFxuICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgIGRlZmF1bHRWaXNpYmxlSW5kZXgsIFxuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgICAgICBmdW5jdGlvbnMsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgc2Nyb2xsZXJOYW1lLFxuICAgICAgICBzY3JvbGxlcklELFxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IGNyYWRsZVByb3BzUmVmID0gdXNlUmVmKG51bGwpIC8vIGFjY2VzcyBieSBjbG9zdXJlc1xuXG4gICAgY3JhZGxlUHJvcHNSZWYuY3VycmVudCA9ICB7XG4gICAgICAgIGdhcCwgXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBydW53YXljb3VudCwgXG4gICAgICAgIGxpc3RzaXplLCBcbiAgICAgICAgZGVmYXVsdFZpc2libGVJbmRleCwgXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBwbGFjZWhvbGRlciwgXG4gICAgICAgIHNjcm9sbGVyTmFtZSxcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICB9XG5cbiAgICBjb25zdCBbY3JhZGxlU3RhdGUsIHNldENyYWRsZVN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG4gICAgY29uc3QgaXNSZXBhcmVudGluZ1JlZiA9IHVzZVJlZihmYWxzZSlcbiAgICBjb25zdCB2aWV3cG9ydERhdGEgPSB1c2VDb250ZXh0KFZpZXdwb3J0Q29udGV4dClcbiAgICBjb25zdCB2aWV3cG9ydERhdGFSZWYgPSB1c2VSZWYobnVsbClcbiAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudCA9IHZpZXdwb3J0RGF0YVxuXG4gICAgY29uc3Qgbm9ybWFsaXpldGltZXJSZWYgPSB1c2VSZWYobnVsbClcbiAgICAvLyBpZiAoKGNyYWRsZVN0YXRlID09ICdub3JtYWxpemVzaWduYWxzJykgJiYgdmlld3BvcnREYXRhLnBvcnRhbD8uaXNSZXBhcmVudGluZykge1xuICAgIGlmICh2aWV3cG9ydERhdGEucG9ydGFsPy5pc1JlcGFyZW50aW5nKSB7IC8vIHRpbnkgZWRnZSBjYXNlOyBhdm9pZCByZXNldHRpbmcgc2lnbmFsc1xuICAgICAgICBjbGVhclRpbWVvdXQobm9ybWFsaXpldGltZXJSZWYuY3VycmVudClcbiAgICB9XG5cbiAgICBjb25zdCBjcmFkbGVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcbiAgICBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID0gY3JhZGxlU3RhdGU7XG5cbiAgICBjb25zdCBjcmFkbGVEYXRhUmVmID0gdXNlUmVmKHtcbiAgICAgICAgcG9ydGFsTWFuYWdlcjpudWxsLFxuICAgICAgICBzY3JvbGxlcklELFxuICAgICAgICB2aWV3cG9ydERhdGFSZWYsXG4gICAgfSlcblxuICAgIC8vIGlmICh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PSAwKVxuICAgIC8vICAgICBjb25zb2xlLmxvZygnUlVOTklORyBDUkFETEUgaW5kZXgsIGNyYWRsZVN0YXRlJyx2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCwgY3JhZGxlU3RhdGUpXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGJ1bmRsZSBjcmFkbGVQcm9wcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gZnVuY3Rpb25zIGFuZCBzdHlsZXMgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG4gICAgICAgIGNvbnN0IHBvcnRhbG1hbmFnZXIgPSBjcmFkbGVEYXRhUmVmLmN1cnJlbnQucG9ydGFsTWFuYWdlciA9IG5ldyBQb3J0YWxNYW5hZ2VyKClcblxuICAgICAgICAvLyBjbGVhbnVwIHBvcnRhbCByZXBvc2l0b3J5OyBjbGVhciBpc01vdW50ZWRSZWZcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGNvbnN0IGNyYWRsZVByb3BzID0gY3JhZGxlUHJvcHNSZWYuY3VycmVudFxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIElOSVRJQUxJWkFUSU9OIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyB1dGlsaXRlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCByZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmID0gdXNlUmVmKGZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjaylcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb250ZXh0IGRhdGEgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGlmICh2aWV3cG9ydERhdGEuaW5kZXggPT0gMCkgY29uc29sZS5sb2coJ2NyYWRsZSBpbmRleCwgY3JhZGxlU3RhdGUsIHByb3BzJyxcbiAgICAvLyAgICAgdmlld3BvcnREYXRhLmluZGV4LGNyYWRsZVN0YXRlLCBjcmFkbGVQcm9wc1JlZi5jdXJyZW50KVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb25maWd1cmF0aW9uIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgeyB2aWV3cG9ydERpbWVuc2lvbnMgfSA9IHZpZXdwb3J0RGF0YVxuXG4gICAgbGV0IHsgaGVpZ2h0OnZpZXdwb3J0aGVpZ2h0LHdpZHRoOnZpZXdwb3J0d2lkdGggfSA9IHZpZXdwb3J0RGltZW5zaW9uc1xuICAgIFxuICAgIGNvbnN0IGNyb3NzY291bnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBsZXQgY3Jvc3Njb3VudFxuICAgICAgICBsZXQgc2l6ZSA9IChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpP3ZpZXdwb3J0aGVpZ2h0OnZpZXdwb3J0d2lkdGhcbiAgICAgICAgbGV0IGNyb3NzTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/Y2VsbEhlaWdodDpjZWxsV2lkdGhcblxuICAgICAgICBsZXQgbGVuZ3RoZm9yY2FsYyA9IHNpemUgLSAocGFkZGluZyAqIDIpICsgZ2FwIC8vIGxlbmd0aCBvZiB2aWV3cG9ydFxuICAgICAgICBsZXQgdGlsZWxlbmd0aGZvcmNhbGMgPSBjcm9zc0xlbmd0aCArIGdhcFxuICAgICAgICB0aWxlbGVuZ3RoZm9yY2FsYyA9IE1hdGgubWluKHRpbGVsZW5ndGhmb3JjYWxjLGxlbmd0aGZvcmNhbGMpIC8vIHJlc3VsdCBjYW5ub3QgYmUgbGVzcyB0aGFuIDFcbiAgICAgICAgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3IobGVuZ3RoZm9yY2FsYy8odGlsZWxlbmd0aGZvcmNhbGMpKVxuXG4gICAgICAgIHJldHVybiBjcm9zc2NvdW50XG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgZ2FwLCBcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICBdKVxuXG4gICAgY29uc3QgW2NyYWRsZVJvd2NvdW50LHZpZXdwb3J0Um93Y291bnRdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBsZXQgdmlld3BvcnRMZW5ndGgsIGNlbGxMZW5ndGhcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gdmlld3BvcnRoZWlnaHRcbiAgICAgICAgICAgIGNlbGxMZW5ndGggPSBjZWxsSGVpZ2h0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aWV3cG9ydExlbmd0aCA9IHZpZXdwb3J0d2lkdGhcbiAgICAgICAgICAgIGNlbGxMZW5ndGggPSBjZWxsV2lkdGhcbiAgICAgICAgfVxuXG4gICAgICAgIGNlbGxMZW5ndGggKz0gZ2FwXG5cbiAgICAgICAgbGV0IHZpZXdwb3J0cm93Y291bnQgPSBNYXRoLmNlaWwodmlld3BvcnRMZW5ndGgvY2VsbExlbmd0aClcbiAgICAgICAgbGV0IGNyYWRsZVJvd2NvdW50ID0gdmlld3BvcnRyb3djb3VudCArIChydW53YXljb3VudCAqIDIpXG4gICAgICAgIGxldCBpdGVtY291bnQgPSBjcmFkbGVSb3djb3VudCAqIGNyb3NzY291bnRcbiAgICAgICAgaWYgKGl0ZW1jb3VudCA+IGxpc3RzaXplKSB7XG4gICAgICAgICAgICBpdGVtY291bnQgPSBsaXN0c2l6ZVxuICAgICAgICAgICAgY3JhZGxlUm93Y291bnQgPSBNYXRoLmNlaWwoaXRlbWNvdW50L2Nyb3NzY291bnQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjcmFkbGVSb3djb3VudCwgdmlld3BvcnRyb3djb3VudF1cblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBnYXAsIFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgLy8gcGFkZGluZyxcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBydW53YXljb3VudCxcbiAgICAgICAgY3Jvc3Njb3VudCxcbiAgICBdKVxuXG5cbiAgICBjb25zdCBjcmFkbGVDb25maWdSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNyYWRsZUNvbmZpZ1JlZi5jdXJyZW50ID0ge1xuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRSb3djb3VudCxcbiAgICAgICAgY2VsbE9ic2VydmVyVGhyZXNob2xkOklURU1fT0JTRVJWRVJfVEhSRVNIT0xELFxuICAgICAgICBsaXN0Um93Y291bnQ6TWF0aC5jZWlsKGxpc3RzaXplL2Nyb3NzY291bnQpLFxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY3JhZGxlIG1hbmFnZW1lbnQgbm9kZXMgXS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBtYW5hZ2Vyc1JlZiA9IHVzZVJlZihudWxsKSAvLyBtYWtlIGF2YWlsYWJsZSB0byBpbmRpdmlkdWFsIG1hbmFnZXJzXG4gICAgY29uc3QgY29tbW9uUHJvcHMgPSB7bWFuYWdlcnNSZWYsdmlld3BvcnRkYXRhUmVmOnZpZXdwb3J0RGF0YVJlZixjcmFkbGVQcm9wc1JlZiwgY3JhZGxlQ29uZmlnUmVmLCBjcmFkbGVEYXRhUmVmfVxuICAgIGNvbnN0IHNlcnZpY2VDYWxsc1JlZiA9IHVzZVJlZih7cmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZn0pXG5cbiAgICAvLyBjcmFkbGUgYnV0dGVyZmx5IGh0bWwgY29tcG9uZW50c1xuICAgIGNvbnN0IGhlYWRDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgdGFpbENyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBzcGluZUNyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGNyYWRsZUVsZW1lbnRzUmVmID0gdXNlUmVmKFxuICAgICAgICB7XG4gICAgICAgICAgICBoZWFkOmhlYWRDcmFkbGVFbGVtZW50UmVmLCBcbiAgICAgICAgICAgIHRhaWw6dGFpbENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgc3BpbmU6c3BpbmVDcmFkbGVFbGVtZW50UmVmXG4gICAgICAgIH1cbiAgICApXG4gICAgY29uc3Qgc2V0SXRlbUVsZW1lbnREYXRhID0gdXNlQ2FsbGJhY2soKGl0ZW1FbGVtZW50RGF0YSwgcmVwb3J0VHlwZSkgPT4geyAvLyBjYW5kaWRhdGUgdG8gZXhwb3J0XG5cbiAgICAgICAgY29uc3QgW2luZGV4LCBzaGVsbHJlZl0gPSBpdGVtRWxlbWVudERhdGFcblxuICAgICAgICBpZiAocmVwb3J0VHlwZSA9PSAncmVnaXN0ZXInKSB7XG5cbiAgICAgICAgICAgIGNvbnRlbnRNYW5hZ2VyLml0ZW1FbGVtZW50cy5zZXQoaW5kZXgsc2hlbGxyZWYpXG5cbiAgICAgICAgfSBlbHNlIGlmIChyZXBvcnRUeXBlID09ICd1bnJlZ2lzdGVyJykge1xuXG4gICAgICAgICAgICBjb250ZW50TWFuYWdlci5pdGVtRWxlbWVudHMuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICBjb25zdCBjb250ZW50Q2FsbGJhY2tzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgc2V0RWxlbWVudERhdGE6c2V0SXRlbUVsZW1lbnREYXRhXG4gICAgfSlcblxuICAgIGNvbnN0IFtcbiAgICAgICAgc2Nyb2xsTWFuYWdlcixcbiAgICAgICAgc3RhdGVNYW5hZ2VyLFxuICAgICAgICBjb250ZW50TWFuYWdlcixcbiAgICAgICAgY3JhZGxlTWFuYWdlcixcbiAgICAgICAgaW50ZXJydXB0TWFuYWdlcixcbiAgICAgICAgc2VydmljZU1hbmFnZXIsXG4gICAgICAgIHN0eWxlc01hbmFnZXIsXG4gICAgXSA9IHVzZU1lbW8oKCk9PntcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBTY3JvbGxNYW5hZ2VyKGNvbW1vblByb3BzKSxcbiAgICAgICAgICAgIG5ldyBTdGF0ZU1hbmFnZXIoY29tbW9uUHJvcHMsY3JhZGxlU3RhdGVSZWYsc2V0Q3JhZGxlU3RhdGUsaXNNb3VudGVkUmVmKSxcbiAgICAgICAgICAgIG5ldyBDb250ZW50TWFuYWdlcihjb21tb25Qcm9wcywgY29udGVudENhbGxiYWNrc1JlZiksXG4gICAgICAgICAgICBuZXcgQ3JhZGxlTWFuYWdlcihjb21tb25Qcm9wcywgY3JhZGxlRWxlbWVudHNSZWYuY3VycmVudCksXG4gICAgICAgICAgICBuZXcgSW50ZXJydXB0TWFuYWdlcihjb21tb25Qcm9wcyksXG4gICAgICAgICAgICBuZXcgU2VydmljZU1hbmFnZXIoY29tbW9uUHJvcHMsc2VydmljZUNhbGxzUmVmKSxcbiAgICAgICAgICAgIG5ldyBTdHlsZXNNYW5hZ2VyKGNvbW1vblByb3BzKSxcbiAgICAgICAgXVxuICAgIH0sW10pXG5cbiAgICAvLyB0byBpbnN0YW50aWF0ZSBtYW5hZ2Vyc1JlZlxuICAgIGNvbnN0IG1hbmFnZW1lbnRzZXRSZWYgPSB1c2VSZWYoe1xuICAgICAgICBzY3JvbGw6c2Nyb2xsTWFuYWdlcixcbiAgICAgICAgLy8gc2lnbmFsczpzaWduYWxzTWFuYWdlciwgXG4gICAgICAgIHN0YXRlOnN0YXRlTWFuYWdlcixcbiAgICAgICAgY29udGVudDpjb250ZW50TWFuYWdlciwgXG4gICAgICAgIGNyYWRsZTpjcmFkbGVNYW5hZ2VyLCBcbiAgICAgICAgc2VydmljZTpzZXJ2aWNlTWFuYWdlcixcbiAgICAgICAgaW50ZXJydXB0czppbnRlcnJ1cHRNYW5hZ2VyLFxuICAgICAgICBzdHlsZXM6c3R5bGVzTWFuYWdlcixcbiAgICB9KVxuXG4gICAgbWFuYWdlcnNSZWYuY3VycmVudCA9IG1hbmFnZW1lbnRzZXRSZWYuY3VycmVudFxuXG4gICAgaWYgKCh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PSA2KSAvKnx8ICh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PT0gbnVsbCkqLykge1xuICAgICAgICBjb25zb2xlLmxvZygnUlVOTklORyBDUkFETEUgaW5kZXgnLFxuICAgICAgICAgICAgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaW5kZXgsICdcXG4nLFxuICAgICAgICAgICAgJz09PicsJ2NyYWRsZVN0YXRlOicsY3JhZGxlU3RhdGUsJ1xcbicsXG4gICAgICAgICAgICAnaXNSZXBvc2l0aW9uaW5nIHNpZ25hbDonLGludGVycnVwdE1hbmFnZXIuc3RhdGVzLmlzUmVwb3NpdGlvbmluZywnXFxuJyxcbiAgICAgICAgICAgICdpc1JlcGFyZW50aW5nIHNpZ25hbCwgc3RhdGU6Jyx2aWV3cG9ydERhdGFSZWYuY3VycmVudC5wb3J0YWw/LmlzUmVwYXJlbnRpbmcsXG4gICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQsJ1xcbicsXG4gICAgICAgICAgICAnaXNSZXNpemluZyBzaWduYWw6Jyx2aWV3cG9ydERhdGEuaXNSZXNpemluZywnXFxuJyxcbiAgICAgICAgICAgICdpc0NyYWRsZUluVmlldzonLGludGVycnVwdE1hbmFnZXIuc3RhdGVzLmlzQ3JhZGxlSW5WaWV3KVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXphdGlvbiBlZmZlY3RzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy9pbml0aWFsaXplIGhvc3QgZnVuY3Rpb25zIHByb3BlcnRpZXNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnc2Nyb2xsVG9JdGVtJykpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9ucy5zY3JvbGxUb0l0ZW0gPSBzZXJ2aWNlTWFuYWdlci5zY3JvbGxUb0l0ZW1cbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnZ2V0VmlzaWJsZUxpc3QnKSkge1xuICAgICAgICAgICAgZnVuY3Rpb25zLmdldFZpc2libGVMaXN0ID0gc2VydmljZU1hbmFnZXIuZ2V0VmlzaWJsZUxpc3RcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgnZ2V0Q29udGVudExpc3QnKSkge1xuICAgICAgICAgICAgZnVuY3Rpb25zLmdldENvbnRlbnRMaXN0ID0gc2VydmljZU1hbmFnZXIuZ2V0Q29udGVudExpc3RcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoZnVuY3Rpb25zPy5oYXNPd25Qcm9wZXJ0eSgncmVsb2FkJykpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9ucy5yZWxvYWQgPSBzZXJ2aWNlTWFuYWdlci5yZWxvYWRcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudCA9IGZ1bmN0aW9ucz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFja1xuXG4gICAgfSxbZnVuY3Rpb25zXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCB2aWV3cG9ydGRhdGEgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudFxuICAgICAgICB2aWV3cG9ydGRhdGEuZWxlbWVudHJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2Nyb2xsTWFuYWdlci5vblNjcm9sbClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICB2aWV3cG9ydGRhdGEuZWxlbWVudHJlZi5jdXJyZW50ICYmIHZpZXdwb3J0ZGF0YS5lbGVtZW50cmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxNYW5hZ2VyLm9uU2Nyb2xsKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZWNvbmZpZ3VyYXRpb24gZWZmZWN0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyB0cmlnZ2VyIHJlc2l6aW5nIGJhc2VkIG9uIHZpZXdwb3J0IHN0YXRlXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0RGF0YS5pc1Jlc2l6aW5nKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbHMgPSBpbnRlcnJ1cHRNYW5hZ2VyLnNpZ25hbHNcbiAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDZWxsT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IGludGVycnVwdE1hbmFnZXIuc3RhdGVzXG4gICAgICAgICAgICBzdGF0ZXMuaXNSZXNpemluZyA9IHRydWVcbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbXBsZXRlIHJlc2l6aW5nIG1vZGVcbiAgICAgICAgaWYgKCF2aWV3cG9ydERhdGEuaXNSZXNpemluZyAmJiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAncmVzaXppbmcnKSkge1xuXG4gICAgICAgICAgICBpbnRlcnJ1cHRNYW5hZ2VyLnN0YXRlcy5pc1Jlc2l6aW5nID0gZmFsc2VcbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXNpemVkJylcblxuICAgICAgICB9XG5cbiAgICB9LFt2aWV3cG9ydERhdGEuaXNSZXNpemluZ10pXG5cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIXZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LnBvcnRhbCkgcmV0dXJuXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LnBvcnRhbC5pc1JlcGFyZW50aW5nKSB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LnBvcnRhbC5pc1JlcGFyZW50aW5nID0gZmFsc2VcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgICAgICBpZiAoKGlzUmVwYXJlbnRpbmdSZWYuY3VycmVudCkgJiYgKGNyYWRsZVN0YXRlICE9ICdub3JtYWxpemVzaWduYWxzJykpIHtcblxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaXNSZXBhcmVudGluZ1JlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgaWYgKCh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PSA2KSAvKnx8ICh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PT0gbnVsbCkqLykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2V0dGluZyByZXN0b3Jlc2Nyb2xscG9zaXRpb24gZm9yIGluZGV4Jyx2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVzdG9yZXNjcm9sbHBvc2l0aW9uJylcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaW5kZXggPT0gNikgLyp8fCAodmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaW5kZXggPT09IG51bGwpKi8pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXR0aW5nIHJlcGFyZW50aW5nIHNpZ25hbHMgZm9yIGluZGV4LCBzdGF0ZScsIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LmluZGV4LCBjcmFkbGVTdGF0ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSBpbnRlcnJ1cHRNYW5hZ2VyLnNpZ25hbHNcbiAgICAgICAgc2lnbmFscy5wYXVzZUNlbGxPYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG4gICAgICAgIC8vIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcblxuICAgICAgICAvLyBzZXRDcmFkbGVTdGF0ZSgncmVzdG9yZXNjcm9sbHBvc2l0aW9uJylcblxuICAgIH0sW2NyYWRsZVN0YXRlLHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LnBvcnRhbD8uaXNSZXBhcmVudGluZ10pXG5cbiAgICAvLyByZWxvYWQgZm9yIGNoYW5nZWQgcGFyYW1ldGVyc1xuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIGxldCBzaWduYWxzID0gaW50ZXJydXB0TWFuYWdlci5zaWduYWxzXG5cbiAgICAgICAgc2lnbmFscy5wYXVzZUNlbGxPYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG5cbiAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9LFtcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgIF0pXG5cbiAgICAvLyB0cmlnZ2VyIHBpdm90IG9uIGNoYW5nZSBpbiBvcmllbnRhdGlvblxuICAgIHVzZUVmZmVjdCgoKT0+IHtcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICAvLyBnZXQgcHJldmlvdXMgcmF0aW9cbiAgICAgICAgbGV0IHByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgY3JhZGxlUHJvcHNSZWYuY3VycmVudC5jZWxsV2lkdGg6Y3JhZGxlUHJvcHNSZWYuY3VycmVudC5jZWxsSGVpZ2h0XG4gICAgICAgIC8vIGxldCBwcmV2aW91c1NwaW5lT2Zmc2V0ID0gY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLnRoZU5leHRTcGluZVBpeGVsT2Zmc2V0XG4gICAgICAgIGxldCBwcmV2aW91c1NwaW5lT2Zmc2V0ID0gY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXRcblxuICAgICAgICBsZXQgcHJldmlvdXNyYXRpbyA9IHByZXZpb3VzU3BpbmVPZmZzZXQvcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGhcblxuICAgICAgICBsZXQgY3VycmVudENlbGxQaXhlbExlbmd0aCA9IChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIGNyYWRsZVByb3BzUmVmLmN1cnJlbnQuY2VsbEhlaWdodDpjcmFkbGVQcm9wc1JlZi5jdXJyZW50LmNlbGxXaWR0aFxuXG4gICAgICAgIGxldCBjdXJyZW50U3BpbmVPZmZzZXQgPSBwcmV2aW91c3JhdGlvICogY3VycmVudENlbGxQaXhlbExlbmd0aFxuICAgICAgICBcbiAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXQgPSBNYXRoLnJvdW5kKGN1cnJlbnRTcGluZU9mZnNldClcblxuICAgICAgICBsZXQgc2lnbmFscyA9IGludGVycnVwdE1hbmFnZXIuc2lnbmFsc1xuXG4gICAgICAgIHNpZ25hbHMucGF1c2VDZWxsT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIC8vIHBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJSZWYuY3VycmVudCA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG5cbiAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Bpdm90JylcblxuICAgICAgICAvLyBsZXQgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRBZ2VudFJlZi5jdXJyZW50LmNvbnRlbnRcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWwgPSBbXVxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IFtdXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZFZpZXcgPSBbXVxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxWaWV3ID0gW11cblxuICAgIH0sW29yaWVudGF0aW9uXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgT1BFUkFUSU9OIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHN0eWxlIGRhdGEgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIHN0eWxlcyBmb3Igd2luZ3MgYW5kIHNwaW5lXG4gICAgY29uc3QgW2NyYWRsZUhlYWRTdHlsZSwgY3JhZGxlVGFpbFN0eWxlLCBjcmFkbGVTcGluZVN0eWxlXSA9IHVzZU1lbW8oKCk9PiB7XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlc01hbmFnZXIuc2V0Q3JhZGxlU3R5bGVzKHtcblxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICAgICAgZ2FwLFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHVzZXJzdHlsZXM6c3R5bGVzLFxuXG4gICAgICAgIH0pXG5cbiAgICB9LFtcblxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBzdHlsZXMsXG5cbiAgICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBPYnNlcnZlciBzdXBwb3J0XS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qXG4gICAgICAgIFRoZXJlIGFyZSB0d28gaW50ZXJlY3Rpb24gb2JzZXJ2ZXJzLCBvbmUgZm9yIHRoZSBjcmFkbGUsIGFuZCBhbm90aGVyIGZvciBpdGVtU2hlbGxzOyBcbiAgICAgICAgICAgIGJvdGggYWdhaW5zdCB0aGUgdmlld3BvcnQuXG4gICAgICAgIFRoZXJlIGlzIGFsc28gYSByZXNpemUgb2JzZXJ2ZXIgZm9yIHRoZSBjcmFkbGUgd2luZ3MsIHRvIHJlc3BvbmQgdG8gc2l6ZSBjaGFuZ2VzIG9mIFxuICAgICAgICAgICAgdmFyaWFibGUgY2VsbHMuXG4gICAgKi8gICAgXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVzaXplIG9ic2VydmVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gc2V0IHVwIGNyYWRsZSByZXNpemVvYnNlcnZlclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gaW50ZXJydXB0TWFuYWdlci5jcmFkbGVSZXNpemUuY3JlYXRlKClcbiAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlTWFuYWdlci5lbGVtZW50c1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudClcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQpXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgZm9yIGNyYWRsZSBib2R5IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gdGhpcyBzZXRzIHVwIGFuIEludGVyc2VjdGlvbk9ic2VydmVyIG9mIHRoZSBjcmFkbGUgYWdhaW5zdCB0aGUgdmlld3BvcnQuIFdoZW4gdGhlXG4gICAgLy8gY3JhZGxlIGdvZXMgb3V0IG9mIHRoZSBvYnNlcnZlciBzY29wZSwgdGhlIFwicmVwb3NpdGlvbmluZ0FcIiBjcmFkbGUgc3RhdGUgaXMgdHJpZ2dlcmQuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBpbnRlcnJ1cHRNYW5hZ2VyLmNyYWRsZUludGVyc2VjdC5jcmVhdGUoKVxuICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZU1hbmFnZXIuZWxlbWVudHNcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnQpXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50KVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBpZiAoKGNyYWRsZVN0YXRlICE9ICdzdGFydHJlcG9zaXRpb24nKSAmJiAoY3JhZGxlU3RhdGUgIT0gJ2ZpbmlzaHJlcG9zaXRpb24nKSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBpbnRlcnJ1cHRNYW5hZ2VyLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlclxuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZSA9PSAnc3RhcnRyZXBvc2l0aW9uJykge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdmaW5pc2hyZXBvc2l0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBjcmFkbGVNYW5hZ2VyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudClcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50KVxuICAgICAgICB9XG5cbiAgICB9LFtjcmFkbGVTdGF0ZV0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgaXRlbSBzaGVsbCBvYnNlcnZlciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qXG4gICAgICAgIFRoZSBjcmFkbGUgY29udGVudCBpcyBkcml2ZW4gYnkgbm90aWZpY2F0aW9ucyBmcm9tIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlci5cbiAgICAgICAgLSBhcyB0aGUgdXNlciBzY3JvbGxzIHRoZSBjcmFkbGUsIHdoaWNoIGhhcyBhIHJ1bndheWNvdW50IGF0IGJvdGggdGhlIGxlYWRpbmdcbiAgICAgICAgICAgIGFuZCB0cmFpbGluZyBlZGdlcywgQ2VsbFNoZWxscyBzY3JvbGwgaW50byBvciBvdXQgb2YgdGhlIHNjb3BlIG9mIHRoZSBvYnNlcnZlciBcbiAgICAgICAgICAgIChkZWZpbmVkIGJ5IHRoZSB3aWR0aC9oZWlnaHQgb2YgdGhlIHZpZXdwb3J0ICsgdGhlIGxlbmd0aHMgb2YgdGhlIHJ1bndheXMpLiBUaGUgb2JzZXJ2ZXJcbiAgICAgICAgICAgIG5vdGlmaWVzIHRoZSBhcHAgKHRocm91Z2ggY2VsbG9ic2VydmVyY2FsbGJhY2soKSBiZWxvdykgYXQgdGhlIGNyb3NzaW5ncyBvZiB0aGUgaXRlbXNoZWxscyBcbiAgICAgICAgICAgIG9mIHRoZSBkZWZpbmVkIG9ic2VydmVyIGNyYWRsZSBib3VuZGFyaWVzLlxuXG4gICAgICAgICAgICBUaGUgbm8tbG9uZ2VyLWludGVyc2VjdGluZyBub3RpZmljYXRpb25zIHRyaWdnZXIgZHJvcHBpbmcgb2YgdGhhdCBudW1iZXIgb2YgYWZmZWN0ZWQgaXRlbXMgZnJvbSBcbiAgICAgICAgICAgIHRoZSBjcmFkbGUgY29udGVudGxpc3QuIFRoZSBkcm9wcGluZyBvZiBpdGVtcyBmcm9tIHRoZSB0cmFpbGluZyBlbmQgb2YgdGhlIGNvbnRlbnQgbGlzdFxuICAgICAgICAgICAgdHJpZ2dlcnMgdGhlIGFkZGl0aW9uIG9mIGFuIGVxdWFsIG51bWJlciBvZiBpdGVtcyBhdCB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSBjcmFkbGUgY29udGVudC5cblxuICAgICAgICAgICAgVGVjaG5pY2FsbHksIHRoZSBvcHBvc2l0ZSBlbmQgcG9zaXRpb24gc3BlYyBpcyBzZXQgKHRvcCBvciBsZWZ0IGRlcGVuZGluZyBvbiBvcmllbnRhdGlvbiksIFxuICAgICAgICAgICAgYW5kIHRoZSBtYXRjaGluZyBlbmQgcG9zaXRpb24gc3BlYyBpcyBzZXQgdG8gJ2F1dG8nIHdoZW4gaXRlbXMgYXJlIGFkZGVkLiBUaGlzIGNhdXNlcyBpdGVtcyB0byBiZSBcbiAgICAgICAgICAgIFwic3F1ZWV6ZWRcIiBpbnRvIHRoZSBsZWFkaW5nIG9yIHRyYWlsaW5nIGVuZHMgb2YgdGhlIHVpIGNvbnRlbnQgKG91dCBvZiB2aWV3KSBhcyBhcHByb3ByaWF0ZS5cblxuICAgICAgICAgICAgVGhlcmUgYXJlIGV4Y2VwdGlvbnMgZm9yIHNldHVwIGFuZCBlZGdlIGNhc2VzLlxuICAgICovXG5cbiAgICAvLyByZXNwb25kcyB0byBjaGFuZ2Ugb2Ygb3JpZW50YXRpb25cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGxldCBvYnNlcnZlciA9IGludGVycnVwdE1hbmFnZXIuY2VsbEludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICBpZiAob2JzZXJ2ZXIpIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgICBvYnNlcnZlciA9IGludGVycnVwdE1hbmFnZXIuY2VsbEludGVyc2VjdC5jcmVhdGUoKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW29yaWVudGF0aW9uXSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzdGF0ZSBtYW5hZ2VtZW50IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gZGF0YSBmb3Igc3RhdGUgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IGNhbGxpbmdDcmFkbGVTdGF0ZSA9IHVzZVJlZihjcmFkbGVTdGF0ZVJlZi5jdXJyZW50KVxuICAgIGNvbnN0IGhlYWRsYXlvdXREYXRhUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyB0aGlzIGlzIHRoZSBjb3JlIHN0YXRlIGVuZ2luZVxuICAgIC8vIHVzZUxheW91dCBmb3Igc3VwcHJlc3NpbmcgZmxhc2hlc1xuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGxldCB2aWV3cG9ydERhdGEgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudFxuICAgICAgICBsZXQgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRNYW5hZ2VyLmNvbnRlbnRcbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZWxvYWQnOlxuICAgICAgICAgICAgICAgIC8vIGNyYWRsZUNvbnRlbnQucG9ydGFsRGF0YS5jbGVhcigpXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3NldHJlbG9hZCcpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3RvcmVzY3JvbGxwb3NpdGlvbic6IHtcblxuICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydERhdGFSZWYuY3VycmVudC5pbmRleCA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXR0aW5nIHNjcm9sbCB0byAnLGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFtjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eV0gPVxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcylcbiAgICAgICAgICAgICAgICBpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdub3JtYWxpemVzaWduYWxzJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NldHNjcm9sbHBvc2l0aW9uJzoge1xuXG4gICAgICAgICAgICAgICAgdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFtjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eV0gPVxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcylcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdub3JtYWxpemVzaWduYWxzJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd1cGRhdGVjb250ZW50JzogeyAvLyBzY3JvbGxcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncHJlcGFyZXJlbmRlcic6IHtcblxuICAgICAgICAgICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY29udGVudE1hbmFnZXIuY29udGVudFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZFZpZXcgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbFZpZXcgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbFxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3NldHNjcm9sbHBvc2l0aW9uJylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydHJlcG9zaXRpb24nOiB7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0TWFuYWdlci5zdGF0ZXMuaXNSZXBvc2l0aW9uaW5nID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGludGVycnVwdE1hbmFnZXIuc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXBvc2l0aW9uaW5nQScpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNocmVwb3NpdGlvbic6IHtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcnJ1cHRNYW5hZ2VyLnN0YXRlcy5pc0NyYWRsZUluVmlldyA9IHRydWVcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRNYW5hZ2VyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3VwZGF0ZXJlZmVyZW5jZXMnKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd1cGRhdGVyZWZlcmVuY2VzJzp7XG4gICAgICAgICAgICAgICAgc2Nyb2xsTWFuYWdlci51cGRhdGVSZWZlcmVuY2VEYXRhKClcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZG9yZXBvc2l0aW9uJylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZG9yZXBvc2l0aW9uJzoge1xuICAgICAgICAgICAgICAgIGludGVycnVwdE1hbmFnZXIuc3RhdGVzLmlzUmVwb3NpdGlvbmluZyA9IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzogXG4gICAgICAgICAgICBjYXNlICdyZXNpemVkJzpcbiAgICAgICAgICAgIGNhc2UgJ3Bpdm90JzpcbiAgICAgICAgICAgIGNhc2UgJ3NldHJlbG9hZCc6XG5cbiAgICAgICAgICAgICAgICBjYWxsaW5nQ3JhZGxlU3RhdGUuY3VycmVudCA9IGNyYWRsZVN0YXRlXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ByZXBhcmVjb250ZW50JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXBhcmVjb250ZW50Jzoge1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWwgPSBbXVxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRWaWV3ID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxWaWV3ID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVEYXRhUmVmLmN1cnJlbnQucG9ydGFsTWFuYWdlci5yZXNldFNjcm9sbGVyUG9ydGFsUmVwb3NpdG9yeSgpXG4gICAgICAgICAgICAgICAgY29udGVudE1hbmFnZXIuc2V0Q3JhZGxlQ29udGVudChjYWxsaW5nQ3JhZGxlU3RhdGUuY3VycmVudClcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdwcmVwYXJlcmVuZGVyJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ25vcm1hbGl6ZXNpZ25hbHMnOiB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXpldGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCk9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgc2hvcnQtY2lyY3VpdHMgdG8gcmVzdGFydCBvciBjb250aW51ZSBpbnRlcnJ1cHQgcmVzcG9uc2VzXG4gICAgICAgICAgICAvKjEqLyAgIGlmICghdmlld3BvcnREYXRhLmlzUmVzaXppbmcpIHsgLy8gcmVzaXplIHNob3J0LWNpcmN1aXRcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgLyoyKi8gICAgICAgaWYgKGludGVycnVwdE1hbmFnZXIuc3RhdGVzLmlzQ3JhZGxlSW5WaWV3KSB7IC8vIHJlcG9zaXRpb25pbmcgc2hvcnQtY2lyY3VpdFxuXG4gICAgICAgICAgICAvKjMqLyAgICAgICAgICAgaWYgKCghdmlld3BvcnREYXRhUmVmLmN1cnJlbnQucG9ydGFsKSB8fCAoKCF2aWV3cG9ydERhdGFSZWYuY3VycmVudC5wb3J0YWwuaXNSZXBhcmVudGluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCFpc1JlcGFyZW50aW5nUmVmLmN1cnJlbnQpKSkgeyAvLyByZXBhcmVudCAocmVzdG9yZXNjcm9sbHBvcykgc2hvcnQtY2lyY3VpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWduYWxzID0gaW50ZXJydXB0TWFuYWdlci5zaWduYWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50KSB7IC8vIGFscmVhZHkgdW5tb3VudGVkIGlmIGZhaWxzICg/KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZUNlbGxPYnNlcnZlciAgJiYgKHNpZ25hbHMucGF1c2VDZWxsT2JzZXJ2ZXIgPSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzICYmIChzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyICYmIChzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciAmJiAoc2lnbmFscy5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyID0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1I6IHZpZXdwb3J0IGVsZW1lbnQgbm90IHNldCBpbiBub3JtYWxpemVzaWduYWxzJywgc2Nyb2xsZXJJRCwgdmlld3BvcnREYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKjMqLyAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXN0b3Jlc2Nyb2xscG9zaXRpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qMiovICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnc3RhcnRyZXBvc2l0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyoxKi8gICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Jlc2l6aW5nJylcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxOT1JNQUxJWkVfU0lHTkFMU19USU1FT1VUKVxuXG4gICAgICAgICAgICAgICAgYnJlYWsgXG5cbiAgICAgICAgICAgIH0gICAgICAgICAgXG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gc3RhbmRhcmQgcHJvY2Vzc2luZyBzdGFnZXNcbiAgICB1c2VFZmZlY3QoKCk9PiB7IC8vIFRPRE86IHZlcmlmeSBiZW5lZml0IG9mIHVzZUxheW91dEVmZmVjdFxuXG4gICAgICAgIGxldCB2aWV3cG9ydERhdGEgPSB2aWV3cG9ydERhdGFSZWYuY3VycmVudFxuICAgICAgICBzd2l0Y2ggKGNyYWRsZVN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmdCJzpcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ0EnKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmdBJzpcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlICdyZWFkeSc6XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICB9XG5cbiAgICB9LFtjcmFkbGVTdGF0ZV0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgUkVOREVSLi4uIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGNvbnN0IHNjcm9sbFRyYWNrZXJBcmdzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmICghKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3JlcG9zaXRpb25pbmdCJyB8fCBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdyZXBvc2l0aW9uaW5nQScpKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgdHJhY2tlcmFyZ3MgPSB7XG4gICAgICAgICAgICB0b3A6dmlld3BvcnREaW1lbnNpb25zLnRvcCArIDMsXG4gICAgICAgICAgICBsZWZ0OnZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgMyxcbiAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4T2Zmc2V0OmNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlLFxuICAgICAgICAgICAgbGlzdHNpemU6Y3JhZGxlUHJvcHNSZWYuY3VycmVudC5saXN0c2l6ZSxcbiAgICAgICAgICAgIHN0eWxlczpjcmFkbGVQcm9wc1JlZi5jdXJyZW50LnN0eWxlcyxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhY2tlcmFyZ3NcbiAgICB9LFtjcmFkbGVTdGF0ZVJlZi5jdXJyZW50LCB2aWV3cG9ydERpbWVuc2lvbnMsIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlLCBjcmFkbGVQcm9wc1JlZl0pXG5cbiAgICBsZXQgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRNYW5hZ2VyLmNvbnRlbnRcblxuICAgIHJldHVybiA8Q3JhZGxlQ29udGV4dC5Qcm92aWRlciB2YWx1ZSA9IHtjcmFkbGVEYXRhUmVmfT5cbiAgICAgICAgeyhjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICdzZXR1cCcpICYmIDxkaXYgZGF0YS10eXBlID0gJ3BvcnRhbHJvb3QnIHN0eWxlID0geyBwb3J0YWxyb290c3R5bGUgfT5cbiAgICAgICAgICAgIDxQb3J0YWxMaXN0IHNjcm9sbGVyRGF0YSA9IHtjcmFkbGVEYXRhUmVmLmN1cnJlbnQucG9ydGFsTWFuYWdlci5zY3JvbGxlckRhdGF9Lz5cbiAgICAgICAgPC9kaXY+fVxuXG4gICAgICAgIHsoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAncmVwb3NpdGlvbmluZ0InIHx8IGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3JlcG9zaXRpb25pbmdBJylcbiAgICAgICAgICAgID88U2Nyb2xsVHJhY2tlciBcbiAgICAgICAgICAgICAgICB0b3AgPSB7c2Nyb2xsVHJhY2tlckFyZ3MudG9wfSBcbiAgICAgICAgICAgICAgICBsZWZ0ID0ge3Njcm9sbFRyYWNrZXJBcmdzLmxlZnR9IFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHtzY3JvbGxUcmFja2VyQXJncy5yZWZlcmVuY2VJbmRleE9mZnNldH0gXG4gICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7c2Nyb2xsVHJhY2tlckFyZ3MubGlzdHNpemV9XG4gICAgICAgICAgICAgICAgc3R5bGVzID0ge3Njcm9sbFRyYWNrZXJBcmdzLnN0eWxlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA6XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLXNwaW5lJ1xuICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlU3BpbmVTdHlsZX0gXG4gICAgICAgICAgICByZWYgPSB7c3BpbmVDcmFkbGVFbGVtZW50UmVmfVxuICAgICAgICA+XG4gICAgICAgICAgICB7dHJ1ZT88ZGl2IGRhdGEtdHlwZSA9ICdjcmFkbGUtZGl2aWRlcicgc3R5bGUgPSB7e3pJbmRleDoxLCBwb3NpdGlvbjonYWJzb2x1dGUnLHdpZHRoOicxMDAlJyxoZWlnaHQ6JzEwMCUnLGJveFNoYWRvdzonMCAwIDVweCAzcHggcmVkJ319PjwvZGl2PjpudWxsfVxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRhdGEtdHlwZSA9ICdoZWFkJ1xuICAgICAgICAgICAgICAgIHJlZiA9IHtoZWFkQ3JhZGxlRWxlbWVudFJlZn0gXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7Y3JhZGxlSGVhZFN0eWxlfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7KGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgIT0gJ3NldHVwJyk/Y3JhZGxlQ29udGVudC5oZWFkVmlldzpudWxsfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbCdcbiAgICAgICAgICAgICAgICByZWYgPSB7dGFpbENyYWRsZUVsZW1lbnRSZWZ9IFxuICAgICAgICAgICAgICAgIHN0eWxlID0ge2NyYWRsZVRhaWxTdHlsZX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgeyhjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICdzZXR1cCcpP2NyYWRsZUNvbnRlbnQudGFpbFZpZXc6bnVsbH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgICAgXG4gICAgPC9DcmFkbGVDb250ZXh0LlByb3ZpZGVyPlxuXG59IC8vIENyYWRsZVxuXG5cbmV4cG9ydCBkZWZhdWx0IENyYWRsZSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle.tsx\n");

/***/ }),

/***/ "./src/cradle/contentfunctions.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/contentfunctions.tsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // cradlefunctions.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deleteAndRerenderPortals = exports.allocateContentList = exports.getUICellShellList = exports.calcHeadAndTailChanges = exports.calcContentShifts = exports.isolateRelevantIntersections = exports.getContentListRequirements = void 0;\n/******************************************************************************************\n ------------------------------------[ SUPPORTING FUNCTIONS ]------------------------------\n*******************************************************************************************/\n\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\n\nvar cellshell_1 = __importDefault(__webpack_require__(/*! ../cellshell */ \"./src/cellshell.tsx\"));\n\nvar detect_browser_1 = __webpack_require__(/*! detect-browser */ \"./node_modules/detect-browser/es/index.js\");\n\nvar browser = (0, detect_browser_1.detect)();\n\nvar getContentListRequirements = function getContentListRequirements(_a) {\n  var _b;\n\n  var // called from setCradleContent only\n  cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      referenceoffset = _a.visibletargetindexoffset,\n      targetViewportOffset = _a.targetViewportOffset,\n      viewportElement = _a.viewportElement;\n  var orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      runwaycount = cradleProps.runwaycount,\n      gap = cradleProps.gap,\n      padding = cradleProps.padding,\n      listsize = cradleProps.listsize;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount,\n      viewportRowcount = cradleConfig.viewportRowcount; // reconcile spineReferenceIndex to crosscount context\n\n  var diff = referenceoffset % crosscount;\n  referenceoffset -= diff; // -------------[ calc basic inputs: cellLength, contentCount. ]----------\n\n  var cellLength, viewportlength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellHeight + gap;\n    viewportlength = viewportElement.offsetHeight;\n  } else {\n    cellLength = cellWidth + gap;\n    viewportlength = viewportElement.offsetWidth;\n  } // let viewportrows = Math.floor(viewportlength / cellLength)\n\n\n  var viewportrows = viewportRowcount;\n  var cradleAvailableContentCount = cradleRowcount * crosscount; // -----------------------[ calc leadingitemcount, referenceoffset ]-----------------------\n\n  var runwayitemcount = runwaycount * crosscount;\n  runwayitemcount = Math.min(runwayitemcount, referenceoffset); // for list head\n  // -----------------------[ calc cradleReferenceIndex ]------------------------\n  // leading edge\n\n  var cradleReferenceIndex = referenceoffset - runwayitemcount; // ------------[ adjust cradleReferenceIndex for underflow ]------------\n\n  diff = 0; // reset\n\n  var indexshift = 0; // adjustment if overshoot head\n\n  if (cradleReferenceIndex < 0) {\n    diff = cradleReferenceIndex;\n    indexshift = Math.floor(cradleReferenceIndex / crosscount) * crosscount;\n    cradleReferenceIndex += indexshift;\n  } // ------------[ adjust cradleReferenceIndex and contentCount for listsize overflow ]------------\n\n\n  var spinePosOffset = targetViewportOffset % cellLength; // if (spinePosOffset < 0) { // TODO: this shouldn't happen - reproduce from wide botton to narrow\n  //     spinePosOffset += (orientation == 'vertical'?cellHeight:cellWidth)\n  //     referenceoffset += crosscount\n  //     cradleReferenceIndex += crosscount\n  // }\n  // --------------------[ calc css positioning ]-----------------------\n\n  var targetrowoffset = Math.ceil(referenceoffset / crosscount);\n  var scrollblockOffset = targetrowoffset * cellLength + padding; // gap\n\n  var spineAdjustment;\n  var cradleActualContentCount = cradleAvailableContentCount;\n\n  if (targetrowoffset == 0) {\n    scrollblockOffset = 0;\n    spinePosOffset = 0; // padding\n\n    spineAdjustment = padding;\n  } else {\n    spineAdjustment = 0; //gap;\n\n    _b = adjustSpineOffsetForMaxRefIndex({\n      referenceoffset: referenceoffset,\n      spinePosOffset: spinePosOffset,\n      scrollblockOffset: scrollblockOffset,\n      targetrowoffset: targetrowoffset,\n      viewportlength: viewportlength,\n      listsize: listsize,\n      viewportrows: viewportrows,\n      crosscount: crosscount,\n      cellLength: cellLength,\n      padding: padding,\n      gap: gap,\n      cradleReferenceIndex: cradleReferenceIndex,\n      cradleAvailableContentCount: cradleAvailableContentCount\n    }), cradleReferenceIndex = _b[0], cradleActualContentCount = _b[1], referenceoffset = _b[2], scrollblockOffset = _b[3], spinePosOffset = _b[4];\n  }\n\n  return {\n    cradleReferenceIndex: cradleReferenceIndex,\n    referenceoffset: referenceoffset,\n    cradleActualContentCount: cradleActualContentCount,\n    scrollblockOffset: scrollblockOffset,\n    spinePosOffset: spinePosOffset,\n    spineAdjustment: spineAdjustment\n  }; // summarize requirements message\n};\n\nexports.getContentListRequirements = getContentListRequirements;\n\nvar adjustSpineOffsetForMaxRefIndex = function adjustSpineOffsetForMaxRefIndex(_a) {\n  var listsize = _a.listsize,\n      crosscount = _a.crosscount,\n      cradleAvailableContentCount = _a.cradleAvailableContentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      referenceoffset = _a.referenceoffset,\n      targetrowoffset = _a.targetrowoffset,\n      scrollblockOffset = _a.scrollblockOffset,\n      spinePosOffset = _a.spinePosOffset,\n      viewportlength = _a.viewportlength,\n      viewportrows = _a.viewportrows,\n      cellLength = _a.cellLength,\n      padding = _a.padding,\n      gap = _a.gap;\n  var activelistitemcount = cradleReferenceIndex + cradleAvailableContentCount;\n  var activelistrowcount = Math.ceil(activelistitemcount / crosscount);\n  var listRowcount = Math.ceil(listsize / crosscount);\n\n  if (activelistrowcount > listRowcount) {\n    var diffrows = activelistrowcount - listRowcount;\n    var diff = diffrows * crosscount;\n    cradleReferenceIndex -= diff;\n    activelistrowcount -= diffrows;\n  } // let testlistrowcount = Math.ceil((cradleReferenceIndex + contentCount + 1)/crosscount)\n\n\n  var cradleActualContentCount = cradleAvailableContentCount;\n\n  if (activelistrowcount == listRowcount) {\n    var diff = listsize % crosscount;\n\n    if (diff) {\n      cradleActualContentCount -= crosscount - diff;\n    }\n  }\n\n  var maxrefindexrowoffset = Math.ceil(listsize / crosscount) - viewportrows + 1; // console.log('targetrowoffset, maxrefindexrowoffset', targetrowoffset, maxrefindexrowoffset)\n\n  if (targetrowoffset > maxrefindexrowoffset) {\n    var diff = targetrowoffset - maxrefindexrowoffset;\n    targetrowoffset -= diff; // maxrefindexrowoffset\n\n    referenceoffset = targetrowoffset * crosscount;\n    scrollblockOffset = targetrowoffset * cellLength + padding;\n    spinePosOffset = viewportlength - (viewportrows - 1) * cellLength - gap;\n  }\n\n  return [cradleReferenceIndex, cradleActualContentCount, referenceoffset, scrollblockOffset, spinePosOffset];\n}; // filter out items that not proximate to the spine\n\n\nvar isolateRelevantIntersections = function isolateRelevantIntersections(_a) {\n  var intersections = _a.intersections,\n      cradleContent = _a.cradleContent,\n      cellObserverThreshold = _a.cellObserverThreshold,\n      scrollforward = _a.scrollforward;\n  var headcontent = cradleContent.headModel;\n  var tailcontent = cradleContent.tailModel;\n  var headindexes = [],\n      tailindexes = [],\n      headintersectionindexes = [],\n      headintersections = [],\n      tailintersectionindexes = [],\n      tailintersections = [],\n      intersecting = {},\n      filteredintersections = []; // collect lists of indexes...\n  // headindexes, tailindexes\n\n  for (var _i = 0, headcontent_1 = headcontent; _i < headcontent_1.length; _i++) {\n    var component = headcontent_1[_i];\n    headindexes.push(component.props.index);\n  }\n\n  for (var _b = 0, tailcontent_1 = tailcontent; _b < tailcontent_1.length; _b++) {\n    var component = tailcontent_1[_b];\n    tailindexes.push(component.props.index);\n  }\n\n  var duplicates = {};\n  var intersectionsptr = 0;\n\n  for (var _c = 0, intersections_1 = intersections; _c < intersections_1.length; _c++) {\n    var entry = intersections_1[_c];\n    var index = parseInt(entry.target.dataset.index);\n    var headptr_1 = void 0,\n        tailptr_1 = void 0;\n\n    if (tailindexes.includes(index)) {\n      tailintersectionindexes.push(index);\n      tailintersections.push(entry);\n      tailptr_1 = tailintersections.length - 1; // used for duplicate resolution\n    } else if (headindexes.includes(index)) {\n      headintersectionindexes.push(index);\n      headintersections.push(entry);\n      headptr_1 = headintersections.length - 1; // used for duplicate resolution\n    } else {\n      console.log('error: unknown intersection element, aborting isolateRelevantIntersections', entry);\n      return; // shouldn't happen; give up\n    }\n\n    var ratio = void 0;\n\n    if (browser && browser.name == 'safari') {\n      ratio = entry.intersectionRatio;\n    } else {\n      ratio = Math.round(entry.intersectionRatio * 1000) / 1000;\n    }\n\n    var calcintersecting = ratio >= cellObserverThreshold;\n    var iobj = {\n      index: index,\n      intersecting: calcintersecting,\n      isIntersecting: entry.isIntersecting,\n      ratio: ratio,\n      originalratio: entry.intersectionRatio,\n      time: entry.time,\n      headptr: headptr_1,\n      tailptr: tailptr_1,\n      intersectionsptr: intersectionsptr\n    };\n\n    if (!intersecting[index]) {\n      // new item\n      intersecting[index] = iobj;\n    } else {\n      // duplicate item\n      if (!Array.isArray(intersecting[index])) {\n        var arr = [intersecting[index]];\n        intersecting[index] = arr;\n      }\n\n      intersecting[index].push(iobj);\n\n      if (!duplicates[index]) {\n        duplicates[index] = [];\n        duplicates[index].push(intersecting[index][0]);\n      }\n\n      duplicates[index].push(iobj);\n    }\n\n    intersectionsptr++;\n  } // resolve duplicates. For uneven number, keep the most recent\n  // otherwise delete them, they cancel each other out.\n\n\n  var duplicateslength = Object.keys(duplicates).length;\n\n  if (duplicateslength > 0) {\n    // console.log('DUPLICATES found', duplicateslength, duplicates)\n    var headintersectionsdelete_1 = [],\n        tailintersectionsdelete_1 = [];\n\n    for (var duplicateindex in duplicates) {\n      var duplicate = duplicates[duplicateindex];\n\n      if (duplicate.length % 2) {\n        duplicate.sort(duplicatecompare);\n        var entry = duplicate.slice(duplicate.length - 1, 1);\n        intersecting[entry.index] = entry;\n      } else {\n        delete intersecting[duplicate[0].index]; // intersectingdelete.push(duplicate[0].index)\n      }\n\n      for (var _d = 0, duplicate_1 = duplicate; _d < duplicate_1.length; _d++) {\n        var entryobj = duplicate_1[_d];\n        var headptr_2 = entryobj.headptr;\n        var tailptr_2 = entryobj.tailptr;\n\n        if (headptr_2 !== undefined) {\n          headintersectionsdelete_1.push(headptr_2);\n        }\n\n        if (tailptr_2 !== undefined) {\n          tailintersectionsdelete_1.push(tailptr_2);\n        }\n      }\n    }\n\n    if (headintersectionsdelete_1.length) {\n      headintersectionindexes = headintersectionindexes.filter(function (value, index) {\n        return !headintersectionsdelete_1.includes(index);\n      });\n      headintersections = headintersections.filter(function (value, index) {\n        return !headintersectionsdelete_1.includes(index);\n      });\n    }\n\n    if (tailintersectionsdelete_1.length) {\n      tailintersectionindexes = tailintersectionindexes.filter(function (value, index) {\n        return !tailintersectionsdelete_1.includes(index);\n      });\n      tailintersections = tailintersections.filter(function (value, index) {\n        return !tailintersectionsdelete_1.includes(index);\n      });\n    }\n  }\n\n  headintersectionindexes.sort(indexcompare);\n  tailintersectionindexes.sort(indexcompare);\n  headintersections.sort(entrycompare);\n  tailintersections.sort(entrycompare); // set reference points in relation to the spine\n\n  var headindex = headindexes[headindexes.length - 1];\n  var tailindex = tailindexes[0];\n  var headptr = headintersectionindexes.indexOf(headindex);\n  var tailptr = tailintersectionindexes.indexOf(tailindex); // filter out items that register only because they have just been moved\n\n  if (headptr !== headintersectionindexes.length - 1) {\n    headptr = -1;\n  }\n\n  if (tailptr !== 0) {\n    tailptr = -1;\n  }\n\n  if (headptr > -1 && tailptr > -1) {\n    // edge case\n    if (scrollforward) {\n      headptr = -1;\n    } else {\n      tailptr = -1;\n    }\n  } // collect notifications to main thread (filtered intersections)\n  // for scrollbackward\n\n\n  var headrefindex, tailrefindex; // for return\n\n  if (!scrollforward && headptr >= 0) {\n    headrefindex = headintersectionindexes[headptr];\n    var refindex = headrefindex + 1;\n    var refintersecting = intersecting[refindex - 1].intersecting;\n\n    for (var ptr = headptr; ptr >= 0; ptr--) {\n      var index = headintersectionindexes[ptr]; // test for continuity and consistency\n\n      if (index + 1 == refindex && intersecting[index].intersecting == refintersecting) {\n        filteredintersections.push(headintersections[ptr]);\n      } else {\n        break;\n      }\n\n      refindex = index;\n      refintersecting = intersecting[refindex].intersecting;\n    }\n  } // for scrollforward\n\n\n  if (scrollforward && tailptr >= 0) {\n    tailrefindex = tailintersectionindexes[tailptr];\n    var refindex = tailrefindex - 1;\n    var refintersecting = intersecting[refindex + 1].intersecting;\n\n    for (var ptr = tailptr; ptr < tailintersectionindexes.length; ptr++) {\n      var index = tailintersectionindexes[ptr]; // test for continuity and consistency\n\n      if (index - 1 == refindex && intersecting[index].intersecting == refintersecting) {\n        filteredintersections.push(tailintersections[ptr]);\n      } else {\n        break;\n      }\n\n      refindex = index;\n      refintersecting = intersecting[index].intersecting;\n    }\n  }\n\n  filteredintersections.sort(entrycompare); // TODO this should be integrated into the code above\n\n  return filteredintersections;\n};\n\nexports.isolateRelevantIntersections = isolateRelevantIntersections;\n\nvar indexcompare = function indexcompare(a, b) {\n  var retval = a < b ? -1 : 1;\n  return retval;\n};\n\nvar entrycompare = function entrycompare(a, b) {\n  var retval = parseInt(a.target.dataset.index) < parseInt(b.target.dataset.index) ? -1 : 1;\n  return retval;\n};\n\nvar duplicatecompare = function duplicatecompare(a, b) {\n  var retval = a.time < b.time ? -1 : 1;\n};\n\nvar calcContentShifts = function calcContentShifts(_a) {\n  // ------------------------[ initialize ]--------------\n  var _b;\n\n  var // called only from updateCradleContent\n  cradleProps = _a.cradleProps,\n      cradleElements = _a.cradleElements,\n      cradleContent = _a.cradleContent,\n      cradleConfig = _a.cradleConfig,\n      viewportElement = _a.viewportElement,\n      itemElements = _a.itemElements,\n      intersections = _a.intersections,\n      scrollforward = _a.scrollforward,\n      viewportData = _a.viewportData;\n  var gap = cradleProps.gap,\n      orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      listsize = cradleProps.listsize,\n      padding = cradleProps.padding,\n      runwaycount = cradleProps.runwaycount; // if (viewportData.index == 0) {\n  //     console.log('in calcContentShifts cradleContent',cradleContent)\n  // }\n\n  var spineElement = cradleElements.spineRef.current;\n  var headElement = cradleElements.headRef.current;\n  var tailElement = cradleElements.tailRef.current;\n  var cradlecontentlist = cradleContent.cradleModel;\n  var headcontentlist = cradleContent.headModel;\n  var tailcontentlist = cradleContent.tailModel;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount,\n      listRowcount = cradleConfig.listRowcount,\n      viewportRowcount = cradleConfig.viewportRowcount,\n      itemObserverThreshold = cradleConfig.itemObserverThreshold;\n  var BOD = false,\n      EOD = false; // beginning-of-data, end-of-data\n  // -------[ 1. calculate head overshoot row count, if any ]-------\n\n  var startingspineoffset, headblockoffset, tailblockoffset, viewportlength;\n  var viewportvisiblegaplength = 0;\n  var cellLength = orientation == 'vertical' ? cellHeight + gap : cellWidth + gap;\n\n  if (orientation == 'vertical') {\n    startingspineoffset = spineElement.offsetTop - viewportElement.scrollTop;\n    viewportlength = viewportElement.offsetHeight; // measure any gap between the cradle and the top viewport boundary\n\n    if (!scrollforward) {\n      // if startingspineoffset is below the top by more than the height of the headElment then a gap will be visible\n      viewportvisiblegaplength = startingspineoffset - headElement.offsetHeight;\n    }\n  } else {\n    // horizontal\n    startingspineoffset = spineElement.offsetLeft - viewportElement.scrollLeft;\n    viewportlength = viewportElement.offsetWidth;\n\n    if (!scrollforward) {\n      viewportvisiblegaplength = startingspineoffset - headElement.offsetWidth;\n    }\n  }\n\n  if (viewportvisiblegaplength < 0 || viewportvisiblegaplength > viewportlength) viewportvisiblegaplength = 0; // no visible gap, or doreposition should have kicked in\n  // viewportvisiblegaplength is always positive\n\n  var overshootrowcount = viewportvisiblegaplength == 0 ? 0 : Math.ceil(viewportvisiblegaplength / cellLength); // rows to fill viewport\n  // extra rows for runway\n\n  if (overshootrowcount) {\n    overshootrowcount += runwaycount;\n  }\n\n  var overshootitemcount = overshootrowcount * crosscount;\n\n  if (overshootitemcount) {\n    // (!scrollforward && overshootitemcount) { // negation of values for scroll backward\n    overshootitemcount = -overshootitemcount;\n    overshootrowcount = -overshootrowcount;\n  } // ----------------------[ 2. calculate itemshiftcount includng overshoot ]------------------------\n  // shift item count is the number of items the virtual cradle shifts, according to observer notices\n\n\n  var forwardcount = 0,\n      backwardcount = 0;\n\n  if (scrollforward) {\n    backwardcount = intersections.length;\n  } else {\n    forwardcount = intersections.length;\n  }\n\n  var cradleshiftcount = backwardcount - forwardcount + overshootitemcount;\n  var referenceshiftcount = cradleshiftcount;\n  var cradlerowshift = Math.ceil(cradleshiftcount / crosscount);\n  var referencerowshift = cradlerowshift; // --------------------------[ 3. calc cradleindex and referenceindex ]--------------------------\n\n  var previouscradleindex = cradlecontentlist[0].props.index || 0; // TODO: undefined should never happen! system error\n\n  var previouscradlerowoffset = previouscradleindex / crosscount;\n  var previousreferenceindex = ((_b = tailcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0; // TODO:Uncaught TypeError: Cannot read property 'props' of undefined\n\n  var previousreferencerowoffset = previousreferenceindex / crosscount;\n  var diff;\n\n  if (scrollforward) {\n    if (previouscradlerowoffset + cradleRowcount + cradlerowshift >= listRowcount) {\n      EOD = true;\n    }\n\n    diff = previouscradlerowoffset + cradleRowcount + cradlerowshift - listRowcount;\n\n    if (diff > 0) {\n      cradlerowshift -= diff;\n      cradleshiftcount -= diff * crosscount;\n    }\n  } else {\n    if (previouscradlerowoffset + cradlerowshift <= 0) {\n      BOD = true;\n    }\n\n    diff = previouscradlerowoffset + cradlerowshift;\n\n    if (diff < 0) {\n      cradlerowshift -= diff;\n      cradleshiftcount -= diff * crosscount;\n    }\n  }\n\n  var newcradleindex = previouscradleindex + cradleshiftcount;\n  var newreferenceindex = previousreferenceindex + referenceshiftcount;\n\n  if (newreferenceindex < 0) {\n    referenceshiftcount += newreferenceindex;\n    newreferenceindex = 0;\n  } // -------------[ 4. calculate spineAdjustment and spinePosOffset ]------------------\n\n\n  var referenceitemshiftcount = newreferenceindex - previousreferenceindex;\n  var cradleitemshiftcount = newcradleindex - previouscradleindex;\n  referencerowshift = referenceitemshiftcount / crosscount;\n  var referencepixelshift = referencerowshift * cellLength;\n  var spinePosOffset = startingspineoffset + referencepixelshift;\n  var spineOffsetTarget = spinePosOffset;\n  var spineAdjustment = 0;\n\n  if (Math.abs(spinePosOffset) > cellLength) {\n    spineOffsetTarget = spinePosOffset % cellLength;\n    spineAdjustment = -(Math.ceil((spinePosOffset - spineOffsetTarget) / cellLength) * crosscount);\n  }\n\n  if (spineOffsetTarget < 0) {\n    spineOffsetTarget += cellLength;\n    spineAdjustment += crosscount;\n  }\n\n  if (spineAdjustment && (BOD || EOD)) {\n    newreferenceindex += spineAdjustment;\n    referenceitemshiftcount += spineAdjustment;\n    spinePosOffset = spineOffsetTarget;\n  } else if (spineAdjustment) {\n    newcradleindex += spineAdjustment;\n    cradleitemshiftcount += spineAdjustment;\n    newreferenceindex += spineAdjustment;\n    referenceitemshiftcount += spineAdjustment;\n    spinePosOffset = spineOffsetTarget;\n  }\n\n  spinePosOffset = spineOffsetTarget; // ---------------------[ 5. return required values ]-------------------\n  // -------------------[ EXPERIMENTAL ADJUSTMENT ]------------------------\n  // to return cradleActualContentCount, TODO: but over-trims; not working\n  // let cradleReferenceIndex = newreferenceindex \n\n  var cradleAvailableContentCount = cradleRowcount * crosscount; // let activelistitemcount = newreferenceindex + cradleAvailableContentCount\n  // let activelistrowcount = Math.ceil(activelistitemcount/crosscount)\n  // // let listRowcount = Math.ceil(listsize/crosscount)\n  // if (activelistrowcount > listRowcount) {\n  //     let diffrows = activelistrowcount - listRowcount\n  //     let diff = diffrows * crosscount\n  //     // cradleReferenceIndex -= diff // TODO: why is newreferenceindex not updated?\n  //     activelistrowcount -= diffrows\n  // }\n  // let testlistrowcount = Math.ceil((cradleReferenceIndex + contentCount + 1)/crosscount)\n\n  var cradleActualContentCount = cradleAvailableContentCount; // if (activelistrowcount == listRowcount) {\n  //     let diff = listsize % crosscount\n  //     if (diff) {\n  //         cradleActualContentCount -= (crosscount - diff)\n  //     }\n  // }\n  // if (isNaN(newreferenceindex)) {\n  //     debugger\n  // }\n  // ----------------[ END OF EXPERIMENTAL ADJUSTMENT ]-----------------------\n\n  return [newcradleindex, cradleitemshiftcount, newreferenceindex, referenceitemshiftcount, spinePosOffset, cradleActualContentCount];\n};\n\nexports.calcContentShifts = calcContentShifts;\n\nvar calcHeadAndTailChanges = function calcHeadAndTailChanges(_a) {\n  var cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      cradleContent = _a.cradleContent,\n      cradleshiftcount = _a.cradleshiftcount,\n      scrollforward = _a.scrollforward,\n      cradleReferenceIndex = _a.cradleReferenceIndex;\n  var listsize = cradleProps.listsize;\n  var headcontent = cradleContent.headModel;\n  var tailcontent = cradleContent.tailModel;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount;\n  cradleshiftcount = Math.abs(cradleshiftcount);\n  var rowshiftcount = Math.ceil(cradleshiftcount / crosscount); //+ boundaryrowcount\n\n  var headrowcount, tailrowcount;\n  headrowcount = Math.ceil(headcontent.length / crosscount);\n  tailrowcount = Math.ceil(tailcontent.length / crosscount);\n  var pendingcontentoffset; // lookahead to new cradleReferenceIndex\n\n  var headchangecount, tailchangecount; // the output instructions for getUICellShellList\n  // anticipaate add to one end, clip from the other        \n\n  var additemcount = 0;\n  var cliprowcount = 0,\n      clipitemcount = 0;\n\n  if (scrollforward) {\n    // clip from head; add to tail; scroll forward head is direction of scroll\n    // adjust clipitemcount\n    if (headrowcount + rowshiftcount > cradleProps.runwaycount) {\n      var rowdiff = headrowcount + rowshiftcount - cradleProps.runwaycount;\n      cliprowcount = rowdiff;\n      clipitemcount = cliprowcount * crosscount;\n    }\n\n    additemcount = clipitemcount; // maintain constant cradle count\n\n    pendingcontentoffset = cradleReferenceIndex + clipitemcount; // after clip\n\n    var proposedtailindex = pendingcontentoffset + cradleRowcount * crosscount - 1; // modelcontentlist.length - 1\n    // adkjust changes for list boundaries\n\n    if (proposedtailindex > listsize - 1) {\n      var diffitemcount = proposedtailindex - (listsize - 1); // items outside range\n\n      additemcount -= diffitemcount; // adjust the addcontent accordingly\n\n      var diffrows = Math.floor(diffitemcount / crosscount); // number of full rows to leave in place\n\n      var diffrowitems = diffrows * crosscount; // derived number of items to leave in place\n\n      clipitemcount -= diffrowitems; // apply adjustment to netshift\n\n      if (additemcount <= 0) {\n        // nothing to do\n        additemcount = 0;\n      }\n\n      if (clipitemcount <= 0) {\n        clipitemcount = 0;\n      }\n    }\n\n    headchangecount = -clipitemcount;\n    tailchangecount = additemcount;\n  } else {\n    // scroll backward, in direction of tail; clip from tail, add to head\n    var intersectionindexes = []; // headcount will be less than minimum (runwaycount), so a shift can be accomplished[]\n\n    if (headrowcount - rowshiftcount < cradleProps.runwaycount) {\n      // calculate clip for tail\n      var rowshortfall = cradleProps.runwaycount - (headrowcount - rowshiftcount);\n      cliprowcount = rowshortfall;\n      var tailrowitemcount = tailcontent.length % crosscount;\n      if (tailrowitemcount == 0) tailrowitemcount = crosscount;\n      clipitemcount = tailrowitemcount;\n\n      if (tailrowcount > 1) {\n        if (cliprowcount > tailrowcount) {\n          cliprowcount = tailrowcount;\n        }\n\n        if (cliprowcount > 1) {\n          clipitemcount += (cliprowcount - 1) * crosscount;\n        }\n      } // compenstate with additemcount\n\n\n      additemcount = cliprowcount * crosscount;\n    }\n\n    var proposedindexoffset = cradleReferenceIndex - additemcount;\n\n    if (proposedindexoffset < 0) {\n      var diffitemcount = -proposedindexoffset;\n      var diffrows = Math.ceil(diffitemcount / crosscount); // number of full rows to leave in place\n\n      var diffrowitems = diffrows * crosscount;\n      additemcount -= diffitemcount;\n      clipitemcount -= diffrowitems;\n\n      if (additemcount <= 0) {\n        additemcount = 0;\n      }\n\n      if (clipitemcount <= 0) {\n        clipitemcount = 0;\n      }\n    }\n\n    headchangecount = additemcount;\n    tailchangecount = -clipitemcount;\n  }\n\n  return [headchangecount, tailchangecount];\n};\n\nexports.calcHeadAndTailChanges = calcHeadAndTailChanges; // update content\n// adds itemshells at end of contentlist according to headindexcount and tailindescount,\n// or if indexcount values are <0 removes them.\n\nvar getUICellShellList = function getUICellShellList(_a) {\n  var cradleProps = _a.cradleProps,\n      cradleConfig = _a.cradleConfig,\n      cradleActualContentCount = _a.cradleActualContentCount,\n      cradleReferenceIndex = _a.cradleReferenceIndex,\n      headchangecount = _a.headchangecount,\n      tailchangecount = _a.tailchangecount,\n      contentlist = _a.localContentList,\n      callbacks = _a.callbacks,\n      observer = _a.observer,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n  var crosscount = cradleConfig.crosscount,\n      cradleRowcount = cradleConfig.cradleRowcount;\n\n  var localContentlist = __spreadArray([], contentlist, true);\n\n  var tailindexoffset = cradleReferenceIndex + contentlist.length; // let headindexoffset = cradleReferenceIndex\n  // let returnContentlist\n\n  var headContentlist = [];\n  var topconstraint = cradleReferenceIndex - headchangecount,\n      bottomconstraint = cradleReferenceIndex - headchangecount + (cradleActualContentCount + 1); // TODO: validate \"+1\"\n\n  var deletedtailitems = [],\n      deletedheaditems = [];\n\n  if (headchangecount >= 0) {\n    for (var index = cradleReferenceIndex - headchangecount; index < cradleReferenceIndex; index++) {\n      if (!(index >= topconstraint && index <= bottomconstraint)) {\n        continue;\n      }\n\n      headContentlist.push(acquireItem({\n        index: index,\n        cradleProps: cradleProps,\n        observer: observer,\n        callbacks: callbacks,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -headchangecount);\n  }\n\n  var tailContentlist = [];\n\n  if (tailchangecount >= 0) {\n    for (var index = tailindexoffset; index < tailindexoffset + tailchangecount; index++) {\n      if (!(index >= topconstraint && index <= bottomconstraint)) {\n        continue;\n      }\n\n      tailContentlist.push(acquireItem({\n        index: index,\n        cradleProps: cradleProps,\n        observer: observer,\n        callbacks: callbacks,\n        instanceIdCounterRef: instanceIdCounterRef\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(tailchangecount, -tailchangecount);\n  }\n\n  var deleteditems = deletedheaditems.concat(deletedtailitems);\n  var componentList = headContentlist.concat(localContentlist, tailContentlist);\n  return [componentList, deleteditems];\n};\n\nexports.getUICellShellList = getUICellShellList; // butterfly model. Leading (head) all or partially hidden; tail, visible plus following hidden\n\nvar allocateContentList = function allocateContentList(_a) {\n  var _b;\n\n  var contentlist = _a.contentlist,\n      // of cradle, in items (React components)\n  spineReferenceIndex = _a.spineReferenceIndex;\n  var offsetindex = (_b = contentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index; // TODO: Cannot read property 'props' of undefined\n\n  var headitemcount;\n  headitemcount = spineReferenceIndex - offsetindex;\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\n\nexports.allocateContentList = allocateContentList;\n\nvar acquireItem = function acquireItem(_a) {\n  var index = _a.index,\n      cradleProps = _a.cradleProps,\n      observer = _a.observer,\n      callbacks = _a.callbacks,\n      instanceIdCounterRef = _a.instanceIdCounterRef;\n  var instanceID = instanceIdCounterRef.current++;\n  return emitItem({\n    index: index,\n    cradleProps: cradleProps,\n    observer: observer,\n    callbacks: callbacks,\n    instanceID: instanceID\n  });\n};\n\nvar emitItem = function emitItem(_a) {\n  var index = _a.index,\n      cradleProps = _a.cradleProps,\n      observer = _a.observer,\n      callbacks = _a.callbacks,\n      instanceID = _a.instanceID;\n  var orientation = cradleProps.orientation,\n      cellHeight = cradleProps.cellHeight,\n      cellWidth = cradleProps.cellWidth,\n      getItem = cradleProps.getItem,\n      placeholder = cradleProps.placeholder,\n      listsize = cradleProps.listsize,\n      scrollerName = cradleProps.scrollerName,\n      scrollerID = cradleProps.scrollerID;\n  return react_1[\"default\"].createElement(cellshell_1[\"default\"], {\n    key: index,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    index: index,\n    observer: observer,\n    callbacks: callbacks,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    instanceID: instanceID,\n    scrollerName: scrollerName,\n    scrollerID: scrollerID\n  });\n};\n\nvar deleteAndRerenderPortals = function deleteAndRerenderPortals(portalManager, deleteList) {\n  for (var _i = 0, deleteList_1 = deleteList; _i < deleteList_1.length; _i++) {\n    var item = deleteList_1[_i];\n    portalManager.deletePortal(item.props.index);\n  }\n\n  if (deleteList.length) portalManager.renderPortalList();\n};\n\nexports.deleteAndRerenderPortals = deleteAndRerenderPortals;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFNEY7O0FBRTVGOztBQUVBOztBQUVBOztBQUVBLElBQU0sT0FBTyxHQUFHLDhCQUFoQjs7QUFFTyxJQUFNLDBCQUEwQixHQUFHLFNBQTdCLDBCQUE2QixDQUFDLEVBQUQsRUFRckM7OztNQVJ3QztBQUVyQyxhQUFXLGlCO01BQ1gsWUFBWSxrQjtNQUNhLGVBQWUsOEI7TUFDeEMsb0JBQW9CLDBCO01BQ3BCLGVBQWUscUI7QUFJYixpQkFBVyxHQU1ELFdBQVcsQ0FOVixXQUFYO0FBQUEsTUFDRixVQUFVLEdBS0UsV0FBVyxDQUxiLFVBRFI7QUFBQSxNQUVGLFNBQVMsR0FJRyxXQUFXLENBSmQsU0FGUDtBQUFBLE1BR0YsV0FBVyxHQUdDLFdBQVcsQ0FIWixXQUhUO0FBQUEsTUFJRixHQUFHLEdBRVMsV0FBVyxDQUZwQixHQUpEO0FBQUEsTUFLRixPQUFPLEdBQ0ssV0FBVyxDQURoQixPQUxMO0FBQUEsTUFNRixRQUFRLEdBQUksV0FBVyxDQUFmLFFBTk47QUFRRCxnQkFBVSxHQUVTLFlBQVksQ0FGckIsVUFBVjtBQUFBLE1BQ0QsY0FBYyxHQUNNLFlBQVksQ0FEbEIsY0FEYjtBQUFBLE1BRUQsZ0JBQWdCLEdBQUksWUFBWSxDQUFoQixnQkFGZixDQVZKLENBYUQ7O0FBQ0EsTUFBSSxJQUFJLEdBQUcsZUFBZSxHQUFHLFVBQTdCO0FBQ0EsaUJBQWUsSUFBSSxJQUFuQixDQWZDLENBaUJEOztBQUVBLE1BQUksVUFBSixFQUFlLGNBQWY7O0FBQ0EsTUFBSSxXQUFXLElBQUksVUFBbkIsRUFBK0I7QUFDM0IsY0FBVSxHQUFHLFVBQVUsR0FBRyxHQUExQjtBQUNBLGtCQUFjLEdBQUcsZUFBZSxDQUFDLFlBQWpDO0FBQ0gsR0FIRCxNQUdPO0FBQ0gsY0FBVSxHQUFHLFNBQVMsR0FBRyxHQUF6QjtBQUNBLGtCQUFj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QUFBLE1BT0YsVUFBVSxHQUFLLFdBQVcsQ0FBaEIsVUFQUjtBQVNOLFNBQU8saUNBQUMsc0JBQUQsRUFBVTtBQUNiLE9BQUcsRUFBSSxLQURNO0FBRWIsZUFBVyxFQUFJLFdBRkY7QUFHYixjQUFVLEVBQUssVUFIRjtBQUliLGFBQVMsRUFBSyxTQUpEO0FBS2IsU0FBSyxFQUFJLEtBTEk7QUFNYixZQUFRLEVBQUksUUFOQztBQU9iLGFBQVMsRUFBSSxTQVBBO0FBUWIsV0FBTyxFQUFJLE9BUkU7QUFTYixZQUFRLEVBQUksUUFUQztBQVViLGVBQVcsRUFBSyxXQVZIO0FBV2IsY0FBVSxFQUFJLFVBWEQ7QUFZYixnQkFBWSxFQUFLLFlBWko7QUFhYixjQUFVLEVBQUs7QUFiRixHQUFWLENBQVA7QUFnQkgsQ0FqQ0Q7O0FBbUNPLElBQU0sd0JBQXdCLEdBQUcsU0FBM0Isd0JBQTJCLENBQUMsYUFBRCxFQUFnQixVQUFoQixFQUEwQjtBQUU5RCxPQUFpQixxQ0FBakIsRUFBaUIsd0JBQWpCLEVBQWlCLElBQWpCLEVBQTZCO0FBQXhCLFFBQUksSUFBSSxtQkFBUjtBQUNELGlCQUFhLENBQUMsWUFBZCxDQUEyQixJQUFJLENBQUMsS0FBTCxDQUFXLEtBQXRDO0FBQ0g7O0FBQ0QsTUFBSSxVQUFVLENBQUMsTUFBZixFQUF1QixhQUFhLENBQUMsZ0JBQWQ7QUFDMUIsQ0FOTTs7QUFBTSxtQ0FBd0Isd0JBQXhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY29udGVudGZ1bmN0aW9ucy50c3g/ZDJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjcmFkbGVmdW5jdGlvbnMudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU1VQUE9SVElORyBGVU5DVElPTlMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlQ29udGV4dH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDZWxsU2hlbGwgZnJvbSAnLi4vY2VsbHNoZWxsJ1xuXG5pbXBvcnQgeyBkZXRlY3QgfSBmcm9tICdkZXRlY3QtYnJvd3NlcidcblxuY29uc3QgYnJvd3NlciA9IGRldGVjdCgpXG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyA9ICh7IC8vIGNhbGxlZCBmcm9tIHNldENyYWRsZUNvbnRlbnQgb25seVxuXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgIHZpc2libGV0YXJnZXRpbmRleG9mZnNldDpyZWZlcmVuY2VvZmZzZXQsXG4gICAgICAgIHRhcmdldFZpZXdwb3J0T2Zmc2V0LFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQsXG5cbiAgICB9KSA9PiB7XG5cbiAgICBsZXQgeyBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBydW53YXljb3VudCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBsaXN0c2l6ZX0gPSBjcmFkbGVQcm9wc1xuXG4gICAgbGV0IHtjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgdmlld3BvcnRSb3djb3VudH0gPSBjcmFkbGVDb25maWdcbiAgICAvLyByZWNvbmNpbGUgc3BpbmVSZWZlcmVuY2VJbmRleCB0byBjcm9zc2NvdW50IGNvbnRleHRcbiAgICBsZXQgZGlmZiA9IHJlZmVyZW5jZW9mZnNldCAlIGNyb3NzY291bnRcbiAgICByZWZlcmVuY2VvZmZzZXQgLT0gZGlmZlxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLVsgY2FsYyBiYXNpYyBpbnB1dHM6IGNlbGxMZW5ndGgsIGNvbnRlbnRDb3VudC4gXS0tLS0tLS0tLS1cblxuICAgIGxldCBjZWxsTGVuZ3RoLHZpZXdwb3J0bGVuZ3RoXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgdmlld3BvcnRsZW5ndGggPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxXaWR0aCArIGdhcFxuICAgICAgICB2aWV3cG9ydGxlbmd0aCA9IHZpZXdwb3J0RWxlbWVudC5vZmZzZXRXaWR0aFxuICAgIH1cbiAgICAvLyBsZXQgdmlld3BvcnRyb3dzID0gTWF0aC5mbG9vcih2aWV3cG9ydGxlbmd0aCAvIGNlbGxMZW5ndGgpXG5cbiAgICBsZXQgdmlld3BvcnRyb3dzID0gdmlld3BvcnRSb3djb3VudFxuXG4gICAgbGV0IGNyYWRsZUF2YWlsYWJsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudCBcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjIGxlYWRpbmdpdGVtY291bnQsIHJlZmVyZW5jZW9mZnNldCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGxldCBydW53YXlpdGVtY291bnQgPSBydW53YXljb3VudCAqIGNyb3NzY291bnRcbiAgICBydW53YXlpdGVtY291bnQgPSBNYXRoLm1pbihydW53YXlpdGVtY291bnQsIHJlZmVyZW5jZW9mZnNldCkgLy8gZm9yIGxpc3QgaGVhZFxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlUmVmZXJlbmNlSW5kZXggXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGxlYWRpbmcgZWRnZVxuICAgIGxldCBjcmFkbGVSZWZlcmVuY2VJbmRleCA9IHJlZmVyZW5jZW9mZnNldCAtIHJ1bndheWl0ZW1jb3VudFxuXG4gICAgLy8gLS0tLS0tLS0tLS0tWyBhZGp1c3QgY3JhZGxlUmVmZXJlbmNlSW5kZXggZm9yIHVuZGVyZmxvdyBdLS0tLS0tLS0tLS0tXG5cbiAgICBkaWZmID0gMCAvLyByZXNldFxuICAgIGxldCBpbmRleHNoaWZ0ID0gMCAvLyBhZGp1c3RtZW50IGlmIG92ZXJzaG9vdCBoZWFkXG4gICAgaWYgKGNyYWRsZVJlZmVyZW5jZUluZGV4IDwgMCkge1xuICAgICAgICBkaWZmID0gY3JhZGxlUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgaW5kZXhzaGlmdCA9IE1hdGguZmxvb3IoY3JhZGxlUmVmZXJlbmNlSW5kZXggLyBjcm9zc2NvdW50KSAqIGNyb3NzY291bnRcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXggKz0gaW5kZXhzaGlmdFxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLVsgYWRqdXN0IGNyYWRsZVJlZmVyZW5jZUluZGV4IGFuZCBjb250ZW50Q291bnQgZm9yIGxpc3RzaXplIG92ZXJmbG93IF0tLS0tLS0tLS0tLS1cblxuICAgIGxldCBzcGluZVBvc09mZnNldCA9IHRhcmdldFZpZXdwb3J0T2Zmc2V0ICUgY2VsbExlbmd0aFxuXG4gICAgLy8gaWYgKHNwaW5lUG9zT2Zmc2V0IDwgMCkgeyAvLyBUT0RPOiB0aGlzIHNob3VsZG4ndCBoYXBwZW4gLSByZXByb2R1Y2UgZnJvbSB3aWRlIGJvdHRvbiB0byBuYXJyb3dcbiAgICAvLyAgICAgc3BpbmVQb3NPZmZzZXQgKz0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/Y2VsbEhlaWdodDpjZWxsV2lkdGgpXG4gICAgLy8gICAgIHJlZmVyZW5jZW9mZnNldCArPSBjcm9zc2NvdW50XG4gICAgLy8gICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4ICs9IGNyb3NzY291bnRcbiAgICAvLyB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjc3MgcG9zaXRpb25pbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgdGFyZ2V0cm93b2Zmc2V0ID0gTWF0aC5jZWlsKHJlZmVyZW5jZW9mZnNldC9jcm9zc2NvdW50KVxuICAgIGxldCBzY3JvbGxibG9ja09mZnNldCA9ICh0YXJnZXRyb3dvZmZzZXQgKiBjZWxsTGVuZ3RoKSArIHBhZGRpbmcgLy8gZ2FwXG4gICAgbGV0IHNwaW5lQWRqdXN0bWVudFxuICAgIGxldCBjcmFkbGVBY3R1YWxDb250ZW50Q291bnQgPSBjcmFkbGVBdmFpbGFibGVDb250ZW50Q291bnRcblxuICAgIGlmICh0YXJnZXRyb3dvZmZzZXQgPT0gMCkge1xuICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IDBcbiAgICAgICAgc3BpbmVQb3NPZmZzZXQgPSAwIC8vIHBhZGRpbmdcbiAgICAgICAgc3BpbmVBZGp1c3RtZW50ID0gcGFkZGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNwaW5lQWRqdXN0bWVudCA9IDA7IC8vZ2FwO1xuXG4gICAgICAgIFtjcmFkbGVSZWZlcmVuY2VJbmRleCwgY3JhZGxlQWN0dWFsQ29udGVudENvdW50LCByZWZlcmVuY2VvZmZzZXQsIHNjcm9sbGJsb2NrT2Zmc2V0LCBzcGluZVBvc09mZnNldF0gPSBcbiAgICAgICAgICAgIGFkanVzdFNwaW5lT2Zmc2V0Rm9yTWF4UmVmSW5kZXgoe1xuICAgICAgICAgICAgcmVmZXJlbmNlb2Zmc2V0LFxuICAgICAgICAgICAgc3BpbmVQb3NPZmZzZXQsXG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCwgICAgICAgICAgICBcbiAgICAgICAgICAgIHRhcmdldHJvd29mZnNldCxcbiAgICAgICAgICAgIHZpZXdwb3J0bGVuZ3RoLFxuICAgICAgICAgICAgbGlzdHNpemUsXG4gICAgICAgICAgICB2aWV3cG9ydHJvd3MsXG4gICAgICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICAgICAgY2VsbExlbmd0aCxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGNyYWRsZUF2YWlsYWJsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4ge2NyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tPZmZzZXQsIHNwaW5lUG9zT2Zmc2V0LCBzcGluZUFkanVzdG1lbnR9IC8vIHN1bW1hcml6ZSByZXF1aXJlbWVudHMgbWVzc2FnZVxuXG59XG5cbmNvbnN0IGFkanVzdFNwaW5lT2Zmc2V0Rm9yTWF4UmVmSW5kZXggPSAoe1xuXG4gICAgbGlzdHNpemUsXG4gICAgY3Jvc3Njb3VudCxcbiAgICBjcmFkbGVBdmFpbGFibGVDb250ZW50Q291bnQsXG5cbiAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICByZWZlcmVuY2VvZmZzZXQsXG4gICAgdGFyZ2V0cm93b2Zmc2V0LFxuXG4gICAgc2Nyb2xsYmxvY2tPZmZzZXQsXG4gICAgc3BpbmVQb3NPZmZzZXQsXG5cbiAgICB2aWV3cG9ydGxlbmd0aCxcbiAgICB2aWV3cG9ydHJvd3MsXG5cbiAgICBjZWxsTGVuZ3RoLFxuICAgIHBhZGRpbmcsXG4gICAgZ2FwLFxuXG59KSA9PiB7XG5cbiAgICBsZXQgYWN0aXZlbGlzdGl0ZW1jb3VudCA9IGNyYWRsZVJlZmVyZW5jZUluZGV4ICsgY3JhZGxlQXZhaWxhYmxlQ29udGVudENvdW50XG4gICAgbGV0IGFjdGl2ZWxpc3Ryb3djb3VudCA9IE1hdGguY2VpbChhY3RpdmVsaXN0aXRlbWNvdW50L2Nyb3NzY291bnQpXG4gICAgbGV0IGxpc3RSb3djb3VudCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KVxuXG4gICAgaWYgKGFjdGl2ZWxpc3Ryb3djb3VudCA+IGxpc3RSb3djb3VudCkge1xuICAgICAgICBsZXQgZGlmZnJvd3MgPSBhY3RpdmVsaXN0cm93Y291bnQgLSBsaXN0Um93Y291bnRcbiAgICAgICAgbGV0IGRpZmYgPSBkaWZmcm93cyAqIGNyb3NzY291bnRcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXggLT0gZGlmZlxuICAgICAgICBhY3RpdmVsaXN0cm93Y291bnQgLT0gZGlmZnJvd3NcbiAgICB9XG5cbiAgICAvLyBsZXQgdGVzdGxpc3Ryb3djb3VudCA9IE1hdGguY2VpbCgoY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjb250ZW50Q291bnQgKyAxKS9jcm9zc2NvdW50KVxuICAgIGxldCBjcmFkbGVBY3R1YWxDb250ZW50Q291bnQgPSBjcmFkbGVBdmFpbGFibGVDb250ZW50Q291bnRcbiAgICBpZiAoYWN0aXZlbGlzdHJvd2NvdW50ID09IGxpc3RSb3djb3VudCkge1xuICAgICAgICBsZXQgZGlmZiA9IGxpc3RzaXplICUgY3Jvc3Njb3VudFxuICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgICAgY3JhZGxlQWN0dWFsQ29udGVudENvdW50IC09IChjcm9zc2NvdW50IC0gZGlmZilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBtYXhyZWZpbmRleHJvd29mZnNldCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KSAtIHZpZXdwb3J0cm93cyArIDFcbiAgICAvLyBjb25zb2xlLmxvZygndGFyZ2V0cm93b2Zmc2V0LCBtYXhyZWZpbmRleHJvd29mZnNldCcsIHRhcmdldHJvd29mZnNldCwgbWF4cmVmaW5kZXhyb3dvZmZzZXQpXG4gICAgaWYgKHRhcmdldHJvd29mZnNldCA+IG1heHJlZmluZGV4cm93b2Zmc2V0KSB7XG5cbiAgICAgICAgbGV0IGRpZmYgPSB0YXJnZXRyb3dvZmZzZXQgLSBtYXhyZWZpbmRleHJvd29mZnNldFxuICAgICAgICB0YXJnZXRyb3dvZmZzZXQgLT0gZGlmZiAvLyBtYXhyZWZpbmRleHJvd29mZnNldFxuXG4gICAgICAgIHJlZmVyZW5jZW9mZnNldCA9ICh0YXJnZXRyb3dvZmZzZXQgKiBjcm9zc2NvdW50KVxuXG4gICAgICAgIHNjcm9sbGJsb2NrT2Zmc2V0ID0gKHRhcmdldHJvd29mZnNldCAqIGNlbGxMZW5ndGgpICsgcGFkZGluZ1xuXG4gICAgICAgIHNwaW5lUG9zT2Zmc2V0ID0gdmlld3BvcnRsZW5ndGggLSAoKHZpZXdwb3J0cm93cyAtIDEpICogY2VsbExlbmd0aCkgLSBnYXBcblxuICAgIH1cblxuICAgIHJldHVybiBbY3JhZGxlUmVmZXJlbmNlSW5kZXgsIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCwgcmVmZXJlbmNlb2Zmc2V0LCBzY3JvbGxibG9ja09mZnNldCwgc3BpbmVQb3NPZmZzZXRdXG5cbn1cblxuLy8gZmlsdGVyIG91dCBpdGVtcyB0aGF0IG5vdCBwcm94aW1hdGUgdG8gdGhlIHNwaW5lXG5leHBvcnQgY29uc3QgaXNvbGF0ZVJlbGV2YW50SW50ZXJzZWN0aW9ucyA9ICh7XG4gICAgaW50ZXJzZWN0aW9ucyxcbiAgICBjcmFkbGVDb250ZW50LFxuICAgIGNlbGxPYnNlcnZlclRocmVzaG9sZCxcbiAgICBzY3JvbGxmb3J3YXJkLFxufSkgPT4ge1xuXG4gICAgbGV0IGhlYWRjb250ZW50ID0gY3JhZGxlQ29udGVudC5oZWFkTW9kZWxcbiAgICBsZXQgdGFpbGNvbnRlbnQgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbFxuXG4gICAgbGV0IGhlYWRpbmRleGVzID0gW10sIFxuICAgICAgICB0YWlsaW5kZXhlcyA9IFtdLFxuICAgICAgICBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcyA9IFtdLFxuICAgICAgICBoZWFkaW50ZXJzZWN0aW9ucyA9IFtdLFxuICAgICAgICB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlcyA9IFtdLFxuICAgICAgICB0YWlsaW50ZXJzZWN0aW9ucyA9IFtdLFxuICAgICAgICBpbnRlcnNlY3Rpbmc6YW55ID0ge30sXG4gICAgICAgIGZpbHRlcmVkaW50ZXJzZWN0aW9ucyA9IFtdXG5cbiAgICAvLyBjb2xsZWN0IGxpc3RzIG9mIGluZGV4ZXMuLi5cbiAgICAvLyBoZWFkaW5kZXhlcywgdGFpbGluZGV4ZXNcbiAgICBmb3IgKGxldCBjb21wb25lbnQgb2YgaGVhZGNvbnRlbnQpIHtcbiAgICAgICAgaGVhZGluZGV4ZXMucHVzaChjb21wb25lbnQucHJvcHMuaW5kZXgpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgY29tcG9uZW50IG9mIHRhaWxjb250ZW50KSB7XG4gICAgICAgIHRhaWxpbmRleGVzLnB1c2goY29tcG9uZW50LnByb3BzLmluZGV4KVxuICAgIH1cblxuICAgIGxldCBkdXBsaWNhdGVzOmFueSA9IHt9XG4gICAgbGV0IGludGVyc2VjdGlvbnNwdHIgPSAwXG4gICAgZm9yIChsZXQgZW50cnkgb2YgaW50ZXJzZWN0aW9ucykge1xuXG4gICAgICAgIGxldCBpbmRleCA9IHBhcnNlSW50KGVudHJ5LnRhcmdldC5kYXRhc2V0LmluZGV4KVxuICAgICAgICBsZXQgaGVhZHB0ciwgdGFpbHB0clxuICAgICAgICBpZiAodGFpbGluZGV4ZXMuaW5jbHVkZXMoaW5kZXgpKSB7XG5cbiAgICAgICAgICAgIHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzLnB1c2goaW5kZXgpXG4gICAgICAgICAgICB0YWlsaW50ZXJzZWN0aW9ucy5wdXNoKGVudHJ5KVxuICAgICAgICAgICAgdGFpbHB0ciA9IHRhaWxpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDEgLy8gdXNlZCBmb3IgZHVwbGljYXRlIHJlc29sdXRpb25cblxuICAgICAgICB9IGVsc2UgaWYgKGhlYWRpbmRleGVzLmluY2x1ZGVzKGluZGV4KSkge1xuXG4gICAgICAgICAgICBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcy5wdXNoKGluZGV4KVxuICAgICAgICAgICAgaGVhZGludGVyc2VjdGlvbnMucHVzaChlbnRyeSlcbiAgICAgICAgICAgIGhlYWRwdHIgPSBoZWFkaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxIC8vIHVzZWQgZm9yIGR1cGxpY2F0ZSByZXNvbHV0aW9uXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiB1bmtub3duIGludGVyc2VjdGlvbiBlbGVtZW50LCBhYm9ydGluZyBpc29sYXRlUmVsZXZhbnRJbnRlcnNlY3Rpb25zJyxlbnRyeSlcbiAgICAgICAgICAgIHJldHVybiAvLyBzaG91bGRuJ3QgaGFwcGVuOyBnaXZlIHVwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYXRpb1xuICAgICAgICBpZiAoYnJvd3NlciAmJiBicm93c2VyLm5hbWUgPT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgIHJhdGlvID0gZW50cnkuaW50ZXJzZWN0aW9uUmF0aW9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhdGlvID0gTWF0aC5yb3VuZChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyAqIDEwMDApLzEwMDBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjYWxjaW50ZXJzZWN0aW5nID0gKHJhdGlvID49IGNlbGxPYnNlcnZlclRocmVzaG9sZClcbiAgICAgICAgbGV0IGlvYmogPSB7XG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGludGVyc2VjdGluZzpjYWxjaW50ZXJzZWN0aW5nLCAgLy8gdG8gYWNjb21tb2RhdGUgYnJvd3NlciBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgaXNJbnRlcnNlY3Rpbmc6ZW50cnkuaXNJbnRlcnNlY3RpbmcsXG4gICAgICAgICAgICByYXRpbyxcbiAgICAgICAgICAgIG9yaWdpbmFscmF0aW86ZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8sXG4gICAgICAgICAgICB0aW1lOmVudHJ5LnRpbWUsXG4gICAgICAgICAgICBoZWFkcHRyLFxuICAgICAgICAgICAgdGFpbHB0cixcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNwdHIsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RpbmdbaW5kZXhdKSB7IC8vIG5ldyBpdGVtXG4gICAgICAgICAgICBpbnRlcnNlY3RpbmdbaW5kZXhdID0gaW9ialxuICAgICAgICB9IGVsc2UgeyAvLyBkdXBsaWNhdGUgaXRlbVxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGludGVyc2VjdGluZ1tpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IFtpbnRlcnNlY3RpbmdbaW5kZXhdXVxuICAgICAgICAgICAgICAgIGludGVyc2VjdGluZ1tpbmRleF0gPSBhcnJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyc2VjdGluZ1tpbmRleF0ucHVzaChpb2JqKVxuICAgICAgICAgICAgaWYgKCFkdXBsaWNhdGVzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZXNbaW5kZXhdID0gW11cbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVzW2luZGV4XS5wdXNoKGludGVyc2VjdGluZ1tpbmRleF1bMF0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkdXBsaWNhdGVzW2luZGV4XS5wdXNoKGlvYmopXG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJzZWN0aW9uc3B0cisrXG5cbiAgICB9XG4gICAgLy8gcmVzb2x2ZSBkdXBsaWNhdGVzLiBGb3IgdW5ldmVuIG51bWJlciwga2VlcCB0aGUgbW9zdCByZWNlbnRcbiAgICAvLyBvdGhlcndpc2UgZGVsZXRlIHRoZW0sIHRoZXkgY2FuY2VsIGVhY2ggb3RoZXIgb3V0LlxuXG4gICAgbGV0IGR1cGxpY2F0ZXNsZW5ndGggPSBPYmplY3Qua2V5cyhkdXBsaWNhdGVzKS5sZW5ndGhcbiAgICBpZiAoZHVwbGljYXRlc2xlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0RVUExJQ0FURVMgZm91bmQnLCBkdXBsaWNhdGVzbGVuZ3RoLCBkdXBsaWNhdGVzKVxuICAgICAgICBsZXQgaGVhZGludGVyc2VjdGlvbnNkZWxldGUgPSBbXSxcbiAgICAgICAgICAgIHRhaWxpbnRlcnNlY3Rpb25zZGVsZXRlID0gW11cblxuICAgICAgICBmb3IgKGxldCBkdXBsaWNhdGVpbmRleCBpbiBkdXBsaWNhdGVzKSB7XG5cbiAgICAgICAgICAgIGxldCBkdXBsaWNhdGUgPSBkdXBsaWNhdGVzW2R1cGxpY2F0ZWluZGV4XVxuXG4gICAgICAgICAgICBpZiAoZHVwbGljYXRlLmxlbmd0aCAlIDIpIHtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGUuc29ydChkdXBsaWNhdGVjb21wYXJlKVxuICAgICAgICAgICAgICAgIGxldCBlbnRyeSA9IGR1cGxpY2F0ZS5zbGljZShkdXBsaWNhdGUubGVuZ3RoIC0xLDEpXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW5nW2VudHJ5LmluZGV4XSA9IGVudHJ5XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBpbnRlcnNlY3RpbmdbZHVwbGljYXRlWzBdLmluZGV4XVxuICAgICAgICAgICAgICAgIC8vIGludGVyc2VjdGluZ2RlbGV0ZS5wdXNoKGR1cGxpY2F0ZVswXS5pbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGVudHJ5b2JqIG9mIGR1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIGxldCBoZWFkcHRyID0gZW50cnlvYmouaGVhZHB0clxuICAgICAgICAgICAgICAgIGxldCB0YWlscHRyID0gZW50cnlvYmoudGFpbHB0clxuICAgICAgICAgICAgICAgIGlmIChoZWFkcHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGludGVyc2VjdGlvbnNkZWxldGUucHVzaChoZWFkcHRyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFpbHB0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhaWxpbnRlcnNlY3Rpb25zZGVsZXRlLnB1c2godGFpbHB0cilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRpbnRlcnNlY3Rpb25zZGVsZXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgaGVhZGludGVyc2VjdGlvbmluZGV4ZXMgPSBoZWFkaW50ZXJzZWN0aW9uaW5kZXhlcy5maWx0ZXIoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhaGVhZGludGVyc2VjdGlvbnNkZWxldGUuaW5jbHVkZXMoaW5kZXgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaGVhZGludGVyc2VjdGlvbnMgPSBoZWFkaW50ZXJzZWN0aW9ucy5maWx0ZXIoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhaGVhZGludGVyc2VjdGlvbnNkZWxldGUuaW5jbHVkZXMoaW5kZXgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmICh0YWlsaW50ZXJzZWN0aW9uc2RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzID0gdGFpbGludGVyc2VjdGlvbmluZGV4ZXMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRhaWxpbnRlcnNlY3Rpb25zZGVsZXRlLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRhaWxpbnRlcnNlY3Rpb25zID0gdGFpbGludGVyc2VjdGlvbnMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRhaWxpbnRlcnNlY3Rpb25zZGVsZXRlLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzLnNvcnQoaW5kZXhjb21wYXJlKVxuICAgIHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzLnNvcnQoaW5kZXhjb21wYXJlKVxuXG4gICAgaGVhZGludGVyc2VjdGlvbnMuc29ydChlbnRyeWNvbXBhcmUpXG4gICAgdGFpbGludGVyc2VjdGlvbnMuc29ydChlbnRyeWNvbXBhcmUpXG5cbiAgICAvLyBzZXQgcmVmZXJlbmNlIHBvaW50cyBpbiByZWxhdGlvbiB0byB0aGUgc3BpbmVcbiAgICBsZXQgaGVhZGluZGV4ID0gaGVhZGluZGV4ZXNbaGVhZGluZGV4ZXMubGVuZ3RoIC0gMV1cbiAgICBsZXQgdGFpbGluZGV4ID0gdGFpbGluZGV4ZXNbMF1cbiAgICBsZXQgaGVhZHB0ciA9IGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzLmluZGV4T2YoaGVhZGluZGV4KVxuICAgIGxldCB0YWlscHRyID0gdGFpbGludGVyc2VjdGlvbmluZGV4ZXMuaW5kZXhPZih0YWlsaW5kZXgpXG5cbiAgICAvLyBmaWx0ZXIgb3V0IGl0ZW1zIHRoYXQgcmVnaXN0ZXIgb25seSBiZWNhdXNlIHRoZXkgaGF2ZSBqdXN0IGJlZW4gbW92ZWRcbiAgICBpZiAoaGVhZHB0ciAhPT0gKGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzLmxlbmd0aCAtIDEpKSB7IFxuICAgICAgICBoZWFkcHRyID0gLTFcbiAgICB9XG5cbiAgICBpZiAodGFpbHB0ciAhPT0wKSB7IFxuICAgICAgICB0YWlscHRyID0gLTFcbiAgICB9XG4gICAgaWYgKChoZWFkcHRyID4gLTEpICYmICh0YWlscHRyID4gLTEpKSB7IC8vIGVkZ2UgY2FzZVxuXG4gICAgICAgIGlmIChzY3JvbGxmb3J3YXJkKSB7XG4gICAgICAgICAgICBoZWFkcHRyID0gLTFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhaWxwdHIgPSAtMVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBjb2xsZWN0IG5vdGlmaWNhdGlvbnMgdG8gbWFpbiB0aHJlYWQgKGZpbHRlcmVkIGludGVyc2VjdGlvbnMpXG4gICAgLy8gZm9yIHNjcm9sbGJhY2t3YXJkXG4gICAgbGV0IGhlYWRyZWZpbmRleCwgdGFpbHJlZmluZGV4IC8vIGZvciByZXR1cm5cbiAgICBpZiAoIXNjcm9sbGZvcndhcmQgJiYgKGhlYWRwdHIgPj0gMCkpIHtcbiAgICAgICAgaGVhZHJlZmluZGV4ID0gaGVhZGludGVyc2VjdGlvbmluZGV4ZXNbaGVhZHB0cl1cbiAgICAgICAgbGV0IHJlZmluZGV4ID0gaGVhZHJlZmluZGV4ICsgMVxuICAgICAgICBsZXQgcmVmaW50ZXJzZWN0aW5nID0gaW50ZXJzZWN0aW5nW3JlZmluZGV4IC0gMV0uaW50ZXJzZWN0aW5nXG5cbiAgICAgICAgZm9yIChsZXQgcHRyID0gaGVhZHB0cjsgcHRyID49IDA7IHB0ci0tKSB7XG5cbiAgICAgICAgICAgIGxldCBpbmRleCA9IGhlYWRpbnRlcnNlY3Rpb25pbmRleGVzW3B0cl1cblxuICAgICAgICAgICAgLy8gdGVzdCBmb3IgY29udGludWl0eSBhbmQgY29uc2lzdGVuY3lcbiAgICAgICAgICAgIGlmICgoKGluZGV4ICsgMSkgPT0gcmVmaW5kZXgpICYmIChpbnRlcnNlY3RpbmdbaW5kZXhdLmludGVyc2VjdGluZyA9PSByZWZpbnRlcnNlY3RpbmcpKSB7XG5cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZGludGVyc2VjdGlvbnMucHVzaChoZWFkaW50ZXJzZWN0aW9uc1twdHJdKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWZpbmRleCA9IGluZGV4XG4gICAgICAgICAgICByZWZpbnRlcnNlY3RpbmcgPSBpbnRlcnNlY3RpbmdbcmVmaW5kZXhdLmludGVyc2VjdGluZ1xuXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZm9yIHNjcm9sbGZvcndhcmRcbiAgICBpZiAoc2Nyb2xsZm9yd2FyZCAmJiAodGFpbHB0ciA+PSAwKSkge1xuICAgICAgICB0YWlscmVmaW5kZXggPSB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlc1t0YWlscHRyXVxuICAgICAgICBsZXQgcmVmaW5kZXggPSB0YWlscmVmaW5kZXggLSAxXG4gICAgICAgIGxldCByZWZpbnRlcnNlY3RpbmcgPSBpbnRlcnNlY3RpbmdbcmVmaW5kZXggKyAxXS5pbnRlcnNlY3RpbmdcblxuICAgICAgICBmb3IgKGxldCBwdHIgPSB0YWlscHRyOyBwdHIgPCB0YWlsaW50ZXJzZWN0aW9uaW5kZXhlcy5sZW5ndGg7IHB0cisrKSB7XG5cbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRhaWxpbnRlcnNlY3Rpb25pbmRleGVzW3B0cl1cblxuICAgICAgICAgICAgLy8gdGVzdCBmb3IgY29udGludWl0eSBhbmQgY29uc2lzdGVuY3lcbiAgICAgICAgICAgIGlmICgoKGluZGV4IC0gMSkgPT0gcmVmaW5kZXgpICYmIChpbnRlcnNlY3RpbmdbaW5kZXhdLmludGVyc2VjdGluZyA9PSByZWZpbnRlcnNlY3RpbmcpKSB7XG5cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZGludGVyc2VjdGlvbnMucHVzaCh0YWlsaW50ZXJzZWN0aW9uc1twdHJdKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWZpbmRleCA9IGluZGV4XG4gICAgICAgICAgICByZWZpbnRlcnNlY3RpbmcgPSBpbnRlcnNlY3RpbmdbaW5kZXhdLmludGVyc2VjdGluZ1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXJlZGludGVyc2VjdGlvbnMuc29ydChlbnRyeWNvbXBhcmUpIC8vIFRPRE8gdGhpcyBzaG91bGQgYmUgaW50ZWdyYXRlZCBpbnRvIHRoZSBjb2RlIGFib3ZlXG5cbiAgICByZXR1cm4gZmlsdGVyZWRpbnRlcnNlY3Rpb25zIFxuXG59XG5cbmxldCBpbmRleGNvbXBhcmUgPSAoYSxiKSA9PiB7XG4gICAgbGV0IHJldHZhbCA9IChhIDwgYik/LTE6MVxuICAgIHJldHVybiByZXR2YWxcbn1cblxubGV0IGVudHJ5Y29tcGFyZSA9IChhLGIpID0+IHtcbiAgICBsZXQgcmV0dmFsID0gKHBhcnNlSW50KGEudGFyZ2V0LmRhdGFzZXQuaW5kZXgpIDwgcGFyc2VJbnQoYi50YXJnZXQuZGF0YXNldC5pbmRleCkpPyAtMToxXG4gICAgcmV0dXJuIHJldHZhbFxufVxuXG5sZXQgZHVwbGljYXRlY29tcGFyZSA9IChhLGIpID0+IHtcbiAgICBsZXQgcmV0dmFsID0gKGEudGltZSA8IGIudGltZSk/LTE6MVxufVxuXG5leHBvcnQgY29uc3QgY2FsY0NvbnRlbnRTaGlmdHMgPSAoeyAvLyBjYWxsZWQgb25seSBmcm9tIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbiAgICBjcmFkbGVQcm9wcyxcbiAgICBjcmFkbGVFbGVtZW50cyxcbiAgICBjcmFkbGVDb250ZW50LFxuICAgIGNyYWRsZUNvbmZpZyxcbiAgICB2aWV3cG9ydEVsZW1lbnQsXG4gICAgaXRlbUVsZW1lbnRzLFxuICAgIGludGVyc2VjdGlvbnMsXG4gICAgc2Nyb2xsZm9yd2FyZCxcbiAgICB2aWV3cG9ydERhdGEsXG4gICAgLy8gc291cmNlLFxufSkgPT4ge1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgeyBnYXAsXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBydW53YXljb3VudCB9ID0gY3JhZGxlUHJvcHNcblxuICAgIC8vIGlmICh2aWV3cG9ydERhdGEuaW5kZXggPT0gMCkge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnaW4gY2FsY0NvbnRlbnRTaGlmdHMgY3JhZGxlQ29udGVudCcsY3JhZGxlQ29udGVudClcbiAgICAvLyB9XG5cbiAgICBjb25zdCBzcGluZUVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5zcGluZVJlZi5jdXJyZW50XG4gICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcbiAgICBjb25zdCB0YWlsRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLnRhaWxSZWYuY3VycmVudFxuXG4gICAgY29uc3QgY3JhZGxlY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsXG4gICAgY29uc3QgaGVhZGNvbnRlbnRsaXN0ID0gY3JhZGxlQ29udGVudC5oZWFkTW9kZWxcbiAgICBjb25zdCB0YWlsY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbFxuXG4gICAgY29uc3QgeyBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBpdGVtT2JzZXJ2ZXJUaHJlc2hvbGQgfSA9IGNyYWRsZUNvbmZpZ1xuXG4gICAgbGV0IEJPRCA9IGZhbHNlLCBFT0QgPSBmYWxzZSAvLyBiZWdpbm5pbmctb2YtZGF0YSwgZW5kLW9mLWRhdGFcblxuICAgIC8vIC0tLS0tLS1bIDEuIGNhbGN1bGF0ZSBoZWFkIG92ZXJzaG9vdCByb3cgY291bnQsIGlmIGFueSBdLS0tLS0tLVxuICAgIFxuICAgIGxldCBzdGFydGluZ3NwaW5lb2Zmc2V0LCBoZWFkYmxvY2tvZmZzZXQsIHRhaWxibG9ja29mZnNldCwgdmlld3BvcnRsZW5ndGhcbiAgICBsZXQgdmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoID0gMFxuXG4gICAgY29uc3QgY2VsbExlbmd0aCA9IChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9jZWxsSGVpZ2h0ICsgZ2FwOmNlbGxXaWR0aCArIGdhcFxuXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICBzdGFydGluZ3NwaW5lb2Zmc2V0ID0gc3BpbmVFbGVtZW50Lm9mZnNldFRvcCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgdmlld3BvcnRsZW5ndGggPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG5cbiAgICAgICAgLy8gbWVhc3VyZSBhbnkgZ2FwIGJldHdlZW4gdGhlIGNyYWRsZSBhbmQgdGhlIHRvcCB2aWV3cG9ydCBib3VuZGFyeVxuICAgICAgICBpZiAoIXNjcm9sbGZvcndhcmQpIHtcblxuICAgICAgICAgICAgLy8gaWYgc3RhcnRpbmdzcGluZW9mZnNldCBpcyBiZWxvdyB0aGUgdG9wIGJ5IG1vcmUgdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSBoZWFkRWxtZW50IHRoZW4gYSBnYXAgd2lsbCBiZSB2aXNpYmxlXG4gICAgICAgICAgICB2aWV3cG9ydHZpc2libGVnYXBsZW5ndGggPSBzdGFydGluZ3NwaW5lb2Zmc2V0IC0gaGVhZEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHsgLy8gaG9yaXpvbnRhbFxuXG4gICAgICAgIHN0YXJ0aW5nc3BpbmVvZmZzZXQgPSBzcGluZUVsZW1lbnQub2Zmc2V0TGVmdCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgIHZpZXdwb3J0bGVuZ3RoID0gdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoXG5cbiAgICAgICAgaWYgKCFzY3JvbGxmb3J3YXJkKSB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA9IHN0YXJ0aW5nc3BpbmVvZmZzZXQgLSBoZWFkRWxlbWVudC5vZmZzZXRXaWR0aFxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoKHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA8IDApIHx8ICh2aWV3cG9ydHZpc2libGVnYXBsZW5ndGggPiB2aWV3cG9ydGxlbmd0aCkpIHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCA9IDAgLy8gbm8gdmlzaWJsZSBnYXAsIG9yIGRvcmVwb3NpdGlvbiBzaG91bGQgaGF2ZSBraWNrZWQgaW5cblxuICAgIC8vIHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aCBpcyBhbHdheXMgcG9zaXRpdmVcbiAgICBsZXQgb3ZlcnNob290cm93Y291bnQgPSAodmlld3BvcnR2aXNpYmxlZ2FwbGVuZ3RoID09IDApPzA6TWF0aC5jZWlsKHZpZXdwb3J0dmlzaWJsZWdhcGxlbmd0aC9jZWxsTGVuZ3RoKSAvLyByb3dzIHRvIGZpbGwgdmlld3BvcnRcblxuICAgIC8vIGV4dHJhIHJvd3MgZm9yIHJ1bndheVxuICAgIGlmIChvdmVyc2hvb3Ryb3djb3VudCkge1xuICAgICAgICBvdmVyc2hvb3Ryb3djb3VudCArPSBydW53YXljb3VudFxuICAgIH1cblxuICAgIGxldCBvdmVyc2hvb3RpdGVtY291bnQgPSBvdmVyc2hvb3Ryb3djb3VudCAqIGNyb3NzY291bnRcblxuICAgIGlmIChvdmVyc2hvb3RpdGVtY291bnQpIHsvLyAoIXNjcm9sbGZvcndhcmQgJiYgb3ZlcnNob290aXRlbWNvdW50KSB7IC8vIG5lZ2F0aW9uIG9mIHZhbHVlcyBmb3Igc2Nyb2xsIGJhY2t3YXJkXG4gICAgICAgIG92ZXJzaG9vdGl0ZW1jb3VudCA9IC1vdmVyc2hvb3RpdGVtY291bnRcbiAgICAgICAgb3ZlcnNob290cm93Y291bnQgPSAtb3ZlcnNob290cm93Y291bnRcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBjYWxjdWxhdGUgaXRlbXNoaWZ0Y291bnQgaW5jbHVkbmcgb3ZlcnNob290IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBzaGlmdCBpdGVtIGNvdW50IGlzIHRoZSBudW1iZXIgb2YgaXRlbXMgdGhlIHZpcnR1YWwgY3JhZGxlIHNoaWZ0cywgYWNjb3JkaW5nIHRvIG9ic2VydmVyIG5vdGljZXNcblxuICAgIGxldCBmb3J3YXJkY291bnQgPSAwLCBiYWNrd2FyZGNvdW50ID0gMFxuICAgIGlmIChzY3JvbGxmb3J3YXJkKSB7XG5cbiAgICAgICAgYmFja3dhcmRjb3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGZvcndhcmRjb3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoXG5cbiAgICB9XG5cbiAgICBsZXQgY3JhZGxlc2hpZnRjb3VudCA9IGJhY2t3YXJkY291bnQgLSBmb3J3YXJkY291bnQgKyBvdmVyc2hvb3RpdGVtY291bnRcbiAgICBsZXQgcmVmZXJlbmNlc2hpZnRjb3VudCA9IGNyYWRsZXNoaWZ0Y291bnRcblxuICAgIGxldCBjcmFkbGVyb3dzaGlmdCA9IE1hdGguY2VpbChjcmFkbGVzaGlmdGNvdW50L2Nyb3NzY291bnQpXG4gICAgbGV0IHJlZmVyZW5jZXJvd3NoaWZ0ID0gY3JhZGxlcm93c2hpZnRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAzLiBjYWxjIGNyYWRsZWluZGV4IGFuZCByZWZlcmVuY2VpbmRleCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHByZXZpb3VzY3JhZGxlaW5kZXggPSAoY3JhZGxlY29udGVudGxpc3RbMF0ucHJvcHMuaW5kZXggfHwgMCkgLy8gVE9ETzogdW5kZWZpbmVkIHNob3VsZCBuZXZlciBoYXBwZW4hIHN5c3RlbSBlcnJvclxuICAgIGNvbnN0IHByZXZpb3VzY3JhZGxlcm93b2Zmc2V0ID0gcHJldmlvdXNjcmFkbGVpbmRleC9jcm9zc2NvdW50XG4gICAgY29uc3QgcHJldmlvdXNyZWZlcmVuY2VpbmRleCA9ICh0YWlsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApIC8vIFRPRE86VW5jYXVnaHQgVHlwZUVycm9yOiBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAncHJvcHMnIG9mIHVuZGVmaW5lZFxuICAgIGNvbnN0IHByZXZpb3VzcmVmZXJlbmNlcm93b2Zmc2V0ID0gcHJldmlvdXNyZWZlcmVuY2VpbmRleC9jcm9zc2NvdW50XG5cbiAgICBsZXQgZGlmZiBcbiAgICBpZiAoc2Nyb2xsZm9yd2FyZCkge1xuXG4gICAgICAgIGlmICgocHJldmlvdXNjcmFkbGVyb3dvZmZzZXQgKyBjcmFkbGVSb3djb3VudCArIGNyYWRsZXJvd3NoaWZ0KSA+PSAobGlzdFJvd2NvdW50KSkge1xuICAgICAgICAgICAgRU9EID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IChwcmV2aW91c2NyYWRsZXJvd29mZnNldCArIGNyYWRsZVJvd2NvdW50ICsgY3JhZGxlcm93c2hpZnQpIC0gKGxpc3RSb3djb3VudClcblxuICAgICAgICBpZiAoZGlmZiA+IDApIHtcblxuICAgICAgICAgICAgY3JhZGxlcm93c2hpZnQgLT0gZGlmZlxuICAgICAgICAgICAgY3JhZGxlc2hpZnRjb3VudCAtPSAoZGlmZiAqIGNyb3NzY291bnQpXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoKHByZXZpb3VzY3JhZGxlcm93b2Zmc2V0ICsgY3JhZGxlcm93c2hpZnQpIDw9IDApIHtcbiAgICAgICAgICAgIEJPRCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBkaWZmID0gcHJldmlvdXNjcmFkbGVyb3dvZmZzZXQgKyBjcmFkbGVyb3dzaGlmdFxuICAgICAgICBpZiAoZGlmZiA8IDApIHtcblxuICAgICAgICAgICAgY3JhZGxlcm93c2hpZnQgLT0gZGlmZlxuICAgICAgICAgICAgY3JhZGxlc2hpZnRjb3VudCAtPSAoZGlmZiAqIGNyb3NzY291bnQpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgbGV0IG5ld2NyYWRsZWluZGV4ID0gcHJldmlvdXNjcmFkbGVpbmRleCArIGNyYWRsZXNoaWZ0Y291bnRcbiAgICBsZXQgbmV3cmVmZXJlbmNlaW5kZXggPSBwcmV2aW91c3JlZmVyZW5jZWluZGV4ICsgcmVmZXJlbmNlc2hpZnRjb3VudFxuXG4gICAgaWYgKG5ld3JlZmVyZW5jZWluZGV4IDwgMCkge1xuICAgICAgICByZWZlcmVuY2VzaGlmdGNvdW50ICs9IG5ld3JlZmVyZW5jZWluZGV4XG4gICAgICAgIG5ld3JlZmVyZW5jZWluZGV4ID0gMFxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS1bIDQuIGNhbGN1bGF0ZSBzcGluZUFkanVzdG1lbnQgYW5kIHNwaW5lUG9zT2Zmc2V0IF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGxldCByZWZlcmVuY2VpdGVtc2hpZnRjb3VudCA9IG5ld3JlZmVyZW5jZWluZGV4IC0gcHJldmlvdXNyZWZlcmVuY2VpbmRleFxuICAgIGxldCBjcmFkbGVpdGVtc2hpZnRjb3VudCA9IG5ld2NyYWRsZWluZGV4IC0gcHJldmlvdXNjcmFkbGVpbmRleFxuXG4gICAgcmVmZXJlbmNlcm93c2hpZnQgPSByZWZlcmVuY2VpdGVtc2hpZnRjb3VudC9jcm9zc2NvdW50XG4gICAgbGV0IHJlZmVyZW5jZXBpeGVsc2hpZnQgPSByZWZlcmVuY2Vyb3dzaGlmdCAqIGNlbGxMZW5ndGhcblxuICAgIGxldCBzcGluZVBvc09mZnNldCA9IHN0YXJ0aW5nc3BpbmVvZmZzZXQgKyByZWZlcmVuY2VwaXhlbHNoaWZ0XG5cbiAgICBsZXQgc3BpbmVPZmZzZXRUYXJnZXQgPSBzcGluZVBvc09mZnNldFxuICAgIGxldCBzcGluZUFkanVzdG1lbnQgPSAwXG5cbiAgICBpZiAoTWF0aC5hYnMoc3BpbmVQb3NPZmZzZXQpID4gY2VsbExlbmd0aCkge1xuXG4gICAgICAgIHNwaW5lT2Zmc2V0VGFyZ2V0ID0gKHNwaW5lUG9zT2Zmc2V0ICUgY2VsbExlbmd0aClcbiAgICAgICAgc3BpbmVBZGp1c3RtZW50ID0gLShNYXRoLmNlaWwoKHNwaW5lUG9zT2Zmc2V0IC0gc3BpbmVPZmZzZXRUYXJnZXQpIC8gY2VsbExlbmd0aCkgKiBjcm9zc2NvdW50KVxuXG4gICAgfVxuXG4gICAgaWYgKHNwaW5lT2Zmc2V0VGFyZ2V0IDwgMCkge1xuICAgICAgICBzcGluZU9mZnNldFRhcmdldCArPSBjZWxsTGVuZ3RoXG4gICAgICAgIHNwaW5lQWRqdXN0bWVudCArPSBjcm9zc2NvdW50IFxuICAgIH1cblxuICAgIGlmIChzcGluZUFkanVzdG1lbnQgJiYgKEJPRCB8fCBFT0QpKSB7XG5cbiAgICAgICAgbmV3cmVmZXJlbmNlaW5kZXggKz0gc3BpbmVBZGp1c3RtZW50XG4gICAgICAgIHJlZmVyZW5jZWl0ZW1zaGlmdGNvdW50ICs9IHNwaW5lQWRqdXN0bWVudFxuICAgICAgICBzcGluZVBvc09mZnNldCA9IHNwaW5lT2Zmc2V0VGFyZ2V0XG5cbiAgICB9IGVsc2UgaWYgKHNwaW5lQWRqdXN0bWVudCkge1xuXG4gICAgICAgIG5ld2NyYWRsZWluZGV4ICs9IHNwaW5lQWRqdXN0bWVudFxuICAgICAgICBjcmFkbGVpdGVtc2hpZnRjb3VudCArPSBzcGluZUFkanVzdG1lbnRcbiAgICAgICAgbmV3cmVmZXJlbmNlaW5kZXggKz0gc3BpbmVBZGp1c3RtZW50XG4gICAgICAgIHJlZmVyZW5jZWl0ZW1zaGlmdGNvdW50ICs9IHNwaW5lQWRqdXN0bWVudFxuICAgICAgICBzcGluZVBvc09mZnNldCA9IHNwaW5lT2Zmc2V0VGFyZ2V0XG4gICAgfVxuXG4gICAgc3BpbmVQb3NPZmZzZXQgPSBzcGluZU9mZnNldFRhcmdldFxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiByZXR1cm4gcmVxdWlyZWQgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tWyBFWFBFUklNRU5UQUwgQURKVVNUTUVOVCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gdG8gcmV0dXJuIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCwgVE9ETzogYnV0IG92ZXItdHJpbXM7IG5vdCB3b3JraW5nXG5cbiAgICAvLyBsZXQgY3JhZGxlUmVmZXJlbmNlSW5kZXggPSBuZXdyZWZlcmVuY2VpbmRleCBcblxuICAgIGNvbnN0IGNyYWRsZUF2YWlsYWJsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudFxuXG4gICAgLy8gbGV0IGFjdGl2ZWxpc3RpdGVtY291bnQgPSBuZXdyZWZlcmVuY2VpbmRleCArIGNyYWRsZUF2YWlsYWJsZUNvbnRlbnRDb3VudFxuICAgIC8vIGxldCBhY3RpdmVsaXN0cm93Y291bnQgPSBNYXRoLmNlaWwoYWN0aXZlbGlzdGl0ZW1jb3VudC9jcm9zc2NvdW50KVxuICAgIC8vIC8vIGxldCBsaXN0Um93Y291bnQgPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudClcblxuICAgIC8vIGlmIChhY3RpdmVsaXN0cm93Y291bnQgPiBsaXN0Um93Y291bnQpIHtcbiAgICAvLyAgICAgbGV0IGRpZmZyb3dzID0gYWN0aXZlbGlzdHJvd2NvdW50IC0gbGlzdFJvd2NvdW50XG4gICAgLy8gICAgIGxldCBkaWZmID0gZGlmZnJvd3MgKiBjcm9zc2NvdW50XG4gICAgLy8gICAgIC8vIGNyYWRsZVJlZmVyZW5jZUluZGV4IC09IGRpZmYgLy8gVE9ETzogd2h5IGlzIG5ld3JlZmVyZW5jZWluZGV4IG5vdCB1cGRhdGVkP1xuICAgIC8vICAgICBhY3RpdmVsaXN0cm93Y291bnQgLT0gZGlmZnJvd3NcbiAgICAvLyB9XG5cbiAgICAvLyBsZXQgdGVzdGxpc3Ryb3djb3VudCA9IE1hdGguY2VpbCgoY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjb250ZW50Q291bnQgKyAxKS9jcm9zc2NvdW50KVxuICAgIGxldCBjcmFkbGVBY3R1YWxDb250ZW50Q291bnQgPSBjcmFkbGVBdmFpbGFibGVDb250ZW50Q291bnRcbiAgICAvLyBpZiAoYWN0aXZlbGlzdHJvd2NvdW50ID09IGxpc3RSb3djb3VudCkge1xuICAgIC8vICAgICBsZXQgZGlmZiA9IGxpc3RzaXplICUgY3Jvc3Njb3VudFxuICAgIC8vICAgICBpZiAoZGlmZikge1xuICAgIC8vICAgICAgICAgY3JhZGxlQWN0dWFsQ29udGVudENvdW50IC09IChjcm9zc2NvdW50IC0gZGlmZilcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGlmIChpc05hTihuZXdyZWZlcmVuY2VpbmRleCkpIHtcbiAgICAvLyAgICAgZGVidWdnZXJcbiAgICAvLyB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tWyBFTkQgT0YgRVhQRVJJTUVOVEFMIEFESlVTVE1FTlQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICByZXR1cm4gWyBuZXdjcmFkbGVpbmRleCwgY3JhZGxlaXRlbXNoaWZ0Y291bnQsIG5ld3JlZmVyZW5jZWluZGV4LCByZWZlcmVuY2VpdGVtc2hpZnRjb3VudCwgc3BpbmVQb3NPZmZzZXQsIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCBdXG5cbn1cblxuZXhwb3J0IGNvbnN0IGNhbGNIZWFkQW5kVGFpbENoYW5nZXMgPSAoe1xuXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgICAgIGNyYWRsZXNoaWZ0Y291bnQsXG4gICAgICAgIHNjcm9sbGZvcndhcmQsXG4gICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LFxuXG4gICAgfSkgPT4ge1xuXG4gICAgbGV0IGxpc3RzaXplID0gY3JhZGxlUHJvcHMubGlzdHNpemVcblxuICAgIGxldCBoZWFkY29udGVudCA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsXG4gICAgbGV0IHRhaWxjb250ZW50ID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxcblxuICAgIGxldCB7IGNyb3NzY291bnQsXG4gICAgY3JhZGxlUm93Y291bnQgfSA9IGNyYWRsZUNvbmZpZ1xuXG4gICAgY3JhZGxlc2hpZnRjb3VudCA9IE1hdGguYWJzKGNyYWRsZXNoaWZ0Y291bnQpIFxuICAgIGxldCByb3dzaGlmdGNvdW50ID0gTWF0aC5jZWlsKGNyYWRsZXNoaWZ0Y291bnQvY3Jvc3Njb3VudCkgLy8rIGJvdW5kYXJ5cm93Y291bnRcblxuICAgIGxldCBoZWFkcm93Y291bnQsIHRhaWxyb3djb3VudFxuICAgIGhlYWRyb3djb3VudCA9IE1hdGguY2VpbChoZWFkY29udGVudC5sZW5ndGgvY3Jvc3Njb3VudClcbiAgICB0YWlscm93Y291bnQgPSBNYXRoLmNlaWwodGFpbGNvbnRlbnQubGVuZ3RoL2Nyb3NzY291bnQpXG5cbiAgICBsZXQgcGVuZGluZ2NvbnRlbnRvZmZzZXQgLy8gbG9va2FoZWFkIHRvIG5ldyBjcmFkbGVSZWZlcmVuY2VJbmRleFxuXG4gICAgbGV0IGhlYWRjaGFuZ2Vjb3VudCwgdGFpbGNoYW5nZWNvdW50IC8vIHRoZSBvdXRwdXQgaW5zdHJ1Y3Rpb25zIGZvciBnZXRVSUNlbGxTaGVsbExpc3RcblxuICAgIC8vIGFudGljaXBhYXRlIGFkZCB0byBvbmUgZW5kLCBjbGlwIGZyb20gdGhlIG90aGVyICAgICAgICBcbiAgICBsZXQgYWRkaXRlbWNvdW50ID0gMFxuICAgIGxldCBjbGlwcm93Y291bnQgPSAwLCBjbGlwaXRlbWNvdW50ID0gMFxuXG4gICAgaWYgKHNjcm9sbGZvcndhcmQpIHsgLy8gY2xpcCBmcm9tIGhlYWQ7IGFkZCB0byB0YWlsOyBzY3JvbGwgZm9yd2FyZCBoZWFkIGlzIGRpcmVjdGlvbiBvZiBzY3JvbGxcblxuICAgICAgICAvLyBhZGp1c3QgY2xpcGl0ZW1jb3VudFxuICAgICAgICBpZiAoKGhlYWRyb3djb3VudCArIHJvd3NoaWZ0Y291bnQpID4gKGNyYWRsZVByb3BzLnJ1bndheWNvdW50KSkge1xuXG4gICAgICAgICAgICBsZXQgcm93ZGlmZiA9IChoZWFkcm93Y291bnQgKyByb3dzaGlmdGNvdW50KSAtIChjcmFkbGVQcm9wcy5ydW53YXljb3VudClcbiAgICAgICAgICAgIGNsaXByb3djb3VudCA9IHJvd2RpZmZcbiAgICAgICAgICAgIGNsaXBpdGVtY291bnQgPSAoY2xpcHJvd2NvdW50ICogY3Jvc3Njb3VudClcblxuICAgICAgICB9XG5cbiAgICAgICAgYWRkaXRlbWNvdW50ID0gY2xpcGl0ZW1jb3VudCAvLyBtYWludGFpbiBjb25zdGFudCBjcmFkbGUgY291bnRcblxuICAgICAgICBwZW5kaW5nY29udGVudG9mZnNldCA9IGNyYWRsZVJlZmVyZW5jZUluZGV4ICsgY2xpcGl0ZW1jb3VudCAvLyBhZnRlciBjbGlwXG5cbiAgICAgICAgbGV0IHByb3Bvc2VkdGFpbGluZGV4ID0gcGVuZGluZ2NvbnRlbnRvZmZzZXQgKyAoY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50KSAtIDEgLy8gbW9kZWxjb250ZW50bGlzdC5sZW5ndGggLSAxXG5cbiAgICAgICAgLy8gYWRranVzdCBjaGFuZ2VzIGZvciBsaXN0IGJvdW5kYXJpZXNcbiAgICAgICAgaWYgKChwcm9wb3NlZHRhaWxpbmRleCkgPiAobGlzdHNpemUgLTEpICkge1xuXG4gICAgICAgICAgICBsZXQgZGlmZml0ZW1jb3VudCA9IChwcm9wb3NlZHRhaWxpbmRleCAtIChsaXN0c2l6ZSAtMSkpIC8vIGl0ZW1zIG91dHNpZGUgcmFuZ2VcbiAgICAgICAgICAgIGFkZGl0ZW1jb3VudCAtPSBkaWZmaXRlbWNvdW50IC8vIGFkanVzdCB0aGUgYWRkY29udGVudCBhY2NvcmRpbmdseVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZGlmZnJvd3MgPSBNYXRoLmZsb29yKGRpZmZpdGVtY291bnQvY3Jvc3Njb3VudCkgLy8gbnVtYmVyIG9mIGZ1bGwgcm93cyB0byBsZWF2ZSBpbiBwbGFjZVxuICAgICAgICAgICAgbGV0IGRpZmZyb3dpdGVtcyA9IChkaWZmcm93cyAqIGNyb3NzY291bnQpICAvLyBkZXJpdmVkIG51bWJlciBvZiBpdGVtcyB0byBsZWF2ZSBpbiBwbGFjZVxuXG4gICAgICAgICAgICBjbGlwaXRlbWNvdW50IC09IGRpZmZyb3dpdGVtcyAvLyBhcHBseSBhZGp1c3RtZW50IHRvIG5ldHNoaWZ0XG5cbiAgICAgICAgICAgIGlmIChhZGRpdGVtY291bnQgPD0wKSB7IC8vIG5vdGhpbmcgdG8gZG9cblxuICAgICAgICAgICAgICAgIGFkZGl0ZW1jb3VudCA9IDBcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaXBpdGVtY291bnQgPD0wICkge1xuXG4gICAgICAgICAgICAgICAgY2xpcGl0ZW1jb3VudCA9IDBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRjaGFuZ2Vjb3VudCA9IC1jbGlwaXRlbWNvdW50XG4gICAgICAgIHRhaWxjaGFuZ2Vjb3VudCA9IGFkZGl0ZW1jb3VudFxuXG4gICAgfSBlbHNlIHsgLy8gc2Nyb2xsIGJhY2t3YXJkLCBpbiBkaXJlY3Rpb24gb2YgdGFpbDsgY2xpcCBmcm9tIHRhaWwsIGFkZCB0byBoZWFkXG5cbiAgICAgICAgbGV0IGludGVyc2VjdGlvbmluZGV4ZXMgPSBbXVxuXG4gICAgICAgIC8vIGhlYWRjb3VudCB3aWxsIGJlIGxlc3MgdGhhbiBtaW5pbXVtIChydW53YXljb3VudCksIHNvIGEgc2hpZnQgY2FuIGJlIGFjY29tcGxpc2hlZFtdXG4gICAgICAgIGlmICgoaGVhZHJvd2NvdW50IC0gcm93c2hpZnRjb3VudCkgPCAoY3JhZGxlUHJvcHMucnVud2F5Y291bnQpKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgY2xpcCBmb3IgdGFpbFxuICAgICAgICAgICAgbGV0IHJvd3Nob3J0ZmFsbCA9IChjcmFkbGVQcm9wcy5ydW53YXljb3VudCkgLSAoaGVhZHJvd2NvdW50IC0gcm93c2hpZnRjb3VudClcblxuICAgICAgICAgICAgY2xpcHJvd2NvdW50ID0gcm93c2hvcnRmYWxsXG4gICAgICAgICAgICBsZXQgdGFpbHJvd2l0ZW1jb3VudCA9ICh0YWlsY29udGVudC5sZW5ndGggJSBjcm9zc2NvdW50KVxuXG4gICAgICAgICAgICBpZiAodGFpbHJvd2l0ZW1jb3VudCA9PSAwKSB0YWlscm93aXRlbWNvdW50ID0gY3Jvc3Njb3VudFxuXG4gICAgICAgICAgICBjbGlwaXRlbWNvdW50ID0gdGFpbHJvd2l0ZW1jb3VudFxuICAgICAgICAgICAgaWYgKHRhaWxyb3djb3VudCA+IDEpIHtcblxuICAgICAgICAgICAgICAgIGlmIChjbGlwcm93Y291bnQgPiB0YWlscm93Y291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpcHJvd2NvdW50ID0gdGFpbHJvd2NvdW50XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNsaXByb3djb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpcGl0ZW1jb3VudCArPSAoKGNsaXByb3djb3VudCAtMSkgKiBjcm9zc2NvdW50KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wZW5zdGF0ZSB3aXRoIGFkZGl0ZW1jb3VudFxuICAgICAgICAgICAgYWRkaXRlbWNvdW50ID0gKGNsaXByb3djb3VudCAqIGNyb3NzY291bnQpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcm9wb3NlZGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggLSBhZGRpdGVtY291bnRcblxuICAgICAgICBpZiAocHJvcG9zZWRpbmRleG9mZnNldCA8IDApIHtcblxuICAgICAgICAgICAgbGV0IGRpZmZpdGVtY291bnQgPSAtcHJvcG9zZWRpbmRleG9mZnNldFxuICAgICAgICAgICAgbGV0IGRpZmZyb3dzID0gTWF0aC5jZWlsKGRpZmZpdGVtY291bnQvY3Jvc3Njb3VudCkgLy8gbnVtYmVyIG9mIGZ1bGwgcm93cyB0byBsZWF2ZSBpbiBwbGFjZVxuICAgICAgICAgICAgbGV0IGRpZmZyb3dpdGVtcyA9IChkaWZmcm93cyAqIGNyb3NzY291bnQpXG5cbiAgICAgICAgICAgIGFkZGl0ZW1jb3VudCAtPSBkaWZmaXRlbWNvdW50XG4gICAgICAgICAgICBjbGlwaXRlbWNvdW50IC09IGRpZmZyb3dpdGVtc1xuXG4gICAgICAgICAgICBpZiAoYWRkaXRlbWNvdW50IDw9IDApIHtcblxuICAgICAgICAgICAgICAgIGFkZGl0ZW1jb3VudCA9IDBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNsaXBpdGVtY291bnQgPD0gMCkge1xuXG4gICAgICAgICAgICAgICAgY2xpcGl0ZW1jb3VudCA9IDBcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGVhZGNoYW5nZWNvdW50ID0gYWRkaXRlbWNvdW50XG4gICAgICAgIHRhaWxjaGFuZ2Vjb3VudCA9IC1jbGlwaXRlbWNvdW50XG5cbiAgICB9XG4gICAgcmV0dXJuIFtoZWFkY2hhbmdlY291bnQsdGFpbGNoYW5nZWNvdW50XVxuXG59XG5cbi8vIHVwZGF0ZSBjb250ZW50XG4vLyBhZGRzIGl0ZW1zaGVsbHMgYXQgZW5kIG9mIGNvbnRlbnRsaXN0IGFjY29yZGluZyB0byBoZWFkaW5kZXhjb3VudCBhbmQgdGFpbGluZGVzY291bnQsXG4vLyBvciBpZiBpbmRleGNvdW50IHZhbHVlcyBhcmUgPDAgcmVtb3ZlcyB0aGVtLlxuZXhwb3J0IGNvbnN0IGdldFVJQ2VsbFNoZWxsTGlzdCA9ICh7IFxuXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCxcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBoZWFkY2hhbmdlY291bnQsIFxuICAgICAgICB0YWlsY2hhbmdlY291bnQsIFxuICAgICAgICBsb2NhbENvbnRlbnRMaXN0OmNvbnRlbnRsaXN0LFxuICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgIG9ic2VydmVyLFxuICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICB9KSA9PiB7XG5cbiAgICBsZXQgeyBjcm9zc2NvdW50LFxuICAgICAgICBjcmFkbGVSb3djb3VudCB9ID0gY3JhZGxlQ29uZmlnXG5cbiAgICBsZXQgbG9jYWxDb250ZW50bGlzdCA9IFsuLi5jb250ZW50bGlzdF1cbiAgICBsZXQgdGFpbGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBjb250ZW50bGlzdC5sZW5ndGhcbiAgICAvLyBsZXQgaGVhZGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXhcbiAgICAvLyBsZXQgcmV0dXJuQ29udGVudGxpc3RcblxuICAgIGxldCBoZWFkQ29udGVudGxpc3QgPSBbXVxuXG4gICAgbGV0IHRvcGNvbnN0cmFpbnQgPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGhlYWRjaGFuZ2Vjb3VudCxcbiAgICBib3R0b21jb25zdHJhaW50ID0gKGNyYWRsZVJlZmVyZW5jZUluZGV4IC0gaGVhZGNoYW5nZWNvdW50KSArIChjcmFkbGVBY3R1YWxDb250ZW50Q291bnQgKyAxKSAvLyBUT0RPOiB2YWxpZGF0ZSBcIisxXCJcblxuICAgIGxldCBkZWxldGVkdGFpbGl0ZW1zID0gW10sIGRlbGV0ZWRoZWFkaXRlbXMgPSBbXVxuXG4gICAgaWYgKGhlYWRjaGFuZ2Vjb3VudCA+PSAwKSB7XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIGhlYWRjaGFuZ2Vjb3VudDsgaW5kZXggPCAoY3JhZGxlUmVmZXJlbmNlSW5kZXgpOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIGlmICghKChpbmRleCA+PSB0b3Bjb25zdHJhaW50KSAmJiAoaW5kZXggPD0gYm90dG9tY29uc3RyYWludCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGFjcXVpcmVJdGVtKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcywgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGRlbGV0ZWRoZWFkaXRlbXMgPSBsb2NhbENvbnRlbnRsaXN0LnNwbGljZSggMCwgLWhlYWRjaGFuZ2Vjb3VudCApXG5cbiAgICB9XG5cbiAgICBsZXQgdGFpbENvbnRlbnRsaXN0ID0gW11cblxuICAgIGlmICh0YWlsY2hhbmdlY291bnQgPj0gMCkge1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gdGFpbGluZGV4b2Zmc2V0OyBpbmRleCA8ICh0YWlsaW5kZXhvZmZzZXQgKyB0YWlsY2hhbmdlY291bnQpOyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIGlmICghKChpbmRleCA+PSB0b3Bjb25zdHJhaW50KSAmJiAoaW5kZXggPD0gYm90dG9tY29uc3RyYWludCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhaWxDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGFjcXVpcmVJdGVtKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcywgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGRlbGV0ZWR0YWlsaXRlbXMgPSBsb2NhbENvbnRlbnRsaXN0LnNwbGljZSh0YWlsY2hhbmdlY291bnQsLXRhaWxjaGFuZ2Vjb3VudClcblxuICAgIH1cblxuICAgIGxldCBkZWxldGVkaXRlbXMgPSBkZWxldGVkaGVhZGl0ZW1zLmNvbmNhdChkZWxldGVkdGFpbGl0ZW1zKVxuXG4gICAgbGV0IGNvbXBvbmVudExpc3QgPSBoZWFkQ29udGVudGxpc3QuY29uY2F0KGxvY2FsQ29udGVudGxpc3QsdGFpbENvbnRlbnRsaXN0KVxuXG4gICAgcmV0dXJuIFtjb21wb25lbnRMaXN0LGRlbGV0ZWRpdGVtc11cblxufVxuXG4vLyBidXR0ZXJmbHkgbW9kZWwuIExlYWRpbmcgKGhlYWQpIGFsbCBvciBwYXJ0aWFsbHkgaGlkZGVuOyB0YWlsLCB2aXNpYmxlIHBsdXMgZm9sbG93aW5nIGhpZGRlblxuZXhwb3J0IGNvbnN0IGFsbG9jYXRlQ29udGVudExpc3QgPSAoXG4gICAge1xuXG4gICAgICAgIGNvbnRlbnRsaXN0LCAvLyBvZiBjcmFkbGUsIGluIGl0ZW1zIChSZWFjdCBjb21wb25lbnRzKVxuICAgICAgICBzcGluZVJlZmVyZW5jZUluZGV4LCAvLyBmaXJzdCB0YWlsIGl0ZW1cblxuICAgIH1cbikgPT4ge1xuXG4gICAgbGV0IG9mZnNldGluZGV4ID0gY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IC8vIFRPRE86IENhbm5vdCByZWFkIHByb3BlcnR5ICdwcm9wcycgb2YgdW5kZWZpbmVkXG5cbiAgICBsZXQgaGVhZGl0ZW1jb3VudFxuXG4gICAgaGVhZGl0ZW1jb3VudCA9IChzcGluZVJlZmVyZW5jZUluZGV4IC0gb2Zmc2V0aW5kZXgpXG5cbiAgICBsZXQgaGVhZGxpc3QgPSBjb250ZW50bGlzdC5zbGljZSgwLGhlYWRpdGVtY291bnQpXG4gICAgbGV0IHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbaGVhZGxpc3QsdGFpbGxpc3RdXG5cbn1cblxuY29uc3QgYWNxdWlyZUl0ZW0gPSAoe1xuICAgIGluZGV4LCBcbiAgICBjcmFkbGVQcm9wcyxcbiAgICBvYnNlcnZlciwgXG4gICAgY2FsbGJhY2tzLCBcbiAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcblxufSkgPT4ge1xuICAgIGxldCBpbnN0YW5jZUlEID0gaW5zdGFuY2VJZENvdW50ZXJSZWYuY3VycmVudCsrXG5cbiAgICByZXR1cm4gZW1pdEl0ZW0oe1xuICAgICAgICBpbmRleCwgXG4gICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICBvYnNlcnZlciwgXG4gICAgICAgIGNhbGxiYWNrcywgXG4gICAgICAgIGluc3RhbmNlSUQsXG4gICAgfSlcbn1cblxuY29uc3QgZW1pdEl0ZW0gPSAoe1xuICAgIGluZGV4LCBcbiAgICBjcmFkbGVQcm9wcyxcbiAgICBvYnNlcnZlciwgXG4gICAgY2FsbGJhY2tzLCBcbiAgICBpbnN0YW5jZUlELFxufSkgPT4ge1xuXG4gICAgbGV0IHsgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2V0SXRlbSxcbiAgICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBzY3JvbGxlck5hbWUsXG4gICAgICAgIHNjcm9sbGVySUQgfSA9IGNyYWRsZVByb3BzXG5cbiAgICByZXR1cm4gPENlbGxTaGVsbFxuICAgICAgICBrZXkgPSB7aW5kZXh9IFxuICAgICAgICBvcmllbnRhdGlvbiA9IHtvcmllbnRhdGlvbn1cbiAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgaW5kZXggPSB7aW5kZXh9XG4gICAgICAgIG9ic2VydmVyID0ge29ic2VydmVyfVxuICAgICAgICBjYWxsYmFja3MgPSB7Y2FsbGJhY2tzfVxuICAgICAgICBnZXRJdGVtID0ge2dldEl0ZW19XG4gICAgICAgIGxpc3RzaXplID0ge2xpc3RzaXplfVxuICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICBpbnN0YW5jZUlEID0ge2luc3RhbmNlSUR9XG4gICAgICAgIHNjcm9sbGVyTmFtZSA9IHsgc2Nyb2xsZXJOYW1lIH1cbiAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgLz4gICAgXG5cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUFuZFJlcmVuZGVyUG9ydGFscyA9IChwb3J0YWxNYW5hZ2VyLCBkZWxldGVMaXN0KSA9PiB7XG5cbiAgICBmb3IgKGxldCBpdGVtIG9mIGRlbGV0ZUxpc3QpIHtcbiAgICAgICAgcG9ydGFsTWFuYWdlci5kZWxldGVQb3J0YWwoaXRlbS5wcm9wcy5pbmRleClcbiAgICB9XG4gICAgaWYgKGRlbGV0ZUxpc3QubGVuZ3RoKSBwb3J0YWxNYW5hZ2VyLnJlbmRlclBvcnRhbExpc3QoKVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n");

/***/ }),

/***/ "./src/cradle/contentmanager.tsx":
/*!***************************************!*\
  !*** ./src/cradle/contentmanager.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // contentmanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ \"./src/cradle/contentfunctions.tsx\");\n\nvar ContentManager =\n/** @class */\nfunction () {\n  function ContentManager(commonProps, contentCallbacksRef) {\n    var _this = this;\n\n    this.content = {\n      cradleModel: null,\n      headModel: null,\n      tailModel: null,\n      headView: [],\n      tailView: []\n    };\n    this.itemElements = new Map();\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    this.instanceIdMap = new Map();\n    this._previousScrollForward = undefined; // Two public methods - setCradleContent and updateCradleContent\n    // reset cradle, including allocation between head and tail parts of the cradle\n    // called only from cradle preparerender event\n\n    this.setCradleContent = function (cradleState) {\n      var viewportData = _this.commonProps.viewportdataRef.current;\n      var cradleProps = _this.commonProps.cradlePropsRef.current;\n      var cradleConfig = _this.commonProps.cradleConfigRef.current;\n      var scrollManager = _this.commonProps.managersRef.current.scroll;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var serviceManager = _this.commonProps.managersRef.current.service;\n      var interruptManager = _this.commonProps.managersRef.current.interrupts;\n      var cradleData = _this.commonProps.cradleDataRef.current; // if (viewportData.index == 6) {\n      //     console.log('SETTING content - cradleState, cradleData in setCradleContent',cradleState, cradleData)\n      // }\n\n      var viewportElement = viewportData.elementref.current;\n      var visibletargetindexoffset = cradleManager.cradleReferenceData.nextItemIndexReference;\n      var visibletargetscrolloffset = cradleManager.cradleReferenceData.nextCradlePosOffset;\n      var cellHeight = cradleProps.cellHeight,\n          cellWidth = cradleProps.cellWidth,\n          orientation = cradleProps.orientation,\n          runwaycount = cradleProps.runwaycount,\n          gap = cradleProps.gap,\n          padding = cradleProps.padding,\n          listsize = cradleProps.listsize;\n      var cradleRowcount = cradleConfig.cradleRowcount,\n          crosscount = cradleConfig.crosscount,\n          viewportRowcount = cradleConfig.viewportRowcount;\n\n      if (cradleState == 'doreposition') {\n        visibletargetscrolloffset = visibletargetindexoffset == 0 ? padding : gap;\n      }\n\n      var localContentList = [];\n      var cradleContent = _this.content;\n\n      var _a = (0, contentfunctions_1.getContentListRequirements)({\n        cradleProps: cradleProps,\n        cradleConfig: cradleConfig,\n        visibletargetindexoffset: visibletargetindexoffset,\n        targetViewportOffset: visibletargetscrolloffset,\n        viewportElement: viewportData.elementref.current\n      }),\n          cradleReferenceIndex = _a.cradleReferenceIndex,\n          referenceoffset = _a.referenceoffset,\n          cradleActualContentCount = _a.cradleActualContentCount,\n          scrollblockOffset = _a.scrollblockOffset,\n          spinePosOffset = _a.spinePosOffset,\n          spineAdjustment = _a.spineAdjustment; // returns content constrained by cradleRowcount\n\n\n      var _b = (0, contentfunctions_1.getUICellShellList)({\n        cradleProps: cradleProps,\n        cradleConfig: cradleConfig,\n        cradleActualContentCount: cradleActualContentCount,\n        cradleReferenceIndex: cradleReferenceIndex,\n        headchangecount: 0,\n        tailchangecount: cradleActualContentCount,\n        localContentList: localContentList,\n        callbacks: _this.contentCallbacksRef.current,\n        observer: interruptManager.cellIntersect.observer,\n        instanceIdCounterRef: _this.instanceIdCounterRef\n      }),\n          childlist = _b[0],\n          deleteditems = _b[1];\n\n      (0, contentfunctions_1.deleteAndRerenderPortals)(cradleData.portalManager, deleteditems);\n\n      var _c = (0, contentfunctions_1.allocateContentList)({\n        contentlist: childlist,\n        spineReferenceIndex: referenceoffset\n      }),\n          headcontentlist = _c[0],\n          tailcontentlist = _c[1];\n\n      if (headcontentlist.length == 0) {\n        spinePosOffset = padding;\n      }\n\n      cradleContent.cradleModel = childlist;\n      cradleContent.headModel = headcontentlist;\n      cradleContent.tailModel = tailcontentlist;\n      cradleManager.cradleReferenceData.scrollImpliedItemIndexReference = referenceoffset;\n      cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset = spinePosOffset;\n      cradleManager.cradleReferenceData.nextItemIndexReference = referenceoffset;\n      cradleManager.cradleReferenceData.nextCradlePosOffset = spinePosOffset;\n\n      if (serviceManager.serviceCalls.referenceIndexCallbackRef.current) {\n        var cstate = cradleState;\n        if (cstate == 'setreload') cstate = 'reload';\n        serviceManager.serviceCalls.referenceIndexCallbackRef.current(cradleManager.cradleReferenceData.nextItemIndexReference, 'setCradleContent', cstate);\n      }\n\n      var cradleElements = cradleManager.elements; //cradleElementsRef.current\n\n      cradleManager.cradleReferenceData.blockScrollPos = scrollblockOffset - spinePosOffset;\n\n      if (orientation == 'vertical') {\n        cradleManager.cradleReferenceData.blockScrollProperty = 'scrollTop';\n        cradleElements.spineRef.current.style.top = scrollblockOffset + spineAdjustment + 'px';\n        cradleElements.spineRef.current.style.left = 'auto';\n        cradleElements.headRef.current.style.paddingBottom = headcontentlist.length ? cradleProps.gap + 'px' : 0;\n      } else {\n        // orientation = 'horizontal'\n        cradleManager.cradleReferenceData.blockScrollProperty = 'scrollLeft';\n        cradleElements.spineRef.current.style.top = 'auto';\n        cradleElements.spineRef.current.style.left = scrollblockOffset + spineAdjustment + 'px';\n        cradleElements.headRef.current.style.paddingRight = headcontentlist.length ? cradleProps.gap + 'px' : 0;\n      }\n    };\n\n    this.updateCradleContent = function (entries, source) {\n      var _a;\n\n      if (source === void 0) {\n        source = 'notifications';\n      }\n\n      var viewportData = _this.commonProps.viewportdataRef.current;\n      var cradleProps = _this.commonProps.cradlePropsRef.current;\n      var scrollManager = _this.commonProps.managersRef.current.scroll;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var interruptManager = _this.commonProps.managersRef.current.interrupts;\n      var cradleData = _this.commonProps.cradleDataRef.current; // if (viewportData.index == 6) {\n      //     console.log('UPDATING content - source, cradleData in updateCradleContent',source, cradleData)\n      // }\n\n      var viewportElement = viewportData.elementref.current;\n\n      if (!viewportElement) {\n        console.error('ERROR: viewport element not set in updateCradleContent', cradleProps.scrollerID, viewportData.elementref.current, viewportData);\n        return;\n      }\n\n      var scrollOffset;\n\n      if (cradleProps.orientation == 'vertical') {\n        scrollOffset = viewportElement.scrollTop;\n      } else {\n        scrollOffset = viewportElement.scrollLeft;\n      }\n\n      if (scrollOffset < 0) {\n        // for Safari elastic bounce at top of scroll\n        return;\n      } // ----------------------------[ 1. initialize ]----------------------------\n\n\n      var scrollPositions = scrollManager.scrollPositions; //scrollPositionsRef.current\n\n      var scrollforward;\n\n      if (scrollPositions.current == scrollPositions.previous) {\n        // edge case \n        scrollforward = _this._previousScrollForward;\n      } else {\n        scrollforward = scrollPositions.current > scrollPositions.previous;\n        _this._previousScrollForward = scrollforward;\n      }\n\n      if (scrollforward === undefined) {\n        return; // init call\n      }\n\n      var cradleElements = cradleManager.elements;\n      var cradleContent = _this.content;\n      var cradleConfig = _this.commonProps.cradleConfigRef.current;\n      var itemElements = _this.itemElements;\n      var modelcontentlist = cradleContent.cradleModel;\n      var cradleReferenceIndex = modelcontentlist[0].props.index; // --------------------[ 2. filter intersections list ]-----------------------\n      // filter out inapplicable intersection entries\n      // we're only interested in intersections proximal to the spine\n      // TODO: BUG: for nested config end problem intersections count = 4; should be 0; 12 count for entries\n\n      var intersections = (0, contentfunctions_1.isolateRelevantIntersections)({\n        scrollforward: scrollforward,\n        intersections: entries,\n        cradleContent: cradleContent,\n        cellObserverThreshold: cradleConfig.cellObserverThreshold\n      }); // --------------------------------[ 3. Calculate shifts ]-------------------------------\n\n      var _b = (0, contentfunctions_1.calcContentShifts)({\n        cradleProps: cradleProps,\n        cradleConfig: cradleConfig,\n        cradleElements: cradleElements,\n        cradleContent: cradleContent,\n        viewportElement: viewportElement,\n        itemElements: itemElements,\n        intersections: intersections,\n        scrollforward: scrollforward,\n        viewportData: viewportData\n      }),\n          cradleindex = _b[0],\n          // TODO: BUG: this changed to 20 from 24\n      cradleitemshift = _b[1],\n          // TODO: BUG: for problem cradleitemshift ends up as -4\n      spineReferenceIndex = _b[2],\n          // TODO: BUG: for problem spineReferenceIndex ends up at 100 (one past the end of list)\n      referenceitemshift = _b[3],\n          // TODO: BUG: set to 4\n      spinePosOffset = _b[4],\n          // TODO: BUG: set to 100\n      // TODO: actual content set to 80 (available content), not 76 as it should be\n      cradleActualContentCount = _b[5];\n\n      if (referenceitemshift == 0 && cradleitemshift == 0) return; // ------------------[ 4. calculate head and tail consolidated cradle content changes ]-----------------\n      // both counts set to 0 but with headchnagecount set to -0\n\n      var _c = (0, contentfunctions_1.calcHeadAndTailChanges)({\n        cradleProps: cradleProps,\n        cradleConfig: cradleConfig,\n        cradleContent: cradleContent,\n        cradleshiftcount: cradleitemshift,\n        scrollforward: scrollforward,\n        cradleReferenceIndex: cradleReferenceIndex\n      }),\n          headchangecount = _c[0],\n          tailchangecount = _c[1]; // ----------------------------------[ 5. reconfigure cradle content ]--------------------------\n      // collect modified content\n\n\n      var localContentList,\n          deletedContentItems = []; // both changecounts are 0 (but head = -0) so test should fail\n\n      if (headchangecount || tailchangecount) {\n        // TODO: apparently headchangecount of -0 fails test, should be fixed\n        _a = (0, contentfunctions_1.getUICellShellList)({\n          cradleProps: cradleProps,\n          cradleConfig: cradleConfig,\n          cradleActualContentCount: cradleActualContentCount,\n          localContentList: modelcontentlist,\n          headchangecount: headchangecount,\n          tailchangecount: tailchangecount,\n          cradleReferenceIndex: cradleReferenceIndex,\n          observer: interruptManager.cellIntersect.observer,\n          callbacks: _this.contentCallbacksRef.current,\n          instanceIdCounterRef: _this.instanceIdCounterRef\n        }), localContentList = _a[0], deletedContentItems = _a[1];\n      } else {\n        localContentList = modelcontentlist;\n      }\n\n      (0, contentfunctions_1.deleteAndRerenderPortals)(cradleData.portalManager, deletedContentItems); // ----------------------------------[ 7. allocate cradle content ]--------------------------\n\n      var _d = (0, contentfunctions_1.allocateContentList)({\n        contentlist: localContentList,\n        spineReferenceIndex: spineReferenceIndex\n      }),\n          headcontent = _d[0],\n          tailcontent = _d[1];\n\n      if (viewportData.index == 6 && tailcontent.length == 0) {\n        console.log('in updatecontent ZERO TAIL LENGTH entries', entries);\n        debugger;\n      }\n\n      cradleContent.cradleModel = localContentList;\n      cradleContent.headView = cradleContent.headModel = headcontent;\n      cradleContent.tailView = cradleContent.tailModel = tailcontent; // -------------------------------[ 8. set css changes ]-------------------------\n\n      if (spinePosOffset !== undefined) {\n        if (cradleProps.orientation == 'vertical') {\n          cradleManager.cradleReferenceData.blockScrollPos = viewportElement.scrollTop;\n          cradleManager.cradleReferenceData.blockScrollProperty = 'scrollTop';\n          cradleElements.spineRef.current.style.top = viewportElement.scrollTop + spinePosOffset + 'px';\n          cradleElements.spineRef.current.style.left = 'auto';\n          cradleElements.headRef.current.style.paddingBottom = headcontent.length ? cradleProps.gap + 'px' : 0;\n        } else {\n          cradleManager.cradleReferenceData.blockScrollPos = viewportElement.scrollLeft;\n          cradleManager.cradleReferenceData.blockScrollProperty = 'scrollLeft';\n          cradleElements.spineRef.current.style.top = 'auto';\n          cradleElements.spineRef.current.style.left = viewportElement.scrollLeft + spinePosOffset + 'px';\n          cradleElements.headRef.current.style.paddingRight = headcontent.length ? cradleProps.gap + 'px' : 0;\n        }\n      }\n\n      cradleManager.cradleReferenceData.scrollImpliedItemIndexReference = spineReferenceIndex;\n      cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset = spinePosOffset;\n      cradleManager.cradleReferenceData.nextItemIndexReference = spineReferenceIndex;\n      cradleManager.cradleReferenceData.nextCradlePosOffset = spinePosOffset;\n      stateManager.setCradleState('updatecontent');\n    };\n\n    this.commonProps = commonProps;\n    this.contentCallbacksRef = contentCallbacksRef;\n  }\n\n  return ContentManager;\n}();\n\nexports[\"default\"] = ContentManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0QsV0FBVyxDQUFDLE1BQVosR0FBbUIsV0FBVyxDQUFDLEdBQVosR0FBa0IsSUFBckMsR0FBMEMsQ0FBOUY7QUFFSDtBQUVKOztBQUVELG1CQUFhLENBQUMsbUJBQWQsQ0FBa0MsK0JBQWxDLEdBQW9FLG1CQUFwRTtBQUNBLG1CQUFhLENBQUMsbUJBQWQsQ0FBa0MsNEJBQWxDLEdBQWlFLGNBQWpFO0FBRUEsbUJBQWEsQ0FBQyxtQkFBZCxDQUFrQyxzQkFBbEMsR0FBMkQsbUJBQTNEO0FBQ0EsbUJBQWEsQ0FBQyxtQkFBZCxDQUFrQyxtQkFBbEMsR0FBd0QsY0FBeEQ7QUFFQSxrQkFBWSxDQUFDLGNBQWIsQ0FBNEIsZUFBNUI7QUFFSCxLQWxNRDs7QUF0SkUsU0FBSyxXQUFMLEdBQW1CLFdBQW5CO0FBRUEsU0FBSyxtQkFBTCxHQUEyQixtQkFBM0I7QUFFRjs7QUFzVko7QUFBQyxDQTlWRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRtYW5hZ2VyLnRzeD8yNmEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnRlbnRtYW5hZ2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCB7IFxuICAgIGdldFVJQ2VsbFNoZWxsTGlzdCwgXG4gICAgY2FsY0hlYWRBbmRUYWlsQ2hhbmdlcyxcbiAgICBjYWxjQ29udGVudFNoaWZ0cyxcbiAgICBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyxcbiAgICBpc29sYXRlUmVsZXZhbnRJbnRlcnNlY3Rpb25zLFxuICAgIGFsbG9jYXRlQ29udGVudExpc3QsXG4gICAgZGVsZXRlQW5kUmVyZW5kZXJQb3J0YWxzLFxuXG59IGZyb20gJy4vY29udGVudGZ1bmN0aW9ucydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGVudE1hbmFnZXIge1xuXG4gICBjb25zdHJ1Y3Rvcihjb21tb25Qcm9wcywgY29udGVudENhbGxiYWNrc1JlZikge1xuXG4gICAgICB0aGlzLmNvbW1vblByb3BzID0gY29tbW9uUHJvcHNcblxuICAgICAgdGhpcy5jb250ZW50Q2FsbGJhY2tzUmVmID0gY29udGVudENhbGxiYWNrc1JlZlxuXG4gICB9XG5cbiAgIHB1YmxpYyBjb250ZW50ID0ge1xuXG4gICAgICBjcmFkbGVNb2RlbDogbnVsbCxcbiAgICAgIGhlYWRNb2RlbDogbnVsbCxcbiAgICAgIHRhaWxNb2RlbDogbnVsbCxcbiAgICAgIGhlYWRWaWV3OiBbXSxcbiAgICAgIHRhaWxWaWV3OiBbXSxcblxuICAgIH1cblxuICAgIHB1YmxpYyBpdGVtRWxlbWVudHMgPSBuZXcgTWFwKClcblxuICAgIHByaXZhdGUgY29tbW9uUHJvcHNcblxuICAgIHByaXZhdGUgaW5zdGFuY2VJZENvdW50ZXJSZWYgPSB7XG4gICAgICAgY3VycmVudDowXG4gICAgfVxuICAgIHByaXZhdGUgaW5zdGFuY2VJZE1hcCA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBfcHJldmlvdXNTY3JvbGxGb3J3YXJkID0gdW5kZWZpbmVkXG5cbiAgICBwcml2YXRlIGNvbnRlbnRDYWxsYmFja3NSZWZcblxuICAgIC8vIFR3byBwdWJsaWMgbWV0aG9kcyAtIHNldENyYWRsZUNvbnRlbnQgYW5kIHVwZGF0ZUNyYWRsZUNvbnRlbnRcblxuICAgIC8vIHJlc2V0IGNyYWRsZSwgaW5jbHVkaW5nIGFsbG9jYXRpb24gYmV0d2VlbiBoZWFkIGFuZCB0YWlsIHBhcnRzIG9mIHRoZSBjcmFkbGVcbiAgICAvLyBjYWxsZWQgb25seSBmcm9tIGNyYWRsZSBwcmVwYXJlcmVuZGVyIGV2ZW50XG4gICAgcHVibGljIHNldENyYWRsZUNvbnRlbnQgPSAoY3JhZGxlU3RhdGUpID0+IHsgXG5cbiAgICAgICAgbGV0IHZpZXdwb3J0RGF0YSA9IHRoaXMuY29tbW9uUHJvcHMudmlld3BvcnRkYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IGNyYWRsZVByb3BzID0gdGhpcy5jb21tb25Qcm9wcy5jcmFkbGVQcm9wc1JlZi5jdXJyZW50XG4gICAgICAgIGxldCBjcmFkbGVDb25maWcgPSB0aGlzLmNvbW1vblByb3BzLmNyYWRsZUNvbmZpZ1JlZi5jdXJyZW50XG4gICAgICAgIGxldCBzY3JvbGxNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LnNjcm9sbFxuICAgICAgICBsZXQgY3JhZGxlTWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5jcmFkbGVcbiAgICAgICAgbGV0IHN0YXRlTWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5zdGF0ZVxuICAgICAgICBsZXQgc2VydmljZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc2VydmljZVxuICAgICAgICBsZXQgaW50ZXJydXB0TWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRzXG4gICAgICAgIGxldCBjcmFkbGVEYXRhID0gdGhpcy5jb21tb25Qcm9wcy5jcmFkbGVEYXRhUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBpZiAodmlld3BvcnREYXRhLmluZGV4ID09IDYpIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdTRVRUSU5HIGNvbnRlbnQgLSBjcmFkbGVTdGF0ZSwgY3JhZGxlRGF0YSBpbiBzZXRDcmFkbGVDb250ZW50JyxjcmFkbGVTdGF0ZSwgY3JhZGxlRGF0YSlcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGxldCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IHZpc2libGV0YXJnZXRpbmRleG9mZnNldCA9IGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5uZXh0SXRlbUluZGV4UmVmZXJlbmNlXG4gICAgICAgIGxldCB2aXNpYmxldGFyZ2V0c2Nyb2xsb2Zmc2V0ID0gY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXRcblxuICAgICAgICBsZXQge2NlbGxIZWlnaHQsIGNlbGxXaWR0aCwgb3JpZW50YXRpb24sIHJ1bndheWNvdW50LCBnYXAsIHBhZGRpbmcsIGxpc3RzaXplfSA9IGNyYWRsZVByb3BzXG5cbiAgICAgICAgbGV0IHsgY3JhZGxlUm93Y291bnQsXG4gICAgICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICAgICAgdmlld3BvcnRSb3djb3VudCB9ID0gY3JhZGxlQ29uZmlnXG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdkb3JlcG9zaXRpb24nKSB7XG5cbiAgICAgICAgICAgIHZpc2libGV0YXJnZXRzY3JvbGxvZmZzZXQgPSAodmlzaWJsZXRhcmdldGluZGV4b2Zmc2V0ID09IDApP3BhZGRpbmc6Z2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb2NhbENvbnRlbnRMaXN0ID0gW11cbiAgICAgICAgbGV0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICBsZXQge2NyYWRsZVJlZmVyZW5jZUluZGV4LCByZWZlcmVuY2VvZmZzZXQsIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCwgc2Nyb2xsYmxvY2tPZmZzZXQsIHNwaW5lUG9zT2Zmc2V0LCBzcGluZUFkanVzdG1lbnR9ID0gXG4gICAgICAgICAgICBnZXRDb250ZW50TGlzdFJlcXVpcmVtZW50cyh7XG4gICAgICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29uZmlnLFxuICAgICAgICAgICAgICAgIHZpc2libGV0YXJnZXRpbmRleG9mZnNldCxcbiAgICAgICAgICAgICAgICB0YXJnZXRWaWV3cG9ydE9mZnNldDp2aXNpYmxldGFyZ2V0c2Nyb2xsb2Zmc2V0LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDp2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIC8vIHJldHVybnMgY29udGVudCBjb25zdHJhaW5lZCBieSBjcmFkbGVSb3djb3VudFxuICAgICAgICBsZXQgW2NoaWxkbGlzdCxkZWxldGVkaXRlbXNdID0gZ2V0VUlDZWxsU2hlbGxMaXN0KHtcblxuICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgICAgICBjcmFkbGVBY3R1YWxDb250ZW50Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGhlYWRjaGFuZ2Vjb3VudDowLFxuICAgICAgICAgICAgdGFpbGNoYW5nZWNvdW50OmNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCxcbiAgICAgICAgICAgIGxvY2FsQ29udGVudExpc3QsXG4gICAgICAgICAgICBjYWxsYmFja3M6dGhpcy5jb250ZW50Q2FsbGJhY2tzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBvYnNlcnZlcjogaW50ZXJydXB0TWFuYWdlci5jZWxsSW50ZXJzZWN0Lm9ic2VydmVyLFxuICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgfSlcblxuICAgICAgICBkZWxldGVBbmRSZXJlbmRlclBvcnRhbHMoY3JhZGxlRGF0YS5wb3J0YWxNYW5hZ2VyLCBkZWxldGVkaXRlbXMpXG5cbiAgICAgICAgbGV0IFtoZWFkY29udGVudGxpc3QsIHRhaWxjb250ZW50bGlzdF0gPSBhbGxvY2F0ZUNvbnRlbnRMaXN0KHtcblxuICAgICAgICAgICAgY29udGVudGxpc3Q6Y2hpbGRsaXN0LFxuICAgICAgICAgICAgc3BpbmVSZWZlcmVuY2VJbmRleDpyZWZlcmVuY2VvZmZzZXQsXG4gICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGhlYWRjb250ZW50bGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc3BpbmVQb3NPZmZzZXQgPSBwYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsID0gY2hpbGRsaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsID0gaGVhZGNvbnRlbnRsaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsID0gdGFpbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLnNjcm9sbEltcGxpZWRJdGVtSW5kZXhSZWZlcmVuY2UgPSByZWZlcmVuY2VvZmZzZXRcbiAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLnNjcm9sbEltcGxpZWRDcmFkbGVQb3NPZmZzZXQgPSBzcGluZVBvc09mZnNldFxuXG4gICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5uZXh0SXRlbUluZGV4UmVmZXJlbmNlID0gcmVmZXJlbmNlb2Zmc2V0XG4gICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5uZXh0Q3JhZGxlUG9zT2Zmc2V0ID0gc3BpbmVQb3NPZmZzZXRcblxuICAgICAgICBpZiAoc2VydmljZU1hbmFnZXIuc2VydmljZUNhbGxzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2tSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBsZXQgY3N0YXRlID0gY3JhZGxlU3RhdGVcbiAgICAgICAgICAgIGlmIChjc3RhdGUgPT0gJ3NldHJlbG9hZCcpIGNzdGF0ZSA9ICdyZWxvYWQnXG4gICAgICAgICAgICBzZXJ2aWNlTWFuYWdlci5zZXJ2aWNlQ2FsbHMucmVmZXJlbmNlSW5kZXhDYWxsYmFja1JlZi5jdXJyZW50KFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRJdGVtSW5kZXhSZWZlcmVuY2UsJ3NldENyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlTWFuYWdlci5lbGVtZW50cyAvL2NyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcblxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQb3MgPSBzY3JvbGxibG9ja09mZnNldCAtIHNwaW5lUG9zT2Zmc2V0XG4gICAgICAgIFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eSA9ICdzY3JvbGxUb3AnXG5cbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gKHNjcm9sbGJsb2NrT2Zmc2V0ICsgc3BpbmVBZGp1c3RtZW50KSArICdweCdcbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9ICdhdXRvJ1xuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSBoZWFkY29udGVudGxpc3QubGVuZ3RoP2NyYWRsZVByb3BzLmdhcCArICdweCc6MFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID0gJ3Njcm9sbExlZnQnXG5cbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZVJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSAoc2Nyb2xsYmxvY2tPZmZzZXQgKyBzcGluZUFkanVzdG1lbnQpICsgJ3B4J1xuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IGhlYWRjb250ZW50bGlzdC5sZW5ndGg/Y3JhZGxlUHJvcHMuZ2FwICsgJ3B4JzowXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdXBkYXRlQ3JhZGxlQ29udGVudCA9IChlbnRyaWVzLCBzb3VyY2UgPSAnbm90aWZpY2F0aW9ucycpID0+IHtcblxuICAgICAgICBsZXQgdmlld3BvcnREYXRhID0gdGhpcy5jb21tb25Qcm9wcy52aWV3cG9ydGRhdGFSZWYuY3VycmVudFxuICAgICAgICBsZXQgY3JhZGxlUHJvcHMgPSB0aGlzLmNvbW1vblByb3BzLmNyYWRsZVByb3BzUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IHNjcm9sbE1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc2Nyb2xsXG4gICAgICAgIGxldCBjcmFkbGVNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNyYWRsZVxuICAgICAgICBsZXQgc3RhdGVNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LnN0YXRlXG4gICAgICAgIGxldCBpbnRlcnJ1cHRNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmludGVycnVwdHNcblxuICAgICAgICBsZXQgY3JhZGxlRGF0YSA9IHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlRGF0YVJlZi5jdXJyZW50XG5cbiAgICAgICAgLy8gaWYgKHZpZXdwb3J0RGF0YS5pbmRleCA9PSA2KSB7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnVVBEQVRJTkcgY29udGVudCAtIHNvdXJjZSwgY3JhZGxlRGF0YSBpbiB1cGRhdGVDcmFkbGVDb250ZW50Jyxzb3VyY2UsIGNyYWRsZURhdGEpXG4gICAgICAgIC8vIH1cblxuICAgICAgICBsZXQgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFxuICAgICAgICBpZiAoIXZpZXdwb3J0RWxlbWVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRVJST1I6IHZpZXdwb3J0IGVsZW1lbnQgbm90IHNldCBpbiB1cGRhdGVDcmFkbGVDb250ZW50JyxcbiAgICAgICAgICAgICAgICBjcmFkbGVQcm9wcy5zY3JvbGxlcklELCB2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50LHZpZXdwb3J0RGF0YSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHNjcm9sbE9mZnNldFxuICAgICAgICBpZiAoY3JhZGxlUHJvcHMub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgfVxuICAgICAgICBpZiAoIHNjcm9sbE9mZnNldCA8IDApIHsgLy8gZm9yIFNhZmFyaSBlbGFzdGljIGJvdW5jZSBhdCB0b3Agb2Ygc2Nyb2xsXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAxLiBpbml0aWFsaXplIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgbGV0IHNjcm9sbFBvc2l0aW9ucyA9IHNjcm9sbE1hbmFnZXIuc2Nyb2xsUG9zaXRpb25zIC8vc2Nyb2xsUG9zaXRpb25zUmVmLmN1cnJlbnRcblxuICAgICAgICBsZXQgc2Nyb2xsZm9yd2FyZFxuICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb25zLmN1cnJlbnQgPT0gc2Nyb2xsUG9zaXRpb25zLnByZXZpb3VzKSB7IC8vIGVkZ2UgY2FzZSBcblxuICAgICAgICAgICAgc2Nyb2xsZm9yd2FyZCA9IHRoaXMuX3ByZXZpb3VzU2Nyb2xsRm9yd2FyZFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGZvcndhcmQgPSBzY3JvbGxQb3NpdGlvbnMuY3VycmVudCA+IHNjcm9sbFBvc2l0aW9ucy5wcmV2aW91c1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNTY3JvbGxGb3J3YXJkID0gc2Nyb2xsZm9yd2FyZFxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsZm9yd2FyZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gLy8gaW5pdCBjYWxsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3JhZGxlRWxlbWVudHMgPSBjcmFkbGVNYW5hZ2VyLmVsZW1lbnRzXG4gICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gdGhpcy5jb250ZW50XG4gICAgICAgIGxldCBjcmFkbGVDb25maWcgPSB0aGlzLmNvbW1vblByb3BzLmNyYWRsZUNvbmZpZ1JlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IGl0ZW1FbGVtZW50cyA9IHRoaXMuaXRlbUVsZW1lbnRzXG5cbiAgICAgICAgbGV0IG1vZGVsY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsXG5cbiAgICAgICAgbGV0IGNyYWRsZVJlZmVyZW5jZUluZGV4ID0gbW9kZWxjb250ZW50bGlzdFswXS5wcm9wcy5pbmRleFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBmaWx0ZXIgaW50ZXJzZWN0aW9ucyBsaXN0IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGZpbHRlciBvdXQgaW5hcHBsaWNhYmxlIGludGVyc2VjdGlvbiBlbnRyaWVzXG4gICAgICAgIC8vIHdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiBpbnRlcnNlY3Rpb25zIHByb3hpbWFsIHRvIHRoZSBzcGluZVxuICAgICAgICAvLyBUT0RPOiBCVUc6IGZvciBuZXN0ZWQgY29uZmlnIGVuZCBwcm9ibGVtIGludGVyc2VjdGlvbnMgY291bnQgPSA0OyBzaG91bGQgYmUgMDsgMTIgY291bnQgZm9yIGVudHJpZXNcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBpc29sYXRlUmVsZXZhbnRJbnRlcnNlY3Rpb25zKHtcblxuICAgICAgICAgICAgc2Nyb2xsZm9yd2FyZCxcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnM6ZW50cmllcyxcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgICAgICAgICBjZWxsT2JzZXJ2ZXJUaHJlc2hvbGQ6Y3JhZGxlQ29uZmlnLmNlbGxPYnNlcnZlclRocmVzaG9sZCxcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAzLiBDYWxjdWxhdGUgc2hpZnRzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgW2NyYWRsZWluZGV4LCAvLyBUT0RPOiBCVUc6IHRoaXMgY2hhbmdlZCB0byAyMCBmcm9tIDI0XG4gICAgICAgICAgICBjcmFkbGVpdGVtc2hpZnQsIC8vIFRPRE86IEJVRzogZm9yIHByb2JsZW0gY3JhZGxlaXRlbXNoaWZ0IGVuZHMgdXAgYXMgLTRcbiAgICAgICAgICAgIHNwaW5lUmVmZXJlbmNlSW5kZXgsIC8vIFRPRE86IEJVRzogZm9yIHByb2JsZW0gc3BpbmVSZWZlcmVuY2VJbmRleCBlbmRzIHVwIGF0IDEwMCAob25lIHBhc3QgdGhlIGVuZCBvZiBsaXN0KVxuICAgICAgICAgICAgcmVmZXJlbmNlaXRlbXNoaWZ0LCAvLyBUT0RPOiBCVUc6IHNldCB0byA0XG4gICAgICAgICAgICBzcGluZVBvc09mZnNldCwgLy8gVE9ETzogQlVHOiBzZXQgdG8gMTAwXG4gICAgICAgICAgICAvLyBUT0RPOiBhY3R1YWwgY29udGVudCBzZXQgdG8gODAgKGF2YWlsYWJsZSBjb250ZW50KSwgbm90IDc2IGFzIGl0IHNob3VsZCBiZVxuICAgICAgICAgICAgY3JhZGxlQWN0dWFsQ29udGVudENvdW50XSA9IGNhbGNDb250ZW50U2hpZnRzKHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVByb3BzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbmZpZyxcbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCxcbiAgICAgICAgICAgICAgICBpdGVtRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBzY3JvbGxmb3J3YXJkLFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGF0YSxcblxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICgocmVmZXJlbmNlaXRlbXNoaWZ0ID09IDAgJiYgY3JhZGxlaXRlbXNoaWZ0ID09IDApKSByZXR1cm5cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1bIDQuIGNhbGN1bGF0ZSBoZWFkIGFuZCB0YWlsIGNvbnNvbGlkYXRlZCBjcmFkbGUgY29udGVudCBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGJvdGggY291bnRzIHNldCB0byAwIGJ1dCB3aXRoIGhlYWRjaG5hZ2Vjb3VudCBzZXQgdG8gLTBcbiAgICAgICAgbGV0IFtoZWFkY2hhbmdlY291bnQsdGFpbGNoYW5nZWNvdW50XSA9IGNhbGNIZWFkQW5kVGFpbENoYW5nZXMoeyBcblxuICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICBjcmFkbGVDb25maWcsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgY3JhZGxlc2hpZnRjb3VudDpjcmFkbGVpdGVtc2hpZnQsXG4gICAgICAgICAgICBzY3JvbGxmb3J3YXJkLFxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiByZWNvbmZpZ3VyZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjb2xsZWN0IG1vZGlmaWVkIGNvbnRlbnRcbiAgICAgICAgbGV0IGxvY2FsQ29udGVudExpc3QsIGRlbGV0ZWRDb250ZW50SXRlbXMgPSBbXVxuXG4gICAgICAgIC8vIGJvdGggY2hhbmdlY291bnRzIGFyZSAwIChidXQgaGVhZCA9IC0wKSBzbyB0ZXN0IHNob3VsZCBmYWlsXG4gICAgICAgIGlmIChoZWFkY2hhbmdlY291bnQgfHwgdGFpbGNoYW5nZWNvdW50KSB7IC8vIFRPRE86IGFwcGFyZW50bHkgaGVhZGNoYW5nZWNvdW50IG9mIC0wIGZhaWxzIHRlc3QsIHNob3VsZCBiZSBmaXhlZFxuXG4gICAgICAgICAgICBbbG9jYWxDb250ZW50TGlzdCxkZWxldGVkQ29udGVudEl0ZW1zXSA9IGdldFVJQ2VsbFNoZWxsTGlzdCh7XG4gICAgICAgICAgICAgICAgY3JhZGxlUHJvcHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29uZmlnLFxuICAgICAgICAgICAgICAgIGNyYWRsZUFjdHVhbENvbnRlbnRDb3VudCwgLy8gVE9ETzogcHJvYmxlbSFcbiAgICAgICAgICAgICAgICBsb2NhbENvbnRlbnRMaXN0Om1vZGVsY29udGVudGxpc3QsXG4gICAgICAgICAgICAgICAgaGVhZGNoYW5nZWNvdW50LFxuICAgICAgICAgICAgICAgIHRhaWxjaGFuZ2Vjb3VudCxcbiAgICAgICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgICAgICBvYnNlcnZlcjogaW50ZXJydXB0TWFuYWdlci5jZWxsSW50ZXJzZWN0Lm9ic2VydmVyLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrczp0aGlzLmNvbnRlbnRDYWxsYmFja3NSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZjp0aGlzLmluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbG9jYWxDb250ZW50TGlzdCA9IG1vZGVsY29udGVudGxpc3RcblxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlQW5kUmVyZW5kZXJQb3J0YWxzKGNyYWRsZURhdGEucG9ydGFsTWFuYWdlciwgZGVsZXRlZENvbnRlbnRJdGVtcylcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA3LiBhbGxvY2F0ZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBsZXQgW2hlYWRjb250ZW50LCB0YWlsY29udGVudF0gPSBhbGxvY2F0ZUNvbnRlbnRMaXN0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRsaXN0OmxvY2FsQ29udGVudExpc3QsXG4gICAgICAgICAgICAgICAgc3BpbmVSZWZlcmVuY2VJbmRleCwgLy8gVE9ETzogQlVHOiBzZXQgdG8gMTAwIGZvciBwcm9ibGVtXG4gICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICBpZiAoKHZpZXdwb3J0RGF0YS5pbmRleCA9PSA2KSAmJiAodGFpbGNvbnRlbnQubGVuZ3RoID09IDApKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW4gdXBkYXRlY29udGVudCBaRVJPIFRBSUwgTEVOR1RIIGVudHJpZXMnLCBlbnRyaWVzKSBcbiAgICAgICAgICAgIGRlYnVnZ2VyICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWwgPSBsb2NhbENvbnRlbnRMaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZFZpZXcgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbCA9IGhlYWRjb250ZW50XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbFZpZXcgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IHRhaWxjb250ZW50XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgOC4gc2V0IGNzcyBjaGFuZ2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgaWYgKHNwaW5lUG9zT2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNyYWRsZVByb3BzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eSA9ICdzY3JvbGxUb3AnXG4gICAgICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuc3BpbmVSZWYuY3VycmVudC5zdHlsZS50b3AgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wICsgc3BpbmVQb3NPZmZzZXQgKyAncHgnXG4gICAgICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuc3BpbmVSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSBoZWFkY29udGVudC5sZW5ndGg/Y3JhZGxlUHJvcHMuZ2FwICsgJ3B4JzowXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID0gJ3Njcm9sbExlZnQnXG4gICAgICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMuc3BpbmVSZWYuY3VycmVudC5zdHlsZS50b3AgPSAnYXV0bydcbiAgICAgICAgICAgICAgICBjcmFkbGVFbGVtZW50cy5zcGluZVJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCArIHNwaW5lUG9zT2Zmc2V0ICsgJ3B4J1xuICAgICAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBoZWFkY29udGVudC5sZW5ndGg/Y3JhZGxlUHJvcHMuZ2FwICsgJ3B4JzowXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLnNjcm9sbEltcGxpZWRJdGVtSW5kZXhSZWZlcmVuY2UgPSBzcGluZVJlZmVyZW5jZUluZGV4XG4gICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkQ3JhZGxlUG9zT2Zmc2V0ID0gc3BpbmVQb3NPZmZzZXRcblxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEubmV4dEl0ZW1JbmRleFJlZmVyZW5jZSA9IHNwaW5lUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXQgPSBzcGluZVBvc09mZnNldFxuXG4gICAgICAgIHN0YXRlTWFuYWdlci5zZXRDcmFkbGVTdGF0ZSgndXBkYXRlY29udGVudCcpXG5cbiAgICB9XG5cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/contentmanager.tsx\n");

/***/ }),

/***/ "./src/cradle/cradlemanager.tsx":
/*!**************************************!*\
  !*** ./src/cradle/cradlemanager.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // cradlemanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar CradleManager =\n/** @class */\nfunction () {\n  function CradleManager(commonProps, cradleElements) {\n    /*\n       ItemIndexReference is the sequential index of first item of the cradle tail\n       CradlePosOffset is the pixel offset of the cradle spine from the edge of the viewport\n       blockScrollPos is the scrollPos of the scrollblock in relation to the viewport\n       progression is scroll -> next\n    */\n    this.cradleReferenceData = {\n      scrollImpliedItemIndexReference: null,\n      scrollImpliedCradlePosOffset: null,\n      nextItemIndexReference: null,\n      nextCradlePosOffset: null,\n      // to set scrollPos after doreposition, or\n      // to restore scrollTop or scrollLeft after clobbered by DOM\n      blockScrollPos: null,\n      blockScrollProperty: null\n    };\n    this.elements = {\n      spineRef: null,\n      headRef: null,\n      tailRef: null\n    };\n    this.commonProps = commonProps;\n    var elements = this.elements;\n    elements.spineRef = cradleElements.spine;\n    elements.headRef = cradleElements.head;\n    elements.tailRef = cradleElements.tail;\n    var _a = this.commonProps.cradlePropsRef.current,\n        defaultVisibleIndex = _a.defaultVisibleIndex,\n        listsize = _a.listsize,\n        padding = _a.padding; // progression of references: scroll->next\n\n    this.cradleReferenceData.scrollImpliedItemIndexReference = Math.min(defaultVisibleIndex, listsize - 1) || 0;\n    this.cradleReferenceData.scrollImpliedCradlePosOffset = padding;\n    this.cradleReferenceData.nextItemIndexReference = this.cradleReferenceData.scrollImpliedItemIndexReference;\n    this.cradleReferenceData.nextCradlePosOffset = this.cradleReferenceData.scrollImpliedCradlePosOffset;\n  }\n\n  return CradleManager;\n}();\n\nexports[\"default\"] = CradleManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NyYWRsZW1hbmFnZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7OztBQUVBO0FBQUE7QUFBQTtBQUVJLHlCQUFZLFdBQVosRUFBeUIsY0FBekIsRUFBdUM7QUFxQnhDOzs7OztBQUtFO0FBQ0YsK0JBQXNCO0FBRW5CLHFDQUErQixFQUFDLElBRmI7QUFHbkIsa0NBQTRCLEVBQUMsSUFIVjtBQUtuQiw0QkFBc0IsRUFBQyxJQUxKO0FBTW5CLHlCQUFtQixFQUFDLElBTkQ7QUFRbkI7QUFDQTtBQUNBLG9CQUFjLEVBQUMsSUFWSTtBQVduQix5QkFBbUIsRUFBQztBQVhELEtBQXRCO0FBZUEsb0JBQVc7QUFDUixjQUFRLEVBQUMsSUFERDtBQUVSLGFBQU8sRUFBQyxJQUZBO0FBR1IsYUFBTyxFQUFDO0FBSEEsS0FBWDtBQXhDSSxTQUFLLFdBQUwsR0FBbUIsV0FBbkI7QUFFQSxRQUFJLFFBQVEsR0FBRyxLQUFLLFFBQXBCO0FBQ0EsWUFBUSxDQUFDLFFBQVQsR0FBb0IsY0FBYyxDQUFDLEtBQW5DO0FBQ0EsWUFBUSxDQUFDLE9BQVQsR0FBbUIsY0FBYyxDQUFDLElBQWxDO0FBQ0EsWUFBUSxDQUFDLE9BQVQsR0FBbUIsY0FBYyxDQUFDLElBQWxDO0FBRUksYUFBMkMsS0FBSyxXQUFMLENBQWlCLGNBQWpCLENBQWdDLE9BQTNFO0FBQUEsUUFBQyxtQkFBbUIseUJBQXBCO0FBQUEsUUFBc0IsUUFBUSxjQUE5QjtBQUFBLFFBQWdDLE9BQU8sYUFBdkMsQ0FUZ0MsQ0FXcEM7O0FBQ0EsU0FBSyxtQkFBTCxDQUF5QiwrQkFBekIsR0FBNEQsSUFBSSxDQUFDLEdBQUwsQ0FBUyxtQkFBVCxFQUE4QixRQUFRLEdBQUcsQ0FBekMsS0FBZ0QsQ0FBNUc7QUFDQSxTQUFLLG1CQUFMLENBQXlCLDRCQUF6QixHQUF3RCxPQUF4RDtBQUNBLFNBQUssbUJBQUwsQ0FBeUIsc0JBQXpCLEdBQWtELEtBQUssbUJBQUwsQ0FBeUIsK0JBQTNFO0FBQ0EsU0FBSyxtQkFBTCxDQUF5QixtQkFBekIsR0FBK0MsS0FBSyxtQkFBTCxDQUF5Qiw0QkFBeEU7QUFFRjs7QUErQkw7QUFBQyxDQWxERCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NyYWRsZW1hbmFnZXIudHN4Pzg1MGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY3JhZGxlbWFuYWdlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmFkbGVNYW5hZ2VyIHsgXG5cbiAgICBjb25zdHJ1Y3Rvcihjb21tb25Qcm9wcywgY3JhZGxlRWxlbWVudHMpIHtcblxuICAgICAgIHRoaXMuY29tbW9uUHJvcHMgPSBjb21tb25Qcm9wc1xuXG4gICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c1xuICAgICAgIGVsZW1lbnRzLnNwaW5lUmVmID0gY3JhZGxlRWxlbWVudHMuc3BpbmVcbiAgICAgICBlbGVtZW50cy5oZWFkUmVmID0gY3JhZGxlRWxlbWVudHMuaGVhZFxuICAgICAgIGVsZW1lbnRzLnRhaWxSZWYgPSBjcmFkbGVFbGVtZW50cy50YWlsXG5cbiAgICAgICBsZXQge2RlZmF1bHRWaXNpYmxlSW5kZXgsIGxpc3RzaXplLCBwYWRkaW5nfSA9IHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlUHJvcHNSZWYuY3VycmVudFxuXG4gICAgICAgLy8gcHJvZ3Jlc3Npb24gb2YgcmVmZXJlbmNlczogc2Nyb2xsLT5uZXh0XG4gICAgICAgdGhpcy5jcmFkbGVSZWZlcmVuY2VEYXRhLnNjcm9sbEltcGxpZWRJdGVtSW5kZXhSZWZlcmVuY2UgPSAoTWF0aC5taW4oZGVmYXVsdFZpc2libGVJbmRleCwobGlzdHNpemUgLSAxKSkgfHwgMClcbiAgICAgICB0aGlzLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZENyYWRsZVBvc09mZnNldCA9IHBhZGRpbmdcbiAgICAgICB0aGlzLmNyYWRsZVJlZmVyZW5jZURhdGEubmV4dEl0ZW1JbmRleFJlZmVyZW5jZSA9IHRoaXMuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlXG4gICAgICAgdGhpcy5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXQgPSB0aGlzLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZENyYWRsZVBvc09mZnNldFxuXG4gICAgfVxuXG4gICAgY29tbW9uUHJvcHMgLy8gc3RhbmRhcmQgZm9yIG1hbmFnZXJzLCBidXQgbm90IHVzZWQgaGVyZSB5ZXRcblxuICAgLyogXG4gICAgICBJdGVtSW5kZXhSZWZlcmVuY2UgaXMgdGhlIHNlcXVlbnRpYWwgaW5kZXggb2YgZmlyc3QgaXRlbSBvZiB0aGUgY3JhZGxlIHRhaWxcbiAgICAgIENyYWRsZVBvc09mZnNldCBpcyB0aGUgcGl4ZWwgb2Zmc2V0IG9mIHRoZSBjcmFkbGUgc3BpbmUgZnJvbSB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnRcbiAgICAgIGJsb2NrU2Nyb2xsUG9zIGlzIHRoZSBzY3JvbGxQb3Mgb2YgdGhlIHNjcm9sbGJsb2NrIGluIHJlbGF0aW9uIHRvIHRoZSB2aWV3cG9ydFxuICAgICAgcHJvZ3Jlc3Npb24gaXMgc2Nyb2xsIC0+IG5leHRcbiAgICovXG4gICBjcmFkbGVSZWZlcmVuY2VEYXRhID0ge1xuXG4gICAgICBzY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlOm51bGwsXG4gICAgICBzY3JvbGxJbXBsaWVkQ3JhZGxlUG9zT2Zmc2V0Om51bGwsXG5cbiAgICAgIG5leHRJdGVtSW5kZXhSZWZlcmVuY2U6bnVsbCxcbiAgICAgIG5leHRDcmFkbGVQb3NPZmZzZXQ6bnVsbCxcblxuICAgICAgLy8gdG8gc2V0IHNjcm9sbFBvcyBhZnRlciBkb3JlcG9zaXRpb24sIG9yXG4gICAgICAvLyB0byByZXN0b3JlIHNjcm9sbFRvcCBvciBzY3JvbGxMZWZ0IGFmdGVyIGNsb2JiZXJlZCBieSBET01cbiAgICAgIGJsb2NrU2Nyb2xsUG9zOm51bGwsIFxuICAgICAgYmxvY2tTY3JvbGxQcm9wZXJ0eTpudWxsLFxuXG4gICB9XG5cbiAgIGVsZW1lbnRzID0ge1xuICAgICAgc3BpbmVSZWY6bnVsbCwgXG4gICAgICBoZWFkUmVmOm51bGwsIFxuICAgICAgdGFpbFJlZjpudWxsXG4gICB9XG5cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/cradlemanager.tsx\n");

/***/ }),

/***/ "./src/cradle/interruptmanager.tsx":
/*!*****************************************!*\
  !*** ./src/cradle/interruptmanager.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(" // wingsmanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar ResizeObserverClass = window['ResizeObserver'] || resize_observer_1.ResizeObserver;\n\nvar InterruptManager =\n/** @class */\nfunction () {\n  function InterruptManager(commonProps) {\n    var _this = this;\n\n    this.isTailCradleInView = false;\n    this.isHeadCradleInView = false; // TODO: stub\n\n    this.cradleresizeobservercallback = function (entries) {\n      if (_this.signals.pauseCradleResizeObserver) return;\n    };\n\n    this.cradleIntersectionObserverCallback = function (entries) {\n      var signals = _this.signals;\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var contentManager = _this.commonProps.managersRef.current.content;\n\n      if (signals.pauseCradleIntersectionObserver) {\n        console.log('returning from intersectionobserver for PAUSE');\n        return;\n      }\n\n      for (var i = 0; i < entries.length; i++) {\n        var entry = entries[i];\n\n        if (entry.target.dataset.type == 'head') {\n          _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        } else {\n          _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n          ;\n        }\n      }\n\n      _this.states.isCradleInView = _this.isHeadCradleInView || _this.isTailCradleInView;\n      var viewportData = _this.commonProps.viewportdataRef.current; // if (viewportData.index == 6) {\n      //     console.log('new isCradleInView from intersection interrupt',this.states.isCradleInView)\n      // }\n\n      if (!_this.states.isCradleInView) // start reposition if no other interrupts are underway\n        {\n          var cradleState = stateManager.cradleStateRef.current;\n\n          if (!viewportData.isResizing && !(cradleState == 'resized') && !(cradleState == 'repositioningA') && !(cradleState == 'repositioningB') && !(cradleState == 'finishreposition') && !(cradleState == 'updatereferences') && !(cradleState == 'doreposition') && !(cradleState == 'pivot')) {\n            var element = viewportData.elementref.current;\n\n            if (!element) {\n              console.log('viewport element not set in cradleIntersectionObserverCallback', _this.commonProps.cradlePropsRef.current.scrollerID, viewportData);\n              return;\n            }\n\n            var rect = element.getBoundingClientRect();\n            var top_1 = rect.top,\n                right = rect.right,\n                bottom = rect.bottom,\n                left = rect.left;\n            var width = right - left,\n                height = bottom - top_1;\n            viewportData.viewportDimensions = {\n              top: top_1,\n              right: right,\n              bottom: bottom,\n              left: left,\n              width: width,\n              height: height\n            }; // update for scrolltracker\n\n            signals.pauseCellObserver = true; // pauseCradleIntersectionObserverRef.current = true\n\n            var cradleContent = contentManager.content;\n            cradleContent.headModel = [];\n            cradleContent.tailModel = [];\n            cradleContent.headView = [];\n            cradleContent.tailView = [];\n            stateManager.setCradleState('startreposition');\n          }\n        }\n    }; // the async callback from IntersectionObserver.\n\n\n    this.cellintersectionobservercallback = function (entries) {\n      var testrootbounds = entries[0].rootBounds;\n\n      if (testrootbounds.width == 0 && testrootbounds.height == 0) {\n        // reparenting\n        return;\n      }\n\n      var viewportData = _this.commonProps.viewportdataRef.current; // if (viewportData.index == 6) {\n      //         console.log('entries for ', viewportData.index, entries)\n      // }\n\n      var contentManager = _this.commonProps.managersRef.current.content;\n      var stateManager = _this.commonProps.managersRef.current.state; // TODO: moved this above initialization; no apparent difference to bug\n\n      if (_this.signals.pauseCellObserver) {\n        return;\n      }\n\n      var movedentries = [];\n\n      for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n        var entry = entries_1[_i];\n\n        if (entry.target.dataset.initialized) {\n          movedentries.push(entry);\n        } else {\n          entry.target.dataset.initialized = true;\n        }\n      } // if (viewportData.index == 6) {\n      //         console.log('movedentries for ', viewportData.index, movedentries)\n      // }\n\n\n      stateManager.isMountedRef.current && contentManager.updateCradleContent(movedentries, 'cellObserver');\n    };\n\n    this.cradleResize = {\n      observer: null,\n      callback: this.cradleresizeobservercallback,\n      create: function create() {\n        _this.cradleResize.observer = new ResizeObserverClass(_this.cradleResize.callback);\n        return _this.cradleResize.observer;\n      }\n    };\n    this.cradleIntersect = {\n      observer: null,\n      callback: this.cradleIntersectionObserverCallback,\n      create: function create() {\n        var viewportData = _this.commonProps.viewportdataRef.current;\n        _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n          root: viewportData.elementref.current,\n          threshold: 0\n        });\n        return _this.cradleIntersect.observer;\n      }\n    };\n    this.cellIntersect = {\n      observer: null,\n      callback: null,\n      create: function create() {\n        var viewportData = _this.commonProps.viewportdataRef.current;\n        _this.cellIntersect.observer = new IntersectionObserver(_this.cellintersectionobservercallback, {\n          root: viewportData.elementref.current,\n          threshold: _this.commonProps.cradleConfigRef.current.cellObserverThreshold\n        });\n        return _this.cellIntersect.observer;\n      }\n    };\n    this.states = {\n      isRepositioning: false,\n      isResizing: false,\n      isReparenting: false,\n      isCradleInView: false\n    };\n    this.signals = {\n      pauseCellObserver: false,\n      pauseCradleIntersectionObserver: false,\n      pauseCradleResizeObserver: false,\n      pauseScrollingEffects: false\n    };\n    this.commonProps = commonProps;\n  }\n\n  return InterruptManager;\n}();\n\nexports[\"default\"] = InterruptManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFKakIsS0FBVjtBQXRMRSxTQUFLLFdBQUwsR0FBbUIsV0FBbkI7QUFFRjs7QUEyTEo7QUFBQyxDQWpNRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2ludGVycnVwdG1hbmFnZXIudHN4PzczODYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gd2luZ3NtYW5hZ2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5cbmNvbnN0IFJlc2l6ZU9ic2VydmVyQ2xhc3MgPSB3aW5kb3dbJ1Jlc2l6ZU9ic2VydmVyJ10gfHwgUmVzaXplT2JzZXJ2ZXJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJydXB0TWFuYWdlciB7XG5cbiAgIGNvbnN0cnVjdG9yKGNvbW1vblByb3BzKSB7XG5cbiAgICAgIHRoaXMuY29tbW9uUHJvcHMgPSBjb21tb25Qcm9wc1xuXG4gICB9XG5cbiAgIHByaXZhdGUgY29tbW9uUHJvcHNcblxuICAgcHJpdmF0ZSBpc1RhaWxDcmFkbGVJblZpZXcgPSBmYWxzZVxuICAgcHJpdmF0ZSBpc0hlYWRDcmFkbGVJblZpZXcgPSBmYWxzZVxuXG4gICAvLyBUT0RPOiBzdHViXG4gICBwcml2YXRlIGNyYWRsZXJlc2l6ZW9ic2VydmVyY2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgaWYgKHRoaXMuc2lnbmFscy5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyKSByZXR1cm5cblxuICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgICBjb25zdCBzaWduYWxzID0gdGhpcy5zaWduYWxzXG4gICAgICAgIGNvbnN0IHN0YXRlTWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5zdGF0ZVxuICAgICAgICBjb25zdCBjb250ZW50TWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5jb250ZW50XG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JldHVybmluZyBmcm9tIGludGVyc2VjdGlvbm9ic2VydmVyIGZvciBQQVVTRScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IGVudHJpZXNbaV1cbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC50eXBlID09ICdoZWFkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gXG4gICAgICAgICAgICAgICAgICAgIChlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVGFpbENyYWRsZUluVmlldyA9IFxuICAgICAgICAgICAgICAgICAgICAoZW50cnkuaXNJbnRlcnNlY3RpbmcgIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgKChlbnRyeS5yb290Qm91bmRzLndpZHRoID09IDApICYmIChlbnRyeS5yb290Qm91bmRzLmhlaWdodCA9PSAwKSkgLy8gcmVwYXJlbnRpbmdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlcy5pc0NyYWRsZUluVmlldyA9ICh0aGlzLmlzSGVhZENyYWRsZUluVmlldyB8fCB0aGlzLmlzVGFpbENyYWRsZUluVmlldyk7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnREYXRhID0gdGhpcy5jb21tb25Qcm9wcy52aWV3cG9ydGRhdGFSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIGlmICh2aWV3cG9ydERhdGEuaW5kZXggPT0gNikge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ25ldyBpc0NyYWRsZUluVmlldyBmcm9tIGludGVyc2VjdGlvbiBpbnRlcnJ1cHQnLHRoaXMuc3RhdGVzLmlzQ3JhZGxlSW5WaWV3KVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlcy5pc0NyYWRsZUluVmlldykgLy8gc3RhcnQgcmVwb3NpdGlvbiBpZiBubyBvdGhlciBpbnRlcnJ1cHRzIGFyZSB1bmRlcndheVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3JhZGxlU3RhdGUgPSBzdGF0ZU1hbmFnZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudCAgICAgICAgXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXZpZXdwb3J0RGF0YS5pc1Jlc2l6aW5nICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncmVzaXplZCcpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0EnKSAmJiBcbiAgICAgICAgICAgICAgICAhKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQicpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAnZmluaXNocmVwb3NpdGlvbicpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAndXBkYXRlcmVmZXJlbmNlcycpICYmXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAnZG9yZXBvc2l0aW9uJykgJiYgXG4gICAgICAgICAgICAgICAgIShjcmFkbGVTdGF0ZSA9PSAncGl2b3QnKVxuICAgICAgICAgICAgICAgICkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZpZXdwb3J0IGVsZW1lbnQgbm90IHNldCBpbiBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlUHJvcHNSZWYuY3VycmVudC5zY3JvbGxlcklELHZpZXdwb3J0RGF0YSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICAgICAgY29uc3Qge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdH0gPSByZWN0XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQsIGhlaWdodCA9IGJvdHRvbSAtIHRvcFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGF0YS52aWV3cG9ydERpbWVuc2lvbnMgPSB7dG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0fSAvLyB1cGRhdGUgZm9yIHNjcm9sbHRyYWNrZXJcbiAgICAgICAgICAgICAgICBzaWduYWxzLnBhdXNlQ2VsbE9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIHBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJSZWYuY3VycmVudCA9IHRydWVcbiAgICAgICAgICAgICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudE1hbmFnZXIuY29udGVudFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbCA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsVmlldyA9IFtdXG4gICAgICAgICAgICAgICAgc3RhdGVNYW5hZ2VyLnNldENyYWRsZVN0YXRlKCdzdGFydHJlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHRoZSBhc3luYyBjYWxsYmFjayBmcm9tIEludGVyc2VjdGlvbk9ic2VydmVyLlxuICAgIHByaXZhdGUgY2VsbGludGVyc2VjdGlvbm9ic2VydmVyY2FsbGJhY2sgPSAoZW50cmllcyk9PntcblxuICAgICAgICBjb25zdCB0ZXN0cm9vdGJvdW5kcyA9IGVudHJpZXNbMF0ucm9vdEJvdW5kc1xuICAgICAgICBpZiAoKHRlc3Ryb290Ym91bmRzLndpZHRoID09IDApICYmICh0ZXN0cm9vdGJvdW5kcy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHZpZXdwb3J0RGF0YSA9IHRoaXMuY29tbW9uUHJvcHMudmlld3BvcnRkYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgLy8gaWYgKHZpZXdwb3J0RGF0YS5pbmRleCA9PSA2KSB7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ2VudHJpZXMgZm9yICcsIHZpZXdwb3J0RGF0YS5pbmRleCwgZW50cmllcylcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGxldCBjb250ZW50TWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5jb250ZW50XG4gICAgICAgIGxldCBzdGF0ZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc3RhdGVcblxuICAgICAgICAvLyBUT0RPOiBtb3ZlZCB0aGlzIGFib3ZlIGluaXRpYWxpemF0aW9uOyBubyBhcHBhcmVudCBkaWZmZXJlbmNlIHRvIGJ1Z1xuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnBhdXNlQ2VsbE9ic2VydmVyKSB7IFxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vdmVkZW50cmllcyA9IFtdXG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkKSB7XG5cbiAgICAgICAgICAgICAgICBtb3ZlZGVudHJpZXMucHVzaChlbnRyeSlcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGVudHJ5LnRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkID0gdHJ1ZVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAodmlld3BvcnREYXRhLmluZGV4ID09IDYpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnbW92ZWRlbnRyaWVzIGZvciAnLCB2aWV3cG9ydERhdGEuaW5kZXgsIG1vdmVkZW50cmllcylcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHN0YXRlTWFuYWdlci5pc01vdW50ZWRSZWYuY3VycmVudCAmJiBjb250ZW50TWFuYWdlci51cGRhdGVDcmFkbGVDb250ZW50KG1vdmVkZW50cmllcywnY2VsbE9ic2VydmVyJylcblxuICAgIH1cblxuICAgY3JhZGxlUmVzaXplID0ge1xuICAgICAgb2JzZXJ2ZXI6bnVsbCxcbiAgICAgIGNhbGxiYWNrOnRoaXMuY3JhZGxlcmVzaXplb2JzZXJ2ZXJjYWxsYmFjayxcbiAgICAgIGNyZWF0ZTooKSA9PiB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVSZXNpemUub2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXJDbGFzcyh0aGlzLmNyYWRsZVJlc2l6ZS5jYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlUmVzaXplLm9ic2VydmVyXG5cbiAgICAgIH1cbiAgIH1cbiAgIGNyYWRsZUludGVyc2VjdCA9IHtcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCxcbiAgICAgICAgY2FsbGJhY2s6dGhpcy5jcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrLFxuICAgICAgICBjcmVhdGU6KCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0RGF0YSA9IHRoaXMuY29tbW9uUHJvcHMudmlld3BvcnRkYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OnZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnQsIHRocmVzaG9sZDowfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgIH1cbiAgICB9XG4gICAgY2VsbEludGVyc2VjdCA9IHtcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCxcbiAgICAgICAgY2FsbGJhY2s6bnVsbCxcbiAgICAgICAgY3JlYXRlOigpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydERhdGEgPSB0aGlzLmNvbW1vblByb3BzLnZpZXdwb3J0ZGF0YVJlZi5jdXJyZW50XG4gICAgICAgICAgICB0aGlzLmNlbGxJbnRlcnNlY3Qub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG5cbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxpbnRlcnNlY3Rpb25vYnNlcnZlcmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdDp2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50LCBcbiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkOnRoaXMuY29tbW9uUHJvcHMuY3JhZGxlQ29uZmlnUmVmLmN1cnJlbnQuY2VsbE9ic2VydmVyVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jZWxsSW50ZXJzZWN0Lm9ic2VydmVyXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHN0YXRlcyA9IHtcbiAgICAgICAgaXNSZXBvc2l0aW9uaW5nOmZhbHNlLCAvLyByaWdodCBub3cgZm9yIGRlYnVnIG9ubHlcbiAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgLy8gcmlnaHQgbm93IGZvciBkZWJ1ZyBvbmx5XG4gICAgICAgIGlzUmVwYXJlbnRpbmc6ZmFsc2UsIC8vIHJpZ2h0IG5vdyBub3QgdXNlZFxuICAgICAgICBpc0NyYWRsZUluVmlldzogZmFsc2UsXG4gICAgfVxuXG4gICAgc2lnbmFscyA9IHtcbiAgICAgICAgcGF1c2VDZWxsT2JzZXJ2ZXI6IGZhbHNlLFxuICAgICAgICBwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyOmZhbHNlLFxuICAgICAgICBwYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyOiBmYWxzZSxcbiAgICAgICAgcGF1c2VTY3JvbGxpbmdFZmZlY3RzOiBmYWxzZSxcbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/interruptmanager.tsx\n");

/***/ }),

/***/ "./src/cradle/scrollmanager.tsx":
/*!**************************************!*\
  !*** ./src/cradle/scrollmanager.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // scrollmanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar SCROLL_TIMEOUT_FOR_ONAFTERSCROLL = 200;\n\nvar ScrollManager =\n/** @class */\nfunction () {\n  function ScrollManager(commonProps) {\n    var _this = this;\n\n    this.scrollPositions = {\n      current: 0,\n      previous: 0\n    };\n    this._scrolltimerid = null;\n\n    this.onScroll = function (e) {\n      var signals = _this.commonProps.managersRef.current.interrupts.signals; // if (signals.pauseScrollingEffects) {\n      //     return\n      // }\n\n      var viewportData = _this.commonProps.viewportdataRef.current;\n      var viewportElement = viewportData.elementref.current;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var scrollPositionCurrent = _this.commonProps.cradlePropsRef.current.orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n\n      if (scrollPositionCurrent < 0) {\n        // for Safari\n        return;\n      }\n\n      cradleManager.cradleReferenceData.blockScrollPos = scrollPositionCurrent; // TODO: redundant?\n\n      _this.scrollPositions.previous = _this.scrollPositions.current;\n      _this.scrollPositions.current = scrollPositionCurrent;\n      clearTimeout(_this._scrolltimerid);\n\n      if (signals.pauseScrollingEffects) {\n        return;\n      }\n\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var cradleState = stateManager.cradleStateRef.current;\n      var contentManager = _this.commonProps.managersRef.current.content;\n      var serviceManager = _this.commonProps.managersRef.current.service;\n\n      if (!viewportData.isResizing) {\n        if (cradleState == 'ready' || cradleState == 'repositioningA' || cradleState == 'repositioningB') {\n          if (cradleState == 'ready') {\n            var itemindex = cradleManager.cradleReferenceData.nextItemIndexReference;\n            var spineVisiblePosOffset = void 0;\n            var cradleElements = cradleManager.elements;\n\n            if (_this.commonProps.cradlePropsRef.current.orientation == 'vertical') {\n              spineVisiblePosOffset = cradleElements.spineRef.current.offsetTop - _this.commonProps.viewportdataRef.current.elementref.current.scrollTop;\n            } else {\n              spineVisiblePosOffset = cradleElements.spineRef.current.offsetLeft - _this.commonProps.viewportdataRef.current.elementref.current.scrollLeft;\n            }\n\n            cradleManager.cradleReferenceData.scrollImpliedItemIndexReference = itemindex;\n            cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset = spineVisiblePosOffset;\n          }\n\n          if (cradleState == 'repositioningA' || cradleState == 'repositioningB') {\n            _this._setScrollReferenceIndexData();\n\n            if (cradleState == 'repositioningA') stateManager.setCradleState('repositioningB');\n          } // TODO: re-instate the following\n\n\n          serviceManager.serviceCalls.referenceIndexCallbackRef.current && serviceManager.serviceCalls.referenceIndexCallbackRef.current(cradleManager.cradleReferenceData.scrollImpliedItemIndexReference, 'scrolling', cradleState);\n        }\n      }\n\n      _this._scrolltimerid = setTimeout(function () {\n        _this._onAfterScroll();\n      }, SCROLL_TIMEOUT_FOR_ONAFTERSCROLL);\n      return false;\n    };\n\n    this._onAfterScroll = function () {\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var contentManager = _this.commonProps.managersRef.current.content;\n      var cradleState = stateManager.cradleStateRef.current;\n\n      switch (cradleState) {\n        case 'repositioningA':\n        case 'repositioningB':\n          {\n            stateManager.setCradleState('finishreposition');\n            break;\n          }\n\n        default:\n          {\n            _this.updateReferenceData();\n\n            contentManager.updateCradleContent([], 'endofscroll'); // for Safari to compensate for overscroll\n          }\n      }\n    };\n\n    this.updateReferenceData = function () {\n      var stateManager = _this.commonProps.managersRef.current.state;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var cradleProps = _this.commonProps.cradlePropsRef.current;\n      var viewportData = _this.commonProps.viewportdataRef.current; // const contentManager = this.commonProps.managersRef.current.content\n\n      if (!stateManager.isMountedRef.current) return;\n      var spineVisiblePosOffset;\n      var cradleElements = cradleManager.elements;\n      var viewportElement = viewportData.elementref.current;\n\n      if (cradleProps.orientation == 'vertical') {\n        spineVisiblePosOffset = cradleElements.spineRef.current.offsetTop - viewportElement.scrollTop;\n      } else {\n        spineVisiblePosOffset = cradleElements.spineRef.current.offsetLeft - viewportElement.scrollLeft;\n      }\n\n      cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset = spineVisiblePosOffset;\n\n      if (!viewportData.isResizing) {\n        cradleManager.cradleReferenceData.nextItemIndexReference = cradleManager.cradleReferenceData.scrollImpliedItemIndexReference;\n        cradleManager.cradleReferenceData.nextCradlePosOffset = cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset;\n\n        if (cradleProps.orientation == 'vertical') {\n          cradleManager.cradleReferenceData.blockScrollProperty = 'scrollTop';\n          cradleManager.cradleReferenceData.blockScrollPos = viewportElement.scrollTop;\n        } else {\n          cradleManager.cradleReferenceData.blockScrollProperty = 'scrollLeft';\n          cradleManager.cradleReferenceData.blockScrollPos = viewportElement.scrollLeft;\n        }\n      }\n    };\n\n    this._setScrollReferenceIndexData = function () {\n      var viewportData = _this.commonProps.viewportdataRef.current;\n      var cradleProps = _this.commonProps.cradlePropsRef.current;\n      var cradleConfig = _this.commonProps.cradleConfigRef.current;\n      var crosscount = cradleConfig.crosscount;\n      var viewportElement = viewportData.elementref.current;\n      var orientation = cradleProps.orientation,\n          listsize = cradleProps.listsize;\n      var scrollPos, cellLength;\n\n      if (orientation == 'vertical') {\n        scrollPos = viewportElement.scrollTop;\n        cellLength = cradleProps.cellHeight + cradleProps.gap;\n      } else {\n        scrollPos = viewportElement.scrollLeft;\n        cellLength = cradleProps.cellWidth + cradleProps.gap;\n      }\n\n      var referencescrolloffset = cellLength - scrollPos % cellLength;\n\n      if (referencescrolloffset == cellLength + cradleProps.padding) {\n        referencescrolloffset = 0;\n      }\n\n      var referencerowindex = Math.ceil((scrollPos - cradleProps.padding) / cellLength);\n      var spineReferenceIndex = referencerowindex * crosscount;\n      spineReferenceIndex = Math.min(spineReferenceIndex, listsize - 1);\n      var diff = spineReferenceIndex % crosscount;\n      spineReferenceIndex -= diff;\n      var referenceIndexData = {\n        index: spineReferenceIndex,\n        spineVisiblePosOffset: referencescrolloffset\n      };\n      if (spineReferenceIndex == 0) referencescrolloffset = 0; // defensive\n\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      cradleManager.cradleReferenceData.scrollImpliedItemIndexReference = spineReferenceIndex;\n      cradleManager.cradleReferenceData.scrollImpliedCradlePosOffset = referencescrolloffset;\n    };\n\n    this.commonProps = commonProps;\n  }\n\n  return ScrollManager;\n}();\n\nexports[\"default\"] = ScrollManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3JvbGxlci8uL3NyYy9jcmFkbGUvc2Nyb2xsbWFuYWdlci50c3g/MjE3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzY3JvbGxtYW5hZ2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmNvbnN0IFNDUk9MTF9USU1FT1VUX0ZPUl9PTkFGVEVSU0NST0xMID0gMjAwXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbE1hbmFnZXIge1xuXG4gICAgY29uc3RydWN0b3IoY29tbW9uUHJvcHMpIHtcblxuICAgICAgICB0aGlzLmNvbW1vblByb3BzID0gY29tbW9uUHJvcHNcblxuICAgIH1cblxuICAgIGNvbW1vblByb3BzXG5cbiAgICBzY3JvbGxQb3NpdGlvbnMgPSB7Y3VycmVudDowLHByZXZpb3VzOjB9XG5cbiAgICBwcml2YXRlIF9zY3JvbGx0aW1lcmlkID0gbnVsbFxuXG4gICAgb25TY3JvbGwgPSAoZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuaW50ZXJydXB0cy5zaWduYWxzXG5cbiAgICAgICAgLy8gaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgLy8gICAgIHJldHVyblxuXG4gICAgICAgIC8vIH1cblxuICAgICAgICBjb25zdCB2aWV3cG9ydERhdGEgPSB0aGlzLmNvbW1vblByb3BzLnZpZXdwb3J0ZGF0YVJlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0RGF0YS5lbGVtZW50cmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjcmFkbGVNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNyYWRsZVxuXG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uQ3VycmVudCA9IFxuICAgICAgICAgICAgKHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlUHJvcHNSZWYuY3VycmVudC5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKVxuICAgICAgICAgICAgP3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgIDp2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPCAwKSB7IC8vIGZvciBTYWZhcmlcblxuICAgICAgICAgICAgcmV0dXJuIFxuXG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQb3MgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnQgLy8gVE9ETzogcmVkdW5kYW50P1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb25zLnByZXZpb3VzID0gdGhpcy5zY3JvbGxQb3NpdGlvbnMuY3VycmVudFxuICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9ucy5jdXJyZW50ID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc3RhdGVcbiAgICAgICAgY29uc3QgY3JhZGxlU3RhdGUgPSBzdGF0ZU1hbmFnZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNvbnRlbnRcbiAgICAgICAgY29uc3Qgc2VydmljZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc2VydmljZVxuXG4gICAgICAgIGlmICghdmlld3BvcnREYXRhLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgaWYgKChjcmFkbGVTdGF0ZSA9PSAncmVhZHknKSB8fCAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdBJykgfHwgKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQicpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlYWR5Jykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1pbmRleCA9IGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5uZXh0SXRlbUluZGV4UmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGluZVZpc2libGVQb3NPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBjcmFkbGVNYW5hZ2VyLmVsZW1lbnRzXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlUHJvcHNSZWYuY3VycmVudC5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5lVmlzaWJsZVBvc09mZnNldCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQub2Zmc2V0VG9wIC0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tb25Qcm9wcy52aWV3cG9ydGRhdGFSZWYuY3VycmVudC5lbGVtZW50cmVmLmN1cnJlbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5lVmlzaWJsZVBvc09mZnNldCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQub2Zmc2V0TGVmdCAtIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uUHJvcHMudmlld3BvcnRkYXRhUmVmLmN1cnJlbnQuZWxlbWVudHJlZi5jdXJyZW50LnNjcm9sbExlZnRcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlID0gaXRlbWluZGV4XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkQ3JhZGxlUG9zT2Zmc2V0ID0gc3BpbmVWaXNpYmxlUG9zT2Zmc2V0XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKGNyYWRsZVN0YXRlID09ICdyZXBvc2l0aW9uaW5nQScpIHx8IChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0InKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFNjcm9sbFJlZmVyZW5jZUluZGV4RGF0YSgpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ0EnKSBzdGF0ZU1hbmFnZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlcG9zaXRpb25pbmdCJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlLWluc3RhdGUgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgIHNlcnZpY2VNYW5hZ2VyLnNlcnZpY2VDYWxscy5yZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQgJiYgXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VNYW5hZ2VyLnNlcnZpY2VDYWxscy5yZWZlcmVuY2VJbmRleENhbGxiYWNrUmVmLmN1cnJlbnQoY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLnNjcm9sbEltcGxpZWRJdGVtSW5kZXhSZWZlcmVuY2UsJ3Njcm9sbGluZycsIGNyYWRsZVN0YXRlKVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Njcm9sbHRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5fb25BZnRlclNjcm9sbCgpXG5cbiAgICAgICAgfSxTQ1JPTExfVElNRU9VVF9GT1JfT05BRlRFUlNDUk9MTClcblxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBfb25BZnRlclNjcm9sbCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBzdGF0ZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc3RhdGVcbiAgICAgICAgY29uc3QgY29udGVudE1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuY29udGVudFxuXG4gICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVNYW5hZ2VyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nQSc6IFxuICAgICAgICAgICAgY2FzZSAncmVwb3NpdGlvbmluZ0InOlxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgc3RhdGVNYW5hZ2VyLnNldENyYWRsZVN0YXRlKCdmaW5pc2hyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlZmVyZW5jZURhdGEoKVxuICAgICAgICAgICAgICAgIGNvbnRlbnRNYW5hZ2VyLnVwZGF0ZUNyYWRsZUNvbnRlbnQoW10sICdlbmRvZnNjcm9sbCcpIC8vIGZvciBTYWZhcmkgdG8gY29tcGVuc2F0ZSBmb3Igb3ZlcnNjcm9sbFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICB1cGRhdGVSZWZlcmVuY2VEYXRhID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHN0YXRlTWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5zdGF0ZVxuICAgICAgICBjb25zdCBjcmFkbGVNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNyYWRsZVxuICAgICAgICBjb25zdCBjcmFkbGVQcm9wcyA9IHRoaXMuY29tbW9uUHJvcHMuY3JhZGxlUHJvcHNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydERhdGEgPSB0aGlzLmNvbW1vblByb3BzLnZpZXdwb3J0ZGF0YVJlZi5jdXJyZW50XG4gICAgICAgIC8vIGNvbnN0IGNvbnRlbnRNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNvbnRlbnRcblxuICAgICAgICBpZiAoIXN0YXRlTWFuYWdlci5pc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgbGV0IHNwaW5lVmlzaWJsZVBvc09mZnNldFxuICAgICAgICBjb25zdCBjcmFkbGVFbGVtZW50cyA9IGNyYWRsZU1hbmFnZXIuZWxlbWVudHNcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50XG4gICAgICAgIGlmIChjcmFkbGVQcm9wcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNwaW5lVmlzaWJsZVBvc09mZnNldCA9IGNyYWRsZUVsZW1lbnRzLnNwaW5lUmVmLmN1cnJlbnQub2Zmc2V0VG9wIC0gXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzcGluZVZpc2libGVQb3NPZmZzZXQgPSBjcmFkbGVFbGVtZW50cy5zcGluZVJlZi5jdXJyZW50Lm9mZnNldExlZnQgLSBcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZENyYWRsZVBvc09mZnNldCA9IHNwaW5lVmlzaWJsZVBvc09mZnNldFxuXG4gICAgICAgIGlmICghdmlld3BvcnREYXRhLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRJdGVtSW5kZXhSZWZlcmVuY2UgPSBcbiAgICAgICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZEl0ZW1JbmRleFJlZmVyZW5jZVxuICAgICAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLm5leHRDcmFkbGVQb3NPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZENyYWRsZVBvc09mZnNldFxuXG4gICAgICAgICAgICBpZiAoY3JhZGxlUHJvcHMub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlTWFuYWdlci5jcmFkbGVSZWZlcmVuY2VEYXRhLmJsb2NrU2Nyb2xsUHJvcGVydHkgPSAnc2Nyb2xsVG9wJ1xuICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eSA9ICdzY3JvbGxMZWZ0J1xuICAgICAgICAgICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0U2Nyb2xsUmVmZXJlbmNlSW5kZXhEYXRhID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RGF0YSA9IHRoaXMuY29tbW9uUHJvcHMudmlld3BvcnRkYXRhUmVmLmN1cnJlbnRcbiAgICAgICAgbGV0IGNyYWRsZVByb3BzID0gdGhpcy5jb21tb25Qcm9wcy5jcmFkbGVQcm9wc1JlZi5jdXJyZW50XG4gICAgICAgIGxldCBjcmFkbGVDb25maWcgPSB0aGlzLmNvbW1vblByb3BzLmNyYWRsZUNvbmZpZ1JlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IHtjcm9zc2NvdW50fSA9IGNyYWRsZUNvbmZpZ1xuICAgICAgICBsZXQgdmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnREYXRhLmVsZW1lbnRyZWYuY3VycmVudFxuICAgICAgICBsZXQge29yaWVudGF0aW9uLCBsaXN0c2l6ZX0gPSBjcmFkbGVQcm9wc1xuICAgICAgICBsZXQgc2Nyb2xsUG9zLCBjZWxsTGVuZ3RoXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgIGNlbGxMZW5ndGggPSBjcmFkbGVQcm9wcy5jZWxsSGVpZ2h0ICsgY3JhZGxlUHJvcHMuZ2FwXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgc2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgICAgIGNlbGxMZW5ndGggPSBjcmFkbGVQcm9wcy5jZWxsV2lkdGggKyBjcmFkbGVQcm9wcy5nYXBcblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlZmVyZW5jZXNjcm9sbG9mZnNldCA9IGNlbGxMZW5ndGggLSAoc2Nyb2xsUG9zICUgY2VsbExlbmd0aClcbiAgICAgICAgaWYgKHJlZmVyZW5jZXNjcm9sbG9mZnNldCA9PSAoY2VsbExlbmd0aCArIGNyYWRsZVByb3BzLnBhZGRpbmcpKSB7XG4gICAgICAgICAgICByZWZlcmVuY2VzY3JvbGxvZmZzZXQgPSAwXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVmZXJlbmNlcm93aW5kZXggPSBNYXRoLmNlaWwoKHNjcm9sbFBvcyAtIGNyYWRsZVByb3BzLnBhZGRpbmcpL2NlbGxMZW5ndGgpXG4gICAgICAgIGxldCBzcGluZVJlZmVyZW5jZUluZGV4ID0gcmVmZXJlbmNlcm93aW5kZXggKiBjcm9zc2NvdW50XG4gICAgICAgIHNwaW5lUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1pbihzcGluZVJlZmVyZW5jZUluZGV4LGxpc3RzaXplIC0gMSlcbiAgICAgICAgbGV0IGRpZmYgPSBzcGluZVJlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudFxuICAgICAgICBzcGluZVJlZmVyZW5jZUluZGV4IC09IGRpZmZcblxuICAgICAgICBsZXQgcmVmZXJlbmNlSW5kZXhEYXRhID0ge1xuICAgICAgICAgICAgaW5kZXg6c3BpbmVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIHNwaW5lVmlzaWJsZVBvc09mZnNldDpyZWZlcmVuY2VzY3JvbGxvZmZzZXRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcGluZVJlZmVyZW5jZUluZGV4ID09IDApIHJlZmVyZW5jZXNjcm9sbG9mZnNldCA9IDAgLy8gZGVmZW5zaXZlXG5cbiAgICAgICAgbGV0IGNyYWRsZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuY3JhZGxlXG4gICAgICAgIGNyYWRsZU1hbmFnZXIuY3JhZGxlUmVmZXJlbmNlRGF0YS5zY3JvbGxJbXBsaWVkSXRlbUluZGV4UmVmZXJlbmNlID0gc3BpbmVSZWZlcmVuY2VJbmRleFxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEuc2Nyb2xsSW1wbGllZENyYWRsZVBvc09mZnNldCA9IHJlZmVyZW5jZXNjcm9sbG9mZnNldFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/scrollmanager.tsx\n");

/***/ }),

/***/ "./src/cradle/servicemanager.tsx":
/*!***************************************!*\
  !*** ./src/cradle/servicemanager.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // servicemanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar ServiceManager =\n/** @class */\nfunction () {\n  function ServiceManager(commonProps, serviceCallsRef) {\n    var _this = this;\n\n    this.getVisibleList = function () {\n      var contentManager = _this.commonProps.managersRef.current.content;\n      var cradleContent = contentManager.content;\n      var viewportData = _this.commonProps.viewportdataRef.current;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var cradleElements = cradleManager.elements;\n      return getVisibleItemsList({\n        itemElementMap: contentManager.itemElements,\n        viewportElement: viewportData.elementref.current,\n        cradleElements: cradleElements,\n        cradleProps: _this.commonProps.cradlePropsRef.current,\n        cradleContent: cradleContent\n      });\n    };\n\n    this.getContentList = function () {\n      var contentManager = _this.commonProps.managersRef.current.content;\n      var contentlist = Array.from(contentManager.itemElements);\n      contentlist.sort(function (a, b) {\n        return a[0] < b[0] ? -1 : 1;\n      });\n      return contentlist;\n    };\n\n    this.reload = function () {\n      var signals = _this.commonProps.managersRef.current.interrupts.signals;\n      var stateManager = _this.commonProps.managersRef.current.state;\n      signals.pauseCellObserver = true;\n      signals.pauseScrollingEffects = true;\n      stateManager.setCradleState('reload');\n    };\n\n    this.scrollToItem = function (index) {\n      var signals = _this.commonProps.managersRef.current.interrupts.signals;\n      var cradleManager = _this.commonProps.managersRef.current.cradle;\n      var stateManager = _this.commonProps.managersRef.current.state;\n      signals.pauseCellObserver = true;\n      signals.pauseScrollingEffects = true;\n      cradleManager.cradleReferenceData.nextItemIndexReference = index;\n      stateManager.setCradleState('doreposition');\n    };\n\n    this.commonProps = commonProps;\n    this.serviceCalls = serviceCallsRef.current;\n  }\n\n  return ServiceManager;\n}();\n\nexports[\"default\"] = ServiceManager;\n\nvar getVisibleItemsList = function getVisibleItemsList(_a) {\n  var itemElementMap = _a.itemElementMap,\n      viewportElement = _a.viewportElement,\n      cradleElements = _a.cradleElements,\n      cradleProps = _a.cradleProps,\n      cradleContent = _a.cradleContent;\n  var headElement = cradleElements.headRef.current;\n  var spineElement = cradleElements.spineRef.current;\n  var orientation = cradleProps.orientation;\n  var headlist = cradleContent.headView;\n  var itemlistindexes = Array.from(itemElementMap.keys());\n  itemlistindexes.sort(function (a, b) {\n    return a < b ? -1 : 1;\n  });\n  var headlistindexes = [];\n\n  for (var _i = 0, headlist_1 = headlist; _i < headlist_1.length; _i++) {\n    var item = headlist_1[_i];\n    headlistindexes.push(parseInt(item.props.index));\n  }\n\n  var list = [];\n  var cradleTop = headElement.offsetTop + spineElement.offsetTop,\n      cradleLeft = headElement.offsetLeft + spineElement.offsetLeft;\n  var scrollblockTopOffset = -viewportElement.scrollTop,\n      scrollblockLeftOffset = -viewportElement.scrollLeft,\n      viewportHeight = viewportElement.offsetHeight,\n      viewportWidth = viewportElement.offsetWidth,\n      viewportTopOffset = -scrollblockTopOffset,\n      viewportBottomOffset = -scrollblockTopOffset + viewportHeight;\n\n  for (var _b = 0, itemlistindexes_1 = itemlistindexes; _b < itemlistindexes_1.length; _b++) {\n    var index = itemlistindexes_1[_b];\n    var element = itemElementMap.get(index).current;\n    var inheadlist = headlistindexes.includes(index);\n    var top_1 = inheadlist ? element.offsetTop : (orientation == 'vertical' ? headElement.offsetHeight : 0) + element.offsetTop,\n        left = inheadlist ? element.offsetLeft : (orientation == 'horizontal' ? headElement.offsetWidth : 0) + element.offsetLeft,\n        width = element.offsetWidth,\n        height = element.offsetHeight,\n        right = left + width,\n        bottom = top_1 + height;\n    var itemTopOffset = scrollblockTopOffset + cradleTop + top_1,\n        // offset from top of viewport\n    itemBottomOffset = scrollblockTopOffset + cradleTop + bottom,\n        // offset from top of viewport\n    itemLeftOffset = scrollblockLeftOffset + cradleLeft + left,\n        itemRightOffset = scrollblockLeftOffset + cradleLeft + right;\n    var isVisible = false; // default\n\n    var topPortion = void 0,\n        bottomPortion = void 0,\n        leftPortion = void 0,\n        rightPortion = void 0;\n\n    if (itemTopOffset < 0 && itemBottomOffset > 0) {\n      orientation == 'vertical' && (isVisible = true);\n      bottomPortion = itemBottomOffset;\n      topPortion = bottomPortion - height;\n    } else if (itemTopOffset >= 0 && itemBottomOffset < viewportHeight) {\n      orientation == 'vertical' && (isVisible = true);\n      topPortion = height;\n      bottomPortion = 0;\n    } else if (itemTopOffset > 0 && itemTopOffset - viewportHeight < 0) {\n      orientation == 'vertical' && (isVisible = true);\n      topPortion = viewportHeight - itemTopOffset;\n      bottomPortion = topPortion - height;\n    } else {\n      if (orientation == 'vertical') continue;\n    }\n\n    if (itemLeftOffset < 0 && itemRightOffset > 0) {\n      orientation == 'horizontal' && (isVisible = true);\n      rightPortion = itemRightOffset;\n      leftPortion = rightPortion - width;\n    } else if (itemLeftOffset >= 0 && itemRightOffset < viewportWidth) {\n      orientation == 'horizontal' && (isVisible = true);\n      leftPortion = width;\n      rightPortion = 0;\n    } else if (itemLeftOffset > 0 && itemLeftOffset - viewportWidth < 0) {\n      orientation == 'horizontal' && (isVisible = true);\n      leftPortion = viewportWidth - itemLeftOffset;\n      rightPortion = leftPortion - width;\n    } else {\n      if (orientation == 'horizontal') continue;\n    }\n\n    var verticalRatio = topPortion > 0 ? topPortion / height : bottomPortion / height,\n        horizontalRatio = leftPortion > 0 ? leftPortion / width : rightPortion / height;\n    var itemData = {\n      index: index,\n      isVisible: isVisible,\n      top: top_1,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height,\n      itemTopOffset: itemTopOffset,\n      itemBottomOffset: itemBottomOffset,\n      topPortion: topPortion,\n      bottomPortion: bottomPortion,\n      itemLeftOffset: itemLeftOffset,\n      itemRightOffset: itemRightOffset,\n      leftPortion: leftPortion,\n      rightPortion: rightPortion,\n      verticalRatio: verticalRatio,\n      horizontalRatio: horizontalRatio\n    };\n    list.push(itemData);\n  }\n\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JBQVksR0FBRyxDQUFmO0FBRUgsS0FOTSxNQU1BLElBQUksY0FBYyxHQUFHLENBQWpCLElBQXVCLGNBQWMsR0FBRyxhQUFsQixHQUFtQyxDQUE3RCxFQUFnRTtBQUVsRSxpQkFBVyxJQUFJLFlBQWhCLEtBQWtDLFNBQVMsR0FBRyxJQUE5QztBQUNBLGlCQUFXLEdBQUcsYUFBYSxHQUFHLGNBQTlCO0FBQ0Esa0JBQVksR0FBRyxXQUFXLEdBQUcsS0FBN0I7QUFFSCxLQU5NLE1BTUE7QUFFSCxVQUFJLFdBQVcsSUFBSSxZQUFuQixFQUFpQztBQUVwQzs7QUFFRCxRQUFJLGFBQWEsR0FBSSxVQUFVLEdBQUcsQ0FBZCxHQUFpQixVQUFVLEdBQUMsTUFBNUIsR0FBbUMsYUFBYSxHQUFDLE1BQXJFO0FBQUEsUUFDSSxlQUFlLEdBQUksV0FBVyxHQUFHLENBQWYsR0FBa0IsV0FBVyxHQUFDLEtBQTlCLEdBQW9DLFlBQVksR0FBQyxNQUR2RTtBQUdBLFFBQUksUUFBUSxHQUFHO0FBRVgsV0FBSyxPQUZNO0FBR1gsZUFBUyxXQUhFO0FBS1gsU0FBRyxPQUxRO0FBTVgsV0FBSyxPQU5NO0FBT1gsWUFBTSxRQVBLO0FBUVgsVUFBSSxNQVJPO0FBU1gsV0FBSyxPQVRNO0FBVVgsWUFBTSxRQVZLO0FBWVgsbUJBQWEsZUFaRjtBQWFYLHNCQUFnQixrQkFiTDtBQWNYLGdCQUFVLFlBZEM7QUFlWCxtQkFBYSxlQWZGO0FBaUJYLG9CQUFjLGdCQWpCSDtBQWtCWCxxQkFBZSxpQkFsQko7QUFtQlgsaUJBQVcsYUFuQkE7QUFvQlgsa0JBQVksY0FwQkQ7QUFzQlgsbUJBQWEsZUF0QkY7QUF1QlgscUJBQWU7QUF2QkosS0FBZjtBQTJCQSxRQUFJLENBQUMsSUFBTCxDQUFVLFFBQVY7QUFFSDs7QUFFRCxTQUFPLElBQVA7QUFDSCxDQTdJRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3NlcnZpY2VtYW5hZ2VyLnRzeD84M2I2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNlcnZpY2VtYW5hZ2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDIxIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2VNYW5hZ2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbW1vblByb3BzLCBzZXJ2aWNlQ2FsbHNSZWYpIHtcblxuICAgICAgIHRoaXMuY29tbW9uUHJvcHMgPSBjb21tb25Qcm9wc1xuXG4gICAgICAgdGhpcy5zZXJ2aWNlQ2FsbHMgPSBzZXJ2aWNlQ2FsbHNSZWYuY3VycmVudFxuXG4gICAgfVxuXG4gICAgY29tbW9uUHJvcHNcblxuICAgIHNlcnZpY2VDYWxsc1xuXG4gICAgZ2V0VmlzaWJsZUxpc3QgPSAoKSA9PiB7XG5cbiAgICAgICAgbGV0IGNvbnRlbnRNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LmNvbnRlbnQgICAgICAgIFxuXG4gICAgICAgIGxldCBjcmFkbGVDb250ZW50ID0gY29udGVudE1hbmFnZXIuY29udGVudFxuICAgICAgICBsZXQgdmlld3BvcnREYXRhID0gdGhpcy5jb21tb25Qcm9wcy52aWV3cG9ydGRhdGFSZWYuY3VycmVudFxuICAgICAgICBsZXQgY3JhZGxlTWFuYWdlciA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5jcmFkbGVcbiAgICAgICAgbGV0IGNyYWRsZUVsZW1lbnRzID0gY3JhZGxlTWFuYWdlci5lbGVtZW50c1xuXG4gICAgICAgIHJldHVybiBnZXRWaXNpYmxlSXRlbXNMaXN0KHtcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50TWFwOmNvbnRlbnRNYW5hZ2VyLml0ZW1FbGVtZW50cyxcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDp2aWV3cG9ydERhdGEuZWxlbWVudHJlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMsIFxuICAgICAgICAgICAgY3JhZGxlUHJvcHM6dGhpcy5jb21tb25Qcm9wcy5jcmFkbGVQcm9wc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlQ29udGVudCxcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGdldENvbnRlbnRMaXN0ID0gKCkgPT4ge1xuICAgICAgICBsZXQgY29udGVudE1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuY29udGVudCAgICAgICAgXG4gICAgICAgIGxldCBjb250ZW50bGlzdCA9IEFycmF5LmZyb20oY29udGVudE1hbmFnZXIuaXRlbUVsZW1lbnRzKVxuXG4gICAgICAgIGNvbnRlbnRsaXN0LnNvcnQoKGEsYik9PntcbiAgICAgICAgICAgIHJldHVybiAoYVswXSA8IGJbMF0pPy0xOjFcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gY29udGVudGxpc3RcbiAgICB9XG5cbiAgICByZWxvYWQgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRzLnNpZ25hbHNcbiAgICAgICAgY29uc3Qgc3RhdGVNYW5hZ2VyID0gdGhpcy5jb21tb25Qcm9wcy5tYW5hZ2Vyc1JlZi5jdXJyZW50LnN0YXRlXG5cbiAgICAgICAgc2lnbmFscy5wYXVzZUNlbGxPYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZVNjcm9sbGluZ0VmZmVjdHMgPSB0cnVlXG5cbiAgICAgICAgc3RhdGVNYW5hZ2VyLnNldENyYWRsZVN0YXRlKCdyZWxvYWQnKVxuXG4gICAgfVxuXG4gICAgc2Nyb2xsVG9JdGVtID0gKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IHRoaXMuY29tbW9uUHJvcHMubWFuYWdlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRzLnNpZ25hbHNcbiAgICAgICAgbGV0IGNyYWRsZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuY3JhZGxlXG4gICAgICAgIGxldCBzdGF0ZU1hbmFnZXIgPSB0aGlzLmNvbW1vblByb3BzLm1hbmFnZXJzUmVmLmN1cnJlbnQuc3RhdGVcblxuICAgICAgICBzaWduYWxzLnBhdXNlQ2VsbE9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBjcmFkbGVNYW5hZ2VyLmNyYWRsZVJlZmVyZW5jZURhdGEubmV4dEl0ZW1JbmRleFJlZmVyZW5jZSA9IGluZGV4XG5cbiAgICAgICAgc3RhdGVNYW5hZ2VyLnNldENyYWRsZVN0YXRlKCdkb3JlcG9zaXRpb24nKVxuXG4gICAgfVxuXG59XG5cbmNvbnN0IGdldFZpc2libGVJdGVtc0xpc3QgPSAoeyAgIFxuXG4gICAgICAgIGl0ZW1FbGVtZW50TWFwLCBcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LCBcbiAgICAgICAgY3JhZGxlRWxlbWVudHMsIFxuICAgICAgICBjcmFkbGVQcm9wcywgXG4gICAgICAgIGNyYWRsZUNvbnRlbnRcblxuICAgIH0pID0+IHtcblxuICAgIGxldCBoZWFkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudFxuICAgIGxldCBzcGluZUVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5zcGluZVJlZi5jdXJyZW50XG4gICAgbGV0IHtvcmllbnRhdGlvbn0gPSBjcmFkbGVQcm9wc1xuICAgIGxldCBoZWFkbGlzdCA9IGNyYWRsZUNvbnRlbnQuaGVhZFZpZXdcblxuICAgIGxldCBpdGVtbGlzdGluZGV4ZXMgPSBBcnJheS5mcm9tKGl0ZW1FbGVtZW50TWFwLmtleXMoKSlcbiAgICBpdGVtbGlzdGluZGV4ZXMuc29ydCgoYSxiKT0+e1xuICAgICAgICByZXR1cm4gKGEgPCBiKT8tMToxXG4gICAgfSlcbiAgICBsZXQgaGVhZGxpc3RpbmRleGVzID0gW11cbiAgICBmb3IgKGxldCBpdGVtIG9mIGhlYWRsaXN0KSB7XG4gICAgICAgIGhlYWRsaXN0aW5kZXhlcy5wdXNoKHBhcnNlSW50KGl0ZW0ucHJvcHMuaW5kZXgpKVxuICAgIH1cblxuICAgIGxldCBsaXN0ID0gW11cbiAgICBsZXQgY3JhZGxlVG9wID0gaGVhZEVsZW1lbnQub2Zmc2V0VG9wICsgc3BpbmVFbGVtZW50Lm9mZnNldFRvcCwgXG4gICAgICAgIGNyYWRsZUxlZnQgPSBoZWFkRWxlbWVudC5vZmZzZXRMZWZ0ICsgc3BpbmVFbGVtZW50Lm9mZnNldExlZnRcbiAgICBsZXQgc2Nyb2xsYmxvY2tUb3BPZmZzZXQgPSAtdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCwgXG4gICAgICAgIHNjcm9sbGJsb2NrTGVmdE9mZnNldCA9IC12aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgdmlld3BvcnRIZWlnaHQgPSB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydFdpZHRoID0gdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICB2aWV3cG9ydFRvcE9mZnNldCA9IC1zY3JvbGxibG9ja1RvcE9mZnNldCxcbiAgICAgICAgdmlld3BvcnRCb3R0b21PZmZzZXQgPSAtc2Nyb2xsYmxvY2tUb3BPZmZzZXQgKyB2aWV3cG9ydEhlaWdodFxuXG4gICAgZm9yIChsZXQgaW5kZXggb2YgaXRlbWxpc3RpbmRleGVzKSB7XG5cbiAgICAgICAgbGV0IGVsZW1lbnQgPSBpdGVtRWxlbWVudE1hcC5nZXQoaW5kZXgpLmN1cnJlbnRcbiAgICAgICAgbGV0IGluaGVhZGxpc3QgPSBoZWFkbGlzdGluZGV4ZXMuaW5jbHVkZXMoaW5kZXgpXG4gICAgICAgIGxldCB0b3AgPSBpbmhlYWRsaXN0PyhlbGVtZW50Lm9mZnNldFRvcCk6KCgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/aGVhZEVsZW1lbnQub2Zmc2V0SGVpZ2h0OjApICsgZWxlbWVudC5vZmZzZXRUb3ApLCBcbiAgICAgICAgICAgIGxlZnQgPSBpbmhlYWRsaXN0PyhlbGVtZW50Lm9mZnNldExlZnQpOigoKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/aGVhZEVsZW1lbnQub2Zmc2V0V2lkdGg6MCkgKyBlbGVtZW50Lm9mZnNldExlZnQpLCBcbiAgICAgICAgICAgIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCwgXG4gICAgICAgICAgICBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgIHJpZ2h0ID0gbGVmdCArIHdpZHRoLFxuICAgICAgICAgICAgYm90dG9tID0gdG9wICsgaGVpZ2h0XG5cbiAgICAgICAgbGV0IGl0ZW1Ub3BPZmZzZXQgPSBzY3JvbGxibG9ja1RvcE9mZnNldCArIGNyYWRsZVRvcCArIHRvcCwgLy8gb2Zmc2V0IGZyb20gdG9wIG9mIHZpZXdwb3J0XG4gICAgICAgICAgICBpdGVtQm90dG9tT2Zmc2V0ID0gc2Nyb2xsYmxvY2tUb3BPZmZzZXQgKyBjcmFkbGVUb3AgKyBib3R0b20sIC8vIG9mZnNldCBmcm9tIHRvcCBvZiB2aWV3cG9ydFxuICAgICAgICAgICAgaXRlbUxlZnRPZmZzZXQgPSBzY3JvbGxibG9ja0xlZnRPZmZzZXQgKyBjcmFkbGVMZWZ0ICsgbGVmdCwgXG4gICAgICAgICAgICBpdGVtUmlnaHRPZmZzZXQgPSBzY3JvbGxibG9ja0xlZnRPZmZzZXQgKyBjcmFkbGVMZWZ0ICsgcmlnaHQgXG5cblxuICAgICAgICBsZXQgaXNWaXNpYmxlID0gZmFsc2UgLy8gZGVmYXVsdFxuXG4gICAgICAgIGxldCB0b3BQb3J0aW9uLFxuICAgICAgICAgICAgYm90dG9tUG9ydGlvbixcbiAgICAgICAgICAgIGxlZnRQb3J0aW9uLFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uXG5cbiAgICAgICAgaWYgKChpdGVtVG9wT2Zmc2V0IDwgMCkgJiYgKGl0ZW1Cb3R0b21PZmZzZXQgPiAwKSkge1xuXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykgJiYgKGlzVmlzaWJsZSA9IHRydWUpXG4gICAgICAgICAgICBib3R0b21Qb3J0aW9uID0gaXRlbUJvdHRvbU9mZnNldFxuICAgICAgICAgICAgdG9wUG9ydGlvbiA9IGJvdHRvbVBvcnRpb24gLSBoZWlnaHRcblxuICAgICAgICB9IGVsc2UgaWYgKChpdGVtVG9wT2Zmc2V0ID49IDApICYmIChpdGVtQm90dG9tT2Zmc2V0IDwgdmlld3BvcnRIZWlnaHQpKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSAmJiAoaXNWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgIHRvcFBvcnRpb24gPSBoZWlnaHRcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24gPSAwXG5cbiAgICAgICAgfSBlbHNlIGlmICgoaXRlbVRvcE9mZnNldCA+IDApICYmICgoaXRlbVRvcE9mZnNldCAtIHZpZXdwb3J0SGVpZ2h0KSA8IDApKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSAmJiAoaXNWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgIHRvcFBvcnRpb24gPSB2aWV3cG9ydEhlaWdodCAtIGl0ZW1Ub3BPZmZzZXRcbiAgICAgICAgICAgIGJvdHRvbVBvcnRpb24gPSB0b3BQb3J0aW9uIC0gaGVpZ2h0XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIGNvbnRpbnVlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtTGVmdE9mZnNldCA8IDAgJiYgaXRlbVJpZ2h0T2Zmc2V0ID4gMCkge1xuXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSAmJiAoaXNWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgIHJpZ2h0UG9ydGlvbiA9IGl0ZW1SaWdodE9mZnNldFxuICAgICAgICAgICAgbGVmdFBvcnRpb24gPSByaWdodFBvcnRpb24gLSB3aWR0aFxuXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbUxlZnRPZmZzZXQgPj0gMCAmJiBpdGVtUmlnaHRPZmZzZXQgPCB2aWV3cG9ydFdpZHRoKSB7XG5cbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAnaG9yaXpvbnRhbCcpICYmIChpc1Zpc2libGUgPSB0cnVlKVxuICAgICAgICAgICAgbGVmdFBvcnRpb24gPSB3aWR0aFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uID0gMFxuXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbUxlZnRPZmZzZXQgPiAwICYmIChpdGVtTGVmdE9mZnNldCAtIHZpZXdwb3J0V2lkdGgpIDwgMCkge1xuXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKSAmJiAoaXNWaXNpYmxlID0gdHJ1ZSlcbiAgICAgICAgICAgIGxlZnRQb3J0aW9uID0gdmlld3BvcnRXaWR0aCAtIGl0ZW1MZWZ0T2Zmc2V0XG4gICAgICAgICAgICByaWdodFBvcnRpb24gPSBsZWZ0UG9ydGlvbiAtIHdpZHRoXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykgY29udGludWVcblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZlcnRpY2FsUmF0aW8gPSAodG9wUG9ydGlvbiA+IDApP3RvcFBvcnRpb24vaGVpZ2h0OmJvdHRvbVBvcnRpb24vaGVpZ2h0LFxuICAgICAgICAgICAgaG9yaXpvbnRhbFJhdGlvID0gKGxlZnRQb3J0aW9uID4gMCk/bGVmdFBvcnRpb24vd2lkdGg6cmlnaHRQb3J0aW9uL2hlaWdodFxuXG4gICAgICAgIGxldCBpdGVtRGF0YSA9IHtcblxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpc1Zpc2libGUsXG5cbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuXG4gICAgICAgICAgICBpdGVtVG9wT2Zmc2V0LFxuICAgICAgICAgICAgaXRlbUJvdHRvbU9mZnNldCxcbiAgICAgICAgICAgIHRvcFBvcnRpb24sXG4gICAgICAgICAgICBib3R0b21Qb3J0aW9uLFxuXG4gICAgICAgICAgICBpdGVtTGVmdE9mZnNldCxcbiAgICAgICAgICAgIGl0ZW1SaWdodE9mZnNldCxcbiAgICAgICAgICAgIGxlZnRQb3J0aW9uLFxuICAgICAgICAgICAgcmlnaHRQb3J0aW9uLFxuXG4gICAgICAgICAgICB2ZXJ0aWNhbFJhdGlvLFxuICAgICAgICAgICAgaG9yaXpvbnRhbFJhdGlvLFxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbURhdGEpXG5cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdFxufVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/servicemanager.tsx\n");

/***/ }),

/***/ "./src/cradle/statemanager.tsx":
/*!*************************************!*\
  !*** ./src/cradle/statemanager.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval(" // statemanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StateManager =\n/** @class */\nfunction () {\n  function StateManager(commonProps, cradleStateRef, setCradleState, isMountedRef) {\n    this.commonProps = commonProps;\n    this.setCradleState = setCradleState;\n    this.cradleStateRef = cradleStateRef;\n    this.isMountedRef = isMountedRef;\n  }\n\n  return StateManager;\n}();\n\nexports[\"default\"] = StateManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlbWFuYWdlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7O0FBRUE7QUFBQTtBQUFBO0FBRUksd0JBQVksV0FBWixFQUF3QixjQUF4QixFQUF1QyxjQUF2QyxFQUFzRCxZQUF0RCxFQUFrRTtBQUUvRCxTQUFLLFdBQUwsR0FBbUIsV0FBbkI7QUFFQSxTQUFLLGNBQUwsR0FBc0IsY0FBdEI7QUFDQSxTQUFLLGNBQUwsR0FBc0IsY0FBdEI7QUFDQSxTQUFLLFlBQUwsR0FBb0IsWUFBcEI7QUFFRjs7QUFRTDtBQUFDLENBbEJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc3RhdGVtYW5hZ2VyLnRzeD9mMTBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlbWFuYWdlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMSBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZU1hbmFnZXIge1xuXG4gICAgY29uc3RydWN0b3IoY29tbW9uUHJvcHMsY3JhZGxlU3RhdGVSZWYsc2V0Q3JhZGxlU3RhdGUsaXNNb3VudGVkUmVmKSB7XG5cbiAgICAgICB0aGlzLmNvbW1vblByb3BzID0gY29tbW9uUHJvcHNcblxuICAgICAgIHRoaXMuc2V0Q3JhZGxlU3RhdGUgPSBzZXRDcmFkbGVTdGF0ZVxuICAgICAgIHRoaXMuY3JhZGxlU3RhdGVSZWYgPSBjcmFkbGVTdGF0ZVJlZlxuICAgICAgIHRoaXMuaXNNb3VudGVkUmVmID0gaXNNb3VudGVkUmVmXG4gICAgICAgXG4gICAgfVxuXG4gICAgY29tbW9uUHJvcHNcblxuICAgIGNyYWRsZVN0YXRlUmVmXG4gICAgc2V0Q3JhZGxlU3RhdGVcbiAgICBpc01vdW50ZWRSZWZcblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/statemanager.tsx\n");

/***/ }),

/***/ "./src/cradle/stylesmanager.tsx":
/*!**************************************!*\
  !*** ./src/cradle/stylesmanager.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";
eval(" // stylesmanager.tsx\n// copyright (c) 2021 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar StylesManager =\n/** @class */\nfunction () {\n  function StylesManager(commonProps) {\n    var _this = this;\n\n    this.setCradleStyles = function (_a) {\n      var orientation = _a.orientation,\n          cellHeight = _a.cellHeight,\n          cellWidth = _a.cellWidth,\n          gap = _a.gap,\n          padding = _a.padding,\n          crosscount = _a.crosscount,\n          viewportheight = _a.viewportheight,\n          viewportwidth = _a.viewportwidth,\n          userstyles = _a.userstyles; // TODO: change 'cradle' to 'head' and 'tail' for more granularity\n\n      var headstyles = _this.getHeadStyles(gap, padding, orientation, userstyles === null || userstyles === void 0 ? void 0 : userstyles.cradle);\n\n      var tailstyles = _this.getTailStyles(gap, padding, orientation, userstyles === null || userstyles === void 0 ? void 0 : userstyles.cradle);\n\n      var spinestyles = _this.getSpineStyles(gap, padding, orientation, userstyles === null || userstyles === void 0 ? void 0 : userstyles.spine);\n\n      headstyles.gridGap = gap + 'px';\n      tailstyles.gridGap = gap + 'px';\n\n      if (orientation == 'horizontal') {\n        headstyles.padding = \"\".concat(padding, \"px 0 \").concat(padding, \"px \").concat(padding, \"px\");\n        headstyles.width = 'auto';\n        headstyles.height = '100%';\n        headstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        headstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto'; // headstyles.gridTemplateRows = cellHeight?`repeat(auto-fit, minmax(${cellHeight}px, 1fr))`:'auto'\n\n        headstyles.gridTemplateColumns = 'none';\n        tailstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px 0\");\n        tailstyles.width = 'auto';\n        tailstyles.height = '100%';\n        tailstyles.gridAutoFlow = 'column'; // explict crosscount next line as workaround for FF problem - \n        //     sets length of horiz cradle items in one line (row), not multi-row config\n\n        tailstyles.gridTemplateRows = cellHeight ? \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\") : 'auto'; // tailstyles.gridTemplateRows = cellHeight?`repeat(auto-fit, minmax(${cellHeight}px, 1fr))`:'auto'\n\n        tailstyles.gridTemplateColumns = 'none';\n      } else if (orientation == 'vertical') {\n        headstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px 0 \").concat(padding, \"px\");\n        headstyles.width = '100%';\n        headstyles.height = 'auto';\n        headstyles.gridAutoFlow = 'row';\n        headstyles.gridTemplateRows = 'none';\n        headstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n        tailstyles.padding = \"0 \".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px\");\n        tailstyles.width = '100%';\n        tailstyles.height = 'auto';\n        tailstyles.gridAutoFlow = 'row';\n        tailstyles.gridTemplateRows = 'none';\n        tailstyles.gridTemplateColumns = cellWidth ? \"repeat(auto-fit, minmax(\".concat(cellWidth, \"px, 1fr))\") : 'auto';\n      }\n\n      return [headstyles, tailstyles, spinestyles];\n    };\n\n    this.getHeadStyles = function (gap, padding, orientation, userheadstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 0;\n        left = 0;\n        right = 0;\n        top = 'auto';\n      } else {\n        bottom = 0;\n        left = 'auto';\n        right = 0;\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        bottom: bottom,\n        left: left,\n        right: right,\n        top: top\n      }), userheadstyles);\n    };\n\n    this.getTailStyles = function (gap, padding, orientation, usertailstyles) {\n      var bottom, left, top, right;\n\n      if (orientation == 'vertical') {\n        bottom = 'auto';\n        left = 0;\n        right = 0;\n        top = 0;\n      } else {\n        bottom = 0;\n        left = 0;\n        right = 'auto';\n        top = 0;\n      }\n\n      return __assign(__assign({}, {\n        position: 'absolute',\n        backgroundColor: 'blue',\n        display: 'grid',\n        gridGap: gap + 'px',\n        padding: padding + 'px',\n        justifyContent: 'start',\n        alignContent: 'start',\n        boxSizing: 'border-box',\n        top: top,\n        left: left,\n        right: right,\n        bottom: bottom\n      }), usertailstyles);\n    };\n\n    this.getSpineStyles = function (gap, padding, orientation, userspinestyles) {\n      var top, left, width, height; // for spine\n\n      if (orientation == 'vertical') {\n        top = padding + 'px';\n        left = 'auto';\n        width = '100%';\n        height = 'auto';\n      } else {\n        top = 'auto';\n        left = padding + 'px';\n        width = 0;\n        height = '100%';\n      }\n\n      return __assign(__assign({}, {\n        position: 'relative',\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      }), userspinestyles);\n    };\n\n    this.commonProps = commonProps;\n  }\n\n  return StylesManager;\n}();\n\nexports[\"default\"] = StylesManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0eWxlc21hbmFnZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBO0FBQUE7QUFFRyx5QkFBWSxXQUFaLEVBQXVCO0FBQXZCOztBQVFDLDJCQUFrQixVQUFDLEVBQUQsRUFZakI7VUFWRyxXQUFXLGlCO1VBQ1gsVUFBVSxnQjtVQUNWLFNBQVMsZTtVQUNULEdBQUcsUztVQUNILE9BQU8sYTtVQUNQLFVBQVUsZ0I7VUFDVixjQUFjLG9CO1VBQ2QsYUFBYSxtQjtVQUNiLFVBQVUsZ0IsQ0FFYixDQUVHOztBQUNBLFVBQUksVUFBVSxHQUF1QixLQUFJLENBQUMsYUFBTCxDQUFtQixHQUFuQixFQUF3QixPQUF4QixFQUFpQyxXQUFqQyxFQUE4QyxVQUFVLFNBQVYsY0FBVSxXQUFWLEdBQVUsTUFBVixhQUFVLENBQUUsTUFBMUQsQ0FBckM7O0FBQ0EsVUFBSSxVQUFVLEdBQXVCLEtBQUksQ0FBQyxhQUFMLENBQW1CLEdBQW5CLEVBQXdCLE9BQXhCLEVBQWlDLFdBQWpDLEVBQThDLFVBQVUsU0FBVixjQUFVLFdBQVYsR0FBVSxNQUFWLGFBQVUsQ0FBRSxNQUExRCxDQUFyQzs7QUFDQSxVQUFJLFdBQVcsR0FBdUIsS0FBSSxDQUFDLGNBQUwsQ0FBb0IsR0FBcEIsRUFBeUIsT0FBekIsRUFBa0MsV0FBbEMsRUFBK0MsVUFBVSxTQUFWLGNBQVUsV0FBVixHQUFVLE1BQVYsYUFBVSxDQUFFLEtBQTNELENBQXRDOztBQUVBLGdCQUFVLENBQUMsT0FBWCxHQUFxQixHQUFHLEdBQUcsSUFBM0I7QUFFQSxnQkFBVSxDQUFDLE9BQVgsR0FBcUIsR0FBRyxHQUFHLElBQTNCOztBQUVBLFVBQUksV0FBVyxJQUFJLFlBQW5CLEVBQWlDO0FBRTdCLGtCQUFVLENBQUMsT0FBWCxHQUFxQixVQUFHLE9BQUgsRUFBVSxPQUFWLEVBQVUsTUFBVixDQUFrQixPQUFsQixFQUF5QixLQUF6QixFQUF5QixNQUF6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QixjQWY1QjtBQWlCSCxLQWpDRDs7QUFtQ0EsMEJBQWlCLFVBQUMsR0FBRCxFQUFNLE9BQU4sRUFBZSxXQUFmLEVBQTRCLGVBQTVCLEVBQTJDO0FBQ3hELFVBQUksR0FBSixFQUFTLElBQVQsRUFBZSxLQUFmLEVBQXNCLE1BQXRCLENBRHdELENBQzNCOztBQUU3QixVQUFJLFdBQVcsSUFBSSxVQUFuQixFQUErQjtBQUMzQixXQUFHLEdBQUcsT0FBTyxHQUFHLElBQWhCO0FBQ0EsWUFBSSxHQUFHLE1BQVA7QUFDQSxhQUFLLEdBQUcsTUFBUjtBQUNBLGNBQU0sR0FBRyxNQUFUO0FBQ0gsT0FMRCxNQUtPO0FBQ0gsV0FBRyxHQUFHLE1BQU47QUFDQSxZQUFJLEdBQUcsT0FBTyxHQUFHLElBQWpCO0FBQ0EsYUFBSyxHQUFHLENBQVI7QUFDQSxjQUFNLEdBQUcsTUFBVDtBQUNIOztBQUVELG1DQUFZO0FBQ1IsZ0JBQVEsRUFBRSxVQURGO0FBRVIsV0FBRyxLQUZLO0FBR1IsWUFBSSxNQUhJO0FBSVIsYUFBSyxPQUpHO0FBS1IsY0FBTTtBQUxFLE9BQVosR0FPNEIsZUFQNUI7QUFTSCxLQXhCRDs7QUFySkUsU0FBSyxXQUFMLEdBQW1CLFdBQW5CO0FBRUQ7O0FBNktMO0FBQUMsQ0FuTEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zdHlsZXNtYW5hZ2VyLnRzeD8xYWIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlc21hbmFnZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVzTWFuYWdlciB7IFxuXG4gICBjb25zdHJ1Y3Rvcihjb21tb25Qcm9wcykge1xuXG4gICAgICB0aGlzLmNvbW1vblByb3BzID0gY29tbW9uUHJvcHNcblxuICAgIH1cblxuICAgIGNvbW1vblByb3BzXG5cbiAgICBzZXRDcmFkbGVTdHlsZXMgPSAoe1xuXG4gICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgIGNlbGxXaWR0aCwgXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZywgXG4gICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgIHVzZXJzdHlsZXMsXG5cbiAgICB9KSA9PiB7XG5cbiAgICAgICAgLy8gVE9ETzogY2hhbmdlICdjcmFkbGUnIHRvICdoZWFkJyBhbmQgJ3RhaWwnIGZvciBtb3JlIGdyYW51bGFyaXR5XG4gICAgICAgIGxldCBoZWFkc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB0aGlzLmdldEhlYWRTdHlsZXMoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbiwgdXNlcnN0eWxlcz8uY3JhZGxlKVxuICAgICAgICBsZXQgdGFpbHN0eWxlczpSZWFjdC5DU1NQcm9wZXJ0aWVzID0gdGhpcy5nZXRUYWlsU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXM/LmNyYWRsZSlcbiAgICAgICAgbGV0IHNwaW5lc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB0aGlzLmdldFNwaW5lU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXM/LnNwaW5lKVxuXG4gICAgICAgIGhlYWRzdHlsZXMuZ3JpZEdhcCA9IGdhcCArICdweCdcblxuICAgICAgICB0YWlsc3R5bGVzLmdyaWRHYXAgPSBnYXAgKyAncHgnXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLnBhZGRpbmcgPSBgJHtwYWRkaW5nfXB4IDAgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy53aWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ2NvbHVtbidcbiAgICAgICAgICAgIC8vIGV4cGxpY3QgY3Jvc3Njb3VudCBuZXh0IGxpbmUgYXMgd29ya2Fyb3VuZCBmb3IgRkYgcHJvYmxlbSAtIFxuICAgICAgICAgICAgLy8gICAgIHNldHMgbGVuZ3RoIG9mIGhvcml6IGNyYWRsZSBpdGVtcyBpbiBvbmUgbGluZSAocm93KSwgbm90IG11bHRpLXJvdyBjb25maWdcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9IGNlbGxIZWlnaHQ/YHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6J2F1dG8nXG4gICAgICAgICAgICAvLyBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBjZWxsSGVpZ2h0P2ByZXBlYXQoYXV0by1maXQsIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYDonYXV0bydcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9ICdub25lJ1xuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLnBhZGRpbmcgPSBgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHggMGBcblxuICAgICAgICAgICAgdGFpbHN0eWxlcy53aWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5oZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ2NvbHVtbidcbiAgICAgICAgICAgIC8vIGV4cGxpY3QgY3Jvc3Njb3VudCBuZXh0IGxpbmUgYXMgd29ya2Fyb3VuZCBmb3IgRkYgcHJvYmxlbSAtIFxuICAgICAgICAgICAgLy8gICAgIHNldHMgbGVuZ3RoIG9mIGhvcml6IGNyYWRsZSBpdGVtcyBpbiBvbmUgbGluZSAocm93KSwgbm90IG11bHRpLXJvdyBjb25maWdcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9IGNlbGxIZWlnaHQ/YHJlcGVhdCgke2Nyb3NzY291bnR9LCBtaW5tYXgoJHtjZWxsSGVpZ2h0fXB4LCAxZnIpKWA6J2F1dG8nXG4gICAgICAgICAgICAvLyB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBjZWxsSGVpZ2h0P2ByZXBlYXQoYXV0by1maXQsIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYDonYXV0bydcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9ICdub25lJ1xuXG4gICAgICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLnBhZGRpbmcgPSBgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9GbG93ID0gJ3JvdydcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gJ25vbmUnXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBjZWxsV2lkdGg/YHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWA6J2F1dG8nXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAwICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgICAgICB0YWlsc3R5bGVzLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAncm93J1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSAnbm9uZSdcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGNlbGxXaWR0aD9gcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoJHtjZWxsV2lkdGh9cHgsIDFmcikpYDonYXV0bydcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtoZWFkc3R5bGVzLHRhaWxzdHlsZXMsc3BpbmVzdHlsZXNdXG4gICAgICAgIFxuICAgIH1cblxuICAgIGdldEhlYWRTdHlsZXMgPSAoZ2FwLHBhZGRpbmcsb3JpZW50YXRpb24sdXNlcmhlYWRzdHlsZXMpID0+IHtcblxuICAgICAgICBsZXQgYm90dG9tLCBsZWZ0LCB0b3AsIHJpZ2h0XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSAwXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9ICdhdXRvJ1xuICAgICAgICAgICAgcmlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gey4uLntcblxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdibHVlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgIGdyaWRHYXA6IGdhcCArICdweCcsXG4gICAgICAgICAgICBwYWRkaW5nOiBwYWRkaW5nICsgJ3B4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OidzdGFydCcsXG4gICAgICAgICAgICBhbGlnbkNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB0b3AsXG5cbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLC4uLnVzZXJoZWFkc3R5bGVzfVxuXG4gICAgfVxuXG4gICAgZ2V0VGFpbFN0eWxlcyA9IChnYXAscGFkZGluZyxvcmllbnRhdGlvbix1c2VydGFpbHN0eWxlcykgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gJ2F1dG8nXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b20gPSAwXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSAnYXV0bydcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7Li4ue1xuXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JsdWUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgZ3JpZEdhcDogZ2FwICsgJ3B4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcgKyAncHgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6J3N0YXJ0JyxcbiAgICAgICAgICAgIGFsaWduQ29udGVudDonc3RhcnQnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIGJvdHRvbSxcblxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsLi4udXNlcnRhaWxzdHlsZXN9XG5cbiAgICB9XG5cbiAgICBnZXRTcGluZVN0eWxlcyA9IChnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2Vyc3BpbmVzdHlsZXMpID0+IHtcbiAgICAgICAgbGV0IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCAvLyBmb3Igc3BpbmVcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgdG9wID0gcGFkZGluZyArICdweCdcbiAgICAgICAgICAgIGxlZnQgPSAnYXV0bydcbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IHBhZGRpbmcgKyAncHgnXG4gICAgICAgICAgICB3aWR0aCA9IDBcbiAgICAgICAgICAgIGhlaWdodCA9ICcxMDAlJ1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgLi4ue1xuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG5cbiAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzLC4uLnVzZXJzcGluZXN0eWxlc31cblxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/stylesmanager.tsx\n");

/***/ }),

/***/ "./src/infinitegridscroller.tsx":
/*!**************************************!*\
  !*** ./src/infinitegridscroller.tsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // infinitegridscroller.tsx\n// copyright (c) 2019-2021 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    BUG: repositioningA is broken.\n    TODO:\n    - make sure outportal locations are unmounted before outportal is moved\n    - check use of useCallback\n    - resize triggered by root only, unless variable\n    - intersection applied to cradle only\n    - test for two root portals\n    - nested list overflows port boundaries on android FF\n    - promote system constants to 'advanced' parameter, eg RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE\n    - break up cradle\n    - change portalmanager to simple object (singleton)\n    - calc minwidth by form factor\n    - use state machine logic throughout\n    - consider rendering client content offscreen instead of display none\n    - review scroller-frame for appropriate dimensions - s/b inset:0;position:absolute\n    - add grid-template-rows: max-content to parent for safari issue grid-auto-flow: column not filling column\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __importDefault(__webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\"));\n\nvar scrollblock_1 = __importDefault(__webpack_require__(/*! ./scrollblock */ \"./src/scrollblock.tsx\"));\n\nvar cradle_1 = __importDefault(__webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\"));\n\nvar globalScrollerID = 0;\n\nvar getNextScrollerSessionID = function getNextScrollerSessionID() {\n  // console.log('getting globalScrollerID',globalScrollerID)\n  return globalScrollerID++;\n};\n\nvar portalrootstyle = {\n  display: 'none'\n}; // static parm\n// ===================================[ INITIALIZE ]===========================\n\n/*\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the scrollblock, fullsize for adjusted cell height/width, which in turn contains the cradle\n        - a component that contains CellShells (which contain displayed items or transitional placeholders).\n    The CellShells are skeletons which contain the host content components.\n\n    Host content is created in a portal cache (via PortalAgent) and then portal'd to its host CellShell\n\n    Scrollblock virtually represents the entirety of the list, and is the scroller\n\n    Cradle contains the list items, and is 'virtualized' -- it appears as\n      though it is the full scrollblock, but in fact it is only slightly larger than\n      the viewport.\n    - individual items are framed by CellShell, managed by Cradle\n\n    Overall the infinitegridscroller manages the (often asynchronous) interactions of the\n    components of the mechanism\n*/\n\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  var orientation = props.orientation,\n      // vertical or horizontal\n  gap = props.gap,\n      // space between grid cells, not including the leading and trailing edges\n  padding = props.padding,\n      // the space between the items and the viewport, applied to the cradle\n  cellHeight = props.cellHeight,\n      // the outer pixel height - literal for vertical; approximate for horizontal\n  cellWidth = props.cellWidth,\n      // the outer pixel width - literal for horizontal; approximate for vertical\n  runwaySize = props.runwaySize,\n      // the number of items outside the view of each side of the viewport \n  // -- gives time to assemble before display\n  listSize = props.listSize,\n      // the exact number of the size of the virtual list; will eventually be changable.\n  defaultVisibleIndex = props.indexOffset,\n      // the 0-based starting index of the list, when first loaded\n  getItem = props.getItem,\n      // function provided by host - parameter is index number, set by system; return value is \n  // host-selected component or promise of a component\n  functions = props.functions,\n      // properties with direct access to some component utilites, optional\n  placeholder = props.placeholder,\n      // a sparse component to stand in for content until the content arrives; \n  // optional, replaces default placeholder\n  styles = props.styles,\n      // passive style over-rides (eg. color, opacity); has \n  // properties viewport, scrollblock, cradle, or scrolltracker\n  // to come...\n  // cache = \"preload\" or \"keepload\" or \"none\"\n  // dense, // boolean (only with preload)\n  // advanced, technical settings like useRequestIdleCallback, and RequestIdleCallbackTimeout\n  layout = props.layout,\n      // uniform, variable\n  scrollerName = props.scrollerName; // for mount\n\n  var scrollerSessionIDRef = (0, react_1.useRef)(null);\n\n  var _a = (0, react_1.useState)('setup'),\n      scrollerstate = _a[0],\n      setScollerState = _a[1];\n\n  (0, react_1.useEffect)(function () {\n    var sessionID = getNextScrollerSessionID();\n    scrollerSessionIDRef.current = sessionID;\n    setScollerState('render');\n  }, []); // (scrollerSessionIDRef.current == 1) && console.log('RUNNING infinitegridscroller scrollerSessionID, scrollerstate, listSize',\n  //     scrollerSessionIDRef.current,scrollerstate, listSize)\n  // set defaults\n\n  functions !== null && functions !== void 0 ? functions : functions = {};\n  gap !== null && gap !== void 0 ? gap : gap = 0;\n  padding !== null && padding !== void 0 ? padding : padding = 0;\n  runwaySize !== null && runwaySize !== void 0 ? runwaySize : runwaySize = 3;\n  defaultVisibleIndex !== null && defaultVisibleIndex !== void 0 ? defaultVisibleIndex : defaultVisibleIndex = 0;\n  listSize !== null && listSize !== void 0 ? listSize : listSize = 0;\n  layout !== null && layout !== void 0 ? layout : layout = 'uniform'; // constraints\n\n  defaultVisibleIndex = Math.max(0, defaultVisibleIndex); // non-negative\n\n  defaultVisibleIndex = Math.min(listSize, defaultVisibleIndex); // not larger than list\n\n  if (!['horizontal', 'vertical'].includes(orientation)) {\n    orientation = 'vertical';\n  }\n\n  return scrollerstate == 'render' && react_1[\"default\"].createElement(viewport_1[\"default\"], {\n    orientation: orientation,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight,\n    gap: gap,\n    padding: padding,\n    functions: functions,\n    styles: styles,\n    scrollerID: scrollerSessionIDRef.current\n  }, react_1[\"default\"].createElement(scrollblock_1[\"default\"], {\n    listsize: listSize,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight,\n    gap: gap,\n    padding: padding,\n    orientation: orientation,\n    functions: functions,\n    styles: styles,\n    scrollerID: scrollerSessionIDRef.current\n  }, react_1[\"default\"].createElement(cradle_1[\"default\"], {\n    gap: gap,\n    padding: padding,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight,\n    listsize: listSize,\n    defaultVisibleIndex: defaultVisibleIndex,\n    orientation: orientation,\n    getItem: getItem,\n    functions: functions,\n    placeholder: placeholder,\n    styles: styles,\n    runwaycount: runwaySize,\n    scrollerName: scrollerName,\n    scrollerID: scrollerSessionIDRef.current\n  })));\n};\n\nexports[\"default\"] = InfiniteGridScroller;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5maW5pdGVncmlkc2Nyb2xsZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCRTs7QUFFRjs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLGdCQUFnQixHQUFHLENBQXZCOztBQUNBLElBQU0sd0JBQXdCLEdBQUcsU0FBM0Isd0JBQTJCO0FBQzdCO0FBQ0EsU0FBTyxnQkFBZ0IsRUFBdkI7QUFDSCxDQUhEOztBQUtBLElBQU0sZUFBZSxHQUFHO0FBQUMsU0FBTyxFQUFDO0FBQVQsQ0FBeEIsQyxDQUF5QztBQUV6Qzs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkU7O0FBQ0YsSUFBTSxvQkFBb0IsR0FBRyxTQUF2QixvQkFBdUIsQ0FBQyxLQUFELEVBQU07QUFFM0IsaUJBQVcsR0FzQlgsS0FBSyxDQXRCTSxXQUFYO0FBQUEsTUFBYTtBQUNiLEtBQUcsR0FxQkgsS0FBSyxDQXJCRixHQURIO0FBQUEsTUFDSztBQUNMLFNBQU8sR0FvQlAsS0FBSyxDQXBCRSxPQUZQO0FBQUEsTUFFUztBQUNULFlBQVUsR0FtQlYsS0FBSyxDQW5CSyxVQUhWO0FBQUEsTUFHWTtBQUNaLFdBQVMsR0FrQlQsS0FBSyxDQWxCSSxTQUpUO0FBQUEsTUFJVztBQUNYLFlBQVUsR0FpQlYsS0FBSyxDQWpCSyxVQUxWO0FBQUEsTUFLWTtBQUNSO0FBQ0osVUFBUSxHQWVSLEtBQUssQ0FmRyxRQVBSO0FBQUEsTUFPVTtBQUNFLHFCQUFtQixHQWMvQixLQUFLLENBZDBCLFdBUi9CO0FBQUEsTUFRaUM7QUFDakMsU0FBTyxHQWFQLEtBQUssQ0FiRSxPQVRQO0FBQUEsTUFTUztBQUNMO0FBQ0osV0FBUyxHQVdULEtBQUssQ0FYSSxTQVhUO0FBQUEsTUFXVztBQUNYLGFBQVcsR0FVWCxLQUFLLENBVk0sV0FaWDtBQUFBLE1BWWE7QUFDVDtBQUNKLFFB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QUEyR0EscUJBQWUsb0JBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2luZmluaXRlZ3JpZHNjcm9sbGVyLnRzeD82M2UwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGluZmluaXRlZ3JpZHNjcm9sbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjEgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBCVUc6IHJlcG9zaXRpb25pbmdBIGlzIGJyb2tlbi5cbiAgICBUT0RPOlxuICAgIC0gbWFrZSBzdXJlIG91dHBvcnRhbCBsb2NhdGlvbnMgYXJlIHVubW91bnRlZCBiZWZvcmUgb3V0cG9ydGFsIGlzIG1vdmVkXG4gICAgLSBjaGVjayB1c2Ugb2YgdXNlQ2FsbGJhY2tcbiAgICAtIHJlc2l6ZSB0cmlnZ2VyZWQgYnkgcm9vdCBvbmx5LCB1bmxlc3MgdmFyaWFibGVcbiAgICAtIGludGVyc2VjdGlvbiBhcHBsaWVkIHRvIGNyYWRsZSBvbmx5XG4gICAgLSB0ZXN0IGZvciB0d28gcm9vdCBwb3J0YWxzXG4gICAgLSBuZXN0ZWQgbGlzdCBvdmVyZmxvd3MgcG9ydCBib3VuZGFyaWVzIG9uIGFuZHJvaWQgRkZcbiAgICAtIHByb21vdGUgc3lzdGVtIGNvbnN0YW50cyB0byAnYWR2YW5jZWQnIHBhcmFtZXRlciwgZWcgUkVTSVpFX1RJTUVPVVRfRk9SX09OQUZURVJTUkVTSVpFXG4gICAgLSBicmVhayB1cCBjcmFkbGVcbiAgICAtIGNoYW5nZSBwb3J0YWxtYW5hZ2VyIHRvIHNpbXBsZSBvYmplY3QgKHNpbmdsZXRvbilcbiAgICAtIGNhbGMgbWlud2lkdGggYnkgZm9ybSBmYWN0b3JcbiAgICAtIHVzZSBzdGF0ZSBtYWNoaW5lIGxvZ2ljIHRocm91Z2hvdXRcbiAgICAtIGNvbnNpZGVyIHJlbmRlcmluZyBjbGllbnQgY29udGVudCBvZmZzY3JlZW4gaW5zdGVhZCBvZiBkaXNwbGF5IG5vbmVcbiAgICAtIHJldmlldyBzY3JvbGxlci1mcmFtZSBmb3IgYXBwcm9wcmlhdGUgZGltZW5zaW9ucyAtIHMvYiBpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlXG4gICAgLSBhZGQgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXgtY29udGVudCB0byBwYXJlbnQgZm9yIHNhZmFyaSBpc3N1ZSBncmlkLWF1dG8tZmxvdzogY29sdW1uIG5vdCBmaWxsaW5nIGNvbHVtblxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnXG5pbXBvcnQgU2Nyb2xsYmxvY2sgZnJvbSAnLi9zY3JvbGxibG9jaydcbmltcG9ydCBDcmFkbGUgZnJvbSAnLi9jcmFkbGUnXG5cbmxldCBnbG9iYWxTY3JvbGxlcklEID0gMFxuY29uc3QgZ2V0TmV4dFNjcm9sbGVyU2Vzc2lvbklEID0gKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdnZXR0aW5nIGdsb2JhbFNjcm9sbGVySUQnLGdsb2JhbFNjcm9sbGVySUQpXG4gICAgcmV0dXJuIGdsb2JhbFNjcm9sbGVySUQrK1xufVxuXG5jb25zdCBwb3J0YWxyb290c3R5bGUgPSB7ZGlzcGxheTonbm9uZSd9IC8vIHN0YXRpYyBwYXJtXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09WyBJTklUSUFMSVpFIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLypcbiAgICBUaGUgam9iIG9mIEluZmluaXRlR3JpZFNjcm9sbGVyIGlzIHRvIHBhc3MgcGFyYW1ldGVycyB0byBkZXBlbmRlbnRzLlxuICAgIFZpZXdwb3J0IGNvbnRhaW5zIHRoZSBzY3JvbGxibG9jaywgZnVsbHNpemUgZm9yIGFkanVzdGVkIGNlbGwgaGVpZ2h0L3dpZHRoLCB3aGljaCBpbiB0dXJuIGNvbnRhaW5zIHRoZSBjcmFkbGUgXG4gICAgICAgIC0gYSBjb21wb25lbnQgdGhhdCBjb250YWlucyBDZWxsU2hlbGxzICh3aGljaCBjb250YWluIGRpc3BsYXllZCBpdGVtcyBvciB0cmFuc2l0aW9uYWwgcGxhY2Vob2xkZXJzKS4gXG4gICAgVGhlIENlbGxTaGVsbHMgYXJlIHNrZWxldG9ucyB3aGljaCBjb250YWluIHRoZSBob3N0IGNvbnRlbnQgY29tcG9uZW50cy5cblxuICAgIEhvc3QgY29udGVudCBpcyBjcmVhdGVkIGluIGEgcG9ydGFsIGNhY2hlICh2aWEgUG9ydGFsQWdlbnQpIGFuZCB0aGVuIHBvcnRhbCdkIHRvIGl0cyBob3N0IENlbGxTaGVsbFxuXG4gICAgU2Nyb2xsYmxvY2sgdmlydHVhbGx5IHJlcHJlc2VudHMgdGhlIGVudGlyZXR5IG9mIHRoZSBsaXN0LCBhbmQgaXMgdGhlIHNjcm9sbGVyXG5cbiAgICBDcmFkbGUgY29udGFpbnMgdGhlIGxpc3QgaXRlbXMsIGFuZCBpcyAndmlydHVhbGl6ZWQnIC0tIGl0IGFwcGVhcnMgYXNcbiAgICAgIHRob3VnaCBpdCBpcyB0aGUgZnVsbCBzY3JvbGxibG9jaywgYnV0IGluIGZhY3QgaXQgaXMgb25seSBzbGlnaHRseSBsYXJnZXIgdGhhblxuICAgICAgdGhlIHZpZXdwb3J0LlxuICAgIC0gaW5kaXZpZHVhbCBpdGVtcyBhcmUgZnJhbWVkIGJ5IENlbGxTaGVsbCwgbWFuYWdlZCBieSBDcmFkbGVcblxuICAgIE92ZXJhbGwgdGhlIGluZmluaXRlZ3JpZHNjcm9sbGVyIG1hbmFnZXMgdGhlIChvZnRlbiBhc3luY2hyb25vdXMpIGludGVyYWN0aW9ucyBvZiB0aGUgXG4gICAgY29tcG9uZW50cyBvZiB0aGUgbWVjaGFuaXNtXG4qL1xuY29uc3QgSW5maW5pdGVHcmlkU2Nyb2xsZXIgPSAocHJvcHMpID0+IHtcbiAgICBsZXQgeyBcbiAgICAgICAgb3JpZW50YXRpb24sIC8vIHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICAgICAgZ2FwLCAvLyBzcGFjZSBiZXR3ZWVuIGdyaWQgY2VsbHMsIG5vdCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGVkZ2VzXG4gICAgICAgIHBhZGRpbmcsIC8vIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBpdGVtcyBhbmQgdGhlIHZpZXdwb3J0LCBhcHBsaWVkIHRvIHRoZSBjcmFkbGVcbiAgICAgICAgY2VsbEhlaWdodCwgLy8gdGhlIG91dGVyIHBpeGVsIGhlaWdodCAtIGxpdGVyYWwgZm9yIHZlcnRpY2FsOyBhcHByb3hpbWF0ZSBmb3IgaG9yaXpvbnRhbFxuICAgICAgICBjZWxsV2lkdGgsIC8vIHRoZSBvdXRlciBwaXhlbCB3aWR0aCAtIGxpdGVyYWwgZm9yIGhvcml6b250YWw7IGFwcHJveGltYXRlIGZvciB2ZXJ0aWNhbFxuICAgICAgICBydW53YXlTaXplLCAvLyB0aGUgbnVtYmVyIG9mIGl0ZW1zIG91dHNpZGUgdGhlIHZpZXcgb2YgZWFjaCBzaWRlIG9mIHRoZSB2aWV3cG9ydCBcbiAgICAgICAgICAgIC8vIC0tIGdpdmVzIHRpbWUgdG8gYXNzZW1ibGUgYmVmb3JlIGRpc3BsYXlcbiAgICAgICAgbGlzdFNpemUsIC8vIHRoZSBleGFjdCBudW1iZXIgb2YgdGhlIHNpemUgb2YgdGhlIHZpcnR1YWwgbGlzdDsgd2lsbCBldmVudHVhbGx5IGJlIGNoYW5nYWJsZS5cbiAgICAgICAgaW5kZXhPZmZzZXQ6ZGVmYXVsdFZpc2libGVJbmRleCwgLy8gdGhlIDAtYmFzZWQgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGxpc3QsIHdoZW4gZmlyc3QgbG9hZGVkXG4gICAgICAgIGdldEl0ZW0sIC8vIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGhvc3QgLSBwYXJhbWV0ZXIgaXMgaW5kZXggbnVtYmVyLCBzZXQgYnkgc3lzdGVtOyByZXR1cm4gdmFsdWUgaXMgXG4gICAgICAgICAgICAvLyBob3N0LXNlbGVjdGVkIGNvbXBvbmVudCBvciBwcm9taXNlIG9mIGEgY29tcG9uZW50XG4gICAgICAgIGZ1bmN0aW9ucywgLy8gcHJvcGVydGllcyB3aXRoIGRpcmVjdCBhY2Nlc3MgdG8gc29tZSBjb21wb25lbnQgdXRpbGl0ZXMsIG9wdGlvbmFsXG4gICAgICAgIHBsYWNlaG9sZGVyLCAvLyBhIHNwYXJzZSBjb21wb25lbnQgdG8gc3RhbmQgaW4gZm9yIGNvbnRlbnQgdW50aWwgdGhlIGNvbnRlbnQgYXJyaXZlczsgXG4gICAgICAgICAgICAvLyBvcHRpb25hbCwgcmVwbGFjZXMgZGVmYXVsdCBwbGFjZWhvbGRlclxuICAgICAgICBzdHlsZXMsIC8vIHBhc3NpdmUgc3R5bGUgb3Zlci1yaWRlcyAoZWcuIGNvbG9yLCBvcGFjaXR5KTsgaGFzIFxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyB2aWV3cG9ydCwgc2Nyb2xsYmxvY2ssIGNyYWRsZSwgb3Igc2Nyb2xsdHJhY2tlclxuICAgICAgICAvLyB0byBjb21lLi4uXG4gICAgICAgIC8vIGNhY2hlID0gXCJwcmVsb2FkXCIgb3IgXCJrZWVwbG9hZFwiIG9yIFwibm9uZVwiXG4gICAgICAgIC8vIGRlbnNlLCAvLyBib29sZWFuIChvbmx5IHdpdGggcHJlbG9hZClcbiAgICAgICAgLy8gYWR2YW5jZWQsIHRlY2huaWNhbCBzZXR0aW5ncyBsaWtlIHVzZVJlcXVlc3RJZGxlQ2FsbGJhY2ssIGFuZCBSZXF1ZXN0SWRsZUNhbGxiYWNrVGltZW91dFxuICAgICAgICBsYXlvdXQsIC8vIHVuaWZvcm0sIHZhcmlhYmxlXG4gICAgICAgIHNjcm9sbGVyTmFtZSwgLy8gZm9yIGRlYnVnZ2luZ1xuICAgIH0gPSBwcm9wc1xuXG4gICAgLy8gZm9yIG1vdW50XG4gICAgY29uc3Qgc2Nyb2xsZXJTZXNzaW9uSURSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IFtzY3JvbGxlcnN0YXRlLHNldFNjb2xsZXJTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgY29uc3Qgc2Vzc2lvbklEID0gZ2V0TmV4dFNjcm9sbGVyU2Vzc2lvbklEKClcbiAgICAgICAgc2Nyb2xsZXJTZXNzaW9uSURSZWYuY3VycmVudCA9IHNlc3Npb25JRFxuXG4gICAgICAgIHNldFNjb2xsZXJTdGF0ZSgncmVuZGVyJylcblxuICAgIH0sW10pO1xuXG4gICAgLy8gKHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQgPT0gMSkgJiYgY29uc29sZS5sb2coJ1JVTk5JTkcgaW5maW5pdGVncmlkc2Nyb2xsZXIgc2Nyb2xsZXJTZXNzaW9uSUQsIHNjcm9sbGVyc3RhdGUsIGxpc3RTaXplJyxcbiAgICAvLyAgICAgc2Nyb2xsZXJTZXNzaW9uSURSZWYuY3VycmVudCxzY3JvbGxlcnN0YXRlLCBsaXN0U2l6ZSlcblxuICAgIC8vIHNldCBkZWZhdWx0c1xuICAgIGZ1bmN0aW9ucyA/PyAoZnVuY3Rpb25zID0ge30pXG4gICAgZ2FwID8/IChnYXAgPSAwKVxuICAgIHBhZGRpbmcgPz8gKHBhZGRpbmcgPSAwKVxuICAgIHJ1bndheVNpemUgPz8gKHJ1bndheVNpemUgPSAzKVxuICAgIGRlZmF1bHRWaXNpYmxlSW5kZXggPz8gKGRlZmF1bHRWaXNpYmxlSW5kZXggPSAwKVxuICAgIGxpc3RTaXplID8/IChsaXN0U2l6ZSA9IDApXG4gICAgbGF5b3V0ID8/IChsYXlvdXQgPSAndW5pZm9ybScpXG4gICAgLy8gY29uc3RyYWludHNcbiAgICBkZWZhdWx0VmlzaWJsZUluZGV4ID0gTWF0aC5tYXgoMCxkZWZhdWx0VmlzaWJsZUluZGV4KSAvLyBub24tbmVnYXRpdmVcbiAgICBkZWZhdWx0VmlzaWJsZUluZGV4ID0gTWF0aC5taW4obGlzdFNpemUsIGRlZmF1bHRWaXNpYmxlSW5kZXgpIC8vIG5vdCBsYXJnZXIgdGhhbiBsaXN0XG4gICAgaWYgKCFbJ2hvcml6b250YWwnLCd2ZXJ0aWNhbCddLmluY2x1ZGVzKG9yaWVudGF0aW9uKSkge1xuICAgICAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCdcbiAgICB9XG5cbiAgICByZXR1cm4gKChzY3JvbGxlcnN0YXRlID09ICdyZW5kZXInKSAmJiBcbiAgICAgICAgPFZpZXdwb3J0XG5cbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0geyBvcmllbnRhdGlvbiB9IFxuICAgICAgICAgICAgY2VsbFdpZHRoID0geyBjZWxsV2lkdGggfVxuICAgICAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgICAgICBnYXAgPSB7IGdhcCB9XG4gICAgICAgICAgICBwYWRkaW5nID0geyBwYWRkaW5nIH1cbiAgICAgICAgICAgIGZ1bmN0aW9ucyA9IHsgZnVuY3Rpb25zIH1cbiAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzIH1cbiAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQgfVxuICAgICAgICA+XG4gICAgICAgIFxuICAgICAgICAgICAgPFNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgICAgICBsaXN0c2l6ZSA9IHsgbGlzdFNpemUgfVxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0ID0geyBjZWxsSGVpZ2h0IH1cbiAgICAgICAgICAgICAgICBnYXAgPSB7IGdhcH1cbiAgICAgICAgICAgICAgICBwYWRkaW5nID0geyBwYWRkaW5nIH1cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHsgb3JpZW50YXRpb24gfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9ucyA9IHsgZnVuY3Rpb25zIH1cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlcyB9XG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJTZXNzaW9uSURSZWYuY3VycmVudCB9XG5cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q3JhZGxlIFxuXG4gICAgICAgICAgICAgICAgICAgIGdhcCA9IHsgZ2FwIH1cbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZyA9IHsgcGFkZGluZyB9XG4gICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0U2l6ZSB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaXNpYmxlSW5kZXggPSB7IGRlZmF1bHRWaXNpYmxlSW5kZXggfVxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IHsgb3JpZW50YXRpb24gfVxuICAgICAgICAgICAgICAgICAgICBnZXRJdGVtID0geyBnZXRJdGVtIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25zID0geyBmdW5jdGlvbnMgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlcyB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bndheWNvdW50ID0geyBydW53YXlTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJOYW1lID0geyBzY3JvbGxlck5hbWUgfVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50IH1cblxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Njcm9sbGJsb2NrPlxuICAgICAgICA8L1ZpZXdwb3J0PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/infinitegridscroller.tsx\n");

/***/ }),

/***/ "./src/placeholder.tsx":
/*!*****************************!*\
  !*** ./src/placeholder.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // placeholder.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar Placeholder = function Placeholder(_a) {\n  var index = _a.index,\n      listsize = _a.listsize,\n      error = _a.error;\n  var stylesRef = (0, react_1.useRef)({\n    position: 'relative',\n    boxSizing: 'border-box',\n    backgroundColor: 'cyan',\n    border: '2px solid black',\n    height: '100%',\n    width: '100%'\n  });\n  var itemStylesRef = (0, react_1.useRef)({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    padding: '3px',\n    opacity: .5,\n    borderRadius: '8px',\n    backgroundColor: 'white',\n    margin: '3px',\n    fontSize: 'smaller'\n  });\n  return react_1[\"default\"].createElement(\"div\", {\n    style: stylesRef.current\n  }, !error ? react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, index + 1, \"/\", listsize) : react_1[\"default\"].createElement(\"div\", {\n    style: itemStylesRef.current\n  }, \"item is not available at this time\"));\n};\n\nexports[\"default\"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGxhY2Vob2xkZXIudHN4LmpzIiwibWFwcGluZ3MiOiJDQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFFQSxJQUFNLFdBQVcsR0FBRyxTQUFkLFdBQWMsQ0FBQyxFQUFELEVBQXlCO01BQXZCLEtBQUssVztNQUFFLFFBQVEsYztNQUFFLEtBQUssVztBQUV4QyxNQUFNLFNBQVMsR0FBRyxvQkFBTztBQUNyQixZQUFRLEVBQUMsVUFEWTtBQUVyQixhQUFTLEVBQUMsWUFGVztBQUdyQixtQkFBZSxFQUFDLE1BSEs7QUFJckIsVUFBTSxFQUFDLGlCQUpjO0FBS3JCLFVBQU0sRUFBQyxNQUxjO0FBTXJCLFNBQUssRUFBQztBQU5lLEdBQVAsQ0FBbEI7QUFRQSxNQUFNLGFBQWEsR0FBRyxvQkFDbEI7QUFDSSxZQUFRLEVBQUMsVUFEYjtBQUVJLE9BQUcsRUFBQyxDQUZSO0FBR0ksUUFBSSxFQUFDLENBSFQ7QUFJSSxXQUFPLEVBQUMsS0FKWjtBQUtJLFdBQU8sRUFBQyxFQUxaO0FBTUksZ0JBQVksRUFBQyxLQU5qQjtBQU9JLG1CQUFlLEVBQUMsT0FQcEI7QUFRSSxVQUFNLEVBQUMsS0FSWDtBQVNJLFlBQVEsRUFBQztBQVRiLEdBRGtCLENBQXRCO0FBY0EsU0FBTztBQUFLLFNBQUssRUFBSSxTQUFTLENBQUM7QUFBeEIsS0FDRCxDQUFDLEtBQUQsR0FDRTtBQUFLLFNBQUssRUFBSSxhQUFhLENBQUM7QUFBNUIsS0FBc0MsS0FBSyxHQUFHLENBQTlDLEUsR0FBQSxFQUFrRCxRQUFsRCxDQURGLEdBRUU7QUFBSyxTQUFLLEVBQUksYUFBYSxDQUFDO0FBQTVCLEtBQW1DLG9DQUFuQyxDQUhELENBQVA7QUFPSCxDQS9CRDs7QUFpQ0EscUJBQWUsV0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvcGxhY2Vob2xkZXIudHN4PzExMzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGxhY2Vob2xkZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBQbGFjZWhvbGRlciA9ICh7aW5kZXgsIGxpc3RzaXplLCBlcnJvcn0pID0+IHtcblxuICAgIGNvbnN0IHN0eWxlc1JlZiA9IHVzZVJlZih7XG4gICAgICAgIHBvc2l0aW9uOidyZWxhdGl2ZScsXG4gICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjonY3lhbicsXG4gICAgICAgIGJvcmRlcjonMnB4IHNvbGlkIGJsYWNrJyxcbiAgICAgICAgaGVpZ2h0OicxMDAlJyxcbiAgICAgICAgd2lkdGg6JzEwMCUnXG4gICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzKVxuICAgIGNvbnN0IGl0ZW1TdHlsZXNSZWYgPSB1c2VSZWYoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6MCxcbiAgICAgICAgICAgIGxlZnQ6MCxcbiAgICAgICAgICAgIHBhZGRpbmc6JzNweCcsXG4gICAgICAgICAgICBvcGFjaXR5Oi41LFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOic4cHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOid3aGl0ZScsIFxuICAgICAgICAgICAgbWFyZ2luOiczcHgnLFxuICAgICAgICAgICAgZm9udFNpemU6J3NtYWxsZXInLFxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgICApXG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZSA9IHtzdHlsZXNSZWYuY3VycmVudH0+XG4gICAgICAgIHsgIWVycm9yP1xuICAgICAgICAgICAgPGRpdiBzdHlsZSA9IHtpdGVtU3R5bGVzUmVmLmN1cnJlbnR9PntpbmRleCArIDF9L3tsaXN0c2l6ZX08L2Rpdj46XG4gICAgICAgICAgICA8ZGl2IHN0eWxlID0ge2l0ZW1TdHlsZXNSZWYuY3VycmVudH0+aXRlbSBpcyBub3QgYXZhaWxhYmxlIGF0IHRoaXMgdGltZTwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlciJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/placeholder.tsx\n");

/***/ }),

/***/ "./src/portalmanager.tsx":
/*!*******************************!*\
  !*** ./src/portalmanager.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // portalmanager.tsx\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PortalList = exports.PortalWrapper = exports.PortalManager = void 0;\n/*\n    The infinite list scroller stores user cell data in a central hidden portal cache for each\n    infinitegridscroller root, from whence the data is pulled into the relevant CellShell for display\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ \"./node_modules/react-reverse-portal/dist/web/index.js\"); // global scroller data, organized by session scrollerID\n\n\nvar PortalManager =\n/** @class */\nfunction () {\n  function PortalManager() {\n    //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n    var _this = this;\n\n    this.scrollerData = {\n      setListState: null,\n      modified: false,\n      portalMetadataMap: new Map(),\n      portalMap: new Map(),\n      portalList: null\n    }; // set state of the PortalList component of the scroller to trigger render\n\n    this.renderPortalList = function () {\n      if (_this.scrollerData.modified) {\n        _this.scrollerData.portalList = Array.from(_this.scrollerData.portalMap.values());\n        _this.scrollerData.modified = false;\n      }\n\n      _this.scrollerData.setListState(); // trigger display update\n\n    };\n  } // initialize scroller repository\n\n\n  PortalManager.prototype.resetScrollerPortalRepository = function () {\n    // keep the setListState callback\n    this.scrollerData.portalMap.clear();\n    this.scrollerData.portalMetadataMap.clear();\n    this.scrollerData.portalList = null;\n    this.scrollerData.modified = false;\n  }; // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n  // add a portal list item. The index is the scroller's portal dataset index\n\n\n  PortalManager.prototype.fetchOrCreatePortal = function (index, content) {\n    if (this.hasPortal(index)) {\n      return this.getPortal(index);\n    } // if not found, create new portal\n\n\n    var _a = createInPortal(content, index),\n        inportal = _a[0],\n        reverseportal = _a[1];\n\n    this.scrollerData.portalMap.set(index, react_1[\"default\"].createElement(exports.PortalWrapper, {\n      inportal: inportal,\n      key: index,\n      index: index\n    }));\n    this.scrollerData.modified = true;\n    var portalMetadata = {\n      reverseportal: reverseportal,\n      isReparenting: false,\n      hasusercontent: false\n    };\n    this.scrollerData.portalMetadataMap.set(index, portalMetadata);\n    this.renderPortalList();\n    return portalMetadata;\n  }; // update the content of a portal list item\n\n\n  PortalManager.prototype.updatePortal = function (index, content) {\n    var portalMetadata = this.getPortal(index);\n    var portalComponent = updateInPortal(content, portalMetadata.reverseportal);\n    this.scrollerData.portalMap.set(index, react_1[\"default\"].createElement(exports.PortalWrapper, {\n      inportal: portalComponent,\n      key: index,\n      index: index\n    }));\n    this.scrollerData.modified = true;\n    this.renderPortalList();\n    return portalMetadata;\n  }; // delete a portal list item\n\n\n  PortalManager.prototype.deletePortal = function (index) {\n    this.scrollerData.portalMetadataMap[\"delete\"](index);\n    this.scrollerData.portalMap[\"delete\"](index);\n    this.scrollerData.modified = true;\n  }; // query existence of a portal list item\n\n\n  PortalManager.prototype.hasPortal = function (index) {\n    return this.scrollerData.portalMetadataMap.has(index);\n  }; // get a portal list item's meta data\n\n\n  PortalManager.prototype.getPortal = function (index) {\n    return this.scrollerData.portalMetadataMap.get(index);\n  };\n\n  return PortalManager;\n}();\n\nexports.PortalManager = PortalManager; // ==========================[ Utility functions ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n\nvar createInPortal = function createInPortal(content, index) {\n  // console.log('creating inportal index, scrollerID',index,scrollerID)\n  var reversePortal = (0, react_reverse_portal_1.createHtmlPortalNode)(); // reversePortal.element = container\n\n  var container = reversePortal.element;\n  container.style.inset = '0px';\n  container.style.position = 'absolute';\n  container.dataset.type = 'portalcontainer';\n  container.dataset.index = index; // container.dataset.scrollerid = scrollerID\n\n  container.setAttribute('key', index);\n  return [react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n    node: reversePortal\n  }, content), reversePortal];\n}; // update an InPortal component's user content\n\n\nvar updateInPortal = function updateInPortal(content, reversePortal) {\n  return react_1[\"default\"].createElement(react_reverse_portal_1.InPortal, {\n    node: reversePortal\n  }, content);\n}; // ========================[ Utility components ]==============================\n\n\nvar wrapperstyle = {\n  display: 'none'\n}; // static; should take same dimensions as container CellShell\n// hidden portal wrapper for clarity and usage of conventional react relisting services\n\nvar PortalWrapper = function PortalWrapper(_a) {\n  var inportal = _a.inportal,\n      index = _a.index;\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'portalwrapper',\n    \"data-index\": index,\n    style: wrapperstyle,\n    key: index\n  }, inportal);\n};\n\nexports.PortalWrapper = PortalWrapper; // portal list component for rapid relisting of updates, using external callback for set state\n\nvar PortalList = function PortalList(_a) {\n  var scrollerData = _a.scrollerData;\n\n  var _b = (0, react_1.useState)(null),\n      portalList = _b[0],\n      setPortalList = _b[1];\n\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    scrollerData.setListState = function () {\n      isMountedRef.current && setPortalList(scrollerData.portalList);\n    };\n\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return portalList;\n};\n\nexports.PortalList = PortalList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWMsR0FBRyxTQUFqQixjQUFpQixDQUFDLE9BQUQsRUFBVSxhQUFWLEVBQXVCO0FBRTFDLFNBQU8saUNBQUMsK0JBQUQsRUFBUztBQUFDLFFBQUksRUFBSTtBQUFULEdBQVQsRUFDRCxPQURDLENBQVA7QUFJSCxDQU5ELEMsQ0FRQTs7O0FBRUEsSUFBTSxZQUFZLEdBQUc7QUFBQyxTQUFPLEVBQUM7QUFBVCxDQUFyQixDLENBQXNDO0FBRXRDOztBQUNPLElBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWdCLENBQUMsRUFBRCxFQUFvQjtNQUFqQixRQUFRLGM7TUFBRSxLQUFLLFc7QUFFM0MsU0FBTztBQUFBLGlCQUFpQixlQUFqQjtBQUFnQyxrQkFBZ0IsS0FBaEQ7QUFBd0QsU0FBSyxFQUFLLFlBQWxFO0FBQWlGLE9BQUcsRUFBSztBQUF6RixLQUNELFFBREMsQ0FBUDtBQUlILENBTk07O0FBQU0sd0JBQWEsYUFBYixDLENBUWI7O0FBQ08sSUFBTSxVQUFVLEdBQUcsU0FBYixVQUFhLENBQUMsRUFBRCxFQUFpQjtNQUFkLFlBQVksa0I7O0FBRS9CLFdBQThCLHNCQUFTLElBQVQsQ0FBOUI7QUFBQSxNQUFDLFVBQVUsUUFBWDtBQUFBLE1BQWEsYUFBYSxRQUExQjs7QUFDTixNQUFNLFlBQVksR0FBRyxvQkFBTyxJQUFQLENBQXJCO0FBRUEseUJBQVU7QUFFTixnQkFBWSxDQUFDLFlBQWIsR0FBNEI7QUFDeEIsa0JBQVksQ0FBQyxPQUFiLElBQXdCLGFBQWEsQ0FBQyxZQUFZLENBQUMsVUFBZCxDQUFyQztBQUNILEtBRkQ7O0FBSUEsV0FBTztBQUFPLGtCQUFZLENBQUMsT0FBYixHQUF1QixLQUF2QjtBQUE2QixLQUEzQztBQUVILEdBUkQsRUFRRSxFQVJGO0FBVUEsU0FBTyxVQUFQO0FBQ0gsQ0FoQk07O0FBQU0scUJBQVUsVUFBViIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvcG9ydGFsbWFuYWdlci50c3g/YWM4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwb3J0YWxtYW5hZ2VyLnRzeFxuXG4vKlxuICAgIFRoZSBpbmZpbml0ZSBsaXN0IHNjcm9sbGVyIHN0b3JlcyB1c2VyIGNlbGwgZGF0YSBpbiBhIGNlbnRyYWwgaGlkZGVuIHBvcnRhbCBjYWNoZSBmb3IgZWFjaFxuICAgIGluZmluaXRlZ3JpZHNjcm9sbGVyIHJvb3QsIGZyb20gd2hlbmNlIHRoZSBkYXRhIGlzIHB1bGxlZCBpbnRvIHRoZSByZWxldmFudCBDZWxsU2hlbGwgZm9yIGRpc3BsYXlcbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IGNyZWF0ZUh0bWxQb3J0YWxOb2RlLCBJblBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJ1xuXG4vLyBnbG9iYWwgc2Nyb2xsZXIgZGF0YSwgb3JnYW5pemVkIGJ5IHNlc3Npb24gc2Nyb2xsZXJJRFxuZXhwb3J0IGNsYXNzIFBvcnRhbE1hbmFnZXIge1xuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFUE9TSVRPUlkgQU5EIExJU1QgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2Nyb2xsZXJEYXRhID0ge1xuICAgICAgICBzZXRMaXN0U3RhdGU6bnVsbCxcbiAgICAgICAgbW9kaWZpZWQ6ZmFsc2UsXG4gICAgICAgIHBvcnRhbE1ldGFkYXRhTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgcG9ydGFsTWFwOm5ldyBNYXAoKSxcbiAgICAgICAgcG9ydGFsTGlzdDpudWxsXG4gICAgfVxuXG4gICAgLy8gaW5pdGlhbGl6ZSBzY3JvbGxlciByZXBvc2l0b3J5XG5cbiAgICByZXNldFNjcm9sbGVyUG9ydGFsUmVwb3NpdG9yeSgpIHtcblxuICAgICAgICAvLyBrZWVwIHRoZSBzZXRMaXN0U3RhdGUgY2FsbGJhY2tcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTWFwLmNsZWFyKCkgXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhLnBvcnRhbE1ldGFkYXRhTWFwLmNsZWFyKClcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTGlzdCA9IG51bGxcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEubW9kaWZpZWQgPSBmYWxzZVxuXG4gICAgfVxuXG4gICAgLy8gc2V0IHN0YXRlIG9mIHRoZSBQb3J0YWxMaXN0IGNvbXBvbmVudCBvZiB0aGUgc2Nyb2xsZXIgdG8gdHJpZ2dlciByZW5kZXJcbiAgICByZW5kZXJQb3J0YWxMaXN0ID0gKCkgPT4ge1xuXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbGVyRGF0YS5tb2RpZmllZCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTGlzdCA9IEFycmF5LmZyb20odGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTWFwLnZhbHVlcygpKVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEubW9kaWZpZWQgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEuc2V0TGlzdFN0YXRlKCkgLy8gdHJpZ2dlciBkaXNwbGF5IHVwZGF0ZVxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIElORElWSURVQUwgUE9SVEFMIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIGFkZCBhIHBvcnRhbCBsaXN0IGl0ZW0uIFRoZSBpbmRleCBpcyB0aGUgc2Nyb2xsZXIncyBwb3J0YWwgZGF0YXNldCBpbmRleFxuICAgIGZldGNoT3JDcmVhdGVQb3J0YWwoaW5kZXgsIGNvbnRlbnQpIHsgLy8gY29udGVudCBpcyB1c2VkIGZvciBuZXcgcG9ydGFsIG9ubHlcblxuICAgICAgICBpZiAodGhpcy5oYXNQb3J0YWwoaW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQb3J0YWwoaW5kZXgpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBub3QgZm91bmQsIGNyZWF0ZSBuZXcgcG9ydGFsXG5cbiAgICAgICAgY29uc3QgW2lucG9ydGFsLHJldmVyc2Vwb3J0YWxdID0gY3JlYXRlSW5Qb3J0YWwoY29udGVudCwgaW5kZXgpXG5cbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTWFwLnNldChpbmRleCw8UG9ydGFsV3JhcHBlciBpbnBvcnRhbCA9IHtpbnBvcnRhbH0ga2V5ID0ge2luZGV4fSBpbmRleCA9IHtpbmRleH0vPilcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEubW9kaWZpZWQgPSB0cnVlXG5cbiAgICAgICAgY29uc3QgcG9ydGFsTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICByZXZlcnNlcG9ydGFsLCBcbiAgICAgICAgICAgIGlzUmVwYXJlbnRpbmc6ZmFsc2UsXG4gICAgICAgICAgICBoYXN1c2VyY29udGVudDpmYWxzZSBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhLnBvcnRhbE1ldGFkYXRhTWFwLnNldChpbmRleCwgcG9ydGFsTWV0YWRhdGEpXG5cbiAgICAgICAgdGhpcy5yZW5kZXJQb3J0YWxMaXN0KClcblxuICAgICAgICByZXR1cm4gcG9ydGFsTWV0YWRhdGFcblxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgY29udGVudCBvZiBhIHBvcnRhbCBsaXN0IGl0ZW1cbiAgICB1cGRhdGVQb3J0YWwoaW5kZXgsIGNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgcG9ydGFsTWV0YWRhdGEgPSB0aGlzLmdldFBvcnRhbChpbmRleClcblxuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSB1cGRhdGVJblBvcnRhbChjb250ZW50LCBwb3J0YWxNZXRhZGF0YS5yZXZlcnNlcG9ydGFsIClcblxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YS5wb3J0YWxNYXAuc2V0KGluZGV4LDxQb3J0YWxXcmFwcGVyIGlucG9ydGFsID0ge3BvcnRhbENvbXBvbmVudH0ga2V5ID0ge2luZGV4fSBpbmRleCA9IHtpbmRleH0vPilcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEubW9kaWZpZWQgPSB0cnVlXG5cbiAgICAgICAgdGhpcy5yZW5kZXJQb3J0YWxMaXN0KClcblxuICAgICAgICByZXR1cm4gcG9ydGFsTWV0YWRhdGFcbiAgICB9XG5cbiAgICAvLyBkZWxldGUgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgZGVsZXRlUG9ydGFsKGluZGV4KSB7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTWV0YWRhdGFNYXAuZGVsZXRlKGluZGV4KVxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YS5wb3J0YWxNYXAuZGVsZXRlKGluZGV4KVxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YS5tb2RpZmllZCA9IHRydWVcblxuICAgIH1cblxuICAgIC8vIHF1ZXJ5IGV4aXN0ZW5jZSBvZiBhIHBvcnRhbCBsaXN0IGl0ZW1cbiAgICBoYXNQb3J0YWwoaW5kZXgpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxlckRhdGEucG9ydGFsTWV0YWRhdGFNYXAuaGFzKGluZGV4KVxuXG4gICAgfVxuXG4gICAgLy8gZ2V0IGEgcG9ydGFsIGxpc3QgaXRlbSdzIG1ldGEgZGF0YVxuICAgIGdldFBvcnRhbChpbmRleCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNjcm9sbGVyRGF0YS5wb3J0YWxNZXRhZGF0YU1hcC5nZXQoaW5kZXgpXG5cbiAgICB9XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFV0aWxpdHkgZnVuY3Rpb25zIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIGdldCBhIHJlYWN0LXJldmVyc2UtcG9ydGFsIEluUG9ydGFsIGNvbXBvbmVudCwgd2l0aCBpdHMgbWV0YWRhdGFcbi8vIHdpdGggdXNlciBjb250ZW50IGFuZCBjb250YWluZXJcbmNvbnN0IGNyZWF0ZUluUG9ydGFsID0gKGNvbnRlbnQsIGluZGV4KSA9PiB7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnY3JlYXRpbmcgaW5wb3J0YWwgaW5kZXgsIHNjcm9sbGVySUQnLGluZGV4LHNjcm9sbGVySUQpXG4gICAgbGV0IHJldmVyc2VQb3J0YWwgPSBjcmVhdGVIdG1sUG9ydGFsTm9kZSgpXG4gICAgLy8gcmV2ZXJzZVBvcnRhbC5lbGVtZW50ID0gY29udGFpbmVyXG4gICAgbGV0IGNvbnRhaW5lciA9IHJldmVyc2VQb3J0YWwuZWxlbWVudFxuICAgIGNvbnRhaW5lci5zdHlsZS5pbnNldCA9ICcwcHgnIFxuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgICBjb250YWluZXIuZGF0YXNldC50eXBlID0gJ3BvcnRhbGNvbnRhaW5lcidcbiAgICBjb250YWluZXIuZGF0YXNldC5pbmRleCA9IGluZGV4XG4gICAgLy8gY29udGFpbmVyLmRhdGFzZXQuc2Nyb2xsZXJpZCA9IHNjcm9sbGVySURcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdrZXknLGluZGV4KVxuXG5cbiAgICByZXR1cm4gWzxJblBvcnRhbCBub2RlID0ge3JldmVyc2VQb3J0YWx9PlxuICAgICAgICB7Y29udGVudH1cbiAgICA8L0luUG9ydGFsPixyZXZlcnNlUG9ydGFsXVxuXG59ICAgICBcblxuLy8gdXBkYXRlIGFuIEluUG9ydGFsIGNvbXBvbmVudCdzIHVzZXIgY29udGVudFxuY29uc3QgdXBkYXRlSW5Qb3J0YWwgPSAoY29udGVudCwgcmV2ZXJzZVBvcnRhbCkgPT4ge1xuXG4gICAgcmV0dXJuIDxJblBvcnRhbCBub2RlID0ge3JldmVyc2VQb3J0YWx9ID5cbiAgICAgICAgeyBjb250ZW50IH1cbiAgICA8L0luUG9ydGFsPlxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PVsgVXRpbGl0eSBjb21wb25lbnRzIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3Qgd3JhcHBlcnN0eWxlID0ge2Rpc3BsYXk6J25vbmUnfSAvLyBzdGF0aWM7IHNob3VsZCB0YWtlIHNhbWUgZGltZW5zaW9ucyBhcyBjb250YWluZXIgQ2VsbFNoZWxsXG5cbi8vIGhpZGRlbiBwb3J0YWwgd3JhcHBlciBmb3IgY2xhcml0eSBhbmQgdXNhZ2Ugb2YgY29udmVudGlvbmFsIHJlYWN0IHJlbGlzdGluZyBzZXJ2aWNlc1xuZXhwb3J0IGNvbnN0IFBvcnRhbFdyYXBwZXIgPSAoeyBpbnBvcnRhbCwgaW5kZXggfSkgPT4ge1xuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS10eXBlID0gJ3BvcnRhbHdyYXBwZXInIGRhdGEtaW5kZXggPSB7IGluZGV4IH0gc3R5bGUgPSB7IHdyYXBwZXJzdHlsZSB9IGtleSA9IHsgaW5kZXggfT5cbiAgICAgICAgeyBpbnBvcnRhbCB9XG4gICAgPC9kaXY+XG5cbn1cblxuLy8gcG9ydGFsIGxpc3QgY29tcG9uZW50IGZvciByYXBpZCByZWxpc3Rpbmcgb2YgdXBkYXRlcywgdXNpbmcgZXh0ZXJuYWwgY2FsbGJhY2sgZm9yIHNldCBzdGF0ZVxuZXhwb3J0IGNvbnN0IFBvcnRhbExpc3QgPSAoeyBzY3JvbGxlckRhdGEgfSkgPT4ge1xuXG4gICAgY29uc3QgW3BvcnRhbExpc3QsIHNldFBvcnRhbExpc3RdID0gdXNlU3RhdGUobnVsbClcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHNjcm9sbGVyRGF0YS5zZXRMaXN0U3RhdGUgPSAoKT0+e1xuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgc2V0UG9ydGFsTGlzdChzY3JvbGxlckRhdGEucG9ydGFsTGlzdClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7aXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZX1cblxuICAgIH0sW10pIFxuXG4gICAgcmV0dXJuIHBvcnRhbExpc3Rcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/portalmanager.tsx\n");

/***/ }),

/***/ "./src/scrollblock.tsx":
/*!*****************************!*\
  !*** ./src/scrollblock.tsx ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrollblock.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar viewport_1 = __webpack_require__(/*! ./viewport */ \"./src/viewport.tsx\");\n\nvar Scrollblock = function Scrollblock(_a) {\n  var children = _a.children,\n      listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding,\n      orientation = _a.orientation,\n      functions = _a.functions,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID; // -------------------------[ context and state ]-------------------------\n\n  var viewportData = (0, react_1.useContext)(viewport_1.ViewportContext);\n\n  var _b = (0, react_1.useState)('setup'),\n      blockstate = _b[0],\n      setBlockState = _b[1]; // setup -> render\n  // if (viewportData.index == 0) console.log('RUNNING scrollblock viewportData.index, blockstate',viewportData.index,blockstate)\n  // -----------------------------------[ data heap ]-------------------------\n\n\n  var scrollBlockLengthRef = (0, react_1.useRef)(null);\n  var scrollblockRef = (0, react_1.useRef)(null);\n  var divlinerstyleRef = (0, react_1.useRef)(Object.assign({\n    backgroundColor: 'white',\n    position: 'relative'\n  }, styles === null || styles === void 0 ? void 0 : styles.cradle));\n\n  var _c = (0, react_1.useState)(divlinerstyleRef.current),\n      divlinerstyle = _c[0],\n      saveDivlinerstyle = _c[1]; // to trigger render\n\n\n  var viewportDimensions = viewportData.viewportDimensions,\n      itemobserver = viewportData.itemobserver\n  /*, isResizing*/\n  ;\n  var top = viewportDimensions.top,\n      right = viewportDimensions.right,\n      bottom = viewportDimensions.bottom,\n      left = viewportDimensions.left,\n      width = viewportDimensions.width,\n      height = viewportDimensions.height; // state engine\n\n  (0, react_1.useEffect)(function () {\n    switch (blockstate) {\n      case 'setup':\n        {\n          setBlockState('render');\n          break;\n        }\n    }\n  }, [blockstate]);\n  (0, react_1.useLayoutEffect)(function () {\n    updateBlockLength();\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, scrollBlockLengthRef);\n    saveDivlinerstyle(divlinerstyleRef.current);\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBlockLength = (0, react_1.useCallback)(function () {\n    var scrollblocklength = calcScrollblockLength({\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding,\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width\n    }); // if (viewportData.index == 0) console.log('scrollblock updateBlockLength to ', scrollblocklength)\n\n    scrollBlockLengthRef.current = scrollblocklength;\n  }, [listsize, cellHeight, cellWidth, gap, padding, orientation, height, width]);\n  return blockstate != 'setup' && react_1[\"default\"].createElement(\"div\", {\n    ref: scrollblockRef,\n    \"data-type\": 'scrollblock',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\n// all the parameters affect the length\n\n\nvar calcScrollblockLength = function calcScrollblockLength(_a) {\n  var listsize = _a.listsize,\n      cellHeight = _a.cellHeight,\n      cellWidth = _a.cellWidth,\n      gap = _a.gap,\n      padding = _a.padding,\n      orientation = _a.orientation,\n      viewportheight = _a.viewportheight,\n      viewportwidth = _a.viewportwidth; // dependents of orientation\n\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n\n  if (orientation == 'vertical') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  } // adjustments to viewportcrosslength\n\n\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap;\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  var listlength = Math.ceil(listsize / crosscount);\n  var straightlength = listlength * cellLength - (listlength > 0 ? gap : 0) + padding * 2;\n  return straightlength;\n};\n\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, scrollblocklengthRef) {\n  var localstyles = Object.assign({}, stylesRef.current);\n  var height;\n  var width;\n\n  if (orientation == 'horizontal') {\n    height = '100%';\n    width = scrollblocklengthRef.current + 'px';\n  } else if (orientation == 'vertical') {\n    height = scrollblocklengthRef.current + 'px';\n    width = '100%';\n  }\n\n  localstyles.height = height;\n  localstyles.width = width;\n  return localstyles;\n};\n\nexports[\"default\"] = Scrollblock;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBZCxJQUE4QixVQUFVLEdBQUcsQ0FBZCxHQUFpQixHQUFqQixHQUFxQixDQUFsRCxJQUF3RCxPQUFPLEdBQUcsQ0FBdkY7QUFFQSxTQUFPLGNBQVA7QUFFSCxDQXpDRDs7QUEyQ0EsSUFBTSx1QkFBdUIsR0FBRyxTQUExQix1QkFBMEIsQ0FBQyxXQUFELEVBQWEsU0FBYixFQUF1QixvQkFBdkIsRUFBMkM7QUFFdkUsTUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxFQUFkLEVBQWlCLFNBQVMsQ0FBQyxPQUEzQixDQUFsQjtBQUNBLE1BQUksTUFBSjtBQUNBLE1BQUksS0FBSjs7QUFDQSxNQUFJLFdBQVcsSUFBSSxZQUFuQixFQUFpQztBQUM3QixVQUFNLEdBQUcsTUFBVDtBQUNBLFNBQUssR0FBRyxvQkFBb0IsQ0FBQyxPQUFyQixHQUErQixJQUF2QztBQUNILEdBSEQsTUFHTyxJQUFJLFdBQVcsSUFBSSxVQUFuQixFQUErQjtBQUNsQyxVQUFNLEdBQUcsb0JBQW9CLENBQUMsT0FBckIsR0FBK0IsSUFBeEM7QUFDQSxTQUFLLEdBQUcsTUFBUjtBQUNIOztBQUNELGFBQVcsQ0FBQyxNQUFaLEdBQXFCLE1BQXJCO0FBQ0EsYUFBVyxDQUFDLEtBQVosR0FBb0IsS0FBcEI7QUFFQSxTQUFPLFdBQVA7QUFDSCxDQWhCRDs7QUFrQkEscUJBQWUsV0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvc2Nyb2xsYmxvY2sudHN4PzJmYTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2Nyb2xsYmxvY2sudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgVmlld3BvcnRDb250ZXh0IH0gZnJvbSAnLi92aWV3cG9ydCdcblxuY29uc3QgU2Nyb2xsYmxvY2sgPSAoe1xuICAgIGNoaWxkcmVuLFxuICAgIGxpc3RzaXplLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGdhcCwgXG4gICAgcGFkZGluZywgXG4gICAgb3JpZW50YXRpb24sIFxuICAgIGZ1bmN0aW9ucywgXG4gICAgc3R5bGVzLFxuICAgIHNjcm9sbGVySUQsXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb250ZXh0IGFuZCBzdGF0ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IHZpZXdwb3J0RGF0YSA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KVxuICAgIGNvbnN0IFtibG9ja3N0YXRlLHNldEJsb2NrU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJykgLy8gc2V0dXAgLT4gcmVuZGVyXG4gICAgLy8gaWYgKHZpZXdwb3J0RGF0YS5pbmRleCA9PSAwKSBjb25zb2xlLmxvZygnUlVOTklORyBzY3JvbGxibG9jayB2aWV3cG9ydERhdGEuaW5kZXgsIGJsb2Nrc3RhdGUnLHZpZXdwb3J0RGF0YS5pbmRleCxibG9ja3N0YXRlKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGRhdGEgaGVhcCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGNvbnN0IHNjcm9sbEJsb2NrTGVuZ3RoUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3Qgc2Nyb2xsYmxvY2tSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgICAgIFxuICAgICAgICB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMsIHN0eWxlcz8uY3JhZGxlKVxuXG4gICAgKVxuICAgIGNvbnN0IFtkaXZsaW5lcnN0eWxlLHNhdmVEaXZsaW5lcnN0eWxlXSA9IHVzZVN0YXRlKGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCkgLy8gdG8gdHJpZ2dlciByZW5kZXJcblxuICAgIGxldCB7IHZpZXdwb3J0RGltZW5zaW9ucywgaXRlbW9ic2VydmVyLyosIGlzUmVzaXppbmcqLyB9ID0gdmlld3BvcnREYXRhXG4gICAgbGV0IHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSB2aWV3cG9ydERpbWVuc2lvbnNcblxuICAgIC8vIHN0YXRlIGVuZ2luZVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBzd2l0Y2ggKGJsb2Nrc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzoge1xuICAgICAgICAgICAgICAgIHNldEJsb2NrU3RhdGUoJ3JlbmRlcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sW2Jsb2Nrc3RhdGVdKVxuICAgIFxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgdXBkYXRlQmxvY2tMZW5ndGgoKVxuICAgICAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyhvcmllbnRhdGlvbixkaXZsaW5lcnN0eWxlUmVmLHNjcm9sbEJsb2NrTGVuZ3RoUmVmKVxuICAgICAgICBzYXZlRGl2bGluZXJzdHlsZShkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQpXG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICBdKVxuXG4gICAgY29uc3QgdXBkYXRlQmxvY2tMZW5ndGggPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNjcm9sbGJsb2NrbGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgY2FsY1Njcm9sbGJsb2NrTGVuZ3RoKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRoZWlnaHQ6aGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnR3aWR0aDp3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgLy8gaWYgKHZpZXdwb3J0RGF0YS5pbmRleCA9PSAwKSBjb25zb2xlLmxvZygnc2Nyb2xsYmxvY2sgdXBkYXRlQmxvY2tMZW5ndGggdG8gJywgc2Nyb2xsYmxvY2tsZW5ndGgpXG4gICAgICAgICAgICBzY3JvbGxCbG9ja0xlbmd0aFJlZi5jdXJyZW50ID0gc2Nyb2xsYmxvY2tsZW5ndGhcblxuICAgICAgICB9LFtcbiAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICBdXG4gICAgKVxuXG4gICAgcmV0dXJuIChibG9ja3N0YXRlICE9ICdzZXR1cCcpICYmXG4gICAgICAgIDxkaXYgcmVmID0ge3Njcm9sbGJsb2NrUmVmfSBkYXRhLXR5cGUgPSAnc2Nyb2xsYmxvY2snIHN0eWxlPXtkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnR9PntjaGlsZHJlbn08L2Rpdj5cblxufSAvLyBTY3JvbGxibG9ja1xuXG4vLyBhbGwgdGhlIHBhcmFtZXRlcnMgYWZmZWN0IHRoZSBsZW5ndGhcbmNvbnN0IGNhbGNTY3JvbGxibG9ja0xlbmd0aCA9ICh7XG4gICAgbGlzdHNpemUsIFxuICAgIGNlbGxIZWlnaHQsIFxuICAgIGNlbGxXaWR0aCwgXG4gICAgZ2FwLCBcbiAgICBwYWRkaW5nLCBcbiAgICBvcmllbnRhdGlvbiwgXG4gICAgdmlld3BvcnRoZWlnaHQsXG4gICAgdmlld3BvcnR3aWR0aCxcbiAgICB9KSA9PiB7XG5cbiAgICAvLyBkZXBlbmRlbnRzIG9mIG9yaWVudGF0aW9uXG4gICAgbGV0IGNyb3NzbGVuZ3RoXG4gICAgbGV0IGNlbGxMZW5ndGhcbiAgICBsZXQgdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsV2lkdGggKyBnYXBcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgdmlld3BvcnRjcm9zc2xlbmd0aCA9IHZpZXdwb3J0d2lkdGggXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNyb3NzbGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcFxuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoICsgZ2FwXG4gICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSB2aWV3cG9ydGhlaWdodFxuXG4gICAgfVxuICAgIC8vIGFkanVzdG1lbnRzIHRvIHZpZXdwb3J0Y3Jvc3NsZW5ndGhcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoIC09IChwYWRkaW5nICogMilcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoICs9IGdhcFxuXG4gICAgaWYgKHZpZXdwb3J0Y3Jvc3NsZW5ndGggPCBjcm9zc2xlbmd0aCkgdmlld3BvcnRjcm9zc2xlbmd0aCA9IGNyb3NzbGVuZ3RoIC8vIG11c3QgYmUgYXQgbGVhc3Qgb25lXG4gICAgbGV0IGNyb3NzY291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0Y3Jvc3NsZW5ndGgvY3Jvc3NsZW5ndGgpXG5cbiAgICBsZXQgbGlzdGxlbmd0aCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KVxuXG4gICAgbGV0IHN0cmFpZ2h0bGVuZ3RoID0gKGxpc3RsZW5ndGggKiBjZWxsTGVuZ3RoKSAtICgobGlzdGxlbmd0aCA+IDApP2dhcDowKSArIChwYWRkaW5nICogMilcblxuICAgIHJldHVybiBzdHJhaWdodGxlbmd0aFxuXG59XG5cbmNvbnN0IHVwZGF0ZVNjcm9sbGJsb2NrU3R5bGVzID0gKG9yaWVudGF0aW9uLHN0eWxlc1JlZixzY3JvbGxibG9ja2xlbmd0aFJlZikgPT4ge1xuXG4gICAgbGV0IGxvY2Fsc3R5bGVzID0gT2JqZWN0LmFzc2lnbih7fSxzdHlsZXNSZWYuY3VycmVudCkgYXMgUmVhY3QuQ1NTUHJvcGVydGllc1xuICAgIGxldCBoZWlnaHQgXG4gICAgbGV0IHdpZHRoXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJykge1xuICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgd2lkdGggPSBzY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBoZWlnaHQgPSBzY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgIH1cbiAgICBsb2NhbHN0eWxlcy5oZWlnaHQgPSBoZWlnaHRcbiAgICBsb2NhbHN0eWxlcy53aWR0aCA9IHdpZHRoXG5cbiAgICByZXR1cm4gbG9jYWxzdHlsZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsYmxvY2tcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scrollblock.tsx\n");

/***/ }),

/***/ "./src/scrolltracker.tsx":
/*!*******************************!*\
  !*** ./src/scrolltracker.tsx ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // scrolltracker.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nvar ScrollTracker = function ScrollTracker(_a) {\n  var top = _a.top,\n      left = _a.left,\n      offset = _a.offset,\n      listsize = _a.listsize,\n      styles = _a.styles;\n  var trackdata = \"\".concat(offset + 1, \"/\").concat(listsize);\n  var styleRef = (0, react_1.useRef)(Object.assign({\n    top: top + 'px',\n    left: left + 'px',\n    position: 'fixed',\n    zIndex: 3,\n    backgroundColor: 'white',\n    border: '1px solid gray',\n    borderRadius: '10px',\n    fontSize: 'smaller',\n    padding: '3px'\n  }, styles === null || styles === void 0 ? void 0 : styles.scrolltracker));\n  return react_1[\"default\"].createElement(\"div\", {\n    \"data-name\": 'scrolltracker',\n    style: styleRef.current\n  }, trackdata);\n};\n\nexports[\"default\"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nyb2xsdHJhY2tlci50c3guanMiLCJtYXBwaW5ncyI6IkNBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUVBLElBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWdCLENBQUMsRUFBRCxFQUF3QztNQUFyQyxHQUFHLFM7TUFBRSxJQUFJLFU7TUFBRSxNQUFNLFk7TUFBRSxRQUFRLGM7TUFBRSxNQUFNLFk7QUFFeEQsTUFBSSxTQUFTLEdBQUcsVUFBRyxNQUFNLEdBQUcsQ0FBWixFQUFhLEdBQWIsRUFBYSxNQUFiLENBQWlCLFFBQWpCLENBQWhCO0FBRUEsTUFBSSxRQUFRLEdBQUcsb0JBQU8sTUFBTSxDQUFDLE1BQVAsQ0FBYztBQUNoQyxPQUFHLEVBQUUsR0FBRyxHQUFHLElBRHFCO0FBRWhDLFFBQUksRUFBRSxJQUFJLEdBQUcsSUFGbUI7QUFHaEMsWUFBUSxFQUFDLE9BSHVCO0FBSWhDLFVBQU0sRUFBQyxDQUp5QjtBQUtoQyxtQkFBZSxFQUFDLE9BTGdCO0FBTWhDLFVBQU0sRUFBRSxnQkFOd0I7QUFPaEMsZ0JBQVksRUFBQyxNQVBtQjtBQVFoQyxZQUFRLEVBQUMsU0FSdUI7QUFTaEMsV0FBTyxFQUFDO0FBVHdCLEdBQWQsRUFVRyxNQUFNLFNBQU4sVUFBTSxXQUFOLEdBQU0sTUFBTixTQUFNLENBQUUsYUFWWCxDQUFQLENBQWY7QUFZQSxTQUFPO0FBQUEsaUJBQWlCLGVBQWpCO0FBQWlDLFNBQUssRUFBSSxRQUFRLENBQUM7QUFBbkQsS0FBOEQsU0FBOUQsQ0FBUDtBQUNILENBakJEOztBQW1CQSxxQkFBZSxhQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9zY3JvbGx0cmFja2VyLnRzeD9mZjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbHRyYWNrZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMjAgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlUmVmfSBmcm9tICdyZWFjdCdcblxuY29uc3QgU2Nyb2xsVHJhY2tlciA9ICh7IHRvcCwgbGVmdCwgb2Zmc2V0LCBsaXN0c2l6ZSwgc3R5bGVzIH0pID0+IHtcblxuICAgIGxldCB0cmFja2RhdGEgPSBgJHtvZmZzZXQgKyAxfS8ke2xpc3RzaXplfWBcblxuICAgIGxldCBzdHlsZVJlZiA9IHVzZVJlZihPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdG9wOiB0b3AgKyAncHgnLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgJ3B4JyxcbiAgICAgICAgcG9zaXRpb246J2ZpeGVkJyxcbiAgICAgICAgekluZGV4OjMsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgZ3JheScsXG4gICAgICAgIGJvcmRlclJhZGl1czonMTBweCcsXG4gICAgICAgIGZvbnRTaXplOidzbWFsbGVyJyxcbiAgICAgICAgcGFkZGluZzonM3B4J1xuICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcyxzdHlsZXM/LnNjcm9sbHRyYWNrZXIpKVxuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS1uYW1lID0gJ3Njcm9sbHRyYWNrZXInIHN0eWxlID0ge3N0eWxlUmVmLmN1cnJlbnR9ID57dHJhY2tkYXRhfTwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxUcmFja2VyIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scrolltracker.tsx\n");

/***/ }),

/***/ "./src/viewport.tsx":
/*!**************************!*\
  !*** ./src/viewport.tsx ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(" // viewport.tsx\n// copyright (c) 2020 Henrik Bechmann, Toronto, Licence: MIT\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ViewportContext = void 0;\n/*\n    The role of viewport is to provide data to its children (scrollblock and cradle),\n    and act as the visible screen portal of the list being shown\n*/\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\n\nexports.ViewportContext = react_1[\"default\"].createContext(null); // for children\n\nvar resize_observer_1 = __webpack_require__(/*! @juggle/resize-observer */ \"./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n\nvar cradle_1 = __webpack_require__(/*! ./cradle */ \"./src/cradle.tsx\");\n\nvar ResizeObserverClass = window['ResizeObserver'] || resize_observer_1.ResizeObserver; // control constant\n\nvar RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE = 250;\n\nvar Viewport = function Viewport(_a) {\n  // -----------------------[ initialize ]------------------\n  var children = _a.children,\n      orientation = _a.orientation,\n      cellWidth = _a.cellWidth,\n      cellHeight = _a.cellHeight,\n      gap = _a.gap,\n      padding = _a.padding,\n      functions = _a.functions,\n      styles = _a.styles,\n      scrollerID = _a.scrollerID;\n\n  var _b = (0, react_1.useState)('setup'),\n      viewportstate = _b[0],\n      setViewportState = _b[1];\n\n  var cradleDataRef = (0, react_1.useContext)(cradle_1.CradleContext);\n  var portalManager = cradleDataRef === null || cradleDataRef === void 0 ? void 0 : cradleDataRef.current.portalManager; // ((scrollerID == 1) || (scrollerID == 0)) && console.log('running scrollerID, viewportstate',scrollerID, viewportstate)\n\n  var viewportstateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback\n\n  viewportstateRef.current = viewportstate;\n  var isMountedRef = (0, react_1.useRef)(true); // monitor for unmounted\n\n  (0, react_1.useEffect)(function () {\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  var divlinerstyleRef = (0, react_1.useRef)(null);\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign({\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: 'auto',\n      backgroundColor: 'red'\n    }, styles === null || styles === void 0 ? void 0 : styles.viewport);\n  }, [styles === null || styles === void 0 ? void 0 : styles.viewport]);\n  var viewportdivRef = (0, react_1.useRef)(null); // viewportDataRef is passed as context to children\n\n  var viewportDataRef = (0, react_1.useRef)({\n    portal: null,\n    isResizing: false,\n    index: null\n  });\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null); // set up resizeObserver\n\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserverClass(resizeCallback);\n    resizeObserverRef.current.observe(viewportdivRef.current); // unmount\n\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []); // used by resizeObserver; generates interrupt\n\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (viewportstateRef.current == 'setup') {\n      return;\n    }\n\n    var target = entries[0].target;\n\n    if (!target.dataset.initialized) {\n      // console.log('initializing target', target.dataset)\n      target.dataset.initialized = true;\n      return;\n    }\n\n    if (!isResizingRef.current) {\n      // generate interrupt response\n      viewportDataRef.current.isResizing = isResizingRef.current = true; // new object creation triggers a realtime message to cradle through context\n\n      viewportDataRef.current = Object.assign({}, viewportDataRef.current);\n      if (isMountedRef.current) setViewportState('resizing');\n    }\n\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n\n      if (isMountedRef.current) {\n        setViewportState('resized');\n      }\n    }, RESIZE_TIMEOUT_FOR_ONAFTERSRESIZE);\n  }, []); // get portal for non-root viewports\n\n  (0, react_1.useEffect)(function () {\n    if (!cradleDataRef) return; // root\n\n    var portalindex;\n    var element = viewportdivRef.current;\n\n    while (element) {\n      if (element.dataset && element.dataset.type == 'portalcontainer') {\n        portalindex = parseInt(element.dataset.index);\n        viewportDataRef.current.portal = portalManager.getPortal(portalindex);\n        viewportDataRef.current.index = portalindex;\n        break;\n      } else {\n        element = element.parentElement;\n      }\n    }\n\n    if (!element) {\n      console.log('ERROR: parent portalcontainer not found');\n      return;\n    }\n  }, []); // ----------------------------------[ calculate ]--------------------------------\n  // calculated values\n\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    // TODO: gap\n    var mincrosslength = calcMinViewportCrossLength(orientation, cellWidth, cellHeight, padding);\n    var styles = Object.assign({}, divlinerstyleRef.current); // avoid readonly\n\n    if (orientation == 'vertical') {\n      styles.minWidth = mincrosslength + 'px';\n      styles.minHeight = 'auto';\n    } else {\n      styles.minWidth = 'auto';\n      styles.minHeight = mincrosslength + 'px';\n    }\n\n    return styles;\n  }, [orientation, cellWidth, cellHeight, padding]); // set context data for children\n\n  viewportDataRef.current = (0, react_1.useMemo)(function () {\n    if (viewportstate == 'setup') return viewportDataRef.current;\n\n    var _a = viewportdivRef.current.getBoundingClientRect(),\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n\n    var width = right - left;\n    var height = bottom - top;\n    var localViewportData = {\n      viewportDimensions: {\n        top: top,\n        right: right,\n        bottom: bottom,\n        left: left,\n        width: width,\n        height: height\n      },\n      elementref: viewportdivRef,\n      isResizing: isResizingRef.current\n    }; // trigger context change with new object\n\n    var viewportdataobject = Object.assign({}, viewportDataRef.current, localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportstate]); // --------------------[ state processing ]---------------------------\n\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportstate) {\n      // case 'reparenting':\n      case 'resized':\n      case 'setup':\n        {\n          setViewportState('render');\n          break;\n        }\n    }\n  }, [viewportstate]); // ----------------------[ render ]--------------------------------\n\n  return react_1[\"default\"].createElement(exports.ViewportContext.Provider, {\n    value: viewportDataRef.current\n  }, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'viewport',\n    \"data-scrollerid\": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportdivRef\n  }, viewportstate != 'setup' && children));\n}; // Viewport\n// establish minimum width/height for the viewport -- approximately one item\n\n\nvar calcMinViewportCrossLength = function calcMinViewportCrossLength(orientation, cellWidth, cellHeight, padding) {\n  // console.log('calcMinViewportCrossLength parms',orientation, cellWidth, cellHeight, padding,)\n  var crosslength, cellLength;\n\n  if (orientation == 'vertical') {\n    cellLength = cellWidth;\n  } else {\n    cellLength = cellHeight;\n  }\n\n  crosslength = cellLength + padding * 2;\n  return crosslength;\n};\n\nexports[\"default\"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssZUFBZSxDQUFDO0FBQTNCLEdBQXpCLEVBQ0g7QUFBQSxpQkFDZ0IsVUFEaEI7QUFDMEIsdUJBQ0gsVUFGdkI7QUFHSSxTQUFLLEVBQUksZ0JBQWdCLENBQUMsT0FIOUI7QUFJSSxPQUFHLEVBQUk7QUFKWCxLQU1PLGFBQWEsSUFBSSxPQUFsQixJQUE4QixRQU5wQyxDQURHLENBQVA7QUFXSCxDQXpORCxDLENBeU5FO0FBRUY7OztBQUNBLElBQU0sMEJBQTBCLEdBQUcsU0FBN0IsMEJBQTZCLENBQUMsV0FBRCxFQUFjLFNBQWQsRUFBeUIsVUFBekIsRUFBcUMsT0FBckMsRUFBNEM7QUFDM0U7QUFDQSxNQUFJLFdBQUosRUFBaUIsVUFBakI7O0FBQ0EsTUFBSSxXQUFXLElBQUksVUFBbkIsRUFBK0I7QUFDM0IsY0FBVSxHQUFHLFNBQWI7QUFDSCxHQUZELE1BRU87QUFDSCxjQUFVLEdBQUcsVUFBYjtBQUNIOztBQUNELGFBQVcsR0FBRyxVQUFVLEdBQUksT0FBTyxHQUFHLENBQXRDO0FBQ0EsU0FBTyxXQUFQO0FBQ0gsQ0FWRDs7QUFZQSxxQkFBZSxRQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy92aWV3cG9ydC50c3g/MGRlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2aWV3cG9ydC50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAyMCBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSByb2xlIG9mIHZpZXdwb3J0IGlzIHRvIHByb3ZpZGUgZGF0YSB0byBpdHMgY2hpbGRyZW4gKHNjcm9sbGJsb2NrIGFuZCBjcmFkbGUpLFxuICAgIGFuZCBhY3QgYXMgdGhlIHZpc2libGUgc2NyZWVuIHBvcnRhbCBvZiB0aGUgbGlzdCBiZWluZyBzaG93blxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0fSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGNvbnN0IFZpZXdwb3J0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCkgLy8gZm9yIGNoaWxkcmVuXG5cbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInXG5cbmltcG9ydCB7IENyYWRsZUNvbnRleHQgfSBmcm9tICcuL2NyYWRsZSdcblxuY29uc3QgUmVzaXplT2JzZXJ2ZXJDbGFzcyA9IHdpbmRvd1snUmVzaXplT2JzZXJ2ZXInXSB8fCBSZXNpemVPYnNlcnZlclxuXG4vLyBjb250cm9sIGNvbnN0YW50XG5jb25zdCBSRVNJWkVfVElNRU9VVF9GT1JfT05BRlRFUlNSRVNJWkUgPSAyNTBcblxuY29uc3QgVmlld3BvcnQgPSAoe1xuICAgIGNoaWxkcmVuLCBcbiAgICBvcmllbnRhdGlvbiwgXG4gICAgY2VsbFdpZHRoLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBnYXAsIFxuICAgIHBhZGRpbmcsIFxuICAgIGZ1bmN0aW9ucywgXG4gICAgc3R5bGVzLFxuICAgIHNjcm9sbGVySUQsXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBbdmlld3BvcnRzdGF0ZSxzZXRWaWV3cG9ydFN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpO1xuXG4gICAgY29uc3QgY3JhZGxlRGF0YVJlZiA9IHVzZUNvbnRleHQoQ3JhZGxlQ29udGV4dCk7XG5cbiAgICBjb25zdCBwb3J0YWxNYW5hZ2VyID0gY3JhZGxlRGF0YVJlZj8uY3VycmVudC5wb3J0YWxNYW5hZ2VyO1xuXG4gICAgLy8gKChzY3JvbGxlcklEID09IDEpIHx8IChzY3JvbGxlcklEID09IDApKSAmJiBjb25zb2xlLmxvZygncnVubmluZyBzY3JvbGxlcklELCB2aWV3cG9ydHN0YXRlJyxzY3JvbGxlcklELCB2aWV3cG9ydHN0YXRlKVxuXG4gICAgY29uc3Qgdmlld3BvcnRzdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBmb3IgdXNlQ2FsbGJhY2sgLT4gcmVzaXplQ2FsbGJhY2tcbiAgICB2aWV3cG9ydHN0YXRlUmVmLmN1cnJlbnQgPSB2aWV3cG9ydHN0YXRlXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpIC8vIG1vbml0b3IgZm9yIHVubW91bnRlZFxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7aXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZX1cblxuICAgIH0sW10pXG5cbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgcmlnaHQ6MCxcbiAgICAgICAgICAgIGJvdHRvbTowLFxuICAgICAgICAgICAgbGVmdDowLFxuICAgICAgICAgICAgb3ZlcmZsb3c6J2F1dG8nLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOidyZWQnLFxuICAgICAgICAgfSwgc3R5bGVzPy52aWV3cG9ydClcblxuICAgIH0sW3N0eWxlcz8udmlld3BvcnRdKVxuXG4gICAgY29uc3Qgdmlld3BvcnRkaXZSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIHZpZXdwb3J0RGF0YVJlZiBpcyBwYXNzZWQgYXMgY29udGV4dCB0byBjaGlsZHJlblxuICAgIGNvbnN0IHZpZXdwb3J0RGF0YVJlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcG9ydGFsOm51bGwsIFxuICAgICAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgXG4gICAgICAgICAgICBpbmRleDpudWxsXG4gICAgICAgIH1cbiAgICApXG5cbiAgICBjb25zdCByZXNpemVUaW1lcmlkUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgaXNSZXNpemluZ1JlZiA9IHVzZVJlZihmYWxzZSlcbiAgICBjb25zdCByZXNpemVPYnNlcnZlclJlZiA9IHVzZVJlZihudWxsKTtcblxuICAgIC8vIHNldCB1cCByZXNpemVPYnNlcnZlclxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBSZXNpemVPYnNlcnZlckNsYXNzKHJlc2l6ZUNhbGxiYWNrKVxuICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50Lm9ic2VydmUodmlld3BvcnRkaXZSZWYuY3VycmVudClcblxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIHVzZWQgYnkgcmVzaXplT2JzZXJ2ZXI7IGdlbmVyYXRlcyBpbnRlcnJ1cHRcbiAgICBjb25zdCByZXNpemVDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChlbnRyaWVzKT0+e1xuXG4gICAgICAgIGlmICh2aWV3cG9ydHN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykge1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZW50cmllc1swXS50YXJnZXRcblxuICAgICAgICBpZiAoIXRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkKSB7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbml0aWFsaXppbmcgdGFyZ2V0JywgdGFyZ2V0LmRhdGFzZXQpXG4gICAgICAgICAgICB0YXJnZXQuZGF0YXNldC5pbml0aWFsaXplZCA9IHRydWVcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNSZXNpemluZ1JlZi5jdXJyZW50KSB7IC8vIGdlbmVyYXRlIGludGVycnVwdCByZXNwb25zZVxuICAgICAgICAgICAgdmlld3BvcnREYXRhUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IGlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWUgXG4gICAgICAgICAgICAvLyBuZXcgb2JqZWN0IGNyZWF0aW9uIHRyaWdnZXJzIGEgcmVhbHRpbWUgbWVzc2FnZSB0byBjcmFkbGUgdGhyb3VnaCBjb250ZXh0XG4gICAgICAgICAgICB2aWV3cG9ydERhdGFSZWYuY3VycmVudCA9IE9iamVjdC5hc3NpZ24oe30sdmlld3BvcnREYXRhUmVmLmN1cnJlbnQpIFxuXG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHNldFZpZXdwb3J0U3RhdGUoJ3Jlc2l6aW5nJylcblxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudClcbiAgICAgICAgcmVzaXplVGltZXJpZFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzUmVzaXppbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemVkJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFJFU0laRV9USU1FT1VUX0ZPUl9PTkFGVEVSU1JFU0laRSlcblxuICAgIH0sW10pXG5cbiAgICAvLyBnZXQgcG9ydGFsIGZvciBub24tcm9vdCB2aWV3cG9ydHNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIWNyYWRsZURhdGFSZWYpIHJldHVybiAvLyByb290XG5cblxuICAgICAgICBsZXQgcG9ydGFsaW5kZXhcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB2aWV3cG9ydGRpdlJlZi5jdXJyZW50XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmRhdGFzZXQgJiYgKGVsZW1lbnQuZGF0YXNldC50eXBlID09ICdwb3J0YWxjb250YWluZXInKSkge1xuICAgICAgICAgICAgICAgIHBvcnRhbGluZGV4ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmluZGV4KVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LnBvcnRhbCA9IHBvcnRhbE1hbmFnZXIuZ2V0UG9ydGFsKHBvcnRhbGluZGV4KVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50LmluZGV4ID0gcG9ydGFsaW5kZXhcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1I6IHBhcmVudCBwb3J0YWxjb250YWluZXIgbm90IGZvdW5kJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gY2FsY3VsYXRlZCB2YWx1ZXNcbiAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICAvLyBUT0RPOiBnYXBcbiAgICAgICAgbGV0IG1pbmNyb3NzbGVuZ3RoID0gY2FsY01pblZpZXdwb3J0Q3Jvc3NMZW5ndGgob3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgcGFkZGluZylcbiAgICAgICAgbGV0IHN0eWxlcyA9IE9iamVjdC5hc3NpZ24oe30sZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50KSAvLyBhdm9pZCByZWFkb25seVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSBtaW5jcm9zc2xlbmd0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlcy5taW5IZWlnaHQgPSAnYXV0bydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlcy5taW5XaWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgc3R5bGVzLm1pbkhlaWdodCA9IG1pbmNyb3NzbGVuZ3RoICsgJ3B4J1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlc1xuXG4gICAgfSxbb3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgcGFkZGluZ10pXG5cbiAgICAvLyBzZXQgY29udGV4dCBkYXRhIGZvciBjaGlsZHJlblxuICAgIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0c3RhdGUgPT0gJ3NldHVwJykgcmV0dXJuIHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qge3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdH0gPSB2aWV3cG9ydGRpdlJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKHJpZ2h0IC0gbGVmdClcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGJvdHRvbSAtIHRvcClcblxuICAgICAgICBjb25zdCBsb2NhbFZpZXdwb3J0RGF0YSA9IHtcbiAgICAgICAgICAgIHZpZXdwb3J0RGltZW5zaW9uczp7dG9wLHJpZ2h0LCBib3R0b20sIGxlZnQsIHdpZHRoLCBoZWlnaHR9LFxuICAgICAgICAgICAgZWxlbWVudHJlZjp2aWV3cG9ydGRpdlJlZixcbiAgICAgICAgICAgIGlzUmVzaXppbmc6aXNSZXNpemluZ1JlZi5jdXJyZW50LFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb250ZXh0IGNoYW5nZSB3aXRoIG5ldyBvYmplY3RcbiAgICAgICAgY29uc3Qgdmlld3BvcnRkYXRhb2JqZWN0ID0gT2JqZWN0LmFzc2lnbih7fSx2aWV3cG9ydERhdGFSZWYuY3VycmVudCwgbG9jYWxWaWV3cG9ydERhdGEpIFxuXG4gICAgICAgIHJldHVybiAgdmlld3BvcnRkYXRhb2JqZWN0XG5cbiAgICB9LFtvcmllbnRhdGlvbiwgaXNSZXNpemluZ1JlZi5jdXJyZW50LCB2aWV3cG9ydHN0YXRlXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzdGF0ZSBwcm9jZXNzaW5nIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgc3dpdGNoICh2aWV3cG9ydHN0YXRlKSB7XG4gICAgICAgICAgICAvLyBjYXNlICdyZXBhcmVudGluZyc6XG4gICAgICAgICAgICBjYXNlICdyZXNpemVkJzpcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzoge1xuICAgICAgICAgICAgICAgIHNldFZpZXdwb3J0U3RhdGUoJ3JlbmRlcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sW3ZpZXdwb3J0c3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIDxWaWV3cG9ydENvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7IHZpZXdwb3J0RGF0YVJlZi5jdXJyZW50IH0+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBkYXRhLXR5cGUgPSAndmlld3BvcnQnXG4gICAgICAgICAgICBkYXRhLXNjcm9sbGVyaWQgPSB7c2Nyb2xsZXJJRH1cbiAgICAgICAgICAgIHN0eWxlID0ge2RpdmxpbmVyc3R5bGVSZWYuY3VycmVudH1cbiAgICAgICAgICAgIHJlZiA9IHt2aWV3cG9ydGRpdlJlZn1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyAodmlld3BvcnRzdGF0ZSAhPSAnc2V0dXAnKSAmJiBjaGlsZHJlbiB9XG4gICAgICAgIDwvZGl2PlxuICAgIDwvVmlld3BvcnRDb250ZXh0LlByb3ZpZGVyPlxuICAgIFxufSAvLyBWaWV3cG9ydFxuXG4vLyBlc3RhYmxpc2ggbWluaW11bSB3aWR0aC9oZWlnaHQgZm9yIHRoZSB2aWV3cG9ydCAtLSBhcHByb3hpbWF0ZWx5IG9uZSBpdGVtXG5jb25zdCBjYWxjTWluVmlld3BvcnRDcm9zc0xlbmd0aCA9IChvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBwYWRkaW5nKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGNNaW5WaWV3cG9ydENyb3NzTGVuZ3RoIHBhcm1zJyxvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBwYWRkaW5nLClcbiAgICBsZXQgY3Jvc3NsZW5ndGgsIGNlbGxMZW5ndGhcbiAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHRcbiAgICB9XG4gICAgY3Jvc3NsZW5ndGggPSBjZWxsTGVuZ3RoICsgKHBhZGRpbmcgKiAyKVxuICAgIHJldHVybiBjcm9zc2xlbmd0aFxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3cG9ydFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/viewport.tsx\n");

/***/ }),

/***/ "./node_modules/detect-browser/es/index.js":
/*!*************************************************!*\
  !*** ./node_modules/detect-browser/es/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BrowserInfo\": () => (/* binding */ BrowserInfo),\n/* harmony export */   \"NodeInfo\": () => (/* binding */ NodeInfo),\n/* harmony export */   \"SearchBotDeviceInfo\": () => (/* binding */ SearchBotDeviceInfo),\n/* harmony export */   \"BotInfo\": () => (/* binding */ BotInfo),\n/* harmony export */   \"ReactNativeInfo\": () => (/* binding */ ReactNativeInfo),\n/* harmony export */   \"detect\": () => (/* binding */ detect),\n/* harmony export */   \"browserName\": () => (/* binding */ browserName),\n/* harmony export */   \"parseUserAgent\": () => (/* binding */ parseUserAgent),\n/* harmony export */   \"detectOS\": () => (/* binding */ detectOS),\n/* harmony export */   \"getNodeVersion\": () => (/* binding */ getNodeVersion)\n/* harmony export */ });\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\n\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\n\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\n\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\n\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\n\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nfunction browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nfunction parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvZXMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLHFCQUFxQixTQUFJLElBQUksU0FBSTtBQUNqQyw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ3NCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ21CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDOEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2tCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDRDQUE0QztBQUN6RjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMERBQTBELFlBQVk7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixZQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9kZXRlY3QtYnJvd3Nlci9lcy9pbmRleC5qcz83YjQ2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbnZhciBCcm93c2VySW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySW5mbyhuYW1lLCB2ZXJzaW9uLCBvcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMudHlwZSA9ICdicm93c2VyJztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJyb3dzZXJJbmZvIH07XG52YXIgTm9kZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZUluZm8odmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcbiAgICAgICAgdGhpcy5vcyA9IHByb2Nlc3MucGxhdGZvcm07XG4gICAgfVxuICAgIHJldHVybiBOb2RlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBOb2RlSW5mbyB9O1xudmFyIFNlYXJjaEJvdERldmljZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgYm90KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMub3MgPSBvcztcbiAgICAgICAgdGhpcy5ib3QgPSBib3Q7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QtZGV2aWNlJztcbiAgICB9XG4gICAgcmV0dXJuIFNlYXJjaEJvdERldmljZUluZm87XG59KCkpO1xuZXhwb3J0IHsgU2VhcmNoQm90RGV2aWNlSW5mbyB9O1xudmFyIEJvdEluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm90SW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2JvdCc7XG4gICAgICAgIHRoaXMuYm90ID0gdHJ1ZTsgLy8gTk9URTogZGVwcmVjYXRlZCB0ZXN0IG5hbWUgaW5zdGVhZFxuICAgICAgICB0aGlzLm5hbWUgPSAnYm90JztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBCb3RJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJvdEluZm8gfTtcbnZhciBSZWFjdE5hdGl2ZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVhY3ROYXRpdmVJbmZvKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVhY3QtbmF0aXZlJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3ROYXRpdmVJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFJlYWN0TmF0aXZlSW5mbyB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxudmFyIFNFQVJDSEJPWF9VQV9SRUdFWCA9IC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4LztcbnZhciBTRUFSQ0hCT1RfT1NfUkVHRVggPSAvKG51aGt8Y3VybHxHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrXFwgSmVldmVzXFwvVGVvbWF8aWFfYXJjaGl2ZXIpLztcbnZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTID0gMztcbnZhciB1c2VyQWdlbnRSdWxlcyA9IFtcbiAgICBbJ2FvbCcsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UnLCAvRWRnZVxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsnZWRnZS1pb3MnLCAvRWRnaU9TXFwvKFswLTlcXC5fXSspL10sXG4gICAgWyd5YW5kZXhicm93c2VyJywgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sXG4gICAgWydzYW1zdW5nJywgL1NhbXN1bmdCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ3NpbGsnLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXG4gICAgWydtaXVpJywgL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydiZWFrZXInLCAvQmVha2VyQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydlZGdlLWNocm9taXVtJywgL0VkZ0E/XFwvKFswLTlcXC5dKykvXSxcbiAgICBbXG4gICAgICAgICdjaHJvbWl1bS13ZWJ2aWV3JyxcbiAgICAgICAgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvLFxuICAgIF0sXG4gICAgWydjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydwaGFudG9tanMnLCAvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gICAgWydmeGlvcycsIC9GeGlPU1xcLyhbMC05XFwuXSspL10sXG4gICAgWydvcGVyYS1taW5pJywgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnb3BlcmEnLCAvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ3BpZScsIC9eTWljcm9zb2Z0IFBvY2tldCBJbnRlcm5ldCBFeHBsb3JlclxcLyhcXGQrXFwuXFxkKykkL10sXG4gICAgWydwaWUnLCAvXk1vemlsbGFcXC9cXGRcXC5cXGQrXFxzXFwoY29tcGF0aWJsZTtcXHMoPzpNU1A/SUV8TVNJbnRlcm5ldCBFeHBsb3JlcikgKFxcZCtcXC5cXGQrKTsuKldpbmRvd3MgQ0UuKlxcKSQvXSxcbiAgICBbJ25ldGZyb250JywgL15Nb3ppbGxhXFwvXFxkXFwuXFxkKy4qTmV0RnJvbnRcXC8oXFxkLlxcZCkvXSxcbiAgICBbJ2llJywgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcbiAgICBbJ2llJywgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXG4gICAgWydpZScsIC9NU0lFXFxzKDdcXC4wKS9dLFxuICAgIFsnYmIxMCcsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2FuZHJvaWQnLCAvQW5kcm9pZFxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxuICAgIFsnc2FmYXJpJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxuICAgIFsnZmFjZWJvb2snLCAvRkJbQVNdVlxcLyhbMC05XFwuXSspL10sXG4gICAgWydpbnN0YWdyYW0nLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxuICAgIFsnaW9zLXdlYnZpZXcnLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sXG4gICAgWydjdXJsJywgL15jdXJsXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydzZWFyY2hib3QnLCBTRUFSQ0hCT1hfVUFfUkVHRVhdLFxuXTtcbnZhciBvcGVyYXRpbmdTeXN0ZW1SdWxlcyA9IFtcbiAgICBbJ2lPUycsIC9pUChob25lfG9kfGFkKS9dLFxuICAgIFsnQW5kcm9pZCBPUycsIC9BbmRyb2lkL10sXG4gICAgWydCbGFja0JlcnJ5IE9TJywgL0JsYWNrQmVycnl8QkIxMC9dLFxuICAgIFsnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvXSxcbiAgICBbJ0FtYXpvbiBPUycsIC9LaW5kbGUvXSxcbiAgICBbJ1dpbmRvd3MgMy4xMScsIC9XaW4xNi9dLFxuICAgIFsnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxcbiAgICBbJ1dpbmRvd3MgOTgnLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcbiAgICBbJ1dpbmRvd3MgMjAwMCcsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sXG4gICAgWydXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sXG4gICAgWydXaW5kb3dzIFNlcnZlciAyMDAzJywgLyhXaW5kb3dzIE5UIDUuMikvXSxcbiAgICBbJ1dpbmRvd3MgVmlzdGEnLCAvKFdpbmRvd3MgTlQgNi4wKS9dLFxuICAgIFsnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvXSxcbiAgICBbJ1dpbmRvd3MgOCcsIC8oV2luZG93cyBOVCA2LjIpL10sXG4gICAgWydXaW5kb3dzIDguMScsIC8oV2luZG93cyBOVCA2LjMpL10sXG4gICAgWydXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApL10sXG4gICAgWydXaW5kb3dzIE1FJywgL1dpbmRvd3MgTUUvXSxcbiAgICBbJ1dpbmRvd3MgQ0UnLCAvV2luZG93cyBDRXxXaW5DRXxNaWNyb3NvZnQgUG9ja2V0IEludGVybmV0IEV4cGxvcmVyL10sXG4gICAgWydPcGVuIEJTRCcsIC9PcGVuQlNEL10sXG4gICAgWydTdW4gT1MnLCAvU3VuT1MvXSxcbiAgICBbJ0Nocm9tZSBPUycsIC9Dck9TL10sXG4gICAgWydMaW51eCcsIC8oTGludXgpfChYMTEpL10sXG4gICAgWydNYWMgT1MnLCAvKE1hY19Qb3dlclBDKXwoTWFjaW50b3NoKS9dLFxuICAgIFsnUU5YJywgL1FOWC9dLFxuICAgIFsnQmVPUycsIC9CZU9TL10sXG4gICAgWydPUy8yJywgL09TXFwvMi9dLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3QodXNlckFnZW50KSB7XG4gICAgaWYgKCEhdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudCh1c2VyQWdlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgICAgICByZXR1cm4gbmV3IFJlYWN0TmF0aXZlSW5mbygpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Tm9kZVZlcnNpb24oKTtcbn1cbmZ1bmN0aW9uIG1hdGNoVXNlckFnZW50KHVhKSB7XG4gICAgLy8gb3B0ZWQgZm9yIHVzaW5nIHJlZHVjZSBoZXJlIHJhdGhlciB0aGFuIEFycmF5I2ZpcnN0IHdpdGggYSByZWdleC50ZXN0IGNhbGxcbiAgICAvLyB0aGlzIGlzIHByaW1hcmlseSBiZWNhdXNlIHVzaW5nIHRoZSByZWR1Y2Ugd2Ugb25seSBwZXJmb3JtIHRoZSByZWdleFxuICAgIC8vIGV4ZWN1dGlvbiBvbmNlIHJhdGhlciB0aGFuIG9uY2UgZm9yIHRoZSB0ZXN0IGFuZCBmb3IgdGhlIGV4ZWMgYWdhaW4gYmVsb3dcbiAgICAvLyBwcm9iYWJseSBzb21ldGhpbmcgdGhhdCBuZWVkcyB0byBiZSBiZW5jaG1hcmtlZCB0aG91Z2hcbiAgICByZXR1cm4gKHVhICE9PSAnJyAmJlxuICAgICAgICB1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoZWQsIF9hKSB7XG4gICAgICAgICAgICB2YXIgYnJvd3NlciA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1YU1hdGNoID0gcmVnZXguZXhlYyh1YSk7XG4gICAgICAgICAgICByZXR1cm4gISF1YU1hdGNoICYmIFticm93c2VyLCB1YU1hdGNoXTtcbiAgICAgICAgfSwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VyTmFtZSh1YSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hVc2VyQWdlbnQodWEpO1xuICAgIHJldHVybiBkYXRhID8gZGF0YVswXSA6IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVc2VyQWdlbnQodWEpIHtcbiAgICB2YXIgbWF0Y2hlZFJ1bGUgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgaWYgKCFtYXRjaGVkUnVsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBtYXRjaGVkUnVsZVswXSwgbWF0Y2ggPSBtYXRjaGVkUnVsZVsxXTtcbiAgICBpZiAobmFtZSA9PT0gJ3NlYXJjaGJvdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3RJbmZvKCk7XG4gICAgfVxuICAgIC8vIERvIG5vdCB1c2UgUmVnRXhwIGZvciBzcGxpdCBvcGVyYXRpb24gYXMgc29tZSBicm93c2VyIGRvIG5vdCBzdXBwb3J0IGl0IChTZWU6IGh0dHA6Ly9ibG9nLnN0ZXZlbmxldml0aGFuLmNvbS9hcmNoaXZlcy9jcm9zcy1icm93c2VyLXNwbGl0KVxuICAgIHZhciB2ZXJzaW9uUGFydHMgPSBtYXRjaFsxXSAmJiBtYXRjaFsxXS5zcGxpdCgnLicpLmpvaW4oJ18nKS5zcGxpdCgnXycpLnNsaWNlKDAsIDMpO1xuICAgIGlmICh2ZXJzaW9uUGFydHMpIHtcbiAgICAgICAgaWYgKHZlcnNpb25QYXJ0cy5sZW5ndGggPCBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTKSB7XG4gICAgICAgICAgICB2ZXJzaW9uUGFydHMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIHZlcnNpb25QYXJ0cywgdHJ1ZSksIGNyZWF0ZVZlcnNpb25QYXJ0cyhSRVFVSVJFRF9WRVJTSU9OX1BBUlRTIC0gdmVyc2lvblBhcnRzLmxlbmd0aCksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2ZXJzaW9uUGFydHMgPSBbXTtcbiAgICB9XG4gICAgdmFyIHZlcnNpb24gPSB2ZXJzaW9uUGFydHMuam9pbignLicpO1xuICAgIHZhciBvcyA9IGRldGVjdE9TKHVhKTtcbiAgICB2YXIgc2VhcmNoQm90TWF0Y2ggPSBTRUFSQ0hCT1RfT1NfUkVHRVguZXhlYyh1YSk7XG4gICAgaWYgKHNlYXJjaEJvdE1hdGNoICYmIHNlYXJjaEJvdE1hdGNoWzFdKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgc2VhcmNoQm90TWF0Y2hbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJyb3dzZXJJbmZvKG5hbWUsIHZlcnNpb24sIG9zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RPUyh1YSkge1xuICAgIGZvciAodmFyIGlpID0gMCwgY291bnQgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgdmFyIF9hID0gb3BlcmF0aW5nU3lzdGVtUnVsZXNbaWldLCBvcyA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICB2YXIgbWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XG4gICAgdmFyIGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb247XG4gICAgcmV0dXJuIGlzTm9kZSA/IG5ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25QYXJ0cyhjb3VudCkge1xuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgb3V0cHV0LnB1c2goJzAnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/detect-browser/es/index.js\n");

/***/ }),

/***/ "./node_modules/react-reverse-portal/dist/web/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-reverse-portal/dist/web/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createHtmlPortalNode\": () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   \"createSvgPortalNode\": () => (/* binding */ createSvgPortalNode),\n/* harmony export */   \"InPortal\": () => (/* binding */ InPortal),\n/* harmony export */   \"OutPortal\": () => (/* binding */ OutPortal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"react-dom\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = 'html';\nvar ELEMENT_TYPE_SVG = 'svg';\n// ReactDOM can handle several different namespaces, but they're not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error(\"Unrecognized element type \\\"\" + elementType + \"\\\" for validateElementType.\");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement('div');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, 'g');\n    }\n    else {\n        throw new Error(\"Invalid element type \\\"\" + elementType + \"\\\" for createPortalNode: must be \\\"html\\\" or \\\"svg\\\".\");\n    }\n    if (options && typeof options === \"object\") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode's elementType needs to match\n            // the elementType it's being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error(\"Invalid element type for portal: \\\"\" + elementType + \"\\\" portalNodes must be used with \" + elementType + \" elements, but OutPortal is within <\" + newParent.tagName + \">.\");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren't currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we're switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsK0NBQWtCO0FBQ3ZELGlCQUFpQixpREFBb0I7QUFDckM7QUFDQSxtQkFBbUIsK0NBQWtCO0FBQ3JDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnQkFBZ0IsaUJBQWlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixVQUFVLDJCQUEyQjtBQUN2RTtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFtQjtBQUNyQjtBQUNBO0FBQzJFO0FBQzNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZXZlcnNlLXBvcnRhbC9kaXN0L3dlYi9pbmRleC5qcz9lMDAwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIEludGVybmFsbHksIHRoZSBwb3J0YWxOb2RlIG11c3QgYmUgZm9yIGVpdGhlciBIVE1MIG9yIFNWRyBlbGVtZW50c1xudmFyIEVMRU1FTlRfVFlQRV9IVE1MID0gJ2h0bWwnO1xudmFyIEVMRU1FTlRfVFlQRV9TVkcgPSAnc3ZnJztcbi8vIFJlYWN0RE9NIGNhbiBoYW5kbGUgc2V2ZXJhbCBkaWZmZXJlbnQgbmFtZXNwYWNlcywgYnV0IHRoZXkncmUgbm90IGV4cG9ydGVkIHB1YmxpY2x5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iODdhYWJkZmUxYjc0NjFlNzMzMWFiYjM2MDFkOWU2YmIyNzU0NGJjL3BhY2thZ2VzL3JlYWN0LWRvbS9zcmMvc2hhcmVkL0RPTU5hbWVzcGFjZXMuanMjTDgtTDEwXG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG52YXIgdmFsaWRhdGVFbGVtZW50VHlwZSA9IGZ1bmN0aW9uIChkb21FbGVtZW50LCBlbGVtZW50VHlwZSkge1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSBFTEVNRU5UX1RZUEVfU1ZHKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgdmFsaWRhdGVFbGVtZW50VHlwZS5cIik7XG59O1xuLy8gVGhpcyBpcyB0aGUgaW50ZXJuYWwgaW1wbGVtZW50YXRpb246IHRoZSBwdWJsaWMgZW50cnkgcG9pbnRzIHNldCBlbGVtZW50VHlwZSB0byBhbiBhcHByb3ByaWF0ZSB2YWx1ZVxudmFyIGNyZWF0ZVBvcnRhbE5vZGUgPSBmdW5jdGlvbiAoZWxlbWVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbFByb3BzID0ge307XG4gICAgdmFyIHBhcmVudDtcbiAgICB2YXIgbGFzdFBsYWNlaG9sZGVyO1xuICAgIHZhciBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX0hUTUwpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsICdnJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBmb3IgY3JlYXRlUG9ydGFsTm9kZTogbXVzdCBiZSBcXFwiaHRtbFxcXCIgb3IgXFxcInN2Z1xcXCIuXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5hdHRyaWJ1dGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwga2V5ID0gX2JbMF0sIHZhbHVlID0gX2JbMV07XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcG9ydGFsTm9kZSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICBzZXRQb3J0YWxQcm9wczogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICBpbml0aWFsUHJvcHMgPSBwcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5pdGlhbFBvcnRhbFByb3BzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBtb3VudDogZnVuY3Rpb24gKG5ld1BhcmVudCwgbmV3UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChuZXdQbGFjZWhvbGRlciA9PT0gbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBtb3VudGVkIC0gbm9vcC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3J0YWxOb2RlLnVubW91bnQoKTtcbiAgICAgICAgICAgIC8vIFRvIHN1cHBvcnQgU1ZHIGFuZCBvdGhlciBub24taHRtbCBlbGVtZW50cywgdGhlIHBvcnRhbE5vZGUncyBlbGVtZW50VHlwZSBuZWVkcyB0byBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnRUeXBlIGl0J3MgYmVpbmcgcmVuZGVyZWQgaW50b1xuICAgICAgICAgICAgaWYgKG5ld1BhcmVudCAhPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUVsZW1lbnRUeXBlKG5ld1BhcmVudCwgZWxlbWVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZWxlbWVudCB0eXBlIGZvciBwb3J0YWw6IFxcXCJcIiArIGVsZW1lbnRUeXBlICsgXCJcXFwiIHBvcnRhbE5vZGVzIG11c3QgYmUgdXNlZCB3aXRoIFwiICsgZWxlbWVudFR5cGUgKyBcIiBlbGVtZW50cywgYnV0IE91dFBvcnRhbCBpcyB3aXRoaW4gPFwiICsgbmV3UGFyZW50LnRhZ05hbWUgKyBcIj4uXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1BhcmVudC5yZXBsYWNlQ2hpbGQocG9ydGFsTm9kZS5lbGVtZW50LCBuZXdQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBwYXJlbnQgPSBuZXdQYXJlbnQ7XG4gICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSBuZXdQbGFjZWhvbGRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudDogZnVuY3Rpb24gKGV4cGVjdGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChleHBlY3RlZFBsYWNlaG9sZGVyICYmIGV4cGVjdGVkUGxhY2Vob2xkZXIgIT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdW5tb3VudHMgZm9yIHBsYWNlaG9sZGVycyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgbW91bnRlZFxuICAgICAgICAgICAgICAgIC8vIFRoZXkgd2lsbCBoYXZlIGJlZW4gYXV0b21hdGljYWxseSB1bm1vdW50ZWQgYWxyZWFkeSBieSBhIHN1YnNlcXVlbnQgbW91bnQoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgbGFzdFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChsYXN0UGxhY2Vob2xkZXIsIHBvcnRhbE5vZGUuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxhc3RQbGFjZWhvbGRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBvcnRhbE5vZGU7XG59O1xudmFyIEluUG9ydGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJblBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJblBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkUHJvcHNDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpcy5wcm9wcy5ub2RlLCB7XG4gICAgICAgICAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXJlbmRlciB0aGUgY2hpbGQgbm9kZSBoZXJlIGlmL3doZW4gdGhlIG91dCBwb3J0YWwgcHJvcHMgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbm9kZVByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBub2RlUHJvcHM6IF90aGlzLnByb3BzLm5vZGUuZ2V0SW5pdGlhbFBvcnRhbFByb3BzKCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkZFByb3BzQ2hhbm5lbCgpO1xuICAgIH07XG4gICAgSW5Qb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG5vZGUgPSBfYS5ub2RlO1xuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBfdGhpcy5zdGF0ZS5ub2RlUHJvcHMpO1xuICAgICAgICB9KSwgbm9kZS5lbGVtZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBJblBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIE91dFBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3V0UG9ydGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE91dFBvcnRhbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGxhY2Vob2xkZXJOb2RlID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIF90aGlzLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLnBhc3NQcm9wc1Rocm91Z2hQb3J0YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcm9wc0ZvclRhcmdldCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgbm9kZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm5vZGUuc2V0UG9ydGFsUHJvcHMocHJvcHNGb3JUYXJnZXQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIHRoaXMuY3VycmVudFBvcnRhbE5vZGUgPSBub2RlO1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2UgcmUtbW91bnQgb24gdXBkYXRlLCBqdXN0IGluIGNhc2Ugd2Ugd2VyZSB1bm1vdW50ZWQgKGUuZy4gYnlcbiAgICAgICAgLy8gYSBzZWNvbmQgT3V0UG9ydGFsLCB3aGljaCBoYXMgbm93IGJlZW4gcmVtb3ZlZClcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG4gICAgICAgIC8vIElmIHdlJ3JlIHN3aXRjaGluZyBwb3J0YWwgbm9kZXMsIHdlIG5lZWQgdG8gY2xlYW4gdXAgdGhlIGN1cnJlbnQgb25lIGZpcnN0LlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9ydGFsTm9kZSAmJiBub2RlICE9PSB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlLnVubW91bnQodGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJlbmRlciBhIHBsYWNlaG9sZGVyIHRvIHRoZSBET00sIHNvIHdlIGNhbiBnZXQgYSByZWZlcmVuY2UgaW50b1xuICAgICAgICAvLyBvdXIgbG9jYXRpb24gaW4gdGhlIERPTSwgYW5kIHN3YXAgaXQgb3V0IGZvciB0aGUgcG9ydGFsZWQgbm9kZS5cbiAgICAgICAgLy8gQSA8ZGl2PiBwbGFjZWhvbGRlciB3b3JrcyBmaW5lIGV2ZW4gZm9yIFNWRy5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHRoaXMucGxhY2Vob2xkZXJOb2RlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE91dFBvcnRhbDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCkpO1xudmFyIGNyZWF0ZUh0bWxQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9IVE1MKTtcbnZhciBjcmVhdGVTdmdQb3J0YWxOb2RlID0gY3JlYXRlUG9ydGFsTm9kZS5iaW5kKG51bGwsIEVMRU1FTlRfVFlQRV9TVkcpO1xuZXhwb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIGNyZWF0ZVN2Z1BvcnRhbE5vZGUsIEluUG9ydGFsLCBPdXRQb3J0YWwsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n");

/***/ }),

/***/ "./node_modules/requestidlecallback/index.js":
/*!***************************************************!*\
  !*** ./node_modules/requestidlecallback/index.js ***!
  \***************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/infinitegridscroller.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});