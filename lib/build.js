/*! For license information please see build.js.LICENSE.txt */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],F):"object"==typeof exports?exports["react-infinite-grid-scroller"]=F(require("react"),require("react-dom")):Q["react-infinite-grid-scroller"]=F(Q.react,Q["react-dom"])}(self,((__WEBPACK_EXTERNAL_MODULE_react__,__WEBPACK_EXTERNAL_MODULE_react_dom__)=>(()=>{var __webpack_modules__={"./src/CellFrame.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// CellFrame.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of CellFrame is to fetch user content from the cache, or from the host (using getItem).\n    While an item is being fetched, CellFrame presents a placeholder (either the default or an\n    imported custom version). If there is an error in fetching content then the placeholder is used\n    to present the error to the user. If a new itemID is set by the parent (to synchronize with an altered\n    cache), then CellFrame replaces the old item with the new item.\n\n    getItem (which is a function provided by the host) can return one of several values:\n        - a React component\n        - a promise of a component\n        - null\n        - undefined\n    Anything else is treated as an error\n\n    if a promise is returned, then the promise returns a React component, null or undefined.\n\n    If a valid react component is returned from getItem, then it is instantiated in the cache, and rendered in the\n    CellFrame. If null is returned, then CellFrame sends a message to its scroller that the host has\n    indicated the the item being fetched instead represents the end of the list, and the listsize should\n    be adjusted accordingly. Any other value that is returned is treated as an error, and presented\n    as such to the user through the placeholder component.\n\n    getItem sends the index (logical index in the list) and a session itemID to the host, so that\n    the host can sync its own tracking with the scroller.\n\n    One CellFrame at a time is designated as the host of the two triggerLines with the isTriggerCell flag.\n    The triggerlines trigger an update of the Cradle through an IntersectionObserver.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ "./node_modules/requestidlecallback/index.js"); // polyfill if needed\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ "./node_modules/react-reverse-portal/dist/web/index.js"); // fetch from cache\nvar Placeholder_1 = __importDefault(__webpack_require__(/*! ./cellframe/Placeholder */ "./src/cellframe/Placeholder.tsx")); // default\nvar Cradle_1 = __webpack_require__(/*! ./Cradle */ "./src/Cradle.tsx");\nvar defaultPlaceholderMessages = {\n  loading: \'(loading...)\',\n  retrieving: \'(retrieving from cache)\',\n  "null": \'end of list\',\n  undefined: \'host returned "undefined"\',\n  invalid: \'invalid React element\'\n};\nvar CellFrame = function CellFrame(_ref) {\n  var orientation = _ref.orientation,\n    cellHeight = _ref.cellHeight,\n    cellWidth = _ref.cellWidth,\n    cellMinHeight = _ref.cellMinHeight,\n    cellMinWidth = _ref.cellMinWidth,\n    layout = _ref.layout,\n    getItem = _ref.getItem,\n    listsize = _ref.listsize,\n    placeholder = _ref.placeholder,\n    itemID = _ref.itemID,\n    index = _ref.index,\n    instanceID = _ref.instanceID,\n    scrollerID = _ref.scrollerID,\n    isTriggercell = _ref.isTriggercell,\n    placeholderFrameStyles = _ref.placeholderFrameStyles,\n    placeholderLinerStyles = _ref.placeholderLinerStyles,\n    placeholderErrorFrameStyles = _ref.placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles = _ref.placeholderErrorLinerStyles,\n    placeholderMessages = _ref.placeholderMessages,\n    usePlaceholder = _ref.usePlaceholder,\n    gridstartstyle = _ref.gridstartstyle;\n  var coreConfigRef = (0, react_1.useRef)(null);\n  coreConfigRef.current = {\n    orientation: orientation,\n    layout: layout,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight\n  };\n  // ----------------------[ setup ]----------------------\n  var cradleContext = (0, react_1.useContext)(Cradle_1.CradleContext);\n  var cacheAPI = cradleContext.cacheAPI,\n    scrollerPropertiesRef = cradleContext.scrollerPropertiesRef,\n    nullItemSetMaxListsize = cradleContext.nullItemSetMaxListsize,\n    itemExceptionCallback = cradleContext.itemExceptionCallback,\n    IDLECALLBACK_TIMEOUT = cradleContext.IDLECALLBACK_TIMEOUT,\n    triggercellTriggerlinesRef = cradleContext.triggercellTriggerlinesRef;\n  // style change generates state refresh\n  var stylesRef = (0, react_1.useRef)({});\n  var holderStylesRef = (0, react_1.useRef)({});\n  var placeholderMessagesRef = (0, react_1.useRef)(null);\n  placeholderMessagesRef.current = (0, react_1.useMemo)(function () {\n    var newMessages = Object.assign(Object.assign({}, defaultPlaceholderMessages), placeholderMessages);\n    return newMessages;\n  }, [placeholderMessages]);\n  // processing state\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    frameState = _ref3[0],\n    setFrameState = _ref3[1];\n  var frameStateRef = (0, react_1.useRef)(null);\n  frameStateRef.current = frameState;\n  // DOM ref\n  var frameRef = (0, react_1.useRef)(null);\n  // to track unmount interrupt\n  var isMountedRef = (0, react_1.useRef)(true);\n  // cache data\n  var portalMetadataRef = (0, react_1.useRef)(null);\n  // the placeholder to use\n  var placeholderRef = (0, react_1.useRef)(null);\n  // the session itemID to use; could be updated by parent\n  var itemIDRef = (0, react_1.useRef)(null);\n  itemIDRef.current = itemID;\n  var cellFramePropertiesRef = (0, react_1.useRef)(null);\n  cellFramePropertiesRef.current = {\n    itemID: itemID,\n    index: index\n  };\n  // fetch error\n  var errorRef = (0, react_1.useRef)(false);\n  // placeholder message\n  var messageRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  // for unmount\n  (0, react_1.useEffect)(function () {\n    return function () {\n      cancelidlecallback(requestIdleCallbackIdRef.current);\n      cacheAPI.unregisterPendingPortal(index);\n    };\n  }, []);\n  // refresh content if itemID changes\n  (0, react_1.useLayoutEffect)(function () {\n    if (frameStateRef.current == \'setup\') return;\n    if (isMountedRef.current) setFrameState(\'getusercontent\');\n  }, [itemID]);\n  // ----------------- [ placeholder definition ] -------------------------\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    if (!usePlaceholder) return null;\n    return placeholder ? react_1["default"].createElement(placeholder, {\n      index: index,\n      listsize: listsize,\n      message: messageRef.current,\n      error: errorRef.current\n    }) : null;\n  }, [index, placeholder, listsize, messageRef.current, errorRef.current, usePlaceholder]);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    if (!usePlaceholder) return null;\n    var placeholder = customplaceholder ? customplaceholder : react_1["default"].createElement(Placeholder_1["default"], {\n      key: \'placeholder\',\n      index: index,\n      listsize: listsize,\n      message: messageRef.current,\n      error: errorRef.current,\n      userFrameStyles: placeholderFrameStyles,\n      userLinerStyles: placeholderLinerStyles,\n      userErrorFrameStyles: placeholderErrorFrameStyles,\n      userErrorLinerStyles: placeholderErrorLinerStyles\n    });\n    return placeholder;\n  }, [index, customplaceholder, listsize, messageRef.current, errorRef.current, usePlaceholder, placeholderFrameStyles, placeholderLinerStyles, placeholderErrorFrameStyles, placeholderErrorLinerStyles]);\n  // ---------------- [ requestidlecallback config ] ------------------------\n  var requestidlecallback =\n  // requestIdleCallback\n  window[\'requestIdleCallback\'] ? window[\'requestIdleCallback\'] : requestidlecallback_1.requestIdleCallback;\n  var cancelidlecallback =\n  // cancelIdleCallback\n  window[\'cancelIdleCallback\'] ? window[\'cancelIdleCallback\'] : requestidlecallback_1.cancelIdleCallback;\n  var requestIdleCallbackIdRef = (0, react_1.useRef)(null);\n  // --------------------[ processing ]-----------------\n  // set styles\n  (0, react_1.useEffect)(function () {\n    var newFrameStyles = getFrameStyles(orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, stylesRef.current);\n    if (gridstartstyle) {\n      newFrameStyles = Object.assign(Object.assign({}, newFrameStyles), gridstartstyle);\n    }\n    var newHolderStyles = getContentHolderStyles(layout, orientation, cellMinWidth, cellMinHeight);\n    if (isMountedRef.current) {\n      stylesRef.current = newFrameStyles;\n      holderStylesRef.current = newHolderStyles;\n    }\n  }, [orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, gridstartstyle]);\n  var portalNodeRef = (0, react_1.useRef)(null);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (frameState) {\n      case \'setup\':\n        {\n          setFrameState(\'working\'); // \'getusercontent\' will be called\n          break;\n        }\n      case \'working\':\n        {\n          setFrameState(\'getusercontent\'); // delay paint while working\n          break;\n        }\n      case \'getusercontent\':\n        {\n          var _itemID = itemIDRef.current;\n          var cached = cacheAPI.hasPortal(_itemID);\n          var _coreConfigRef$curren = coreConfigRef.current,\n            _layout = _coreConfigRef$curren.layout,\n            _orientation = _coreConfigRef$curren.orientation,\n            _cellWidth = _coreConfigRef$curren.cellWidth,\n            _cellHeight = _coreConfigRef$curren.cellHeight;\n          if (cached) {\n            messageRef.current = placeholderMessagesRef.current.retrieving;\n            if (isMountedRef.current) {\n              // get cache data\n              portalMetadataRef.current = cacheAPI.getPortalMetadata(_itemID);\n              // update cell and scroller properties ref in case of switch in either\n              portalMetadataRef.current.scrollerProperties.cellFramePropertiesRef = cellFramePropertiesRef;\n              portalMetadataRef.current.scrollerProperties.scrollerPropertiesRef = scrollerPropertiesRef;\n              // get OutPortal node\n              portalNodeRef.current = portalMetadataRef.current.portalNode;\n              setContainerStyles(portalNodeRef.current.element, _layout, _orientation, _cellWidth, _cellHeight);\n              setFrameState(\'retrieved\');\n            }\n          } else {\n            messageRef.current = placeholderMessagesRef.current.loading;\n            // reserve space in the cache\n            cacheAPI.registerPendingPortal(index);\n            // enqueue the fetch\n            requestIdleCallbackIdRef.current = requestidlecallback(function () {\n              return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                var _a, _b, returnvalue, usercontent, error, isValidElement, content, scrollerProperties, addinCount, addinProps, retval;\n                return _regeneratorRuntime().wrap(function _callee$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return getItem(index, _itemID);\n                    case 3:\n                      usercontent = _context.sent;\n                      if (usercontent === null) returnvalue = usercontent;\n                      if (usercontent === undefined) {\n                        error = new Error(placeholderMessagesRef.current.undefined);\n                      }\n                      _context.next = 12;\n                      break;\n                    case 8:\n                      _context.prev = 8;\n                      _context.t0 = _context["catch"](0);\n                      returnvalue = usercontent = undefined;\n                      error = _context.t0;\n                    case 12:\n                      // process the return value\n                      if (usercontent !== null && usercontent !== undefined) {\n                        isValidElement = react_1["default"].isValidElement(usercontent);\n                        if (!isValidElement) {\n                          returnvalue = usercontent;\n                          usercontent = undefined;\n                          error = new Error(placeholderMessagesRef.current.invalid);\n                        }\n                      }\n                      if (!isMountedRef.current) {\n                        _context.next = 30;\n                        break;\n                      }\n                      if (!(usercontent !== null && usercontent !== undefined)) {\n                        _context.next = 28;\n                        break;\n                      }\n                      // if usercontent is otherwise disallowed, let error handling deal with it.\n                      scrollerProperties = {\n                        cellFramePropertiesRef: cellFramePropertiesRef,\n                        scrollerPropertiesRef: scrollerPropertiesRef\n                      };\n                      addinCount = 0;\n                      addinProps = {};\n                      if ((_a = usercontent.props) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(\'scrollerProperties\')) {\n                        addinProps.scrollerProperties = scrollerProperties;\n                        addinCount++;\n                      }\n                      if ((_b = usercontent.props) === null || _b === void 0 ? void 0 : _b.hasOwnProperty(\'cacheAPI\')) {\n                        addinProps.cacheAPI = cacheAPI.instance;\n                        addinCount++;\n                      }\n                      if (addinCount) {\n                        content = react_1["default"].cloneElement(usercontent, addinProps);\n                      } else {\n                        content = usercontent;\n                      }\n                      _context.next = 23;\n                      return cacheAPI.createPortal(content, index, _itemID, scrollerProperties);\n                    case 23:\n                      retval = portalMetadataRef.current = _context.sent;\n                      if (retval) {\n                        portalNodeRef.current = portalMetadataRef.current.portalNode;\n                        setContainerStyles(portalNodeRef.current.element, _layout, _orientation, _cellWidth, _cellHeight);\n                      }\n                      isMountedRef.current && setFrameState(\'inserting\');\n                      _context.next = 30;\n                      break;\n                    case 28:\n                      // null or undefined; handle non-component value\n                      cacheAPI.unregisterPendingPortal(index); // create portal failed\n                      if (usercontent === null) {\n                        // truncate listsize at this index\n                        itemExceptionCallback && itemExceptionCallback(index, _itemID, returnvalue, \'cellFrame\', new Error(placeholderMessagesRef.current["null"]));\n                        nullItemSetMaxListsize(index);\n                      } else {\n                        // usercontent === undefined, meaning an error has occurred\n                        // change placeholder message to error message\n                        errorRef.current = error;\n                        // notify the host\n                        itemExceptionCallback && itemExceptionCallback(index, _itemID, returnvalue, \'cellFrame\', error);\n                        isMountedRef.current && setFrameState(\'error\');\n                      }\n                    case 30:\n                    case "end":\n                      return _context.stop();\n                  }\n                }, _callee, null, [[0, 8]]);\n              }));\n            }, {\n              timeout: IDLECALLBACK_TIMEOUT\n            });\n          }\n          break;\n        }\n      case \'inserting\':\n      case \'retrieved\':\n        {\n          setFrameState(\'ready\');\n          break;\n        }\n    }\n  }, [frameState]);\n  // Note: the contentholder type layer is included to provide an anchor for the triggerlines.\n  return react_1["default"].createElement("div", {\n    ref: frameRef,\n    "data-type": \'cellframe\',\n    "data-scrollerid": scrollerID,\n    "data-index": index,\n    "data-instanceid": instanceID,\n    style: stylesRef.current\n  }, frameState != \'setup\' ? react_1["default"].createElement("div", {\n    "data-type": \'contentholder\',\n    style: holderStylesRef.current\n  }, frameState != \'ready\' ? placeholderRef.current : react_1["default"].createElement(react_reverse_portal_1.OutPortal, {\n    key: \'portal\',\n    node: portalNodeRef.current\n  })) : react_1["default"].createElement("div", null), isTriggercell ? triggercellTriggerlinesRef.current : null);\n}; // CellFrame\nexports["default"] = CellFrame;\n// utilities\nvar getFrameStyles = function getFrameStyles(orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, styles) {\n  var styleset = Object.assign(Object.assign({}, styles), {\n    position: \'relative\',\n    overflow: \'visible\'\n  });\n  if (orientation === \'vertical\') {\n    styleset.width = null;\n    if (layout == \'uniform\') {\n      styleset.height = cellHeight + \'px\';\n      styleset.minHeight = null;\n      styleset.maxHeight = null;\n    } else {\n      // \'variable\'\n      styleset.height = null;\n      styleset.minHeight = cellMinHeight + \'px\';\n      styleset.maxHeight = cellHeight + \'px\';\n    }\n  } else {\n    // \'horizontal\'\n    styleset.height = null;\n    if (layout == \'uniform\') {\n      styleset.width = cellWidth + \'px\';\n      styleset.minWidth = null;\n      styleset.maxWidth = null;\n    } else {\n      // \'variable\'\n      styleset.width = null;\n      styleset.minWidth = cellMinWidth + \'px\';\n      styleset.maxWidth = cellWidth + \'px\';\n    }\n  }\n  return styleset;\n};\nvar getContentHolderStyles = function getContentHolderStyles(layout, orientation, cellMinWidth, cellMinHeight) {\n  var styles = {};\n  if (layout == \'uniform\') {\n    styles = {\n      inset: \'0px\',\n      position: \'absolute\',\n      height: null,\n      width: null,\n      minWidth: null,\n      minHeight: null\n    };\n  } else {\n    // variable\n    styles.inset = null;\n    styles.position = null;\n    if (orientation == \'vertical\') {\n      styles.width = \'100%\';\n      styles.height = null;\n      styles.minWidth = null;\n      styles.minHeight = cellMinHeight + \'px\';\n    } else {\n      styles.width = null;\n      styles.height = \'100%\';\n      styles.minWidth = cellMinWidth + \'px\';\n      styles.minHeight = null;\n    }\n  }\n  return styles;\n};\n// see also some base styles set in cacheAPI\nvar setContainerStyles = function setContainerStyles(container, layout, orientation, cellWidth, cellHeight) {\n  container.style.overflow = \'hidden\';\n  if (layout == \'uniform\') {\n    container.style.inset = \'0px\';\n    container.style.position = \'absolute\';\n    container.style.maxWidth = null;\n    container.style.maxHeight = null;\n    container.style.height = null;\n    container.style.width = null;\n  } else {\n    // variable\n    container.style.inset = null;\n    container.style.position = null;\n    if (orientation == \'vertical\') {\n      container.style.width = \'100%\';\n      container.style.height = null;\n      container.style.maxWidth = null;\n      container.style.maxHeight = cellHeight + \'px\';\n    } else {\n      container.style.width = null;\n      container.style.height = \'100%\';\n      container.style.maxWidth = cellWidth + \'px\';\n      container.style.maxHeight = null;\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3JjL0NlbGxGcmFtZS50c3g/ZjE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDZWxsRnJhbWUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSByb2xlIG9mIENlbGxGcmFtZSBpcyB0byBmZXRjaCB1c2VyIGNvbnRlbnQgZnJvbSB0aGUgY2FjaGUsIG9yIGZyb20gdGhlIGhvc3QgKHVzaW5nIGdldEl0ZW0pLlxuICAgIFdoaWxlIGFuIGl0ZW0gaXMgYmVpbmcgZmV0Y2hlZCwgQ2VsbEZyYW1lIHByZXNlbnRzIGEgcGxhY2Vob2xkZXIgKGVpdGhlciB0aGUgZGVmYXVsdCBvciBhbiBcbiAgICBpbXBvcnRlZCBjdXN0b20gdmVyc2lvbikuIElmIHRoZXJlIGlzIGFuIGVycm9yIGluIGZldGNoaW5nIGNvbnRlbnQgdGhlbiB0aGUgcGxhY2Vob2xkZXIgaXMgdXNlZFxuICAgIHRvIHByZXNlbnQgdGhlIGVycm9yIHRvIHRoZSB1c2VyLiBJZiBhIG5ldyBpdGVtSUQgaXMgc2V0IGJ5IHRoZSBwYXJlbnQgKHRvIHN5bmNocm9uaXplIHdpdGggYW4gYWx0ZXJlZFxuICAgIGNhY2hlKSwgdGhlbiBDZWxsRnJhbWUgcmVwbGFjZXMgdGhlIG9sZCBpdGVtIHdpdGggdGhlIG5ldyBpdGVtLlxuXG4gICAgZ2V0SXRlbSAod2hpY2ggaXMgYSBmdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgaG9zdCkgY2FuIHJldHVybiBvbmUgb2Ygc2V2ZXJhbCB2YWx1ZXM6XG4gICAgICAgIC0gYSBSZWFjdCBjb21wb25lbnRcbiAgICAgICAgLSBhIHByb21pc2Ugb2YgYSBjb21wb25lbnRcbiAgICAgICAgLSBudWxsXG4gICAgICAgIC0gdW5kZWZpbmVkXG4gICAgQW55dGhpbmcgZWxzZSBpcyB0cmVhdGVkIGFzIGFuIGVycm9yXG5cbiAgICBpZiBhIHByb21pc2UgaXMgcmV0dXJuZWQsIHRoZW4gdGhlIHByb21pc2UgcmV0dXJucyBhIFJlYWN0IGNvbXBvbmVudCwgbnVsbCBvciB1bmRlZmluZWQuXG5cbiAgICBJZiBhIHZhbGlkIHJlYWN0IGNvbXBvbmVudCBpcyByZXR1cm5lZCBmcm9tIGdldEl0ZW0sIHRoZW4gaXQgaXMgaW5zdGFudGlhdGVkIGluIHRoZSBjYWNoZSwgYW5kIHJlbmRlcmVkIGluIHRoZVxuICAgIENlbGxGcmFtZS4gSWYgbnVsbCBpcyByZXR1cm5lZCwgdGhlbiBDZWxsRnJhbWUgc2VuZHMgYSBtZXNzYWdlIHRvIGl0cyBzY3JvbGxlciB0aGF0IHRoZSBob3N0IGhhcyBcbiAgICBpbmRpY2F0ZWQgdGhlIHRoZSBpdGVtIGJlaW5nIGZldGNoZWQgaW5zdGVhZCByZXByZXNlbnRzIHRoZSBlbmQgb2YgdGhlIGxpc3QsIGFuZCB0aGUgbGlzdHNpemUgc2hvdWxkXG4gICAgYmUgYWRqdXN0ZWQgYWNjb3JkaW5nbHkuIEFueSBvdGhlciB2YWx1ZSB0aGF0IGlzIHJldHVybmVkIGlzIHRyZWF0ZWQgYXMgYW4gZXJyb3IsIGFuZCBwcmVzZW50ZWRcbiAgICBhcyBzdWNoIHRvIHRoZSB1c2VyIHRocm91Z2ggdGhlIHBsYWNlaG9sZGVyIGNvbXBvbmVudC5cblxuICAgIGdldEl0ZW0gc2VuZHMgdGhlIGluZGV4IChsb2dpY2FsIGluZGV4IGluIHRoZSBsaXN0KSBhbmQgYSBzZXNzaW9uIGl0ZW1JRCB0byB0aGUgaG9zdCwgc28gdGhhdFxuICAgIHRoZSBob3N0IGNhbiBzeW5jIGl0cyBvd24gdHJhY2tpbmcgd2l0aCB0aGUgc2Nyb2xsZXIuXG5cbiAgICBPbmUgQ2VsbEZyYW1lIGF0IGEgdGltZSBpcyBkZXNpZ25hdGVkIGFzIHRoZSBob3N0IG9mIHRoZSB0d28gdHJpZ2dlckxpbmVzIHdpdGggdGhlIGlzVHJpZ2dlckNlbGwgZmxhZy4gXG4gICAgVGhlIHRyaWdnZXJsaW5lcyB0cmlnZ2VyIGFuIHVwZGF0ZSBvZiB0aGUgQ3JhZGxlIHRocm91Z2ggYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHtcbiAgICB1c2VSZWYsIFxuICAgIHVzZUVmZmVjdCwgXG4gICAgdXNlTGF5b3V0RWZmZWN0LCBcbiAgICB1c2VTdGF0ZSwgXG4gICAgdXNlTWVtbywgXG4gICAgdXNlQ29udGV4dCBcbn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7cmVxdWVzdElkbGVDYWxsYmFjaywgY2FuY2VsSWRsZUNhbGxiYWNrfSBmcm9tICdyZXF1ZXN0aWRsZWNhbGxiYWNrJyAvLyBwb2x5ZmlsbCBpZiBuZWVkZWRcblxuaW1wb3J0IHsgT3V0UG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnIC8vIGZldGNoIGZyb20gY2FjaGVcblxuaW1wb3J0IFBsYWNlaG9sZGVyIGZyb20gJy4vY2VsbGZyYW1lL1BsYWNlaG9sZGVyJyAvLyBkZWZhdWx0XG5cbmltcG9ydCB7IENyYWRsZUNvbnRleHQgfSBmcm9tICcuL0NyYWRsZSdcblxuY29uc3QgZGVmYXVsdFBsYWNlaG9sZGVyTWVzc2FnZXMgPSB7XG4gICAgbG9hZGluZzonKGxvYWRpbmcuLi4pJyxcbiAgICByZXRyaWV2aW5nOicocmV0cmlldmluZyBmcm9tIGNhY2hlKScsXG4gICAgbnVsbDonZW5kIG9mIGxpc3QnLFxuICAgIHVuZGVmaW5lZDonaG9zdCByZXR1cm5lZCBcInVuZGVmaW5lZFwiJyxcbiAgICBpbnZhbGlkOidpbnZhbGlkIFJlYWN0IGVsZW1lbnQnLFxufVxuXG5jb25zdCBDZWxsRnJhbWUgPSAoe1xuICAgIG9yaWVudGF0aW9uLCBcbiAgICBjZWxsSGVpZ2h0LCBcbiAgICBjZWxsV2lkdGgsIFxuICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgY2VsbE1pbldpZHRoLFxuICAgIGxheW91dCxcbiAgICBnZXRJdGVtLCAvLyBmdW5jdGlvbiBwcm92aWRlZCBieSBob3N0XG4gICAgbGlzdHNpemUsIC8vIGZvciBmZWVkYmFjayBpbiBwbGFjZWhvbGRlclxuICAgIHBsYWNlaG9sZGVyLCAvLyBvcHRpb25hbGx5IHByb3ZpZGVkIGJ5IGhvc3RcbiAgICBpdGVtSUQsIC8vIHNlc3Npb24gaXRlbUlEXG4gICAgaW5kZXgsIC8vIGxvZ2ljYWwgaW5kZXggaW4gaW5maW5pdGUgbGlzdFxuICAgIGluc3RhbmNlSUQsIC8vIENlbGxGcmFtZSBzZXNzaW9uIElEXG4gICAgc2Nyb2xsZXJJRCwgLy8gc2Nyb2xsZXIgSUQgKGZvciBkZWJ1Z2dpbmcpXG4gICAgaXNUcmlnZ2VyY2VsbCxcbiAgICBwbGFjZWhvbGRlckZyYW1lU3R5bGVzLFxuICAgIHBsYWNlaG9sZGVyTGluZXJTdHlsZXMsXG4gICAgcGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzLFxuICAgIHBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyxcbiAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuICAgIHVzZVBsYWNlaG9sZGVyLFxuICAgIGdyaWRzdGFydHN0eWxlLFxufSkgPT4ge1xuXG4gICAgY29uc3QgY29yZUNvbmZpZ1JlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvcmVDb25maWdSZWYuY3VycmVudCA9IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBjZWxsSGVpZ2h0XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgc2V0dXAgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGNyYWRsZUNvbnRleHQgPSB1c2VDb250ZXh0KENyYWRsZUNvbnRleHQpXG5cbiAgICBjb25zdCB7IFxuICAgICAgICBjYWNoZUFQSSwgXG4gICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZiwgLy8gZm9yIHRoZSB1c2VyIGNvbnRlbnQsIGlmIHJlcXVlc3RlZFxuICAgICAgICBudWxsSXRlbVNldE1heExpc3RzaXplLCAvLyBmb3IgaW50ZXJuYWwgbm90aWZpY2F0aW9uIG9mIGVuZC1vZi1saXN0XG4gICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjaywgLy8gZm9yIG5vdGlmaWNhdGlvbiB0byBob3N0IG9mIGVycm9yXG4gICAgICAgIElETEVDQUxMQkFDS19USU1FT1VULCAvLyB0byBvcHRpbWl6ZSByZXF1ZXN0SWRsZUNhbGxiYWNrXG4gICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVzUmVmLFxuICAgIH0gPSBjcmFkbGVDb250ZXh0XG4gICAgXG4gICAgLy8gc3R5bGUgY2hhbmdlIGdlbmVyYXRlcyBzdGF0ZSByZWZyZXNoXG4gICAgY29uc3Qgc3R5bGVzUmVmID0gdXNlUmVmKHt9KVxuICAgIGNvbnN0IGhvbGRlclN0eWxlc1JlZiA9IHVzZVJlZih7fSlcblxuICAgIGNvbnN0IHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYgPSB1c2VSZWYobnVsbClcblxuICAgcGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSB7Li4uZGVmYXVsdFBsYWNlaG9sZGVyTWVzc2FnZXMsLi4ucGxhY2Vob2xkZXJNZXNzYWdlc31cblxuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXNcblxuICAgIH0sW3BsYWNlaG9sZGVyTWVzc2FnZXNdKVxuXG4gICAgLy8gcHJvY2Vzc2luZyBzdGF0ZVxuICAgIGNvbnN0IFtmcmFtZVN0YXRlLCBzZXRGcmFtZVN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG4gICAgY29uc3QgZnJhbWVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKVxuICAgIGZyYW1lU3RhdGVSZWYuY3VycmVudCA9IGZyYW1lU3RhdGVcblxuICAgIC8vIERPTSByZWZcbiAgICBjb25zdCBmcmFtZVJlZiA9IHVzZVJlZihudWxsKVxuICAgIC8vIHRvIHRyYWNrIHVubW91bnQgaW50ZXJydXB0XG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG4gICAgLy8gY2FjaGUgZGF0YVxuICAgIGNvbnN0IHBvcnRhbE1ldGFkYXRhUmVmID0gdXNlUmVmKG51bGwpXG4gICAgLy8gdGhlIHBsYWNlaG9sZGVyIHRvIHVzZVxuICAgIGNvbnN0IHBsYWNlaG9sZGVyUmVmID0gdXNlUmVmKG51bGwpXG4gICAgLy8gdGhlIHNlc3Npb24gaXRlbUlEIHRvIHVzZTsgY291bGQgYmUgdXBkYXRlZCBieSBwYXJlbnRcbiAgICBjb25zdCBpdGVtSURSZWYgPSB1c2VSZWYobnVsbClcbiAgICBpdGVtSURSZWYuY3VycmVudCA9IGl0ZW1JRFxuICAgIGNvbnN0IGNlbGxGcmFtZVByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjZWxsRnJhbWVQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIGl0ZW1JRCxcbiAgICAgICAgaW5kZXhcbiAgICB9XG4gICAgLy8gZmV0Y2ggZXJyb3JcbiAgICBjb25zdCBlcnJvclJlZiA9IHVzZVJlZihmYWxzZSlcbiAgICAvLyBwbGFjZWhvbGRlciBtZXNzYWdlXG4gICAgY29uc3QgbWVzc2FnZVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyBmb3IgdW5tb3VudFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGNhbmNlbGlkbGVjYWxsYmFjayhyZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYuY3VycmVudClcblxuICAgICAgICAgICAgY2FjaGVBUEkudW5yZWdpc3RlclBlbmRpbmdQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIC8vIHJlZnJlc2ggY29udGVudCBpZiBpdGVtSUQgY2hhbmdlc1xuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChmcmFtZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSBzZXRGcmFtZVN0YXRlKCdnZXR1c2VyY29udGVudCcpXG5cbiAgICB9LFtpdGVtSURdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0gWyBwbGFjZWhvbGRlciBkZWZpbml0aW9uIF0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgY3VzdG9tcGxhY2Vob2xkZXIgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBpZiAoIXVzZVBsYWNlaG9sZGVyKSByZXR1cm4gbnVsbCAgICAgICAgXG5cbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChwbGFjZWhvbGRlciwgXG4gICAgICAgICAgICAgICAge2luZGV4LCBsaXN0c2l6ZSwgbWVzc2FnZTptZXNzYWdlUmVmLmN1cnJlbnQsIGVycm9yOmVycm9yUmVmLmN1cnJlbnR9KTpcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgIFxuICAgIH0sW1xuICAgICAgICBpbmRleCwgXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgIG1lc3NhZ2VSZWYuY3VycmVudCwgXG4gICAgICAgIGVycm9yUmVmLmN1cnJlbnQsIFxuICAgICAgICB1c2VQbGFjZWhvbGRlclxuICAgIF0pXG5cbiAgICBwbGFjZWhvbGRlclJlZi5jdXJyZW50ID0gdXNlTWVtbygoKT0+e1xuXG4gICAgICAgIGlmICghdXNlUGxhY2Vob2xkZXIpIHJldHVybiBudWxsXG5cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBcbiAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyOlxuICAgICAgICAgICAgICAgIDxQbGFjZWhvbGRlciBcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3BsYWNlaG9sZGVyJ1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHsgaW5kZXggfSBcbiAgICAgICAgICAgICAgICAgICAgbGlzdHNpemUgPSB7IGxpc3RzaXplIH0gXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB7IG1lc3NhZ2VSZWYuY3VycmVudCB9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0geyBlcnJvclJlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgdXNlckZyYW1lU3R5bGVzID0geyBwbGFjZWhvbGRlckZyYW1lU3R5bGVzIH1cbiAgICAgICAgICAgICAgICAgICAgdXNlckxpbmVyU3R5bGVzID0geyBwbGFjZWhvbGRlckxpbmVyU3R5bGVzIH1cbiAgICAgICAgICAgICAgICAgICAgdXNlckVycm9yRnJhbWVTdHlsZXMgPSB7IHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJFcnJvckxpbmVyU3R5bGVzID0geyBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMgfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyXG5cbiAgICB9LCBbXG4gICAgICAgIGluZGV4LCBcbiAgICAgICAgY3VzdG9tcGxhY2Vob2xkZXIsIFxuICAgICAgICBsaXN0c2l6ZSwgXG4gICAgICAgIG1lc3NhZ2VSZWYuY3VycmVudCwgXG4gICAgICAgIGVycm9yUmVmLmN1cnJlbnQsXG4gICAgICAgIHVzZVBsYWNlaG9sZGVyLFxuICAgICAgICBwbGFjZWhvbGRlckZyYW1lU3R5bGVzLFxuICAgICAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzLFxuICAgICAgICBwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXMsXG4gICAgICAgIHBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyxcbiAgICBdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBbIHJlcXVlc3RpZGxlY2FsbGJhY2sgY29uZmlnIF0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCByZXF1ZXN0aWRsZWNhbGxiYWNrID0gLy8gcmVxdWVzdElkbGVDYWxsYmFja1xuICAgICAgICB3aW5kb3dbJ3JlcXVlc3RJZGxlQ2FsbGJhY2snXT9cbiAgICAgICAgICAgIHdpbmRvd1sncmVxdWVzdElkbGVDYWxsYmFjayddOlxuICAgICAgICAgICAgcmVxdWVzdElkbGVDYWxsYmFja1xuXG4gICAgY29uc3QgY2FuY2VsaWRsZWNhbGxiYWNrID0gLy8gY2FuY2VsSWRsZUNhbGxiYWNrXG4gICAgICAgIHdpbmRvd1snY2FuY2VsSWRsZUNhbGxiYWNrJ10/XG4gICAgICAgICAgICB3aW5kb3dbJ2NhbmNlbElkbGVDYWxsYmFjayddOlxuICAgICAgICAgICAgY2FuY2VsSWRsZUNhbGxiYWNrXG5cbiAgICBjb25zdCByZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBwcm9jZXNzaW5nIF0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gc2V0IHN0eWxlc1xuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGxldCBuZXdGcmFtZVN0eWxlcyA9IGdldEZyYW1lU3R5bGVzKFxuICAgICAgICAgICAgb3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgY2VsbE1pbkhlaWdodCwgY2VsbE1pbldpZHRoLCBsYXlvdXQsIHN0eWxlc1JlZi5jdXJyZW50KVxuXG4gICAgICAgIGlmIChncmlkc3RhcnRzdHlsZSkge1xuICAgICAgICAgICAgbmV3RnJhbWVTdHlsZXMgPSB7Li4ubmV3RnJhbWVTdHlsZXMsLi4uZ3JpZHN0YXJ0c3R5bGV9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld0hvbGRlclN0eWxlcyA9IGdldENvbnRlbnRIb2xkZXJTdHlsZXMobGF5b3V0LCBvcmllbnRhdGlvbiwgY2VsbE1pbldpZHRoLCBjZWxsTWluSGVpZ2h0KVxuXG4gICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBzdHlsZXNSZWYuY3VycmVudCA9IG5ld0ZyYW1lU3R5bGVzXG4gICAgICAgICAgICBob2xkZXJTdHlsZXNSZWYuY3VycmVudCA9IG5ld0hvbGRlclN0eWxlc1xuXG4gICAgICAgIH1cblxuICAgIH0sW29yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIGNlbGxNaW5IZWlnaHQsIGNlbGxNaW5XaWR0aCwgbGF5b3V0LCBncmlkc3RhcnRzdHlsZV0pIFxuXG4gICAgY29uc3QgcG9ydGFsTm9kZVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcblxuICAgICAgICBzd2l0Y2ggKGZyYW1lU3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7XG5cbiAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXRlKCd3b3JraW5nJykgLy8gJ2dldHVzZXJjb250ZW50JyB3aWxsIGJlIGNhbGxlZFxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd3b3JraW5nJzoge1xuXG4gICAgICAgICAgICAgICAgc2V0RnJhbWVTdGF0ZSgnZ2V0dXNlcmNvbnRlbnQnKSAvLyBkZWxheSBwYWludCB3aGlsZSB3b3JraW5nXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdnZXR1c2VyY29udGVudCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1JRCA9IGl0ZW1JRFJlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGVBUEkuaGFzUG9ydGFsKGl0ZW1JRClcbiAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICB9ID0gY29yZUNvbmZpZ1JlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVJlZi5jdXJyZW50ID0gcGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50LnJldHJpZXZpbmdcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGNhY2hlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE1ldGFkYXRhUmVmLmN1cnJlbnQgPSBjYWNoZUFQSS5nZXRQb3J0YWxNZXRhZGF0YShpdGVtSUQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY2VsbCBhbmQgc2Nyb2xsZXIgcHJvcGVydGllcyByZWYgaW4gY2FzZSBvZiBzd2l0Y2ggaW4gZWl0aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxNZXRhZGF0YVJlZi5jdXJyZW50LnNjcm9sbGVyUHJvcGVydGllcy5jZWxsRnJhbWVQcm9wZXJ0aWVzUmVmID0gY2VsbEZyYW1lUHJvcGVydGllc1JlZlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGFsTWV0YWRhdGFSZWYuY3VycmVudC5zY3JvbGxlclByb3BlcnRpZXMuc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmID0gc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgT3V0UG9ydGFsIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE5vZGVSZWYuY3VycmVudCA9IHBvcnRhbE1ldGFkYXRhUmVmLmN1cnJlbnQucG9ydGFsTm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGFpbmVyU3R5bGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE5vZGVSZWYuY3VycmVudC5lbGVtZW50LCBsYXlvdXQsIG9yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdGUoJ3JldHJpZXZlZCcpXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlUmVmLmN1cnJlbnQgPSBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQubG9hZGluZ1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2VydmUgc3BhY2UgaW4gdGhlIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlZ2lzdGVyUGVuZGluZ1BvcnRhbChpbmRleClcblxuICAgICAgICAgICAgICAgICAgICAvLyBlbnF1ZXVlIHRoZSBmZXRjaFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYuY3VycmVudCA9IHJlcXVlc3RpZGxlY2FsbGJhY2soYXN5bmMgKCk9PntcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldHVybnZhbHVlLCB1c2VyY29udGVudCwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIGZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmNvbnRlbnQgPSBhd2FpdCBnZXRJdGVtKGluZGV4LCBpdGVtSUQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQgPT09IG51bGwpIHJldHVybnZhbHVlID0gdXNlcmNvbnRlbnRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IocGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50LnVuZGVmaW5lZClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm52YWx1ZSA9IHVzZXJjb250ZW50ID0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIHJldHVybiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh1c2VyY29udGVudCAhPT0gbnVsbCkgJiYgKHVzZXJjb250ZW50ICE9PSB1bmRlZmluZWQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkRWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KHVzZXJjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm52YWx1ZSA9IHVzZXJjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJjb250ZW50ID0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudC5pbnZhbGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJlcGFyZSB0aGUgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodXNlcmNvbnRlbnQgIT09IG51bGwpICYmICh1c2VyY29udGVudCAhPT0gdW5kZWZpbmVkKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHVzZXJjb250ZW50IGlzIG90aGVyd2lzZSBkaXNhbGxvd2VkLCBsZXQgZXJyb3IgaGFuZGxpbmcgZGVhbCB3aXRoIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsZXJQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEZyYW1lUHJvcGVydGllc1JlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWRkaW5Db3VudCA9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkaW5Qcm9wczp7c2Nyb2xsZXJQcm9wZXJ0aWVzPzpPYmplY3QsIGNhY2hlQVBJPzpGdW5jdGlvbn0gPSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQucHJvcHM/Lmhhc093blByb3BlcnR5KCdzY3JvbGxlclByb3BlcnRpZXMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaW5Qcm9wcy5zY3JvbGxlclByb3BlcnRpZXMgPSBzY3JvbGxlclByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGluQ291bnQrK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudC5wcm9wcz8uaGFzT3duUHJvcGVydHkoJ2NhY2hlQVBJJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGluUHJvcHMuY2FjaGVBUEkgPSBjYWNoZUFQSS5pbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaW5Db3VudCsrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGluQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQodXNlcmNvbnRlbnQsIGFkZGluUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gdXNlcmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHZhbCA9IHBvcnRhbE1ldGFkYXRhUmVmLmN1cnJlbnQgPSBhd2FpdCBjYWNoZUFQSS5jcmVhdGVQb3J0YWwoY29udGVudCwgaW5kZXgsIGl0ZW1JRCwgc2Nyb2xsZXJQcm9wZXJ0aWVzKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgPSBwb3J0YWxNZXRhZGF0YVJlZi5jdXJyZW50LnBvcnRhbE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRhaW5lclN0eWxlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQuZWxlbWVudCwgbGF5b3V0LCBvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCAmJiBzZXRGcmFtZVN0YXRlKCdpbnNlcnRpbmcnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gbnVsbCBvciB1bmRlZmluZWQ7IGhhbmRsZSBub24tY29tcG9uZW50IHZhbHVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVBUEkudW5yZWdpc3RlclBlbmRpbmdQb3J0YWwoaW5kZXgpIC8vIGNyZWF0ZSBwb3J0YWwgZmFpbGVkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJjb250ZW50ID09PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydW5jYXRlIGxpc3RzaXplIGF0IHRoaXMgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LCBpdGVtSUQsIHJldHVybnZhbHVlLCAnY2VsbEZyYW1lJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IocGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50Lm51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZShpbmRleClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB1c2VyY29udGVudCA9PT0gdW5kZWZpbmVkLCBtZWFuaW5nIGFuIGVycm9yIGhhcyBvY2N1cnJlZFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgcGxhY2Vob2xkZXIgbWVzc2FnZSB0byBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvclJlZi5jdXJyZW50ID0gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSB0aGUgaG9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGl0ZW1JRCwgcmV0dXJudmFsdWUsICdjZWxsRnJhbWUnLCBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgc2V0RnJhbWVTdGF0ZSgnZXJyb3InKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LHt0aW1lb3V0OklETEVDQUxMQkFDS19USU1FT1VUfSlcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2luc2VydGluZyc6XG4gICAgICAgICAgICBjYXNlICdyZXRyaWV2ZWQnOiB7XG5cbiAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSwgW2ZyYW1lU3RhdGVdKVxuXG4gICAgLy8gTm90ZTogdGhlIGNvbnRlbnRob2xkZXIgdHlwZSBsYXllciBpcyBpbmNsdWRlZCB0byBwcm92aWRlIGFuIGFuY2hvciBmb3IgdGhlIHRyaWdnZXJsaW5lcy5cbiAgICByZXR1cm4gPGRpdiBcblxuICAgICAgICByZWYgPSB7IGZyYW1lUmVmIH0gXG4gICAgICAgIGRhdGEtdHlwZSA9ICdjZWxsZnJhbWUnIFxuICAgICAgICBkYXRhLXNjcm9sbGVyaWQgPSB7IHNjcm9sbGVySUQgfSBcbiAgICAgICAgZGF0YS1pbmRleCA9IHsgaW5kZXggfSBcbiAgICAgICAgZGF0YS1pbnN0YW5jZWlkID0geyBpbnN0YW5jZUlEIH0gXG4gICAgICAgIHN0eWxlID0geyBzdHlsZXNSZWYuY3VycmVudCB9XG5cbiAgICA+XG5cbiAgICAgICAgeyhmcmFtZVN0YXRlICE9ICdzZXR1cCcpP1xuICAgICAgICAgICAgKDxkaXYgZGF0YS10eXBlID0gJ2NvbnRlbnRob2xkZXInIHN0eWxlID0ge2hvbGRlclN0eWxlc1JlZi5jdXJyZW50fT4gXG4gICAgICAgICAgICAgICAgeygoZnJhbWVTdGF0ZSAhPSAncmVhZHknKT9cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlclJlZi5jdXJyZW50OlxuICAgICAgICAgICAgICAgIDxPdXRQb3J0YWwga2V5ID0gJ3BvcnRhbCcgbm9kZSA9IHsgcG9ydGFsTm9kZVJlZi5jdXJyZW50IH0vPil9XG4gICAgICAgICAgICA8L2Rpdj4pOjxkaXY+PC9kaXY+fVxuICAgICAgICB7KGlzVHJpZ2dlcmNlbGw/XG4gICAgICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZi5jdXJyZW50OlxuICAgICAgICAgICAgbnVsbClcbiAgICAgICAgfVxuXG4gICAgPC9kaXY+XG5cbn0gLy8gQ2VsbEZyYW1lXG5leHBvcnQgZGVmYXVsdCBDZWxsRnJhbWVcblxuLy8gdXRpbGl0aWVzXG5jb25zdCBnZXRGcmFtZVN0eWxlcyA9IFxuICAgIChvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBjZWxsTWluSGVpZ2h0LCBjZWxsTWluV2lkdGgsIGxheW91dCwgc3R5bGVzKSA9PiB7XG5cbiAgICBjb25zdCBzdHlsZXNldCA9IHsuLi5zdHlsZXMscG9zaXRpb246J3JlbGF0aXZlJywgb3ZlcmZsb3c6J3Zpc2libGUnfVxuXG4gICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgc3R5bGVzZXQud2lkdGggPSBudWxsXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG5cbiAgICAgICAgICAgIHN0eWxlc2V0LmhlaWdodCA9IGNlbGxIZWlnaHQgKyAncHgnXG4gICAgICAgICAgICBzdHlsZXNldC5taW5IZWlnaHQgPSBudWxsXG4gICAgICAgICAgICBzdHlsZXNldC5tYXhIZWlnaHQgPSBudWxsXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gJ3ZhcmlhYmxlJ1xuXG4gICAgICAgICAgICBzdHlsZXNldC5oZWlnaHQgPSBudWxsXG4gICAgICAgICAgICBzdHlsZXNldC5taW5IZWlnaHQgPSBjZWxsTWluSGVpZ2h0ICsgJ3B4J1xuICAgICAgICAgICAgc3R5bGVzZXQubWF4SGVpZ2h0ID0gY2VsbEhlaWdodCArICdweCdcblxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0gZWxzZSB7IC8vICdob3Jpem9udGFsJ1xuXG4gICAgICAgIHN0eWxlc2V0LmhlaWdodCA9IG51bGxcbiAgICAgICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcblxuICAgICAgICAgICAgc3R5bGVzZXQud2lkdGggPSBjZWxsV2lkdGggKyAncHgnXG4gICAgICAgICAgICBzdHlsZXNldC5taW5XaWR0aCA9IG51bGxcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1heFdpZHRoID0gbnVsbFxuXG4gICAgICAgIH0gZWxzZSB7IC8vICd2YXJpYWJsZSdcblxuICAgICAgICAgICAgc3R5bGVzZXQud2lkdGggPSBudWxsXG4gICAgICAgICAgICBzdHlsZXNldC5taW5XaWR0aCA9IGNlbGxNaW5XaWR0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1heFdpZHRoID0gY2VsbFdpZHRoICsgJ3B4J1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXNldFxuXG59XG5cbmNvbnN0IGdldENvbnRlbnRIb2xkZXJTdHlsZXMgPSAobGF5b3V0LG9yaWVudGF0aW9uLGNlbGxNaW5XaWR0aCwgY2VsbE1pbkhlaWdodCApID0+IHtcbiAgICBsZXQgc3R5bGVzOlJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7fVxuICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG4gICAgICAgIHN0eWxlcyA9IHtcbiAgICAgICAgICAgIGluc2V0OicwcHgnLFxuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIGhlaWdodDpudWxsLFxuICAgICAgICAgICAgd2lkdGg6bnVsbCxcbiAgICAgICAgICAgIG1pbldpZHRoOm51bGwsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6bnVsbCxcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIHZhcmlhYmxlXG4gICAgICAgIHN0eWxlcy5pbnNldCA9IG51bGxcbiAgICAgICAgc3R5bGVzLnBvc2l0aW9uID0gbnVsbFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgc3R5bGVzLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBzdHlsZXMuaGVpZ2h0ID0gbnVsbFxuICAgICAgICAgICAgc3R5bGVzLm1pbldpZHRoID0gbnVsbFxuICAgICAgICAgICAgc3R5bGVzLm1pbkhlaWdodCA9IGNlbGxNaW5IZWlnaHQgKyAncHgnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZXMud2lkdGggPSBudWxsXG4gICAgICAgICAgICBzdHlsZXMuaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSBjZWxsTWluV2lkdGggKyAncHgnXG4gICAgICAgICAgICBzdHlsZXMubWluSGVpZ2h0ID0gbnVsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXNcbn1cblxuLy8gc2VlIGFsc28gc29tZSBiYXNlIHN0eWxlcyBzZXQgaW4gY2FjaGVBUElcbmNvbnN0IHNldENvbnRhaW5lclN0eWxlcyA9IChjb250YWluZXIsIGxheW91dCwgb3JpZW50YXRpb24sIGNlbGxXaWR0aCwgY2VsbEhlaWdodCkgPT4ge1xuXG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcblxuICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmluc2V0ID0gJzBweCcgXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm1heFdpZHRoID0gbnVsbFxuICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbnVsbFxuICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbFxuICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBudWxsXG5cbiAgICB9IGVsc2UgeyAvLyB2YXJpYWJsZVxuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5pbnNldCA9IG51bGwgXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IG51bGxcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBudWxsXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBudWxsXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gY2VsbEhlaWdodCArICdweCdcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBudWxsXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBjZWxsV2lkdGggKyAncHgnXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gbnVsbFxuXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsImV4cG9ydHMiLCJPcCIsIk9iamVjdCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJkZXNjIiwidmFsdWUiLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJlcnIiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJzZWxmIiwidHJ5TG9jc0xpc3QiLCJwcm90b0dlbmVyYXRvciIsIkdlbmVyYXRvciIsImdlbmVyYXRvciIsImNyZWF0ZSIsImNvbnRleHQiLCJDb250ZXh0IiwibWFrZUludm9rZU1ldGhvZCIsInRyeUNhdGNoIiwiZm4iLCJhcmciLCJ0eXBlIiwiY2FsbCIsIkNvbnRpbnVlU2VudGluZWwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJtZXRob2QiLCJfaW52b2tlIiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlY29yZCIsInJlc3VsdCIsIl9fYXdhaXQiLCJ0aGVuIiwidW53cmFwcGVkIiwiZXJyb3IiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInN0YXRlIiwiRXJyb3IiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsImRvbmUiLCJtZXRob2ROYW1lIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiaSIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwia2V5cyIsInZhbCIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJfY2F0Y2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsInRvU3RyaW5nIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImFycjIiLCJfaSIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJyZXF1ZXN0aWRsZWNhbGxiYWNrXzEiLCJyZWFjdF9yZXZlcnNlX3BvcnRhbF8xIiwiUGxhY2Vob2xkZXJfMSIsIl9faW1wb3J0RGVmYXVsdCIsIkNyYWRsZV8xIiwiZGVmYXVsdFBsYWNlaG9sZGVyTWVzc2FnZXMiLCJsb2FkaW5nIiwicmV0cmlldmluZyIsImludmFsaWQiLCJDZWxsRnJhbWUiLCJfcmVmIiwib3JpZW50YXRpb24iLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwiY2VsbE1pbkhlaWdodCIsImNlbGxNaW5XaWR0aCIsImxheW91dCIsImdldEl0ZW0iLCJsaXN0c2l6ZSIsInBsYWNlaG9sZGVyIiwiaXRlbUlEIiwiaW5kZXgiLCJpbnN0YW5jZUlEIiwic2Nyb2xsZXJJRCIsImlzVHJpZ2dlcmNlbGwiLCJwbGFjZWhvbGRlckZyYW1lU3R5bGVzIiwicGxhY2Vob2xkZXJMaW5lclN0eWxlcyIsInBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyIsInBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyIsInBsYWNlaG9sZGVyTWVzc2FnZXMiLCJ1c2VQbGFjZWhvbGRlciIsImdyaWRzdGFydHN0eWxlIiwiY29yZUNvbmZpZ1JlZiIsInVzZVJlZiIsImN1cnJlbnQiLCJjcmFkbGVDb250ZXh0IiwidXNlQ29udGV4dCIsIkNyYWRsZUNvbnRleHQiLCJjYWNoZUFQSSIsInNjcm9sbGVyUHJvcGVydGllc1JlZiIsIm51bGxJdGVtU2V0TWF4TGlzdHNpemUiLCJpdGVtRXhjZXB0aW9uQ2FsbGJhY2siLCJJRExFQ0FMTEJBQ0tfVElNRU9VVCIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVzUmVmIiwic3R5bGVzUmVmIiwiaG9sZGVyU3R5bGVzUmVmIiwicGxhY2Vob2xkZXJNZXNzYWdlc1JlZiIsInVzZU1lbW8iLCJuZXdNZXNzYWdlcyIsImFzc2lnbiIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsImZyYW1lU3RhdGUiLCJzZXRGcmFtZVN0YXRlIiwiZnJhbWVTdGF0ZVJlZiIsImZyYW1lUmVmIiwiaXNNb3VudGVkUmVmIiwicG9ydGFsTWV0YWRhdGFSZWYiLCJwbGFjZWhvbGRlclJlZiIsIml0ZW1JRFJlZiIsImNlbGxGcmFtZVByb3BlcnRpZXNSZWYiLCJlcnJvclJlZiIsIm1lc3NhZ2VSZWYiLCJ1c2VFZmZlY3QiLCJjYW5jZWxpZGxlY2FsbGJhY2siLCJyZXF1ZXN0SWRsZUNhbGxiYWNrSWRSZWYiLCJ1bnJlZ2lzdGVyUGVuZGluZ1BvcnRhbCIsInVzZUxheW91dEVmZmVjdCIsImN1c3RvbXBsYWNlaG9sZGVyIiwiY3JlYXRlRWxlbWVudCIsIm1lc3NhZ2UiLCJ1c2VyRnJhbWVTdHlsZXMiLCJ1c2VyTGluZXJTdHlsZXMiLCJ1c2VyRXJyb3JGcmFtZVN0eWxlcyIsInVzZXJFcnJvckxpbmVyU3R5bGVzIiwicmVxdWVzdGlkbGVjYWxsYmFjayIsIndpbmRvdyIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJuZXdGcmFtZVN0eWxlcyIsImdldEZyYW1lU3R5bGVzIiwibmV3SG9sZGVyU3R5bGVzIiwiZ2V0Q29udGVudEhvbGRlclN0eWxlcyIsInBvcnRhbE5vZGVSZWYiLCJjYWNoZWQiLCJoYXNQb3J0YWwiLCJfY29yZUNvbmZpZ1JlZiRjdXJyZW4iLCJnZXRQb3J0YWxNZXRhZGF0YSIsInNjcm9sbGVyUHJvcGVydGllcyIsInBvcnRhbE5vZGUiLCJzZXRDb250YWluZXJTdHlsZXMiLCJlbGVtZW50IiwicmVnaXN0ZXJQZW5kaW5nUG9ydGFsIiwiX19hd2FpdGVyIiwiX2NhbGxlZSIsIl9hIiwiX2IiLCJyZXR1cm52YWx1ZSIsInVzZXJjb250ZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJjb250ZW50IiwiYWRkaW5Db3VudCIsImFkZGluUHJvcHMiLCJyZXR2YWwiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwidDAiLCJwcm9wcyIsImluc3RhbmNlIiwiY2xvbmVFbGVtZW50IiwiY3JlYXRlUG9ydGFsIiwidGltZW91dCIsInJlZiIsInN0eWxlIiwiT3V0UG9ydGFsIiwibm9kZSIsInN0eWxlcyIsInN0eWxlc2V0IiwicG9zaXRpb24iLCJvdmVyZmxvdyIsIndpZHRoIiwiaGVpZ2h0IiwibWluSGVpZ2h0IiwibWF4SGVpZ2h0IiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImluc2V0IiwiY29udGFpbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/CellFrame.tsx\n')},"./src/Cradle.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\n// Cradle.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleContext = void 0;\n/*\n    The Cradle does the bulk of the work for the infinite grid scroller. It does so with the help of\n    eight process handlers (class instances), and one main sub-component - the CellFrame.\n\n    Cradle's main responsibility is to manage the ~35 state changes of the system.\n\n    The illusion of infinite content is maintained by synchronizing changes in cradle content with the\n    Cradle location inside the Scrollblock, such that as the Scrollblock is moved, the cradle moves\n    oppositely to stay visible within the Viewport.\n\n    The Scrollblock is sized to approximate the list being viewed, so as to have a scroll thumb size\n    and position which realistically reflects the size of the list being shown.\n\n    The position of the cradle is controlled by an 'axis' which is a 0px height/width div\n    (along the medial - ScrollBlock can be vertical or horizontal). The purpose of the axis is to\n    act as a 'fold', above which cradle content expands 'headwards' (up or left) in the Cradle, and\n    below which the cradle content expands 'tailwards' (down or right). The Cradle content is held in\n    two CSS grids (children of the axis): one above or left (the 'head' grid), and one below or right,\n    of the position of the axis (the 'tail' grid).\n\n    The axis is kept near the leading (headward) edge of the visible cell rows of the Viewport\n\n    Technically, there are several key reference points tracked by the Cradle. These are:\n        - targetAxisReferencePosition is the virtual 0-based position of the item controlling the location\n          of the axis.\n        - The axisReferenceIndex is inferred from the targetAxisReferencePosition, by adding the virtual index\n            range low index to the targetAxisReferencePosition.\n            The axisReferenceIndex is also used to allocate items above (lower index value) and below\n            (same or higher index value) the axis fold. The axisReferenceIndex is the first item in the\n            tail section of the Cradle.\n        - (cradleReferenceIndex is inferred from the axisReferenceIndex, and is the virtual index of\n            the item defining the leading bound of the cradle content. The cradleReferenceIndex is usually\n            the first item in the head section of the Cradle, unless the cradle shows the very top of the\n            list, in which case the cradleReferenceIndex is the same as the AxisReferenceIndex)\n        - axisViewportPixelOffset (pixels that place the axis in relation to the viewport's leading edge)\n        - the blockScrollPos, which is the amount of scroll (Viewport scrollTop or scrollLeft) of the\n            ScrollBlock\n    \n    Overscroll handling (repositioning):\n        Owing to the potential rapidity of scrolling, which in the case of large lists and heavy content\n        can be too fast for the system to keep up, there is an overscroll protocol called 'repositioning'.\n\n        If the overscroll is such that the cradle (including its two content grids) has entirely passed\n        out of the viewport, then the Cradle component is replaced by a ScrollTracker (or by null if\n        the host takes responsibility for feedback). The ScrollTracker displays to the user the relative\n        location in the virtual list at the edge of the viewport during repositioning. When the scrolling\n        stops Cradle recreates the cradle content, according to the final position of the repositioning\n        process.\n\n    Cradle changes are activated by interrupts:\n    - scrolling\n    - resizing of the viewport\n    - IntersectionObserver callbacks:\n        - cradle/viewport intersection for repositioning when the cradle races out of scope\n        - two 'triggerline'/viewport intersections which trigger rolling of content\n            - rolling content triggers re-allocation of content between cradle head and tail grids\n    - pivot - change of orientation\n    - host changes of configuration specs through property changes or direct service calls\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ \"./src/Viewport.tsx\");\n// support code; process handlers\nvar scrollhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollhandler */ \"./src/cradle/scrollhandler.tsx\"));\nvar statehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/statehandler */ \"./src/cradle/statehandler.tsx\"));\nvar contenthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/contenthandler */ \"./src/cradle/contenthandler.tsx\"));\nvar layouthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/layouthandler */ \"./src/cradle/layouthandler.tsx\"));\nvar interrupthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/interrupthandler */ \"./src/cradle/interrupthandler.tsx\"));\nvar servicehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/servicehandler */ \"./src/cradle/servicehandler.tsx\"));\nvar styleshandler_1 = __importDefault(__webpack_require__(/*! ./cradle/styleshandler */ \"./src/cradle/styleshandler.tsx\"));\n// cacheAPI is imported as a property; instantiated at the root\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ./InfiniteGridScroller */ \"./src/InfiniteGridScroller.tsx\");\n// for children\nexports.CradleContext = react_1[\"default\"].createContext(null);\n// component\nvar Cradle = function Cradle(_ref) {\n  var gridSpecs = _ref.gridSpecs,\n    runwaySize = _ref.runwaySize,\n    virtualListSpecs = _ref.virtualListSpecs,\n    setVirtualListSize = _ref.setVirtualListSize,\n    setVirtualListRange = _ref.setVirtualListRange,\n    startingIndex = _ref.startingIndex,\n    getItem = _ref.getItem,\n    placeholder = _ref.placeholder,\n    placeholderMessages = _ref.placeholderMessages,\n    userCallbacks = _ref.userCallbacks,\n    styles = _ref.styles,\n    triggerlineOffset = _ref.triggerlineOffset,\n    cache = _ref.cache,\n    cacheMax = _ref.cacheMax,\n    scrollerID = _ref.scrollerID,\n    cacheAPI = _ref.cacheAPI,\n    usePlaceholder = _ref.usePlaceholder,\n    useScrollTracker = _ref.useScrollTracker,\n    showAxis = _ref.showAxis,\n    ONAFTERSCROLL_TIMEOUT = _ref.ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT = _ref.IDLECALLBACK_TIMEOUT,\n    MAX_CACHE_OVER_RUN = _ref.MAX_CACHE_OVER_RUN,\n    VARIABLE_MEASUREMENTS_TIMEOUT = _ref.VARIABLE_MEASUREMENTS_TIMEOUT,\n    scrollerProperties = _ref.scrollerProperties;\n  var listsize = virtualListSpecs.size,\n    lowindex = virtualListSpecs.lowindex,\n    highindex = virtualListSpecs.highindex;\n  // ========================[ DATA SETUP ]========================\n  // unpack gridSpecs\n  var orientation = gridSpecs.orientation,\n    gap = gridSpecs.gap,\n    padding = gridSpecs.padding,\n    cellHeight = gridSpecs.cellHeight,\n    cellWidth = gridSpecs.cellWidth,\n    cellMinHeight = gridSpecs.cellMinHeight,\n    cellMinWidth = gridSpecs.cellMinWidth,\n    layout = gridSpecs.layout;\n  // get viewport context\n  var ViewportContextProperties = (0, react_1.useContext)(Viewport_1.ViewportContext);\n  var ViewportContextPropertiesRef = (0, react_1.useRef)(null);\n  ViewportContextPropertiesRef.current = ViewportContextProperties; // for closures\n  // flags\n  var isMountedRef = (0, react_1.useRef)(true),\n    isCachedRef = (0, react_1.useRef)(false),\n    wasCachedRef = (0, react_1.useRef)(false),\n    hasBeenRenderedRef = (0, react_1.useRef)(false),\n    // trigger control\n    triggerHistoryRef = (0, react_1.useRef)({\n      previousReferenceName: null\n    });\n  //  viewport dimensions and cached state\n  var getViewportDimensions = function getViewportDimensions() {\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    return {\n      width: viewportElement.offsetWidth,\n      height: viewportElement.offsetHeight\n    };\n  };\n  var _getViewportDimension = getViewportDimensions(),\n    viewportheight = _getViewportDimension.height,\n    viewportwidth = _getViewportDimension.width; // viewportDimensions\n  // cache test\n  // zero width and height means the component must be in portal (cache) state\n  var isInPortal = viewportwidth == 0 && viewportheight == 0,\n    isCacheChange = isInPortal != isCachedRef.current;\n  if (isCacheChange) {\n    wasCachedRef.current = isCachedRef.current;\n    isCachedRef.current = isInPortal;\n  }\n  // cradle state\n  var _ref2 = (0, react_1.useState)('setup'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    cradleState = _ref3[0],\n    setCradleState = _ref3[1];\n  var cradleStateRef = (0, react_1.useRef)(null); // access by closures\n  cradleStateRef.current = cradleState;\n  // if (!scrollerProperties) { // root scroller\n  console.log('--\x3e cradleState', '-' + scrollerID + '-', cradleState);\n  // console.log('-- index','~'+scrollerProperties?.cellFramePropertiesRef.current.index+'~')\n  // console.log('-- itemID','+'+scrollerProperties?.cellFramePropertiesRef.current.itemID+'+')\n  // }\n  // cradle scaffold element refs\n  var headCradleElementRef = (0, react_1.useRef)(null),\n    tailCradleElementRef = (0, react_1.useRef)(null),\n    axisCradleElementRef = (0, react_1.useRef)(null),\n    triggercellTriggerlineHeadElementRef = (0, react_1.useRef)(null),\n    triggercellTriggerlineTailElementRef = (0, react_1.useRef)(null),\n    // layout bundle\n    cradleElementsRef = (0, react_1.useRef)({\n      headRef: headCradleElementRef,\n      tailRef: tailCradleElementRef,\n      axisRef: axisCradleElementRef,\n      triggercellTriggerlineHeadRef: triggercellTriggerlineHeadElementRef,\n      triggercellTriggerlineTailRef: triggercellTriggerlineTailElementRef\n    });\n  // ------------------------[ calculated properties ]------------------------\n  // configuration calculations\n  // crosscount (also calculated by Scrollblock for deriving Scrollblock length)\n  var crosscount = (0, react_1.useMemo)(function () {\n    if (isCachedRef.current) return 0;\n    var viewportcrosslength = orientation == 'vertical' ? viewportwidth : viewportheight;\n    // cross length of viewport (gap to match crossLength)\n    var viewportcrosslengthforcalc = viewportcrosslength - padding * 2 + gap;\n    var cellcrosslength = (orientation == 'vertical' ? cellWidth : cellHeight) + gap;\n    var cellcrosslengthforcalc = Math.min(cellcrosslength, viewportcrosslengthforcalc); // result cannot be less than 1\n    var crosscount = Math.floor(viewportcrosslengthforcalc / cellcrosslengthforcalc);\n    return crosscount;\n  }, [orientation, gap, padding, cellWidth, cellHeight, viewportheight, viewportwidth]);\n  var _ref4 = (0, react_1.useMemo)(function () {\n      if (listsize == 0) {\n        return [undefined, undefined];\n      }\n      // add position adjustment for 0\n      var endadjustment = highindex < 0 ? -1 : 1;\n      // get initial values\n      var baserowblanks = Math.abs(lowindex) % crosscount;\n      var endrowblanks = (Math.abs(highindex) + endadjustment) % crosscount;\n      // take inverse depending on direction\n      if (lowindex < 0) {\n        baserowblanks = baserowblanks == 0 ? 0 : crosscount - baserowblanks;\n      }\n      if (highindex >= 0) {\n        endrowblanks = endrowblanks == 0 ? 0 : crosscount - endrowblanks;\n      }\n      return [baserowblanks, endrowblanks];\n    }, [crosscount, listsize, lowindex, highindex]),\n    _ref5 = _slicedToArray(_ref4, 2),\n    baserowblanks = _ref5[0],\n    endrowblanks = _ref5[1];\n  // various row counts\n  var _ref6 = (0, react_1.useMemo)(function () {\n      var viewportLength = orientation == 'vertical' ? viewportheight : viewportwidth;\n      var baseRowLength;\n      if (layout == 'uniform') {\n        if (orientation == 'vertical') {\n          baseRowLength = cellHeight;\n        } else {\n          baseRowLength = cellWidth;\n        }\n      } else {\n        // layout == 'variable'\n        if (orientation == 'vertical') {\n          baseRowLength = cellMinHeight;\n        } else {\n          baseRowLength = cellMinWidth;\n        }\n      }\n      baseRowLength += gap;\n      var viewportRowcount = Math.ceil(viewportLength / baseRowLength);\n      var listRowcount = listsize == 0 ? 0 : Math.ceil((listsize + baserowblanks + endrowblanks) / crosscount);\n      var calculatedCradleRowcount = viewportRowcount + runwaySize * 2;\n      var cradleRowcount = Math.min(listRowcount, calculatedCradleRowcount);\n      var runwayRowcount;\n      if (cradleRowcount == calculatedCradleRowcount) {\n        runwayRowcount = runwaySize;\n      } else {\n        // cradleRowcount is less than calculatedCradleRowCount\n        var diff = calculatedCradleRowcount - cradleRowcount;\n        runwayRowcount = runwaySize - Math.floor(diff / 2);\n        runwayRowcount = Math.max(0, runwayRowcount);\n      }\n      var itemcount = cradleRowcount * crosscount;\n      if (itemcount > listsize) {\n        itemcount = listsize;\n        cradleRowcount = Math.ceil((itemcount + baserowblanks + endrowblanks) / crosscount);\n      }\n      return [cradleRowcount, viewportRowcount, listRowcount, runwayRowcount];\n    }, [orientation, gap,\n    // padding,\n    cellWidth, cellHeight, cellMinWidth, cellMinHeight, viewportheight, viewportwidth, listsize, baserowblanks, endrowblanks, runwaySize, crosscount, layout]),\n    _ref7 = _slicedToArray(_ref6, 4),\n    cradleRowcount = _ref7[0],\n    viewportRowcount = _ref7[1],\n    listRowcount = _ref7[2],\n    runwayRowcount = _ref7[3];\n  var rangerowshift = (0, react_1.useMemo)(function () {\n    return listsize == 0 ? undefined : Math.floor(lowindex / crosscount);\n  }, [crosscount, lowindex, listsize]);\n  var virtualListProps = Object.assign(Object.assign({}, virtualListSpecs), {\n    baserowblanks: baserowblanks,\n    endrowblanks: endrowblanks,\n    crosscount: crosscount,\n    rowcount: listRowcount,\n    rowshift: rangerowshift\n  });\n  var cradleContentPropsRef = (0, react_1.useRef)({\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    runwayRowcount: runwayRowcount,\n    SOL: undefined,\n    EOL: undefined,\n    lowindex: undefined,\n    highindex: undefined,\n    size: 0\n  });\n  var cradleContentProps = cradleContentPropsRef.current;\n  Object.assign(cradleContentProps, {\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    runwayRowcount: runwayRowcount\n  });\n  // ----------------------[ callbacks ]----------------------------\n  // host callbacks, upacked by serviceHandler\n  var externalCallbacksRef = (0, react_1.useRef)({\n    referenceIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.referenceIndexCallback,\n    repositioningFlagCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.repositioningFlagCallback,\n    repositioningIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.repositioningIndexCallback,\n    preloadIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.preloadIndexCallback,\n    deleteListCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.deleteListCallback,\n    changeListSizeCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.changeListSizeCallback,\n    changeListRangeCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.changeListRangeCallback,\n    itemExceptionCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.itemExceptionCallback\n  });\n  // -----------------[ bundle properties for handlers ]-------------------\n  // bundle all cradle props to pass to handlers - ultimately cradleParametersRef\n  var cradleInheritedPropertiesRef = (0, react_1.useRef)(null); // access by closures and support callbacks\n  // up to date values\n  cradleInheritedPropertiesRef.current = {\n    // gridSpecs\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    layout: layout,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    // ...rest\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    runwaySize: runwaySize,\n    getItem: getItem,\n    placeholder: placeholder,\n    placeholderMessages: placeholderMessages,\n    usePlaceholder: usePlaceholder,\n    triggerlineOffset: triggerlineOffset,\n    scrollerID: scrollerID,\n    // objects\n    userCallbacks: userCallbacks,\n    styles: styles,\n    cacheAPI: cacheAPI,\n    // control values\n    ONAFTERSCROLL_TIMEOUT: ONAFTERSCROLL_TIMEOUT,\n    MAX_CACHE_OVER_RUN: MAX_CACHE_OVER_RUN,\n    scrollerProperties: scrollerProperties\n  };\n  var scrollerPropertiesRef = (0, react_1.useRef)(null);\n  // passed to cellFrame content (user content) if requested\n  scrollerPropertiesRef.current = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    layout: layout,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    virtualListProps: virtualListProps,\n    cradleContentProps: cradleContentProps,\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    scrollerID: scrollerID\n  };\n  // configuration properties to share with handlers\n  var cradleInternalPropertiesRef = (0, react_1.useRef)(null);\n  cradleInternalPropertiesRef.current = {\n    // updated values\n    virtualListProps: virtualListProps,\n    setVirtualListSize: setVirtualListSize,\n    setVirtualListRange: setVirtualListRange,\n    cradleContentProps: cradleContentPropsRef.current,\n    // the following values are maintained elsewhere\n    isMountedRef: isMountedRef,\n    cradleElementsRef: cradleElementsRef,\n    isCachedRef: isCachedRef,\n    wasCachedRef: wasCachedRef,\n    triggerHistoryRef: triggerHistoryRef,\n    // for stateHandler\n    cradleStateRef: cradleStateRef,\n    setCradleState: setCradleState\n  };\n  // placeholder in cradleParameters to make available individual handlers\n  var handlersRef = (0, react_1.useRef)(null);\n  // cradle parameters MASTER BUNDLE\n  var cradleParameters = {\n    handlersRef: handlersRef,\n    ViewportContextPropertiesRef: ViewportContextPropertiesRef,\n    cradleInheritedPropertiesRef: cradleInheritedPropertiesRef,\n    scrollerPropertiesRef: scrollerPropertiesRef,\n    cradleInternalPropertiesRef: cradleInternalPropertiesRef,\n    externalCallbacksRef: externalCallbacksRef\n  };\n  var cradleParametersRef = (0, react_1.useRef)(null);\n  cradleParametersRef.current = cradleParameters;\n  // ongoing source of handlers - note all Handlers are given all parameters (cradleParameters)\n  if (!handlersRef.current) {\n    handlersRef.current = getCradleHandlers(cradleParameters);\n  }\n  // make handlers directly available to cradle code below\n  var _handlersRef$current = handlersRef.current,\n    interruptHandler = _handlersRef$current.interruptHandler,\n    scrollHandler = _handlersRef$current.scrollHandler,\n    contentHandler = _handlersRef$current.contentHandler,\n    layoutHandler = _handlersRef$current.layoutHandler,\n    serviceHandler = _handlersRef$current.serviceHandler,\n    stylesHandler = _handlersRef$current.stylesHandler;\n  // =======================[ INTERCEPT CACHING STATE CHANGE ]=========================\n  /*\n      Intercept change in caching status:\n      when a component is cached in a portal (in the React virtual DOM), including the transition of\n      being moved from one cellFrame to another when crossing the Cradle axis,\n      the scrollPos (scrollLeft or scrollTop) is reset to 0 (zero). When the scroller is\n      moved to a cellFrame, this code triggers restoration the scrollPos (see case 'parentingtransition'\n      in the state management section below).\n  \n      This supports InfiniteGridScroller components to be cached as content.\n  \n      The restore scrollPos action must be the first priority to hide these scrollPos adjustments\n      from the user.\n  */\n  var restoreScrollPos = function restoreScrollPos() {\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    var blockScrollPos = cradlePositionData.blockScrollPos;\n    var blockXScrollPos = cradlePositionData.blockXScrollPos;\n    if (blockScrollPos !== null) {\n      var viewportElement = ViewportContextPropertiesRef.current.elementRef.current;\n      viewportElement[cradlePositionData.blockScrollProperty] = blockScrollPos;\n      viewportElement[cradlePositionData.blockXScrollProperty] = blockXScrollPos;\n    }\n  };\n  if (isCacheChange && !isCachedRef.current) {\n    restoreScrollPos();\n  }\n  // change state for entering or leaving cache\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // nothing to do\n    if (isCachedRef.current && !wasCachedRef.current) {\n      // into cache\n      setCradleState('cached');\n    } else if (!isCachedRef.current && wasCachedRef.current) {\n      // out of cache\n      wasCachedRef.current = false;\n      if (hasBeenRenderedRef.current) {\n        setCradleState('rerenderfromcache');\n      } else {\n        setCradleState('firstrenderfromcache');\n      }\n    }\n  }, [isCachedRef.current, wasCachedRef.current]);\n  // ===================[ INITIALIZATION effects ]=========================\n  // initialization effects are independent of caching\n  // clear mounted flag on unmount\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  //send call-in functions to host\n  (0, react_1.useEffect)(function () {\n    if (!userCallbacks.functionsCallback) return;\n    var scrollToIndex = serviceHandler.scrollToIndex,\n      reload = serviceHandler.reload,\n      setListsize = serviceHandler.setListsize,\n      setListSize = serviceHandler.setListSize,\n      setListRange = serviceHandler.setListRange,\n      prependIndexCount = serviceHandler.prependIndexCount,\n      appendIndexCount = serviceHandler.appendIndexCount,\n      clearCache = serviceHandler.clearCache,\n      getCacheIndexMap = serviceHandler.getCacheIndexMap,\n      getCacheItemMap = serviceHandler.getCacheItemMap,\n      getCradleIndexMap = serviceHandler.getCradleIndexMap,\n      getPropertiesSnapshot = serviceHandler.getPropertiesSnapshot,\n      remapIndexes = serviceHandler.remapIndexes,\n      moveIndex = serviceHandler.moveIndex,\n      insertIndex = serviceHandler.insertIndex,\n      removeIndex = serviceHandler.removeIndex;\n    var functions = {\n      scrollToIndex: scrollToIndex,\n      reload: reload,\n      setListsize: setListsize,\n      setListSize: setListSize,\n      setListRange: setListRange,\n      prependIndexCount: prependIndexCount,\n      appendIndexCount: appendIndexCount,\n      clearCache: clearCache,\n      getCacheIndexMap: getCacheIndexMap,\n      getCacheItemMap: getCacheItemMap,\n      getCradleIndexMap: getCradleIndexMap,\n      getPropertiesSnapshot: getPropertiesSnapshot,\n      remapIndexes: remapIndexes,\n      moveIndex: moveIndex,\n      insertIndex: insertIndex,\n      removeIndex: removeIndex\n    };\n    userCallbacks.functionsCallback(functions);\n  }, []);\n  // initialize window scroll listeners\n  (0, react_1.useEffect)(function () {\n    var viewportElement = ViewportContextPropertiesRef.current.elementRef.current;\n    viewportElement.addEventListener('scroll', scrollHandler.onScroll);\n    return function () {\n      viewportElement && viewportElement.removeEventListener('scroll', scrollHandler.onScroll);\n    };\n  }, []);\n  // iOS Safari requires special handling - it ignores assignments to scrollLeft/scrollTop during scrolling\n  (0, react_1.useEffect)(function () {\n    var layout = cradleInheritedPropertiesRef.current.layout;\n    if (!(0, InfiniteGridScroller_1.isSafariIOS)() || layout == 'uniform') return;\n    var viewportElement = ViewportContextPropertiesRef.current.elementRef.current;\n    viewportElement.addEventListener('scroll', scrollHandler.iOSonScroll);\n    return function () {\n      viewportElement && viewportElement.removeEventListener('scroll', scrollHandler.iOSonScroll);\n    };\n  }, []);\n  // observer support\n  /*\n      There are two interection observers: one for the two cradle grids, and another for triggerlines;\n          both against the viewport.\n  */\n  (0, react_1.useEffect)(function () {\n    var cradleIntersect = interruptHandler.cradleIntersect,\n      triggerlinesIntersect = interruptHandler.triggerlinesIntersect;\n    // intersection observer for cradle body\n    // this sets up an IntersectionObserver of the cradle against the viewport. When the\n    // cradle goes out of the observer scope, the 'repositioningRender' cradle state is triggered.\n    var cradleintersectobserver = cradleIntersect.createObserver();\n    cradleIntersect.connectElements();\n    // triggerobserver triggers cradle content updates \n    //     when triggerlines pass the edge of the viewport\n    // defer connectElements until triggercell triggerlines have been assigned\n    var triggerobserver = triggerlinesIntersect.createObserver();\n    return function () {\n      cradleintersectobserver.disconnect();\n      triggerobserver.disconnect();\n    };\n  }, []);\n  // =====================[ RECONFIGURATION effects ]======================\n  // change listsize, caching, resize (UI resize of the viewport), reconfigure, or pivot\n  // inernal callback: the new list size will always be less than current listsize\n  // invoked if getItem returns null\n  var nullItemSetMaxListsize = (0, react_1.useCallback)(function (maxListsize) {\n    var listsize = cradleInternalPropertiesRef.current.virtualListProps.size;\n    if (maxListsize < listsize) {\n      var _serviceHandler$callb = serviceHandler.callbacks,\n        deleteListCallback = _serviceHandler$callb.deleteListCallback,\n        changeListSizeCallback = _serviceHandler$callb.changeListSizeCallback;\n      var dListCallback;\n      if (deleteListCallback) {\n        dListCallback = function dListCallback(deleteList) {\n          deleteListCallback('getItem returned null', deleteList);\n        };\n      }\n      contentHandler.updateVirtualListSize(maxListsize);\n      cacheAPI.changeCacheListSize(maxListsize, dListCallback, changeListSizeCallback);\n    }\n  }, []);\n  // caching change\n  (0, react_1.useEffect)(function () {\n    if (cache == 'preload') {\n      setCradleState('startpreload');\n      return;\n    }\n    if (cradleStateRef.current == 'setup') return;\n    switch (cache) {\n      case 'keepload':\n        {\n          var modelIndexList = contentHandler.getModelIndexList();\n          var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n          var dListCallback;\n          if (deleteListCallback) {\n            dListCallback = function dListCallback(deleteList) {\n              deleteListCallback('pare cache to cacheMax', deleteList);\n            };\n          }\n          var _cacheMax = cradleParameters.cradleInheritedPropertiesRef.current.cacheMax;\n          if (cacheAPI.pareCacheToMax(_cacheMax, modelIndexList, dListCallback)) {\n            cacheAPI.renderPortalLists();\n          }\n          setCradleState('changecaching');\n          break;\n        }\n      case 'cradle':\n        {\n          var _modelIndexList = contentHandler.getModelIndexList();\n          var _deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n          var _dListCallback;\n          if (_deleteListCallback) {\n            _dListCallback = function _dListCallback(deleteList) {\n              _deleteListCallback('match cache to cradle', deleteList);\n            };\n          }\n          if (cacheAPI.matchCacheToCradle(_modelIndexList, _dListCallback)) {\n            cacheAPI.renderPortalLists();\n          }\n          setCradleState('changecaching');\n          break;\n        }\n    }\n  }, [cache, cacheMax]);\n  // trigger viewportresizing response based on viewport state\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    // movement to and from cache is independent of ui viewportresizing\n    if (isCachedRef.current || wasCachedRef.current) {\n      return;\n    }\n    if (ViewportContextPropertiesRef.current.isResizing && cradleStateRef.current != 'viewportresizing') {\n      interruptHandler.pauseInterrupts();\n      setCradleState('viewportresizing');\n    }\n    // complete viewportresizing mode\n    if (!ViewportContextPropertiesRef.current.isResizing && cradleStateRef.current == 'viewportresizing') {\n      setCradleState('finishviewportresize');\n    }\n  }, [ViewportContextPropertiesRef.current.isResizing]);\n  // reconfigure for changed size parameters\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigure');\n  }, [cellHeight, cellWidth, gap, padding, triggerlineOffset, layout, runwaySize]);\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return; // TODO: ??\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigureforlistrange');\n  }, [lowindex, highindex]);\n  // a new getItem function implies the need to reload\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reload');\n  }, [getItem]);\n  // pivot triggered on change of orientation\n  (0, react_1.useEffect)(function () {\n    layoutHandler.cradlePositionData.blockScrollProperty = orientation == \"vertical\" ? \"scrollTop\" : \"scrollLeft\";\n    layoutHandler.cradlePositionData.blockXScrollProperty = orientation == \"horizontal\" ? \"scrollTop\" : \"scrollLeft\";\n    if (cradleStateRef.current == 'setup') {\n      layoutHandler.cradlePositionData.blockScrollPos = 0;\n      layoutHandler.cradlePositionData.blockXScrollPos = 0;\n      return;\n    }\n    interruptHandler.pauseInterrupts();\n    // interruptHandler.triggerlinesIntersect.disconnect()\n    if (isCachedRef.current) {\n      // cacheAPI.measureMemory('pivot cached')\n      // interruptHandler.pauseInterrupts() // suppress triggerline callbacks; will render for first render from cache\n      hasBeenRenderedRef.current = false;\n      return;\n    }\n    // cacheAPI.measureMemory('pivot')\n    var _cradleInheritedPrope = cradleInheritedPropertiesRef.current,\n      layout = _cradleInheritedPrope.layout,\n      gap = _cradleInheritedPrope.gap;\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    if (layout == 'uniform') {\n      var _cradleInheritedPrope2 = cradleInheritedPropertiesRef.current,\n        _cellWidth = _cradleInheritedPrope2.cellWidth,\n        _cellHeight = _cradleInheritedPrope2.cellHeight,\n        _gap = _cradleInheritedPrope2.gap;\n      // get previous ratio\n      var previousCellPixelLength = (orientation == 'vertical' ? _cellWidth : _cellHeight) + _gap;\n      var previousAxisOffset = layoutHandler.cradlePositionData.targetAxisViewportPixelOffset;\n      var previousratio = previousAxisOffset / previousCellPixelLength;\n      var pivotCellPixelLength = (orientation == 'vertical' ? _cellHeight : _cellWidth) + _gap;\n      var pivotAxisOffset = previousratio * pivotCellPixelLength;\n      cradlePositionData.targetAxisViewportPixelOffset = Math.round(pivotAxisOffset);\n    } else {\n      cradlePositionData.targetAxisViewportPixelOffset = gap;\n    }\n    setCradleState('pivot');\n  }, [orientation]);\n  // =====================[ STYLES ]===========================\n  // styles for the six scaffold components\n  var _ref8 = (0, react_1.useMemo)(function () {\n      return stylesHandler.getCradleStyles({\n        orientation: orientation,\n        cellHeight: cellHeight,\n        cellWidth: cellWidth,\n        cellMinHeight: cellMinHeight,\n        cellMinWidth: cellMinWidth,\n        gap: gap,\n        padding: padding,\n        viewportheight: viewportheight,\n        viewportwidth: viewportwidth,\n        crosscount: crosscount,\n        userstyles: styles,\n        triggerlineOffset: triggerlineOffset,\n        layout: layout\n      });\n    }, [orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, gap, padding, viewportheight, viewportwidth, crosscount, styles, triggerlineOffset, layout]),\n    _ref9 = _slicedToArray(_ref8, 6),\n    cradleHeadStyle = _ref9[0],\n    cradleTailStyle = _ref9[1],\n    cradleAxisStyle = _ref9[2],\n    cradleDividerStyle = _ref9[3],\n    triggercellTriggerlineHeadStyle = _ref9[4],\n    triggercellTriggerlineTailStyle = _ref9[5];\n  // =====================[ STATE MANAGEMENT ]==========================\n  // this is the core state engine (about 32 states), using named states\n  // useLayoutEffect for suppressing flashes\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cradleState) {\n      // --------------[ precursors to setCradleContent ]---------------\n      // these are all workflow related, but\n      // resize could be asynchronous when rotating phone during scroll intertia\n      case 'setup':\n        {\n          // cycle to allow for ref assignments\n          if (cradleInheritedPropertiesRef.current.cache != 'preload') {\n            if (isCachedRef.current) {\n              setCradleState('cached');\n            } else {\n              setCradleState('firstrender'); // load grid\n            }\n          }\n\n          break;\n        }\n      case 'viewportresizing':\n        {\n          // no-op, wait for resizing to end\n          break;\n        }\n      case 'startpreload':\n        {\n          var finalCallback = function finalCallback() {\n            var modelIndexList = contentHandler.getModelIndexList();\n            var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n            var dListCallback;\n            if (deleteListCallback) {\n              dListCallback = function dListCallback(deleteList) {\n                deleteListCallback('pare cache to cacheMax', deleteList);\n              };\n            }\n            if (cacheAPI.pareCacheToMax(cacheMax, modelIndexList, dListCallback)) {\n              cacheAPI.renderPortalLists();\n            }\n            if (!isCachedRef.current) {\n              setCradleState('finishpreload');\n            } else {\n              setCradleState('cached');\n            }\n          };\n          cacheAPI.preload(finalCallback, nullItemSetMaxListsize);\n          break;\n        }\n      case 'cached':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            if (hasBeenRenderedRef.current) {\n              setCradleState('rerenderfromcache');\n            } else {\n              setCradleState('firstrenderfromcache');\n            }\n          } // else wait for reparenting\n          break;\n        }\n      case 'startreposition':\n        {\n          var signals = interruptHandler.signals;\n          signals.pauseTriggerlinesObserver = true;\n          // avoid recursive cradle intersection interrupts\n          signals.pauseCradleIntersectionObserver = true;\n          signals.repositioningRequired = false; // because now underway\n          if (scrollHandler.isScrolling) {\n            var _cradleInternalProper = cradleInternalPropertiesRef.current.virtualListProps,\n              _lowindex = _cradleInternalProper.lowindex,\n              _listsize = _cradleInternalProper.size;\n            ViewportContextPropertiesRef.current.scrollTrackerAPIRef.current.startReposition(layoutHandler.cradlePositionData.targetAxisReferencePosition, _lowindex, _listsize);\n            setCradleState('repositioningRender'); // toggles with repositioningContinuation\n          } else {\n            setCradleState('finishreposition');\n          }\n          break;\n        }\n      // -------------------[ setCradleContent ]------------------\n      /*\n          the following 12 cradle states all resolve with\n          a chain starting with setCradleContent,\n          continuing with 'preparerender', and ending with\n          'restoreinterrupts', with a detour for variable layout\n          to reconfigure the scrollblock\n      */\n      case 'firstrender':\n      case 'firstrenderfromcache':\n      case 'rerenderfromcache':\n      case 'scrollto':\n      case 'changecaching':\n      case 'finishpreload':\n      case 'finishreposition':\n      case 'finishviewportresize':\n      case 'pivot':\n      case 'reconfigure':\n      case 'reconfigureforlistrange':\n      case 'reload':\n        {\n          if (!isMountedRef.current) return; // possible async latency with nested scrollers\n          interruptHandler.triggerlinesIntersect.disconnect();\n          interruptHandler.cradleIntersect.disconnect();\n          if (isCachedRef.current) {\n            setCradleState('cached');\n            break;\n          }\n          var _cradleContent = contentHandler.content;\n          _cradleContent.headModelComponents = [];\n          _cradleContent.tailModelComponents = [];\n          var _layout = cradleInheritedPropertiesRef.current.layout;\n          // interruptHandler.triggerlinesIntersect.disconnect()\n          // interruptHandler.cradleIntersect.disconnect()\n          if (_layout == 'variable') {\n            // restore base config to scrollblock\n            // already done for reposition\n            cradleState != 'finishreposition' && layoutHandler.restoreBaseScrollblockConfig();\n          }\n          if (cradleState == 'reload') {\n            cacheAPI.clearCache();\n          }\n          if (cradleState == 'finishreposition') {\n            ViewportContextPropertiesRef.current.scrollTrackerAPIRef.current.finishReposition();\n            scrollHandler.calcImpliedRepositioningData('finishreposition');\n          }\n          var _listsize2 = cradleInternalPropertiesRef.current.virtualListProps.size;\n          // set data\n          if (_listsize2) contentHandler.setCradleContent(cradleState);\n          if (cradleState != 'finishpreload') {\n            hasBeenRenderedRef.current = true;\n          }\n          // synchronize cache if necessary\n          var _cache = cradleInheritedPropertiesRef.current.cache;\n          if (_cache == 'cradle') {\n            var modelIndexList = contentHandler.getModelIndexList();\n            var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n            var dListCallback;\n            if (deleteListCallback) {\n              dListCallback = function dListCallback(deleteList) {\n                deleteListCallback('match cache to cradle', deleteList);\n              };\n            }\n            if (cacheAPI.matchCacheToCradle(modelIndexList, dListCallback)) {\n              cacheAPI.renderPortalLists();\n            }\n          }\n          // prepare the cycle for preparerender\n          _cradleContent.headDisplayComponents = _cradleContent.headModelComponents;\n          _cradleContent.tailDisplayComponents = _cradleContent.tailModelComponents;\n          // update virtual DOM\n          if (_layout == 'uniform') {\n            setCradleState('preparerender');\n          } else {\n            setCradleState('refreshDOMsetforvariability');\n          }\n          break;\n        }\n      case 'preparerender':\n        {\n          // cycle for DOM update\n          // triggerlines will have been assigned to a new triggerCell by now.\n          // connectElements was delayed for a cycle to render triggercell triggerlines\n          interruptHandler.triggerlinesIntersect.connectElements();\n          interruptHandler.cradleIntersect.connectElements();\n          setCradleState('restoreinterrupts'); // to restore interrupts\n          break;\n        }\n      case 'restoreinterrupts':\n        {\n          // normalize\n          interruptHandler.restoreInterrupts();\n          setCradleState('ready');\n          break;\n        }\n      // ----------------------[ followup from axisTriggerlinesObserverCallback ]------------\n      // scroll effects\n      // renderupdatedcontent is called from interruptHandler.axisTriggerlinesObserverCallback. \n      // it is required to integrate changed DOM configurations before 'ready' is displayed\n      case 'renderupdatedcontent':\n        {\n          // cycle for DOM update\n          contentHandler.updateCradleContent();\n          setCradleState('finishupdatedcontent');\n          break;\n        }\n      case 'finishupdatedcontent':\n        {\n          // cycle for DOM update\n          // synchronize cache\n          var _cache2 = cradleInternalPropertiesRef.current.cache;\n          if (_cache2 == 'keepload') {\n            contentHandler.guardAgainstRunawayCaching();\n          }\n          // cacheAPI.measureMemory('finish update')\n          var _layout2 = cradleInheritedPropertiesRef.current.layout;\n          if (_layout2 == 'uniform') {\n            interruptHandler.triggerlinesIntersect.connectElements();\n            // re-activate triggers; triggerlines will have been assigned to a new triggerCell by now.\n            // setCradleState('reconnectupdatedcontent')\n            setCradleState('ready');\n          } else {\n            // 'variable' content requiring reconfiguration\n            setCradleState('refreshDOMupdateforvariability');\n          }\n          break;\n        }\n      // ---------------------[ adjust scrollblock for set variable content ]--------------\n      case 'refreshDOMsetforvariability':\n        {\n          setCradleState('preparesetforvariability');\n          break;\n        }\n      case 'preparesetforvariability':\n        {\n          setTimeout(function () {\n            if (isMountedRef.current) {\n              contentHandler.adjustScrollblockForVariability('setcradle');\n              setCradleState('finishsetforvariability');\n            }\n          }, VARIABLE_MEASUREMENTS_TIMEOUT);\n          break;\n        }\n      case 'finishsetforvariability':\n        {\n          setCradleState('preparerender');\n          break;\n        }\n      // ------------------------[ adjust scrollblock for update variable content ]--------------\n      case 'refreshDOMupdateforvariability':\n        {\n          // extra cycle to allow for DOM synchronizion with grid changes\n          setCradleState('adjustupdateforvariability');\n          break;\n        }\n      case 'adjustupdateforvariability':\n        {\n          setTimeout(function () {\n            contentHandler.adjustScrollblockForVariability('updatecradle');\n            setCradleState('finishupdateforvariability');\n          }, 0);\n          break;\n        }\n      case 'finishupdateforvariability':\n        {\n          // re-activate triggers; triggerlines will have been assigned to a new triggerCell by now.\n          interruptHandler.triggerlinesIntersect.connectElements();\n          interruptHandler.signals.pauseCradleIntersectionObserver = false;\n          setCradleState('ready');\n          break;\n        }\n      // ----------------[ user requests ]-------------\n      case 'channelcradleresetafterinsertremove':\n        {\n          cacheAPI.applyPortalPartitionItemsForDeleteList();\n          setCradleState('changelistsizeafterinsertremove');\n          break;\n        }\n      // support for various host service requests; syncs cradle content with cache changes\n      case 'applyinsertremovechanges':\n      case 'applyremapchanges':\n      case 'applymovechanges':\n        {\n          cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n          cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n          cacheAPI.applyPortalPartitionItemsForDeleteList();\n          if (cradleState == 'applyinsertremovechanges') {\n            setCradleState('changelistsizeafterinsertremove');\n          } else {\n            setCradleState('ready');\n          }\n          break;\n        }\n      case 'changelistsizeafterinsertremove':\n        {\n          var newlistsize = serviceHandler.newListSize;\n          serviceHandler.newListSize = null;\n          setCradleState('ready');\n          // service handler called because this is a followon of a user intervention\n          serviceHandler.setListSize(newlistsize);\n          break;\n        }\n      case 'clearcache':\n        {\n          contentHandler.clearCradle();\n          cradleContent.headDisplayComponents = [];\n          cradleContent.tailDisplayComponents = [];\n          cacheAPI.clearCache();\n          setCradleState('ready');\n          break;\n        }\n    }\n  }, [cradleState]);\n  // standard rendering states (2 states)\n  (0, react_1.useEffect)(function () {\n    switch (cradleState) {\n      // repositioningRender and repositioningContinuation are toggled to generate continuous \n      // repositioning renders\n      case 'repositioningRender':\n        // no-op\n        break;\n      case 'ready':\n        // no-op\n        break;\n    }\n  }, [cradleState]);\n  // ==========================[ RENDER ]===========================\n  var scrollAxisReferencePosition = layoutHandler.cradlePositionData.targetAxisReferencePosition;\n  var scrollAxisReferenceIndex = scrollAxisReferencePosition + lowindex;\n  var scrollIndexRef = (0, react_1.useRef)(scrollAxisReferencePosition);\n  var cradleContent = contentHandler.content;\n  var triggercellTriggerlinesRef = (0, react_1.useRef)(null);\n  triggercellTriggerlinesRef.current = (0, react_1.useMemo)(function () {\n    return [react_1[\"default\"].createElement(\"div\", {\n      key: 'head',\n      \"data-type\": 'headtrigger',\n      style: triggercellTriggerlineHeadStyle,\n      ref: triggercellTriggerlineHeadElementRef\n    }), react_1[\"default\"].createElement(\"div\", {\n      key: 'tail',\n      \"data-type\": 'tailtrigger',\n      style: triggercellTriggerlineTailStyle,\n      ref: triggercellTriggerlineTailElementRef\n    })];\n  }, [triggercellTriggerlineHeadStyle, triggercellTriggerlineTailStyle]);\n  var contextvalueRef = (0, react_1.useRef)({\n    scrollerPropertiesRef: scrollerPropertiesRef,\n    cacheAPI: cacheAPI,\n    nullItemSetMaxListsize: nullItemSetMaxListsize,\n    itemExceptionCallback: serviceHandler.callbacks.itemExceptionCallback,\n    IDLECALLBACK_TIMEOUT: IDLECALLBACK_TIMEOUT,\n    triggercellTriggerlinesRef: triggercellTriggerlinesRef\n  });\n  // display the cradle components, the ScrollTracker, or null\n  return react_1[\"default\"].createElement(exports.CradleContext.Provider, {\n    value: contextvalueRef.current\n  }, cradleState == 'repositioningRender' ? null : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-axis',\n    style: cradleAxisStyle,\n    ref: axisCradleElementRef\n  }, showAxis ?\n  // for debug\n  react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: cradleDividerStyle\n  }) : null, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleState != 'setup' ? cradleContent.headDisplayComponents : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleState != 'setup' ? cradleContent.tailDisplayComponents : null)));\n}; // Cradle\nexports[\"default\"] = Cradle;\n// utility\nvar getCradleHandlers = function getCradleHandlers(cradleParameters) {\n  var createHandler = function createHandler(handler) {\n    return new handler(cradleParameters);\n  };\n  var cacheAPI = cradleParameters.cradleInheritedPropertiesRef.current.cacheAPI;\n  cacheAPI.cradleParameters = cradleParameters;\n  return {\n    cacheAPI: cacheAPI,\n    interruptHandler: createHandler(interrupthandler_1[\"default\"]),\n    scrollHandler: createHandler(scrollhandler_1[\"default\"]),\n    stateHandler: createHandler(statehandler_1[\"default\"]),\n    contentHandler: createHandler(contenthandler_1[\"default\"]),\n    layoutHandler: createHandler(layouthandler_1[\"default\"]),\n    serviceHandler: createHandler(servicehandler_1[\"default\"]),\n    stylesHandler: createHandler(styleshandler_1[\"default\"])\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxDQUFDN0gsZ0JBQWdCLENBQUM7RUFBQTtFQUU5RCxJQUFRbkgsUUFBUSxHQUFLbUgsZ0JBQWdCLENBQUNKLDRCQUE0QixDQUFDckYsT0FBTyxDQUFsRTFCLFFBQVE7RUFFaEJBLFFBQVEsQ0FBQ21ILGdCQUFnQixHQUFHQSxnQkFBZ0I7RUFFNUMsT0FBTztJQUVIbkgsUUFBUSxFQUFSQSxRQUFRO0lBQ1J1SCxnQkFBZ0IsRUFBQ3dILGFBQWEsQ0FBQ3ZRLGtCQUFBLFdBQWdCLENBQUM7SUFDaERnSixhQUFhLEVBQUN1SCxhQUFhLENBQUM1USxlQUFBLFdBQWEsQ0FBQztJQUMxQzhRLFlBQVksRUFBQ0YsYUFBYSxDQUFDMVEsY0FBQSxXQUFZLENBQUM7SUFDeENvSixjQUFjLEVBQUNzSCxhQUFhLENBQUN6USxnQkFBQSxXQUFjLENBQUM7SUFDNUNvSixhQUFhLEVBQUNxSCxhQUFhLENBQUN4USxlQUFBLFdBQWEsQ0FBQztJQUMxQ29KLGNBQWMsRUFBQ29ILGFBQWEsQ0FBQ3RRLGdCQUFBLFdBQWMsQ0FBQztJQUM1Q21KLGFBQWEsRUFBQ21ILGFBQWEsQ0FBQ3JRLGVBQUEsV0FBYTtHQUU1QztBQUVMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL0NyYWRsZS50c3g/NzE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDcmFkbGUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSBDcmFkbGUgZG9lcyB0aGUgYnVsayBvZiB0aGUgd29yayBmb3IgdGhlIGluZmluaXRlIGdyaWQgc2Nyb2xsZXIuIEl0IGRvZXMgc28gd2l0aCB0aGUgaGVscCBvZlxuICAgIGVpZ2h0IHByb2Nlc3MgaGFuZGxlcnMgKGNsYXNzIGluc3RhbmNlcyksIGFuZCBvbmUgbWFpbiBzdWItY29tcG9uZW50IC0gdGhlIENlbGxGcmFtZS5cblxuICAgIENyYWRsZSdzIG1haW4gcmVzcG9uc2liaWxpdHkgaXMgdG8gbWFuYWdlIHRoZSB+MzUgc3RhdGUgY2hhbmdlcyBvZiB0aGUgc3lzdGVtLlxuXG4gICAgVGhlIGlsbHVzaW9uIG9mIGluZmluaXRlIGNvbnRlbnQgaXMgbWFpbnRhaW5lZCBieSBzeW5jaHJvbml6aW5nIGNoYW5nZXMgaW4gY3JhZGxlIGNvbnRlbnQgd2l0aCB0aGVcbiAgICBDcmFkbGUgbG9jYXRpb24gaW5zaWRlIHRoZSBTY3JvbGxibG9jaywgc3VjaCB0aGF0IGFzIHRoZSBTY3JvbGxibG9jayBpcyBtb3ZlZCwgdGhlIGNyYWRsZSBtb3ZlcyBcbiAgICBvcHBvc2l0ZWx5IHRvIHN0YXkgdmlzaWJsZSB3aXRoaW4gdGhlIFZpZXdwb3J0LlxuXG4gICAgVGhlIFNjcm9sbGJsb2NrIGlzIHNpemVkIHRvIGFwcHJveGltYXRlIHRoZSBsaXN0IGJlaW5nIHZpZXdlZCwgc28gYXMgdG8gaGF2ZSBhIHNjcm9sbCB0aHVtYiBzaXplIFxuICAgIGFuZCBwb3NpdGlvbiB3aGljaCByZWFsaXN0aWNhbGx5IHJlZmxlY3RzIHRoZSBzaXplIG9mIHRoZSBsaXN0IGJlaW5nIHNob3duLlxuXG4gICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBjcmFkbGUgaXMgY29udHJvbGxlZCBieSBhbiAnYXhpcycgd2hpY2ggaXMgYSAwcHggaGVpZ2h0L3dpZHRoIGRpdlxuICAgIChhbG9uZyB0aGUgbWVkaWFsIC0gU2Nyb2xsQmxvY2sgY2FuIGJlIHZlcnRpY2FsIG9yIGhvcml6b250YWwpLiBUaGUgcHVycG9zZSBvZiB0aGUgYXhpcyBpcyB0byBcbiAgICBhY3QgYXMgYSAnZm9sZCcsIGFib3ZlIHdoaWNoIGNyYWRsZSBjb250ZW50IGV4cGFuZHMgJ2hlYWR3YXJkcycgKHVwIG9yIGxlZnQpIGluIHRoZSBDcmFkbGUsIGFuZCBcbiAgICBiZWxvdyB3aGljaCB0aGUgY3JhZGxlIGNvbnRlbnQgZXhwYW5kcyAndGFpbHdhcmRzJyAoZG93biBvciByaWdodCkuIFRoZSBDcmFkbGUgY29udGVudCBpcyBoZWxkIGluIFxuICAgIHR3byBDU1MgZ3JpZHMgKGNoaWxkcmVuIG9mIHRoZSBheGlzKTogb25lIGFib3ZlIG9yIGxlZnQgKHRoZSAnaGVhZCcgZ3JpZCksIGFuZCBvbmUgYmVsb3cgb3IgcmlnaHQsIFxuICAgIG9mIHRoZSBwb3NpdGlvbiBvZiB0aGUgYXhpcyAodGhlICd0YWlsJyBncmlkKS5cblxuICAgIFRoZSBheGlzIGlzIGtlcHQgbmVhciB0aGUgbGVhZGluZyAoaGVhZHdhcmQpIGVkZ2Ugb2YgdGhlIHZpc2libGUgY2VsbCByb3dzIG9mIHRoZSBWaWV3cG9ydFxuXG4gICAgVGVjaG5pY2FsbHksIHRoZXJlIGFyZSBzZXZlcmFsIGtleSByZWZlcmVuY2UgcG9pbnRzIHRyYWNrZWQgYnkgdGhlIENyYWRsZS4gVGhlc2UgYXJlOlxuICAgICAgICAtIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiBpcyB0aGUgdmlydHVhbCAwLWJhc2VkIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGNvbnRyb2xsaW5nIHRoZSBsb2NhdGlvbiBcbiAgICAgICAgICBvZiB0aGUgYXhpcy5cbiAgICAgICAgLSBUaGUgYXhpc1JlZmVyZW5jZUluZGV4IGlzIGluZmVycmVkIGZyb20gdGhlIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiwgYnkgYWRkaW5nIHRoZSB2aXJ0dWFsIGluZGV4IFxuICAgICAgICAgICAgcmFuZ2UgbG93IGluZGV4IHRvIHRoZSB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24uXG4gICAgICAgICAgICBUaGUgYXhpc1JlZmVyZW5jZUluZGV4IGlzIGFsc28gdXNlZCB0byBhbGxvY2F0ZSBpdGVtcyBhYm92ZSAobG93ZXIgaW5kZXggdmFsdWUpIGFuZCBiZWxvdyBcbiAgICAgICAgICAgIChzYW1lIG9yIGhpZ2hlciBpbmRleCB2YWx1ZSkgdGhlIGF4aXMgZm9sZC4gVGhlIGF4aXNSZWZlcmVuY2VJbmRleCBpcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgXG4gICAgICAgICAgICB0YWlsIHNlY3Rpb24gb2YgdGhlIENyYWRsZS5cbiAgICAgICAgLSAoY3JhZGxlUmVmZXJlbmNlSW5kZXggaXMgaW5mZXJyZWQgZnJvbSB0aGUgYXhpc1JlZmVyZW5jZUluZGV4LCBhbmQgaXMgdGhlIHZpcnR1YWwgaW5kZXggb2YgXG4gICAgICAgICAgICB0aGUgaXRlbSBkZWZpbmluZyB0aGUgbGVhZGluZyBib3VuZCBvZiB0aGUgY3JhZGxlIGNvbnRlbnQuIFRoZSBjcmFkbGVSZWZlcmVuY2VJbmRleCBpcyB1c3VhbGx5IFxuICAgICAgICAgICAgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGhlYWQgc2VjdGlvbiBvZiB0aGUgQ3JhZGxlLCB1bmxlc3MgdGhlIGNyYWRsZSBzaG93cyB0aGUgdmVyeSB0b3Agb2YgdGhlXG4gICAgICAgICAgICBsaXN0LCBpbiB3aGljaCBjYXNlIHRoZSBjcmFkbGVSZWZlcmVuY2VJbmRleCBpcyB0aGUgc2FtZSBhcyB0aGUgQXhpc1JlZmVyZW5jZUluZGV4KVxuICAgICAgICAtIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0IChwaXhlbHMgdGhhdCBwbGFjZSB0aGUgYXhpcyBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnQncyBsZWFkaW5nIGVkZ2UpXG4gICAgICAgIC0gdGhlIGJsb2NrU2Nyb2xsUG9zLCB3aGljaCBpcyB0aGUgYW1vdW50IG9mIHNjcm9sbCAoVmlld3BvcnQgc2Nyb2xsVG9wIG9yIHNjcm9sbExlZnQpIG9mIHRoZSBcbiAgICAgICAgICAgIFNjcm9sbEJsb2NrXG4gICAgXG4gICAgT3ZlcnNjcm9sbCBoYW5kbGluZyAocmVwb3NpdGlvbmluZyk6XG4gICAgICAgIE93aW5nIHRvIHRoZSBwb3RlbnRpYWwgcmFwaWRpdHkgb2Ygc2Nyb2xsaW5nLCB3aGljaCBpbiB0aGUgY2FzZSBvZiBsYXJnZSBsaXN0cyBhbmQgaGVhdnkgY29udGVudCBcbiAgICAgICAgY2FuIGJlIHRvbyBmYXN0IGZvciB0aGUgc3lzdGVtIHRvIGtlZXAgdXAsIHRoZXJlIGlzIGFuIG92ZXJzY3JvbGwgcHJvdG9jb2wgY2FsbGVkICdyZXBvc2l0aW9uaW5nJy5cblxuICAgICAgICBJZiB0aGUgb3ZlcnNjcm9sbCBpcyBzdWNoIHRoYXQgdGhlIGNyYWRsZSAoaW5jbHVkaW5nIGl0cyB0d28gY29udGVudCBncmlkcykgaGFzIGVudGlyZWx5IHBhc3NlZCBcbiAgICAgICAgb3V0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGUgQ3JhZGxlIGNvbXBvbmVudCBpcyByZXBsYWNlZCBieSBhIFNjcm9sbFRyYWNrZXIgKG9yIGJ5IG51bGwgaWYgXG4gICAgICAgIHRoZSBob3N0IHRha2VzIHJlc3BvbnNpYmlsaXR5IGZvciBmZWVkYmFjaykuIFRoZSBTY3JvbGxUcmFja2VyIGRpc3BsYXlzIHRvIHRoZSB1c2VyIHRoZSByZWxhdGl2ZSBcbiAgICAgICAgbG9jYXRpb24gaW4gdGhlIHZpcnR1YWwgbGlzdCBhdCB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnQgZHVyaW5nIHJlcG9zaXRpb25pbmcuIFdoZW4gdGhlIHNjcm9sbGluZ1xuICAgICAgICBzdG9wcyBDcmFkbGUgcmVjcmVhdGVzIHRoZSBjcmFkbGUgY29udGVudCwgYWNjb3JkaW5nIHRvIHRoZSBmaW5hbCBwb3NpdGlvbiBvZiB0aGUgcmVwb3NpdGlvbmluZyBcbiAgICAgICAgcHJvY2Vzcy5cblxuICAgIENyYWRsZSBjaGFuZ2VzIGFyZSBhY3RpdmF0ZWQgYnkgaW50ZXJydXB0czpcbiAgICAtIHNjcm9sbGluZ1xuICAgIC0gcmVzaXppbmcgb2YgdGhlIHZpZXdwb3J0XG4gICAgLSBJbnRlcnNlY3Rpb25PYnNlcnZlciBjYWxsYmFja3M6XG4gICAgICAgIC0gY3JhZGxlL3ZpZXdwb3J0IGludGVyc2VjdGlvbiBmb3IgcmVwb3NpdGlvbmluZyB3aGVuIHRoZSBjcmFkbGUgcmFjZXMgb3V0IG9mIHNjb3BlXG4gICAgICAgIC0gdHdvICd0cmlnZ2VybGluZScvdmlld3BvcnQgaW50ZXJzZWN0aW9ucyB3aGljaCB0cmlnZ2VyIHJvbGxpbmcgb2YgY29udGVudFxuICAgICAgICAgICAgLSByb2xsaW5nIGNvbnRlbnQgdHJpZ2dlcnMgcmUtYWxsb2NhdGlvbiBvZiBjb250ZW50IGJldHdlZW4gY3JhZGxlIGhlYWQgYW5kIHRhaWwgZ3JpZHNcbiAgICAtIHBpdm90IC0gY2hhbmdlIG9mIG9yaWVudGF0aW9uXG4gICAgLSBob3N0IGNoYW5nZXMgb2YgY29uZmlndXJhdGlvbiBzcGVjcyB0aHJvdWdoIHByb3BlcnR5IGNoYW5nZXMgb3IgZGlyZWN0IHNlcnZpY2UgY2FsbHNcbiovXG5cbmltcG9ydCBSZWFjdCwgeyBcbiAgICB1c2VTdGF0ZSwgXG4gICAgdXNlUmVmLCBcbiAgICB1c2VDb250ZXh0LCBcbiAgICB1c2VFZmZlY3QsIFxuICAgIHVzZUxheW91dEVmZmVjdCwgXG4gICAgdXNlTWVtbyxcbiAgICB1c2VDYWxsYmFjaywgXG59IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBWaWV3cG9ydENvbnRleHQgfSBmcm9tICcuL1ZpZXdwb3J0J1xuXG4vLyBzdXBwb3J0IGNvZGU7IHByb2Nlc3MgaGFuZGxlcnNcbmltcG9ydCBTY3JvbGxIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3Njcm9sbGhhbmRsZXInXG5pbXBvcnQgU3RhdGVIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3N0YXRlaGFuZGxlcidcbmltcG9ydCBDb250ZW50SGFuZGxlciBmcm9tICcuL2NyYWRsZS9jb250ZW50aGFuZGxlcidcbmltcG9ydCBMYXlvdXRIYW5kbGVyIGZyb20gJy4vY3JhZGxlL2xheW91dGhhbmRsZXInXG5pbXBvcnQgSW50ZXJydXB0SGFuZGxlciBmcm9tICcuL2NyYWRsZS9pbnRlcnJ1cHRoYW5kbGVyJ1xuaW1wb3J0IFNlcnZpY2VIYW5kbGVyIGZyb20gJy4vY3JhZGxlL3NlcnZpY2VoYW5kbGVyJ1xuaW1wb3J0IFN0eWxlc0hhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc3R5bGVzaGFuZGxlcidcbi8vIGNhY2hlQVBJIGlzIGltcG9ydGVkIGFzIGEgcHJvcGVydHk7IGluc3RhbnRpYXRlZCBhdCB0aGUgcm9vdFxuXG5pbXBvcnQgeyBpc1NhZmFyaUlPUyB9IGZyb20gJy4vSW5maW5pdGVHcmlkU2Nyb2xsZXInXG5cbi8vIGZvciBjaGlsZHJlblxuZXhwb3J0IGNvbnN0IENyYWRsZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpXG5cbi8vIGNvbXBvbmVudFxuY29uc3QgQ3JhZGxlID0gKHsgXG4gICAgICAgIGdyaWRTcGVjcyxcbiAgICAgICAgLy8gYmFzaWNzXG4gICAgICAgIHJ1bndheVNpemUsIFxuICAgICAgICB2aXJ0dWFsTGlzdFNwZWNzLFxuICAgICAgICBzZXRWaXJ0dWFsTGlzdFNpemUsXG4gICAgICAgIHNldFZpcnR1YWxMaXN0UmFuZ2UsXG4gICAgICAgIHN0YXJ0aW5nSW5kZXgsIFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuICAgICAgICB1c2VyQ2FsbGJhY2tzLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgLy8gZm9yIGhhbmRsZXIgbGlzdFxuICAgICAgICBjYWNoZUFQSSxcbiAgICAgICAgLy8gc3lzdGVtXG4gICAgICAgIHVzZVBsYWNlaG9sZGVyLFxuICAgICAgICB1c2VTY3JvbGxUcmFja2VyLFxuICAgICAgICBzaG93QXhpcyxcbiAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULFxuICAgICAgICBJRExFQ0FMTEJBQ0tfVElNRU9VVCxcbiAgICAgICAgTUFYX0NBQ0hFX09WRVJfUlVOLFxuICAgICAgICBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCxcbiAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzLFxuXG4gICAgfSkgPT4ge1xuXG4gICAgY29uc3QgeyBcblxuICAgICAgICBzaXplOmxpc3RzaXplLFxuICAgICAgICBsb3dpbmRleCwgXG4gICAgICAgIGhpZ2hpbmRleCxcblxuICAgIH0gPSB2aXJ0dWFsTGlzdFNwZWNzXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1bIERBVEEgU0VUVVAgXT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdW5wYWNrIGdyaWRTcGVjc1xuICAgIGNvbnN0IHtcblxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgIGNlbGxNaW5XaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgLy8gZ2V0IHZpZXdwb3J0IGNvbnRleHRcbiAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdXNlQ29udGV4dChWaWV3cG9ydENvbnRleHQpXG5cbiAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyAvLyBmb3IgY2xvc3VyZXNcblxuICAgIC8vIGZsYWdzXG4gICAgY29uc3QgXG4gICAgICAgIGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKSxcbiAgICAgICAgaXNDYWNoZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICB3YXNDYWNoZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICBoYXNCZWVuUmVuZGVyZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICAvLyB0cmlnZ2VyIGNvbnRyb2xcbiAgICAgICAgdHJpZ2dlckhpc3RvcnlSZWYgPSB1c2VSZWYoe1xuICAgICAgICAgICAgcHJldmlvdXNSZWZlcmVuY2VOYW1lOm51bGwsXG4gICAgICAgIH0pXG5cbiAgICAvLyAgdmlld3BvcnQgZGltZW5zaW9ucyBhbmQgY2FjaGVkIHN0YXRlXG4gICAgY29uc3QgZ2V0Vmlld3BvcnREaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6dmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OnZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgaGVpZ2h0OnZpZXdwb3J0aGVpZ2h0LHdpZHRoOnZpZXdwb3J0d2lkdGggfSA9IGdldFZpZXdwb3J0RGltZW5zaW9ucygpIC8vIHZpZXdwb3J0RGltZW5zaW9uc1xuXG4gICAgLy8gY2FjaGUgdGVzdFxuICAgIC8vIHplcm8gd2lkdGggYW5kIGhlaWdodCBtZWFucyB0aGUgY29tcG9uZW50IG11c3QgYmUgaW4gcG9ydGFsIChjYWNoZSkgc3RhdGVcbiAgICBjb25zdCBcbiAgICAgICAgaXNJblBvcnRhbCA9ICgodmlld3BvcnR3aWR0aCA9PSAwKSAmJiAodmlld3BvcnRoZWlnaHQgPT0gMCkpLFxuICAgICAgICBpc0NhY2hlQ2hhbmdlID0gKGlzSW5Qb3J0YWwgIT0gaXNDYWNoZWRSZWYuY3VycmVudClcblxuICAgIGlmIChpc0NhY2hlQ2hhbmdlKSB7XG4gICAgICAgIHdhc0NhY2hlZFJlZi5jdXJyZW50ID0gaXNDYWNoZWRSZWYuY3VycmVudFxuICAgICAgICBpc0NhY2hlZFJlZi5jdXJyZW50ID0gaXNJblBvcnRhbFxuICAgIH1cblxuICAgIC8vIGNyYWRsZSBzdGF0ZVxuICAgIGNvbnN0IFtjcmFkbGVTdGF0ZSwgc2V0Q3JhZGxlU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJylcbiAgICBjb25zdCBjcmFkbGVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcbiAgICBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID0gY3JhZGxlU3RhdGVcblxuICAgIC8vIGlmICghc2Nyb2xsZXJQcm9wZXJ0aWVzKSB7IC8vIHJvb3Qgc2Nyb2xsZXJcbiAgICAgICAgY29uc29sZS5sb2coJy0tPiBjcmFkbGVTdGF0ZScsJy0nK3Njcm9sbGVySUQrJy0nLCBjcmFkbGVTdGF0ZSlcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tIGluZGV4Jywnficrc2Nyb2xsZXJQcm9wZXJ0aWVzPy5jZWxsRnJhbWVQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaW5kZXgrJ34nKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0gaXRlbUlEJywnKycrc2Nyb2xsZXJQcm9wZXJ0aWVzPy5jZWxsRnJhbWVQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXRlbUlEKycrJylcbiAgICAvLyB9XG5cbiAgICAvLyBjcmFkbGUgc2NhZmZvbGQgZWxlbWVudCByZWZzXG4gICAgY29uc3QgXG4gICAgICAgIGhlYWRDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLFxuICAgICAgICB0YWlsQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSxcbiAgICAgICAgYXhpc0NyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCksXG4gICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSxcbiAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLFxuICAgICAgICAvLyBsYXlvdXQgYnVuZGxlXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmID0gdXNlUmVmKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhlYWRSZWY6aGVhZENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgICAgIHRhaWxSZWY6dGFpbENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgICAgIGF4aXNSZWY6YXhpc0NyYWRsZUVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWY6dHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmOnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsRWxlbWVudFJlZixcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjdWxhdGVkIHByb3BlcnRpZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGNvbmZpZ3VyYXRpb24gY2FsY3VsYXRpb25zXG5cbiAgICAvLyBjcm9zc2NvdW50IChhbHNvIGNhbGN1bGF0ZWQgYnkgU2Nyb2xsYmxvY2sgZm9yIGRlcml2aW5nIFNjcm9sbGJsb2NrIGxlbmd0aClcbiAgICBjb25zdCBjcm9zc2NvdW50ID0gdXNlTWVtbygoKSA9PiB7IC8vIHRoZSBudW1iZXIgb2YgY2VsbHMgY3Jvc3Npbmcgb3JpZW50YXRpb25cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgcmV0dXJuIDBcblxuICAgICAgICBjb25zdCB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgdmlld3BvcnR3aWR0aDpcbiAgICAgICAgICAgICAgICB2aWV3cG9ydGhlaWdodFxuXG4gICAgICAgIC8vIGNyb3NzIGxlbmd0aCBvZiB2aWV3cG9ydCAoZ2FwIHRvIG1hdGNoIGNyb3NzTGVuZ3RoKVxuICAgICAgICBjb25zdCB2aWV3cG9ydGNyb3NzbGVuZ3RoZm9yY2FsYyA9IHZpZXdwb3J0Y3Jvc3NsZW5ndGggLSAocGFkZGluZyAqIDIpICsgZ2FwIFxuXG4gICAgICAgIGNvbnN0IGNlbGxjcm9zc2xlbmd0aCA9IFxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBjZWxsV2lkdGg6XG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCkgXG4gICAgICAgICAgICArIGdhcFxuXG4gICAgICAgIGNvbnN0IGNlbGxjcm9zc2xlbmd0aGZvcmNhbGMgPSBcbiAgICAgICAgICAgIE1hdGgubWluKGNlbGxjcm9zc2xlbmd0aCx2aWV3cG9ydGNyb3NzbGVuZ3RoZm9yY2FsYykgLy8gcmVzdWx0IGNhbm5vdCBiZSBsZXNzIHRoYW4gMVxuXG4gICAgICAgIGNvbnN0IGNyb3NzY291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0Y3Jvc3NsZW5ndGhmb3JjYWxjL2NlbGxjcm9zc2xlbmd0aGZvcmNhbGMpXG5cbiAgICAgICAgcmV0dXJuIGNyb3NzY291bnRcblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcCwgXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgIF0pXG5cbiAgICBjb25zdCBbIGJhc2Vyb3dibGFua3MsIGVuZHJvd2JsYW5rcyBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBpZiAobGlzdHNpemUgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgcG9zaXRpb24gYWRqdXN0bWVudCBmb3IgMFxuICAgICAgICBjb25zdCBlbmRhZGp1c3RtZW50ID1cbiAgICAgICAgICAgIChoaWdoaW5kZXggPCAwKT9cbiAgICAgICAgICAgICAgICAtMTpcbiAgICAgICAgICAgICAgICAxXG5cbiAgICAgICAgLy8gZ2V0IGluaXRpYWwgdmFsdWVzXG4gICAgICAgIGxldCBiYXNlcm93YmxhbmtzID0gTWF0aC5hYnMobG93aW5kZXgpICUgY3Jvc3Njb3VudFxuICAgICAgICBsZXQgZW5kcm93YmxhbmtzID0gKE1hdGguYWJzKGhpZ2hpbmRleCkgKyBlbmRhZGp1c3RtZW50KSAlIGNyb3NzY291bnRcblxuICAgICAgICAvLyB0YWtlIGludmVyc2UgZGVwZW5kaW5nIG9uIGRpcmVjdGlvblxuICAgICAgICBpZiAobG93aW5kZXggPCAwKSB7XG4gICAgICAgICAgICBiYXNlcm93YmxhbmtzID1cbiAgICAgICAgICAgICAgICAoYmFzZXJvd2JsYW5rcyA9PSAwKT8gXG4gICAgICAgICAgICAgICAgMDpcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50IC0gYmFzZXJvd2JsYW5rc1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBlbmRyb3dibGFua3MgPVxuICAgICAgICAgICAgICAgIChlbmRyb3dibGFua3MgPT0gMCk/IFxuICAgICAgICAgICAgICAgIDA6XG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCAtIGVuZHJvd2JsYW5rc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtiYXNlcm93YmxhbmtzLCBlbmRyb3dibGFua3NdXG5cbiAgICB9LFtjcm9zc2NvdW50LCBsaXN0c2l6ZSwgbG93aW5kZXgsIGhpZ2hpbmRleF0pXG5cblxuICAgIC8vIHZhcmlvdXMgcm93IGNvdW50c1xuICAgIGNvbnN0IFtcblxuICAgICAgICBjcmFkbGVSb3djb3VudCwgXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG5cbiAgICBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydExlbmd0aCA9IFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0OlxuICAgICAgICAgICAgICAgIHZpZXdwb3J0d2lkdGhcblxuICAgICAgICBsZXQgYmFzZVJvd0xlbmd0aFxuICAgICAgICBpZiAobGF5b3V0ID09ICd1bmlmb3JtJykge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgYmFzZVJvd0xlbmd0aCA9IGNlbGxIZWlnaHRcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGJhc2VSb3dMZW5ndGggPSBjZWxsV2lkdGhcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIGxheW91dCA9PSAndmFyaWFibGUnXG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICBiYXNlUm93TGVuZ3RoID0gY2VsbE1pbkhlaWdodFxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYmFzZVJvd0xlbmd0aCA9IGNlbGxNaW5XaWR0aFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2VSb3dMZW5ndGggKz0gZ2FwXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRSb3djb3VudCA9IE1hdGguY2VpbCh2aWV3cG9ydExlbmd0aC9iYXNlUm93TGVuZ3RoKVxuXG4gICAgICAgIGNvbnN0IGxpc3RSb3djb3VudCA9IFxuICAgICAgICAgICAgbGlzdHNpemUgPT0gMD9cbiAgICAgICAgICAgIDA6XG4gICAgICAgICAgICBNYXRoLmNlaWwoKGxpc3RzaXplICsgYmFzZXJvd2JsYW5rcyArIGVuZHJvd2JsYW5rcykvY3Jvc3Njb3VudClcblxuICAgICAgICBjb25zdCBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQgPSB2aWV3cG9ydFJvd2NvdW50ICsgKHJ1bndheVNpemUgKiAyKVxuXG4gICAgICAgIGxldCBjcmFkbGVSb3djb3VudCA9IE1hdGgubWluKGxpc3RSb3djb3VudCwgY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50KVxuXG4gICAgICAgIGxldCBydW53YXlSb3djb3VudFxuICAgICAgICBpZiAoY3JhZGxlUm93Y291bnQgPT0gY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50KSB7XG5cbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50ID0gcnVud2F5U2l6ZVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIGNyYWRsZVJvd2NvdW50IGlzIGxlc3MgdGhhbiBjYWxjdWxhdGVkQ3JhZGxlUm93Q291bnRcblxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IChjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQgLSBjcmFkbGVSb3djb3VudClcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50ID0gcnVud2F5U2l6ZSAtIE1hdGguZmxvb3IoZGlmZi8yKVxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgPSBNYXRoLm1heCgwLHJ1bndheVJvd2NvdW50KVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXRlbWNvdW50ID0gY3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50XG4gICAgICAgIGlmIChpdGVtY291bnQgPiBsaXN0c2l6ZSkge1xuXG4gICAgICAgICAgICBpdGVtY291bnQgPSBsaXN0c2l6ZVxuICAgICAgICAgICAgY3JhZGxlUm93Y291bnQgPSBNYXRoLmNlaWwoKGl0ZW1jb3VudCArIGJhc2Vyb3dibGFua3MgKyBlbmRyb3dibGFua3MpL2Nyb3NzY291bnQpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCwgXG4gICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50LCBcbiAgICAgICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgICAgICBdXG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBnYXAsIFxuICAgICAgICAvLyBwYWRkaW5nLFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsTWluV2lkdGgsXG4gICAgICAgIGNlbGxNaW5IZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydGhlaWdodCwgXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG5cbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGJhc2Vyb3dibGFua3MsIFxuICAgICAgICBlbmRyb3dibGFua3MsXG4gICAgICAgIHJ1bndheVNpemUsXG4gICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgIGxheW91dCxcbiAgICBdKVxuXG4gICAgY29uc3QgcmFuZ2Vyb3dzaGlmdCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIHJldHVybiBsaXN0c2l6ZSA9PSAwP1xuICAgICAgICAgICAgdW5kZWZpbmVkOlxuICAgICAgICAgICAgTWF0aC5mbG9vcihsb3dpbmRleC9jcm9zc2NvdW50KVxuXG4gICAgfSxbY3Jvc3Njb3VudCxsb3dpbmRleCwgbGlzdHNpemVdKVxuXG4gICAgY29uc3QgdmlydHVhbExpc3RQcm9wcyA9IFxuICAgICAgICB7XG5cbiAgICAgICAgICAgIC4uLnZpcnR1YWxMaXN0U3BlY3MsXG4gICAgICAgICAgICBiYXNlcm93YmxhbmtzLFxuICAgICAgICAgICAgZW5kcm93YmxhbmtzLFxuICAgICAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgICAgIHJvd2NvdW50Omxpc3RSb3djb3VudCxcbiAgICAgICAgICAgIHJvd3NoaWZ0OnJhbmdlcm93c2hpZnQsXG5cbiAgICAgICAgfVxuXG4gICAgY29uc3QgY3JhZGxlQ29udGVudFByb3BzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgIHJ1bndheVJvd2NvdW50LFxuICAgICAgICBTT0w6dW5kZWZpbmVkLCAvLyBzdGFydCBvZiBsaXN0XG4gICAgICAgIEVPTDp1bmRlZmluZWQsIC8vIGVuZCBvZiBsaXN0XG4gICAgICAgIGxvd2luZGV4OnVuZGVmaW5lZCxcbiAgICAgICAgaGlnaGluZGV4OnVuZGVmaW5lZCxcbiAgICAgICAgc2l6ZTowLFxuICAgICB9KVxuXG4gICAgIGNvbnN0IGNyYWRsZUNvbnRlbnRQcm9wcyA9IGNyYWRsZUNvbnRlbnRQcm9wc1JlZi5jdXJyZW50XG4gICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLCBcbiAgICAgICAgIHtcbiAgICAgICAgICAgICBjcmFkbGVSb3djb3VudDpjcmFkbGVSb3djb3VudCxcbiAgICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50OnZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgICAgICAgcnVud2F5Um93Y291bnQ6cnVud2F5Um93Y291bnQsXG4gICAgICAgICB9XG4gICAgIClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGxiYWNrcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gaG9zdCBjYWxsYmFja3MsIHVwYWNrZWQgYnkgc2VydmljZUhhbmRsZXJcbiAgICBjb25zdCBleHRlcm5hbENhbGxiYWNrc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXhDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5yZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICAgcmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5yZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrLFxuICAgICAgICAgICAgcmVwb3NpdGlvbmluZ0luZGV4Q2FsbGJhY2s6dXNlckNhbGxiYWNrcz8ucmVwb3NpdGlvbmluZ0luZGV4Q2FsbGJhY2ssXG4gICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5wcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5kZWxldGVMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgICBjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrOnVzZXJDYWxsYmFja3M/LmNoYW5nZUxpc3RTaXplQ2FsbGJhY2ssXG4gICAgICAgICAgICBjaGFuZ2VMaXN0UmFuZ2VDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5jaGFuZ2VMaXN0UmFuZ2VDYWxsYmFjayxcbiAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5pdGVtRXhjZXB0aW9uQ2FsbGJhY2ssXG4gICAgICAgIH1cbiAgICApXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLVsgYnVuZGxlIHByb3BlcnRpZXMgZm9yIGhhbmRsZXJzIF0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBidW5kbGUgYWxsIGNyYWRsZSBwcm9wcyB0byBwYXNzIHRvIGhhbmRsZXJzIC0gdWx0aW1hdGVseSBjcmFkbGVQYXJhbWV0ZXJzUmVmXG5cbiAgICBjb25zdCBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpIC8vIGFjY2VzcyBieSBjbG9zdXJlcyBhbmQgc3VwcG9ydCBjYWxsYmFja3NcbiAgICAvLyB1cCB0byBkYXRlIHZhbHVlc1xuICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCA9IHtcbiAgICAgICAgLy8gZ3JpZFNwZWNzXG4gICAgICAgIG9yaWVudGF0aW9uLCBnYXAsIHBhZGRpbmcsIGxheW91dCxcbiAgICAgICAgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBjZWxsTWluSGVpZ2h0LCBjZWxsTWluV2lkdGgsXG4gICAgICAgIC8vIC4uLnJlc3RcbiAgICAgICAgY2FjaGUsIGNhY2hlTWF4LFxuICAgICAgICBzdGFydGluZ0luZGV4LCBcbiAgICAgICAgcnVud2F5U2l6ZSxcbiAgICAgICAgZ2V0SXRlbSwgXG4gICAgICAgIHBsYWNlaG9sZGVyLCBwbGFjZWhvbGRlck1lc3NhZ2VzLCB1c2VQbGFjZWhvbGRlcixcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgIC8vIG9iamVjdHNcbiAgICAgICAgdXNlckNhbGxiYWNrcywgc3R5bGVzLCBjYWNoZUFQSSxcbiAgICAgICAgLy8gY29udHJvbCB2YWx1ZXNcbiAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULCBNQVhfQ0FDSEVfT1ZFUl9SVU4sIFxuICAgICAgICBzY3JvbGxlclByb3BlcnRpZXMsXG5cbiAgICB9XG5cbiAgICBjb25zdCBzY3JvbGxlclByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICAvLyBwYXNzZWQgdG8gY2VsbEZyYW1lIGNvbnRlbnQgKHVzZXIgY29udGVudCkgaWYgcmVxdWVzdGVkXG4gICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLCBnYXAsIHBhZGRpbmcsIGxheW91dCxcbiAgICAgICAgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBjZWxsTWluSGVpZ2h0LCBjZWxsTWluV2lkdGgsXG4gICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wcyxcbiAgICAgICAgY2FjaGUsXG4gICAgICAgIGNhY2hlTWF4LFxuICAgICAgICBzdGFydGluZ0luZGV4LFxuICAgICAgICBzY3JvbGxlcklELFxuICAgIH1cblxuICAgIC8vIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyB0byBzaGFyZSB3aXRoIGhhbmRsZXJzXG4gICAgY29uc3QgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG5cbiAgICAgICAgLy8gdXBkYXRlZCB2YWx1ZXNcbiAgICAgICAgdmlydHVhbExpc3RQcm9wcyxcbiAgICAgICAgc2V0VmlydHVhbExpc3RTaXplLFxuICAgICAgICBzZXRWaXJ0dWFsTGlzdFJhbmdlLFxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wczpjcmFkbGVDb250ZW50UHJvcHNSZWYuY3VycmVudCxcbiAgICAgICAgXG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgdmFsdWVzIGFyZSBtYWludGFpbmVkIGVsc2V3aGVyZVxuICAgICAgICBpc01vdW50ZWRSZWYsXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmLFxuICAgICAgICBpc0NhY2hlZFJlZixcbiAgICAgICAgd2FzQ2FjaGVkUmVmLFxuICAgICAgICB0cmlnZ2VySGlzdG9yeVJlZixcblxuICAgICAgICAvLyBmb3Igc3RhdGVIYW5kbGVyXG4gICAgICAgIGNyYWRsZVN0YXRlUmVmLFxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSxcbiAgICB9XG5cbiAgICAvLyBwbGFjZWhvbGRlciBpbiBjcmFkbGVQYXJhbWV0ZXJzIHRvIG1ha2UgYXZhaWxhYmxlIGluZGl2aWR1YWwgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVyc1JlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gY3JhZGxlIHBhcmFtZXRlcnMgTUFTVEVSIEJVTkRMRVxuICAgIGNvbnN0IGNyYWRsZVBhcmFtZXRlcnMgPSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLFxuICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLFxuICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLCBcbiAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLFxuICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYsIFxuICAgICAgICBleHRlcm5hbENhbGxiYWNrc1JlZixcbiAgICB9XG5cbiAgICBjb25zdCBjcmFkbGVQYXJhbWV0ZXJzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY3JhZGxlUGFyYW1ldGVyc1JlZi5jdXJyZW50ID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgLy8gb25nb2luZyBzb3VyY2Ugb2YgaGFuZGxlcnMgLSBub3RlIGFsbCBIYW5kbGVycyBhcmUgZ2l2ZW4gYWxsIHBhcmFtZXRlcnMgKGNyYWRsZVBhcmFtZXRlcnMpXG4gICAgaWYgKCFoYW5kbGVyc1JlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgaGFuZGxlcnNSZWYuY3VycmVudCA9IGdldENyYWRsZUhhbmRsZXJzKGNyYWRsZVBhcmFtZXRlcnMpXG5cbiAgICB9XG5cbiAgICAvLyBtYWtlIGhhbmRsZXJzIGRpcmVjdGx5IGF2YWlsYWJsZSB0byBjcmFkbGUgY29kZSBiZWxvd1xuICAgIGNvbnN0IHsgLy8gY2FjaGVBUEkgYWxyZWFkeSBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgc2Nyb2xsSGFuZGxlcixcbiAgICAgICAgLy8gc3RhdGVIYW5kbGVyLCAvLyBub3QgdXNlZFxuICAgICAgICBjb250ZW50SGFuZGxlcixcbiAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgIHN0eWxlc0hhbmRsZXIsXG4gICAgfSA9IGhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09WyBJTlRFUkNFUFQgQ0FDSElORyBTVEFURSBDSEFOR0UgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogICAgXG4gICAgSW50ZXJjZXB0IGNoYW5nZSBpbiBjYWNoaW5nIHN0YXR1czpcbiAgICB3aGVuIGEgY29tcG9uZW50IGlzIGNhY2hlZCBpbiBhIHBvcnRhbCAoaW4gdGhlIFJlYWN0IHZpcnR1YWwgRE9NKSwgaW5jbHVkaW5nIHRoZSB0cmFuc2l0aW9uIG9mIFxuICAgIGJlaW5nIG1vdmVkIGZyb20gb25lIGNlbGxGcmFtZSB0byBhbm90aGVyIHdoZW4gY3Jvc3NpbmcgdGhlIENyYWRsZSBheGlzLCBcbiAgICB0aGUgc2Nyb2xsUG9zIChzY3JvbGxMZWZ0IG9yIHNjcm9sbFRvcCkgaXMgcmVzZXQgdG8gMCAoemVybykuIFdoZW4gdGhlIHNjcm9sbGVyIGlzIFxuICAgIG1vdmVkIHRvIGEgY2VsbEZyYW1lLCB0aGlzIGNvZGUgdHJpZ2dlcnMgcmVzdG9yYXRpb24gdGhlIHNjcm9sbFBvcyAoc2VlIGNhc2UgJ3BhcmVudGluZ3RyYW5zaXRpb24nXG4gICAgaW4gdGhlIHN0YXRlIG1hbmFnZW1lbnQgc2VjdGlvbiBiZWxvdykuXG5cbiAgICBUaGlzIHN1cHBvcnRzIEluZmluaXRlR3JpZFNjcm9sbGVyIGNvbXBvbmVudHMgdG8gYmUgY2FjaGVkIGFzIGNvbnRlbnQuXG5cbiAgICBUaGUgcmVzdG9yZSBzY3JvbGxQb3MgYWN0aW9uIG11c3QgYmUgdGhlIGZpcnN0IHByaW9yaXR5IHRvIGhpZGUgdGhlc2Ugc2Nyb2xsUG9zIGFkanVzdG1lbnRzXG4gICAgZnJvbSB0aGUgdXNlci5cbiovXG4gICAgXG4gICAgY29uc3QgcmVzdG9yZVNjcm9sbFBvcyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuXG4gICAgICAgIGNvbnN0IGJsb2NrU2Nyb2xsUG9zID0gY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zXG4gICAgICAgIGNvbnN0IGJsb2NrWFNjcm9sbFBvcyA9IGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1hTY3JvbGxQb3NcbiAgICAgICAgaWYgKGJsb2NrU2Nyb2xsUG9zICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50W2NyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9IGJsb2NrU2Nyb2xsUG9zXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnRbY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrWFNjcm9sbFByb3BlcnR5XSA9IGJsb2NrWFNjcm9sbFBvc1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlmIChpc0NhY2hlQ2hhbmdlICYmICFpc0NhY2hlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgcmVzdG9yZVNjcm9sbFBvcygpICAgICAgICBcblxuICAgIH1cblxuICAgIC8vIGNoYW5nZSBzdGF0ZSBmb3IgZW50ZXJpbmcgb3IgbGVhdmluZyBjYWNoZVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVybiAvLyBub3RoaW5nIHRvIGRvXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQgJiYgIXdhc0NhY2hlZFJlZi5jdXJyZW50KSB7IC8vIGludG8gY2FjaGVcblxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NhY2hlZCcpXG5cbiAgICAgICAgfSBlbHNlIGlmICghaXNDYWNoZWRSZWYuY3VycmVudCAmJiB3YXNDYWNoZWRSZWYuY3VycmVudCkgeyAvLyBvdXQgb2YgY2FjaGVcblxuICAgICAgICAgICAgd2FzQ2FjaGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgICAgICBpZiAoaGFzQmVlblJlbmRlcmVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZXJlbmRlcmZyb21jYWNoZScpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmlyc3RyZW5kZXJmcm9tY2FjaGUnKVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbaXNDYWNoZWRSZWYuY3VycmVudCwgd2FzQ2FjaGVkUmVmLmN1cnJlbnRdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PVsgSU5JVElBTElaQVRJT04gZWZmZWN0cyBdPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIGluaXRpYWxpemF0aW9uIGVmZmVjdHMgYXJlIGluZGVwZW5kZW50IG9mIGNhY2hpbmdcblxuICAgIC8vIGNsZWFyIG1vdW50ZWQgZmxhZyBvbiB1bm1vdW50XG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvL3NlbmQgY2FsbC1pbiBmdW5jdGlvbnMgdG8gaG9zdFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmICghdXNlckNhbGxiYWNrcy5mdW5jdGlvbnNDYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qge1xuXG4gICAgICAgICAgICBzY3JvbGxUb0luZGV4LCBcbiAgICAgICAgICAgIHJlbG9hZCwgXG4gICAgICAgICAgICBzZXRMaXN0c2l6ZSwgLy8gZGVwcmVjYXRlZFxuICAgICAgICAgICAgc2V0TGlzdFNpemUsXG4gICAgICAgICAgICBzZXRMaXN0UmFuZ2UsXG4gICAgICAgICAgICBwcmVwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgICAgIGFwcGVuZEluZGV4Q291bnQsXG4gICAgICAgICAgICBjbGVhckNhY2hlLCBcblxuICAgICAgICAgICAgZ2V0Q2FjaGVJbmRleE1hcCwgXG4gICAgICAgICAgICBnZXRDYWNoZUl0ZW1NYXAsXG4gICAgICAgICAgICBnZXRDcmFkbGVJbmRleE1hcCxcbiAgICAgICAgICAgIGdldFByb3BlcnRpZXNTbmFwc2hvdCxcblxuICAgICAgICAgICAgcmVtYXBJbmRleGVzLFxuICAgICAgICAgICAgbW92ZUluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0SW5kZXgsXG4gICAgICAgICAgICByZW1vdmVJbmRleCxcblxuICAgICAgICB9ID0gc2VydmljZUhhbmRsZXJcblxuICAgICAgICBjb25zdCBmdW5jdGlvbnMgPSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFRvSW5kZXgsXG4gICAgICAgICAgICByZWxvYWQsXG4gICAgICAgICAgICBzZXRMaXN0c2l6ZSwgLy8gZGVwcmVjYXRlZFxuICAgICAgICAgICAgc2V0TGlzdFNpemUsXG4gICAgICAgICAgICBzZXRMaXN0UmFuZ2UsXG4gICAgICAgICAgICBwcmVwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgICAgIGFwcGVuZEluZGV4Q291bnQsXG4gICAgICAgICAgICBjbGVhckNhY2hlLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBnZXRDYWNoZUluZGV4TWFwLFxuICAgICAgICAgICAgZ2V0Q2FjaGVJdGVtTWFwLFxuICAgICAgICAgICAgZ2V0Q3JhZGxlSW5kZXhNYXAsXG4gICAgICAgICAgICBnZXRQcm9wZXJ0aWVzU25hcHNob3QsXG5cbiAgICAgICAgICAgIHJlbWFwSW5kZXhlcyxcbiAgICAgICAgICAgIG1vdmVJbmRleCxcbiAgICAgICAgICAgIGluc2VydEluZGV4LFxuICAgICAgICAgICAgcmVtb3ZlSW5kZXgsXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHVzZXJDYWxsYmFja3MuZnVuY3Rpb25zQ2FsbGJhY2soZnVuY3Rpb25zKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGluaXRpYWxpemUgd2luZG93IHNjcm9sbCBsaXN0ZW5lcnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2Nyb2xsSGFuZGxlci5vblNjcm9sbClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgJiYgXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2Nyb2xsSGFuZGxlci5vblNjcm9sbClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gaU9TIFNhZmFyaSByZXF1aXJlcyBzcGVjaWFsIGhhbmRsaW5nIC0gaXQgaWdub3JlcyBhc3NpZ25tZW50cyB0byBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGxheW91dCB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCFpc1NhZmFyaUlPUygpIHx8IChsYXlvdXQgPT0gJ3VuaWZvcm0nKSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLmlPU29uU2Nyb2xsKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCAmJiBcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLmlPU29uU2Nyb2xsKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyBvYnNlcnZlciBzdXBwb3J0XG4gICAgLypcbiAgICAgICAgVGhlcmUgYXJlIHR3byBpbnRlcmVjdGlvbiBvYnNlcnZlcnM6IG9uZSBmb3IgdGhlIHR3byBjcmFkbGUgZ3JpZHMsIGFuZCBhbm90aGVyIGZvciB0cmlnZ2VybGluZXM7IFxuICAgICAgICAgICAgYm90aCBhZ2FpbnN0IHRoZSB2aWV3cG9ydC5cbiAgICAqLyAgICBcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjcmFkbGVJbnRlcnNlY3QsXG4gICAgICAgICAgICB0cmlnZ2VybGluZXNJbnRlcnNlY3QsXG4gICAgICAgIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBjcmFkbGUgYm9keVxuICAgICAgICAvLyB0aGlzIHNldHMgdXAgYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb2YgdGhlIGNyYWRsZSBhZ2FpbnN0IHRoZSB2aWV3cG9ydC4gV2hlbiB0aGVcbiAgICAgICAgLy8gY3JhZGxlIGdvZXMgb3V0IG9mIHRoZSBvYnNlcnZlciBzY29wZSwgdGhlICdyZXBvc2l0aW9uaW5nUmVuZGVyJyBjcmFkbGUgc3RhdGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICBjb25zdCBjcmFkbGVpbnRlcnNlY3RvYnNlcnZlciA9IGNyYWRsZUludGVyc2VjdC5jcmVhdGVPYnNlcnZlcigpXG4gICAgICAgIGNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIC8vIHRyaWdnZXJvYnNlcnZlciB0cmlnZ2VycyBjcmFkbGUgY29udGVudCB1cGRhdGVzIFxuICAgICAgICAvLyAgICAgd2hlbiB0cmlnZ2VybGluZXMgcGFzcyB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgLy8gZGVmZXIgY29ubmVjdEVsZW1lbnRzIHVudGlsIHRyaWdnZXJjZWxsIHRyaWdnZXJsaW5lcyBoYXZlIGJlZW4gYXNzaWduZWRcbiAgICAgICAgY29uc3QgdHJpZ2dlcm9ic2VydmVyID0gdHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNyZWF0ZU9ic2VydmVyKClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBjcmFkbGVpbnRlcnNlY3RvYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRyaWdnZXJvYnNlcnZlci5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBSRUNPTkZJR1VSQVRJT04gZWZmZWN0cyBdPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIGNoYW5nZSBsaXN0c2l6ZSwgY2FjaGluZywgcmVzaXplIChVSSByZXNpemUgb2YgdGhlIHZpZXdwb3J0KSwgcmVjb25maWd1cmUsIG9yIHBpdm90XG5cbiAgICAvLyBpbmVybmFsIGNhbGxiYWNrOiB0aGUgbmV3IGxpc3Qgc2l6ZSB3aWxsIGFsd2F5cyBiZSBsZXNzIHRoYW4gY3VycmVudCBsaXN0c2l6ZVxuICAgIC8vIGludm9rZWQgaWYgZ2V0SXRlbSByZXR1cm5zIG51bGxcbiAgICBjb25zdCBudWxsSXRlbVNldE1heExpc3RzaXplID0gdXNlQ2FsbGJhY2soKG1heExpc3RzaXplKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RzaXplID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQudmlydHVhbExpc3RQcm9wcy5zaXplXG5cbiAgICAgICAgaWYgKG1heExpc3RzaXplIDwgbGlzdHNpemUpIHtcblxuICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2ssIGNoYW5nZUxpc3RTaXplQ2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygnZ2V0SXRlbSByZXR1cm5lZCBudWxsJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnVwZGF0ZVZpcnR1YWxMaXN0U2l6ZShtYXhMaXN0c2l6ZSlcbiAgICAgICAgICAgIGNhY2hlQVBJLmNoYW5nZUNhY2hlTGlzdFNpemUobWF4TGlzdHNpemUsIFxuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgY2hhbmdlTGlzdFNpemVDYWxsYmFjaylcblxuICAgICAgICB9XG4gICAgfSxbXSlcblxuICAgIC8vIGNhY2hpbmcgY2hhbmdlXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuXG4gICAgICAgIGlmIChjYWNoZSA9PSAncHJlbG9hZCcpIHtcblxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cHJlbG9hZCcpXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBzd2l0Y2ggKGNhY2hlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2tlZXBsb2FkJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGV0ZUxpc3RDYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygncGFyZSBjYWNoZSB0byBjYWNoZU1heCcsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlTWF4IH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlQVBJLnBhcmVDYWNoZVRvTWF4KGNhY2hlTWF4LCBtb2RlbEluZGV4TGlzdCwgZExpc3RDYWxsYmFjaykpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjaGFuZ2VjYWNoaW5nJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NyYWRsZSc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsSW5kZXhMaXN0ID0gY29udGVudEhhbmRsZXIuZ2V0TW9kZWxJbmRleExpc3QoKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlTGlzdENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ21hdGNoIGNhY2hlIHRvIGNyYWRsZScsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVBUEkubWF0Y2hDYWNoZVRvQ3JhZGxlKG1vZGVsSW5kZXhMaXN0LCBkTGlzdENhbGxiYWNrKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjaGFuZ2VjYWNoaW5nJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbY2FjaGUsIGNhY2hlTWF4XSlcblxuICAgIC8vIHRyaWdnZXIgdmlld3BvcnRyZXNpemluZyByZXNwb25zZSBiYXNlZCBvbiB2aWV3cG9ydCBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIC8vIG1vdmVtZW50IHRvIGFuZCBmcm9tIGNhY2hlIGlzIGluZGVwZW5kZW50IG9mIHVpIHZpZXdwb3J0cmVzaXppbmdcbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQgfHwgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcpICYmIFxuICAgICAgICAgICAgICAgIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICd2aWV3cG9ydHJlc2l6aW5nJykpIHtcblxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuIFxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ZpZXdwb3J0cmVzaXppbmcnKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21wbGV0ZSB2aWV3cG9ydHJlc2l6aW5nIG1vZGVcbiAgICAgICAgaWYgKCFWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyAmJiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAndmlld3BvcnRyZXNpemluZycpKSB7XG5cbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2h2aWV3cG9ydHJlc2l6ZScpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmddKVxuXG4gICAgLy8gcmVjb25maWd1cmUgZm9yIGNoYW5nZWQgc2l6ZSBwYXJhbWV0ZXJzXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVjb25maWd1cmUnKVxuXG4gICAgfSxbXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBydW53YXlTaXplLFxuICAgIF0pXG5cbiAgICB1c2VFZmZlY3QoKCk9PnsgLy8gY2hhbmdlIG9mIGxpc3QgcmFuZ2VcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgcmV0dXJuIC8vIFRPRE86ID8/XG5cbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuXG4gICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWNvbmZpZ3VyZWZvcmxpc3RyYW5nZScpXG5cbiAgICB9LFtcbiAgICAgICAgbG93aW5kZXgsXG4gICAgICAgIGhpZ2hpbmRleCxcbiAgICBdKVxuXG4gICAgLy8gYSBuZXcgZ2V0SXRlbSBmdW5jdGlvbiBpbXBsaWVzIHRoZSBuZWVkIHRvIHJlbG9hZFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuXG4gICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWxvYWQnKVxuXG4gICAgfSxbZ2V0SXRlbV0pXG5cbiAgICAvLyBwaXZvdCB0cmlnZ2VyZWQgb24gY2hhbmdlIG9mIG9yaWVudGF0aW9uXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuXG4gICAgICAgIGxheW91dEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUHJvcGVydHkgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSBcInZlcnRpY2FsXCIpP1xuICAgICAgICAgICAgICAgIFwic2Nyb2xsVG9wXCI6XG4gICAgICAgICAgICAgICAgXCJzY3JvbGxMZWZ0XCJcblxuICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1hTY3JvbGxQcm9wZXJ0eSA9IFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09IFwiaG9yaXpvbnRhbFwiKT9cbiAgICAgICAgICAgICAgICBcInNjcm9sbFRvcFwiOlxuICAgICAgICAgICAgICAgIFwic2Nyb2xsTGVmdFwiXG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykge1xuICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgPSAwXG4gICAgICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1hTY3JvbGxQb3MgPSAwXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuICAgICAgICAvLyBpbnRlcnJ1cHRIYW5kbGVyLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5kaXNjb25uZWN0KClcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBjYWNoZUFQSS5tZWFzdXJlTWVtb3J5KCdwaXZvdCBjYWNoZWQnKVxuICAgICAgICAgICAgLy8gaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKSAvLyBzdXBwcmVzcyB0cmlnZ2VybGluZSBjYWxsYmFja3M7IHdpbGwgcmVuZGVyIGZvciBmaXJzdCByZW5kZXIgZnJvbSBjYWNoZVxuICAgICAgICAgICAgaGFzQmVlblJlbmRlcmVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWNoZUFQSS5tZWFzdXJlTWVtb3J5KCdwaXZvdCcpXG5cbiAgICAgICAgY29uc3QgeyBsYXlvdXQsIGdhcCB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBsYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcblxuICAgICAgICAgICAgY29uc3QgeyBcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIC8vIGdldCBwcmV2aW91cyByYXRpb1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgKyBnYXBcblxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNBeGlzT2Zmc2V0ID0gbGF5b3V0SGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcblxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNyYXRpbyA9IHByZXZpb3VzQXhpc09mZnNldC9wcmV2aW91c0NlbGxQaXhlbExlbmd0aFxuXG4gICAgICAgICAgICBjb25zdCBwaXZvdENlbGxQaXhlbExlbmd0aCA9IFxuICAgICAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aClcbiAgICAgICAgICAgICAgICArIGdhcFxuXG4gICAgICAgICAgICBjb25zdCBwaXZvdEF4aXNPZmZzZXQgPSBwcmV2aW91c3JhdGlvICogcGl2b3RDZWxsUGl4ZWxMZW5ndGhcblxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gTWF0aC5yb3VuZChwaXZvdEF4aXNPZmZzZXQpXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gZ2FwXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldENyYWRsZVN0YXRlKCdwaXZvdCcpXG5cbiAgICB9LFtvcmllbnRhdGlvbl0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFNUWUxFUyBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBzdHlsZXMgZm9yIHRoZSBzaXggc2NhZmZvbGQgY29tcG9uZW50c1xuICAgIGNvbnN0IFtcbiAgICAgICAgY3JhZGxlSGVhZFN0eWxlLFxuICAgICAgICBjcmFkbGVUYWlsU3R5bGUsXG4gICAgICAgIGNyYWRsZUF4aXNTdHlsZSxcbiAgICAgICAgY3JhZGxlRGl2aWRlclN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlLFxuICAgIF0gPSB1c2VNZW1vKCgpPT4ge1xuXG4gICAgICAgIHJldHVybiBzdHlsZXNIYW5kbGVyLmdldENyYWRsZVN0eWxlcyh7XG5cbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgICAgICBjZWxsTWluV2lkdGgsXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgdXNlcnN0eWxlczpzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgICAgIGxheW91dCxcblxuICAgICAgICB9KVxuXG4gICAgfSxbXG5cbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBsYXlvdXQsXG5cbiAgICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFNUQVRFIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBjb3JlIHN0YXRlIGVuZ2luZSAoYWJvdXQgMzIgc3RhdGVzKSwgdXNpbmcgbmFtZWQgc3RhdGVzXG4gICAgLy8gdXNlTGF5b3V0RWZmZWN0IGZvciBzdXBwcmVzc2luZyBmbGFzaGVzXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVsgcHJlY3Vyc29ycyB0byBzZXRDcmFkbGVDb250ZW50IF0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIHRoZXNlIGFyZSBhbGwgd29ya2Zsb3cgcmVsYXRlZCwgYnV0XG4gICAgICAgICAgICAvLyByZXNpemUgY291bGQgYmUgYXN5bmNocm9ub3VzIHdoZW4gcm90YXRpbmcgcGhvbmUgZHVyaW5nIHNjcm9sbCBpbnRlcnRpYVxuXG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHsgLy8gY3ljbGUgdG8gYWxsb3cgZm9yIHJlZiBhc3NpZ25tZW50c1xuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudC5jYWNoZSAhPSAncHJlbG9hZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjYWNoZWQnKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpcnN0cmVuZGVyJykgLy8gbG9hZCBncmlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd2aWV3cG9ydHJlc2l6aW5nJzoge1xuXG4gICAgICAgICAgICAgICAgLy8gbm8tb3AsIHdhaXQgZm9yIHJlc2l6aW5nIHRvIGVuZFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0cHJlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ2FsbGJhY2sgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBkTGlzdENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrKCdwYXJlIGNhY2hlIHRvIGNhY2hlTWF4JyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUFQSS5wYXJlQ2FjaGVUb01heChjYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGRMaXN0Q2FsbGJhY2spKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NhY2hlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hwcmVsb2FkJylcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJylcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5wcmVsb2FkKGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjYWNoZWQnOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXdhc0NhY2hlZFJlZi5jdXJyZW50ICYmICFpc0NhY2hlZFJlZi5jdXJyZW50KXtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQmVlblJlbmRlcmVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlcmVuZGVyZnJvbWNhY2hlJylcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmlyc3RyZW5kZXJmcm9tY2FjaGUnKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB3YWl0IGZvciByZXBhcmVudGluZ1xuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnRyZXBvc2l0aW9uJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAvLyBhdm9pZCByZWN1cnNpdmUgY3JhZGxlIGludGVyc2VjdGlvbiBpbnRlcnJ1cHRzXG4gICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gZmFsc2UgLy8gYmVjYXVzZSBub3cgdW5kZXJ3YXlcblxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxIYW5kbGVyLmlzU2Nyb2xsaW5nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge2xvd2luZGV4LCBzaXplOmxpc3RzaXplIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LnNjcm9sbFRyYWNrZXJBUElSZWYuY3VycmVudC5zdGFydFJlcG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24sIFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93aW5kZXgsIGxpc3RzaXplXG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ1JlbmRlcicpIC8vIHRvZ2dsZXMgd2l0aCByZXBvc2l0aW9uaW5nQ29udGludWF0aW9uXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgc2V0Q3JhZGxlQ29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgdGhlIGZvbGxvd2luZyAxMiBjcmFkbGUgc3RhdGVzIGFsbCByZXNvbHZlIHdpdGhcbiAgICAgICAgICAgICAgICBhIGNoYWluIHN0YXJ0aW5nIHdpdGggc2V0Q3JhZGxlQ29udGVudCwgXG4gICAgICAgICAgICAgICAgY29udGludWluZyB3aXRoICdwcmVwYXJlcmVuZGVyJywgYW5kIGVuZGluZyB3aXRoXG4gICAgICAgICAgICAgICAgJ3Jlc3RvcmVpbnRlcnJ1cHRzJywgd2l0aCBhIGRldG91ciBmb3IgdmFyaWFibGUgbGF5b3V0IFxuICAgICAgICAgICAgICAgIHRvIHJlY29uZmlndXJlIHRoZSBzY3JvbGxibG9ja1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ2ZpcnN0cmVuZGVyJzpcbiAgICAgICAgICAgIGNhc2UgJ2ZpcnN0cmVuZGVyZnJvbWNhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlcmVuZGVyZnJvbWNhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbHRvJzpcbiAgICAgICAgICAgIGNhc2UgJ2NoYW5nZWNhY2hpbmcnOlxuICAgICAgICAgICAgY2FzZSAnZmluaXNocHJlbG9hZCc6XG4gICAgICAgICAgICBjYXNlICdmaW5pc2hyZXBvc2l0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaHZpZXdwb3J0cmVzaXplJzpcbiAgICAgICAgICAgIGNhc2UgJ3Bpdm90JzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlZm9ybGlzdHJhbmdlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybiAvLyBwb3NzaWJsZSBhc3luYyBsYXRlbmN5IHdpdGggbmVzdGVkIHNjcm9sbGVyc1xuXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci50cmlnZ2VybGluZXNJbnRlcnNlY3QuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMgPSBbXVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBsYXlvdXQgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJydXB0SGFuZGxlci50cmlnZ2VybGluZXNJbnRlcnNlY3QuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJydXB0SGFuZGxlci5jcmFkbGVJbnRlcnNlY3QuZGlzY29ubmVjdCgpXG5cbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0ID09ICd2YXJpYWJsZScpIHsgLy8gcmVzdG9yZSBiYXNlIGNvbmZpZyB0byBzY3JvbGxibG9ja1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgZG9uZSBmb3IgcmVwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAoY3JhZGxlU3RhdGUgIT0gJ2ZpbmlzaHJlcG9zaXRpb24nKSAmJiBsYXlvdXRIYW5kbGVyLnJlc3RvcmVCYXNlU2Nyb2xsYmxvY2tDb25maWcoKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdyZWxvYWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLmNsZWFyQ2FjaGUoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjcmFkbGVTdGF0ZSA9PSAnZmluaXNocmVwb3NpdGlvbicpIHtcblxuICAgICAgICAgICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuc2Nyb2xsVHJhY2tlckFQSVJlZi5jdXJyZW50LmZpbmlzaFJlcG9zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxIYW5kbGVyLmNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEoJ2ZpbmlzaHJlcG9zaXRpb24nKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0c2l6ZSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LnZpcnR1YWxMaXN0UHJvcHMuc2l6ZVxuICAgICAgICAgICAgICAgIC8vIHNldCBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RzaXplKSBjb250ZW50SGFuZGxlci5zZXRDcmFkbGVDb250ZW50KCBjcmFkbGVTdGF0ZSApXG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgIT0gJ2ZpbmlzaHByZWxvYWQnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaGFzQmVlblJlbmRlcmVkUmVmLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHN5bmNocm9uaXplIGNhY2hlIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2FjaGUgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGlmIChjYWNoZSA9PSAnY3JhZGxlJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsSW5kZXhMaXN0ID0gY29udGVudEhhbmRsZXIuZ2V0TW9kZWxJbmRleExpc3QoKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVsZXRlTGlzdENhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlTGlzdENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkTGlzdENhbGxiYWNrID0gKGRlbGV0ZUxpc3QpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygnbWF0Y2ggY2FjaGUgdG8gY3JhZGxlJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUFQSS5tYXRjaENhY2hlVG9DcmFkbGUobW9kZWxJbmRleExpc3QsIGRMaXN0Q2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcHJlcGFyZSB0aGUgY3ljbGUgZm9yIHByZXBhcmVyZW5kZXJcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50c1xuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzXG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmlydHVhbCBET01cbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0ID09ICd1bmlmb3JtJykge1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncHJlcGFyZXJlbmRlcicpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWZyZXNoRE9Nc2V0Zm9ydmFyaWFiaWxpdHknKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncHJlcGFyZXJlbmRlcic6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIC8vIHRyaWdnZXJsaW5lcyB3aWxsIGhhdmUgYmVlbiBhc3NpZ25lZCB0byBhIG5ldyB0cmlnZ2VyQ2VsbCBieSBub3cuXG4gICAgICAgICAgICAgICAgLy8gY29ubmVjdEVsZW1lbnRzIHdhcyBkZWxheWVkIGZvciBhIGN5Y2xlIHRvIHJlbmRlciB0cmlnZ2VyY2VsbCB0cmlnZ2VybGluZXNcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIuY3JhZGxlSW50ZXJzZWN0LmNvbm5lY3RFbGVtZW50cygpXG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVzdG9yZWludGVycnVwdHMnKSAvLyB0byByZXN0b3JlIGludGVycnVwdHNcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3RvcmVpbnRlcnJ1cHRzJzogeyAvLyBub3JtYWxpemVcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucmVzdG9yZUludGVycnVwdHMoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrIFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGZvbGxvd3VwIGZyb20gYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2sgXS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gc2Nyb2xsIGVmZmVjdHNcblxuICAgICAgICAgICAgLy8gcmVuZGVydXBkYXRlZGNvbnRlbnQgaXMgY2FsbGVkIGZyb20gaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjay4gXG4gICAgICAgICAgICAvLyBpdCBpcyByZXF1aXJlZCB0byBpbnRlZ3JhdGUgY2hhbmdlZCBET00gY29uZmlndXJhdGlvbnMgYmVmb3JlICdyZWFkeScgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBjYXNlICdyZW5kZXJ1cGRhdGVkY29udGVudCc6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnVwZGF0ZUNyYWRsZUNvbnRlbnQoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHVwZGF0ZWRjb250ZW50JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNodXBkYXRlZGNvbnRlbnQnOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICAvLyBzeW5jaHJvbml6ZSBjYWNoZVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2FjaGUgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlID09ICdrZWVwbG9hZCcpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5ndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZygpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYWNoZUFQSS5tZWFzdXJlTWVtb3J5KCdmaW5pc2ggdXBkYXRlJylcblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0IH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0ID09ICd1bmlmb3JtJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNvbm5lY3RFbGVtZW50cygpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmUtYWN0aXZhdGUgdHJpZ2dlcnM7IHRyaWdnZXJsaW5lcyB3aWxsIGhhdmUgYmVlbiBhc3NpZ25lZCB0byBhIG5ldyB0cmlnZ2VyQ2VsbCBieSBub3cuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldENyYWRsZVN0YXRlKCdyZWNvbm5lY3R1cGRhdGVkY29udGVudCcpXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyAndmFyaWFibGUnIGNvbnRlbnQgcmVxdWlyaW5nIHJlY29uZmlndXJhdGlvblxuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWZyZXNoRE9NdXBkYXRlZm9ydmFyaWFiaWxpdHknKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBhZGp1c3Qgc2Nyb2xsYmxvY2sgZm9yIHNldCB2YXJpYWJsZSBjb250ZW50IF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBjYXNlICdyZWZyZXNoRE9Nc2V0Zm9ydmFyaWFiaWxpdHknOiB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncHJlcGFyZXNldGZvcnZhcmlhYmlsaXR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncHJlcGFyZXNldGZvcnZhcmlhYmlsaXR5Jzoge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIGdpdmUgdGltZSBmb3IgRE9NIHRvIHByb2R1Y2UgbGF5b3V0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmFkanVzdFNjcm9sbGJsb2NrRm9yVmFyaWFiaWxpdHkoJ3NldGNyYWRsZScpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hzZXRmb3J2YXJpYWJpbGl0eScpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSwgVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2hzZXRmb3J2YXJpYWJpbGl0eSc6IHtcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdwcmVwYXJlcmVuZGVyJylcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGFkanVzdCBzY3JvbGxibG9jayBmb3IgdXBkYXRlIHZhcmlhYmxlIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIGNhc2UgJ3JlZnJlc2hET011cGRhdGVmb3J2YXJpYWJpbGl0eSc6IHtcblxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIGN5Y2xlIHRvIGFsbG93IGZvciBET00gc3luY2hyb25pemlvbiB3aXRoIGdyaWQgY2hhbmdlc1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2FkanVzdHVwZGF0ZWZvcnZhcmlhYmlsaXR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnYWRqdXN0dXBkYXRlZm9ydmFyaWFiaWxpdHknOiB7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4geyAvLyBhbGxvdyBtb3JlIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5hZGp1c3RTY3JvbGxibG9ja0ZvclZhcmlhYmlsaXR5KCd1cGRhdGVjcmFkbGUnKVxuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2h1cGRhdGVmb3J2YXJpYWJpbGl0eScpXG5cbiAgICAgICAgICAgICAgICB9LDApXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaHVwZGF0ZWZvcnZhcmlhYmlsaXR5Jzoge1xuXG4gICAgICAgICAgICAgICAgLy8gcmUtYWN0aXZhdGUgdHJpZ2dlcnM7IHRyaWdnZXJsaW5lcyB3aWxsIGhhdmUgYmVlbiBhc3NpZ25lZCB0byBhIG5ldyB0cmlnZ2VyQ2VsbCBieSBub3cuXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci50cmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IGZhbHNlXG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tWyB1c2VyIHJlcXVlc3RzIF0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIGNhc2UgJ2NoYW5uZWxjcmFkbGVyZXNldGFmdGVyaW5zZXJ0cmVtb3ZlJzoge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEkuYXBwbHlQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NoYW5nZWxpc3RzaXplYWZ0ZXJpbnNlcnRyZW1vdmUnKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc3VwcG9ydCBmb3IgdmFyaW91cyBob3N0IHNlcnZpY2UgcmVxdWVzdHM7IHN5bmNzIGNyYWRsZSBjb250ZW50IHdpdGggY2FjaGUgY2hhbmdlc1xuICAgICAgICAgICAgY2FzZSAnYXBwbHlpbnNlcnRyZW1vdmVjaGFuZ2VzJzpcbiAgICAgICAgICAgIGNhc2UgJ2FwcGx5cmVtYXBjaGFuZ2VzJzpcbiAgICAgICAgICAgIGNhc2UgJ2FwcGx5bW92ZWNoYW5nZXMnOiB7XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50c1xuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzXG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5hcHBseVBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCgpXG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ2FwcGx5aW5zZXJ0cmVtb3ZlY2hhbmdlcycpIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2hhbmdlbGlzdHNpemVhZnRlcmluc2VydHJlbW92ZScpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjaGFuZ2VsaXN0c2l6ZWFmdGVyaW5zZXJ0cmVtb3ZlJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3bGlzdHNpemUgPSBzZXJ2aWNlSGFuZGxlci5uZXdMaXN0U2l6ZVxuICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLm5ld0xpc3RTaXplID0gbnVsbFxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIC8vIHNlcnZpY2UgaGFuZGxlciBjYWxsZWQgYmVjYXVzZSB0aGlzIGlzIGEgZm9sbG93b24gb2YgYSB1c2VyIGludGVydmVudGlvblxuICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLnNldExpc3RTaXplKG5ld2xpc3RzaXplKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnY2xlYXJjYWNoZSc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmNsZWFyQ3JhZGxlKClcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LmhlYWREaXNwbGF5Q29tcG9uZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgICAgIGNhY2hlQVBJLmNsZWFyQ2FjaGUoKVxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW2NyYWRsZVN0YXRlXSlcblxuICAgIC8vIHN0YW5kYXJkIHJlbmRlcmluZyBzdGF0ZXMgKDIgc3RhdGVzKVxuICAgIHVzZUVmZmVjdCgoKT0+IHsgXG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICAvLyByZXBvc2l0aW9uaW5nUmVuZGVyIGFuZCByZXBvc2l0aW9uaW5nQ29udGludWF0aW9uIGFyZSB0b2dnbGVkIHRvIGdlbmVyYXRlIGNvbnRpbnVvdXMgXG4gICAgICAgICAgICAvLyByZXBvc2l0aW9uaW5nIHJlbmRlcnNcbiAgICAgICAgICAgIGNhc2UgJ3JlcG9zaXRpb25pbmdSZW5kZXInOiAvLyBuby1vcFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYWR5JzogLy8gbm8tb3BcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFTkRFUiBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb25zdCBzY3JvbGxBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb25cbiAgICBjb25zdCBzY3JvbGxBeGlzUmVmZXJlbmNlSW5kZXggPSBzY3JvbGxBeGlzUmVmZXJlbmNlUG9zaXRpb24gKyBsb3dpbmRleFxuICAgIGNvbnN0IHNjcm9sbEluZGV4UmVmID0gdXNlUmVmKHNjcm9sbEF4aXNSZWZlcmVuY2VQb3NpdGlvbilcbiAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgY29uc3QgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZi5jdXJyZW50ID0gdXNlTWVtbygoKT0+e1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5ID0gJ2hlYWQnXG4gICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2hlYWR0cmlnZ2VyJ1xuICAgICAgICAgICAgICAgIHN0eWxlID0ge3RyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkU3R5bGV9XG4gICAgICAgICAgICAgICAgcmVmID0ge3RyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkRWxlbWVudFJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXkgPSAndGFpbCdcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbHRyaWdnZXInXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7dHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxTdHlsZX1cbiAgICAgICAgICAgICAgICByZWYgPSB7dHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxFbGVtZW50UmVmfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIF1cblxuICAgIH0sW1xuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlXG4gICAgXSlcblxuICAgIGNvbnN0IGNvbnRleHR2YWx1ZVJlZiA9IHVzZVJlZih7XG4gICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZiwgXG4gICAgICAgIGNhY2hlQVBJLCBcbiAgICAgICAgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSxcbiAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrOnNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5pdGVtRXhjZXB0aW9uQ2FsbGJhY2ssXG4gICAgICAgIElETEVDQUxMQkFDS19USU1FT1VULFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZixcbiAgICB9KVxuXG5cbiAgICAvLyBkaXNwbGF5IHRoZSBjcmFkbGUgY29tcG9uZW50cywgdGhlIFNjcm9sbFRyYWNrZXIsIG9yIG51bGxcbiAgICByZXR1cm4gPENyYWRsZUNvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7IGNvbnRleHR2YWx1ZVJlZi5jdXJyZW50IH0+XG5cbiAgICAgICAgeyhjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpP251bGw6XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWF4aXMnXG4gICAgICAgICAgICBzdHlsZSA9IHsgY3JhZGxlQXhpc1N0eWxlIH0gXG4gICAgICAgICAgICByZWYgPSB7IGF4aXNDcmFkbGVFbGVtZW50UmVmIH1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyBzaG93QXhpcz8gLy8gZm9yIGRlYnVnXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2NyYWRsZS1kaXZpZGVyJyBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZURpdmlkZXJTdHlsZSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvZGl2PjpcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2hlYWQnXG4gICAgICAgICAgICAgICAgcmVmID0geyBoZWFkQ3JhZGxlRWxlbWVudFJlZiB9XG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZUhlYWRTdHlsZSB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbCdcbiAgICAgICAgICAgICAgICByZWYgPSB7IHRhaWxDcmFkbGVFbGVtZW50UmVmIH0gXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZVRhaWxTdHlsZSB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICBcbiAgICA8L0NyYWRsZUNvbnRleHQuUHJvdmlkZXI+XG5cbn0gLy8gQ3JhZGxlXG5cbmV4cG9ydCBkZWZhdWx0IENyYWRsZVxuXG4vLyB1dGlsaXR5XG5cbmNvbnN0IGdldENyYWRsZUhhbmRsZXJzID0gKGNyYWRsZVBhcmFtZXRlcnMpID0+IHtcblxuICAgIGNvbnN0IGNyZWF0ZUhhbmRsZXIgPSBoYW5kbGVyID0+IG5ldyBoYW5kbGVyKGNyYWRsZVBhcmFtZXRlcnMpXG5cbiAgICBjb25zdCB7IGNhY2hlQVBJIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgY2FjaGVBUEkuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgY2FjaGVBUEksXG4gICAgICAgIGludGVycnVwdEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihJbnRlcnJ1cHRIYW5kbGVyKSxcbiAgICAgICAgc2Nyb2xsSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNjcm9sbEhhbmRsZXIpLFxuICAgICAgICBzdGF0ZUhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTdGF0ZUhhbmRsZXIpLFxuICAgICAgICBjb250ZW50SGFuZGxlcjpjcmVhdGVIYW5kbGVyKENvbnRlbnRIYW5kbGVyKSxcbiAgICAgICAgbGF5b3V0SGFuZGxlcjpjcmVhdGVIYW5kbGVyKExheW91dEhhbmRsZXIpLFxuICAgICAgICBzZXJ2aWNlSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNlcnZpY2VIYW5kbGVyKSxcbiAgICAgICAgc3R5bGVzSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFN0eWxlc0hhbmRsZXIpLFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsIlZpZXdwb3J0XzEiLCJzY3JvbGxoYW5kbGVyXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJzdGF0ZWhhbmRsZXJfMSIsImNvbnRlbnRoYW5kbGVyXzEiLCJsYXlvdXRoYW5kbGVyXzEiLCJpbnRlcnJ1cHRoYW5kbGVyXzEiLCJzZXJ2aWNlaGFuZGxlcl8xIiwic3R5bGVzaGFuZGxlcl8xIiwiSW5maW5pdGVHcmlkU2Nyb2xsZXJfMSIsImV4cG9ydHMiLCJDcmFkbGVDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIkNyYWRsZSIsIl9yZWYiLCJncmlkU3BlY3MiLCJydW53YXlTaXplIiwidmlydHVhbExpc3RTcGVjcyIsInNldFZpcnR1YWxMaXN0U2l6ZSIsInNldFZpcnR1YWxMaXN0UmFuZ2UiLCJzdGFydGluZ0luZGV4IiwiZ2V0SXRlbSIsInBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXJNZXNzYWdlcyIsInVzZXJDYWxsYmFja3MiLCJzdHlsZXMiLCJ0cmlnZ2VybGluZU9mZnNldCIsImNhY2hlIiwiY2FjaGVNYXgiLCJzY3JvbGxlcklEIiwiY2FjaGVBUEkiLCJ1c2VQbGFjZWhvbGRlciIsInVzZVNjcm9sbFRyYWNrZXIiLCJzaG93QXhpcyIsIk9OQUZURVJTQ1JPTExfVElNRU9VVCIsIklETEVDQUxMQkFDS19USU1FT1VUIiwiTUFYX0NBQ0hFX09WRVJfUlVOIiwiVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQiLCJzY3JvbGxlclByb3BlcnRpZXMiLCJsaXN0c2l6ZSIsInNpemUiLCJsb3dpbmRleCIsImhpZ2hpbmRleCIsIm9yaWVudGF0aW9uIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJjZWxsTWluSGVpZ2h0IiwiY2VsbE1pbldpZHRoIiwibGF5b3V0IiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsInVzZUNvbnRleHQiLCJWaWV3cG9ydENvbnRleHQiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmIiwidXNlUmVmIiwiY3VycmVudCIsImlzTW91bnRlZFJlZiIsImlzQ2FjaGVkUmVmIiwid2FzQ2FjaGVkUmVmIiwiaGFzQmVlblJlbmRlcmVkUmVmIiwidHJpZ2dlckhpc3RvcnlSZWYiLCJwcmV2aW91c1JlZmVyZW5jZU5hbWUiLCJnZXRWaWV3cG9ydERpbWVuc2lvbnMiLCJ2aWV3cG9ydEVsZW1lbnQiLCJlbGVtZW50UmVmIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsIl9nZXRWaWV3cG9ydERpbWVuc2lvbiIsInZpZXdwb3J0aGVpZ2h0Iiwidmlld3BvcnR3aWR0aCIsImlzSW5Qb3J0YWwiLCJpc0NhY2hlQ2hhbmdlIiwiX3JlZjIiLCJ1c2VTdGF0ZSIsIl9yZWYzIiwiY3JhZGxlU3RhdGUiLCJzZXRDcmFkbGVTdGF0ZSIsImNyYWRsZVN0YXRlUmVmIiwiY29uc29sZSIsImxvZyIsImhlYWRDcmFkbGVFbGVtZW50UmVmIiwidGFpbENyYWRsZUVsZW1lbnRSZWYiLCJheGlzQ3JhZGxlRWxlbWVudFJlZiIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkRWxlbWVudFJlZiIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsRWxlbWVudFJlZiIsImNyYWRsZUVsZW1lbnRzUmVmIiwiaGVhZFJlZiIsInRhaWxSZWYiLCJheGlzUmVmIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWYiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFJlZiIsImNyb3NzY291bnQiLCJ1c2VNZW1vIiwidmlld3BvcnRjcm9zc2xlbmd0aCIsInZpZXdwb3J0Y3Jvc3NsZW5ndGhmb3JjYWxjIiwiY2VsbGNyb3NzbGVuZ3RoIiwiY2VsbGNyb3NzbGVuZ3RoZm9yY2FsYyIsIk1hdGgiLCJtaW4iLCJmbG9vciIsIl9yZWY0IiwidW5kZWZpbmVkIiwiZW5kYWRqdXN0bWVudCIsImJhc2Vyb3dibGFua3MiLCJhYnMiLCJlbmRyb3dibGFua3MiLCJfcmVmNSIsIl9yZWY2Iiwidmlld3BvcnRMZW5ndGgiLCJiYXNlUm93TGVuZ3RoIiwidmlld3BvcnRSb3djb3VudCIsImNlaWwiLCJsaXN0Um93Y291bnQiLCJjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQiLCJjcmFkbGVSb3djb3VudCIsInJ1bndheVJvd2NvdW50IiwiZGlmZiIsIm1heCIsIml0ZW1jb3VudCIsIl9yZWY3IiwicmFuZ2Vyb3dzaGlmdCIsInZpcnR1YWxMaXN0UHJvcHMiLCJhc3NpZ24iLCJyb3djb3VudCIsInJvd3NoaWZ0IiwiY3JhZGxlQ29udGVudFByb3BzUmVmIiwiU09MIiwiRU9MIiwiY3JhZGxlQ29udGVudFByb3BzIiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwicmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayIsInJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrIiwiY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2siLCJpdGVtRXhjZXB0aW9uQ2FsbGJhY2siLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwic2Nyb2xsZXJQcm9wZXJ0aWVzUmVmIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmIiwiaGFuZGxlcnNSZWYiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiY3JhZGxlUGFyYW1ldGVyc1JlZiIsImdldENyYWRsZUhhbmRsZXJzIiwiX2hhbmRsZXJzUmVmJGN1cnJlbnQiLCJpbnRlcnJ1cHRIYW5kbGVyIiwic2Nyb2xsSGFuZGxlciIsImNvbnRlbnRIYW5kbGVyIiwibGF5b3V0SGFuZGxlciIsInNlcnZpY2VIYW5kbGVyIiwic3R5bGVzSGFuZGxlciIsInJlc3RvcmVTY3JvbGxQb3MiLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJibG9ja1Njcm9sbFBvcyIsImJsb2NrWFNjcm9sbFBvcyIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJibG9ja1hTY3JvbGxQcm9wZXJ0eSIsInVzZUVmZmVjdCIsImZ1bmN0aW9uc0NhbGxiYWNrIiwic2Nyb2xsVG9JbmRleCIsInJlbG9hZCIsInNldExpc3RzaXplIiwic2V0TGlzdFNpemUiLCJzZXRMaXN0UmFuZ2UiLCJwcmVwZW5kSW5kZXhDb3VudCIsImFwcGVuZEluZGV4Q291bnQiLCJjbGVhckNhY2hlIiwiZ2V0Q2FjaGVJbmRleE1hcCIsImdldENhY2hlSXRlbU1hcCIsImdldENyYWRsZUluZGV4TWFwIiwiZ2V0UHJvcGVydGllc1NuYXBzaG90IiwicmVtYXBJbmRleGVzIiwibW92ZUluZGV4IiwiaW5zZXJ0SW5kZXgiLCJyZW1vdmVJbmRleCIsImZ1bmN0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblNjcm9sbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc1NhZmFyaUlPUyIsImlPU29uU2Nyb2xsIiwiY3JhZGxlSW50ZXJzZWN0IiwidHJpZ2dlcmxpbmVzSW50ZXJzZWN0IiwiY3JhZGxlaW50ZXJzZWN0b2JzZXJ2ZXIiLCJjcmVhdGVPYnNlcnZlciIsImNvbm5lY3RFbGVtZW50cyIsInRyaWdnZXJvYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJudWxsSXRlbVNldE1heExpc3RzaXplIiwidXNlQ2FsbGJhY2siLCJtYXhMaXN0c2l6ZSIsIl9zZXJ2aWNlSGFuZGxlciRjYWxsYiIsImNhbGxiYWNrcyIsImRMaXN0Q2FsbGJhY2siLCJkZWxldGVMaXN0IiwidXBkYXRlVmlydHVhbExpc3RTaXplIiwiY2hhbmdlQ2FjaGVMaXN0U2l6ZSIsIm1vZGVsSW5kZXhMaXN0IiwiZ2V0TW9kZWxJbmRleExpc3QiLCJwYXJlQ2FjaGVUb01heCIsInJlbmRlclBvcnRhbExpc3RzIiwiX2RMaXN0Q2FsbGJhY2siLCJtYXRjaENhY2hlVG9DcmFkbGUiLCJpc1Jlc2l6aW5nIiwicGF1c2VJbnRlcnJ1cHRzIiwiX2NyYWRsZUluaGVyaXRlZFByb3BlIiwiX2NyYWRsZUluaGVyaXRlZFByb3BlMiIsInByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoIiwicHJldmlvdXNBeGlzT2Zmc2V0IiwidGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJwcmV2aW91c3JhdGlvIiwicGl2b3RDZWxsUGl4ZWxMZW5ndGgiLCJwaXZvdEF4aXNPZmZzZXQiLCJyb3VuZCIsIl9yZWY4IiwiZ2V0Q3JhZGxlU3R5bGVzIiwidXNlcnN0eWxlcyIsIl9yZWY5IiwiY3JhZGxlSGVhZFN0eWxlIiwiY3JhZGxlVGFpbFN0eWxlIiwiY3JhZGxlQXhpc1N0eWxlIiwiY3JhZGxlRGl2aWRlclN0eWxlIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRTdHlsZSIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsU3R5bGUiLCJ1c2VMYXlvdXRFZmZlY3QiLCJmaW5hbENhbGxiYWNrIiwicHJlbG9hZCIsInNpZ25hbHMiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwicGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJlcG9zaXRpb25pbmdSZXF1aXJlZCIsImlzU2Nyb2xsaW5nIiwiX2NyYWRsZUludGVybmFsUHJvcGVyIiwic2Nyb2xsVHJhY2tlckFQSVJlZiIsInN0YXJ0UmVwb3NpdGlvbiIsInRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsImNyYWRsZUNvbnRlbnQiLCJjb250ZW50IiwiaGVhZE1vZGVsQ29tcG9uZW50cyIsInRhaWxNb2RlbENvbXBvbmVudHMiLCJyZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnIiwiZmluaXNoUmVwb3NpdGlvbiIsImNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEiLCJzZXRDcmFkbGVDb250ZW50IiwiaGVhZERpc3BsYXlDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwicmVzdG9yZUludGVycnVwdHMiLCJ1cGRhdGVDcmFkbGVDb250ZW50IiwiZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmciLCJzZXRUaW1lb3V0IiwiYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSIsImFwcGx5UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0IiwibmV3bGlzdHNpemUiLCJuZXdMaXN0U2l6ZSIsImNsZWFyQ3JhZGxlIiwic2Nyb2xsQXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwic2Nyb2xsQXhpc1JlZmVyZW5jZUluZGV4Iiwic2Nyb2xsSW5kZXhSZWYiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZiIsImNyZWF0ZUVsZW1lbnQiLCJrZXkiLCJzdHlsZSIsInJlZiIsImNvbnRleHR2YWx1ZVJlZiIsIlByb3ZpZGVyIiwiY3JlYXRlSGFuZGxlciIsImhhbmRsZXIiLCJzdGF0ZUhhbmRsZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Cradle.tsx\n")},"./src/InfiniteGridScroller.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// InfiniteGridScroller.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.isSafariIOS = void 0;\n/*\n    react-infinite-grid-scroller = RIGS\n\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the Scrollblock, which is full size for listsize of given cell height/width.\n    Scrollblock in turn contains the Cradle - a component that contains CellFrames, which contain\n    displayed user content (items) or transitional placeholders.\n\n    Host content is instantiated in a cache of React portals (via cacheAPI). Content is then\n    portal\'d to CellFrames. The cache can be configured to hold more items than the Cradle (limited by\n    device memory). Caching allows host content to maintain state.\n\n    Scrollblock represents the entirety of the list (and is sized accordingly). It is the component that is scrolled.\n\n    Cradle contains the list items, and is \'virtualized\' -- it appears as though it scrolls through a filled\n    scrollblock, but in fact it is only slightly larger than the viewport. Content is rotated in and out of the\n    cradle through the cache.\n    \n    Individual host items are framed by CellFrame, which are managed by Cradle.\n\n    Overall the InfiniteGridScroller as a package manages the asynchronous interactions of the\n    components of the mechanism. Most of the work occurs in the Cradle component.\n\n    The RIGS liner (the top level Viewport element) is set with \'display:absolute\' and \'inset:0\', so the user\n    containing block should be styled accordingly.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\n// defensive\nvar react_error_boundary_1 = __webpack_require__(/*! react-error-boundary */ "./node_modules/react-error-boundary/dist/react-error-boundary.esm.js"); // www.npmjs.com/package/react-error-boundary\nvar isSafariIOS = function isSafariIOS() {\n  var is_ios = /iP(ad|od|hone)/i.test(window.navigator.userAgent),\n    is_safari = !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/);\n  return is_ios && is_safari;\n};\nexports.isSafariIOS = isSafariIOS;\n// based on module template\nfunction ErrorFallback(_ref) {\n  var error = _ref.error,\n    resetErrorBoundary = _ref.resetErrorBoundary;\n  return react_1["default"].createElement("div", {\n    role: "alert",\n    style: {\n      margin: \'3px\'\n    }\n  }, react_1["default"].createElement("p", null, "Something went wrong inside react-infinite-grid-scroller. See the console for details."), react_1["default"].createElement("p", null, "Click to cancel the error and try to continue."), react_1["default"].createElement("button", {\n    style: {\n      border: \'1px solid black\',\n      margin: \'3px\',\n      padding: \'3px\'\n    },\n    onClick: resetErrorBoundary\n  }, "Cancel error"));\n}\n// scroller components\nvar Viewport_1 = __importDefault(__webpack_require__(/*! ./Viewport */ "./src/Viewport.tsx"));\nvar Scrollblock_1 = __importDefault(__webpack_require__(/*! ./Scrollblock */ "./src/Scrollblock.tsx"));\nvar Cradle_1 = __importDefault(__webpack_require__(/*! ./Cradle */ "./src/Cradle.tsx"));\n// loaded here to minimize redundant renders in Cradle\nvar PortalCache_1 = __importDefault(__webpack_require__(/*! ./PortalCache */ "./src/PortalCache.tsx"));\n// -------------------[ global session ID generator ]----------------\nvar globalScrollerID = 0;\n// ===================================[ INITIALIZE ]===========================\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  // state\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    scrollerState = _ref3[0],\n    setScrollerState = _ref3[1]; // setup, setlistprops, ready\n  // ------------------[ normalize properties ]--------------------\n  var cellHeight = props.cellHeight,\n    cellWidth = props.cellWidth,\n    _props$startingListSi = props.startingListSize,\n    startingListSize = _props$startingListSi === void 0 ? 0 : _props$startingListSi,\n    _props$startingListRa = props.startingListRange,\n    startingListRange = _props$startingListRa === void 0 ? [] : _props$startingListRa,\n    getItem = props.getItem,\n    _props$orientation = props.orientation,\n    orientation = _props$orientation === void 0 ? \'vertical\' : _props$orientation,\n    _props$gap = props.gap,\n    gap = _props$gap === void 0 ? 0 : _props$gap,\n    _props$padding = props.padding,\n    padding = _props$padding === void 0 ? 0 : _props$padding,\n    _props$layout = props.layout,\n    layout = _props$layout === void 0 ? \'uniform\' : _props$layout,\n    _props$cellMinHeight = props.cellMinHeight,\n    cellMinHeight = _props$cellMinHeight === void 0 ? 25 : _props$cellMinHeight,\n    _props$cellMinWidth = props.cellMinWidth,\n    cellMinWidth = _props$cellMinWidth === void 0 ? 25 : _props$cellMinWidth,\n    _props$runwaySize = props.runwaySize,\n    runwaySize = _props$runwaySize === void 0 ? 3 : _props$runwaySize,\n    _props$startingIndex = props.startingIndex,\n    startingIndex = _props$startingIndex === void 0 ? 0 : _props$startingIndex,\n    _props$cache = props.cache,\n    cache = _props$cache === void 0 ? \'cradle\' : _props$cache,\n    _props$cacheMax = props.cacheMax,\n    cacheMax = _props$cacheMax === void 0 ? null : _props$cacheMax,\n    placeholder = props.placeholder,\n    _props$usePlaceholder = props.usePlaceholder,\n    usePlaceholder = _props$usePlaceholder === void 0 ? true : _props$usePlaceholder,\n    _props$useScrollTrack = props.useScrollTracker,\n    useScrollTracker = _props$useScrollTrack === void 0 ? true : _props$useScrollTrack,\n    _props$styles = props.styles,\n    styles = _props$styles === void 0 ? {} : _props$styles,\n    _props$placeholderMes = props.placeholderMessages,\n    placeholderMessages = _props$placeholderMes === void 0 ? {} : _props$placeholderMes,\n    _props$callbacks = props.callbacks,\n    callbacks = _props$callbacks === void 0 ? {} : _props$callbacks,\n    _props$technical = props.technical,\n    technical = _props$technical === void 0 ? {} : _props$technical,\n    _props$cacheAPI = props.cacheAPI,\n    cacheAPI = _props$cacheAPI === void 0 ? null : _props$cacheAPI,\n    dragdropProperties = props.dragdropProperties,\n    scrollerProperties = props.scrollerProperties;\n  var isMinimalPropsFail = false;\n  if (!(cellWidth && cellHeight && getItem)) {\n    console.log(\'RIGS: cellWidth, cellHeight, and getItem are required\');\n    isMinimalPropsFail = true;\n  }\n  // ---------------------[ Data setup ]----------------------\n  var originalValues = {\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    gap: gap,\n    padding: padding,\n    startingIndex: startingIndex,\n    startingListSize: startingListSize,\n    runwaySize: runwaySize,\n    cacheMax: cacheMax\n  };\n  // avoid null/undefined\n  styles = styles !== null && styles !== void 0 ? styles : {};\n  callbacks = callbacks !== null && callbacks !== void 0 ? callbacks : {};\n  technical = technical !== null && technical !== void 0 ? technical : {};\n  startingIndex = startingIndex !== null && startingIndex !== void 0 ? startingIndex : 0;\n  startingListSize = startingListSize !== null && startingListSize !== void 0 ? startingListSize : 0;\n  runwaySize = runwaySize !== null && runwaySize !== void 0 ? runwaySize : 3;\n  usePlaceholder = usePlaceholder !== null && usePlaceholder !== void 0 ? usePlaceholder : true;\n  useScrollTracker = useScrollTracker !== null && useScrollTracker !== void 0 ? useScrollTracker : true;\n  cellMinHeight = cellMinHeight !== null && cellMinHeight !== void 0 ? cellMinHeight : 0;\n  cellMinWidth = cellMinWidth !== null && cellMinWidth !== void 0 ? cellMinWidth : 0;\n  cacheMax = cacheMax !== null && cacheMax !== void 0 ? cacheMax : 0;\n  cellHeight = +cellHeight;\n  cellWidth = +cellWidth;\n  cellMinHeight = +cellMinHeight;\n  cellMinWidth = +cellMinWidth;\n  gap = +gap;\n  padding = +padding;\n  startingIndex = +startingIndex;\n  startingListSize = +startingListSize;\n  runwaySize = +runwaySize;\n  cacheMax = +cacheMax;\n  var verifiedValues = {\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    gap: gap,\n    padding: padding,\n    startingIndex: startingIndex,\n    startingListSize: startingListSize,\n    runwaySize: runwaySize,\n    cacheMax: cacheMax\n  };\n  cellMinHeight = Math.max(cellMinHeight, 25);\n  cellMinWidth = Math.max(cellMinWidth, 25);\n  cellMinHeight = Math.min(cellHeight, cellMinHeight);\n  cellMinWidth = Math.min(cellWidth, cellMinWidth);\n  // prop constraints - non-negative values\n  runwaySize = Math.max(1, runwaySize); // runwaysize must be at least 1\n  startingListSize = Math.max(0, startingListSize);\n  startingIndex = Math.max(0, startingIndex);\n  // package\n  var problems = 0;\n  for (var prop in verifiedValues) {\n    if (isNaN(verifiedValues[prop])) {\n      problems++;\n    }\n  }\n  if (problems) {\n    console.error(\'Error: invalid number - compare originalValues and verifiedValues\', originalValues, verifiedValues);\n  }\n  // rationalize startingListsize and startingListRange\n  if (!problems && scrollerState == \'setup\') {\n    var goodrange = true;\n    if (!startingListRange || !Array.isArray(startingListRange) || !(startingListRange.length == 2 || startingListRange.length == 0)) {\n      goodrange = false;\n    }\n    if (goodrange) {\n      if (startingListRange.length == 0) {\n        startingListSize = 0;\n      } else {\n        var _startingListRange = startingListRange,\n          _startingListRange2 = _slicedToArray(_startingListRange, 2),\n          lowindex = _startingListRange2[0],\n          highindex = _startingListRange2[1];\n        lowindex = +lowindex;\n        highindex = +highindex;\n        if (isNaN(lowindex) || isNaN(highindex)) {\n          goodrange = false;\n        } else if (lowindex > highindex) {\n          goodrange = false;\n        }\n        if (goodrange) {\n          startingListSize = highindex - lowindex + 1;\n        }\n      }\n    }\n    if (!goodrange) {\n      if (startingListSize && !isNaN(startingListSize)) {\n        startingListRange = [0, startingListSize - 1];\n      } else {\n        startingListRange = [];\n        startingListSize = 0;\n      }\n    }\n  }\n  // enums\n  if (![\'horizontal\', \'vertical\'].includes(orientation)) {\n    orientation = \'vertical\';\n  }\n  if (![\'preload\', \'keepload\', \'cradle\'].includes(cache)) {\n    cache = \'cradle\';\n  }\n  if (![\'uniform\', \'variable\'].includes(layout)) {\n    layout = \'uniform\';\n  }\n  var gridSpecs = {\n    orientation: orientation,\n    gap: gap,\n    padding: padding,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    layout: layout\n  };\n  var gridSpecsRef = (0, react_1.useRef)(gridSpecs);\n  // system\n  var stylesRef = (0, react_1.useRef)(styles);\n  var callbacksRef = (0, react_1.useRef)(callbacks);\n  var placeholderMessagesRef = (0, react_1.useRef)(placeholderMessages);\n  var _technical = technical,\n    showAxis = _technical.showAxis,\n    triggerlineOffset = _technical.triggerlineOffset,\n    VIEWPORT_RESIZE_TIMEOUT = _technical.VIEWPORT_RESIZE_TIMEOUT,\n    ONAFTERSCROLL_TIMEOUT = _technical.ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT = _technical.IDLECALLBACK_TIMEOUT,\n    VARIABLE_MEASUREMENTS_TIMEOUT = _technical.VARIABLE_MEASUREMENTS_TIMEOUT,\n    MAX_CACHE_OVER_RUN = _technical.MAX_CACHE_OVER_RUN,\n    CACHE_PARTITION_SIZE = _technical.CACHE_PARTITION_SIZE;\n  VIEWPORT_RESIZE_TIMEOUT = VIEWPORT_RESIZE_TIMEOUT !== null && VIEWPORT_RESIZE_TIMEOUT !== void 0 ? VIEWPORT_RESIZE_TIMEOUT : 250;\n  ONAFTERSCROLL_TIMEOUT = ONAFTERSCROLL_TIMEOUT !== null && ONAFTERSCROLL_TIMEOUT !== void 0 ? ONAFTERSCROLL_TIMEOUT : 100;\n  IDLECALLBACK_TIMEOUT = IDLECALLBACK_TIMEOUT !== null && IDLECALLBACK_TIMEOUT !== void 0 ? IDLECALLBACK_TIMEOUT : 250;\n  VARIABLE_MEASUREMENTS_TIMEOUT = VARIABLE_MEASUREMENTS_TIMEOUT !== null && VARIABLE_MEASUREMENTS_TIMEOUT !== void 0 ? VARIABLE_MEASUREMENTS_TIMEOUT : 250;\n  MAX_CACHE_OVER_RUN = MAX_CACHE_OVER_RUN !== null && MAX_CACHE_OVER_RUN !== void 0 ? MAX_CACHE_OVER_RUN : 1.5;\n  CACHE_PARTITION_SIZE = CACHE_PARTITION_SIZE !== null && CACHE_PARTITION_SIZE !== void 0 ? CACHE_PARTITION_SIZE : 30;\n  if (typeof showAxis != \'boolean\') showAxis = false;\n  triggerlineOffset = triggerlineOffset !== null && triggerlineOffset !== void 0 ? triggerlineOffset : 10;\n  if (typeof usePlaceholder != \'boolean\') usePlaceholder = true;\n  if (typeof useScrollTracker != \'boolean\') useScrollTracker = true;\n  // for mount version\n  var scrollerSessionIDRef = (0, react_1.useRef)(null);\n  var scrollerID = scrollerSessionIDRef.current;\n  // for children\n  var cacheAPIRef = (0, react_1.useRef)(cacheAPI);\n  var updateFunctionRef = (0, react_1.useRef)(null);\n  var listsizeRef = (0, react_1.useRef)(startingListSize);\n  var listRangeRef = (0, react_1.useRef)(startingListRange);\n  var listsize = listsizeRef.current;\n  var listrange = listRangeRef.current;\n  var _listrange = _slicedToArray(listrange, 2),\n    lowlistrange = _listrange[0],\n    highlistrange = _listrange[1]; // ranges undefined if listrange length is 0\n  var virtualListSpecs = {\n    size: listsize,\n    range: listrange,\n    lowindex: lowlistrange,\n    highindex: highlistrange\n  };\n  var virtualListSpecsRef = (0, react_1.useRef)(virtualListSpecs);\n  if (!compareProps(virtualListSpecs, virtualListSpecsRef.current)) {\n    virtualListSpecsRef.current = virtualListSpecs;\n  }\n  // tests for React with Object.is for changed properties; avoid re-renders with no change\n  if (!compareProps(gridSpecs, gridSpecsRef.current)) {\n    gridSpecsRef.current = gridSpecs;\n  }\n  if (!compareProps(styles, stylesRef.current)) {\n    stylesRef.current = styles;\n  }\n  if (!compareProps(callbacks, callbacksRef.current)) {\n    callbacksRef.current = callbacks;\n  }\n  if (!compareProps(placeholderMessages, placeholderMessagesRef.current)) {\n    placeholderMessagesRef.current = placeholderMessages;\n  }\n  // -------------------------[ Initialization ]-------------------------------\n  var getCacheAPI = function getCacheAPI(cacheAPI) {\n    cacheAPIRef.current = cacheAPI;\n  };\n  var getUpdateFunction = function getUpdateFunction(fn) {\n    updateFunctionRef.current = fn;\n  };\n  var useLocalCache = !cacheAPI;\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (scrollerSessionIDRef.current === null) {\n      // defend against React.StrictMode double run\n      scrollerSessionIDRef.current = globalScrollerID++;\n    }\n  }, []);\n  var setVirtualListRange = (0, react_1.useCallback)(function (listrange) {\n    var listsize;\n    if (listrange.length == 0) {\n      listsize = 0;\n    } else {\n      var _listrange2 = _slicedToArray(listrange, 2),\n        lowrange = _listrange2[0],\n        highrange = _listrange2[1];\n      listsize = highrange - lowrange + 1;\n    }\n    listsizeRef.current = listsize;\n    listRangeRef.current = listrange;\n    // inform the user\n    callbacksRef.current.changeListRangeCallback && callbacksRef.current.changeListRangeCallback(listrange);\n    setScrollerState(\'setlistprops\');\n  }, []);\n  // called when getItem returns null, or direct call from user (see serviceHandler)\n  var setVirtualListSize = (0, react_1.useCallback)(function (listsize) {\n    var listrange = listRangeRef.current;\n    if (listsize == 0) {\n      listrange = [];\n    } else {\n      if (listrange.length == 0) {\n        listrange = [0, listsize - 1];\n      } else {\n        var _listRangeRef$current = _slicedToArray(listRangeRef.current, 2),\n          _lowindex = _listRangeRef$current[0],\n          _highindex = _listRangeRef$current[1];\n        listrange = [_lowindex, _lowindex + listsize - 1];\n      }\n    }\n    listsizeRef.current = listsize;\n    listRangeRef.current = listrange;\n    // inform the user\n    callbacksRef.current.changeListSizeCallback && callbacksRef.current.changeListSizeCallback(listsize);\n    setScrollerState(\'setlistprops\');\n  }, []);\n  // ---------------------[ State handling ]------------------------\n  var itemSetRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    switch (scrollerState) {\n      case \'setup\':\n        // replace cacheAPI with facade which includes hidden scrollerID\n        cacheAPIRef.current = cacheAPIRef.current.registerScroller(scrollerSessionIDRef.current);\n        itemSetRef.current = cacheAPIRef.current.itemSet; // for unmount unRegisterScroller\n        if (updateFunctionRef.current) {\n          // obtained from PortalCache\n          cacheAPIRef.current.partitionRepoForceUpdate = updateFunctionRef.current;\n        }\n      case \'setlistprops\':\n        setScrollerState(\'ready\');\n    }\n    return function () {\n      if (!isMountedRef.current) {\n        cacheAPIRef.current.unRegisterScroller(itemSetRef.current);\n      }\n    };\n  }, [scrollerState]);\n  // --------------------[ Render ]---------------------\n  if (problems || isMinimalPropsFail) {\n    return react_1["default"].createElement("div", null, "error: see console.");\n  }\n  // component calls are deferred by scrollerState to give cacheAPI a chance to initialize\n  return react_1["default"].createElement(react_error_boundary_1.ErrorBoundary, {\n    FallbackComponent: ErrorFallback,\n    // elaboration TBD\n    onReset: function onReset() {},\n    onError: function onError() {}\n  }, scrollerState != \'setup\' && react_1["default"].createElement(Viewport_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerID: scrollerID,\n    VIEWPORT_RESIZE_TIMEOUT: VIEWPORT_RESIZE_TIMEOUT,\n    useScrollTracker: useScrollTracker\n  }, react_1["default"].createElement(Scrollblock_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    virtualListSpecs: virtualListSpecsRef.current,\n    scrollerID: scrollerID\n  }, react_1["default"].createElement(Cradle_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    virtualListSpecs: virtualListSpecsRef.current,\n    setVirtualListSize: setVirtualListSize,\n    setVirtualListRange: setVirtualListRange,\n    cache: cache,\n    cacheMax: cacheMax,\n    userCallbacks: callbacksRef.current,\n    startingIndex: startingIndex,\n    getItem: getItem,\n    placeholder: placeholder,\n    placeholderMessages: placeholderMessagesRef.current,\n    runwaySize: runwaySize,\n    triggerlineOffset: triggerlineOffset,\n    scrollerProperties: scrollerProperties,\n    cacheAPI: cacheAPIRef.current,\n    usePlaceholder: usePlaceholder,\n    useScrollTracker: useScrollTracker,\n    showAxis: showAxis,\n    ONAFTERSCROLL_TIMEOUT: ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT: IDLECALLBACK_TIMEOUT,\n    MAX_CACHE_OVER_RUN: MAX_CACHE_OVER_RUN,\n    VARIABLE_MEASUREMENTS_TIMEOUT: VARIABLE_MEASUREMENTS_TIMEOUT,\n    scrollerID: scrollerID\n  }))), react_1["default"].createElement("div", null, useLocalCache && react_1["default"].createElement("div", {\n    "data-type": \'cacheroot\',\n    style: cacherootstyle\n  }, react_1["default"].createElement(PortalCache_1["default"], {\n    getCacheAPI: getCacheAPI,\n    getUpdateFunction: getUpdateFunction,\n    CACHE_PARTITION_SIZE: CACHE_PARTITION_SIZE\n  }))));\n};\nexports["default"] = InfiniteGridScroller;\n// ----------------------------[ Support ]------------------------------\nvar cacherootstyle = {\n  display: \'none\'\n}; // as React.CSSProperties // static, out of view \n// utility\nfunction compareProps(obj1, obj2) {\n  if (!obj1 || !obj2) return false;\n  var keys = Object.keys(obj1);\n  for (var _i2 = 0, _keys = keys; _i2 < _keys.length; _i2++) {\n    var key = _keys[_i2];\n    if (!Object.is(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxHQUFBRCxLQUFBLENBQUFELEdBQUE7SUFDVixJQUFJLENBQUMzTCxNQUFNLENBQUM4TCxFQUFFLENBQUNOLElBQUksQ0FBQ0ssR0FBRyxDQUFDLEVBQUNKLElBQUksQ0FBQ0ksR0FBRyxDQUFDLENBQUMsRUFBRTtNQUNqQyxPQUFPLEtBQUs7OztFQUdwQixPQUFPLElBQUk7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvSW5maW5pdGVHcmlkU2Nyb2xsZXIudHN4PzdmNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5maW5pdGVHcmlkU2Nyb2xsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIHJlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIgPSBSSUdTXG5cbiAgICBUaGUgam9iIG9mIEluZmluaXRlR3JpZFNjcm9sbGVyIGlzIHRvIHBhc3MgcGFyYW1ldGVycyB0byBkZXBlbmRlbnRzLlxuICAgIFZpZXdwb3J0IGNvbnRhaW5zIHRoZSBTY3JvbGxibG9jaywgd2hpY2ggaXMgZnVsbCBzaXplIGZvciBsaXN0c2l6ZSBvZiBnaXZlbiBjZWxsIGhlaWdodC93aWR0aC5cbiAgICBTY3JvbGxibG9jayBpbiB0dXJuIGNvbnRhaW5zIHRoZSBDcmFkbGUgLSBhIGNvbXBvbmVudCB0aGF0IGNvbnRhaW5zIENlbGxGcmFtZXMsIHdoaWNoIGNvbnRhaW4gXG4gICAgZGlzcGxheWVkIHVzZXIgY29udGVudCAoaXRlbXMpIG9yIHRyYW5zaXRpb25hbCBwbGFjZWhvbGRlcnMuIFxuXG4gICAgSG9zdCBjb250ZW50IGlzIGluc3RhbnRpYXRlZCBpbiBhIGNhY2hlIG9mIFJlYWN0IHBvcnRhbHMgKHZpYSBjYWNoZUFQSSkuIENvbnRlbnQgaXMgdGhlbiBcbiAgICBwb3J0YWwnZCB0byBDZWxsRnJhbWVzLiBUaGUgY2FjaGUgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gaG9sZCBtb3JlIGl0ZW1zIHRoYW4gdGhlIENyYWRsZSAobGltaXRlZCBieSBcbiAgICBkZXZpY2UgbWVtb3J5KS4gQ2FjaGluZyBhbGxvd3MgaG9zdCBjb250ZW50IHRvIG1haW50YWluIHN0YXRlLlxuXG4gICAgU2Nyb2xsYmxvY2sgcmVwcmVzZW50cyB0aGUgZW50aXJldHkgb2YgdGhlIGxpc3QgKGFuZCBpcyBzaXplZCBhY2NvcmRpbmdseSkuIEl0IGlzIHRoZSBjb21wb25lbnQgdGhhdCBpcyBzY3JvbGxlZC5cblxuICAgIENyYWRsZSBjb250YWlucyB0aGUgbGlzdCBpdGVtcywgYW5kIGlzICd2aXJ0dWFsaXplZCcgLS0gaXQgYXBwZWFycyBhcyB0aG91Z2ggaXQgc2Nyb2xscyB0aHJvdWdoIGEgZmlsbGVkIFxuICAgIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuIHRoZSB2aWV3cG9ydC4gQ29udGVudCBpcyByb3RhdGVkIGluIGFuZCBvdXQgb2YgdGhlIFxuICAgIGNyYWRsZSB0aHJvdWdoIHRoZSBjYWNoZS5cbiAgICBcbiAgICBJbmRpdmlkdWFsIGhvc3QgaXRlbXMgYXJlIGZyYW1lZCBieSBDZWxsRnJhbWUsIHdoaWNoIGFyZSBtYW5hZ2VkIGJ5IENyYWRsZS5cblxuICAgIE92ZXJhbGwgdGhlIEluZmluaXRlR3JpZFNjcm9sbGVyIGFzIGEgcGFja2FnZSBtYW5hZ2VzIHRoZSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIG9mIHRoZSBcbiAgICBjb21wb25lbnRzIG9mIHRoZSBtZWNoYW5pc20uIE1vc3Qgb2YgdGhlIHdvcmsgb2NjdXJzIGluIHRoZSBDcmFkbGUgY29tcG9uZW50LlxuXG4gICAgVGhlIFJJR1MgbGluZXIgKHRoZSB0b3AgbGV2ZWwgVmlld3BvcnQgZWxlbWVudCkgaXMgc2V0IHdpdGggJ2Rpc3BsYXk6YWJzb2x1dGUnIGFuZCAnaW5zZXQ6MCcsIHNvIHRoZSB1c2VyIFxuICAgIGNvbnRhaW5pbmcgYmxvY2sgc2hvdWxkIGJlIHN0eWxlZCBhY2NvcmRpbmdseS5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbi8vIGRlZmVuc2l2ZVxuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gJ3JlYWN0LWVycm9yLWJvdW5kYXJ5JyAvLyB3d3cubnBtanMuY29tL3BhY2thZ2UvcmVhY3QtZXJyb3ItYm91bmRhcnlcblxuZXhwb3J0IGNvbnN0IGlzU2FmYXJpSU9TID0gKCkgPT4ge1xuICAgIGNvbnN0XG4gICAgICAgIGlzX2lvcyA9IC9pUChhZHxvZHxob25lKS9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgICBpc19zYWZhcmkgPSAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC9bXFxkXFwuXSsuKlNhZmFyaS8pXG4gICAgcmV0dXJuICggaXNfaW9zICYmIGlzX3NhZmFyaSApIFxufVxuXG4vLyBiYXNlZCBvbiBtb2R1bGUgdGVtcGxhdGVcbmZ1bmN0aW9uIEVycm9yRmFsbGJhY2soe2Vycm9yLCByZXNldEVycm9yQm91bmRhcnl9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiByb2xlPVwiYWxlcnRcIiBzdHlsZSA9IHt7bWFyZ2luOiczcHgnfX0+XG4gICAgICA8cD5Tb21ldGhpbmcgd2VudCB3cm9uZyBpbnNpZGUgcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci4gU2VlIHRoZSBjb25zb2xlIGZvciBkZXRhaWxzLjwvcD5cbiAgICAgIDxwPkNsaWNrIHRvIGNhbmNlbCB0aGUgZXJyb3IgYW5kIHRyeSB0byBjb250aW51ZS48L3A+XG4gICAgICA8YnV0dG9uIFxuICAgICAgICAgIHN0eWxlID0ge3tib3JkZXI6JzFweCBzb2xpZCBibGFjaycsIG1hcmdpbjonM3B4JywgcGFkZGluZzonM3B4J319IFxuICAgICAgICAgIG9uQ2xpY2sgPSB7IHJlc2V0RXJyb3JCb3VuZGFyeSB9XG4gICAgICA+XG4gICAgICAgICAgQ2FuY2VsIGVycm9yXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vLyBzY3JvbGxlciBjb21wb25lbnRzXG5pbXBvcnQgVmlld3BvcnQgZnJvbSAnLi9WaWV3cG9ydCdcbmltcG9ydCBTY3JvbGxibG9jayBmcm9tICcuL1Njcm9sbGJsb2NrJ1xuaW1wb3J0IENyYWRsZSBmcm9tICcuL0NyYWRsZSdcblxuLy8gbG9hZGVkIGhlcmUgdG8gbWluaW1pemUgcmVkdW5kYW50IHJlbmRlcnMgaW4gQ3JhZGxlXG5pbXBvcnQgUG9ydGFsQ2FjaGUgZnJvbSAnLi9Qb3J0YWxDYWNoZSdcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgZ2xvYmFsIHNlc3Npb24gSUQgZ2VuZXJhdG9yIF0tLS0tLS0tLS0tLS0tLS0tXG5cbmxldCBnbG9iYWxTY3JvbGxlcklEID0gMFxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVsgSU5JVElBTElaRSBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IEluZmluaXRlR3JpZFNjcm9sbGVyID0gKHByb3BzKSA9PiB7XG5cbiAgICAvLyBzdGF0ZVxuICAgIGNvbnN0IFtzY3JvbGxlclN0YXRlLCBzZXRTY3JvbGxlclN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpIC8vIHNldHVwLCBzZXRsaXN0cHJvcHMsIHJlYWR5XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1bIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHsgXG5cbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgY2VsbEhlaWdodCwgLy8gcmVxdWlyZWQuIHRoZSBvdXRlciBwaXhlbCBoZWlnaHQgLSBsaXRlcmFsIGZvciB2ZXJ0aWNhbDsgYXBwcm94aW1hdGUgZm9yIGhvcml6b250YWxcbiAgICAgICAgICAgIC8vIG1heCBmb3IgdmFyaWFibGUgbGF5b3V0XG4gICAgICAgIGNlbGxXaWR0aCwgLy8gcmVxdWlyZWQuIHRoZSBvdXRlciBwaXhlbCB3aWR0aCAtIGxpdGVyYWwgZm9yIGhvcml6b250YWw7IGFwcHJveGltYXRlIGZvciB2ZXJ0aWNhbFxuICAgICAgICAgICAgLy8gbWF4IGZvciB2YXJpYWJsZSBsYXlvdXRcbiAgICAgICAgc3RhcnRpbmdMaXN0U2l6ZSA9IDAsIC8vIHRoZSBzdGFyZ2luZyBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHZpcnR1YWwgbGlzdC4gY2FuIGJlIGNoYW5nZWRcbiAgICAgICAgc3RhcnRpbmdMaXN0UmFuZ2UgPSBbXSwgLy8gc3VwZXJjZWRlcyBzdGFydGluZ0xpc3RTaXplIGlmIHByZXNlbnRcbiAgICAgICAgZ2V0SXRlbSwgLy8gcmVxdWlyZWQuIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGhvc3QgLSBwYXJhbWV0ZXJzIHNldCBieSBzeXN0ZW0gYXJlIGluZGV4IG51bWJlclxuICAgICAgICAgICAgLy8gYW5kIHNlc3Npb24gaXRlbUlEIGZvciB0cmFja2luZyBhbmQgbWF0Y2hpbmc7IFxuICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGlzIGhvc3Qtc2VsZWN0ZWQgY29tcG9uZW50IG9yIHByb21pc2Ugb2YgYSBjb21wb25lbnQsIG9yIG51bGwgb3IgdW5kZWZpbmVkXG5cbiAgICAgICAgLy8gZ3JpZCBzcGVjczpcbiAgICAgICAgb3JpZW50YXRpb24gPSAndmVydGljYWwnLCAvLyB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAgICAgIGdhcCA9IDAsIC8vIHNwYWNlIGJldHdlZW4gZ3JpZCBjZWxscywgbm90IGluY2x1ZGluZyB0aGUgbGVhZGluZyBhbmQgdHJhaWxpbmcgcGFkZGluZ1xuICAgICAgICBwYWRkaW5nID0gMCwgLy8gdGhlIGJvcmRlciBzcGFjZSBiZXR3ZWVuIHRoZSBpdGVtcyBhbmQgdGhlIHZpZXdwb3J0LCBhcHBsaWVkIHRvIHRoZSBjcmFkbGVcbiAgICAgICAgbGF5b3V0ID0gJ3VuaWZvcm0nLCAvLyB1bmlmb3JtLCB2YXJpYWJsZVxuICAgICAgICBjZWxsTWluSGVpZ2h0ID0gMjUsIC8vIGZvciBsYXlvdXQgPT0gJ3ZhcmlhYmxlJyAmJiBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnXG4gICAgICAgIGNlbGxNaW5XaWR0aCA9IDI1LCAvLyBmb3IgbGF5b3V0ID09ICd2YXJpYWJsZScgJiYgb3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgLy8gc2Nyb2xsZXIgc3BlY3M6XG4gICAgICAgIHJ1bndheVNpemUgPSAzLCAvLyB0aGUgbnVtYmVyIG9mIHJvd3Mgb3V0c2lkZSB0aGUgdmlldyBvZiBlYWNoIHNpZGUgb2YgdGhlIHZpZXdwb3J0IFxuICAgICAgICAgICAgLy8gLS0gZ2l2ZXMgdGltZSB0byBhc3NlbWJsZSBjZWxsRnJhbWVzIGJlZm9yZSBkaXNwbGF5XG4gICAgICAgIHN0YXJ0aW5nSW5kZXggPSAwLCAvLyB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGxpc3QsIHdoZW4gZmlyc3QgbG9hZGVkXG5cbiAgICAgICAgLy8gc3lzdGVtIHNwZWNzOlxuICAgICAgICBjYWNoZSA9ICdjcmFkbGUnLCAvLyBcInByZWxvYWRcIiwgXCJrZWVwbG9hZFwiIG9yIFwiY3JhZGxlXCJcbiAgICAgICAgY2FjaGVNYXggPSBudWxsLCAvLyBhbHdheXMgbWluaW11bSBjcmFkbGUgY29udGVudCBzaXplOyBmYWxzZXkgbWVhbnMgbGltaXRlZCBieSBsaXN0c2l6ZVxuICAgICAgICBwbGFjZWhvbGRlciwgLy8gb3B0aW9uYWwuIGEgc3BhcnNlIGNvbXBvbmVudCB0byBzdGFuZCBpbiBmb3IgY29udGVudCB1bnRpbCB0aGUgY29udGVudCBhcnJpdmVzOyBcbiAgICAgICAgICAgIC8vIHJlcGxhY2VzIGRlZmF1bHQgcGxhY2Vob2xkZXIgaWYgcHJlc2VudFxuICAgICAgICB1c2VQbGFjZWhvbGRlciA9IHRydWUsIC8vIG5vIHBsYWNlaG9sZGVyIHJlbmRlcmVkIGlmIGZhbHNlXG4gICAgICAgIHVzZVNjcm9sbFRyYWNrZXIgPSB0cnVlLCAvLyB0aGUgaW50ZXJuYWwgY29tcG9uZW50IHRvIGdpdmUgZmVlZGJhY2sgZm9yIHJlcG9zaXRpb25pbmdcblxuICAgICAgICAvLyBhZHZhbmNlZCBvYmplY3RzXG4gICAgICAgIHN0eWxlcyA9IHt9LCAvLyBvcHRpb25hbC4gcGFzc2l2ZSBzdHlsZSBvdmVyLXJpZGVzIChlZy4gY29sb3IsIG9wYWNpdHkpOyBoYXMgXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHZpZXdwb3J0LCBzY3JvbGxibG9jaywgY3JhZGxlLCBzY3JvbGx0cmFja2VyLCBwbGFjZWhvbGRlcmZyYW1lLCBcbiAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyZXJyb3JmcmFtZSwgcGxhY2Vob2xkZXJsaW5lciBvciBwbGFjZWhvbGRlcmVycm9ybGluZXIuIERvIG5vdCBtYWtlIHN0cnVjdHVyYWwgY2hhbmdlcyFcbiAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyA9IHt9LCAvLyBtZXNzYWdlcyBwcmVzZW50ZWQgYnkgZGVmYXVsdCBwbGFjZWhvbGRlci4gU2VlIGRvY3VtZW50YXRpb25cbiAgICAgICAgY2FsbGJhY2tzID0ge30sIC8vIG9wdGlvbmFsLiBjbG9zdXJlcyB0byBnZXQgZGlyZWN0IGluZm9ybWF0aW9uIHN0cmVhbXMgb2Ygc29tZSBjb21wb25lbnQgdXRpbGl0ZXNcbiAgICAgICAgICAgIC8vIGNhbiBjb250YWluIGZ1bmN0aW9uc0NhbGxiYWNrLCB3aGljaCBwcm92aWRlcyBhY2Nlc3MgdG8gaW50ZXJuYWwgc2Nyb2xsZXIgZnVuY3Rpb25zIFxuICAgICAgICAgICAgLy8obW9zdGx5IGNhY2hlIG1hbmFnZW1lbnQpXG4gICAgICAgIHRlY2huaWNhbCA9IHt9LCAvLyBvcHRpb25hbC4gdGVjaG5pY2FsIHNldHRpbmdzIGxpa2UgVklFV1BPUlRfUkVTSVpFX1RJTUVPVVRcbiAgICAgICAgY2FjaGVBUEkgPSBudWxsLFxuICAgICAgICBkcmFnZHJvcFByb3BlcnRpZXMsIC8vIHBsYWNlaG9sZGVyIVxuXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIGZvciBob3N0IGNlbGwgY29udGVudFxuICAgICAgICBzY3JvbGxlclByb3BlcnRpZXMsIC8vIHJlcXVpcmVkIGZvciBlbWJlZGRlZCBzY3JvbGxlcjsgc2hhcmVzIHNjcm9sbGVyIHNldHRpbmdzIHdpdGggY29udGVudFxuXG4gICAgfSA9IHByb3BzXG5cbiAgICBsZXQgaXNNaW5pbWFsUHJvcHNGYWlsID0gZmFsc2VcbiAgICBpZiAoIShjZWxsV2lkdGggJiYgY2VsbEhlaWdodCAmJiBnZXRJdGVtICkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JJR1M6IGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgYW5kIGdldEl0ZW0gYXJlIHJlcXVpcmVkJylcbiAgICAgICAgaXNNaW5pbWFsUHJvcHNGYWlsID0gdHJ1ZVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgRGF0YSBzZXR1cCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZXMgPSB7XG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIHN0YXJ0aW5nSW5kZXgsXG4gICAgICAgIHN0YXJ0aW5nTGlzdFNpemUsXG4gICAgICAgIHJ1bndheVNpemUsXG4gICAgICAgIGNhY2hlTWF4LFxuICAgIH1cblxuICAgIC8vIGF2b2lkIG51bGwvdW5kZWZpbmVkXG4gICAgc3R5bGVzID0gc3R5bGVzID8/IHt9XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzID8/IHt9XG4gICAgdGVjaG5pY2FsID0gdGVjaG5pY2FsID8/IHt9XG4gICAgc3RhcnRpbmdJbmRleCA9IHN0YXJ0aW5nSW5kZXggPz8gMFxuICAgIHN0YXJ0aW5nTGlzdFNpemUgPSBzdGFydGluZ0xpc3RTaXplID8/IDBcbiAgICBydW53YXlTaXplID0gcnVud2F5U2l6ZSA/PyAzXG4gICAgdXNlUGxhY2Vob2xkZXIgPSB1c2VQbGFjZWhvbGRlciA/PyB0cnVlXG4gICAgdXNlU2Nyb2xsVHJhY2tlciA9IHVzZVNjcm9sbFRyYWNrZXIgPz8gdHJ1ZVxuICAgIGNlbGxNaW5IZWlnaHQgPSBjZWxsTWluSGVpZ2h0ID8/IDBcbiAgICBjZWxsTWluV2lkdGggPSBjZWxsTWluV2lkdGggPz8gMFxuICAgIGNhY2hlTWF4ID0gY2FjaGVNYXggPz8gMFxuXG4gICAgY2VsbEhlaWdodCA9ICtjZWxsSGVpZ2h0XG4gICAgY2VsbFdpZHRoID0gK2NlbGxXaWR0aFxuICAgIGNlbGxNaW5IZWlnaHQgPSArY2VsbE1pbkhlaWdodFxuICAgIGNlbGxNaW5XaWR0aCA9ICtjZWxsTWluV2lkdGhcbiAgICBnYXAgPSArZ2FwXG4gICAgcGFkZGluZyA9ICtwYWRkaW5nXG4gICAgc3RhcnRpbmdJbmRleCA9ICtzdGFydGluZ0luZGV4XG4gICAgc3RhcnRpbmdMaXN0U2l6ZSA9ICtzdGFydGluZ0xpc3RTaXplXG4gICAgcnVud2F5U2l6ZSA9ICtydW53YXlTaXplXG4gICAgY2FjaGVNYXggPSArY2FjaGVNYXhcblxuICAgIGNvbnN0IHZlcmlmaWVkVmFsdWVzID0ge1xuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgIGNlbGxNaW5XaWR0aCxcbiAgICAgICAgZ2FwLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICBzdGFydGluZ0luZGV4LFxuICAgICAgICBzdGFydGluZ0xpc3RTaXplLFxuICAgICAgICBydW53YXlTaXplLFxuICAgICAgICBjYWNoZU1heCwgICAgICAgIFxuICAgIH1cblxuICAgIGNlbGxNaW5IZWlnaHQgPSBNYXRoLm1heChjZWxsTWluSGVpZ2h0LCAyNSlcbiAgICBjZWxsTWluV2lkdGggPSBNYXRoLm1heChjZWxsTWluV2lkdGgsIDI1KVxuICAgIGNlbGxNaW5IZWlnaHQgPSBNYXRoLm1pbihjZWxsSGVpZ2h0LCBjZWxsTWluSGVpZ2h0KVxuICAgIGNlbGxNaW5XaWR0aCA9IE1hdGgubWluKGNlbGxXaWR0aCwgY2VsbE1pbldpZHRoKVxuXG4gICAgLy8gcHJvcCBjb25zdHJhaW50cyAtIG5vbi1uZWdhdGl2ZSB2YWx1ZXNcbiAgICBydW53YXlTaXplID0gTWF0aC5tYXgoMSxydW53YXlTaXplKSAvLyBydW53YXlzaXplIG11c3QgYmUgYXQgbGVhc3QgMVxuICAgIHN0YXJ0aW5nTGlzdFNpemUgPSBNYXRoLm1heCgwLHN0YXJ0aW5nTGlzdFNpemUpXG4gICAgc3RhcnRpbmdJbmRleCA9IE1hdGgubWF4KDAsc3RhcnRpbmdJbmRleClcblxuICAgIC8vIHBhY2thZ2VcbiAgICBsZXQgcHJvYmxlbXMgPSAwXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHZlcmlmaWVkVmFsdWVzKSB7XG4gICAgICAgIGlmIChpc05hTih2ZXJpZmllZFZhbHVlc1twcm9wXSkpIHtcbiAgICAgICAgICAgIHByb2JsZW1zKytcbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICBpZiAocHJvYmxlbXMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6IGludmFsaWQgbnVtYmVyIC0gY29tcGFyZSBvcmlnaW5hbFZhbHVlcyBhbmQgdmVyaWZpZWRWYWx1ZXMnLCBcbiAgICAgICAgICAgIG9yaWdpbmFsVmFsdWVzLCB2ZXJpZmllZFZhbHVlcylcbiAgICB9XG5cbiAgICAvLyByYXRpb25hbGl6ZSBzdGFydGluZ0xpc3RzaXplIGFuZCBzdGFydGluZ0xpc3RSYW5nZVxuICAgIGlmICghcHJvYmxlbXMgJiYgc2Nyb2xsZXJTdGF0ZSA9PSAnc2V0dXAnKSB7XG5cbiAgICAgICAgbGV0IGdvb2RyYW5nZSA9IHRydWVcbiAgICAgICAgaWYgKCFzdGFydGluZ0xpc3RSYW5nZSB8fCBcbiAgICAgICAgICAgICFBcnJheS5pc0FycmF5KHN0YXJ0aW5nTGlzdFJhbmdlKSB8fCBcbiAgICAgICAgICAgICEoKHN0YXJ0aW5nTGlzdFJhbmdlLmxlbmd0aCA9PSAyKSB8fCAoc3RhcnRpbmdMaXN0UmFuZ2UubGVuZ3RoID09IDApKSkge1xuICAgICAgICAgICAgZ29vZHJhbmdlID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ29vZHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRpbmdMaXN0UmFuZ2UubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ0xpc3RTaXplID0gMFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgW2xvd2luZGV4LGhpZ2hpbmRleF0gPSBzdGFydGluZ0xpc3RSYW5nZVxuICAgICAgICAgICAgICAgIGxvd2luZGV4ID0gK2xvd2luZGV4XG4gICAgICAgICAgICAgICAgaGlnaGluZGV4ID0gK2hpZ2hpbmRleFxuICAgICAgICAgICAgICAgIGlmIChpc05hTihsb3dpbmRleCkgfHwgaXNOYU4oaGlnaGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICBnb29kcmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG93aW5kZXggPiBoaWdoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZHJhbmdlID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdvb2RyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydGluZ0xpc3RTaXplID0gaGlnaGluZGV4IC0gbG93aW5kZXggKyAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZ29vZHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRpbmdMaXN0U2l6ZSAmJiAoIWlzTmFOKHN0YXJ0aW5nTGlzdFNpemUpKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGlzdFJhbmdlID0gWzAsc3RhcnRpbmdMaXN0U2l6ZSAtIDFdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGlzdFJhbmdlID0gW11cbiAgICAgICAgICAgICAgICBzdGFydGluZ0xpc3RTaXplID0gMFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZW51bXNcbiAgICBpZiAoIVsnaG9yaXpvbnRhbCcsJ3ZlcnRpY2FsJ10uaW5jbHVkZXMob3JpZW50YXRpb24pKSB7IFxuICAgICAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCdcbiAgICB9XG4gICAgaWYgKCFbJ3ByZWxvYWQnLCdrZWVwbG9hZCcsJ2NyYWRsZSddLmluY2x1ZGVzKGNhY2hlKSkge1xuICAgICAgICBjYWNoZSA9ICdjcmFkbGUnXG4gICAgfVxuICAgIGlmICghWyd1bmlmb3JtJywgJ3ZhcmlhYmxlJ10uaW5jbHVkZXMobGF5b3V0KSkge1xuICAgICAgICBsYXlvdXQgPSAndW5pZm9ybSdcbiAgICB9XG5cbiAgICBjb25zdCBncmlkU3BlY3MgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBsYXlvdXQsXG4gICAgfVxuXG4gICAgY29uc3QgZ3JpZFNwZWNzUmVmID0gdXNlUmVmKGdyaWRTcGVjcylcblxuICAgIC8vIHN5c3RlbVxuICAgIGNvbnN0IHN0eWxlc1JlZiA9IHVzZVJlZihzdHlsZXMpXG4gICAgY29uc3QgY2FsbGJhY2tzUmVmID0gdXNlUmVmKGNhbGxiYWNrcylcbiAgICBjb25zdCBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmID0gdXNlUmVmKHBsYWNlaG9sZGVyTWVzc2FnZXMpXG5cbiAgICBsZXQge1xuXG4gICAgICAgIHNob3dBeGlzLCAvLyBib29sZWFuOyBheGlzIGNhbiBiZSBtYWRlIHZpc2libGUgZm9yIGRlYnVnXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LCAvLyBkaXN0YW5jZSBmcm9tIGNlbGwgaGVhZCBvciB0YWlsIGZvciBjb250ZW50IHNoaWZ0cyBhYm92ZS9iZWxvdyBheGlzXG4gICAgICAgIC8vIHRpbWVvdXRzXG4gICAgICAgIFZJRVdQT1JUX1JFU0laRV9USU1FT1VULFxuICAgICAgICBPTkFGVEVSU0NST0xMX1RJTUVPVVQsXG4gICAgICAgIElETEVDQUxMQkFDS19USU1FT1VULFxuICAgICAgICBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCxcbiAgICAgICAgLy8gcmF0aW9zOlxuICAgICAgICBNQVhfQ0FDSEVfT1ZFUl9SVU4sIC8vIG1heCBzdHJlYW1pbmcgb3Zlci1ydW4gYXMgcmF0aW8gdG8gY2FjaGVNYXhcbiAgICAgICAgQ0FDSEVfUEFSVElUSU9OX1NJWkUsIFxuXG4gICAgfSA9IHRlY2huaWNhbFxuXG4gICAgVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQgPSBWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCA/PyAyNTBcbiAgICBPTkFGVEVSU0NST0xMX1RJTUVPVVQgPSBPTkFGVEVSU0NST0xMX1RJTUVPVVQgPz8gMTAwXG4gICAgSURMRUNBTExCQUNLX1RJTUVPVVQgPSBJRExFQ0FMTEJBQ0tfVElNRU9VVCA/PyAyNTBcbiAgICBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCA9IFZBUklBQkxFX01FQVNVUkVNRU5UU19USU1FT1VUID8/IDI1MFxuICAgIFxuICAgIE1BWF9DQUNIRV9PVkVSX1JVTiA9IE1BWF9DQUNIRV9PVkVSX1JVTiA/PyAxLjVcbiAgICBDQUNIRV9QQVJUSVRJT05fU0laRSA9IENBQ0hFX1BBUlRJVElPTl9TSVpFID8/IDMwXG5cbiAgICBpZiAodHlwZW9mIHNob3dBeGlzICE9ICdib29sZWFuJykgc2hvd0F4aXMgPSBmYWxzZVxuXG4gICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSB0cmlnZ2VybGluZU9mZnNldCA/PyAxMFxuXG4gICAgaWYgKHR5cGVvZiB1c2VQbGFjZWhvbGRlciAhPSAnYm9vbGVhbicpIHVzZVBsYWNlaG9sZGVyID0gdHJ1ZVxuICAgIGlmICh0eXBlb2YgdXNlU2Nyb2xsVHJhY2tlciAhPSAnYm9vbGVhbicpIHVzZVNjcm9sbFRyYWNrZXIgPSB0cnVlXG5cbiAgICAvLyBmb3IgbW91bnQgdmVyc2lvblxuICAgIGNvbnN0IHNjcm9sbGVyU2Vzc2lvbklEUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3Qgc2Nyb2xsZXJJRCA9IHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnRcblxuICAgIC8vIGZvciBjaGlsZHJlblxuICAgIGNvbnN0IGNhY2hlQVBJUmVmID0gdXNlUmVmKGNhY2hlQVBJKVxuXG4gICAgY29uc3QgdXBkYXRlRnVuY3Rpb25SZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IGxpc3RzaXplUmVmID0gdXNlUmVmKHN0YXJ0aW5nTGlzdFNpemUpXG4gICAgY29uc3QgbGlzdFJhbmdlUmVmID0gdXNlUmVmKHN0YXJ0aW5nTGlzdFJhbmdlKVxuXG4gICAgY29uc3QgbGlzdHNpemUgPSBsaXN0c2l6ZVJlZi5jdXJyZW50XG4gICAgY29uc3QgbGlzdHJhbmdlID0gbGlzdFJhbmdlUmVmLmN1cnJlbnRcbiAgICBjb25zdCBbbG93bGlzdHJhbmdlLCBoaWdobGlzdHJhbmdlXSA9IGxpc3RyYW5nZSAvLyByYW5nZXMgdW5kZWZpbmVkIGlmIGxpc3RyYW5nZSBsZW5ndGggaXMgMFxuXG4gICAgY29uc3QgdmlydHVhbExpc3RTcGVjcyA9IHtcbiAgICAgICAgc2l6ZTpsaXN0c2l6ZSxcbiAgICAgICAgcmFuZ2U6bGlzdHJhbmdlLFxuICAgICAgICBsb3dpbmRleDpsb3dsaXN0cmFuZ2UsXG4gICAgICAgIGhpZ2hpbmRleDpoaWdobGlzdHJhbmdlLFxuICAgIH1cblxuICAgIGNvbnN0IHZpcnR1YWxMaXN0U3BlY3NSZWYgPSB1c2VSZWYodmlydHVhbExpc3RTcGVjcylcblxuICAgIGlmICghY29tcGFyZVByb3BzKHZpcnR1YWxMaXN0U3BlY3MsIHZpcnR1YWxMaXN0U3BlY3NSZWYuY3VycmVudCkpIHtcbiAgICAgICAgdmlydHVhbExpc3RTcGVjc1JlZi5jdXJyZW50ID0gdmlydHVhbExpc3RTcGVjc1xuICAgIH1cblxuICAgIC8vIHRlc3RzIGZvciBSZWFjdCB3aXRoIE9iamVjdC5pcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzOyBhdm9pZCByZS1yZW5kZXJzIHdpdGggbm8gY2hhbmdlXG4gICAgaWYgKCFjb21wYXJlUHJvcHMoZ3JpZFNwZWNzLCBncmlkU3BlY3NSZWYuY3VycmVudCkpIHtcbiAgICAgICAgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgPSBncmlkU3BlY3NcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhzdHlsZXMsIHN0eWxlc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBzdHlsZXNSZWYuY3VycmVudCA9IHN0eWxlc1xuICAgIH1cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhjYWxsYmFja3MsIGNhbGxiYWNrc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBjYWxsYmFja3NSZWYuY3VycmVudCA9IGNhbGxiYWNrc1xuICAgIH1cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyhwbGFjZWhvbGRlck1lc3NhZ2VzLCBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudCA9IHBsYWNlaG9sZGVyTWVzc2FnZXNcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBJbml0aWFsaXphdGlvbiBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgZ2V0Q2FjaGVBUEkgPSAoY2FjaGVBUEkpID0+IHtcblxuICAgICAgICBjYWNoZUFQSVJlZi5jdXJyZW50ID0gY2FjaGVBUElcblxuICAgIH1cblxuICAgIGNvbnN0IGdldFVwZGF0ZUZ1bmN0aW9uID0gKGZuKSA9PiB7XG5cbiAgICAgICAgdXBkYXRlRnVuY3Rpb25SZWYuY3VycmVudCA9IGZuXG5cbiAgICB9XG5cbiAgICBjb25zdCB1c2VMb2NhbENhY2hlID0gIWNhY2hlQVBJXG5cbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgdXNlRWZmZWN0ICgoKSA9PiB7XG5cbiAgICAgICAgaWYgKHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQgPT09IG51bGwpIHsgLy8gZGVmZW5kIGFnYWluc3QgUmVhY3QuU3RyaWN0TW9kZSBkb3VibGUgcnVuXG4gICAgICAgICAgICBzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50ID0gZ2xvYmFsU2Nyb2xsZXJJRCsrXG4gICAgICAgIH1cblxuICAgIH0sW10pO1xuXG4gICAgY29uc3Qgc2V0VmlydHVhbExpc3RSYW5nZSA9IHVzZUNhbGxiYWNrKChsaXN0cmFuZ2UpID0+e1xuXG4gICAgICAgIGxldCBsaXN0c2l6ZVxuICAgICAgICBpZiAobGlzdHJhbmdlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBsaXN0c2l6ZSA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IFtsb3dyYW5nZSwgaGlnaHJhbmdlXSA9IGxpc3RyYW5nZVxuICAgICAgICAgICAgbGlzdHNpemUgPSBoaWdocmFuZ2UgLSBsb3dyYW5nZSArIDFcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3RzaXplUmVmLmN1cnJlbnQgPSBsaXN0c2l6ZVxuICAgICAgICBsaXN0UmFuZ2VSZWYuY3VycmVudCA9IGxpc3RyYW5nZVxuXG4gICAgICAgIC8vIGluZm9ybSB0aGUgdXNlclxuICAgICAgICBjYWxsYmFja3NSZWYuY3VycmVudC5jaGFuZ2VMaXN0UmFuZ2VDYWxsYmFjayAmJiBcbiAgICAgICAgICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50LmNoYW5nZUxpc3RSYW5nZUNhbGxiYWNrKGxpc3RyYW5nZSlcblxuICAgICAgICBzZXRTY3JvbGxlclN0YXRlKCdzZXRsaXN0cHJvcHMnKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIGNhbGxlZCB3aGVuIGdldEl0ZW0gcmV0dXJucyBudWxsLCBvciBkaXJlY3QgY2FsbCBmcm9tIHVzZXIgKHNlZSBzZXJ2aWNlSGFuZGxlcilcbiAgICBjb25zdCBzZXRWaXJ0dWFsTGlzdFNpemUgPSB1c2VDYWxsYmFjaygobGlzdHNpemUpID0+e1xuXG4gICAgICAgIGxldCBsaXN0cmFuZ2UgPSBsaXN0UmFuZ2VSZWYuY3VycmVudFxuICAgICAgICBpZiAobGlzdHNpemUgPT0gMCkge1xuICAgICAgICAgICAgbGlzdHJhbmdlID0gW11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsaXN0cmFuZ2UubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBsaXN0cmFuZ2UgPSBbMCxsaXN0c2l6ZSAtIDFdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtsb3dpbmRleCxoaWdoaW5kZXhdID0gbGlzdFJhbmdlUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBsaXN0cmFuZ2UgPSBbbG93aW5kZXgsbG93aW5kZXggKyBsaXN0c2l6ZSAtIDFdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0c2l6ZVJlZi5jdXJyZW50ID0gbGlzdHNpemVcbiAgICAgICAgbGlzdFJhbmdlUmVmLmN1cnJlbnQgPSBsaXN0cmFuZ2VcblxuICAgICAgICAvLyBpbmZvcm0gdGhlIHVzZXJcbiAgICAgICAgY2FsbGJhY2tzUmVmLmN1cnJlbnQuY2hhbmdlTGlzdFNpemVDYWxsYmFjayAmJiBcbiAgICAgICAgICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50LmNoYW5nZUxpc3RTaXplQ2FsbGJhY2sobGlzdHNpemUpXG5cbiAgICAgICAgc2V0U2Nyb2xsZXJTdGF0ZSgnc2V0bGlzdHByb3BzJylcblxuICAgIH0sW10pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFN0YXRlIGhhbmRsaW5nIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGl0ZW1TZXRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgc3dpdGNoIChzY3JvbGxlclN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzpcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlIGNhY2hlQVBJIHdpdGggZmFjYWRlIHdoaWNoIGluY2x1ZGVzIGhpZGRlbiBzY3JvbGxlcklEXG4gICAgICAgICAgICAgICAgY2FjaGVBUElSZWYuY3VycmVudCA9IGNhY2hlQVBJUmVmLmN1cnJlbnQucmVnaXN0ZXJTY3JvbGxlcihzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgIGl0ZW1TZXRSZWYuY3VycmVudCA9IGNhY2hlQVBJUmVmLmN1cnJlbnQuaXRlbVNldCAvLyBmb3IgdW5tb3VudCB1blJlZ2lzdGVyU2Nyb2xsZXJcblxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVGdW5jdGlvblJlZi5jdXJyZW50KSB7IC8vIG9idGFpbmVkIGZyb20gUG9ydGFsQ2FjaGVcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSVJlZi5jdXJyZW50LnBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZSA9IHVwZGF0ZUZ1bmN0aW9uUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc2V0bGlzdHByb3BzJzpcbiAgICAgICAgICAgICAgICBzZXRTY3JvbGxlclN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgIGNhY2hlQVBJUmVmLmN1cnJlbnQudW5SZWdpc3RlclNjcm9sbGVyKGl0ZW1TZXRSZWYuY3VycmVudClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW3Njcm9sbGVyU3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFJlbmRlciBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBpZiAocHJvYmxlbXMgfHwgaXNNaW5pbWFsUHJvcHNGYWlsKSB7XG4gICAgICAgIHJldHVybiA8ZGl2PmVycm9yOiBzZWUgY29uc29sZS48L2Rpdj4gICAgICAgIFxuICAgIH1cblxuICAgIC8vIGNvbXBvbmVudCBjYWxscyBhcmUgZGVmZXJyZWQgYnkgc2Nyb2xsZXJTdGF0ZSB0byBnaXZlIGNhY2hlQVBJIGEgY2hhbmNlIHRvIGluaXRpYWxpemVcbiAgICByZXR1cm4gPEVycm9yQm91bmRhcnlcbiAgICAgICAgRmFsbGJhY2tDb21wb25lbnQ9IHsgRXJyb3JGYWxsYmFjayB9XG4gICAgICAgIC8vIGVsYWJvcmF0aW9uIFRCRFxuICAgICAgICBvblJlc2V0ID0geyAoKSA9PiB7fSB9XG4gICAgICAgIG9uRXJyb3IgPSB7ICgpID0+IHt9IH1cbiAgICAgICAgLy8gb25FcnJvciA9IHsoZXJyb3I6IEVycm9yLCBpbmZvOiB7Y29tcG9uZW50U3RhY2s6IHN0cmluZ30pID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdyZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyIGNhcHR1cmVkIGVycm9yJywgZXJyb3IpXG4gICAgICAgIC8vIH19XG4gICAgPlxuXG4gICAgICAgIHsoc2Nyb2xsZXJTdGF0ZSAhPSAnc2V0dXAnKSAmJiA8Vmlld3BvcnRcblxuICAgICAgICAgICAgZ3JpZFNwZWNzID0geyBncmlkU3BlY3NSZWYuY3VycmVudCB9XG4gICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuICAgICAgICAgICAgVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQgPSB7IFZJRVdQT1JUX1JFU0laRV9USU1FT1VUIH1cbiAgICAgICAgICAgIHVzZVNjcm9sbFRyYWNrZXIgPSB7IHVzZVNjcm9sbFRyYWNrZXIgfVxuXG4gICAgICAgID5cbiAgICAgICAgXG4gICAgICAgICAgICB7PFNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgICAgICBncmlkU3BlY3MgPSB7IGdyaWRTcGVjc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFNwZWNzID0ge3ZpcnR1YWxMaXN0U3BlY3NSZWYuY3VycmVudH1cbiAgICAgICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlcklEIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q3JhZGxlIFxuXG4gICAgICAgICAgICAgICAgICAgIGdyaWRTcGVjcyA9IHsgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbExpc3RTcGVjcyA9IHt2aXJ0dWFsTGlzdFNwZWNzUmVmLmN1cnJlbnR9XG4gICAgICAgICAgICAgICAgICAgIHNldFZpcnR1YWxMaXN0U2l6ZSA9IHsgc2V0VmlydHVhbExpc3RTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VmlydHVhbExpc3RSYW5nZSA9IHsgc2V0VmlydHVhbExpc3RSYW5nZSB9XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlID0geyBjYWNoZSB9XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlTWF4ID0geyBjYWNoZU1heCB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJDYWxsYmFja3MgPSB7IGNhbGxiYWNrc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdJbmRleCA9IHsgc3RhcnRpbmdJbmRleCB9XG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0gPSB7IGdldEl0ZW0gfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA9IHsgcGxhY2Vob2xkZXIgfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzID0geyBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBydW53YXlTaXplID0geyBydW53YXlTaXplIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQgPSB7IHRyaWdnZXJsaW5lT2Zmc2V0IH1cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzID0geyBzY3JvbGxlclByb3BlcnRpZXMgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJID0geyBjYWNoZUFQSVJlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICAgICAgdXNlUGxhY2Vob2xkZXIgPSB7IHVzZVBsYWNlaG9sZGVyIH1cbiAgICAgICAgICAgICAgICAgICAgdXNlU2Nyb2xsVHJhY2tlciA9IHsgdXNlU2Nyb2xsVHJhY2tlciB9XG4gICAgICAgICAgICAgICAgICAgIHNob3dBeGlzID0geyBzaG93QXhpcyB9XG4gICAgICAgICAgICAgICAgICAgIE9OQUZURVJTQ1JPTExfVElNRU9VVCA9IHsgT05BRlRFUlNDUk9MTF9USU1FT1VUIH1cbiAgICAgICAgICAgICAgICAgICAgSURMRUNBTExCQUNLX1RJTUVPVVQgPSB7IElETEVDQUxMQkFDS19USU1FT1VUIH1cbiAgICAgICAgICAgICAgICAgICAgTUFYX0NBQ0hFX09WRVJfUlVOID0geyBNQVhfQ0FDSEVfT1ZFUl9SVU4gfVxuICAgICAgICAgICAgICAgICAgICBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCA9IHsgVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQgfVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlcklEIH1cblxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1Njcm9sbGJsb2NrPn1cbiAgICAgICAgPC9WaWV3cG9ydD59XG4gICAgICAgIDxkaXY+XG4gICAgICAgIHt1c2VMb2NhbENhY2hlICYmIDxkaXYgZGF0YS10eXBlID0gJ2NhY2hlcm9vdCcgc3R5bGUgPSB7IGNhY2hlcm9vdHN0eWxlIH0+XG4gICAgICAgICAgICA8UG9ydGFsQ2FjaGUgXG5cbiAgICAgICAgICAgICAgICBnZXRDYWNoZUFQSSA9IHsgZ2V0Q2FjaGVBUEkgfSBcbiAgICAgICAgICAgICAgICBnZXRVcGRhdGVGdW5jdGlvbiA9IHsgZ2V0VXBkYXRlRnVuY3Rpb24gfVxuICAgICAgICAgICAgICAgIENBQ0hFX1BBUlRJVElPTl9TSVpFID0geyBDQUNIRV9QQVJUSVRJT05fU0laRSB9IC8+XG5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICA8L2Rpdj5cbiAgICA8L0Vycm9yQm91bmRhcnk+XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZmluaXRlR3JpZFNjcm9sbGVyXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFN1cHBvcnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBjYWNoZXJvb3RzdHlsZSA9IHtkaXNwbGF5Oidub25lJ30vLyBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzIC8vIHN0YXRpYywgb3V0IG9mIHZpZXcgXG5cbi8vIHV0aWxpdHlcbmZ1bmN0aW9uIGNvbXBhcmVQcm9wcyAob2JqMSxvYmoyKSB7XG4gICAgaWYgKCFvYmoxIHx8ICFvYmoyKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqMSlcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmICghT2JqZWN0LmlzKG9iajFba2V5XSxvYmoyW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxufVxuIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJyZWFjdF9lcnJvcl9ib3VuZGFyeV8xIiwiaXNTYWZhcmlJT1MiLCJpc19pb3MiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc19zYWZhcmkiLCJtYXRjaCIsImV4cG9ydHMiLCJFcnJvckZhbGxiYWNrIiwiX3JlZiIsImVycm9yIiwicmVzZXRFcnJvckJvdW5kYXJ5IiwiY3JlYXRlRWxlbWVudCIsInJvbGUiLCJzdHlsZSIsIm1hcmdpbiIsImJvcmRlciIsInBhZGRpbmciLCJvbkNsaWNrIiwiVmlld3BvcnRfMSIsIl9faW1wb3J0RGVmYXVsdCIsIlNjcm9sbGJsb2NrXzEiLCJDcmFkbGVfMSIsIlBvcnRhbENhY2hlXzEiLCJnbG9iYWxTY3JvbGxlcklEIiwiSW5maW5pdGVHcmlkU2Nyb2xsZXIiLCJwcm9wcyIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsInNjcm9sbGVyU3RhdGUiLCJzZXRTY3JvbGxlclN0YXRlIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsIl9wcm9wcyRzdGFydGluZ0xpc3RTaSIsInN0YXJ0aW5nTGlzdFNpemUiLCJfcHJvcHMkc3RhcnRpbmdMaXN0UmEiLCJzdGFydGluZ0xpc3RSYW5nZSIsImdldEl0ZW0iLCJfcHJvcHMkb3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiIsIl9wcm9wcyRnYXAiLCJnYXAiLCJfcHJvcHMkcGFkZGluZyIsIl9wcm9wcyRsYXlvdXQiLCJsYXlvdXQiLCJfcHJvcHMkY2VsbE1pbkhlaWdodCIsImNlbGxNaW5IZWlnaHQiLCJfcHJvcHMkY2VsbE1pbldpZHRoIiwiY2VsbE1pbldpZHRoIiwiX3Byb3BzJHJ1bndheVNpemUiLCJydW53YXlTaXplIiwiX3Byb3BzJHN0YXJ0aW5nSW5kZXgiLCJzdGFydGluZ0luZGV4IiwiX3Byb3BzJGNhY2hlIiwiY2FjaGUiLCJfcHJvcHMkY2FjaGVNYXgiLCJjYWNoZU1heCIsInBsYWNlaG9sZGVyIiwiX3Byb3BzJHVzZVBsYWNlaG9sZGVyIiwidXNlUGxhY2Vob2xkZXIiLCJfcHJvcHMkdXNlU2Nyb2xsVHJhY2siLCJ1c2VTY3JvbGxUcmFja2VyIiwiX3Byb3BzJHN0eWxlcyIsInN0eWxlcyIsIl9wcm9wcyRwbGFjZWhvbGRlck1lcyIsInBsYWNlaG9sZGVyTWVzc2FnZXMiLCJfcHJvcHMkY2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwiX3Byb3BzJHRlY2huaWNhbCIsInRlY2huaWNhbCIsIl9wcm9wcyRjYWNoZUFQSSIsImNhY2hlQVBJIiwiZHJhZ2Ryb3BQcm9wZXJ0aWVzIiwic2Nyb2xsZXJQcm9wZXJ0aWVzIiwiaXNNaW5pbWFsUHJvcHNGYWlsIiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsVmFsdWVzIiwidmVyaWZpZWRWYWx1ZXMiLCJNYXRoIiwibWF4IiwibWluIiwicHJvYmxlbXMiLCJwcm9wIiwiaXNOYU4iLCJnb29kcmFuZ2UiLCJfc3RhcnRpbmdMaXN0UmFuZ2UiLCJfc3RhcnRpbmdMaXN0UmFuZ2UyIiwibG93aW5kZXgiLCJoaWdoaW5kZXgiLCJpbmNsdWRlcyIsImdyaWRTcGVjcyIsImdyaWRTcGVjc1JlZiIsInVzZVJlZiIsInN0eWxlc1JlZiIsImNhbGxiYWNrc1JlZiIsInBsYWNlaG9sZGVyTWVzc2FnZXNSZWYiLCJfdGVjaG5pY2FsIiwic2hvd0F4aXMiLCJ0cmlnZ2VybGluZU9mZnNldCIsIlZJRVdQT1JUX1JFU0laRV9USU1FT1VUIiwiT05BRlRFUlNDUk9MTF9USU1FT1VUIiwiSURMRUNBTExCQUNLX1RJTUVPVVQiLCJWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCIsIk1BWF9DQUNIRV9PVkVSX1JVTiIsIkNBQ0hFX1BBUlRJVElPTl9TSVpFIiwic2Nyb2xsZXJTZXNzaW9uSURSZWYiLCJzY3JvbGxlcklEIiwiY3VycmVudCIsImNhY2hlQVBJUmVmIiwidXBkYXRlRnVuY3Rpb25SZWYiLCJsaXN0c2l6ZVJlZiIsImxpc3RSYW5nZVJlZiIsImxpc3RzaXplIiwibGlzdHJhbmdlIiwiX2xpc3RyYW5nZSIsImxvd2xpc3RyYW5nZSIsImhpZ2hsaXN0cmFuZ2UiLCJ2aXJ0dWFsTGlzdFNwZWNzIiwic2l6ZSIsInJhbmdlIiwidmlydHVhbExpc3RTcGVjc1JlZiIsImNvbXBhcmVQcm9wcyIsImdldENhY2hlQVBJIiwiZ2V0VXBkYXRlRnVuY3Rpb24iLCJmbiIsInVzZUxvY2FsQ2FjaGUiLCJpc01vdW50ZWRSZWYiLCJ1c2VFZmZlY3QiLCJzZXRWaXJ0dWFsTGlzdFJhbmdlIiwidXNlQ2FsbGJhY2siLCJfbGlzdHJhbmdlMiIsImxvd3JhbmdlIiwiaGlnaHJhbmdlIiwiY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2siLCJzZXRWaXJ0dWFsTGlzdFNpemUiLCJfbGlzdFJhbmdlUmVmJGN1cnJlbnQiLCJjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrIiwiaXRlbVNldFJlZiIsInJlZ2lzdGVyU2Nyb2xsZXIiLCJpdGVtU2V0IiwicGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlIiwidW5SZWdpc3RlclNjcm9sbGVyIiwiRXJyb3JCb3VuZGFyeSIsIkZhbGxiYWNrQ29tcG9uZW50Iiwib25SZXNldCIsIm9uRXJyb3IiLCJ1c2VyQ2FsbGJhY2tzIiwiY2FjaGVyb290c3R5bGUiLCJkaXNwbGF5Iiwib2JqMSIsIm9iajIiLCJrZXlzIiwiX2kyIiwiX2tleXMiLCJrZXkiLCJpcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/InfiniteGridScroller.tsx\n')},"./src/PortalCache.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// PortalCache.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of PortalCache is to hold the React portals in a cache.\n    The portals are actually held in an extendible series of CachePartition components, as controlled by cacheAPI.\n    Portals only exist in the React virtual DOM.\n    The cache can be shared among InfiniteGridScroller components.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar cacheAPI_1 = __importDefault(__webpack_require__(/*! ./portalcache/cacheAPI */ "./src/portalcache/cacheAPI.tsx"));\nvar PortalCache = function PortalCache(_ref) {\n  var CACHE_PARTITION_SIZE = _ref.CACHE_PARTITION_SIZE,\n    getCacheAPI = _ref.getCacheAPI,\n    getUpdateFunction = _ref.getUpdateFunction;\n  var cacheAPIRef = (0, react_1.useRef)(null);\n  var partitionArrayRef = (0, react_1.useRef)(null);\n  var partitionRepoForceUpdate = (0, react_1.useCallback)(function (partitionRenderList) {\n    partitionArrayRef.current = partitionRenderList;\n    isMountedRef.current && setPortalCacheCounter(++counterRef.current); // force render\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (cacheAPIRef.current) return;\n    var cacheAPI = new cacheAPI_1["default"](CACHE_PARTITION_SIZE);\n    cacheAPIRef.current = cacheAPI;\n    getCacheAPI(cacheAPI);\n    getUpdateFunction(partitionRepoForceUpdate);\n  }, []);\n  var _ref2 = (0, react_1.useState)(0),\n    _ref3 = _slicedToArray(_ref2, 2),\n    portalCacheCounter = _ref3[0],\n    setPortalCacheCounter = _ref3[1];\n  var counterRef = (0, react_1.useRef)(portalCacheCounter);\n  var _ref4 = (0, react_1.useState)(\'setup\'),\n    _ref5 = _slicedToArray(_ref4, 2),\n    masterState = _ref5[0],\n    setMasterState = _ref5[1];\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    switch (masterState) {\n      case \'setup\':\n        {\n          setMasterState(\'ready\');\n        }\n    }\n  }, [masterState]);\n  return react_1["default"].createElement("div", {\n    "data-type": \'portal-master\'\n  }, partitionArrayRef.current);\n};\nexports["default"] = PortalCache;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQyxPQUFPLENBQUM7SUFBQUksS0FBQSxHQUFBcEUsY0FBQSxDQUFBbUUsS0FBQTtJQUFoREUsV0FBVyxHQUFBRCxLQUFBO0lBQUVFLGNBQWMsR0FBQUYsS0FBQTtFQUVsQyxJQUFNVixZQUFZLEdBQUcsSUFBQWpCLE9BQUEsQ0FBQVcsTUFBTSxFQUFDLElBQUksQ0FBQztFQUVqQyxJQUFBWCxPQUFBLENBQUFvQixTQUFTLEVBQUMsWUFBSTtJQUVWSCxZQUFZLENBQUNELE9BQU8sR0FBRyxJQUFJO0lBRTNCLE9BQU8sWUFBSztNQUVSQyxZQUFZLENBQUNELE9BQU8sR0FBRyxLQUFLO0lBRWhDLENBQUM7RUFFTCxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUwsSUFBQWhCLE9BQUEsQ0FBQW9CLFNBQVMsRUFBQyxZQUFJO0lBRVYsUUFBUVEsV0FBVztNQUNmLEtBQUssT0FBTztRQUFFO1VBQ1ZDLGNBQWMsQ0FBQyxPQUFPLENBQUM7OztFQUluQyxDQUFDLEVBQUMsQ0FBQ0QsV0FBVyxDQUFDLENBQUM7RUFFaEIsT0FBTzVCLE9BQUEsWUFBQThCLGFBQUE7SUFBQSxhQUFpQjtFQUFlLEdBQUVsQixpQkFBaUIsQ0FBQ0ksT0FBTyxDQUFPO0FBRTdFLENBQUM7QUFFRGUsa0JBQUEsR0FBZTFCLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL1BvcnRhbENhY2hlLnRzeD9iMjExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBvcnRhbENhY2hlLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiBQb3J0YWxDYWNoZSBpcyB0byBob2xkIHRoZSBSZWFjdCBwb3J0YWxzIGluIGEgY2FjaGUuXG4gICAgVGhlIHBvcnRhbHMgYXJlIGFjdHVhbGx5IGhlbGQgaW4gYW4gZXh0ZW5kaWJsZSBzZXJpZXMgb2YgQ2FjaGVQYXJ0aXRpb24gY29tcG9uZW50cywgYXMgY29udHJvbGxlZCBieSBjYWNoZUFQSS5cbiAgICBQb3J0YWxzIG9ubHkgZXhpc3QgaW4gdGhlIFJlYWN0IHZpcnR1YWwgRE9NLlxuICAgIFRoZSBjYWNoZSBjYW4gYmUgc2hhcmVkIGFtb25nIEluZmluaXRlR3JpZFNjcm9sbGVyIGNvbXBvbmVudHMuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHtGQywgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFja30gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDYWNoZUFQSSBmcm9tICcuL3BvcnRhbGNhY2hlL2NhY2hlQVBJJ1xuXG5jb25zdCBQb3J0YWxDYWNoZTpGQzxhbnk+ID0gKHtDQUNIRV9QQVJUSVRJT05fU0laRSwgZ2V0Q2FjaGVBUEksIGdldFVwZGF0ZUZ1bmN0aW9uIH0pID0+IHtcblxuICAgIGNvbnN0IGNhY2hlQVBJUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBjb25zdCBwYXJ0aXRpb25BcnJheVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgY29uc3QgcGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlID0gdXNlQ2FsbGJhY2soKHBhcnRpdGlvblJlbmRlckxpc3Q6YW55KSA9PiB7XG5cbiAgICAgICAgcGFydGl0aW9uQXJyYXlSZWYuY3VycmVudCA9IHBhcnRpdGlvblJlbmRlckxpc3RcblxuICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCAmJiBzZXRQb3J0YWxDYWNoZUNvdW50ZXIoKytjb3VudGVyUmVmLmN1cnJlbnQpIC8vIGZvcmNlIHJlbmRlclxuXG4gICAgfSxbXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgaWYgKGNhY2hlQVBJUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGNhY2hlQVBJID0gbmV3IENhY2hlQVBJKENBQ0hFX1BBUlRJVElPTl9TSVpFKVxuXG4gICAgICAgIGNhY2hlQVBJUmVmLmN1cnJlbnQgPSBjYWNoZUFQSVxuXG4gICAgICAgIGdldENhY2hlQVBJKGNhY2hlQVBJKVxuICAgICAgICBnZXRVcGRhdGVGdW5jdGlvbihwYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUpXG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3QgW3BvcnRhbENhY2hlQ291bnRlciwgc2V0UG9ydGFsQ2FjaGVDb3VudGVyXSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgY291bnRlclJlZiA9IHVzZVJlZihwb3J0YWxDYWNoZUNvdW50ZXIpXG5cbiAgICBjb25zdCBbbWFzdGVyU3RhdGUsIHNldE1hc3RlclN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG5cbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSB1c2VSZWYodHJ1ZSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICB9LFtdKSBcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHN3aXRjaCAobWFzdGVyU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzoge1xuICAgICAgICAgICAgICAgIHNldE1hc3RlclN0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sW21hc3RlclN0YXRlXSlcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtdHlwZSA9ICdwb3J0YWwtbWFzdGVyJz57cGFydGl0aW9uQXJyYXlSZWYuY3VycmVudH08L2Rpdj5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWxDYWNoZVxuIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJjYWNoZUFQSV8xIiwiX19pbXBvcnREZWZhdWx0IiwiUG9ydGFsQ2FjaGUiLCJfcmVmIiwiQ0FDSEVfUEFSVElUSU9OX1NJWkUiLCJnZXRDYWNoZUFQSSIsImdldFVwZGF0ZUZ1bmN0aW9uIiwiY2FjaGVBUElSZWYiLCJ1c2VSZWYiLCJwYXJ0aXRpb25BcnJheVJlZiIsInBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZSIsInVzZUNhbGxiYWNrIiwicGFydGl0aW9uUmVuZGVyTGlzdCIsImN1cnJlbnQiLCJpc01vdW50ZWRSZWYiLCJzZXRQb3J0YWxDYWNoZUNvdW50ZXIiLCJjb3VudGVyUmVmIiwidXNlRWZmZWN0IiwiY2FjaGVBUEkiLCJfcmVmMiIsInVzZVN0YXRlIiwiX3JlZjMiLCJwb3J0YWxDYWNoZUNvdW50ZXIiLCJfcmVmNCIsIl9yZWY1IiwibWFzdGVyU3RhdGUiLCJzZXRNYXN0ZXJTdGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PortalCache.tsx\n')},"./src/Scrollblock.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Scrollblock.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n\n    The scrollblock provides the scrollable element (scrolled by Viewport) of the infinite grid scroller.\n    It is sized according to the given cell size and row counts, adjusted for variable cradle content.\n    Its only state change is change of styles.\n\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ "./src/Viewport.tsx");\nvar Scrollblock = function Scrollblock(_ref) {\n  var children = _ref.children,\n    virtualListSpecs = _ref.virtualListSpecs,\n    gridSpecs = _ref.gridSpecs,\n    styles = _ref.styles,\n    scrollerID = _ref.scrollerID;\n  var orientation = gridSpecs.orientation,\n    gap = gridSpecs.gap,\n    padding = gridSpecs.padding,\n    cellHeight = gridSpecs.cellHeight,\n    cellWidth = gridSpecs.cellWidth;\n  var listsize = virtualListSpecs.size;\n  // -------------------------[ context and state ]-------------------------\n  var ViewportContextProperties = (0, react_1.useContext)(Viewport_1.ViewportContext);\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    blockState = _ref3[0],\n    setBlockState = _ref3[1]; // to trigger render\n  // -----------------------------------[ data heap ]-------------------------\n  var baseScrollBlockLengthRef = (0, react_1.useRef)(null);\n  // just for init\n  var linerStyle = (0, react_1.useMemo)(function () {\n    return Object.assign(Object.assign({}, styles.scrollblock), {\n      position: \'relative\'\n    });\n  }, []);\n  var divlinerstyleRef = (0, react_1.useRef)(linerStyle);\n  var getViewportDimensions = function getViewportDimensions() {\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    return {\n      width: viewportElement.offsetWidth,\n      height: viewportElement.offsetHeight\n    };\n  };\n  var _getViewportDimension = getViewportDimensions(),\n    height = _getViewportDimension.height,\n    width = _getViewportDimension.width; // viewportDimensions\n  // const { width, height } = ViewportContextProperties.viewportDimensions\n  // reconfigure\n  (0, react_1.useLayoutEffect)(function () {\n    updateBaseBlockLength({\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width,\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gap: gap,\n      padding: padding\n    });\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, baseScrollBlockLengthRef, cellWidth, cellHeight, padding);\n    setBlockState(\'update\');\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gap, padding]);\n  var updateBaseBlockLength = (0, react_1.useCallback)(function (layoutspecs) {\n    var basescrollblocklength = calcBaseScrollblockLength(layoutspecs);\n    baseScrollBlockLengthRef.current = basescrollblocklength;\n  }, []);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (blockState) {\n      case \'setup\':\n      case \'update\':\n        {\n          setBlockState(\'ready\');\n        }\n    }\n  }, [blockState]);\n  return react_1["default"].createElement("div", {\n    "data-type": \'scrollblock\',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\nexports["default"] = Scrollblock;\n// any of the parameters can affect the length\nvar calcBaseScrollblockLength = function calcBaseScrollblockLength(_ref4) {\n  var orientation = _ref4.orientation,\n    viewportheight = _ref4.viewportheight,\n    viewportwidth = _ref4.viewportwidth,\n    listsize = _ref4.listsize,\n    cellHeight = _ref4.cellHeight,\n    cellWidth = _ref4.cellWidth,\n    gap = _ref4.gap,\n    padding = _ref4.padding;\n  // ---------------[ calculate crosscount ]------------------\n  //crosscount is also calculated by Cradle\n  var crosslength;\n  var cellLength;\n  var viewportcrosslength;\n  if (orientation == \'vertical\') {\n    crosslength = cellWidth + gap;\n    cellLength = cellHeight + gap;\n    viewportcrosslength = viewportwidth;\n  } else {\n    // \'horizontal\'\n    crosslength = cellHeight + gap;\n    cellLength = cellWidth + gap;\n    viewportcrosslength = viewportheight;\n  }\n  // adjustments to viewportcrosslength\n  viewportcrosslength -= padding * 2;\n  viewportcrosslength += gap; // to match crossLength\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n  var crosscount = Math.floor(viewportcrosslength / crosslength);\n  // -------------------[ calculate scrollblock length ]-----------------\n  var listrowcount = Math.ceil(listsize / crosscount);\n  var baselength = listrowcount * cellLength - (listrowcount > 0 ? gap :\n  // final cell has no trailing gap\n  0) + padding * 2; // leading and trailing padding\n  return baselength;\n};\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, baseScrollblocklengthRef, cellWidth, cellHeight, padding) {\n  var localstyles = Object.assign({}, stylesRef.current); // new object\n  var height, width, minHeight, minWidth;\n  if (orientation == \'vertical\') {\n    height = baseScrollblocklengthRef.current + \'px\';\n    width = \'100%\';\n    minWidth = cellWidth + padding * 2 + \'px\';\n    minHeight = null;\n  } else {\n    // orientation == \'horizontal\'\n    height = \'100%\';\n    width = baseScrollblocklengthRef.current + \'px\';\n    minHeight = cellHeight + padding * 2 + \'px\';\n    minWidth = null;\n  }\n  localstyles.height = height;\n  localstyles.width = width;\n  localstyles.minHeight = minHeight;\n  localstyles.minWidth = minWidth;\n  return localstyles;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ2QrQixRQUFRLEdBQUl0RCxTQUFTLEdBQUlGLE9BQU8sR0FBRyxDQUFFLEdBQUksSUFBSTtJQUM3Q3VELFNBQVMsR0FBRyxJQUFJO0dBQ25CLE1BQU07SUFBRTtJQUNMNUIsTUFBTSxHQUFHLE1BQU07SUFDZkYsS0FBSyxHQUFHNEIsd0JBQXdCLENBQUM3QixPQUFPLEdBQUcsSUFBSTtJQUMvQytCLFNBQVMsR0FBSXRELFVBQVUsR0FBSUQsT0FBTyxHQUFHLENBQUUsR0FBSSxJQUFJO0lBQy9Dd0QsUUFBUSxHQUFHLElBQUk7O0VBRW5CRixXQUFXLENBQUMzQixNQUFNLEdBQUdBLE1BQU07RUFDM0IyQixXQUFXLENBQUM3QixLQUFLLEdBQUdBLEtBQUs7RUFDekI2QixXQUFXLENBQUNDLFNBQVMsR0FBR0EsU0FBUztFQUNqQ0QsV0FBVyxDQUFDRSxRQUFRLEdBQUdBLFFBQVE7RUFFL0IsT0FBT0YsV0FBVztBQUV0QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9TY3JvbGxibG9jay50c3g/M2I2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTY3JvbGxibG9jay50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG5cbiAgICBUaGUgc2Nyb2xsYmxvY2sgcHJvdmlkZXMgdGhlIHNjcm9sbGFibGUgZWxlbWVudCAoc2Nyb2xsZWQgYnkgVmlld3BvcnQpIG9mIHRoZSBpbmZpbml0ZSBncmlkIHNjcm9sbGVyLlxuICAgIEl0IGlzIHNpemVkIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gY2VsbCBzaXplIGFuZCByb3cgY291bnRzLCBhZGp1c3RlZCBmb3IgdmFyaWFibGUgY3JhZGxlIGNvbnRlbnQuXG4gICAgSXRzIG9ubHkgc3RhdGUgY2hhbmdlIGlzIGNoYW5nZSBvZiBzdHlsZXMuXG5cbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlU3RhdGUsIHVzZU1lbW99IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBWaWV3cG9ydENvbnRleHQgfSBmcm9tICcuL1ZpZXdwb3J0J1xuXG5jb25zdCBTY3JvbGxibG9jayA9ICh7XG4gICAgY2hpbGRyZW4sXG4gICAgdmlydHVhbExpc3RTcGVjcyxcbiAgICBncmlkU3BlY3MsIFxuICAgIHN0eWxlcyxcbiAgICBzY3JvbGxlcklELFxufSkgPT4ge1xuXG4gICAgY29uc3Qge1xuXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgY29uc3QgeyBzaXplOmxpc3RzaXplIH0gPSB2aXJ0dWFsTGlzdFNwZWNzXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjb250ZXh0IGFuZCBzdGF0ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KVxuXG4gICAgY29uc3QgW2Jsb2NrU3RhdGUsc2V0QmxvY2tTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKSAvLyB0byB0cmlnZ2VyIHJlbmRlclxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGRhdGEgaGVhcCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBqdXN0IGZvciBpbml0XG4gICAgY29uc3QgbGluZXJTdHlsZSA9IHVzZU1lbW8oKCkgPT57XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0eWxlcy5zY3JvbGxibG9jayxcbiAgICAgICAgICAgIHBvc2l0aW9uOidyZWxhdGl2ZScsXG4gICAgICAgIH1cblxuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgZGl2bGluZXJzdHlsZVJlZiA9IHVzZVJlZihsaW5lclN0eWxlKVxuXG4gICAgY29uc3QgZ2V0Vmlld3BvcnREaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6dmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OnZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgaGVpZ2h0LHdpZHRoIH0gPSBnZXRWaWV3cG9ydERpbWVuc2lvbnMoKSAvLyB2aWV3cG9ydERpbWVuc2lvbnNcblxuICAgIC8vIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy52aWV3cG9ydERpbWVuc2lvbnNcbiAgICBcbiAgICAvLyByZWNvbmZpZ3VyZVxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgdXBkYXRlQmFzZUJsb2NrTGVuZ3RoKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0OmhlaWdodCxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydHdpZHRoOndpZHRoLFxuICAgICAgICAgICAgICAgIGxpc3RzaXplLFxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IFxuICAgICAgICAgICAgdXBkYXRlU2Nyb2xsYmxvY2tTdHlsZXMoXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgZGl2bGluZXJzdHlsZVJlZixcbiAgICAgICAgICAgICAgICBiYXNlU2Nyb2xsQmxvY2tMZW5ndGhSZWYsXG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1xuICAgICAgICAgICAgKVxuICAgICAgICBzZXRCbG9ja1N0YXRlKCd1cGRhdGUnKVxuXG4gICAgfSxbXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsXG4gICAgXSlcblxuICAgIGNvbnN0IHVwZGF0ZUJhc2VCbG9ja0xlbmd0aCA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAobGF5b3V0c3BlY3MpID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYmFzZXNjcm9sbGJsb2NrbGVuZ3RoID0gY2FsY0Jhc2VTY3JvbGxibG9ja0xlbmd0aChsYXlvdXRzcGVjcylcblxuICAgICAgICAgICAgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmLmN1cnJlbnQgPSBiYXNlc2Nyb2xsYmxvY2tsZW5ndGhcblxuICAgICAgICB9LFtdXG4gICAgKVxuXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChibG9ja1N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6XG4gICAgICAgICAgICBjYXNlICd1cGRhdGUnOiB7XG4gICAgICAgICAgICAgICAgc2V0QmxvY2tTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFtibG9ja1N0YXRlXSlcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtdHlwZSA9ICdzY3JvbGxibG9jaycgc3R5bGU9e2RpdmxpbmVyc3R5bGVSZWYuY3VycmVudH0+e2NoaWxkcmVufTwvZGl2PlxuXG59IC8vIFNjcm9sbGJsb2NrXG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbGJsb2NrXG5cbi8vIGFueSBvZiB0aGUgcGFyYW1ldGVycyBjYW4gYWZmZWN0IHRoZSBsZW5ndGhcbmNvbnN0IGNhbGNCYXNlU2Nyb2xsYmxvY2tMZW5ndGggPSAoe1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcCxcbiAgICAgICAgcGFkZGluZyxcbiAgICB9KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS1bIGNhbGN1bGF0ZSBjcm9zc2NvdW50IF0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL2Nyb3NzY291bnQgaXMgYWxzbyBjYWxjdWxhdGVkIGJ5IENyYWRsZVxuXG4gICAgbGV0IGNyb3NzbGVuZ3RoXG4gICAgbGV0IGNlbGxMZW5ndGhcbiAgICBsZXQgdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsV2lkdGggKyBnYXBcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgdmlld3BvcnRjcm9zc2xlbmd0aCA9IHZpZXdwb3J0d2lkdGggXG5cbiAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICBjcm9zc2xlbmd0aCA9IGNlbGxIZWlnaHQgKyBnYXBcbiAgICAgICAgY2VsbExlbmd0aCA9IGNlbGxXaWR0aCArIGdhcFxuICAgICAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gdmlld3BvcnRoZWlnaHRcblxuICAgIH1cblxuICAgIC8vIGFkanVzdG1lbnRzIHRvIHZpZXdwb3J0Y3Jvc3NsZW5ndGhcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoIC09IChwYWRkaW5nICogMilcbiAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoICs9IGdhcCAvLyB0byBtYXRjaCBjcm9zc0xlbmd0aFxuXG4gICAgaWYgKHZpZXdwb3J0Y3Jvc3NsZW5ndGggPCBjcm9zc2xlbmd0aCkgdmlld3BvcnRjcm9zc2xlbmd0aCA9IGNyb3NzbGVuZ3RoIC8vIG11c3QgYmUgYXQgbGVhc3Qgb25lXG5cbiAgICBjb25zdCBjcm9zc2NvdW50ID0gTWF0aC5mbG9vcih2aWV3cG9ydGNyb3NzbGVuZ3RoL2Nyb3NzbGVuZ3RoKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIHNjcm9sbGJsb2NrIGxlbmd0aCBdLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGxpc3Ryb3djb3VudCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KVxuXG4gICAgY29uc3QgYmFzZWxlbmd0aCA9IChsaXN0cm93Y291bnQgKiBjZWxsTGVuZ3RoKSAtIFxuICAgICAgICAoKGxpc3Ryb3djb3VudCA+IDApP1xuICAgICAgICAgICAgZ2FwOiAvLyBmaW5hbCBjZWxsIGhhcyBubyB0cmFpbGluZyBnYXBcbiAgICAgICAgICAgIDApIFxuICAgICAgICArIChwYWRkaW5nICogMikgLy8gbGVhZGluZyBhbmQgdHJhaWxpbmcgcGFkZGluZ1xuXG4gICAgcmV0dXJuIGJhc2VsZW5ndGhcblxufVxuXG5jb25zdCB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyA9IChcbiAgICBvcmllbnRhdGlvbiwgc3R5bGVzUmVmLCBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYsIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgcGFkZGluZykgPT4ge1xuXG4gICAgY29uc3QgbG9jYWxzdHlsZXMgPSB7Li4uc3R5bGVzUmVmLmN1cnJlbnR9IC8vIG5ldyBvYmplY3RcbiAgICBsZXQgaGVpZ2h0LCB3aWR0aCwgbWluSGVpZ2h0LCBtaW5XaWR0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgIGhlaWdodCA9IGJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICBtaW5XaWR0aCA9IChjZWxsV2lkdGggKyAocGFkZGluZyAqIDIpKSArICdweCdcbiAgICAgICAgbWluSGVpZ2h0ID0gbnVsbFxuICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJ1xuICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgd2lkdGggPSBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYuY3VycmVudCArICdweCdcbiAgICAgICAgbWluSGVpZ2h0ID0gKGNlbGxIZWlnaHQgKyAocGFkZGluZyAqIDIpKSArICdweCdcbiAgICAgICAgbWluV2lkdGggPSBudWxsXG4gICAgfVxuICAgIGxvY2Fsc3R5bGVzLmhlaWdodCA9IGhlaWdodFxuICAgIGxvY2Fsc3R5bGVzLndpZHRoID0gd2lkdGhcbiAgICBsb2NhbHN0eWxlcy5taW5IZWlnaHQgPSBtaW5IZWlnaHRcbiAgICBsb2NhbHN0eWxlcy5taW5XaWR0aCA9IG1pbldpZHRoXG5cbiAgICByZXR1cm4gbG9jYWxzdHlsZXNcblxufVxuIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJWaWV3cG9ydF8xIiwiU2Nyb2xsYmxvY2siLCJfcmVmIiwiY2hpbGRyZW4iLCJ2aXJ0dWFsTGlzdFNwZWNzIiwiZ3JpZFNwZWNzIiwic3R5bGVzIiwic2Nyb2xsZXJJRCIsIm9yaWVudGF0aW9uIiwiZ2FwIiwicGFkZGluZyIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJsaXN0c2l6ZSIsInNpemUiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzIiwidXNlQ29udGV4dCIsIlZpZXdwb3J0Q29udGV4dCIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsImJsb2NrU3RhdGUiLCJzZXRCbG9ja1N0YXRlIiwiYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmIiwidXNlUmVmIiwibGluZXJTdHlsZSIsInVzZU1lbW8iLCJhc3NpZ24iLCJzY3JvbGxibG9jayIsInBvc2l0aW9uIiwiZGl2bGluZXJzdHlsZVJlZiIsImdldFZpZXdwb3J0RGltZW5zaW9ucyIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJjdXJyZW50Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsIl9nZXRWaWV3cG9ydERpbWVuc2lvbiIsInVzZUxheW91dEVmZmVjdCIsInVwZGF0ZUJhc2VCbG9ja0xlbmd0aCIsInZpZXdwb3J0aGVpZ2h0Iiwidmlld3BvcnR3aWR0aCIsInVwZGF0ZVNjcm9sbGJsb2NrU3R5bGVzIiwidXNlQ2FsbGJhY2siLCJsYXlvdXRzcGVjcyIsImJhc2VzY3JvbGxibG9ja2xlbmd0aCIsImNhbGNCYXNlU2Nyb2xsYmxvY2tMZW5ndGgiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJleHBvcnRzIiwiX3JlZjQiLCJjcm9zc2xlbmd0aCIsImNlbGxMZW5ndGgiLCJ2aWV3cG9ydGNyb3NzbGVuZ3RoIiwiY3Jvc3Njb3VudCIsIk1hdGgiLCJmbG9vciIsImxpc3Ryb3djb3VudCIsImNlaWwiLCJiYXNlbGVuZ3RoIiwic3R5bGVzUmVmIiwiYmFzZVNjcm9sbGJsb2NrbGVuZ3RoUmVmIiwibG9jYWxzdHlsZXMiLCJtaW5IZWlnaHQiLCJtaW5XaWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Scrollblock.tsx\n')},"./src/Viewport.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Viewport.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.ViewportContext = void 0;\n/*\n    The role of viewport is to provide viewport data to its children (Scrollblock and Cradle) through the\n    ViewportContext object, and act as the visible screen portal of the list being shown.\n    If Viewport is resized, it notifies the Cradle to reconfigure.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\n// popup position tracker for repositioning\nvar ScrollTracker_1 = __importDefault(__webpack_require__(/*! ./cradle/ScrollTracker */ "./src/cradle/ScrollTracker.tsx"));\nexports.ViewportContext = react_1["default"].createContext(null); // for children\nvar Viewport = function Viewport(_ref) {\n  var children = _ref.children,\n    gridSpecs = _ref.gridSpecs,\n    styles = _ref.styles,\n    scrollerID = _ref.scrollerID,\n    VIEWPORT_RESIZE_TIMEOUT = _ref.VIEWPORT_RESIZE_TIMEOUT,\n    useScrollTracker = _ref.useScrollTracker;\n  // -----------------------[ initialize ]------------------\n  var orientation = gridSpecs.orientation;\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    viewportState = _ref3[0],\n    setViewportState = _ref3[1]; // setup, resizing, resized, ready\n  var viewportStateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback scope\n  viewportStateRef.current = viewportState;\n  var isMountedRef = (0, react_1.useRef)(true);\n  var viewportElementRef = (0, react_1.useRef)(null);\n  var scrollTrackerAPIRef = (0, react_1.useRef)(null);\n  // ViewportContextPropertiesRef is passed as a resizing interrupt (through context) to children\n  var ViewportContextPropertiesRef = (0, react_1.useRef)({\n    isResizing: false,\n    // viewportDimensions:null,\n    elementRef: null,\n    scrollTrackerAPIRef: scrollTrackerAPIRef\n  });\n  // mark as unmounted\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  // --------------------[ viewport resizer interrupt ]-----------------------\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null);\n  // set up resizeObserver\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportElementRef.current);\n    // unmount\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []);\n  // used by resizeObserver; generates interrupt\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (viewportStateRef.current == \'setup\') return;\n    var target = entries[0].target;\n    // no need to trigger interrupt on first resize notification\n    if (!target.dataset.initialized) {\n      target.dataset.initialized = \'true\';\n      return;\n    }\n    // generate interrupt response, if initiating resize\n    if (!isResizingRef.current) {\n      ViewportContextPropertiesRef.current.isResizing = isResizingRef.current = true;\n      // new object creation triggers a realtime interrupt message to cradle through context\n      ViewportContextPropertiesRef.current = Object.assign({}, ViewportContextPropertiesRef.current);\n      if (isMountedRef.current) setViewportState(\'resizing\');\n    }\n    // finalize resizing after timeout\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n      if (isMountedRef.current) {\n        setViewportState(\'resized\');\n      }\n    }, VIEWPORT_RESIZE_TIMEOUT);\n  }, []);\n  // ----------------------------------[ calculate config values ]--------------------------------\n  // styles\n  var divlinerstyleRef = (0, react_1.useRef)(null);\n  // initialize with inherited styles\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign(Object.assign({}, styles.viewport), {\n      position: \'absolute\',\n      inset: 0,\n      overflow: \'scroll\',\n      WebkitOverflowScrolling: \'touch\',\n      overflowAnchor: \'none\'\n    });\n  }, [styles.viewport]);\n  var divtrackerstyleRef = (0, react_1.useRef)(null);\n  // initialize with inherited styles\n  divtrackerstyleRef.current = (0, react_1.useMemo)(function () {\n    return {\n      // ...styles.viewport,\n      position: \'absolute\',\n      top: 0,\n      left: 0\n    };\n  }, [styles.viewport]);\n  // update ViewportContextPropertiesRef\n  ViewportContextPropertiesRef.current = (0, react_1.useMemo)(function () {\n    if (viewportState == \'setup\') return ViewportContextPropertiesRef.current;\n    var localViewportData = {\n      elementRef: viewportElementRef,\n      isResizing: isResizingRef.current\n    };\n    // trigger context change with new object\n    var viewportdataobject = Object.assign(Object.assign({}, ViewportContextPropertiesRef.current), localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportState]);\n  // --------------------[ state processing ]---------------------------\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportState) {\n      case \'resized\':\n      case \'setup\':\n        {\n          setViewportState(\'ready\');\n          break;\n        }\n    }\n  }, [viewportState]);\n  // ----------------------[ render ]--------------------------------\n  return react_1["default"].createElement(exports.ViewportContext.Provider, {\n    value: ViewportContextPropertiesRef.current\n  }, react_1["default"].createElement("div", {\n    "data-type": \'viewport\',\n    "data-scrollerid": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportElementRef\n  }, viewportState != \'setup\' && children), useScrollTracker && react_1["default"].createElement(ScrollTracker_1["default"], {\n    scrollTrackerAPIRef: scrollTrackerAPIRef,\n    styles: styles.scrolltracker\n  }));\n}; // Viewport\nexports["default"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBQSxZQUFBNkQsYUFBQTtJQUFBLGFBQ2dCLFVBQVU7SUFBQSxtQkFDRmhELFVBQVU7SUFDOUJrRCxLQUFLLEVBQUtoQixnQkFBZ0IsQ0FBQ3ZCLE9BQU87SUFDbEN3QyxHQUFHLEVBQUt0QztFQUFrQixHQUV2Qk4sYUFBYSxJQUFJLE9BQU8sSUFBS1YsUUFBUSxDQUN0QyxFQUNMSyxnQkFBZ0IsSUFBSWYsT0FBQSxZQUFBNkQsYUFBQSxDQUFDMUQsZUFBQSxXQUFhO0lBQy9Cd0IsbUJBQW1CLEVBQUlBLG1CQUFtQjtJQUMxQ2YsTUFBTSxFQUFLQSxNQUFNLENBQUNxRDtFQUFhLEVBQ2pDLENBQ3FCO0FBRS9CLENBQUMsRUFBQztBQUVGNUQsa0JBQUEsR0FBZUcsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvVmlld3BvcnQudHN4P2M4MjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmlld3BvcnQudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSByb2xlIG9mIHZpZXdwb3J0IGlzIHRvIHByb3ZpZGUgdmlld3BvcnQgZGF0YSB0byBpdHMgY2hpbGRyZW4gKFNjcm9sbGJsb2NrIGFuZCBDcmFkbGUpIHRocm91Z2ggdGhlXG4gICAgVmlld3BvcnRDb250ZXh0IG9iamVjdCwgYW5kIGFjdCBhcyB0aGUgdmlzaWJsZSBzY3JlZW4gcG9ydGFsIG9mIHRoZSBsaXN0IGJlaW5nIHNob3duLlxuICAgIElmIFZpZXdwb3J0IGlzIHJlc2l6ZWQsIGl0IG5vdGlmaWVzIHRoZSBDcmFkbGUgdG8gcmVjb25maWd1cmUuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHtcblxuICAgIHVzZVN0YXRlLCBcbiAgICB1c2VSZWYsIFxuICAgIHVzZUVmZmVjdCwgXG4gICAgdXNlTGF5b3V0RWZmZWN0LCBcbiAgICB1c2VNZW1vLCBcbiAgICB1c2VDYWxsYmFjaywgXG5cbn0gZnJvbSAncmVhY3QnXG5cbi8vIHBvcHVwIHBvc2l0aW9uIHRyYWNrZXIgZm9yIHJlcG9zaXRpb25pbmdcbmltcG9ydCBTY3JvbGxUcmFja2VyIGZyb20gJy4vY3JhZGxlL1Njcm9sbFRyYWNrZXInXG5cbmV4cG9ydCBjb25zdCBWaWV3cG9ydENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpIC8vIGZvciBjaGlsZHJlblxuXG5jb25zdCBWaWV3cG9ydCA9ICh7XG5cbiAgICBjaGlsZHJlbiwgXG4gICAgZ3JpZFNwZWNzLFxuICAgIHN0eWxlcyxcbiAgICBzY3JvbGxlcklELFxuICAgIFZJRVdQT1JUX1JFU0laRV9USU1FT1VULFxuICAgIHVzZVNjcm9sbFRyYWNrZXIsXG4gICAgXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCB7XG5cbiAgICAgICAgb3JpZW50YXRpb24sXG5cbiAgICB9ID0gZ3JpZFNwZWNzXG5cbiAgICBjb25zdCBbdmlld3BvcnRTdGF0ZSxzZXRWaWV3cG9ydFN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpIC8vIHNldHVwLCByZXNpemluZywgcmVzaXplZCwgcmVhZHlcblxuICAgIGNvbnN0IHZpZXdwb3J0U3RhdGVSZWYgPSB1c2VSZWYobnVsbCkgLy8gZm9yIHVzZUNhbGxiYWNrIC0+IHJlc2l6ZUNhbGxiYWNrIHNjb3BlXG4gICAgdmlld3BvcnRTdGF0ZVJlZi5jdXJyZW50ID0gdmlld3BvcnRTdGF0ZVxuXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG5cbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHNjcm9sbFRyYWNrZXJBUElSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYgaXMgcGFzc2VkIGFzIGEgcmVzaXppbmcgaW50ZXJydXB0ICh0aHJvdWdoIGNvbnRleHQpIHRvIGNoaWxkcmVuXG4gICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZiA9IHVzZVJlZihcbiAgICAgICAge1xuXG4gICAgICAgICAgICBpc1Jlc2l6aW5nOmZhbHNlLCBcbiAgICAgICAgICAgIC8vIHZpZXdwb3J0RGltZW5zaW9uczpudWxsLFxuICAgICAgICAgICAgZWxlbWVudFJlZjpudWxsLFxuICAgICAgICAgICAgc2Nyb2xsVHJhY2tlckFQSVJlZixcblxuICAgICAgICB9XG4gICAgKVxuXG4gICAgLy8gbWFyayBhcyB1bm1vdW50ZWRcbiAgICB1c2VFZmZlY3QoKCkgPT57XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHZpZXdwb3J0IHJlc2l6ZXIgaW50ZXJydXB0IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVzaXplVGltZXJpZFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXJSZWYgPSB1c2VSZWYobnVsbCk7ICAgIFxuXG4gICAgLy8gc2V0IHVwIHJlc2l6ZU9ic2VydmVyXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IFJlc2l6ZU9ic2VydmVyKHJlc2l6ZUNhbGxiYWNrKVxuICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50Lm9ic2VydmUodmlld3BvcnRFbGVtZW50UmVmLmN1cnJlbnQpXG5cbiAgICAgICAgLy8gdW5tb3VudFxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICByZXNpemVPYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyB1c2VkIGJ5IHJlc2l6ZU9ic2VydmVyOyBnZW5lcmF0ZXMgaW50ZXJydXB0XG4gICAgY29uc3QgcmVzaXplQ2FsbGJhY2sgPSB1c2VDYWxsYmFjaygoZW50cmllcyk9PntcblxuICAgICAgICBpZiAodmlld3BvcnRTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGVudHJpZXNbMF0udGFyZ2V0XG5cbiAgICAgICAgLy8gbm8gbmVlZCB0byB0cmlnZ2VyIGludGVycnVwdCBvbiBmaXJzdCByZXNpemUgbm90aWZpY2F0aW9uXG4gICAgICAgIGlmICghdGFyZ2V0LmRhdGFzZXQuaW5pdGlhbGl6ZWQpIHtcblxuICAgICAgICAgICAgdGFyZ2V0LmRhdGFzZXQuaW5pdGlhbGl6ZWQgPSAndHJ1ZSdcblxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgaW50ZXJydXB0IHJlc3BvbnNlLCBpZiBpbml0aWF0aW5nIHJlc2l6ZVxuICAgICAgICBpZiAoIWlzUmVzaXppbmdSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyA9IGlzUmVzaXppbmdSZWYuY3VycmVudCA9IHRydWUgXG5cbiAgICAgICAgICAgIC8vIG5ldyBvYmplY3QgY3JlYXRpb24gdHJpZ2dlcnMgYSByZWFsdGltZSBpbnRlcnJ1cHQgbWVzc2FnZSB0byBjcmFkbGUgdGhyb3VnaCBjb250ZXh0XG4gICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7Li4uVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50fVxuXG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHNldFZpZXdwb3J0U3RhdGUoJ3Jlc2l6aW5nJylcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxpemUgcmVzaXppbmcgYWZ0ZXIgdGltZW91dFxuICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXJpZFJlZi5jdXJyZW50KVxuICAgICAgICByZXNpemVUaW1lcmlkUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHNldFZpZXdwb3J0U3RhdGUoJ3Jlc2l6ZWQnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIGNvbmZpZyB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBzdHlsZXNcbiAgICBjb25zdCBkaXZsaW5lcnN0eWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplIHdpdGggaW5oZXJpdGVkIHN0eWxlc1xuICAgIGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICAgIC4uLnN0eWxlcy52aWV3cG9ydCxcbiAgICAgICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICBpbnNldDowLFxuICAgICAgICAgICAgb3ZlcmZsb3c6J3Njcm9sbCcsLy8nYXV0bycsICdzY3JvbGwnIGZvciBpT1MgU2FmYXJpXG4gICAgICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJywvLyBmb3IgaU9TIFNhZmFyaVxuICAgICAgICAgICAgb3ZlcmZsb3dBbmNob3I6J25vbmUnLCAvLyBjcnVjaWFsIVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH0sW3N0eWxlcy52aWV3cG9ydF0pXG5cbiAgICBjb25zdCBkaXZ0cmFja2Vyc3R5bGVSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIC8vIGluaXRpYWxpemUgd2l0aCBpbmhlcml0ZWQgc3R5bGVzXG4gICAgZGl2dHJhY2tlcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgICAvLyAuLi5zdHlsZXMudmlld3BvcnQsXG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOjAsXG4gICAgICAgICAgICBsZWZ0OjBcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9LFtzdHlsZXMudmlld3BvcnRdKVxuXG4gICAgLy8gdXBkYXRlIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWZcbiAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICBpZiAodmlld3BvcnRTdGF0ZSA9PSAnc2V0dXAnKSByZXR1cm4gVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgbG9jYWxWaWV3cG9ydERhdGEgPSB7XG4gICAgICAgICAgICBlbGVtZW50UmVmOnZpZXdwb3J0RWxlbWVudFJlZixcbiAgICAgICAgICAgIGlzUmVzaXppbmc6aXNSZXNpemluZ1JlZi5jdXJyZW50LFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb250ZXh0IGNoYW5nZSB3aXRoIG5ldyBvYmplY3RcbiAgICAgICAgY29uc3Qgdmlld3BvcnRkYXRhb2JqZWN0ID0gey4uLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCwgLi4ubG9jYWxWaWV3cG9ydERhdGF9XG5cbiAgICAgICAgcmV0dXJuICB2aWV3cG9ydGRhdGFvYmplY3RcblxuICAgIH0sW29yaWVudGF0aW9uLCBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQsIHZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHN0YXRlIHByb2Nlc3NpbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFxuICAgIHVzZUxheW91dEVmZmVjdCgoKT0+e1xuICAgICAgICBzd2l0Y2ggKHZpZXdwb3J0U3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAncmVzaXplZCc6XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgICAgICAgICBzZXRWaWV3cG9ydFN0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSxbdmlld3BvcnRTdGF0ZV0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZW5kZXIgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICByZXR1cm4gPFZpZXdwb3J0Q29udGV4dC5Qcm92aWRlciB2YWx1ZSA9IHsgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50IH0+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBkYXRhLXR5cGUgPSAndmlld3BvcnQnXG4gICAgICAgICAgICBkYXRhLXNjcm9sbGVyaWQgPSB7IHNjcm9sbGVySUQgfVxuICAgICAgICAgICAgc3R5bGUgPSB7IGRpdmxpbmVyc3R5bGVSZWYuY3VycmVudCB9XG4gICAgICAgICAgICByZWYgPSB7IHZpZXdwb3J0RWxlbWVudFJlZiB9XG4gICAgICAgID5cbiAgICAgICAgICAgIHsgKHZpZXdwb3J0U3RhdGUgIT0gJ3NldHVwJykgJiYgY2hpbGRyZW4gfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3VzZVNjcm9sbFRyYWNrZXIgJiYgPFNjcm9sbFRyYWNrZXIgXG4gICAgICAgICAgICBzY3JvbGxUcmFja2VyQVBJUmVmID0ge3Njcm9sbFRyYWNrZXJBUElSZWZ9XG4gICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlcy5zY3JvbGx0cmFja2VyIH1cbiAgICAgICAgLz59XG4gICAgPC9WaWV3cG9ydENvbnRleHQuUHJvdmlkZXI+XG4gICAgXG59IC8vIFZpZXdwb3J0XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdwb3J0XG4iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsIlNjcm9sbFRyYWNrZXJfMSIsIl9faW1wb3J0RGVmYXVsdCIsImV4cG9ydHMiLCJWaWV3cG9ydENvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiVmlld3BvcnQiLCJfcmVmIiwiY2hpbGRyZW4iLCJncmlkU3BlY3MiLCJzdHlsZXMiLCJzY3JvbGxlcklEIiwiVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQiLCJ1c2VTY3JvbGxUcmFja2VyIiwib3JpZW50YXRpb24iLCJfcmVmMiIsInVzZVN0YXRlIiwiX3JlZjMiLCJ2aWV3cG9ydFN0YXRlIiwic2V0Vmlld3BvcnRTdGF0ZSIsInZpZXdwb3J0U3RhdGVSZWYiLCJ1c2VSZWYiLCJjdXJyZW50IiwiaXNNb3VudGVkUmVmIiwidmlld3BvcnRFbGVtZW50UmVmIiwic2Nyb2xsVHJhY2tlckFQSVJlZiIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJpc1Jlc2l6aW5nIiwiZWxlbWVudFJlZiIsInVzZUVmZmVjdCIsInJlc2l6ZVRpbWVyaWRSZWYiLCJpc1Jlc2l6aW5nUmVmIiwicmVzaXplT2JzZXJ2ZXJSZWYiLCJSZXNpemVPYnNlcnZlciIsInJlc2l6ZUNhbGxiYWNrIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJ1c2VDYWxsYmFjayIsImVudHJpZXMiLCJ0YXJnZXQiLCJkYXRhc2V0IiwiaW5pdGlhbGl6ZWQiLCJhc3NpZ24iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGl2bGluZXJzdHlsZVJlZiIsInVzZU1lbW8iLCJ2aWV3cG9ydCIsInBvc2l0aW9uIiwiaW5zZXQiLCJvdmVyZmxvdyIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwib3ZlcmZsb3dBbmNob3IiLCJkaXZ0cmFja2Vyc3R5bGVSZWYiLCJ0b3AiLCJsZWZ0IiwibG9jYWxWaWV3cG9ydERhdGEiLCJ2aWV3cG9ydGRhdGFvYmplY3QiLCJ1c2VMYXlvdXRFZmZlY3QiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJzdHlsZSIsInJlZiIsInNjcm9sbHRyYWNrZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Viewport.tsx\n')},"./src/cellframe/Placeholder.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Placeholder.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of the default PlaceHolder is to hold the content display until the host content\n    is received. The placeholder presents a waiting message, or an error message if the load\n    of the host content failed.\n\n    The default placeholder can be replaced by a placeholder provided by the host.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar Placeholder = function Placeholder(_ref) {\n  var index = _ref.index,\n    listsize = _ref.listsize,\n    message = _ref.message,\n    error = _ref.error,\n    userFrameStyles = _ref.userFrameStyles,\n    userLinerStyles = _ref.userLinerStyles,\n    userErrorFrameStyles = _ref.userErrorFrameStyles,\n    userErrorLinerStyles = _ref.userErrorLinerStyles;\n  var _ref2 = (0, react_1.useMemo)(function () {\n      var uFrameStyles = !error ? userFrameStyles : userErrorFrameStyles;\n      var uLinerStyles = !error ? userLinerStyles : userErrorLinerStyles;\n      var frameStyles = Object.assign(Object.assign({\n        border: \'2px solid black\',\n        backgroundColor: \'cyan\'\n      }, uFrameStyles), {\n        position: \'relative\',\n        boxSizing: \'border-box\',\n        height: \'100%\',\n        width: \'100%\',\n        overflow: \'hidden\'\n      });\n      var linerStyles = Object.assign({\n        position: \'absolute\',\n        top: 0,\n        left: 0,\n        padding: \'3px\',\n        margin: \'3px\',\n        fontSize: \'smaller\'\n      }, uLinerStyles);\n      return [frameStyles, linerStyles];\n    }, [error, userFrameStyles, userLinerStyles, userErrorFrameStyles, userErrorLinerStyles]),\n    _ref3 = _slicedToArray(_ref2, 2),\n    frameStyles = _ref3[0],\n    linerStyles = _ref3[1];\n  message = message !== null && message !== void 0 ? message : \'(loading...)\';\n  return react_1["default"].createElement("div", {\n    "data-type": \'placeholderframe\',\n    style: frameStyles\n  }, !error ? react_1["default"].createElement("div", {\n    "data-type": \'placeholderliner\',\n    style: linerStyles\n  }, index + 1, "/", listsize, " ", message) : react_1["default"].createElement("div", {\n    "data-type": \'placeholderliner\',\n    style: linerStyles\n  }, "item is not available (", error.message, ")"));\n};\nexports["default"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0IsQ0FDdkIsQ0FBQztJQUFBb0IsS0FBQSxHQUFBekUsY0FBQSxDQUFBc0QsS0FBQTtJQXhDS0ksV0FBVyxHQUFBZSxLQUFBO0lBQUVOLFdBQVcsR0FBQU0sS0FBQTtFQTJDL0J6QixPQUFPLEdBQUdBLE9BQU8sYUFBUEEsT0FBTyxjQUFQQSxPQUFPLEdBQUksY0FBYztFQUVuQyxPQUFPUCxPQUFBLFlBQUFpQyxhQUFBO0lBQUEsYUFBaUIsa0JBQWtCO0lBQUNDLEtBQUssRUFBSWpCO0VBQVcsR0FDekQsQ0FBQ1QsS0FBSyxHQUNKUixPQUFBLFlBQUFpQyxhQUFBO0lBQUEsYUFBaUIsa0JBQWtCO0lBQUNDLEtBQUssRUFBS1I7RUFBVyxHQUFJckIsS0FBSyxHQUFHLENBQUMsRSxLQUFHQyxRQUFRLEUsS0FBR0MsT0FBTyxDQUFPLEdBQ2xHUCxPQUFBLFlBQUFpQyxhQUFBO0lBQUEsYUFBaUIsa0JBQWtCO0lBQUNDLEtBQUssRUFBS1I7RUFBVyxHLDJCQUEyQmxCLEtBQUssQ0FBQ0QsT0FBTyxFLElBQVEsQ0FHM0c7QUFDVixDQUFDO0FBRUQ0QixrQkFBQSxHQUFlaEMsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY2VsbGZyYW1lL1BsYWNlaG9sZGVyLnRzeD9iYjM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFBsYWNlaG9sZGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiB0aGUgZGVmYXVsdCBQbGFjZUhvbGRlciBpcyB0byBob2xkIHRoZSBjb250ZW50IGRpc3BsYXkgdW50aWwgdGhlIGhvc3QgY29udGVudFxuICAgIGlzIHJlY2VpdmVkLiBUaGUgcGxhY2Vob2xkZXIgcHJlc2VudHMgYSB3YWl0aW5nIG1lc3NhZ2UsIG9yIGFuIGVycm9yIG1lc3NhZ2UgaWYgdGhlIGxvYWRcbiAgICBvZiB0aGUgaG9zdCBjb250ZW50IGZhaWxlZC5cblxuICAgIFRoZSBkZWZhdWx0IHBsYWNlaG9sZGVyIGNhbiBiZSByZXBsYWNlZCBieSBhIHBsYWNlaG9sZGVyIHByb3ZpZGVkIGJ5IHRoZSBob3N0LlxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlTWVtb30gZnJvbSAncmVhY3QnXG5cbmNvbnN0IFBsYWNlaG9sZGVyID0gKHtcbiAgICBpbmRleCwgXG4gICAgbGlzdHNpemUsIFxuICAgIG1lc3NhZ2UsIFxuICAgIGVycm9yLCBcbiAgICB1c2VyRnJhbWVTdHlsZXMsIFxuICAgIHVzZXJMaW5lclN0eWxlcyxcbiAgICB1c2VyRXJyb3JGcmFtZVN0eWxlcywgXG4gICAgdXNlckVycm9yTGluZXJTdHlsZXNcbn0pID0+IHtcblxuICAgIGNvbnN0IFtmcmFtZVN0eWxlcywgbGluZXJTdHlsZXNdID0gdXNlTWVtbygoKT0+e1xuXG4gICAgICAgIGNvbnN0IHVGcmFtZVN0eWxlcyA9IFxuICAgICAgICAgICAgKCFlcnJvcik/XG4gICAgICAgICAgICAgICAgdXNlckZyYW1lU3R5bGVzOlxuICAgICAgICAgICAgICAgIHVzZXJFcnJvckZyYW1lU3R5bGVzXG5cbiAgICAgICAgY29uc3QgdUxpbmVyU3R5bGVzID0gXG4gICAgICAgICAgICAoIWVycm9yKT9cbiAgICAgICAgICAgICAgICB1c2VyTGluZXJTdHlsZXM6XG4gICAgICAgICAgICAgICAgdXNlckVycm9yTGluZXJTdHlsZXNcblxuICAgICAgICBjb25zdCBmcmFtZVN0eWxlcyA9IHtcbiAgICAgICAgICAgIGJvcmRlcjonMnB4IHNvbGlkIGJsYWNrJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjonY3lhbicsXG4gICAgICAgICAgICAuLi51RnJhbWVTdHlsZXMsXG4gICAgICAgICAgICBwb3NpdGlvbjoncmVsYXRpdmUnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIGhlaWdodDonMTAwJScsXG4gICAgICAgICAgICB3aWR0aDonMTAwJScsXG4gICAgICAgICAgICBvdmVyZmxvdzonaGlkZGVuJyxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lclN0eWxlcyA9IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOidhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6MCxcbiAgICAgICAgICAgIGxlZnQ6MCxcbiAgICAgICAgICAgIHBhZGRpbmc6JzNweCcsXG4gICAgICAgICAgICBtYXJnaW46JzNweCcsXG4gICAgICAgICAgICBmb250U2l6ZTonc21hbGxlcicsXG4gICAgICAgICAgICAuLi51TGluZXJTdHlsZXMsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2ZyYW1lU3R5bGVzLCBsaW5lclN0eWxlc11cblxuICAgIH0sIFtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVzZXJGcmFtZVN0eWxlcywgXG4gICAgICAgIHVzZXJMaW5lclN0eWxlcyxcbiAgICAgICAgdXNlckVycm9yRnJhbWVTdHlsZXMsIFxuICAgICAgICB1c2VyRXJyb3JMaW5lclN0eWxlcyxcbiAgICBdKVxuXG5cbiAgICBtZXNzYWdlID0gbWVzc2FnZSA/PyAnKGxvYWRpbmcuLi4pJ1xuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS10eXBlID0gJ3BsYWNlaG9sZGVyZnJhbWUnIHN0eWxlID0ge2ZyYW1lU3R5bGVzfT5cbiAgICAgICAgeyAhZXJyb3I/XG4gICAgICAgICAgICA8ZGl2IGRhdGEtdHlwZSA9ICdwbGFjZWhvbGRlcmxpbmVyJyBzdHlsZSA9IHsgbGluZXJTdHlsZXMgfT57aW5kZXggKyAxfS97bGlzdHNpemV9IHttZXNzYWdlfTwvZGl2PjpcbiAgICAgICAgICAgIDxkaXYgZGF0YS10eXBlID0gJ3BsYWNlaG9sZGVybGluZXInIHN0eWxlID0geyBsaW5lclN0eWxlcyB9Pml0ZW0gaXMgbm90IGF2YWlsYWJsZSAoe2Vycm9yLm1lc3NhZ2V9KTwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIFxuICAgIDwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlciJdLCJuYW1lcyI6WyJfc2xpY2VkVG9BcnJheSIsImFyciIsImkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJfaSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl94IiwiX3IiLCJfYXJyIiwiX24iLCJfZCIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiZXJyIiwiaXNBcnJheSIsInJlYWN0XzEiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwiUGxhY2Vob2xkZXIiLCJfcmVmIiwiaW5kZXgiLCJsaXN0c2l6ZSIsIm1lc3NhZ2UiLCJlcnJvciIsInVzZXJGcmFtZVN0eWxlcyIsInVzZXJMaW5lclN0eWxlcyIsInVzZXJFcnJvckZyYW1lU3R5bGVzIiwidXNlckVycm9yTGluZXJTdHlsZXMiLCJfcmVmMiIsInVzZU1lbW8iLCJ1RnJhbWVTdHlsZXMiLCJ1TGluZXJTdHlsZXMiLCJmcmFtZVN0eWxlcyIsImFzc2lnbiIsImJvcmRlciIsImJhY2tncm91bmRDb2xvciIsInBvc2l0aW9uIiwiYm94U2l6aW5nIiwiaGVpZ2h0Iiwid2lkdGgiLCJvdmVyZmxvdyIsImxpbmVyU3R5bGVzIiwidG9wIiwibGVmdCIsInBhZGRpbmciLCJtYXJnaW4iLCJmb250U2l6ZSIsIl9yZWYzIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cellframe/Placeholder.tsx\n')},"./src/cradle/ScrollTracker.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// ScrollTracker.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of ScrollTracker is to provide feedback to the user of the relative position in the\n    virtual list during repositiong.\n\n    ScrollTracker can be suppressed by the host (in favour of the host\'s own location feedback)\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar ScrollTracker = function ScrollTracker(_ref) {\n  var scrollTrackerAPIRef = _ref.scrollTrackerAPIRef,\n    styles = _ref.styles;\n  var _ref2 = (0, react_1.useState)(null),\n    _ref3 = _slicedToArray(_ref2, 2),\n    index = _ref3[0],\n    setIndex = _ref3[1];\n  var indexRef = (0, react_1.useRef)(null);\n  indexRef.current = index;\n  var lowindexRef = (0, react_1.useRef)(null);\n  var listsizeRef = (0, react_1.useRef)(null);\n  var tracktext = "".concat(index, " (").concat(index - lowindexRef.current + 1, "/").concat(listsizeRef.current, ")");\n  var stylesRef = (0, react_1.useRef)(Object.assign({\n    top: \'3px\',\n    left: \'3px\',\n    position: \'absolute\',\n    zIndex: 3,\n    backgroundColor: \'white\',\n    border: \'1px solid gray\',\n    borderRadius: \'10px\',\n    fontSize: \'smaller\',\n    padding: \'3px\',\n    visibility: \'hidden\'\n  }, styles));\n  (0, react_1.useEffect)(function () {\n    scrollTrackerAPIRef.current = {\n      startReposition: startReposition,\n      updateReposition: updateReposition,\n      finishReposition: finishReposition\n    };\n  }, []);\n  var startReposition = (0, react_1.useCallback)(function (position, lowindex, listsize) {\n    setIndex(position + lowindex);\n    lowindexRef.current = lowindex;\n    listsizeRef.current = listsize;\n    stylesRef.current = Object.assign(Object.assign({}, stylesRef.current), {\n      visibility: \'visible\'\n    });\n  }, []);\n  var updateReposition = (0, react_1.useCallback)(function (position) {\n    var currentindex = position + lowindexRef.current;\n    indexRef.current != currentindex && setIndex(currentindex);\n  }, []);\n  var finishReposition = (0, react_1.useCallback)(function () {\n    stylesRef.current = Object.assign(Object.assign({}, stylesRef.current), {\n      visibility: \'hidden\'\n    });\n    setIndex(null);\n  }, []);\n  return react_1["default"].createElement("div", {\n    "data-name": \'scrolltracker\',\n    style: stylesRef.current\n  }, tracktext);\n};\nexports["default"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL1Njcm9sbFRyYWNrZXIudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLGVBQUFDLEdBQUEsRUFBQUMsQ0FBQSxXQUFBQyxlQUFBLENBQUFGLEdBQUEsS0FBQUcscUJBQUEsQ0FBQUgsR0FBQSxFQUFBQyxDQUFBLEtBQUFHLDJCQUFBLENBQUFKLEdBQUEsRUFBQUMsQ0FBQSxLQUFBSSxnQkFBQTtBQUFBLFNBQUFBLGlCQUFBLGNBQUFDLFNBQUE7QUFBQSxTQUFBRiw0QkFBQUcsQ0FBQSxFQUFBQyxNQUFBLFNBQUFELENBQUEscUJBQUFBLENBQUEsc0JBQUFFLGlCQUFBLENBQUFGLENBQUEsRUFBQUMsTUFBQSxPQUFBRSxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsU0FBQSxDQUFBQyxRQUFBLENBQUFDLElBQUEsQ0FBQVAsQ0FBQSxFQUFBUSxLQUFBLGFBQUFMLENBQUEsaUJBQUFILENBQUEsQ0FBQVMsV0FBQSxFQUFBTixDQUFBLEdBQUFILENBQUEsQ0FBQVMsV0FBQSxDQUFBQyxJQUFBLE1BQUFQLENBQUEsY0FBQUEsQ0FBQSxtQkFBQVEsS0FBQSxDQUFBQyxJQUFBLENBQUFaLENBQUEsT0FBQUcsQ0FBQSwrREFBQVUsSUFBQSxDQUFBVixDQUFBLFVBQUFELGlCQUFBLENBQUFGLENBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFDLGtCQUFBVCxHQUFBLEVBQUFxQixHQUFBLFFBQUFBLEdBQUEsWUFBQUEsR0FBQSxHQUFBckIsR0FBQSxDQUFBc0IsTUFBQSxFQUFBRCxHQUFBLEdBQUFyQixHQUFBLENBQUFzQixNQUFBLFdBQUFyQixDQUFBLE1BQUFzQixJQUFBLE9BQUFMLEtBQUEsQ0FBQUcsR0FBQSxHQUFBcEIsQ0FBQSxHQUFBb0IsR0FBQSxFQUFBcEIsQ0FBQSxJQUFBc0IsSUFBQSxDQUFBdEIsQ0FBQSxJQUFBRCxHQUFBLENBQUFDLENBQUEsVUFBQXNCLElBQUE7QUFBQSxTQUFBcEIsc0JBQUFILEdBQUEsRUFBQUMsQ0FBQSxRQUFBdUIsRUFBQSxXQUFBeEIsR0FBQSxnQ0FBQXlCLE1BQUEsSUFBQXpCLEdBQUEsQ0FBQXlCLE1BQUEsQ0FBQUMsUUFBQSxLQUFBMUIsR0FBQSw0QkFBQXdCLEVBQUEsUUFBQUcsRUFBQSxFQUFBQyxFQUFBLEVBQUFDLEVBQUEsRUFBQUMsRUFBQSxFQUFBQyxJQUFBLE9BQUFDLEVBQUEsT0FBQUMsRUFBQSxpQkFBQUosRUFBQSxJQUFBTCxFQUFBLEdBQUFBLEVBQUEsQ0FBQVYsSUFBQSxDQUFBZCxHQUFBLEdBQUFrQyxJQUFBLFFBQUFqQyxDQUFBLFFBQUFVLE1BQUEsQ0FBQWEsRUFBQSxNQUFBQSxFQUFBLFVBQUFRLEVBQUEsdUJBQUFBLEVBQUEsSUFBQUwsRUFBQSxHQUFBRSxFQUFBLENBQUFmLElBQUEsQ0FBQVUsRUFBQSxHQUFBVyxJQUFBLE1BQUFKLElBQUEsQ0FBQUssSUFBQSxDQUFBVCxFQUFBLENBQUFVLEtBQUEsR0FBQU4sSUFBQSxDQUFBVCxNQUFBLEtBQUFyQixDQUFBLEdBQUErQixFQUFBLGlCQUFBTSxHQUFBLElBQUFMLEVBQUEsT0FBQUwsRUFBQSxHQUFBVSxHQUFBLHlCQUFBTixFQUFBLFlBQUFSLEVBQUEsZUFBQU0sRUFBQSxHQUFBTixFQUFBLGNBQUFiLE1BQUEsQ0FBQW1CLEVBQUEsTUFBQUEsRUFBQSwyQkFBQUcsRUFBQSxRQUFBTCxFQUFBLGFBQUFHLElBQUE7QUFBQSxTQUFBN0IsZ0JBQUFGLEdBQUEsUUFBQWtCLEtBQUEsQ0FBQXFCLE9BQUEsQ0FBQXZDLEdBQUEsVUFBQUEsR0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7O0FBT0EsSUFBQXdDLE9BQUEsR0FBQUMsWUFBQSxDQUFBQyxtQkFBQTtBQUVBLElBQU1DLGFBQWEsR0FBRyxTQUFoQkEsYUFBYUEsQ0FBQUMsSUFBQSxFQUF1QztFQUFBLElBQWpDQyxtQkFBbUIsR0FBQUQsSUFBQSxDQUFuQkMsbUJBQW1CO0lBQUVDLE1BQU0sR0FBQUYsSUFBQSxDQUFORSxNQUFNO0VBRWhELElBQUFDLEtBQUEsR0FBMEIsSUFBQVAsT0FBQSxDQUFBUSxRQUFRLEVBQUMsSUFBSSxDQUFDO0lBQUFDLEtBQUEsR0FBQWxELGNBQUEsQ0FBQWdELEtBQUE7SUFBakNHLEtBQUssR0FBQUQsS0FBQTtJQUFFRSxRQUFRLEdBQUFGLEtBQUE7RUFDdEIsSUFBTUcsUUFBUSxHQUFHLElBQUFaLE9BQUEsQ0FBQWEsTUFBTSxFQUFDLElBQUksQ0FBQztFQUM3QkQsUUFBUSxDQUFDRSxPQUFPLEdBQUdKLEtBQUs7RUFDeEIsSUFBTUssV0FBVyxHQUFHLElBQUFmLE9BQUEsQ0FBQWEsTUFBTSxFQUFDLElBQUksQ0FBQztFQUNoQyxJQUFNRyxXQUFXLEdBQUcsSUFBQWhCLE9BQUEsQ0FBQWEsTUFBTSxFQUFDLElBQUksQ0FBQztFQUVoQyxJQUFNSSxTQUFTLE1BQUFDLE1BQUEsQ0FBTVIsS0FBSyxRQUFBUSxNQUFBLENBQUtSLEtBQUssR0FBR0ssV0FBVyxDQUFDRCxPQUFPLEdBQUcsQ0FBQyxPQUFBSSxNQUFBLENBQUlGLFdBQVcsQ0FBQ0YsT0FBTyxNQUFHO0VBRXhGLElBQU1LLFNBQVMsR0FBRyxJQUFBbkIsT0FBQSxDQUFBYSxNQUFNLEVBQUExQyxNQUFBLENBQUFpRCxNQUFBO0lBQ3BCQyxHQUFHLEVBQUUsS0FBSztJQUNWQyxJQUFJLEVBQUUsS0FBSztJQUNYQyxRQUFRLEVBQUMsVUFBVTtJQUNuQkMsTUFBTSxFQUFDLENBQUM7SUFDUkMsZUFBZSxFQUFDLE9BQU87SUFDdkJDLE1BQU0sRUFBRSxnQkFBZ0I7SUFDeEJDLFlBQVksRUFBQyxNQUFNO0lBQ25CQyxRQUFRLEVBQUMsU0FBUztJQUNsQkMsT0FBTyxFQUFDLEtBQUs7SUFDYkMsVUFBVSxFQUFDO0VBQVEsR0FDaEJ4QixNQUFNLEVBQ1g7RUFFRixJQUFBTixPQUFBLENBQUErQixTQUFTLEVBQUMsWUFBSTtJQUVWMUIsbUJBQW1CLENBQUNTLE9BQU8sR0FBRztNQUUxQmtCLGVBQWUsRUFBZkEsZUFBZTtNQUNmQyxnQkFBZ0IsRUFBaEJBLGdCQUFnQjtNQUNoQkMsZ0JBQWdCLEVBQWhCQTtLQUVIO0VBRUwsQ0FBQyxFQUFDLEVBQUUsQ0FBQztFQUVMLElBQU1GLGVBQWUsR0FBRyxJQUFBaEMsT0FBQSxDQUFBbUMsV0FBVyxFQUFDLFVBQUNaLFFBQVEsRUFBRWEsUUFBUSxFQUFFQyxRQUFRLEVBQUc7SUFFaEUxQixRQUFRLENBQUNZLFFBQVEsR0FBR2EsUUFBUSxDQUFDO0lBQzdCckIsV0FBVyxDQUFDRCxPQUFPLEdBQUdzQixRQUFRO0lBQzlCcEIsV0FBVyxDQUFDRixPQUFPLEdBQUd1QixRQUFRO0lBQzlCbEIsU0FBUyxDQUFDTCxPQUFPLEdBQUEzQyxNQUFBLENBQUFpRCxNQUFBLENBQUFqRCxNQUFBLENBQUFpRCxNQUFBLEtBQU9ELFNBQVMsQ0FBQ0wsT0FBTztNQUFDZ0IsVUFBVSxFQUFDO0lBQVMsRUFBQztFQUVuRSxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUwsSUFBTUcsZ0JBQWdCLEdBQUcsSUFBQWpDLE9BQUEsQ0FBQW1DLFdBQVcsRUFBQyxVQUFDWixRQUFRLEVBQUc7SUFFN0MsSUFBTWUsWUFBWSxHQUFHZixRQUFRLEdBQUdSLFdBQVcsQ0FBQ0QsT0FBTztJQUVsREYsUUFBUSxDQUFDRSxPQUFPLElBQUl3QixZQUFZLElBQUszQixRQUFRLENBQUMyQixZQUFZLENBQUM7RUFFaEUsQ0FBQyxFQUFDLEVBQUUsQ0FBQztFQUVMLElBQU1KLGdCQUFnQixHQUFHLElBQUFsQyxPQUFBLENBQUFtQyxXQUFXLEVBQUMsWUFBSztJQUV0Q2hCLFNBQVMsQ0FBQ0wsT0FBTyxHQUFBM0MsTUFBQSxDQUFBaUQsTUFBQSxDQUFBakQsTUFBQSxDQUFBaUQsTUFBQSxLQUFPRCxTQUFTLENBQUNMLE9BQU87TUFBQ2dCLFVBQVUsRUFBQztJQUFRLEVBQUM7SUFDOURuQixRQUFRLENBQUMsSUFBSSxDQUFDO0VBRWxCLENBQUMsRUFBQyxFQUFFLENBQUM7RUFFTCxPQUFPWCxPQUFBLFlBQUF1QyxhQUFBO0lBQUEsYUFBaUIsZUFBZTtJQUFDQyxLQUFLLEVBQUlyQixTQUFTLENBQUNMO0VBQU8sR0FBSUcsU0FBUyxDQUFPO0FBQzFGLENBQUM7QUFFRHdCLGtCQUFBLEdBQWV0QyxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvU2Nyb2xsVHJhY2tlci50c3g/MGIzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTY3JvbGxUcmFja2VyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiBTY3JvbGxUcmFja2VyIGlzIHRvIHByb3ZpZGUgZmVlZGJhY2sgdG8gdGhlIHVzZXIgb2YgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZVxuICAgIHZpcnR1YWwgbGlzdCBkdXJpbmcgcmVwb3NpdGlvbmcuXG5cbiAgICBTY3JvbGxUcmFja2VyIGNhbiBiZSBzdXBwcmVzc2VkIGJ5IHRoZSBob3N0IChpbiBmYXZvdXIgb2YgdGhlIGhvc3QncyBvd24gbG9jYXRpb24gZmVlZGJhY2spXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBTY3JvbGxUcmFja2VyID0gKHsgc2Nyb2xsVHJhY2tlckFQSVJlZiwgc3R5bGVzIH0pID0+IHtcblxuICAgIGNvbnN0IFtpbmRleCwgc2V0SW5kZXhdID0gdXNlU3RhdGUobnVsbClcbiAgICBjb25zdCBpbmRleFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGluZGV4UmVmLmN1cnJlbnQgPSBpbmRleFxuICAgIGNvbnN0IGxvd2luZGV4UmVmID0gdXNlUmVmKG51bGwpXG4gICAgY29uc3QgbGlzdHNpemVSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHRyYWNrdGV4dCA9IGAke2luZGV4fSAoJHtpbmRleCAtIGxvd2luZGV4UmVmLmN1cnJlbnQgKyAxfS8ke2xpc3RzaXplUmVmLmN1cnJlbnR9KWBcblxuICAgIGNvbnN0IHN0eWxlc1JlZiA9IHVzZVJlZih7XG4gICAgICAgIHRvcDogJzNweCcsXG4gICAgICAgIGxlZnQ6ICczcHgnLFxuICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICB6SW5kZXg6MyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOid3aGl0ZScsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCBncmF5JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOicxMHB4JyxcbiAgICAgICAgZm9udFNpemU6J3NtYWxsZXInLFxuICAgICAgICBwYWRkaW5nOiczcHgnLFxuICAgICAgICB2aXNpYmlsaXR5OidoaWRkZW4nLFxuICAgICAgICAuLi5zdHlsZXNcbiAgICB9KVxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgc2Nyb2xsVHJhY2tlckFQSVJlZi5jdXJyZW50ID0ge1xuXG4gICAgICAgICAgICBzdGFydFJlcG9zaXRpb24sXG4gICAgICAgICAgICB1cGRhdGVSZXBvc2l0aW9uLFxuICAgICAgICAgICAgZmluaXNoUmVwb3NpdGlvbixcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgc3RhcnRSZXBvc2l0aW9uID0gdXNlQ2FsbGJhY2soKHBvc2l0aW9uLCBsb3dpbmRleCwgbGlzdHNpemUpPT4ge1xuXG4gICAgICAgIHNldEluZGV4KHBvc2l0aW9uICsgbG93aW5kZXgpXG4gICAgICAgIGxvd2luZGV4UmVmLmN1cnJlbnQgPSBsb3dpbmRleFxuICAgICAgICBsaXN0c2l6ZVJlZi5jdXJyZW50ID0gbGlzdHNpemVcbiAgICAgICAgc3R5bGVzUmVmLmN1cnJlbnQgPSB7Li4uc3R5bGVzUmVmLmN1cnJlbnQsdmlzaWJpbGl0eTondmlzaWJsZSd9XG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3QgdXBkYXRlUmVwb3NpdGlvbiA9IHVzZUNhbGxiYWNrKChwb3NpdGlvbik9PntcblxuICAgICAgICBjb25zdCBjdXJyZW50aW5kZXggPSBwb3NpdGlvbiArIGxvd2luZGV4UmVmLmN1cnJlbnQ7XG5cbiAgICAgICAgKGluZGV4UmVmLmN1cnJlbnQgIT0gY3VycmVudGluZGV4KSAmJiBzZXRJbmRleChjdXJyZW50aW5kZXgpXG5cbiAgICB9LFtdKVxuXG4gICAgY29uc3QgZmluaXNoUmVwb3NpdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcblxuICAgICAgICBzdHlsZXNSZWYuY3VycmVudCA9IHsuLi5zdHlsZXNSZWYuY3VycmVudCx2aXNpYmlsaXR5OidoaWRkZW4nfVxuICAgICAgICBzZXRJbmRleChudWxsKVxuXG4gICAgfSxbXSlcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtbmFtZSA9ICdzY3JvbGx0cmFja2VyJyBzdHlsZSA9IHtzdHlsZXNSZWYuY3VycmVudH0gPnt0cmFja3RleHR9PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFRyYWNrZXIiXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsIlNjcm9sbFRyYWNrZXIiLCJfcmVmIiwic2Nyb2xsVHJhY2tlckFQSVJlZiIsInN0eWxlcyIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsImluZGV4Iiwic2V0SW5kZXgiLCJpbmRleFJlZiIsInVzZVJlZiIsImN1cnJlbnQiLCJsb3dpbmRleFJlZiIsImxpc3RzaXplUmVmIiwidHJhY2t0ZXh0IiwiY29uY2F0Iiwic3R5bGVzUmVmIiwiYXNzaWduIiwidG9wIiwibGVmdCIsInBvc2l0aW9uIiwiekluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJwYWRkaW5nIiwidmlzaWJpbGl0eSIsInVzZUVmZmVjdCIsInN0YXJ0UmVwb3NpdGlvbiIsInVwZGF0ZVJlcG9zaXRpb24iLCJmaW5pc2hSZXBvc2l0aW9uIiwidXNlQ2FsbGJhY2siLCJsb3dpbmRleCIsImxpc3RzaXplIiwiY3VycmVudGluZGV4IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/ScrollTracker.tsx\n')},"./src/cradle/contentfunctions.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\n// contentfunctions.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deletePortals = exports.allocateContentList = exports.getCellFrameComponentList = exports.calculateShiftSpecs = exports.generateShiftInstruction = exports.calculateContentListRequirements = void 0;\n/*\n    This module supports the contenthandler module. The functions in this module perform\n    the detailed calculations and processes required by the contenthandler.\n\n    calculateContentListRequirements is called by the contenthandler's setCradleContent function.\n\n    generateShiftInstruction and calcContentShift are called by contentHandler's updateCradleContent\n    function.\n    \n    getCellFrameComponentList, allocateContentList, and deletePortals functions are shared by both.\n\n    createCellFrame is called internally by getCellFrameComponentList as needed.\n*/\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\nvar CellFrame_1 = __importDefault(__webpack_require__(/*! ../CellFrame */ \"./src/CellFrame.tsx\"));\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ../InfiniteGridScroller */ \"./src/InfiniteGridScroller.tsx\");\n// ======================[ for setCradleContent ]===========================\nvar calculateContentListRequirements = function calculateContentListRequirements(_ref) {\n  var targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n    baseRowPixelLength = _ref.baseRowPixelLength,\n    targetAxisViewportPixelOffset = _ref.targetAxisViewportPixelOffset,\n    cradleInheritedProperties = _ref.cradleInheritedProperties,\n    cradleInternalProperties = _ref.cradleInternalProperties;\n  var padding = cradleInheritedProperties.padding,\n    cradleContentProps = cradleInternalProperties.cradleContentProps,\n    virtualListProps = cradleInternalProperties.virtualListProps,\n    cradleRowcount = cradleContentProps.cradleRowcount,\n    runwayRowcount = cradleContentProps.runwayRowcount,\n    listlowindex = virtualListProps.lowindex,\n    listhighindex = virtualListProps.highindex,\n    crosscount = virtualListProps.crosscount,\n    listRowcount = virtualListProps.rowcount,\n    baserowblanks = virtualListProps.baserowblanks,\n    endrowblanks = virtualListProps.endrowblanks,\n    rangerowshift = virtualListProps.rowshift;\n\n  // align axis reference to list scope\n  targetAxisReferenceIndex = Math.min(targetAxisReferenceIndex, listhighindex);\n  targetAxisReferenceIndex = Math.max(targetAxisReferenceIndex, listlowindex);\n  // derive target row\n  var targetAxisReferenceRow = Math.floor(targetAxisReferenceIndex / crosscount);\n  // -----------------------[ calc cradleReferenceRow & Index ]------------------------\n  // leading edge\n  var targetCradleReferenceRow = Math.max(rangerowshift, targetAxisReferenceRow - runwayRowcount);\n  // trailing edge\n  var targetCradleEndRow = targetCradleReferenceRow + (cradleRowcount - 1);\n  var listEndRowOffset = listRowcount - 1 + rangerowshift;\n  if (targetCradleEndRow > listEndRowOffset) {\n    var diff = targetCradleEndRow - listEndRowOffset;\n    targetCradleReferenceRow -= diff;\n    targetCradleEndRow -= diff;\n  }\n  var targetCradleReferenceIndex = targetCradleReferenceRow * crosscount;\n  targetCradleReferenceIndex = Math.max(targetCradleReferenceIndex, listlowindex);\n  // ---------------------[ calc cradle content count ]---------------------\n  var newCradleContentCount = cradleRowcount * crosscount;\n  if (targetCradleEndRow == listEndRowOffset) {\n    if (endrowblanks) {\n      newCradleContentCount -= endrowblanks; // endRowRemainderCount)\n    }\n  }\n\n  if (targetCradleReferenceRow == rangerowshift) {\n    // first row\n    if (baserowblanks) {\n      newCradleContentCount -= baserowblanks;\n    }\n  }\n  // --------------------[ calc css positioning ]-----------------------\n  var targetScrollblockViewportPixelOffset = (targetAxisReferenceRow - rangerowshift) * baseRowPixelLength + padding - targetAxisViewportPixelOffset;\n  // ----------------------[ return required values ]---------------------\n  return {\n    targetCradleReferenceIndex: targetCradleReferenceIndex,\n    targetAxisReferenceIndex: targetAxisReferenceIndex,\n    targetScrollblockViewportPixelOffset: targetScrollblockViewportPixelOffset,\n    newCradleContentCount: newCradleContentCount\n  };\n};\nexports.calculateContentListRequirements = calculateContentListRequirements;\n// ======================[ for updateCradleContent ]===========================\n/*\n    the two triggerlines must straddle the head of the viewport (top or left) so that\n    cradle motion can be detected. Motion is most often caused by scrolling, but\n    can also occur with change of size of cradle content rows.\n\n    generateShiftInstruction determines whether the axis should be moved toward the head or tail\n        to restore the straddling position of the two trigger lines. Lots of relative motion.\n\n    'moveaxisheadward' (scrolling down or right) means moving the axis up or left, adjacent items down\n         or right to the tail, dropping trailing tail items, and adding leading head items as necessary\n         to maintain number of cradle rows of content constant.\n\n    'moveaxistailward' (scrolling up or left) means moving the axis down or right, adjacent items up\n         or left to the head, dropping trailing head items, and adding leading tail items as necessary\n         to maintain number of cradle rows of content constant.\n\n    'none' means no shift is required\n*/\nvar generateShiftInstruction = function generateShiftInstruction(_ref2) {\n  var orientation = _ref2.orientation,\n    triggerlineEntries = _ref2.triggerlineEntries,\n    triggerlineSpan = _ref2.triggerlineSpan,\n    scrollerID = _ref2.scrollerID,\n    isFirstRowTriggerConfig = _ref2.isFirstRowTriggerConfig,\n    viewportBoundingRect = _ref2.viewportBoundingRect,\n    triggerHistoryRef = _ref2.triggerHistoryRef;\n  var triggerData = {\n    headOffset: null,\n    tailOffset: null,\n    span: triggerlineSpan,\n    isFirstRowTriggerConfig: isFirstRowTriggerConfig\n  };\n  // most recent; either triggerline will do\n  var entry = triggerlineEntries[triggerlineEntries.length - 1],\n    //.at(-1) at not available in iOS 15\n    referencename = entry.target.dataset.type;\n  entry.referencename = referencename; // for debug\n  var span = triggerlineSpan;\n  var intersectrootpos = orientation == 'vertical' ? Math.trunc(entry.rootBounds.y) : Math.trunc(entry.rootBounds.x);\n  var boundingrootpos = orientation == 'vertical' ? Math.trunc(viewportBoundingRect.y) : Math.trunc(viewportBoundingRect.x);\n  // this selection is redundant, but documents what's going on\n  var rootpos = intersectrootpos == boundingrootpos ? intersectrootpos : boundingrootpos; // we're in Safari, zoomed\n  var entrypos = orientation == 'vertical' ? Math.trunc(entry.boundingClientRect.y) : Math.trunc(entry.boundingClientRect.x);\n  var viewportTriggerOffset = entrypos - rootpos;\n  if (referencename == 'headtrigger') {\n    triggerData.headOffset = viewportTriggerOffset;\n    triggerData.tailOffset = viewportTriggerOffset + span;\n  } else {\n    // tailtrigger\n    triggerData.headOffset = viewportTriggerOffset - span;\n    triggerData.tailOffset = viewportTriggerOffset;\n  }\n  var shiftinstruction;\n  var triggerHistory = triggerHistoryRef.current;\n  // since triggers are moved and can share the 0 (zero) offset, an infinite loop can occur\n  // between the head and tail triggers. The following short-circuits that.\n  // Obviously needs work to generalize...\n  if ((0, InfiniteGridScroller_1.isSafariIOS)() && (triggerData.headOffset == 0 || triggerData.tailOffset == 0) || !(0, InfiniteGridScroller_1.isSafariIOS)() && (triggerData.headOffset >= -1 && triggerData.headOffset <= 1 || triggerData.tailOffset >= -1 && triggerData.tailOffset <= 1)) {\n    // some browsers do an infinite loop with the same previousReferenceName;\n    // usually alternates\n    if (triggerHistory.previousReferenceName) {\n      triggerHistory.previousReferenceName = null;\n      shiftinstruction = 'none';\n    } else {\n      if (triggerData.headOffset >= -1 && triggerData.headOffset <= 1) {\n        triggerHistory.previousReferenceName = 'headtrigger';\n      } else {\n        triggerHistory.previousReferenceName = 'tailtrigger';\n      }\n    }\n  } else {\n    if (triggerHistory.previousReferenceName) {\n      triggerHistory.previousReferenceName = null;\n    }\n  }\n  if (shiftinstruction) {\n    // will be 'none'\n    return [shiftinstruction, 0];\n  }\n  if (isFirstRowTriggerConfig) {\n    if (triggerData.headOffset <= 0) {\n      shiftinstruction = 'moveaxistailward';\n    } else {\n      shiftinstruction = 'none';\n    }\n  } else {\n    if (triggerData.tailOffset <= 0) {\n      shiftinstruction = 'moveaxistailward';\n    } else if (triggerData.headOffset >= 0) {\n      shiftinstruction = 'moveaxisheadward';\n    } else {\n      shiftinstruction = 'none';\n    }\n  }\n  var triggerViewportReferencePixelPos = shiftinstruction == 'moveaxistailward' ?\n  // block is scrolling up or left\n  triggerData.tailOffset :\n  // needs to move up or left toward head\n  triggerData.headOffset; // needs to move down or right toward tail\n  return [shiftinstruction, triggerViewportReferencePixelPos];\n};\nexports.generateShiftInstruction = generateShiftInstruction;\n/*\n    The basic goal of calculateShiftSpecs is to determine the number and direction of rows to shift between\n    the head and tail grids (which determines the new location of the axis), and also to\n    calculate the rolling addition and deletion of cradle content to accommodate the changes.\n\n    The number of rows to shift is determined by the pixel shift required to restore the\n    triggerlines to their straddle configuration around the head (top or left) of the viewport.\n\n    Adjustments are made to accommodate special requirements at the start and end of the virtual list.\n\n    DOM measurements are used where available (to accommodate variable dimension rows), and standard\n    units (cellHeight, cellWidth) used for estimates where necessary.\n*/\n// rowshift is at least 1 by the time this function is reached\n// ie. a shiftinstruction of 'moveaxisheadward' or 'moveaxistailward'\nvar calculateShiftSpecs = function calculateShiftSpecs(_ref3) {\n  var shiftinstruction = _ref3.shiftinstruction,\n    triggerViewportReferencePixelPos = _ref3.triggerViewportReferencePixelPos,\n    scrollPos = _ref3.scrollPos,\n    scrollblockElement = _ref3.scrollblockElement,\n    cradleInheritedProperties = _ref3.cradleInheritedProperties,\n    cradleContentProps = _ref3.cradleContentProps,\n    virtualListProps = _ref3.virtualListProps,\n    cradleContent = _ref3.cradleContent,\n    cradleElements = _ref3.cradleElements;\n  // ------------------------[ 1. initialize ]-----------------------\n  var _a, _b;\n  // cradle elements\n  var axisElement = cradleElements.axisRef.current,\n    headGridElement = cradleElements.headRef.current,\n    tailGridElement = cradleElements.tailRef.current,\n    gap = cradleInheritedProperties.gap,\n    padding = cradleInheritedProperties.padding,\n    orientation = cradleInheritedProperties.orientation,\n    cellHeight = cradleInheritedProperties.cellHeight,\n    cellWidth = cradleInheritedProperties.cellWidth,\n    layout = cradleInheritedProperties.layout,\n    scrollerID = cradleInheritedProperties.scrollerID,\n    cradlecontentlist = cradleContent.cradleModelComponents,\n    tailcontentlist = cradleContent.tailModelComponents,\n    cradleRowcount = cradleContentProps.cradleRowcount,\n    viewportRowcount = cradleContentProps.viewportRowcount,\n    runwayRowcount = cradleContentProps.runwayRowcount,\n    crosscount = virtualListProps.crosscount,\n    listRowcount = virtualListProps.rowcount,\n    listsize = virtualListProps.size,\n    listlowindex = virtualListProps.lowindex,\n    baserowblanks = virtualListProps.baserowblanks,\n    endrowblanks = virtualListProps.endrowblanks,\n    rangerowshift = virtualListProps.rowshift;\n\n  // normalize\n  var previousCradleReferenceIndex = ((_a = cradlecontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0;\n  var previousCradleReferenceRow = Math.floor(previousCradleReferenceIndex / crosscount);\n  var previousAxisReferenceIndex = ((_b = tailcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0;\n  var previousAxisReferenceRow = Math.floor(previousAxisReferenceIndex / crosscount);\n  var listEndRow = listRowcount - 1 + rangerowshift;\n  var baseRowPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gap;\n  var foundGridSpanRowShiftIncrement,\n    gridSpanAxisPixelShift = 0,\n    // in relation to viewport head boundary\n    byPixelMeasureGridRowShiftCount = 0,\n    isListBoundary = false,\n    totalPixelShift,\n    finalVariableRowLength; // special case\n  // ----------------------------[ 2. calculate base row shift ]--------------------------\n  // measure exising variable rows for pixel length\n  if (layout == 'variable') {\n    var engagedGridElement =\n    // moving axis (and triggers) toward the reference grid element\n    shiftinstruction == 'moveaxistailward' ?\n    // scrolling up or left\n    tailGridElement : headGridElement;\n    var gridRowPixelLengthsList = getGridRowLengths(engagedGridElement, orientation, crosscount, gap);\n    if (shiftinstruction == 'moveaxisheadward') {\n      // scrolling down or right; move triggerlines up or left\n      gridRowPixelLengthsList.reverse(); // head grid row lengths listed from axis toward head\n    }\n\n    var gridRowCumulativePixelLengthsList = getGridRowAggregateSpans(gridRowPixelLengthsList); // count pixels where available\n    // first try to find position based on known (instantiated) rows\n    if (shiftinstruction == 'moveaxistailward') {\n      // scroll up\n      // tail trigger needs to move down or right until position relative to viewport top or left is positive\n      foundGridSpanRowShiftIncrement = gridRowCumulativePixelLengthsList.findIndex(function (cumulativepixellength) {\n        return triggerViewportReferencePixelPos + cumulativepixellength >= 0;\n      });\n    } else {\n      // 'moveaxisheadward', scrolldown\n      // head trigger needs to move up or left until position relative to viewport top or left is negative\n      foundGridSpanRowShiftIncrement = gridRowCumulativePixelLengthsList.findIndex(function (cumulativepixellength) {\n        return triggerViewportReferencePixelPos - cumulativepixellength <= 0;\n      });\n    }\n    if (foundGridSpanRowShiftIncrement != -1) {\n      // found measureed row for shift\n      gridSpanAxisPixelShift = shiftinstruction == 'moveaxistailward' ? gridRowCumulativePixelLengthsList[foundGridSpanRowShiftIncrement] :\n      // move axis toward tail from viewport boundary (positive)\n      -gridRowCumulativePixelLengthsList[foundGridSpanRowShiftIncrement]; // move axis toward head from viewport boundary (negative)\n    } else {\n      // no foundGridSpanRowShiftIncrement; either in boundary, or shy of target\n      isListBoundary = gridRowCumulativePixelLengthsList.length == 0; // boundary at head of list\n      if (!isListBoundary) {\n        // interim working result\n        byPixelMeasureGridRowShiftCount = gridRowCumulativePixelLengthsList.length - 1; // base: failed measured row ptr\n        totalPixelShift = gridRowCumulativePixelLengthsList[byPixelMeasureGridRowShiftCount]; // set base of working overshoot\n        finalVariableRowLength = gridRowPixelLengthsList.at(-1); // for oversize cell adjustment below\n      } else {\n        // else if isListBoundary row and pixel shifts remain at default of 0 each\n        byPixelMeasureGridRowShiftCount = 0;\n        totalPixelShift = 0;\n      }\n    }\n  } else {\n    // layout == 'uniform'; use only defined lengths\n    foundGridSpanRowShiftIncrement = -1; // \"not found\", ie not applicable\n    // these are the defaults\n    byPixelMeasureGridRowShiftCount = 0;\n    totalPixelShift = 0;\n  }\n  // uniform layout, or overshoot of instantiated rows; continue with virtual base rows\n  if (foundGridSpanRowShiftIncrement == -1) {\n    if (!isListBoundary) {\n      if (shiftinstruction == 'moveaxistailward') {\n        // scrolling up/left\n        do {\n          totalPixelShift += baseRowPixelLength;\n          byPixelMeasureGridRowShiftCount++;\n        } while (triggerViewportReferencePixelPos + totalPixelShift < 0);\n        gridSpanAxisPixelShift = totalPixelShift;\n      } else {\n        // moveaxisheadward; scrolling down/right\n        do {\n          totalPixelShift += baseRowPixelLength;\n          byPixelMeasureGridRowShiftCount++;\n          if (previousAxisReferenceRow - rangerowshift - byPixelMeasureGridRowShiftCount == 0) {\n            // stop cycling at head limit\n            break;\n          }\n        } while (triggerViewportReferencePixelPos - totalPixelShift > 0);\n        gridSpanAxisPixelShift = -totalPixelShift;\n      }\n    }\n    // byPixelMeasureGridRowCount is one greater than foundGridSpanRowIncrement with actual measurements above\n    // this -1 makes them compatible for span conversion (next step)\n    foundGridSpanRowShiftIncrement = byPixelMeasureGridRowShiftCount - 1;\n  }\n  var gridSpanRowShift =\n  // pick up row shift with or without overshoot\n  shiftinstruction == 'moveaxistailward' ? foundGridSpanRowShiftIncrement + 1 : -(foundGridSpanRowShiftIncrement + 1);\n  // the following two values (axisReferenceRowShift & axisPixelShift), and no other calcs, \n  //     are carried forward in this function.\n  // for axisReferenceRowshift:\n  // negative for moving rows out of head into tail;\n  // positive for moving rows out of tail into head\n  var axisReferenceRowShift = gridSpanRowShift,\n    axisPixelShift = gridSpanAxisPixelShift;\n  // this can only happen with oversized cellLength (ie > viewportLength)\n  //     and only using measured length\n  // axis must be no farther than 1 back of the last row end position\n  if (previousAxisReferenceRow + axisReferenceRowShift > listEndRow) {\n    axisReferenceRowShift -= 1;\n    if (layout == 'variable') {\n      axisPixelShift -= finalVariableRowLength;\n    } else {\n      axisPixelShift -= baseRowPixelLength;\n    }\n  }\n  // -----------[ 3. calculate current viewport axis pixel offset ]-------------------\n  // gaps beyond rendered rows can be caused by rapid scrolling\n  var scrollblockAxisPixelOffset = orientation == 'vertical' ? axisElement.offsetTop : axisElement.offsetLeft;\n  var scrollblockPixelOffset =\n  // to capture current top/left adjustment to viewport for variable layout\n  orientation == 'vertical' ? scrollblockElement.offsetTop : scrollblockElement.offsetLeft;\n  // currentViewportAxisOffset will be negative (above viewport edge) for scroll block headward \n  //     and positive for scroll block tailward\n  // the pixel distance between the viewport frame and the axis, toward the head\n  var currentViewportAxisPixelOffset = scrollblockAxisPixelOffset + scrollblockPixelOffset - scrollPos;\n  // -------------[ 4. calculate new axis pixel position ]------------------\n  var newAxisViewportPixelOffset = currentViewportAxisPixelOffset + axisPixelShift;\n  // Note: sections 5, 6 and 7 deal entirely with row calculations; no pixels\n  // ------------[ 5. calc new cradle and axis reference row offsets ]-------------\n  // base value for cradle reference shift; may change if beyond list bounds\n  var cradleReferenceRowshift = axisReferenceRowShift;\n  // base values\n  var newCradleReferenceRow = previousCradleReferenceRow + cradleReferenceRowshift;\n  var newAxisReferenceRow = previousAxisReferenceRow + axisReferenceRowShift;\n  // --------[ 6. adjust cradle contents for start and end of list ]-------\n  // ...to maintain constant number of cradle rows\n  if (shiftinstruction == 'moveaxistailward') {\n    // scrolling up/left\n    // a. if scrolling the block headward near the start of the list, new cradle row offset and\n    // cradle row shift count has to be adjusted to accommodate the leading runway\n    // b. if scrolling the block headward (revealing tail of list), as the cradle last row offset \n    // approaches max listrow, new cradle offset and cradle row shift have to be adjusted to prevent \n    // shortening of cradle content.\n    // --- start of list adjustment\n    var targetCradleReferenceRow = Math.max(rangerowshift, newAxisReferenceRow - runwayRowcount - 1); // extra row for visibility\n    var headrowDiff = newCradleReferenceRow - targetCradleReferenceRow;\n    if (headrowDiff > 0) {\n      newCradleReferenceRow -= headrowDiff;\n      cradleReferenceRowshift -= headrowDiff;\n    }\n    // --- end of list adjustment: case of being in bounds of trailing runway (end of list)\n    var targetCradleEndrow = newCradleReferenceRow + (cradleRowcount - 1);\n    var tailrowdiff = targetCradleEndrow - listEndRow;\n    if (tailrowdiff > 0) {\n      cradleReferenceRowshift -= tailrowdiff;\n      newCradleReferenceRow -= tailrowdiff;\n    }\n  } else {\n    // shiftinstruction == 'moveaxisheadward'; scrolling down/right\n    // c. if scrolling the block down or right (toward revealing head of list), as the cradlerowoffset \n    // hits 0, cradle changes have to be adjusted to prevent shortening of cradle content\n    // d. if scrolling headward near the end of the list, cradle changes have to be adjusted to \n    // accomodate the trailing runway\n    // --- start of list adjustment\n    if (newCradleReferenceRow < rangerowshift) {\n      var diff = rangerowshift - newCradleReferenceRow;\n      cradleReferenceRowshift += diff;\n      newCradleReferenceRow += diff;\n    }\n    if (layout == 'variable' && newAxisReferenceRow == rangerowshift) {\n      // start of list\n      newAxisViewportPixelOffset = padding;\n    }\n    // --- end of list adjustment; case of in bounds of trailing runway\n    var computedNextCradleEndRow = previousCradleReferenceRow + (cradleRowcount - 1) + cradleReferenceRowshift;\n    var targetCradleEndRow = newAxisReferenceRow + (viewportRowcount - 1) + (runwayRowcount - 1);\n    var _tailrowdiff = computedNextCradleEndRow - targetCradleEndRow;\n    if (_tailrowdiff < 0) {\n      _tailrowdiff = Math.max(_tailrowdiff, cradleReferenceRowshift);\n      cradleReferenceRowshift -= _tailrowdiff;\n      newCradleReferenceRow -= _tailrowdiff;\n    }\n  }\n  // ----------------------[ 7. map rows to item references ]----------------------\n  var newCradleReferenceIndex = Math.max(listlowindex, newCradleReferenceRow * crosscount);\n  var cradleReferenceItemShift = newCradleReferenceIndex - previousCradleReferenceIndex;\n  var newAxisReferenceIndex = Math.max(listlowindex, newAxisReferenceRow * crosscount);\n  var axisReferenceItemShift = newAxisReferenceIndex - previousAxisReferenceIndex;\n  var newCradleContentCount = cradleRowcount * crosscount; // base count\n  var includesLastRow = newCradleReferenceRow + cradleRowcount - rangerowshift >= listRowcount;\n  var includesFirstRow = newCradleReferenceRow == rangerowshift;\n  if (includesLastRow) {\n    newCradleContentCount -= endrowblanks;\n  }\n  if (includesFirstRow) {\n    newCradleContentCount -= baserowblanks;\n  }\n  // create head and tail change counts\n  var changeOfCradleContentCount = cradlecontentlist.length - newCradleContentCount;\n  var listStartChangeCount = -cradleReferenceItemShift;\n  var listEndChangeCount = -listStartChangeCount - changeOfCradleContentCount;\n  // ---------------------[ 8. return required values ]-------------------\n  return {\n    // newCradleReferenceIndex, \n    cradleReferenceItemShift: cradleReferenceItemShift,\n    newAxisReferenceIndex: newAxisReferenceIndex,\n    axisReferenceItemShift: axisReferenceItemShift,\n    newAxisViewportPixelOffset: newAxisViewportPixelOffset,\n    newCradleContentCount: newCradleContentCount,\n    listStartChangeCount: listStartChangeCount,\n    listEndChangeCount: listEndChangeCount\n  };\n};\nexports.calculateShiftSpecs = calculateShiftSpecs;\n// supports calcContentShift above\nvar getGridRowLengths = function getGridRowLengths(grid, orientation, crosscount, gap) {\n  var rowLengths = [];\n  var elementList = grid.childNodes;\n  var elementPtr = 0;\n  var element = elementList[elementPtr];\n  while (element) {\n    var rowlength = (orientation == 'vertical' ? element.offsetHeight : element.offsetWidth) + gap;\n    rowLengths.push(rowlength);\n    elementPtr += crosscount;\n    element = elementList[elementPtr];\n  }\n  return rowLengths;\n};\n// supports calcContentShift above\nvar getGridRowAggregateSpans = function getGridRowAggregateSpans(rowLengths) {\n  var rowSpans = [];\n  var span = 0;\n  rowLengths.forEach(function (value) {\n    span += value;\n    rowSpans.push(span);\n  });\n  return rowSpans;\n};\n// =====================[ shared by both setCradleContent and updateCradleContent ]====================\n// update content\n// adds CellFrames at end of contentlist according to headindexcount and tailindexcount,\n// or if indexcount values are <0 removes them.\nvar getCellFrameComponentList = function getCellFrameComponentList(_ref4) {\n  var cradleInheritedProperties = _ref4.cradleInheritedProperties,\n    cradleInternalProperties = _ref4.cradleInternalProperties,\n    cacheAPI = _ref4.cacheAPI,\n    cradleContentCount = _ref4.cradleContentCount,\n    cradleReferenceIndex = _ref4.cradleReferenceIndex,\n    listStartChangeCount = _ref4.listStartChangeCount,\n    listEndChangeCount = _ref4.listEndChangeCount,\n    contentlist = _ref4.workingContentList,\n    instanceIdCounterRef = _ref4.instanceIdCounterRef,\n    styles = _ref4.styles,\n    placeholderMessages = _ref4.placeholderMessages;\n  var localContentlist = _toConsumableArray(contentlist);\n  var lastindexoffset = cradleReferenceIndex + localContentlist.length - 1;\n  var headContentlist = [],\n    tailContentlist = [];\n  var deletedtailitems = [],\n    deletedheaditems = [];\n  if (listStartChangeCount >= 0) {\n    // acquire new items\n    var referenceIndex = cradleReferenceIndex;\n    var changeCount = listStartChangeCount;\n    if (listStartChangeCount > cradleContentCount) {\n      referenceIndex = cradleReferenceIndex - (listStartChangeCount - cradleContentCount);\n      changeCount = cradleContentCount;\n    }\n    for (var newindex = referenceIndex - changeCount; newindex < referenceIndex; newindex++) {\n      headContentlist.push(createCellFrame({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheAPI: cacheAPI,\n        placeholderFrameStyles: styles.placeholderframe,\n        placeholderLinerStyles: styles.placeholderliner,\n        placeholderErrorFrameStyles: styles.placeholdererrorframe,\n        placeholderErrorLinerStyles: styles.placeholdererrorliner,\n        placeholderMessages: placeholderMessages\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -listStartChangeCount);\n  }\n  if (listEndChangeCount >= 0) {\n    // acquire new items\n    var _referenceIndex = lastindexoffset;\n    var _changeCount = listEndChangeCount;\n    if (listEndChangeCount > cradleContentCount) {\n      _referenceIndex = lastindexoffset + (listEndChangeCount - cradleContentCount);\n      _changeCount = cradleContentCount;\n    }\n    for (var _newindex = _referenceIndex + 1; _newindex < _referenceIndex + 1 + _changeCount; _newindex++) {\n      tailContentlist.push(createCellFrame({\n        index: _newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheAPI: cacheAPI,\n        placeholderFrameStyles: styles.placeholderframe,\n        placeholderLinerStyles: styles.placeholderliner,\n        placeholderErrorFrameStyles: styles.placeholdererrorframe,\n        placeholderErrorLinerStyles: styles.placeholdererrorliner,\n        placeholderMessages: placeholderMessages\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(listEndChangeCount, -listEndChangeCount);\n  }\n  var deletedItems = [].concat(_toConsumableArray(deletedheaditems), _toConsumableArray(deletedtailitems));\n  var componentList = [].concat(headContentlist, _toConsumableArray(localContentlist), tailContentlist);\n  return [componentList, deletedItems];\n};\nexports.getCellFrameComponentList = getCellFrameComponentList;\n// Leading (head) all or partially hidden; tail, visible plus trailing hidden\nvar allocateContentList = function allocateContentList(_ref5) {\n  var contentlist = _ref5.contentlist,\n    axisReferenceIndex = _ref5.axisReferenceIndex,\n    layoutHandler = _ref5.layoutHandler;\n  var _a;\n  var triggercellIndex = layoutHandler.triggercellIndex;\n  var lowcontentindex = (_a = contentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index,\n    highcontentindex = lowcontentindex + contentlist.length;\n  var headitemcount = axisReferenceIndex - lowcontentindex;\n  var targetTriggercellIndex = headitemcount == 0 ? axisReferenceIndex : axisReferenceIndex - 1;\n  layoutHandler.triggercellIsInTail = headitemcount == 0 ? true : false;\n  if (triggercellIndex !== undefined && lowcontentindex !== undefined) {\n    //&& \n    if (triggercellIndex >= lowcontentindex && triggercellIndex <= highcontentindex) {\n      var _triggercellPtr = triggercellIndex - lowcontentindex;\n      var _triggercellComponent = contentlist[_triggercellPtr];\n      if (_triggercellComponent) {\n        // otherwise has been asynchronously cleared\n        contentlist[_triggercellPtr] = react_1[\"default\"].cloneElement(_triggercellComponent, {\n          isTriggercell: false\n        });\n      }\n    }\n  }\n  var triggercellPtr = targetTriggercellIndex - lowcontentindex;\n  var triggercellComponent = contentlist[triggercellPtr];\n  if (triggercellComponent) {\n    contentlist[triggercellPtr] = react_1[\"default\"].cloneElement(triggercellComponent, {\n      isTriggercell: true\n    });\n    layoutHandler.triggercellIndex = targetTriggercellIndex;\n  } else {\n    // defensive; shouldn't happen\n    console.log('FAILURE TO REGISTER TRIGGERCELL:scrollerID', '-' + layoutHandler.scrollerID + '-');\n    console.log('axisReferenceIndex, triggercellIndex, lowcontentindex, highcontentindex, headitemcount, targetTriggercellIndex\\n', axisReferenceIndex, triggercellIndex, lowcontentindex, highcontentindex, headitemcount, targetTriggercellIndex);\n    console.log('triggercellPtr, triggercellComponent, triggercellComponent?.props.isTriggecell, contentlist\\n', triggercellPtr, triggercellComponent, triggercellComponent === null || triggercellComponent === void 0 ? void 0 : triggercellComponent.props.isTriggecell, Object.assign({}, contentlist));\n  }\n  var headlist = contentlist.slice(0, headitemcount);\n  var taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\nexports.allocateContentList = allocateContentList;\nvar deletePortals = function deletePortals(cacheAPI, deleteList, deleteListCallback) {\n  var dlist = deleteList.map(function (item) {\n    return item.props.index;\n  });\n  cacheAPI.deletePortalByIndex(dlist, deleteListCallback);\n};\nexports.deletePortals = deletePortals;\n// =====================[ internal, acquire item ]======================\nvar createCellFrame = function createCellFrame(_ref6) {\n  var index = _ref6.index,\n    cradleInheritedProperties = _ref6.cradleInheritedProperties,\n    cradleInternalProperties = _ref6.cradleInternalProperties,\n    instanceIdCounterRef = _ref6.instanceIdCounterRef,\n    cacheAPI = _ref6.cacheAPI,\n    placeholderFrameStyles = _ref6.placeholderFrameStyles,\n    placeholderLinerStyles = _ref6.placeholderLinerStyles,\n    placeholderErrorFrameStyles = _ref6.placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles = _ref6.placeholderErrorLinerStyles,\n    placeholderMessages = _ref6.placeholderMessages;\n  var instanceID = instanceIdCounterRef.current++;\n  var orientation = cradleInheritedProperties.orientation,\n    cellHeight = cradleInheritedProperties.cellHeight,\n    cellWidth = cradleInheritedProperties.cellWidth,\n    cellMinHeight = cradleInheritedProperties.cellMinHeight,\n    cellMinWidth = cradleInheritedProperties.cellMinWidth,\n    getItem = cradleInheritedProperties.getItem,\n    placeholder = cradleInheritedProperties.placeholder,\n    scrollerID = cradleInheritedProperties.scrollerID,\n    layout = cradleInheritedProperties.layout,\n    usePlaceholder = cradleInheritedProperties.usePlaceholder;\n  var listsize = cradleInternalProperties.virtualListProps.size;\n  // get new or existing itemID\n  var itemID = cacheAPI.getNewOrExistingItemID(index);\n  return react_1[\"default\"].createElement(CellFrame_1[\"default\"], {\n    key: instanceID,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    layout: layout,\n    index: index,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    itemID: itemID,\n    instanceID: instanceID,\n    scrollerID: scrollerID,\n    isTriggercell: false,\n    usePlaceholder: usePlaceholder,\n    placeholderFrameStyles: placeholderFrameStyles,\n    placeholderLinerStyles: placeholderLinerStyles,\n    placeholderErrorFrameStyles: placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles: placeholderErrorLinerStyles,\n    placeholderMessages: placeholderMessages,\n    gridstartstyle: null\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDekJDLFNBQVMsRUFBS0EsU0FBUztJQUN2QnFJLGFBQWEsRUFBS0EsYUFBYTtJQUMvQkMsWUFBWSxFQUFLQSxZQUFZO0lBQzdCckksTUFBTSxFQUFLQSxNQUFNO0lBQ2pCVyxLQUFLLEVBQUtBLEtBQUs7SUFDZjJILE9BQU8sRUFBS0EsT0FBTztJQUNuQmhJLFFBQVEsRUFBS0EsUUFBUTtJQUNyQmlJLFdBQVcsRUFBS0EsV0FBVztJQUMzQkUsTUFBTSxFQUFLQSxNQUFNO0lBQ2pCTixVQUFVLEVBQUtBLFVBQVU7SUFDekIvSyxVQUFVLEVBQUtBLFVBQVU7SUFDekJnSyxhQUFhLEVBQUssS0FBSztJQUN2Qm9CLGNBQWMsRUFBS0EsY0FBYztJQUNqQzlDLHNCQUFzQixFQUFLQSxzQkFBc0I7SUFDakRFLHNCQUFzQixFQUFLQSxzQkFBc0I7SUFDakRFLDJCQUEyQixFQUFLQSwyQkFBMkI7SUFDM0RFLDJCQUEyQixFQUFLQSwyQkFBMkI7SUFDM0RqQixtQkFBbUIsRUFBS0EsbUJBQW1CO0lBQzNDOEQsY0FBYyxFQUFJO0VBQUksRUFDeEI7QUFFTixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvY29udGVudGZ1bmN0aW9ucy50c3g/ZDJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb250ZW50ZnVuY3Rpb25zLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBzdXBwb3J0cyB0aGUgY29udGVudGhhbmRsZXIgbW9kdWxlLiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHBlcmZvcm1cbiAgICB0aGUgZGV0YWlsZWQgY2FsY3VsYXRpb25zIGFuZCBwcm9jZXNzZXMgcmVxdWlyZWQgYnkgdGhlIGNvbnRlbnRoYW5kbGVyLlxuXG4gICAgY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMgaXMgY2FsbGVkIGJ5IHRoZSBjb250ZW50aGFuZGxlcidzIHNldENyYWRsZUNvbnRlbnQgZnVuY3Rpb24uXG5cbiAgICBnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24gYW5kIGNhbGNDb250ZW50U2hpZnQgYXJlIGNhbGxlZCBieSBjb250ZW50SGFuZGxlcidzIHVwZGF0ZUNyYWRsZUNvbnRlbnRcbiAgICBmdW5jdGlvbi4gXG4gICAgXG4gICAgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCwgYWxsb2NhdGVDb250ZW50TGlzdCwgYW5kIGRlbGV0ZVBvcnRhbHMgZnVuY3Rpb25zIGFyZSBzaGFyZWQgYnkgYm90aC4gXG5cbiAgICBjcmVhdGVDZWxsRnJhbWUgaXMgY2FsbGVkIGludGVybmFsbHkgYnkgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCBhcyBuZWVkZWQuXG4qL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCBDZWxsRnJhbWUgZnJvbSAnLi4vQ2VsbEZyYW1lJ1xuXG5pbXBvcnQgeyBpc1NhZmFyaUlPUyB9IGZyb20gJy4uL0luZmluaXRlR3JpZFNjcm9sbGVyJ1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09WyBmb3Igc2V0Q3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVDb250ZW50TGlzdFJlcXVpcmVtZW50cyA9ICh7IC8vIGNhbGxlZCBmcm9tIHNldENyYWRsZUNvbnRlbnQgb25seVxuXG4gICAgICAgIC8vIGluZGV4XG4gICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCwgLy8gZnJvbSB1c2VyLCBvciBmcm9tIHBpdm90XG4gICAgICAgIC8vIHBpeGVsc1xuICAgICAgICBiYXNlUm93UGl4ZWxMZW5ndGgsXG4gICAgICAgIHRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0LFxuICAgICAgICAvLyByZXNvdXJjZXNcbiAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgfSkgPT4ge1xuXG4gICAgY29uc3QgXG4gICAgICAgIHsgXG5cbiAgICAgICAgICAgIHBhZGRpbmcsXG5cbiAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLFxuXG4gICAgICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50LFxuXG4gICAgICAgIH0gPSBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBsb3dpbmRleDpsaXN0bG93aW5kZXgsIFxuICAgICAgICAgICAgaGlnaGluZGV4Omxpc3RoaWdoaW5kZXgsIFxuICAgICAgICAgICAgLy8gc2l6ZTpsaXN0c2l6ZSwgXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHJvd2NvdW50Omxpc3RSb3djb3VudCxcbiAgICAgICAgICAgIGJhc2Vyb3dibGFua3MsXG4gICAgICAgICAgICBlbmRyb3dibGFua3MsXG4gICAgICAgICAgICByb3dzaGlmdDpyYW5nZXJvd3NoaWZ0LFxuXG4gICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAvLyBhbGlnbiBheGlzIHJlZmVyZW5jZSB0byBsaXN0IHNjb3BlXG4gICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5taW4odGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LCBsaXN0aGlnaGluZGV4KVxuICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IE1hdGgubWF4KHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCwgbGlzdGxvd2luZGV4KVxuXG4gICAgLy8gZGVyaXZlIHRhcmdldCByb3dcbiAgICBsZXQgdGFyZ2V0QXhpc1JlZmVyZW5jZVJvdyA9IE1hdGguZmxvb3IodGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsYyBjcmFkbGVSZWZlcmVuY2VSb3cgJiBJbmRleCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBsZWFkaW5nIGVkZ2VcbiAgICBsZXQgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93ID0gTWF0aC5tYXgocmFuZ2Vyb3dzaGlmdCx0YXJnZXRBeGlzUmVmZXJlbmNlUm93IC0gcnVud2F5Um93Y291bnQpXG5cbiAgICAvLyB0cmFpbGluZyBlZGdlXG4gICAgbGV0IHRhcmdldENyYWRsZUVuZFJvdyA9IHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyArIChjcmFkbGVSb3djb3VudCAtIDEpXG5cbiAgICBjb25zdCBsaXN0RW5kUm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpICsgcmFuZ2Vyb3dzaGlmdFxuXG4gICAgaWYgKHRhcmdldENyYWRsZUVuZFJvdyA+IChsaXN0RW5kUm93T2Zmc2V0KSkge1xuICAgICAgICBjb25zdCBkaWZmID0gKHRhcmdldENyYWRsZUVuZFJvdyAtIGxpc3RFbmRSb3dPZmZzZXQpXG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyAtPSBkaWZmXG4gICAgICAgIHRhcmdldENyYWRsZUVuZFJvdyAtPSBkaWZmXG4gICAgfVxuXG4gICAgbGV0IHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4ID0gKHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyAqIGNyb3NzY291bnQpXG4gICAgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1heCh0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxsaXN0bG93aW5kZXgpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlIGNvbnRlbnQgY291bnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IG5ld0NyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudFxuICAgIGlmICh0YXJnZXRDcmFkbGVFbmRSb3cgPT0gbGlzdEVuZFJvd09mZnNldCkge1xuICAgICAgICBpZiAoZW5kcm93YmxhbmtzKSB7XG4gICAgICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQgLT0gZW5kcm93YmxhbmtzLy8gZW5kUm93UmVtYWluZGVyQ291bnQpXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyA9PSByYW5nZXJvd3NoaWZ0KSB7IC8vIGZpcnN0IHJvd1xuICAgICAgICBpZiAoYmFzZXJvd2JsYW5rcykge1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IGJhc2Vyb3dibGFua3NcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjIGNzcyBwb3NpdGlvbmluZyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHRhcmdldFNjcm9sbGJsb2NrVmlld3BvcnRQaXhlbE9mZnNldCA9IFxuICAgICAgICAoKHRhcmdldEF4aXNSZWZlcmVuY2VSb3cgLSByYW5nZXJvd3NoaWZ0KSAqIGJhc2VSb3dQaXhlbExlbmd0aCkgKyBwYWRkaW5nIC0gdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHJldHVybiByZXF1aXJlZCB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgIHRhcmdldFNjcm9sbGJsb2NrVmlld3BvcnRQaXhlbE9mZnNldCwgXG4gICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudCwgXG4gICAgfSBcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09WyBmb3IgdXBkYXRlQ3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qXG4gICAgdGhlIHR3byB0cmlnZ2VybGluZXMgbXVzdCBzdHJhZGRsZSB0aGUgaGVhZCBvZiB0aGUgdmlld3BvcnQgKHRvcCBvciBsZWZ0KSBzbyB0aGF0XG4gICAgY3JhZGxlIG1vdGlvbiBjYW4gYmUgZGV0ZWN0ZWQuIE1vdGlvbiBpcyBtb3N0IG9mdGVuIGNhdXNlZCBieSBzY3JvbGxpbmcsIGJ1dFxuICAgIGNhbiBhbHNvIG9jY3VyIHdpdGggY2hhbmdlIG9mIHNpemUgb2YgY3JhZGxlIGNvbnRlbnQgcm93cy5cblxuICAgIGdlbmVyYXRlU2hpZnRJbnN0cnVjdGlvbiBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGF4aXMgc2hvdWxkIGJlIG1vdmVkIHRvd2FyZCB0aGUgaGVhZCBvciB0YWlsXG4gICAgICAgIHRvIHJlc3RvcmUgdGhlIHN0cmFkZGxpbmcgcG9zaXRpb24gb2YgdGhlIHR3byB0cmlnZ2VyIGxpbmVzLiBMb3RzIG9mIHJlbGF0aXZlIG1vdGlvbi5cblxuICAgICdtb3ZlYXhpc2hlYWR3YXJkJyAoc2Nyb2xsaW5nIGRvd24gb3IgcmlnaHQpIG1lYW5zIG1vdmluZyB0aGUgYXhpcyB1cCBvciBsZWZ0LCBhZGphY2VudCBpdGVtcyBkb3duXG4gICAgICAgICBvciByaWdodCB0byB0aGUgdGFpbCwgZHJvcHBpbmcgdHJhaWxpbmcgdGFpbCBpdGVtcywgYW5kIGFkZGluZyBsZWFkaW5nIGhlYWQgaXRlbXMgYXMgbmVjZXNzYXJ5XG4gICAgICAgICB0byBtYWludGFpbiBudW1iZXIgb2YgY3JhZGxlIHJvd3Mgb2YgY29udGVudCBjb25zdGFudC5cblxuICAgICdtb3ZlYXhpc3RhaWx3YXJkJyAoc2Nyb2xsaW5nIHVwIG9yIGxlZnQpIG1lYW5zIG1vdmluZyB0aGUgYXhpcyBkb3duIG9yIHJpZ2h0LCBhZGphY2VudCBpdGVtcyB1cFxuICAgICAgICAgb3IgbGVmdCB0byB0aGUgaGVhZCwgZHJvcHBpbmcgdHJhaWxpbmcgaGVhZCBpdGVtcywgYW5kIGFkZGluZyBsZWFkaW5nIHRhaWwgaXRlbXMgYXMgbmVjZXNzYXJ5XG4gICAgICAgICB0byBtYWludGFpbiBudW1iZXIgb2YgY3JhZGxlIHJvd3Mgb2YgY29udGVudCBjb25zdGFudC5cblxuICAgICdub25lJyBtZWFucyBubyBzaGlmdCBpcyByZXF1aXJlZFxuKi9cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlU2hpZnRJbnN0cnVjdGlvbiA9ICh7XG5cbiAgICBvcmllbnRhdGlvbixcbiAgICB0cmlnZ2VybGluZUVudHJpZXMsXG4gICAgdHJpZ2dlcmxpbmVTcGFuLFxuICAgIHNjcm9sbGVySUQsIC8vIGZvciBkZWJ1Z1xuICAgIFxuICAgIC8vIGlzRmlyc3RSb3dUcmlnZ2VyQ29uZmlnIGlzIHRydWUgaWYgdGhlIHRyaWdnZXJsaW5lcyBhcmUgd2l0aCB0aGUgZmlyc3QgdGFpbCByb3cgaW5zdGVhZCBvZiB0aGVcbiAgICAvLyBsYXN0IGhlYWRyb3cuIFRoYXQgaGFwcGVucyAod29ya2Fyb3VuZCkgd2hlbiB0aGVyZSBhcmUgbm8gaGVhZCByb3dzXG4gICAgaXNGaXJzdFJvd1RyaWdnZXJDb25maWcsIFxuXG4gICAgLy8gU2FmYXJpIGRvZXNuJ3QgbWVhc3VyZSB6b29tZWQgdmFsdWVzIGZvciByb290Ym91bmRzIGluIHRyaWdnZXJsaW5lRW50cmllcywgc28gd2UgdGFrZSBhIGRpcmVjdCByZWFkaW5nXG4gICAgdmlld3BvcnRCb3VuZGluZ1JlY3QsIFxuICAgIHRyaWdnZXJIaXN0b3J5UmVmLFxuXG59KSA9PiB7XG5cbiAgICBjb25zdCB0cmlnZ2VyRGF0YSA9IHtcbiAgICAgICAgaGVhZE9mZnNldDpudWxsLFxuICAgICAgICB0YWlsT2Zmc2V0Om51bGwsXG4gICAgICAgIHNwYW46dHJpZ2dlcmxpbmVTcGFuLFxuICAgICAgICBpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZ1xuICAgIH1cblxuICAgIC8vIG1vc3QgcmVjZW50OyBlaXRoZXIgdHJpZ2dlcmxpbmUgd2lsbCBkb1xuICAgIGNvbnN0IFxuICAgICAgICBlbnRyeSA9IHRyaWdnZXJsaW5lRW50cmllc1t0cmlnZ2VybGluZUVudHJpZXMubGVuZ3RoIC0gMV0sIC8vLmF0KC0xKSBhdCBub3QgYXZhaWxhYmxlIGluIGlPUyAxNVxuICAgICAgICByZWZlcmVuY2VuYW1lID0gZW50cnkudGFyZ2V0LmRhdGFzZXQudHlwZVxuXG4gICAgZW50cnkucmVmZXJlbmNlbmFtZSA9IHJlZmVyZW5jZW5hbWUgLy8gZm9yIGRlYnVnXG5cbiAgICBjb25zdCBzcGFuID0gdHJpZ2dlcmxpbmVTcGFuXG5cbiAgICBjb25zdCBpbnRlcnNlY3Ryb290cG9zID0gXG4gICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIE1hdGgudHJ1bmMoZW50cnkucm9vdEJvdW5kcy55KTpcbiAgICAgICAgICAgIE1hdGgudHJ1bmMoZW50cnkucm9vdEJvdW5kcy54KVxuXG4gICAgY29uc3QgYm91bmRpbmdyb290cG9zID1cbiAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgTWF0aC50cnVuYyh2aWV3cG9ydEJvdW5kaW5nUmVjdC55KTpcbiAgICAgICAgICAgIE1hdGgudHJ1bmModmlld3BvcnRCb3VuZGluZ1JlY3QueClcblxuICAgIC8vIHRoaXMgc2VsZWN0aW9uIGlzIHJlZHVuZGFudCwgYnV0IGRvY3VtZW50cyB3aGF0J3MgZ29pbmcgb25cbiAgICBjb25zdCByb290cG9zID0gXG4gICAgICAgIChpbnRlcnNlY3Ryb290cG9zID09IGJvdW5kaW5ncm9vdHBvcyk/XG4gICAgICAgIGludGVyc2VjdHJvb3Rwb3M6XG4gICAgICAgIGJvdW5kaW5ncm9vdHBvcyAvLyB3ZSdyZSBpbiBTYWZhcmksIHpvb21lZFxuXG4gICAgY29uc3QgZW50cnlwb3MgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgTWF0aC50cnVuYyhlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueSk6XG4gICAgICAgICAgICBNYXRoLnRydW5jKGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdC54KVxuXG4gICAgY29uc3Qgdmlld3BvcnRUcmlnZ2VyT2Zmc2V0ID0gZW50cnlwb3MgLSByb290cG9zXG5cbiAgICBpZiAocmVmZXJlbmNlbmFtZSA9PSAnaGVhZHRyaWdnZXInKSB7XG5cbiAgICAgICAgdHJpZ2dlckRhdGEuaGVhZE9mZnNldCA9IHZpZXdwb3J0VHJpZ2dlck9mZnNldFxuICAgICAgICB0cmlnZ2VyRGF0YS50YWlsT2Zmc2V0ID0gdmlld3BvcnRUcmlnZ2VyT2Zmc2V0ICsgc3BhblxuXG4gICAgfSBlbHNlIHsgLy8gdGFpbHRyaWdnZXJcblxuICAgICAgICB0cmlnZ2VyRGF0YS5oZWFkT2Zmc2V0ID0gdmlld3BvcnRUcmlnZ2VyT2Zmc2V0IC0gc3BhblxuICAgICAgICB0cmlnZ2VyRGF0YS50YWlsT2Zmc2V0ID0gdmlld3BvcnRUcmlnZ2VyT2Zmc2V0XG5cbiAgICB9XG5cbiAgICBsZXQgc2hpZnRpbnN0cnVjdGlvblxuICAgIFxuICAgIGNvbnN0IHRyaWdnZXJIaXN0b3J5ID0gdHJpZ2dlckhpc3RvcnlSZWYuY3VycmVudDtcblxuICAgIC8vIHNpbmNlIHRyaWdnZXJzIGFyZSBtb3ZlZCBhbmQgY2FuIHNoYXJlIHRoZSAwICh6ZXJvKSBvZmZzZXQsIGFuIGluZmluaXRlIGxvb3AgY2FuIG9jY3VyXG4gICAgLy8gYmV0d2VlbiB0aGUgaGVhZCBhbmQgdGFpbCB0cmlnZ2Vycy4gVGhlIGZvbGxvd2luZyBzaG9ydC1jaXJjdWl0cyB0aGF0LlxuICAgIC8vIE9idmlvdXNseSBuZWVkcyB3b3JrIHRvIGdlbmVyYWxpemUuLi5cbiAgICBpZiAoKGlzU2FmYXJpSU9TKCkgJiYgKHRyaWdnZXJEYXRhLmhlYWRPZmZzZXQgPT0gMCB8fCB0cmlnZ2VyRGF0YS50YWlsT2Zmc2V0ID09IDApKSB8fFxuICAgICAgICAoIWlzU2FmYXJpSU9TKCkgJiYgKCgodHJpZ2dlckRhdGEuaGVhZE9mZnNldCA+PSAtMSkgJiYgKHRyaWdnZXJEYXRhLmhlYWRPZmZzZXQgPD0gMSkpIHx8IFxuICAgICAgICAoKHRyaWdnZXJEYXRhLnRhaWxPZmZzZXQgPj0gLTEpICYmICh0cmlnZ2VyRGF0YS50YWlsT2Zmc2V0IDw9IDEpKSkpKSB7XG5cbiAgICAgICAgLy8gc29tZSBicm93c2VycyBkbyBhbiBpbmZpbml0ZSBsb29wIHdpdGggdGhlIHNhbWUgcHJldmlvdXNSZWZlcmVuY2VOYW1lO1xuICAgICAgICAvLyB1c3VhbGx5IGFsdGVybmF0ZXNcbiAgICAgICAgaWYgKHRyaWdnZXJIaXN0b3J5LnByZXZpb3VzUmVmZXJlbmNlTmFtZSkge1xuXG4gICAgICAgICAgICB0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1JlZmVyZW5jZU5hbWUgPSBudWxsXG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24gPSAnbm9uZSdcbiAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoKHRyaWdnZXJEYXRhLmhlYWRPZmZzZXQgPj0gLTEpICYmICh0cmlnZ2VyRGF0YS5oZWFkT2Zmc2V0IDw9IDEpKSB7XG5cbiAgICAgICAgICAgICAgICB0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1JlZmVyZW5jZU5hbWUgPSAnaGVhZHRyaWdnZXInXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1JlZmVyZW5jZU5hbWUgPSAndGFpbHRyaWdnZXInXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmICh0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1JlZmVyZW5jZU5hbWUpIHtcblxuICAgICAgICAgICAgdHJpZ2dlckhpc3RvcnkucHJldmlvdXNSZWZlcmVuY2VOYW1lID0gbnVsbFxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbikgeyAvLyB3aWxsIGJlICdub25lJ1xuXG4gICAgICAgIHJldHVybiBbc2hpZnRpbnN0cnVjdGlvbiwgMF1cblxuICAgIH1cblxuICAgIGlmIChpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZykge1xuXG4gICAgICAgIGlmICh0cmlnZ2VyRGF0YS5oZWFkT2Zmc2V0IDw9IDApIHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbiA9ICdtb3ZlYXhpc3RhaWx3YXJkJ1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24gPSAnbm9uZSdcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGlmICh0cmlnZ2VyRGF0YS50YWlsT2Zmc2V0IDw9IDApIHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbiA9ICdtb3ZlYXhpc3RhaWx3YXJkJ1xuXG4gICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlckRhdGEuaGVhZE9mZnNldCA+PSAwKSB7XG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24gPSAnbW92ZWF4aXNoZWFkd2FyZCdcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzaGlmdGluc3RydWN0aW9uID0gJ25vbmUnXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgdHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgPSBcbiAgICAgICAgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzdGFpbHdhcmQnKT8gLy8gYmxvY2sgaXMgc2Nyb2xsaW5nIHVwIG9yIGxlZnRcbiAgICAgICAgICAgIHRyaWdnZXJEYXRhLnRhaWxPZmZzZXQ6IC8vIG5lZWRzIHRvIG1vdmUgdXAgb3IgbGVmdCB0b3dhcmQgaGVhZFxuICAgICAgICAgICAgdHJpZ2dlckRhdGEuaGVhZE9mZnNldCAvLyBuZWVkcyB0byBtb3ZlIGRvd24gb3IgcmlnaHQgdG93YXJkIHRhaWxcblxuICAgIHJldHVybiBbc2hpZnRpbnN0cnVjdGlvbiwgdHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3NdXG5cbn1cblxuLypcbiAgICBUaGUgYmFzaWMgZ29hbCBvZiBjYWxjdWxhdGVTaGlmdFNwZWNzIGlzIHRvIGRldGVybWluZSB0aGUgbnVtYmVyIGFuZCBkaXJlY3Rpb24gb2Ygcm93cyB0byBzaGlmdCBiZXR3ZWVuXG4gICAgdGhlIGhlYWQgYW5kIHRhaWwgZ3JpZHMgKHdoaWNoIGRldGVybWluZXMgdGhlIG5ldyBsb2NhdGlvbiBvZiB0aGUgYXhpcyksIGFuZCBhbHNvIHRvXG4gICAgY2FsY3VsYXRlIHRoZSByb2xsaW5nIGFkZGl0aW9uIGFuZCBkZWxldGlvbiBvZiBjcmFkbGUgY29udGVudCB0byBhY2NvbW1vZGF0ZSB0aGUgY2hhbmdlcy5cblxuICAgIFRoZSBudW1iZXIgb2Ygcm93cyB0byBzaGlmdCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBwaXhlbCBzaGlmdCByZXF1aXJlZCB0byByZXN0b3JlIHRoZSBcbiAgICB0cmlnZ2VybGluZXMgdG8gdGhlaXIgc3RyYWRkbGUgY29uZmlndXJhdGlvbiBhcm91bmQgdGhlIGhlYWQgKHRvcCBvciBsZWZ0KSBvZiB0aGUgdmlld3BvcnQuXG5cbiAgICBBZGp1c3RtZW50cyBhcmUgbWFkZSB0byBhY2NvbW1vZGF0ZSBzcGVjaWFsIHJlcXVpcmVtZW50cyBhdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgdmlydHVhbCBsaXN0LlxuXG4gICAgRE9NIG1lYXN1cmVtZW50cyBhcmUgdXNlZCB3aGVyZSBhdmFpbGFibGUgKHRvIGFjY29tbW9kYXRlIHZhcmlhYmxlIGRpbWVuc2lvbiByb3dzKSwgYW5kIHN0YW5kYXJkXG4gICAgdW5pdHMgKGNlbGxIZWlnaHQsIGNlbGxXaWR0aCkgdXNlZCBmb3IgZXN0aW1hdGVzIHdoZXJlIG5lY2Vzc2FyeS5cbiovXG5cbi8vIHJvd3NoaWZ0IGlzIGF0IGxlYXN0IDEgYnkgdGhlIHRpbWUgdGhpcyBmdW5jdGlvbiBpcyByZWFjaGVkXG4vLyBpZS4gYSBzaGlmdGluc3RydWN0aW9uIG9mICdtb3ZlYXhpc2hlYWR3YXJkJyBvciAnbW92ZWF4aXN0YWlsd2FyZCdcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVTaGlmdFNwZWNzID0gKHtcblxuICAgIC8vIGRpcmVjdGlvbiBvZiBjaGFuZ2VcbiAgICBzaGlmdGluc3RydWN0aW9uLFxuICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zLFxuXG4gICAgLy8gcG9zaXRpb25hbFxuICAgIHNjcm9sbFBvcyxcbiAgICBzY3JvbGxibG9ja0VsZW1lbnQsXG5cbiAgICAvLyBwcm9wZXJ0eSByZXBvc1xuICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgY3JhZGxlQ29udGVudFByb3BzLFxuICAgIHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAvLyBjcmFkbGUgcmVwb3NcbiAgICBjcmFkbGVDb250ZW50LFxuICAgIGNyYWRsZUVsZW1lbnRzLFxuXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDEuIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBjcmFkbGUgZWxlbWVudHNcbiAgICBjb25zdCBcbiAgICAgICAgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnQsXG4gICAgICAgIGhlYWRHcmlkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudCxcbiAgICAgICAgdGFpbEdyaWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50LFxuXG4gICAgICAgIC8vIGNvbmZpZ3VyYXRpb24gZGF0YVxuICAgICAgICB7IFxuXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgbGF5b3V0LFxuICAgICAgICAgICAgc2Nyb2xsZXJJRCwgLy8gZGVidWdcblxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAvLyBjcmFkbGUgY29udGVudHNcbiAgICAgICAge1xuXG4gICAgICAgICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHM6Y3JhZGxlY29udGVudGxpc3QsIFxuICAgICAgICAgICAgdGFpbE1vZGVsQ29tcG9uZW50czp0YWlsY29udGVudGxpc3QsXG5cbiAgICAgICAgfSA9IGNyYWRsZUNvbnRlbnQsXG5cbiAgICAgICAgeyBcblxuICAgICAgICAgICAgY3JhZGxlUm93Y291bnQsXG4gICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQsXG5cbiAgICAgICAgfSA9IGNyYWRsZUNvbnRlbnRQcm9wcyxcblxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgcm93Y291bnQ6bGlzdFJvd2NvdW50LCBcbiAgICAgICAgICAgIHNpemU6bGlzdHNpemUsXG4gICAgICAgICAgICBsb3dpbmRleDpsaXN0bG93aW5kZXgsXG4gICAgICAgICAgICBiYXNlcm93YmxhbmtzLFxuICAgICAgICAgICAgZW5kcm93YmxhbmtzLFxuICAgICAgICAgICAgcm93c2hpZnQ6cmFuZ2Vyb3dzaGlmdCxcbiAgICAgICAgICAgIFxuICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgLy8gbm9ybWFsaXplXG4gICAgY29uc3QgcHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleCA9IChjcmFkbGVjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcbiAgICBjb25zdCBwcmV2aW91c0NyYWRsZVJlZmVyZW5jZVJvdyA9IE1hdGguZmxvb3IocHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleC9jcm9zc2NvdW50KVxuXG4gICAgY29uc3QgcHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXggPSAodGFpbGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCB8fCAwKVxuICAgIGNvbnN0IHByZXZpb3VzQXhpc1JlZmVyZW5jZVJvdyA9IE1hdGguZmxvb3IocHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXgvY3Jvc3Njb3VudClcblxuICAgIGNvbnN0IGxpc3RFbmRSb3cgPSAobGlzdFJvd2NvdW50IC0gMSkgKyByYW5nZXJvd3NoaWZ0XG5cbiAgICBjb25zdCBiYXNlUm93UGl4ZWxMZW5ndGggPVxuICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgIGNlbGxXaWR0aCkgXG4gICAgICAgICsgZ2FwXG5cbiAgICBsZXQgXG4gICAgICAgIGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudCxcbiAgICAgICAgZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCA9IDAsIC8vIGluIHJlbGF0aW9uIHRvIHZpZXdwb3J0IGhlYWQgYm91bmRhcnlcbiAgICAgICAgYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCA9IDAsXG4gICAgICAgIGlzTGlzdEJvdW5kYXJ5ID0gZmFsc2UsXG4gICAgICAgIHRvdGFsUGl4ZWxTaGlmdCxcbiAgICAgICAgZmluYWxWYXJpYWJsZVJvd0xlbmd0aCAvLyBzcGVjaWFsIGNhc2VcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDIuIGNhbGN1bGF0ZSBiYXNlIHJvdyBzaGlmdCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIG1lYXN1cmUgZXhpc2luZyB2YXJpYWJsZSByb3dzIGZvciBwaXhlbCBsZW5ndGhcbiAgICBpZiAobGF5b3V0ID09ICd2YXJpYWJsZScpIHsgXG5cbiAgICAgICAgY29uc3QgZW5nYWdlZEdyaWRFbGVtZW50ID0gLy8gbW92aW5nIGF4aXMgKGFuZCB0cmlnZ2VycykgdG93YXJkIHRoZSByZWZlcmVuY2UgZ3JpZCBlbGVtZW50XG4gICAgICAgICAgICAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpPyAvLyBzY3JvbGxpbmcgdXAgb3IgbGVmdFxuICAgICAgICAgICAgICAgIHRhaWxHcmlkRWxlbWVudDpcbiAgICAgICAgICAgICAgICBoZWFkR3JpZEVsZW1lbnRcblxuICAgICAgICBjb25zdCBncmlkUm93UGl4ZWxMZW5ndGhzTGlzdCA9IGdldEdyaWRSb3dMZW5ndGhzKGVuZ2FnZWRHcmlkRWxlbWVudCwgb3JpZW50YXRpb24sIGNyb3NzY291bnQsIGdhcClcblxuICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXNoZWFkd2FyZCcpIHsgLy8gc2Nyb2xsaW5nIGRvd24gb3IgcmlnaHQ7IG1vdmUgdHJpZ2dlcmxpbmVzIHVwIG9yIGxlZnRcblxuICAgICAgICAgICAgZ3JpZFJvd1BpeGVsTGVuZ3Roc0xpc3QucmV2ZXJzZSgpIC8vIGhlYWQgZ3JpZCByb3cgbGVuZ3RocyBsaXN0ZWQgZnJvbSBheGlzIHRvd2FyZCBoZWFkXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdCA9IGdldEdyaWRSb3dBZ2dyZWdhdGVTcGFucyhncmlkUm93UGl4ZWxMZW5ndGhzTGlzdCkgLy8gY291bnQgcGl4ZWxzIHdoZXJlIGF2YWlsYWJsZVxuXG4gICAgICAgIC8vIGZpcnN0IHRyeSB0byBmaW5kIHBvc2l0aW9uIGJhc2VkIG9uIGtub3duIChpbnN0YW50aWF0ZWQpIHJvd3NcbiAgICAgICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzdGFpbHdhcmQnKSB7IC8vIHNjcm9sbCB1cFxuXG4gICAgICAgICAgICAvLyB0YWlsIHRyaWdnZXIgbmVlZHMgdG8gbW92ZSBkb3duIG9yIHJpZ2h0IHVudGlsIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHZpZXdwb3J0IHRvcCBvciBsZWZ0IGlzIHBvc2l0aXZlXG4gICAgICAgICAgICBmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnQgPSBncmlkUm93Q3VtdWxhdGl2ZVBpeGVsTGVuZ3Roc0xpc3QuZmluZEluZGV4KChjdW11bGF0aXZlcGl4ZWxsZW5ndGgpID0+IFxuICAgICAgICAgICAgICAgICh0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvcyArIGN1bXVsYXRpdmVwaXhlbGxlbmd0aCkgPj0gMCApXG4gICAgICAgIFxuICAgICAgICB9IGVsc2UgeyAvLyAnbW92ZWF4aXNoZWFkd2FyZCcsIHNjcm9sbGRvd25cblxuICAgICAgICAgICAgLy8gaGVhZCB0cmlnZ2VyIG5lZWRzIHRvIG1vdmUgdXAgb3IgbGVmdCB1bnRpbCBwb3NpdGlvbiByZWxhdGl2ZSB0byB2aWV3cG9ydCB0b3Agb3IgbGVmdCBpcyBuZWdhdGl2ZVxuICAgICAgICAgICAgZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ID0gZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0LmZpbmRJbmRleCgoY3VtdWxhdGl2ZXBpeGVsbGVuZ3RoKSA9PiBcbiAgICAgICAgICAgICAgICAodHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgLSBjdW11bGF0aXZlcGl4ZWxsZW5ndGgpIDw9IDApXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnQgIT0gLTEpIHsgLy8gZm91bmQgbWVhc3VyZWVkIHJvdyBmb3Igc2hpZnRcblxuICAgICAgICAgICAgZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCA9IFxuICAgICAgICAgICAgICAgIChzaGlmdGluc3RydWN0aW9uID09ICdtb3ZlYXhpc3RhaWx3YXJkJyk/XG4gICAgICAgICAgICAgICAgICAgIGdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdFtmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnRdOiAvLyBtb3ZlIGF4aXMgdG93YXJkIHRhaWwgZnJvbSB2aWV3cG9ydCBib3VuZGFyeSAocG9zaXRpdmUpXG4gICAgICAgICAgICAgICAgICAgIC1ncmlkUm93Q3VtdWxhdGl2ZVBpeGVsTGVuZ3Roc0xpc3RbZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50XSAvLyBtb3ZlIGF4aXMgdG93YXJkIGhlYWQgZnJvbSB2aWV3cG9ydCBib3VuZGFyeSAobmVnYXRpdmUpXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gbm8gZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50OyBlaXRoZXIgaW4gYm91bmRhcnksIG9yIHNoeSBvZiB0YXJnZXRcblxuICAgICAgICAgICAgaXNMaXN0Qm91bmRhcnkgPSAoZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0Lmxlbmd0aCA9PSAwKSAvLyBib3VuZGFyeSBhdCBoZWFkIG9mIGxpc3RcblxuICAgICAgICAgICAgaWYgKCFpc0xpc3RCb3VuZGFyeSkgeyAvLyBpbnRlcmltIHdvcmtpbmcgcmVzdWx0XG5cbiAgICAgICAgICAgICAgICBieVBpeGVsTWVhc3VyZUdyaWRSb3dTaGlmdENvdW50ID0gZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0Lmxlbmd0aCAtIDEgLy8gYmFzZTogZmFpbGVkIG1lYXN1cmVkIHJvdyBwdHJcbiAgICAgICAgICAgICAgICB0b3RhbFBpeGVsU2hpZnQgPSBncmlkUm93Q3VtdWxhdGl2ZVBpeGVsTGVuZ3Roc0xpc3RbYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudF0gLy8gc2V0IGJhc2Ugb2Ygd29ya2luZyBvdmVyc2hvb3RcbiAgICAgICAgICAgICAgICBmaW5hbFZhcmlhYmxlUm93TGVuZ3RoID0gZ3JpZFJvd1BpeGVsTGVuZ3Roc0xpc3QuYXQoLTEpIC8vIGZvciBvdmVyc2l6ZSBjZWxsIGFkanVzdG1lbnQgYmVsb3dcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gZWxzZSBpZiBpc0xpc3RCb3VuZGFyeSByb3cgYW5kIHBpeGVsIHNoaWZ0cyByZW1haW4gYXQgZGVmYXVsdCBvZiAwIGVhY2hcblxuICAgICAgICAgICAgICAgIGJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQgPSAwXG4gICAgICAgICAgICAgICAgdG90YWxQaXhlbFNoaWZ0ID0gMFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHsgLy8gbGF5b3V0ID09ICd1bmlmb3JtJzsgdXNlIG9ubHkgZGVmaW5lZCBsZW5ndGhzXG5cbiAgICAgICAgZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ID0gLTEgLy8gXCJub3QgZm91bmRcIiwgaWUgbm90IGFwcGxpY2FibGVcblxuICAgICAgICAvLyB0aGVzZSBhcmUgdGhlIGRlZmF1bHRzXG4gICAgICAgIGJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQgPSAwXG4gICAgICAgIHRvdGFsUGl4ZWxTaGlmdCA9IDBcblxuICAgIH1cblxuICAgIC8vIHVuaWZvcm0gbGF5b3V0LCBvciBvdmVyc2hvb3Qgb2YgaW5zdGFudGlhdGVkIHJvd3M7IGNvbnRpbnVlIHdpdGggdmlydHVhbCBiYXNlIHJvd3NcbiAgICBpZiAoZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ID09IC0xICkgeyBcblxuICAgICAgICBpZiAoIWlzTGlzdEJvdW5kYXJ5KSB7XG5cbiAgICAgICAgICAgIGlmIChzaGlmdGluc3RydWN0aW9uID09ICdtb3ZlYXhpc3RhaWx3YXJkJykgeyAvLyBzY3JvbGxpbmcgdXAvbGVmdFxuXG4gICAgICAgICAgICAgICAgZG8ge1xuXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGl4ZWxTaGlmdCArPSBiYXNlUm93UGl4ZWxMZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCsrXG5cbiAgICAgICAgICAgICAgICB9IHdoaWxlICgodHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgKyB0b3RhbFBpeGVsU2hpZnQpIDwgMCkgXG5cbiAgICAgICAgICAgICAgICBncmlkU3BhbkF4aXNQaXhlbFNoaWZ0ID0gdG90YWxQaXhlbFNoaWZ0XG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIG1vdmVheGlzaGVhZHdhcmQ7IHNjcm9sbGluZyBkb3duL3JpZ2h0XG5cbiAgICAgICAgICAgICAgICBkbyB7XG5cbiAgICAgICAgICAgICAgICAgICAgdG90YWxQaXhlbFNoaWZ0ICs9IGJhc2VSb3dQaXhlbExlbmd0aFxuICAgICAgICAgICAgICAgICAgICBieVBpeGVsTWVhc3VyZUdyaWRSb3dTaGlmdENvdW50KytcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByZXZpb3VzQXhpc1JlZmVyZW5jZVJvdyAtIHJhbmdlcm93c2hpZnQgLSBieVBpeGVsTWVhc3VyZUdyaWRSb3dTaGlmdENvdW50KSA9PSAwKSB7IC8vIHN0b3AgY3ljbGluZyBhdCBoZWFkIGxpbWl0XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKCh0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvcyAtIHRvdGFsUGl4ZWxTaGlmdCkgPiAwKVxuXG4gICAgICAgICAgICAgICAgZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCA9IC10b3RhbFBpeGVsU2hpZnRcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBieVBpeGVsTWVhc3VyZUdyaWRSb3dDb3VudCBpcyBvbmUgZ3JlYXRlciB0aGFuIGZvdW5kR3JpZFNwYW5Sb3dJbmNyZW1lbnQgd2l0aCBhY3R1YWwgbWVhc3VyZW1lbnRzIGFib3ZlXG4gICAgICAgIC8vIHRoaXMgLTEgbWFrZXMgdGhlbSBjb21wYXRpYmxlIGZvciBzcGFuIGNvbnZlcnNpb24gKG5leHQgc3RlcClcbiAgICAgICAgZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ID0gYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCAtIDFcblxuICAgIH1cblxuICAgIGNvbnN0IGdyaWRTcGFuUm93U2hpZnQgPSAvLyBwaWNrIHVwIHJvdyBzaGlmdCB3aXRoIG9yIHdpdGhvdXQgb3ZlcnNob290XG4gICAgICAgIChzaGlmdGluc3RydWN0aW9uID09ICdtb3ZlYXhpc3RhaWx3YXJkJyk/XG4gICAgICAgICAgICBmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnQgKyAxOlxuICAgICAgICAgICAgLShmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnQgKyAxKVxuXG4gICAgLy8gdGhlIGZvbGxvd2luZyB0d28gdmFsdWVzIChheGlzUmVmZXJlbmNlUm93U2hpZnQgJiBheGlzUGl4ZWxTaGlmdCksIGFuZCBubyBvdGhlciBjYWxjcywgXG4gICAgLy8gICAgIGFyZSBjYXJyaWVkIGZvcndhcmQgaW4gdGhpcyBmdW5jdGlvbi5cbiAgICAvLyBmb3IgYXhpc1JlZmVyZW5jZVJvd3NoaWZ0OlxuICAgIC8vIG5lZ2F0aXZlIGZvciBtb3Zpbmcgcm93cyBvdXQgb2YgaGVhZCBpbnRvIHRhaWw7XG4gICAgLy8gcG9zaXRpdmUgZm9yIG1vdmluZyByb3dzIG91dCBvZiB0YWlsIGludG8gaGVhZFxuICAgIGxldCBheGlzUmVmZXJlbmNlUm93U2hpZnQgPSBncmlkU3BhblJvd1NoaWZ0LFxuICAgICAgICBheGlzUGl4ZWxTaGlmdCA9IGdyaWRTcGFuQXhpc1BpeGVsU2hpZnQgXG5cbiAgICAvLyB0aGlzIGNhbiBvbmx5IGhhcHBlbiB3aXRoIG92ZXJzaXplZCBjZWxsTGVuZ3RoIChpZSA+IHZpZXdwb3J0TGVuZ3RoKVxuICAgIC8vICAgICBhbmQgb25seSB1c2luZyBtZWFzdXJlZCBsZW5ndGhcbiAgICAvLyBheGlzIG11c3QgYmUgbm8gZmFydGhlciB0aGFuIDEgYmFjayBvZiB0aGUgbGFzdCByb3cgZW5kIHBvc2l0aW9uXG4gICAgaWYgKChwcmV2aW91c0F4aXNSZWZlcmVuY2VSb3cgKyBheGlzUmVmZXJlbmNlUm93U2hpZnQpID4gbGlzdEVuZFJvdykge1xuXG4gICAgICAgIGF4aXNSZWZlcmVuY2VSb3dTaGlmdCAtPSAxXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3ZhcmlhYmxlJykge1xuICAgICAgICAgICAgYXhpc1BpeGVsU2hpZnQgLT0gZmluYWxWYXJpYWJsZVJvd0xlbmd0aFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXhpc1BpeGVsU2hpZnQgLT0gYmFzZVJvd1BpeGVsTGVuZ3RoXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tWyAzLiBjYWxjdWxhdGUgY3VycmVudCB2aWV3cG9ydCBheGlzIHBpeGVsIG9mZnNldCBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGdhcHMgYmV5b25kIHJlbmRlcmVkIHJvd3MgY2FuIGJlIGNhdXNlZCBieSByYXBpZCBzY3JvbGxpbmdcblxuICAgIGNvbnN0IHNjcm9sbGJsb2NrQXhpc1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIGF4aXNFbGVtZW50Lm9mZnNldFRvcDpcbiAgICAgICAgICAgIGF4aXNFbGVtZW50Lm9mZnNldExlZnRcblxuICAgIGNvbnN0IHNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQgPSAvLyB0byBjYXB0dXJlIGN1cnJlbnQgdG9wL2xlZnQgYWRqdXN0bWVudCB0byB2aWV3cG9ydCBmb3IgdmFyaWFibGUgbGF5b3V0XG4gICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3A6XG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0TGVmdFxuXG4gICAgLy8gY3VycmVudFZpZXdwb3J0QXhpc09mZnNldCB3aWxsIGJlIG5lZ2F0aXZlIChhYm92ZSB2aWV3cG9ydCBlZGdlKSBmb3Igc2Nyb2xsIGJsb2NrIGhlYWR3YXJkIFxuICAgIC8vICAgICBhbmQgcG9zaXRpdmUgZm9yIHNjcm9sbCBibG9jayB0YWlsd2FyZFxuICAgIC8vIHRoZSBwaXhlbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2aWV3cG9ydCBmcmFtZSBhbmQgdGhlIGF4aXMsIHRvd2FyZCB0aGUgaGVhZFxuICAgIGNvbnN0IGN1cnJlbnRWaWV3cG9ydEF4aXNQaXhlbE9mZnNldCA9IFxuICAgICAgICBzY3JvbGxibG9ja0F4aXNQaXhlbE9mZnNldCArIHNjcm9sbGJsb2NrUGl4ZWxPZmZzZXQgLSBzY3JvbGxQb3NcblxuICAgIC8vIC0tLS0tLS0tLS0tLS1bIDQuIGNhbGN1bGF0ZSBuZXcgYXhpcyBwaXhlbCBwb3NpdGlvbiBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgbmV3QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBjdXJyZW50Vmlld3BvcnRBeGlzUGl4ZWxPZmZzZXQgKyBheGlzUGl4ZWxTaGlmdFxuXG4gICAgLy8gTm90ZTogc2VjdGlvbnMgNSwgNiBhbmQgNyBkZWFsIGVudGlyZWx5IHdpdGggcm93IGNhbGN1bGF0aW9uczsgbm8gcGl4ZWxzXG5cbiAgICAvLyAtLS0tLS0tLS0tLS1bIDUuIGNhbGMgbmV3IGNyYWRsZSBhbmQgYXhpcyByZWZlcmVuY2Ugcm93IG9mZnNldHMgXS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGJhc2UgdmFsdWUgZm9yIGNyYWRsZSByZWZlcmVuY2Ugc2hpZnQ7IG1heSBjaGFuZ2UgaWYgYmV5b25kIGxpc3QgYm91bmRzXG4gICAgbGV0IGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0ID0gYXhpc1JlZmVyZW5jZVJvd1NoaWZ0XG5cbiAgICAvLyBiYXNlIHZhbHVlc1xuICAgIGxldCBuZXdDcmFkbGVSZWZlcmVuY2VSb3cgPSBwcmV2aW91c0NyYWRsZVJlZmVyZW5jZVJvdyArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0XG4gICAgY29uc3QgbmV3QXhpc1JlZmVyZW5jZVJvdyA9IHByZXZpb3VzQXhpc1JlZmVyZW5jZVJvdyArIGF4aXNSZWZlcmVuY2VSb3dTaGlmdFxuXG5cbiAgICAvLyAtLS0tLS0tLVsgNi4gYWRqdXN0IGNyYWRsZSBjb250ZW50cyBmb3Igc3RhcnQgYW5kIGVuZCBvZiBsaXN0IF0tLS0tLS0tXG4gICAgLy8gLi4udG8gbWFpbnRhaW4gY29uc3RhbnQgbnVtYmVyIG9mIGNyYWRsZSByb3dzXG5cbiAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpIHsgLy8gc2Nyb2xsaW5nIHVwL2xlZnRcblxuICAgICAgICAvLyBhLiBpZiBzY3JvbGxpbmcgdGhlIGJsb2NrIGhlYWR3YXJkIG5lYXIgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LCBuZXcgY3JhZGxlIHJvdyBvZmZzZXQgYW5kXG4gICAgICAgIC8vIGNyYWRsZSByb3cgc2hpZnQgY291bnQgaGFzIHRvIGJlIGFkanVzdGVkIHRvIGFjY29tbW9kYXRlIHRoZSBsZWFkaW5nIHJ1bndheVxuXG4gICAgICAgIC8vIGIuIGlmIHNjcm9sbGluZyB0aGUgYmxvY2sgaGVhZHdhcmQgKHJldmVhbGluZyB0YWlsIG9mIGxpc3QpLCBhcyB0aGUgY3JhZGxlIGxhc3Qgcm93IG9mZnNldCBcbiAgICAgICAgLy8gYXBwcm9hY2hlcyBtYXggbGlzdHJvdywgbmV3IGNyYWRsZSBvZmZzZXQgYW5kIGNyYWRsZSByb3cgc2hpZnQgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IFxuICAgICAgICAvLyBzaG9ydGVuaW5nIG9mIGNyYWRsZSBjb250ZW50LlxuXG4gICAgICAgIC8vIC0tLSBzdGFydCBvZiBsaXN0IGFkanVzdG1lbnRcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93ID0gXG4gICAgICAgICAgICBNYXRoLm1heChyYW5nZXJvd3NoaWZ0LCAobmV3QXhpc1JlZmVyZW5jZVJvdyAtIHJ1bndheVJvd2NvdW50IC0gMSkpIC8vIGV4dHJhIHJvdyBmb3IgdmlzaWJpbGl0eVxuXG4gICAgICAgIGNvbnN0IGhlYWRyb3dEaWZmID0gbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC0gdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93XG4gICAgICAgIGlmIChoZWFkcm93RGlmZiA+IDApIHtcblxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC09IGhlYWRyb3dEaWZmXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSBoZWFkcm93RGlmZlxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0gZW5kIG9mIGxpc3QgYWRqdXN0bWVudDogY2FzZSBvZiBiZWluZyBpbiBib3VuZHMgb2YgdHJhaWxpbmcgcnVud2F5IChlbmQgb2YgbGlzdClcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3JhZGxlRW5kcm93ID0gbmV3Q3JhZGxlUmVmZXJlbmNlUm93ICsgKGNyYWRsZVJvd2NvdW50IC0gMSlcbiAgICAgICAgY29uc3QgdGFpbHJvd2RpZmYgPSB0YXJnZXRDcmFkbGVFbmRyb3cgLSBsaXN0RW5kUm93XG5cbiAgICAgICAgaWYgKHRhaWxyb3dkaWZmID4gMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC09IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHsgLy8gc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXNoZWFkd2FyZCc7IHNjcm9sbGluZyBkb3duL3JpZ2h0XG5cbiAgICAgICAgLy8gYy4gaWYgc2Nyb2xsaW5nIHRoZSBibG9jayBkb3duIG9yIHJpZ2h0ICh0b3dhcmQgcmV2ZWFsaW5nIGhlYWQgb2YgbGlzdCksIGFzIHRoZSBjcmFkbGVyb3dvZmZzZXQgXG4gICAgICAgIC8vIGhpdHMgMCwgY3JhZGxlIGNoYW5nZXMgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IHNob3J0ZW5pbmcgb2YgY3JhZGxlIGNvbnRlbnRcblxuICAgICAgICAvLyBkLiBpZiBzY3JvbGxpbmcgaGVhZHdhcmQgbmVhciB0aGUgZW5kIG9mIHRoZSBsaXN0LCBjcmFkbGUgY2hhbmdlcyBoYXZlIHRvIGJlIGFkanVzdGVkIHRvIFxuICAgICAgICAvLyBhY2NvbW9kYXRlIHRoZSB0cmFpbGluZyBydW53YXlcblxuICAgICAgICAvLyAtLS0gc3RhcnQgb2YgbGlzdCBhZGp1c3RtZW50XG5cbiAgICAgICAgaWYgKG5ld0NyYWRsZVJlZmVyZW5jZVJvdyA8IHJhbmdlcm93c2hpZnQpIHtcblxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IHJhbmdlcm93c2hpZnQgLSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0ICs9IGRpZmZcbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvdyArPSBkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3ZhcmlhYmxlJyAmJiBuZXdBeGlzUmVmZXJlbmNlUm93ID09IHJhbmdlcm93c2hpZnQpIHsgLy8gc3RhcnQgb2YgbGlzdFxuICAgICAgICAgICAgbmV3QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBwYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0gZW5kIG9mIGxpc3QgYWRqdXN0bWVudDsgY2FzZSBvZiBpbiBib3VuZHMgb2YgdHJhaWxpbmcgcnVud2F5XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWROZXh0Q3JhZGxlRW5kUm93ID0gXG4gICAgICAgICAgICAocHJldmlvdXNDcmFkbGVSZWZlcmVuY2VSb3cgKyAoY3JhZGxlUm93Y291bnQgLTEpICsgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQpXG5cbiAgICAgICAgY29uc3QgdGFyZ2V0Q3JhZGxlRW5kUm93ID0gXG4gICAgICAgICAgICBuZXdBeGlzUmVmZXJlbmNlUm93ICsgKHZpZXdwb3J0Um93Y291bnQgLSAxKSArIChydW53YXlSb3djb3VudCAtIDEpXG5cbiAgICAgICAgbGV0IHRhaWxyb3dkaWZmID0gIGNvbXB1dGVkTmV4dENyYWRsZUVuZFJvdyAtIHRhcmdldENyYWRsZUVuZFJvd1xuXG4gICAgICAgIGlmICh0YWlscm93ZGlmZiA8IDApIHtcblxuICAgICAgICAgICAgdGFpbHJvd2RpZmYgPSBNYXRoLm1heCh0YWlscm93ZGlmZiwgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQpXG5cbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IC09IHRhaWxyb3dkaWZmXG4gICAgICAgICAgICBuZXdDcmFkbGVSZWZlcmVuY2VSb3cgLT0gdGFpbHJvd2RpZmZcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA3LiBtYXAgcm93cyB0byBpdGVtIHJlZmVyZW5jZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IG5ld0NyYWRsZVJlZmVyZW5jZUluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LCBuZXdDcmFkbGVSZWZlcmVuY2VSb3cgKiBjcm9zc2NvdW50KVxuICAgIGNvbnN0IGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCA9IG5ld0NyYWRsZVJlZmVyZW5jZUluZGV4IC0gcHJldmlvdXNDcmFkbGVSZWZlcmVuY2VJbmRleFxuXG4gICAgY29uc3QgbmV3QXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LCBuZXdBeGlzUmVmZXJlbmNlUm93ICogY3Jvc3Njb3VudClcbiAgICBjb25zdCBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0ID0gbmV3QXhpc1JlZmVyZW5jZUluZGV4IC0gcHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXhcblxuICAgIGxldCBuZXdDcmFkbGVDb250ZW50Q291bnQgPSBjcmFkbGVSb3djb3VudCAqIGNyb3NzY291bnQgLy8gYmFzZSBjb3VudFxuXG4gICAgY29uc3QgaW5jbHVkZXNMYXN0Um93ID0gKChuZXdDcmFkbGVSZWZlcmVuY2VSb3cgKyBjcmFkbGVSb3djb3VudCAtIHJhbmdlcm93c2hpZnQpID49IGxpc3RSb3djb3VudClcblxuICAgIGNvbnN0IGluY2x1ZGVzRmlyc3RSb3cgPSAobmV3Q3JhZGxlUmVmZXJlbmNlUm93ID09IHJhbmdlcm93c2hpZnQpXG5cbiAgICBpZiAoaW5jbHVkZXNMYXN0Um93KSB7XG5cbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IGVuZHJvd2JsYW5rc1xuXG4gICAgfVxuXG4gICAgaWYgKGluY2x1ZGVzRmlyc3RSb3cpIHtcblxuICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQgLT0gYmFzZXJvd2JsYW5rc1xuXG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGhlYWQgYW5kIHRhaWwgY2hhbmdlIGNvdW50c1xuICAgIGNvbnN0IGNoYW5nZU9mQ3JhZGxlQ29udGVudENvdW50ID0gY3JhZGxlY29udGVudGxpc3QubGVuZ3RoIC0gbmV3Q3JhZGxlQ29udGVudENvdW50XG5cbiAgICBjb25zdCBsaXN0U3RhcnRDaGFuZ2VDb3VudCA9IC0oY3JhZGxlUmVmZXJlbmNlSXRlbVNoaWZ0KVxuICAgIGNvbnN0IGxpc3RFbmRDaGFuZ2VDb3VudCA9IC1saXN0U3RhcnRDaGFuZ2VDb3VudCAtIGNoYW5nZU9mQ3JhZGxlQ29udGVudENvdW50XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDguIHJldHVybiByZXF1aXJlZCB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgLy8gbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQsIFxuICAgICAgICBuZXdBeGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0LCBcblxuICAgICAgICBuZXdBeGlzVmlld3BvcnRQaXhlbE9mZnNldCxcblxuICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50LFxuICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnRcbiAgICB9XG5cbn1cblxuLy8gc3VwcG9ydHMgY2FsY0NvbnRlbnRTaGlmdCBhYm92ZVxuY29uc3QgZ2V0R3JpZFJvd0xlbmd0aHMgPSAoZ3JpZCwgb3JpZW50YXRpb24sIGNyb3NzY291bnQsIGdhcCkgPT4ge1xuXG4gICAgY29uc3Qgcm93TGVuZ3RocyA9IFtdXG4gICAgY29uc3QgZWxlbWVudExpc3QgPSBncmlkLmNoaWxkTm9kZXNcblxuICAgIGxldCBlbGVtZW50UHRyID0gMFxuICAgIGxldCBlbGVtZW50ID0gZWxlbWVudExpc3RbZWxlbWVudFB0cl1cblxuICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHJvd2xlbmd0aCA9IFxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDpcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9mZnNldFdpZHRoKSBcbiAgICAgICAgICAgICsgZ2FwXG4gICAgICAgIHJvd0xlbmd0aHMucHVzaChyb3dsZW5ndGgpXG4gICAgICAgIGVsZW1lbnRQdHIgKz0gY3Jvc3Njb3VudFxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudExpc3RbZWxlbWVudFB0cl1cbiAgICB9XG5cbiAgICByZXR1cm4gcm93TGVuZ3Roc1xufVxuXG4vLyBzdXBwb3J0cyBjYWxjQ29udGVudFNoaWZ0IGFib3ZlXG5jb25zdCBnZXRHcmlkUm93QWdncmVnYXRlU3BhbnMgPSAocm93TGVuZ3RocykgPT4ge1xuXG4gICAgY29uc3Qgcm93U3BhbnMgPSBbXVxuICAgIGxldCBzcGFuID0gMFxuICAgIHJvd0xlbmd0aHMuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgc3BhbiArPSB2YWx1ZVxuICAgICAgICByb3dTcGFucy5wdXNoKHNwYW4pXG4gICAgfSlcblxuICAgIHJldHVybiByb3dTcGFuc1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT1bIHNoYXJlZCBieSBib3RoIHNldENyYWRsZUNvbnRlbnQgYW5kIHVwZGF0ZUNyYWRsZUNvbnRlbnQgXT09PT09PT09PT09PT09PT09PT09XG5cbi8vIHVwZGF0ZSBjb250ZW50XG4vLyBhZGRzIENlbGxGcmFtZXMgYXQgZW5kIG9mIGNvbnRlbnRsaXN0IGFjY29yZGluZyB0byBoZWFkaW5kZXhjb3VudCBhbmQgdGFpbGluZGV4Y291bnQsXG4vLyBvciBpZiBpbmRleGNvdW50IHZhbHVlcyBhcmUgPDAgcmVtb3ZlcyB0aGVtLlxuZXhwb3J0IGNvbnN0IGdldENlbGxGcmFtZUNvbXBvbmVudExpc3QgPSAoeyBcblxuICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgIGNhY2hlQVBJLFxuICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsIFxuICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsIFxuICAgICAgICB3b3JraW5nQ29udGVudExpc3Q6Y29udGVudGxpc3QsXG4gICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG5cbiAgICB9KSA9PiB7XG5cbiAgICBjb25zdCBsb2NhbENvbnRlbnRsaXN0ID0gWy4uLmNvbnRlbnRsaXN0XVxuICAgIGNvbnN0IGxhc3RpbmRleG9mZnNldCA9IGNyYWRsZVJlZmVyZW5jZUluZGV4ICsgbG9jYWxDb250ZW50bGlzdC5sZW5ndGggLSAxXG5cbiAgICBjb25zdCBoZWFkQ29udGVudGxpc3QgPSBbXSwgdGFpbENvbnRlbnRsaXN0ID0gW11cblxuICAgIGxldCBkZWxldGVkdGFpbGl0ZW1zID0gW10sIGRlbGV0ZWRoZWFkaXRlbXMgPSBbXVxuXG4gICAgaWYgKGxpc3RTdGFydENoYW5nZUNvdW50ID49IDApIHsgLy8gYWNxdWlyZSBuZXcgaXRlbXNcblxuICAgICAgICBsZXQgcmVmZXJlbmNlSW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleFxuICAgICAgICBsZXQgY2hhbmdlQ291bnQgPSBsaXN0U3RhcnRDaGFuZ2VDb3VudFxuICAgICAgICBcbiAgICAgICAgaWYgKGxpc3RTdGFydENoYW5nZUNvdW50ID4gY3JhZGxlQ29udGVudENvdW50KSB7XG4gICAgICAgICAgICByZWZlcmVuY2VJbmRleCA9IGNyYWRsZVJlZmVyZW5jZUluZGV4IC0gKGxpc3RTdGFydENoYW5nZUNvdW50IC0gY3JhZGxlQ29udGVudENvdW50KVxuICAgICAgICAgICAgY2hhbmdlQ291bnQgPSBjcmFkbGVDb250ZW50Q291bnRcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IG5ld2luZGV4ID0gcmVmZXJlbmNlSW5kZXggLSBjaGFuZ2VDb3VudDsgbmV3aW5kZXggPCByZWZlcmVuY2VJbmRleDsgbmV3aW5kZXgrKykge1xuXG4gICAgICAgICAgICBoZWFkQ29udGVudGxpc3QucHVzaChcbiAgICAgICAgICAgICAgICBjcmVhdGVDZWxsRnJhbWUoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Om5ld2luZGV4LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlczpzdHlsZXMucGxhY2Vob2xkZXJmcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTGluZXJTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVybGluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVyZXJyb3JmcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlczpzdHlsZXMucGxhY2Vob2xkZXJlcnJvcmxpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGRlbGV0ZWRoZWFkaXRlbXMgPSBsb2NhbENvbnRlbnRsaXN0LnNwbGljZSggMCwgLWxpc3RTdGFydENoYW5nZUNvdW50IClcblxuICAgIH1cblxuICAgIGlmIChsaXN0RW5kQ2hhbmdlQ291bnQgPj0gMCkgeyAvLyBhY3F1aXJlIG5ldyBpdGVtc1xuXG4gICAgICAgIGxldCByZWZlcmVuY2VJbmRleCA9IGxhc3RpbmRleG9mZnNldFxuICAgICAgICBsZXQgY2hhbmdlQ291bnQgPSBsaXN0RW5kQ2hhbmdlQ291bnRcbiAgICAgICAgaWYgKGxpc3RFbmRDaGFuZ2VDb3VudCA+IGNyYWRsZUNvbnRlbnRDb3VudCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggPSBsYXN0aW5kZXhvZmZzZXQgKyAobGlzdEVuZENoYW5nZUNvdW50IC0gY3JhZGxlQ29udGVudENvdW50KVxuICAgICAgICAgICAgY2hhbmdlQ291bnQgPSBjcmFkbGVDb250ZW50Q291bnRcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBuZXdpbmRleCA9IHJlZmVyZW5jZUluZGV4ICsgMTsgbmV3aW5kZXggPCAocmVmZXJlbmNlSW5kZXggKyAxICsgY2hhbmdlQ291bnQpOyBuZXdpbmRleCsrKSB7XG5cbiAgICAgICAgICAgIHRhaWxDb250ZW50bGlzdC5wdXNoKFxuICAgICAgICAgICAgICAgIGNyZWF0ZUNlbGxGcmFtZShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6bmV3aW5kZXgsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVBUEksXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckZyYW1lU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJMaW5lclN0eWxlczpzdHlsZXMucGxhY2Vob2xkZXJsaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlczpzdHlsZXMucGxhY2Vob2xkZXJlcnJvcmZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJFcnJvckxpbmVyU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmVycm9ybGluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZGVsZXRlZHRhaWxpdGVtcyA9IGxvY2FsQ29udGVudGxpc3Quc3BsaWNlKGxpc3RFbmRDaGFuZ2VDb3VudCwtbGlzdEVuZENoYW5nZUNvdW50KVxuXG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlZEl0ZW1zID0gWy4uLmRlbGV0ZWRoZWFkaXRlbXMsLi4uZGVsZXRlZHRhaWxpdGVtc11cblxuICAgIGNvbnN0IGNvbXBvbmVudExpc3QgPSBbLi4uaGVhZENvbnRlbnRsaXN0LC4uLmxvY2FsQ29udGVudGxpc3QsLi4udGFpbENvbnRlbnRsaXN0XVxuXG4gICAgcmV0dXJuIFtjb21wb25lbnRMaXN0LGRlbGV0ZWRJdGVtc11cblxufVxuXG4vLyBMZWFkaW5nIChoZWFkKSBhbGwgb3IgcGFydGlhbGx5IGhpZGRlbjsgdGFpbCwgdmlzaWJsZSBwbHVzIHRyYWlsaW5nIGhpZGRlblxuZXhwb3J0IGNvbnN0IGFsbG9jYXRlQ29udGVudExpc3QgPSAoXG4gICAge1xuXG4gICAgICAgIGNvbnRlbnRsaXN0LCAvLyBvZiBjcmFkbGUsIGluIGl0ZW1zIChSZWFjdCBjb21wb25lbnRzKVxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZpcnN0IHRhaWwgaXRlbVxuICAgICAgICBsYXlvdXRIYW5kbGVyLFxuXG4gICAgfVxuKSA9PiB7XG5cbiAgICBjb25zdCB7IHRyaWdnZXJjZWxsSW5kZXggfSA9IGxheW91dEhhbmRsZXJcblxuICAgIGNvbnN0IGxvd2NvbnRlbnRpbmRleCA9IGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCxcbiAgICAgICAgaGlnaGNvbnRlbnRpbmRleCA9IGxvd2NvbnRlbnRpbmRleCArIGNvbnRlbnRsaXN0Lmxlbmd0aFxuXG4gICAgY29uc3QgaGVhZGl0ZW1jb3VudCA9IChheGlzUmVmZXJlbmNlSW5kZXggLSBsb3djb250ZW50aW5kZXgpXG5cbiAgICBjb25zdCB0YXJnZXRUcmlnZ2VyY2VsbEluZGV4ID0gXG4gICAgICAgIChoZWFkaXRlbWNvdW50ID09IDApP1xuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4OlxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4IC0gMVxuXG4gICAgbGF5b3V0SGFuZGxlci50cmlnZ2VyY2VsbElzSW5UYWlsID0gXG4gICAgICAgIChoZWFkaXRlbWNvdW50ID09IDApP1xuICAgICAgICAgICAgdHJ1ZTpcbiAgICAgICAgICAgIGZhbHNlXG5cbiAgICBpZiAoKHRyaWdnZXJjZWxsSW5kZXggIT09IHVuZGVmaW5lZCkgJiYgKGxvd2NvbnRlbnRpbmRleCAhPT0gdW5kZWZpbmVkKSkgeyAvLyYmIFxuICAgICAgICBpZiAoKHRyaWdnZXJjZWxsSW5kZXggPj0gbG93Y29udGVudGluZGV4KSAmJiAodHJpZ2dlcmNlbGxJbmRleCA8PSBoaWdoY29udGVudGluZGV4KSkge1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlcmNlbGxQdHIgPSB0cmlnZ2VyY2VsbEluZGV4IC0gbG93Y29udGVudGluZGV4XG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VyY2VsbENvbXBvbmVudCA9IGNvbnRlbnRsaXN0W3RyaWdnZXJjZWxsUHRyXVxuICAgICAgICAgICAgaWYgKHRyaWdnZXJjZWxsQ29tcG9uZW50KSB7IC8vIG90aGVyd2lzZSBoYXMgYmVlbiBhc3luY2hyb25vdXNseSBjbGVhcmVkXG4gICAgICAgICAgICAgICAgY29udGVudGxpc3RbdHJpZ2dlcmNlbGxQdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KHRyaWdnZXJjZWxsQ29tcG9uZW50LCB7aXNUcmlnZ2VyY2VsbDpmYWxzZX0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0cmlnZ2VyY2VsbFB0ciA9IHRhcmdldFRyaWdnZXJjZWxsSW5kZXggLSBsb3djb250ZW50aW5kZXhcblxuICAgIGNvbnN0IHRyaWdnZXJjZWxsQ29tcG9uZW50ID0gY29udGVudGxpc3RbdHJpZ2dlcmNlbGxQdHJdXG4gICAgaWYgKHRyaWdnZXJjZWxsQ29tcG9uZW50KSB7XG5cbiAgICAgICAgY29udGVudGxpc3RbdHJpZ2dlcmNlbGxQdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KHRyaWdnZXJjZWxsQ29tcG9uZW50LCB7aXNUcmlnZ2VyY2VsbDp0cnVlfSlcbiAgICAgICAgbGF5b3V0SGFuZGxlci50cmlnZ2VyY2VsbEluZGV4ID0gdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleFxuXG4gICAgfSBlbHNlIHsgLy8gZGVmZW5zaXZlOyBzaG91bGRuJ3QgaGFwcGVuXG5cbiAgICAgICAgY29uc29sZS5sb2coJ0ZBSUxVUkUgVE8gUkVHSVNURVIgVFJJR0dFUkNFTEw6c2Nyb2xsZXJJRCcsJy0nK2xheW91dEhhbmRsZXIuc2Nyb2xsZXJJRCsnLScpXG4gICAgICAgIGNvbnNvbGUubG9nKCdheGlzUmVmZXJlbmNlSW5kZXgsIHRyaWdnZXJjZWxsSW5kZXgsIGxvd2NvbnRlbnRpbmRleCwgaGlnaGNvbnRlbnRpbmRleCwgaGVhZGl0ZW1jb3VudCwgdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleFxcbicsXG4gICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIHRyaWdnZXJjZWxsSW5kZXgsIGxvd2NvbnRlbnRpbmRleCwgaGlnaGNvbnRlbnRpbmRleCwgaGVhZGl0ZW1jb3VudCwgdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleClcbiAgICAgICAgY29uc29sZS5sb2coJ3RyaWdnZXJjZWxsUHRyLCB0cmlnZ2VyY2VsbENvbXBvbmVudCwgdHJpZ2dlcmNlbGxDb21wb25lbnQ/LnByb3BzLmlzVHJpZ2dlY2VsbCwgY29udGVudGxpc3RcXG4nLCBcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsUHRyLCB0cmlnZ2VyY2VsbENvbXBvbmVudCwgdHJpZ2dlcmNlbGxDb21wb25lbnQ/LnByb3BzLmlzVHJpZ2dlY2VsbCwgXG4gICAgICAgICAgICAgICAgey4uLmNvbnRlbnRsaXN0fSlcblxuICAgIH1cblxuICAgIGNvbnN0IGhlYWRsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoMCxoZWFkaXRlbWNvdW50KVxuICAgIGNvbnN0IHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbIGhlYWRsaXN0LCB0YWlsbGlzdCBdXG5cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcnRhbHMgPSAoY2FjaGVBUEksIGRlbGV0ZUxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgY29uc3QgZGxpc3QgPSBkZWxldGVMaXN0Lm1hcCgoaXRlbSk9PntcblxuICAgICAgICByZXR1cm4gaXRlbS5wcm9wcy5pbmRleFxuICAgICAgICBcbiAgICB9KVxuXG4gICAgY2FjaGVBUEkuZGVsZXRlUG9ydGFsQnlJbmRleChkbGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT1bIGludGVybmFsLCBhY3F1aXJlIGl0ZW0gXT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgY3JlYXRlQ2VsbEZyYW1lID0gKHtcbiAgICBpbmRleCwgXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgY2FjaGVBUEksXG4gICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzLFxuICAgIHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMsXG4gICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbn0pID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZUlEID0gaW5zdGFuY2VJZENvdW50ZXJSZWYuY3VycmVudCsrXG5cbiAgICBjb25zdCB7IFxuICAgICAgICBcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBnZXRJdGVtLFxuICAgICAgICBwbGFjZWhvbGRlcixcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgbGF5b3V0LCBcbiAgICAgICAgdXNlUGxhY2Vob2xkZXIsXG5cbiAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgY29uc3QgbGlzdHNpemUgPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMudmlydHVhbExpc3RQcm9wcy5zaXplXG5cbiAgICAvLyBnZXQgbmV3IG9yIGV4aXN0aW5nIGl0ZW1JRFxuICAgIGNvbnN0IGl0ZW1JRCA9IGNhY2hlQVBJLmdldE5ld09yRXhpc3RpbmdJdGVtSUQoaW5kZXgpXG5cbiAgICByZXR1cm4gPENlbGxGcmFtZSBcbiAgICAgICAga2V5ID0geyBpbnN0YW5jZUlEIH0gXG4gICAgICAgIG9yaWVudGF0aW9uID0geyBvcmllbnRhdGlvbiB9XG4gICAgICAgIGNlbGxIZWlnaHQgPSB7IGNlbGxIZWlnaHQgfVxuICAgICAgICBjZWxsV2lkdGggPSB7IGNlbGxXaWR0aCB9XG4gICAgICAgIGNlbGxNaW5IZWlnaHQgPSB7IGNlbGxNaW5IZWlnaHQgfVxuICAgICAgICBjZWxsTWluV2lkdGggPSB7IGNlbGxNaW5XaWR0aCB9XG4gICAgICAgIGxheW91dCA9IHsgbGF5b3V0IH1cbiAgICAgICAgaW5kZXggPSB7IGluZGV4IH1cbiAgICAgICAgZ2V0SXRlbSA9IHsgZ2V0SXRlbSB9XG4gICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9XG4gICAgICAgIHBsYWNlaG9sZGVyID0geyBwbGFjZWhvbGRlciB9XG4gICAgICAgIGl0ZW1JRCA9IHsgaXRlbUlEIH1cbiAgICAgICAgaW5zdGFuY2VJRCA9IHsgaW5zdGFuY2VJRCB9XG4gICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuICAgICAgICBpc1RyaWdnZXJjZWxsID0geyBmYWxzZSB9XG4gICAgICAgIHVzZVBsYWNlaG9sZGVyID0geyB1c2VQbGFjZWhvbGRlciB9XG4gICAgICAgIHBsYWNlaG9sZGVyRnJhbWVTdHlsZXMgPSB7IHBsYWNlaG9sZGVyRnJhbWVTdHlsZXMgfVxuICAgICAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzID0geyBwbGFjZWhvbGRlckxpbmVyU3R5bGVzIH1cbiAgICAgICAgcGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzID0geyBwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXMgfVxuICAgICAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMgPSB7IHBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyB9XG4gICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMgPSB7IHBsYWNlaG9sZGVyTWVzc2FnZXMgfVxuICAgICAgICBncmlkc3RhcnRzdHlsZSA9IHtudWxsfVxuICAgIC8+XG5cbn1cbiJdLCJuYW1lcyI6WyJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImlzQXJyYXkiLCJsZW4iLCJsZW5ndGgiLCJpIiwiYXJyMiIsInJlYWN0XzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwiQ2VsbEZyYW1lXzEiLCJJbmZpbml0ZUdyaWRTY3JvbGxlcl8xIiwiY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMiLCJfcmVmIiwidGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IiwiYmFzZVJvd1BpeGVsTGVuZ3RoIiwidGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwicGFkZGluZyIsImNyYWRsZUNvbnRlbnRQcm9wcyIsInZpcnR1YWxMaXN0UHJvcHMiLCJjcmFkbGVSb3djb3VudCIsInJ1bndheVJvd2NvdW50IiwibGlzdGxvd2luZGV4IiwibG93aW5kZXgiLCJsaXN0aGlnaGluZGV4IiwiaGlnaGluZGV4IiwiY3Jvc3Njb3VudCIsImxpc3RSb3djb3VudCIsInJvd2NvdW50IiwiYmFzZXJvd2JsYW5rcyIsImVuZHJvd2JsYW5rcyIsInJhbmdlcm93c2hpZnQiLCJyb3dzaGlmdCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlUm93IiwiZmxvb3IiLCJ0YXJnZXRDcmFkbGVSZWZlcmVuY2VSb3ciLCJ0YXJnZXRDcmFkbGVFbmRSb3ciLCJsaXN0RW5kUm93T2Zmc2V0IiwiZGlmZiIsInRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4IiwibmV3Q3JhZGxlQ29udGVudENvdW50IiwidGFyZ2V0U2Nyb2xsYmxvY2tWaWV3cG9ydFBpeGVsT2Zmc2V0IiwiZXhwb3J0cyIsImdlbmVyYXRlU2hpZnRJbnN0cnVjdGlvbiIsIl9yZWYyIiwib3JpZW50YXRpb24iLCJ0cmlnZ2VybGluZUVudHJpZXMiLCJ0cmlnZ2VybGluZVNwYW4iLCJzY3JvbGxlcklEIiwiaXNGaXJzdFJvd1RyaWdnZXJDb25maWciLCJ2aWV3cG9ydEJvdW5kaW5nUmVjdCIsInRyaWdnZXJIaXN0b3J5UmVmIiwidHJpZ2dlckRhdGEiLCJoZWFkT2Zmc2V0IiwidGFpbE9mZnNldCIsInNwYW4iLCJlbnRyeSIsInJlZmVyZW5jZW5hbWUiLCJ0YXJnZXQiLCJkYXRhc2V0IiwidHlwZSIsImludGVyc2VjdHJvb3Rwb3MiLCJ0cnVuYyIsInJvb3RCb3VuZHMiLCJ5IiwieCIsImJvdW5kaW5ncm9vdHBvcyIsInJvb3Rwb3MiLCJlbnRyeXBvcyIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdwb3J0VHJpZ2dlck9mZnNldCIsInNoaWZ0aW5zdHJ1Y3Rpb24iLCJ0cmlnZ2VySGlzdG9yeSIsImN1cnJlbnQiLCJpc1NhZmFyaUlPUyIsInByZXZpb3VzUmVmZXJlbmNlTmFtZSIsInRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIiwiY2FsY3VsYXRlU2hpZnRTcGVjcyIsIl9yZWYzIiwic2Nyb2xsUG9zIiwic2Nyb2xsYmxvY2tFbGVtZW50IiwiY3JhZGxlQ29udGVudCIsImNyYWRsZUVsZW1lbnRzIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiaGVhZEdyaWRFbGVtZW50IiwiaGVhZFJlZiIsInRhaWxHcmlkRWxlbWVudCIsInRhaWxSZWYiLCJnYXAiLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGF5b3V0IiwiY3JhZGxlY29udGVudGxpc3QiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJ0YWlsY29udGVudGxpc3QiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwidmlld3BvcnRSb3djb3VudCIsImxpc3RzaXplIiwic2l6ZSIsInByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYSIsInByb3BzIiwiaW5kZXgiLCJwcmV2aW91c0NyYWRsZVJlZmVyZW5jZVJvdyIsInByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4IiwiX2IiLCJwcmV2aW91c0F4aXNSZWZlcmVuY2VSb3ciLCJsaXN0RW5kUm93IiwiZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50IiwiZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCIsImJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQiLCJpc0xpc3RCb3VuZGFyeSIsInRvdGFsUGl4ZWxTaGlmdCIsImZpbmFsVmFyaWFibGVSb3dMZW5ndGgiLCJlbmdhZ2VkR3JpZEVsZW1lbnQiLCJncmlkUm93UGl4ZWxMZW5ndGhzTGlzdCIsImdldEdyaWRSb3dMZW5ndGhzIiwicmV2ZXJzZSIsImdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdCIsImdldEdyaWRSb3dBZ2dyZWdhdGVTcGFucyIsImZpbmRJbmRleCIsImN1bXVsYXRpdmVwaXhlbGxlbmd0aCIsImF0IiwiZ3JpZFNwYW5Sb3dTaGlmdCIsImF4aXNSZWZlcmVuY2VSb3dTaGlmdCIsImF4aXNQaXhlbFNoaWZ0Iiwic2Nyb2xsYmxvY2tBeGlzUGl4ZWxPZmZzZXQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwic2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsImN1cnJlbnRWaWV3cG9ydEF4aXNQaXhlbE9mZnNldCIsIm5ld0F4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0IiwiY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQiLCJuZXdDcmFkbGVSZWZlcmVuY2VSb3ciLCJuZXdBeGlzUmVmZXJlbmNlUm93IiwiaGVhZHJvd0RpZmYiLCJ0YXJnZXRDcmFkbGVFbmRyb3ciLCJ0YWlscm93ZGlmZiIsImNvbXB1dGVkTmV4dENyYWRsZUVuZFJvdyIsIm5ld0NyYWRsZVJlZmVyZW5jZUluZGV4IiwiY3JhZGxlUmVmZXJlbmNlSXRlbVNoaWZ0IiwibmV3QXhpc1JlZmVyZW5jZUluZGV4IiwiYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdCIsImluY2x1ZGVzTGFzdFJvdyIsImluY2x1ZGVzRmlyc3RSb3ciLCJjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCIsImxpc3RTdGFydENoYW5nZUNvdW50IiwibGlzdEVuZENoYW5nZUNvdW50IiwiZ3JpZCIsInJvd0xlbmd0aHMiLCJlbGVtZW50TGlzdCIsImNoaWxkTm9kZXMiLCJlbGVtZW50UHRyIiwiZWxlbWVudCIsInJvd2xlbmd0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwicHVzaCIsInJvd1NwYW5zIiwiZm9yRWFjaCIsInZhbHVlIiwiZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCIsIl9yZWY0IiwiY2FjaGVBUEkiLCJjcmFkbGVDb250ZW50Q291bnQiLCJjcmFkbGVSZWZlcmVuY2VJbmRleCIsImNvbnRlbnRsaXN0Iiwid29ya2luZ0NvbnRlbnRMaXN0IiwiaW5zdGFuY2VJZENvdW50ZXJSZWYiLCJzdHlsZXMiLCJwbGFjZWhvbGRlck1lc3NhZ2VzIiwibG9jYWxDb250ZW50bGlzdCIsImxhc3RpbmRleG9mZnNldCIsImhlYWRDb250ZW50bGlzdCIsInRhaWxDb250ZW50bGlzdCIsImRlbGV0ZWR0YWlsaXRlbXMiLCJkZWxldGVkaGVhZGl0ZW1zIiwicmVmZXJlbmNlSW5kZXgiLCJjaGFuZ2VDb3VudCIsIm5ld2luZGV4IiwiY3JlYXRlQ2VsbEZyYW1lIiwicGxhY2Vob2xkZXJGcmFtZVN0eWxlcyIsInBsYWNlaG9sZGVyZnJhbWUiLCJwbGFjZWhvbGRlckxpbmVyU3R5bGVzIiwicGxhY2Vob2xkZXJsaW5lciIsInBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyIsInBsYWNlaG9sZGVyZXJyb3JmcmFtZSIsInBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyIsInBsYWNlaG9sZGVyZXJyb3JsaW5lciIsInNwbGljZSIsImRlbGV0ZWRJdGVtcyIsImNvbmNhdCIsImNvbXBvbmVudExpc3QiLCJhbGxvY2F0ZUNvbnRlbnRMaXN0IiwiX3JlZjUiLCJheGlzUmVmZXJlbmNlSW5kZXgiLCJsYXlvdXRIYW5kbGVyIiwidHJpZ2dlcmNlbGxJbmRleCIsImxvd2NvbnRlbnRpbmRleCIsImhpZ2hjb250ZW50aW5kZXgiLCJoZWFkaXRlbWNvdW50IiwidGFyZ2V0VHJpZ2dlcmNlbGxJbmRleCIsInRyaWdnZXJjZWxsSXNJblRhaWwiLCJ1bmRlZmluZWQiLCJ0cmlnZ2VyY2VsbFB0ciIsInRyaWdnZXJjZWxsQ29tcG9uZW50IiwiY2xvbmVFbGVtZW50IiwiaXNUcmlnZ2VyY2VsbCIsImNvbnNvbGUiLCJsb2ciLCJpc1RyaWdnZWNlbGwiLCJhc3NpZ24iLCJoZWFkbGlzdCIsInRhaWxsaXN0IiwiZGVsZXRlUG9ydGFscyIsImRlbGV0ZUxpc3QiLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJkbGlzdCIsIm1hcCIsIml0ZW0iLCJkZWxldGVQb3J0YWxCeUluZGV4IiwiX3JlZjYiLCJpbnN0YW5jZUlEIiwiY2VsbE1pbkhlaWdodCIsImNlbGxNaW5XaWR0aCIsImdldEl0ZW0iLCJwbGFjZWhvbGRlciIsInVzZVBsYWNlaG9sZGVyIiwiaXRlbUlEIiwiZ2V0TmV3T3JFeGlzdGluZ0l0ZW1JRCIsImNyZWF0ZUVsZW1lbnQiLCJrZXkiLCJncmlkc3RhcnRzdHlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n")},"./src/cradle/contenthandler.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// contenthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module supports the setup, rollover and positioning of content in the Cradle.\n\n    There are three key functions in this module: setCradleContent, updateCradleContent, and\n    adjustScrollblockForVariability.\n\n    There are also a few functions which support synchronization of Cradle content with cache\n    content (see internal and external services below).\n\n    setCradleContent is called directly from Cradle (in the state manager), and instantiates new Cradle\n    content in response to the scroller setup, or changes to its configuration. setCradleContent\n    creates a list of Cradle content CellFrames, and allocates those to the two Cradle grids. This\n    process occurs in response to many state changes, such as finishreposition, pivot, a host scrollto\n    request, and more.\n\n    updateCradleContent rolls over the Cradle content in response to user scrolling. When scrolling\n    down (or right), content is removed from the Cradle tail and added to the Cradle head (thus moving the\n    Cradle axis), while new content is added to the tail. When scrolling up (or left), the reverse occurs.\n\n    adjustScrollblockForVariability reconfigures the scrollblock to accommodate variable sized grid rows.\n\n    The Cradle (through the contentfunctions module) delegates fetching content items to the CellFrame.\n\n    This module is supported primarily by the contentfunctions module.\n\n*/\nvar react_1 = __importDefault(__webpack_require__(/*! react */ "react"));\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ "./src/cradle/contentfunctions.tsx");\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ../InfiniteGridScroller */ "./src/InfiniteGridScroller.tsx");\nvar ContentHandler = /*#__PURE__*/function () {\n  function ContentHandler(cradleParameters) {\n    var _this = this;\n    _classCallCheck(this, ContentHandler);\n    this.content = {\n      cradleModelComponents: null,\n      headModelComponents: null,\n      tailModelComponents: null,\n      // the following two only used in cradle for render\n      headDisplayComponents: [],\n      tailDisplayComponents: []\n    };\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    // =============================[ UPDATE VIRTUAL LIST SIZE OR RANGE ]==========================\n    // these are utilities\n    // reset the cradle with new content, including allocation between head and tail parts of the cradle\n    // - called only from the Cradle state handler\n    this.updateVirtualListSize = function (newlistsize) {\n      var cradleParameters = _this.cradleParameters;\n      var cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n      var cradleHandlers = cradleParameters.handlersRef.current;\n      var cradleContentProps = cradleInternalProperties.cradleContentProps,\n        setVirtualListSize = cradleInternalProperties.setVirtualListSize;\n      if (newlistsize == 0) {\n        var cradleContent = _this.content,\n          layoutHandler = cradleHandlers.layoutHandler,\n          cradlePositionData = layoutHandler.cradlePositionData;\n        _this.clearCradle();\n        cradleContent.headDisplayComponents = [];\n        cradleContent.tailDisplayComponents = [];\n        Object.assign(cradleContentProps, {\n          SOL: undefined,\n          EOL: undefined,\n          highindex: undefined,\n          lowindex: undefined,\n          size: 0\n        });\n        cradlePositionData.targetAxisReferencePosition = 0;\n        cradlePositionData.targetAxisViewportPixelOffset = 0;\n      }\n      setVirtualListSize(newlistsize);\n    };\n    this.updateVirtualListRange = function (newlistrange) {\n      var cradleParameters = _this.cradleParameters,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        layoutHandler = cradleHandlers.layoutHandler,\n        _this$cradleParameter = _this.cradleParameters.cradleInternalPropertiesRef.current,\n        setVirtualListRange = _this$cradleParameter.setVirtualListRange,\n        virtualListProps = _this$cradleParameter.virtualListProps,\n        cradleContentProps = _this$cradleParameter.cradleContentProps,\n        cradlePositionData = layoutHandler.cradlePositionData;\n      var newlistsize;\n      if (newlistrange.length == 0) {\n        newlistsize = 0;\n        cradlePositionData.targetAxisReferencePosition = 0;\n        cradlePositionData.targetAxisViewportPixelOffset = 0;\n      } else {\n        var _newlistrange = _slicedToArray(newlistrange, 2),\n          newlowindex = _newlistrange[0],\n          newhighindex = _newlistrange[1];\n        if (virtualListProps.range.length) {\n          var previouslowindex = virtualListProps.lowindex;\n          var lowindexchange = newlowindex - previouslowindex;\n          cradlePositionData.targetAxisReferencePosition -= lowindexchange;\n        }\n        newlistsize = newhighindex - newlowindex + 1;\n      }\n      if (newlistsize == 0) {\n        var cradleContent = _this.content;\n        _this.clearCradle();\n        cradleContent.headDisplayComponents = [];\n        cradleContent.tailDisplayComponents = [];\n        Object.assign(cradleContentProps, {\n          SOL: undefined,\n          EOL: undefined,\n          highindex: undefined,\n          lowindex: undefined,\n          size: 0\n        });\n      }\n      setVirtualListRange(newlistrange);\n    };\n    // Three main public methods - setCradleContent, updateCradleContent, and adjustScrollblockForVariability\n    // ==========================[ SET CONTENT ]===========================\n    this.setCradleContent = function (cradleState) {\n      // ------------------------------[ 1. initialize ]---------------------------\n      var cradleParameters = _this.cradleParameters,\n        ViewportContextProperties = cradleParameters.ViewportContextPropertiesRef.current,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        viewportElement = ViewportContextProperties.elementRef.current,\n        cacheAPI = cradleHandlers.cacheAPI,\n        layoutHandler = cradleHandlers.layoutHandler,\n        serviceHandler = cradleHandlers.serviceHandler,\n        scrollHandler = cradleHandlers.scrollHandler,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        requestedAxisReferencePosition = cradlePositionData.targetAxisReferencePosition,\n        orientation = cradleInheritedProperties.orientation,\n        gap = cradleInheritedProperties.gap,\n        padding = cradleInheritedProperties.padding,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        styles = cradleInheritedProperties.styles,\n        placeholderMessages = cradleInheritedProperties.placeholderMessages,\n        scrollerID = cradleInheritedProperties.scrollerID,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        listlowindex = virtualListProps.lowindex,\n        listsize = virtualListProps.size,\n        crosscount = virtualListProps.crosscount,\n        listRowcount = virtualListProps.rowcount,\n        baserowblanks = virtualListProps.baserowblanks;\n      var cradleContent = _this.content;\n      var targetAxisViewportPixelOffset = cradlePositionData.targetAxisViewportPixelOffset;\n      // ----------------------[ 2. normalize data ]--------------------------\n      // in bounds\n      var workingAxisReferencePosition = Math.min(requestedAxisReferencePosition, listsize - 1);\n      workingAxisReferencePosition = Math.max(workingAxisReferencePosition, 0);\n      // shifted by virtual list low range\n      var workingAxisReferenceIndex = workingAxisReferencePosition + listlowindex;\n      // calculate axis reference base index\n      workingAxisReferenceIndex -= workingAxisReferenceIndex < 0 ? workingAxisReferenceIndex % crosscount ? crosscount - Math.abs(workingAxisReferenceIndex % crosscount) : 0 : workingAxisReferenceIndex % crosscount;\n      // reposition at row boundary\n      if ([\'firstrender\', \'firstrenderfromcache\', \'finishreposition\', \'reconfigure\', \'scrollto\'].includes(cradleState)) {\n        targetAxisViewportPixelOffset = workingAxisReferenceIndex == listlowindex ? padding : gap; // default\n      }\n\n      var workingContentList = [];\n      // ----------------------[ 3. get content requirements ]----------------------\n      var baseRowPixelLength = (orientation == \'vertical\' ? cellHeight : cellWidth) + gap;\n      var _ref = (0, contentfunctions_1.calculateContentListRequirements)({\n          // pixel\n          baseRowPixelLength: baseRowPixelLength,\n          targetAxisViewportPixelOffset: targetAxisViewportPixelOffset,\n          // index\n          targetAxisReferenceIndex: workingAxisReferenceIndex,\n          // resources\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties\n        }),\n        targetCradleReferenceIndex = _ref.targetCradleReferenceIndex,\n        targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n        cradleContentCount = _ref.newCradleContentCount,\n        scrollblockViewportPixelOffset = _ref.targetScrollblockViewportPixelOffset;\n      var axisViewportPixelOffset = targetAxisViewportPixelOffset; // semantics\n      // ----------------------[ 4. get and config content ]----------------------\n      // returns content constrained by cradleRowcount\n      var _ref2 = (0, contentfunctions_1.getCellFrameComponentList)({\n          cacheAPI: cacheAPI,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          cradleReferenceIndex: targetCradleReferenceIndex,\n          listStartChangeCount: 0,\n          listEndChangeCount: cradleContentCount,\n          workingContentList: workingContentList,\n          instanceIdCounterRef: _this.instanceIdCounterRef,\n          styles: styles,\n          placeholderMessages: placeholderMessages\n        }),\n        _ref3 = _slicedToArray(_ref2, 1),\n        newcontentlist = _ref3[0];\n      // update cradleContentProps from newcontentlise\n      cradleContentProps.size = newcontentlist.length;\n      if (cradleContentProps.size) {\n        var lowindex = newcontentlist[0].props.index,\n          highindex = lowindex + cradleContentProps.size - 1;\n        Object.assign(cradleContentProps, {\n          lowindex: lowindex,\n          highindex: highindex,\n          SOL: virtualListProps.lowindex == lowindex,\n          EOL: virtualListProps.highindex == highindex\n        });\n      } else {\n        Object.assign(cradleContentProps, {\n          lowindex: undefined,\n          highindex: undefined,\n          SOL: undefined,\n          EOL: undefined\n        });\n      }\n      // set or cancel first row offset if within cradle\n      var gridstart;\n      if (cradleContentProps.SOL === true && !(virtualListProps.baserowblanks === undefined || virtualListProps.baserowblanks === 0)) {\n        gridstart = "".concat(virtualListProps.baserowblanks + 1);\n      } else {\n        gridstart = \'unset\';\n      }\n      var firstcomponent = newcontentlist[0];\n      if (!firstcomponent) return; // possible child dismounts with nested scrollers\n      var gridstartstyle;\n      if (orientation == \'vertical\') {\n        gridstartstyle = {\n          gridColumnStart: gridstart\n        };\n      } else {\n        gridstartstyle = {\n          gridRowStart: gridstart\n        };\n      }\n      var revisedcomponent = react_1["default"].cloneElement(firstcomponent, {\n        gridstartstyle: gridstartstyle\n      });\n      newcontentlist[0] = revisedcomponent;\n      var _ref4 = (0, contentfunctions_1.allocateContentList)({\n          contentlist: newcontentlist,\n          axisReferenceIndex: targetAxisReferenceIndex,\n          layoutHandler: layoutHandler\n          // listlowindex,\n        }),\n        _ref5 = _slicedToArray(_ref4, 2),\n        headcontentlist = _ref5[0],\n        tailcontentlist = _ref5[1];\n      cradleContent.cradleModelComponents = newcontentlist;\n      cradleContent.headModelComponents = headcontentlist;\n      cradleContent.tailModelComponents = tailcontentlist;\n      cradlePositionData.targetAxisReferencePosition = targetAxisReferenceIndex - listlowindex;\n      cradlePositionData.targetAxisViewportPixelOffset = axisViewportPixelOffset;\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = cradleState;\n        serviceHandler.callbacks.referenceIndexCallback(cradlePositionData.targetAxisReferencePosition, \'setCradleContent\', cstate);\n      }\n      //  ----------------------[ 5. set CSS ]-----------------------\n      // reset scrollblock Offset and length\n      var scrollblockElement = viewportElement.firstChild;\n      var blockbaselength = listRowcount * baseRowPixelLength - gap // final cell has no trailing gap\n      + padding * 2; // leading and trailing padding\n      if (cradleState == \'pivot\') {\n        if (orientation == \'vertical\') {\n          scrollblockElement.style.left = null;\n        } else {\n          scrollblockElement.style.top = null;\n        }\n      }\n      if (orientation == \'vertical\') {\n        scrollblockElement.style.top = null;\n        scrollblockElement.style.height = blockbaselength + \'px\';\n      } else {\n        scrollblockElement.style.left = null;\n        scrollblockElement.style.width = blockbaselength + \'px\';\n      }\n      cradlePositionData.blockScrollPos = scrollblockViewportPixelOffset;\n      // avoid bogus call to updateCradleContent\n      scrollHandler.resetScrollData(scrollblockViewportPixelOffset);\n      viewportElement[cradlePositionData.blockScrollProperty] = cradlePositionData.blockScrollPos;\n      var cradleElements = layoutHandler.elements;\n      var axisElement = cradleElements.axisRef.current,\n        headElement = cradleElements.headRef.current;\n      var axisScrollblockPixelOffset = scrollblockViewportPixelOffset + axisViewportPixelOffset;\n      if (orientation == \'vertical\') {\n        var top = axisScrollblockPixelOffset;\n        axisElement.style.top = top + \'px\';\n        axisElement.style.left = \'auto\';\n        headElement.style.padding = headcontentlist.length ? "".concat(padding, "px ").concat(padding, "px ").concat(gap, "px ").concat(padding, "px") : "".concat(padding, "px ").concat(padding, "px 0px ").concat(padding, "px");\n      } else {\n        // orientation = \'horizontal\'\n        var left = axisScrollblockPixelOffset;\n        axisElement.style.top = \'auto\';\n        axisElement.style.left = left + \'px\';\n        headElement.style.padding = headcontentlist.length ? "".concat(padding, "px ").concat(gap, "px ").concat(padding, "px ").concat(padding, "px") : "".concat(padding, "px 0px ").concat(padding, "px ").concat(padding, "px");\n      }\n    };\n    // ==================[ UPDATE CONTENT through scroll ]========================\n    // updateCradleContent does not touch the viewport element\'s scroll position for the scrollblock\n    // instead it reconfigures elements within the cradle. It is called solely from\n    // axisTriggerlinesObserverCallback of interruptHandler.\n    // typically called for scroll action, but can also be called if the triggerLineCell changes\n    // size with variant layout.\n    this.updateCradleContent = function () {\n      // ----------------------[ 1. initialize ]-------------------------\n      var _a;\n      var cradleParameters = _this.cradleParameters,\n        cradleContent = _this.content,\n        viewportElement = cradleParameters.ViewportContextPropertiesRef.current.elementRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        cacheAPI = cradleHandlers.cacheAPI,\n        layoutHandler = cradleHandlers.layoutHandler,\n        stateHandler = cradleHandlers.stateHandler,\n        interruptHandler = cradleHandlers.interruptHandler,\n        serviceHandler = cradleHandlers.serviceHandler,\n        shiftinstruction = interruptHandler.shiftinstruction,\n        triggerViewportReferencePixelPos = interruptHandler.triggerViewportReferencePixelPos,\n        cradleElements = layoutHandler.elements,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        orientation = cradleInheritedProperties.orientation,\n        cache = cradleInheritedProperties.cache,\n        styles = cradleInheritedProperties.styles,\n        placeholderMessages = cradleInheritedProperties.placeholderMessages,\n        layout = cradleInheritedProperties.layout,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        padding = cradleInheritedProperties.padding,\n        gap = cradleInheritedProperties.gap,\n        scrollerID = cradleInheritedProperties.scrollerID,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        crosscount = virtualListProps.crosscount,\n        listlowindex = virtualListProps.lowindex;\n      // if (interruptHandler.signals.repositioningRequired) return\n      // new vars\n      var scrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n      var modelcontentlist = cradleContent.cradleModelComponents || [];\n      var previousCradleReferenceIndex = ((_a = modelcontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0;\n      // --------------------------------[ 3. Calculate shifts ]-------------------------------\n      // cradle properties\n      var _ref6 = (0, contentfunctions_1.calculateShiftSpecs)({\n          shiftinstruction: shiftinstruction,\n          triggerViewportReferencePixelPos: triggerViewportReferencePixelPos,\n          scrollPos: scrollPos,\n          scrollblockElement: viewportElement.firstChild,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleContentProps: cradleContentProps,\n          virtualListProps: virtualListProps,\n          cradleContent: cradleContent,\n          cradleElements: cradleElements\n        }),\n        cradleItemShift = _ref6.cradleReferenceItemShift,\n        axisReferenceIndex = _ref6.newAxisReferenceIndex,\n        axisItemShift = _ref6.axisReferenceItemShift,\n        cradleContentCount = _ref6.newCradleContentCount,\n        listStartChangeCount = _ref6.listStartChangeCount,\n        listEndChangeCount = _ref6.listEndChangeCount,\n        newAxisViewportPixelOffset = _ref6.newAxisViewportPixelOffset;\n      var axisViewportPixelOffset = newAxisViewportPixelOffset;\n      var isShift = !(axisItemShift == 0 && cradleItemShift == 0);\n      var axisElement = cradleElements.axisRef.current;\n      var headElement = cradleElements.headRef.current;\n      // the triggerlines will be moved, so disconnect them from their observer.\n      // they are reconnected with \'renderupdatedcontent\' state in cradle.tsx, or at \'finishupdateforvariability\'\n      //    for variable content\n      interruptHandler.triggerlinesIntersect.disconnect();\n      // abandon option; nothing to do but reposition\n      if (!isShift) {\n        // can happen first row; oversized last row\n        cradlePositionData.targetAxisViewportPixelOffset = axisViewportPixelOffset;\n        _this.applyStyling({\n          layout: layout,\n          orientation: orientation,\n          padding: padding,\n          gap: gap,\n          cellHeight: cellHeight,\n          cellWidth: cellWidth,\n          crosscount: crosscount,\n          axisReferenceIndex: axisReferenceIndex,\n          axisViewportPixelOffset: axisViewportPixelOffset,\n          scrollPos: scrollPos,\n          headcontent: cradleContent.headModelComponents,\n          axisElement: axisElement,\n          headElement: headElement,\n          listlowindex: listlowindex\n        });\n        return;\n      }\n      // ----------------------------------[ 4. reconfigure cradle content ]--------------------------\n      // collect changed content\n      var updatedContentList,\n        deletedContentItems = [];\n      if (listStartChangeCount || listEndChangeCount) {\n        // if either is non-0 then modify content\n        var _ref7 = (0, contentfunctions_1.getCellFrameComponentList)({\n          cacheAPI: cacheAPI,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          workingContentList: modelcontentlist,\n          listStartChangeCount: listStartChangeCount,\n          listEndChangeCount: listEndChangeCount,\n          cradleReferenceIndex: previousCradleReferenceIndex,\n          instanceIdCounterRef: _this.instanceIdCounterRef,\n          styles: styles,\n          placeholderMessages: placeholderMessages\n        });\n        var _ref8 = _slicedToArray(_ref7, 2);\n        updatedContentList = _ref8[0];\n        deletedContentItems = _ref8[1];\n        cradleContentProps.size = updatedContentList.length;\n        if (cradleContentProps.size) {\n          var lowindex = updatedContentList[0].props.index,\n            highindex = lowindex + cradleContentProps.size - 1;\n          Object.assign(cradleContentProps, {\n            lowindex: lowindex,\n            highindex: highindex,\n            SOL: virtualListProps.lowindex == lowindex,\n            EOL: virtualListProps.highindex == highindex\n          });\n        } else {\n          Object.assign(cradleContentProps, {\n            lowindex: undefined,\n            highindex: undefined,\n            SOL: undefined,\n            EOL: undefined\n          });\n        }\n        var gridstart;\n        if (cradleContentProps.SOL === true && !(virtualListProps.baserowblanks === undefined || virtualListProps.baserowblanks === 0)) {\n          gridstart = "".concat(virtualListProps.baserowblanks + 1);\n        } else {\n          gridstart = \'unset\';\n        }\n        var firstcomponent = updatedContentList[0];\n        var gridstartstyle;\n        if (orientation == \'vertical\') {\n          gridstartstyle = {\n            gridColumnStart: gridstart\n          };\n        } else {\n          gridstartstyle = {\n            gridRowStart: gridstart\n          };\n        }\n        var revisedcomponent = react_1["default"].cloneElement(firstcomponent, {\n          gridstartstyle: gridstartstyle\n        });\n        updatedContentList[0] = revisedcomponent;\n      } else {\n        updatedContentList = modelcontentlist;\n      }\n      if (deletedContentItems.length && cache == \'cradle\') {\n        var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n        var dListCallback;\n        if (deleteListCallback) {\n          dListCallback = function dListCallback(deleteList) {\n            deleteListCallback(\'pare cache to cradle\', deleteList);\n          };\n        }\n        (0, contentfunctions_1.deletePortals)(cacheAPI, deletedContentItems, dListCallback);\n      }\n      // ----------------------------------[ 5. allocate cradle content ]--------------------------\n      var _ref9 = (0, contentfunctions_1.allocateContentList)({\n          contentlist: updatedContentList,\n          axisReferenceIndex: axisReferenceIndex,\n          layoutHandler: layoutHandler\n          // listlowindex,\n        }),\n        _ref10 = _slicedToArray(_ref9, 2),\n        headcontent = _ref10[0],\n        tailcontent = _ref10[1];\n      cradleContent.cradleModelComponents = updatedContentList;\n      cradleContent.headModelComponents = headcontent;\n      cradleContent.tailModelComponents = tailcontent;\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = stateHandler.cradleStateRef.current;\n        serviceHandler.callbacks.referenceIndexCallback(axisReferenceIndex, \'updateCradleContent\', cstate);\n      }\n      // -------------------------------[ 6. css changes ]-------------------------\n      cradlePositionData.targetAxisReferencePosition = axisReferenceIndex - listlowindex;\n      cradlePositionData.targetAxisViewportPixelOffset = axisViewportPixelOffset;\n      if (isShift) cacheAPI.renderPortalLists();\n      _this.applyStyling({\n        layout: layout,\n        orientation: orientation,\n        padding: padding,\n        gap: gap,\n        cellHeight: cellHeight,\n        cellWidth: cellWidth,\n        crosscount: crosscount,\n        axisReferenceIndex: axisReferenceIndex,\n        axisViewportPixelOffset: axisViewportPixelOffset,\n        scrollPos: scrollPos,\n        headcontent: headcontent,\n        axisElement: axisElement,\n        headElement: headElement,\n        listlowindex: listlowindex\n      });\n      // load new display data\n      cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n      cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n    };\n    // move the offset of the axis\n    this.applyStyling = function (_ref11) {\n      var layout = _ref11.layout,\n        orientation = _ref11.orientation,\n        padding = _ref11.padding,\n        gap = _ref11.gap,\n        cellHeight = _ref11.cellHeight,\n        cellWidth = _ref11.cellWidth,\n        crosscount = _ref11.crosscount,\n        axisReferenceIndex = _ref11.axisReferenceIndex,\n        axisViewportPixelOffset = _ref11.axisViewportPixelOffset,\n        scrollPos = _ref11.scrollPos,\n        headcontent = _ref11.headcontent,\n        axisElement = _ref11.axisElement,\n        headElement = _ref11.headElement,\n        listlowindex = _ref11.listlowindex;\n      if (layout == \'variable\') return; // there\'s a separate routine for variable adjustments and css\n      // --------------\n      // Safari when zoomed drifts (calc precision one presumes). This is a hack to correct that.\n      var preAxisVirtualRows = Math.ceil((axisReferenceIndex - listlowindex) / crosscount);\n      var baseCellLength = (orientation == \'vertical\' ? cellHeight : cellWidth) + gap;\n      var testScrollPos = baseCellLength * preAxisVirtualRows + padding - axisViewportPixelOffset;\n      var scrollDiff = testScrollPos - scrollPos;\n      if (scrollDiff) {\n        axisViewportPixelOffset += scrollDiff;\n      }\n      var topAxisPos, leftAxisPos; // available for debug\n      if (orientation == \'vertical\') {\n        topAxisPos = scrollPos + axisViewportPixelOffset;\n        axisElement.style.top = topAxisPos + \'px\';\n        axisElement.style.left = \'auto\';\n        headElement.style.padding = headcontent.length ? "".concat(padding, "px ").concat(padding, "px ").concat(gap, "px ").concat(padding, "px") : "".concat(padding, "px ").concat(padding, "px 0px ").concat(padding, "px");\n      } else {\n        // \'horizontal\'\n        leftAxisPos = scrollPos + axisViewportPixelOffset;\n        axisElement.style.top = \'auto\';\n        axisElement.style.left = leftAxisPos + \'px\';\n        headElement.style.padding = headcontent.length ? "".concat(padding, "px ").concat(gap, "px ").concat(padding, "px ").concat(padding, "px") : "".concat(padding, "px 0px ").concat(padding, "px ").concat(padding, "px");\n      }\n    };\n    // ===================[ RECONFIGURE THE SCROLLBLOCK FOR VARIABLE CONTENT ]=======================\n    /*\n        blockScrollPos is the amount the scrollBlock is scrolled to reveal the centre of the Cradle\n            at the edge of the Viewport\n        \n        newAxisScrollblockOffset is the exact offset of blockScrollPos, plus the axisViewportOffset\n        \n        axisViewportOffset is the amount the axis is ahead of the Viewport edge\n        \n        the length of the Scrollblock is shortened by the amount the measured tail length differs from the\n            base tail length\n    \n        Called for variable layout only. All DOM elements should have been rendered at this point\n        sets CSS: scrollblockElement top and height (or left and width), and axisElement top (or left)\n        to get closer to natural proportions to minimize janky scroll thumb\n    */\n    this.adjustScrollblockForVariability = function (source) {\n      // ----------------------[ setup base values and references ]------------------------\n      // resources...\n      var cradleParameters = _this.cradleParameters,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        ViewportContextProperties = cradleParameters.ViewportContextPropertiesRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        layoutHandler = cradleHandlers.layoutHandler,\n        scrollHandler = cradleHandlers.scrollHandler,\n        interruptHandler = cradleHandlers.interruptHandler,\n        cradleElements = layoutHandler.elements,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        axisReferencePosition = cradlePositionData.targetAxisReferencePosition,\n        axisViewportPixelOffset = cradlePositionData.targetAxisViewportPixelOffset,\n        viewportElement = ViewportContextProperties.elementRef.current,\n        scrollblockElement = viewportElement.firstChild,\n        headGridElement = cradleElements.headRef.current,\n        tailGridElement = cradleElements.tailRef.current,\n        axisElement = cradleElements.axisRef.current,\n        orientation = cradleInheritedProperties.orientation,\n        gap = cradleInheritedProperties.gap,\n        padding = cradleInheritedProperties.padding,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        crosscount = virtualListProps.crosscount,\n        listRowcount = virtualListProps.rowcount,\n        listlowindex = virtualListProps.lowindex,\n        listrowshift = virtualListProps.rowshift;\n\n      // ------------------------[ calculations ]------------------------\n      var axisReferenceIndex = axisReferencePosition + listlowindex;\n      // rowcounts and row offsets for positioning\n      // listRowcount taken from internal properties above\n      var headRowCount = Math.ceil(headGridElement.childNodes.length / crosscount),\n        tailRowCount = Math.ceil(tailGridElement.childNodes.length / crosscount);\n      // reference rows - cradle first/last; axis; list end\n      var axisReferenceRow = Math.floor(axisReferenceIndex / crosscount);\n      var cradleReferenceRow = axisReferenceRow - headRowCount,\n        cradleLastRow = axisReferenceRow + (tailRowCount - 1),\n        listLastRow = listRowcount - 1 + listrowshift;\n      var preCradleRowCount = cradleReferenceRow - listrowshift,\n        postCradleRowCount = listLastRow - cradleLastRow;\n      // base pixel values\n      var baseCellLength = (orientation == \'vertical\' ? cellHeight : cellWidth) + gap;\n      var measuredTailPixelLength = orientation == \'vertical\' ? tailGridElement.offsetHeight : tailGridElement.offsetWidth;\n      var basePostCradlePixelLength = postCradleRowCount * baseCellLength;\n      var computedPostAxisPixelLength = basePostCradlePixelLength + measuredTailPixelLength;\n      // base figures used for preAxis #s for compatibility with repositioning, which uses base figures\n      var basePreAxisPixelLength = (preCradleRowCount + headRowCount) * baseCellLength + padding;\n      // ------------------------[ layout adjustments ]----------------------\n      interruptHandler.signals.pauseCradleIntersectionObserver = true;\n      var computedScrollblockPixelLength = basePreAxisPixelLength + computedPostAxisPixelLength;\n      var blockScrollPos = basePreAxisPixelLength - axisViewportPixelOffset;\n      var newAxisScrollblockPixelOffset = blockScrollPos + axisViewportPixelOffset; // ie. basePreAxisPixelLength, but semantics\n      if (orientation == \'vertical\') {\n        axisElement.style.top = newAxisScrollblockPixelOffset + \'px\';\n        scrollblockElement.style.height = computedScrollblockPixelLength + \'px\';\n      } else {\n        // \'horizontal\'\n        axisElement.style.left = newAxisScrollblockPixelOffset + \'px\';\n        scrollblockElement.style.width = computedScrollblockPixelLength + \'px\';\n      }\n      // -----------------------[ scrollPos adjustment ]-------------------------\n      if (orientation == \'vertical\') {\n        headGridElement.style.padding = headRowCount ? "".concat(padding, "px ").concat(padding, "px ").concat(gap, "px ").concat(padding, "px") : "".concat(padding, "px ").concat(padding, "px 0px ").concat(padding, "px");\n      } else {\n        headGridElement.style.padding = headRowCount ? "".concat(padding, "px ").concat(gap, "px ").concat(padding, "px ").concat(padding, "px") : "".concat(padding, "px 0px ").concat(padding, "px ").concat(padding, "px");\n      }\n      if (!(0, InfiniteGridScroller_1.isSafariIOS)()) {\n        // adjust blockScrollPos directly - most browsers including Safari desktop\n        cradlePositionData.blockScrollPos = blockScrollPos;\n        viewportElement[cradlePositionData.blockScrollProperty] = blockScrollPos;\n        scrollHandler.resetScrollData(blockScrollPos);\n      } else {\n        // for Safari iOS\n        // temporarily adjust scrollblockElement offset; iOSonAfterScroll transfers shift to blockScrollPos\n        // - direct change of scrollTop/ScrollLeft in Safari iOS is ignored by the browser momentum engine\n        var startingScrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n        var scrollDiff = blockScrollPos - startingScrollPos;\n        if (orientation == \'vertical\') {\n          scrollblockElement.style.top = -scrollDiff + \'px\';\n        } else {\n          scrollblockElement.style.left = -scrollDiff + \'px\';\n        }\n      }\n      // check for gotoIndex or resize overshoot\n      if (source == \'setcradle\' && !postCradleRowCount) {\n        var viewportPixelLength = orientation == \'vertical\' ? viewportElement.offsetHeight : viewportElement.offsetWidth;\n        var alignedEndPosDiff = axisViewportPixelOffset + measuredTailPixelLength - viewportPixelLength;\n        if (alignedEndPosDiff < 0) {\n          // fill the bottom of the viewport using scrollBy\n          var scrollByY = orientation == \'vertical\' ? alignedEndPosDiff : 0;\n          var scrollByX = orientation == \'vertical\' ? 0 : alignedEndPosDiff;\n          viewportElement.scrollBy(scrollByX, scrollByY);\n        }\n      }\n    };\n    // ========================= [ INTERNAL CONTENT MANAGEMENT SERVICES ]=====================\n    this.guardAgainstRunawayCaching = function () {\n      var _this$cradleParameter2 = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        cacheMax = _this$cradleParameter2.cacheMax,\n        MAX_CACHE_OVER_RUN = _this$cradleParameter2.MAX_CACHE_OVER_RUN;\n      var cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI;\n      var modelComponentList = _this.content.cradleModelComponents;\n      if (cacheAPI.guardAgainstRunawayCaching(cacheMax, modelComponentList.length, MAX_CACHE_OVER_RUN)) {\n        _this.pareCacheToMax();\n      }\n    };\n    this.pareCacheToMax = function () {\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n      var cache = cradleInheritedProperties.cache,\n        scrollerID = cradleInheritedProperties.scrollerID;\n      if (cache == \'keepload\') {\n        var cradleHandlers = _this.cradleParameters.handlersRef.current;\n        var cacheAPI = cradleHandlers.cacheAPI,\n          serviceHandler = cradleHandlers.serviceHandler;\n        var modelIndexList = _this.getModelIndexList();\n        var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n        var dListCallback;\n        if (deleteListCallback) {\n          dListCallback = function dListCallback(deleteList) {\n            deleteListCallback(\'pare cache to cacheMax\', deleteList);\n          };\n        }\n        if (cacheAPI.pareCacheToMax(cradleInheritedProperties.cacheMax, modelIndexList, dListCallback)) {\n          cacheAPI.renderPortalLists();\n        }\n      }\n    };\n    // ==========================[ EXTERNAL SERVICE SUPPORT ]=======================\n    // supports clearCache\n    this.clearCradle = function () {\n      var cradleContent = _this.content;\n      // const { cacheAPI } = this.cradleParameters.handlersRef.current\n      cradleContent.cradleModelComponents = [];\n      cradleContent.headModelComponents = [];\n      cradleContent.tailModelComponents = [];\n    };\n    this.cradleParameters = cradleParameters;\n  }\n  // called from serviceHandler getCradleIndexMap\n  // also supports pareCacheToMax, matchCacheToCradle\n  _createClass(ContentHandler, [{\n    key: "getModelIndexList",\n    value: function getModelIndexList() {\n      var cradleModelComponents = this.content.cradleModelComponents;\n      if (!cradleModelComponents) {\n        return [];\n      } else {\n        return cradleModelComponents.map(function (item) {\n          return item.props.index;\n        });\n      }\n    }\n    // supports moveIndex and insertRemoveIndex, \n    // updates cradle contiguous items from startChangeIndex or start of cradle\n  }, {\n    key: "synchronizeCradleItemIDsToCache",\n    value: function synchronizeCradleItemIDsToCache(updatedIndexList) {\n      var isInsertRemove = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var startChangeIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      // asssemble resources\n      var cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI;\n      // const { indexToItemIDMap } = cacheAPI.cacheProps\n      var indexToItemIDMap = cacheAPI.indexToItemIDMap;\n      var cradleModelComponents = this.content.cradleModelComponents;\n      var cradleContentProps = this.cradleParameters.cradleInternalPropertiesRef.current.cradleContentProps;\n      if (cradleContentProps.size == 0) return;\n      var lowSpan = cradleContentProps.lowindex,\n        highSpan = cradleContentProps.highindex;\n      var startIndex, endIndex;\n      if (isInsertRemove) {\n        if (startChangeIndex > highSpan) return;\n        startIndex = startChangeIndex;\n        endIndex = highSpan;\n      } else {\n        // move\n        if (updatedIndexList.length == 0) return;\n        startIndex = updatedIndexList[0];\n        endIndex = updatedIndexList.at(-1);\n      }\n      var updatedSpan = endIndex - startIndex + 1;\n      var firstIndex = startIndex;\n      if (firstIndex > highSpan) return;\n      if (firstIndex < lowSpan) firstIndex = lowSpan;\n      var lowPtr = firstIndex - lowSpan;\n      var highPtr = isInsertRemove ? cradleModelComponents.length - 1 : Math.min(cradleModelComponents.length - 1, lowPtr + updatedSpan - 1);\n      // function to update individual cradle components to cache changes\n      function processcomponentFn(component, componentptr, componentarray) {\n        var index = component.props.index;\n        var cacheItemID = indexToItemIDMap.get(index);\n        // if cache has no component for cradle item, then get one\n        if (cacheItemID === undefined) {\n          var newItemID = cacheAPI.getNewItemID();\n          componentarray[componentptr] = react_1["default"].cloneElement(component, {\n            itemID: newItemID\n          });\n          return;\n        } else {\n          // match cache itemID to cradle component itemID\n          var cradleItemID = component.props.itemID;\n          var updateptr = updatedIndexList.indexOf(index); // TODO verify need for updatelist\n          if (updateptr != -1) {\n            // update list confirms there is a cache item for this index\n            if (cacheItemID == cradleItemID) return;\n            componentarray[componentptr] = react_1["default"].cloneElement(component, {\n              itemID: cacheItemID\n            });\n          } else {\n            var _newItemID = cacheAPI.getNewItemID();\n            componentarray[componentptr] = react_1["default"].cloneElement(component, {\n              itemID: _newItemID\n            });\n          }\n        }\n      }\n      for (var ptr = lowPtr; ptr <= highPtr; ptr++) {\n        processcomponentFn(cradleModelComponents[ptr], ptr, cradleModelComponents);\n      }\n    }\n    // supports remapIndexes\n  }, {\n    key: "createNewItemIDs",\n    value: function createNewItemIDs(newList) {\n      if (!newList.length) return;\n      var cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI;\n      var cradleModelComponents = this.content.cradleModelComponents;\n      var cradleContentProps = this.cradleParameters.cradleInternalPropertiesRef.current.cradleContentProps;\n      if (cradleContentProps.size == 0) return;\n      var lowSpan = cradleContentProps.lowindex,\n        highSpan = cradleContentProps.highindex;\n      function processcomponentFn(newlistindex) {\n        if (newlistindex < lowSpan || newlistindex > highSpan) return; // defensive\n        var cradlePtr = newlistindex - lowSpan;\n        var component = cradleModelComponents[cradlePtr];\n        var newItemID = cacheAPI.getNewItemID();\n        cradleModelComponents[cradlePtr] = react_1["default"].cloneElement(component, {\n          itemID: newItemID\n        });\n      }\n      newList.forEach(processcomponentFn);\n    }\n    // called from service handler\'s remapIndexes, as last step\n  }, {\n    key: "reconcileCellFrames",\n    value: function reconcileCellFrames(modifiedIndexesList) {\n      if (!modifiedIndexesList.length) return;\n      var cradleModelComponents = this.content.cradleModelComponents;\n      var cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI;\n      var indexToItemIDMap = cacheAPI.indexToItemIDMap;\n      function processComponentFn(component, i, array) {\n        var _component$props = component.props,\n          index = _component$props.index,\n          itemID = _component$props.itemID;\n        if (modifiedIndexesList.includes(index)) {\n          var newItemID = indexToItemIDMap.has(index) ? indexToItemIDMap.get(index) : cacheAPI.getNewItemID();\n          if (newItemID != itemID) {\n            // defensive; shouldn\'t happen\n            array[i] = react_1["default"].cloneElement(component, {\n              itemID: newItemID\n            });\n          }\n        }\n      }\n      cradleModelComponents.forEach(processComponentFn);\n      this.content.headModelComponents = cradleModelComponents.slice(0, this.content.headModelComponents.length);\n      this.content.tailModelComponents = cradleModelComponents.slice(this.content.headModelComponents.length);\n    }\n  }]);\n  return ContentHandler;\n}();\nexports["default"] = ContentHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckIsSUFBSVcsbUJBQW1CLENBQUN0TCxRQUFRLENBQUNtQixLQUFLLENBQUMsRUFBRTtVQUVyQyxJQUFNc0osU0FBUyxHQUNYaEIsZ0JBQWdCLENBQUNpQyxHQUFHLENBQUN2SyxLQUFLLENBQUMsR0FDdkJzSSxnQkFBZ0IsQ0FBQ2UsR0FBRyxDQUFDckosS0FBSyxDQUFDLEdBQzNCM0MsUUFBUSxDQUFDa00sWUFBWSxFQUFFO1VBRS9CLElBQUlELFNBQVMsSUFBSUUsTUFBTSxFQUFFO1lBQUU7WUFFdkJhLEtBQUssQ0FBQ3BVLENBQUMsQ0FBQyxHQUFHNkQsT0FBQSxXQUFLLENBQUMwRyxZQUFZLENBQUN5SSxTQUFTLEVBQUU7Y0FBQ08sTUFBTSxFQUFDRjtZQUFTLENBQUMsQ0FBQzs7O01BSXhFO01BRUEvTyxxQkFBcUIsQ0FBQzBQLE9BQU8sQ0FBQ0csa0JBQWtCLENBQUM7TUFFakQsSUFBSSxDQUFDOVAsT0FBTyxDQUFDRSxtQkFBbUIsR0FBR0QscUJBQXFCLENBQUN6RCxLQUFLLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQ3dELE9BQU8sQ0FBQ0UsbUJBQW1CLENBQUNwRCxNQUFNLENBQUM7TUFDekcsSUFBSSxDQUFDa0QsT0FBTyxDQUFDRyxtQkFBbUIsR0FBR0YscUJBQXFCLENBQUN6RCxLQUFLLENBQUMsSUFBSSxDQUFDd0QsT0FBTyxDQUFDRSxtQkFBbUIsQ0FBQ3BELE1BQU0sQ0FBQztJQUUzRztFQUFDO0VBQUEsT0FBQStDLGNBQUE7QUFBQTtBQW53Q0xxUSxrQkFBQSxHQUFBclEsY0FBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeD9hODlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbnRlbnRoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBzdXBwb3J0cyB0aGUgc2V0dXAsIHJvbGxvdmVyIGFuZCBwb3NpdGlvbmluZyBvZiBjb250ZW50IGluIHRoZSBDcmFkbGUuIFxuXG4gICAgVGhlcmUgYXJlIHRocmVlIGtleSBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGU6IHNldENyYWRsZUNvbnRlbnQsIHVwZGF0ZUNyYWRsZUNvbnRlbnQsIGFuZFxuICAgIGFkanVzdFNjcm9sbGJsb2NrRm9yVmFyaWFiaWxpdHkuXG5cbiAgICBUaGVyZSBhcmUgYWxzbyBhIGZldyBmdW5jdGlvbnMgd2hpY2ggc3VwcG9ydCBzeW5jaHJvbml6YXRpb24gb2YgQ3JhZGxlIGNvbnRlbnQgd2l0aCBjYWNoZSBcbiAgICBjb250ZW50IChzZWUgaW50ZXJuYWwgYW5kIGV4dGVybmFsIHNlcnZpY2VzIGJlbG93KS5cblxuICAgIHNldENyYWRsZUNvbnRlbnQgaXMgY2FsbGVkIGRpcmVjdGx5IGZyb20gQ3JhZGxlIChpbiB0aGUgc3RhdGUgbWFuYWdlciksIGFuZCBpbnN0YW50aWF0ZXMgbmV3IENyYWRsZVxuICAgIGNvbnRlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIHNjcm9sbGVyIHNldHVwLCBvciBjaGFuZ2VzIHRvIGl0cyBjb25maWd1cmF0aW9uLiBzZXRDcmFkbGVDb250ZW50XG4gICAgY3JlYXRlcyBhIGxpc3Qgb2YgQ3JhZGxlIGNvbnRlbnQgQ2VsbEZyYW1lcywgYW5kIGFsbG9jYXRlcyB0aG9zZSB0byB0aGUgdHdvIENyYWRsZSBncmlkcy4gVGhpcyBcbiAgICBwcm9jZXNzIG9jY3VycyBpbiByZXNwb25zZSB0byBtYW55IHN0YXRlIGNoYW5nZXMsIHN1Y2ggYXMgZmluaXNocmVwb3NpdGlvbiwgcGl2b3QsIGEgaG9zdCBzY3JvbGx0b1xuICAgIHJlcXVlc3QsIGFuZCBtb3JlLlxuXG4gICAgdXBkYXRlQ3JhZGxlQ29udGVudCByb2xscyBvdmVyIHRoZSBDcmFkbGUgY29udGVudCBpbiByZXNwb25zZSB0byB1c2VyIHNjcm9sbGluZy4gV2hlbiBzY3JvbGxpbmcgXG4gICAgZG93biAob3IgcmlnaHQpLCBjb250ZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgQ3JhZGxlIHRhaWwgYW5kIGFkZGVkIHRvIHRoZSBDcmFkbGUgaGVhZCAodGh1cyBtb3ZpbmcgdGhlIFxuICAgIENyYWRsZSBheGlzKSwgd2hpbGUgbmV3IGNvbnRlbnQgaXMgYWRkZWQgdG8gdGhlIHRhaWwuIFdoZW4gc2Nyb2xsaW5nIHVwIChvciBsZWZ0KSwgdGhlIHJldmVyc2Ugb2NjdXJzLlxuXG4gICAgYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSByZWNvbmZpZ3VyZXMgdGhlIHNjcm9sbGJsb2NrIHRvIGFjY29tbW9kYXRlIHZhcmlhYmxlIHNpemVkIGdyaWQgcm93cy5cblxuICAgIFRoZSBDcmFkbGUgKHRocm91Z2ggdGhlIGNvbnRlbnRmdW5jdGlvbnMgbW9kdWxlKSBkZWxlZ2F0ZXMgZmV0Y2hpbmcgY29udGVudCBpdGVtcyB0byB0aGUgQ2VsbEZyYW1lLlxuXG4gICAgVGhpcyBtb2R1bGUgaXMgc3VwcG9ydGVkIHByaW1hcmlseSBieSB0aGUgY29udGVudGZ1bmN0aW9ucyBtb2R1bGUuXG5cbiovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgXG4gICAgY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMsXG4gICAgY2FsY3VsYXRlU2hpZnRTcGVjcyxcbiAgICBhbGxvY2F0ZUNvbnRlbnRMaXN0LFxuICAgIGRlbGV0ZVBvcnRhbHMsXG4gICAgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCwgXG5cbn0gZnJvbSAnLi9jb250ZW50ZnVuY3Rpb25zJ1xuXG5pbXBvcnQgeyBpc1NhZmFyaUlPUyB9IGZyb20gJy4uL0luZmluaXRlR3JpZFNjcm9sbGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZW50SGFuZGxlciB7XG5cbiAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICB9XG5cbiAgIHB1YmxpYyBjb250ZW50ID0ge1xuXG4gICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHM6IG51bGwsXG4gICAgICBoZWFkTW9kZWxDb21wb25lbnRzOiBudWxsLFxuICAgICAgdGFpbE1vZGVsQ29tcG9uZW50czogbnVsbCxcbiAgICAgIC8vIHRoZSBmb2xsb3dpbmcgdHdvIG9ubHkgdXNlZCBpbiBjcmFkbGUgZm9yIHJlbmRlclxuICAgICAgaGVhZERpc3BsYXlDb21wb25lbnRzOiBbXSxcbiAgICAgIHRhaWxEaXNwbGF5Q29tcG9uZW50czogW10sXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHByaXZhdGUgaW5zdGFuY2VJZENvdW50ZXJSZWYgPSB7XG5cbiAgICAgICBjdXJyZW50OjBcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09WyBVUERBVEUgVklSVFVBTCBMSVNUIFNJWkUgT1IgUkFOR0UgXT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gdGhlc2UgYXJlIHV0aWxpdGllc1xuXG4gICAgLy8gcmVzZXQgdGhlIGNyYWRsZSB3aXRoIG5ldyBjb250ZW50LCBpbmNsdWRpbmcgYWxsb2NhdGlvbiBiZXR3ZWVuIGhlYWQgYW5kIHRhaWwgcGFydHMgb2YgdGhlIGNyYWRsZVxuICAgIC8vIC0gY2FsbGVkIG9ubHkgZnJvbSB0aGUgQ3JhZGxlIHN0YXRlIGhhbmRsZXJcbiAgICBwdWJsaWMgdXBkYXRlVmlydHVhbExpc3RTaXplID0gKG5ld2xpc3RzaXplKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzXG4gICAgICAgIGNvbnN0IGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlSGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IFxuXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICBzZXRWaXJ0dWFsTGlzdFNpemUsXG5cbiAgICAgICAgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllc1xuXG4gICAgICAgIGlmIChuZXdsaXN0c2l6ZSA9PSAwKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgeyBsYXlvdXRIYW5kbGVyIH0gPSBjcmFkbGVIYW5kbGVycyxcbiAgICAgICAgICAgICAgICB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ3JhZGxlKClcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLCBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFNPTDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBFT0w6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaWdoaW5kZXg6dW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICAgICAgbG93aW5kZXg6dW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTowIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiA9IDBcbiAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IDBcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VmlydHVhbExpc3RTaXplKG5ld2xpc3RzaXplKVxuXG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVZpcnR1YWxMaXN0UmFuZ2UgPSAobmV3bGlzdHJhbmdlKSA9PiB7XG5cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgY3JhZGxlSGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnMsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHNldFZpcnR1YWxMaXN0UmFuZ2UsXG4gICAgICAgICAgICAgICAgdmlydHVhbExpc3RQcm9wcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEsXG5cbiAgICAgICAgICAgIH0gPSBsYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgbGV0IG5ld2xpc3RzaXplXG4gICAgICAgIGlmIChuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDApIHtcblxuICAgICAgICAgICAgbmV3bGlzdHNpemUgPSAwXG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gMFxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gMFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFtuZXdsb3dpbmRleCwgbmV3aGlnaGluZGV4XSA9IG5ld2xpc3RyYW5nZVxuXG4gICAgICAgICAgICBpZiAodmlydHVhbExpc3RQcm9wcy5yYW5nZS5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHtsb3dpbmRleDpwcmV2aW91c2xvd2luZGV4fSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2luZGV4Y2hhbmdlID0gbmV3bG93aW5kZXggLSBwcmV2aW91c2xvd2luZGV4XG5cbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIC09IGxvd2luZGV4Y2hhbmdlXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3bGlzdHNpemUgPSBuZXdoaWdoaW5kZXggLSBuZXdsb3dpbmRleCArIDFcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld2xpc3RzaXplID09IDApIHtcblxuICAgICAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IHRoaXMuY29udGVudCAgICAgICAgXG5cbiAgICAgICAgICAgIHRoaXMuY2xlYXJDcmFkbGUoKVxuICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjcmFkbGVDb250ZW50UHJvcHMsIFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgU09MOnVuZGVmaW5lZCwgXG4gICAgICAgICAgICAgICAgICAgIEVPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hpbmRleDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBzaXplOjAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIH1cblxuICAgICAgICBzZXRWaXJ0dWFsTGlzdFJhbmdlKG5ld2xpc3RyYW5nZSlcblxuICAgIH1cblxuICAgIC8vIFRocmVlIG1haW4gcHVibGljIG1ldGhvZHMgLSBzZXRDcmFkbGVDb250ZW50LCB1cGRhdGVDcmFkbGVDb250ZW50LCBhbmQgYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFNFVCBDT05URU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHB1YmxpYyBzZXRDcmFkbGVDb250ZW50ID0gKCBjcmFkbGVTdGF0ZSApID0+IHsgLy8gY3JhZGxlU3RhdGUgaW5mbHVlbmNlcyBzb21lIGJlaGF2aW91clxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMS4gaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgXG5cbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudCxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEksXG4gICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBzZXJ2aWNlSGFuZGxlcixcbiAgICAgICAgICAgICAgICBzY3JvbGxIYW5kbGVyLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnMsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEgXG5cbiAgICAgICAgICAgIH0gPSBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb246cmVxdWVzdGVkQXhpc1JlZmVyZW5jZVBvc2l0aW9uLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlUG9zaXRpb25EYXRhLFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICAgICAgZ2FwLCBcbiAgICAgICAgICAgICAgICBwYWRkaW5nLCBcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBzY3JvbGxlcklELCAvLyBkZWJ1Z1xuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsIFxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wcyxcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgbG93aW5kZXg6bGlzdGxvd2luZGV4LCBcbiAgICAgICAgICAgICAgICAvLyBoaWdoaW5kZXg6bGlzdGhpZ2hpbmRleCwgXG4gICAgICAgICAgICAgICAgc2l6ZTpsaXN0c2l6ZSwgXG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICAgICAgcm93Y291bnQ6bGlzdFJvd2NvdW50LFxuICAgICAgICAgICAgICAgIGJhc2Vyb3dibGFua3MsXG4gICAgICAgICAgICAgICAgLy8gZW5kcm93YmxhbmtzLFxuXG4gICAgICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICBsZXQgeyB0YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCB9ID0gIGNyYWRsZVBvc2l0aW9uRGF0YVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDIuIG5vcm1hbGl6ZSBkYXRhIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGluIGJvdW5kc1xuICAgICAgICBsZXQgd29ya2luZ0F4aXNSZWZlcmVuY2VQb3NpdGlvbiA9IE1hdGgubWluKHJlcXVlc3RlZEF4aXNSZWZlcmVuY2VQb3NpdGlvbixsaXN0c2l6ZSAtIDEpXG4gICAgICAgIHdvcmtpbmdBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBNYXRoLm1heCh3b3JraW5nQXhpc1JlZmVyZW5jZVBvc2l0aW9uLCAwKVxuXG4gICAgICAgIC8vIHNoaWZ0ZWQgYnkgdmlydHVhbCBsaXN0IGxvdyByYW5nZVxuICAgICAgICBsZXQgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAgPSB3b3JraW5nQXhpc1JlZmVyZW5jZVBvc2l0aW9uICsgbGlzdGxvd2luZGV4XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGF4aXMgcmVmZXJlbmNlIGJhc2UgaW5kZXhcbiAgICAgICAgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAtPVxuICAgICAgICAgICAgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCA8IDA/IFxuICAgICAgICAgICAgICAgICh3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudCk/XG4gICAgICAgICAgICAgICAgICAgIChjcm9zc2NvdW50IC0gTWF0aC5hYnMod29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnQpKTpcbiAgICAgICAgICAgICAgICAgICAgMDpcbiAgICAgICAgICAgICAgICB3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4ICUgY3Jvc3Njb3VudFxuXG4gICAgICAgIC8vIHJlcG9zaXRpb24gYXQgcm93IGJvdW5kYXJ5XG4gICAgICAgIGlmIChbXG4gICAgICAgICAgICAnZmlyc3RyZW5kZXInLCBcbiAgICAgICAgICAgICdmaXJzdHJlbmRlcmZyb21jYWNoZScsXG4gICAgICAgICAgICAnZmluaXNocmVwb3NpdGlvbicsIFxuICAgICAgICAgICAgJ3JlY29uZmlndXJlJywgXG4gICAgICAgICAgICAnc2Nyb2xsdG8nLCBcbiAgICAgICAgXS5pbmNsdWRlcyhjcmFkbGVTdGF0ZSkpIHtcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICAod29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCA9PSBsaXN0bG93aW5kZXgpP1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOlxuICAgICAgICAgICAgICAgICAgICBnYXAgLy8gZGVmYXVsdFxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3b3JraW5nQ29udGVudExpc3QgPSBbXVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDMuIGdldCBjb250ZW50IHJlcXVpcmVtZW50cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGJhc2VSb3dQaXhlbExlbmd0aCA9IFxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aClcbiAgICAgICAgICAgICsgZ2FwXG5cbiAgICAgICAgY29uc3Qge1xuXG4gICAgICAgICAgICAvLyBieSBpbmRleFxuICAgICAgICAgICAgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuXG4gICAgICAgICAgICAvLyBjb3VudHNcbiAgICAgICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudDpjcmFkbGVDb250ZW50Q291bnQsIFxuXG4gICAgICAgICAgICAvLyB0YXJnZXQgc2Nyb2xsUG9zIGJ5IHBpeGVsc1xuICAgICAgICAgICAgdGFyZ2V0U2Nyb2xsYmxvY2tWaWV3cG9ydFBpeGVsT2Zmc2V0OnNjcm9sbGJsb2NrVmlld3BvcnRQaXhlbE9mZnNldCxcblxuICAgICAgICB9ID0gY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMoe1xuXG4gICAgICAgICAgICAgICAgLy8gcGl4ZWxcbiAgICAgICAgICAgICAgICBiYXNlUm93UGl4ZWxMZW5ndGgsXG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQsXG5cbiAgICAgICAgICAgICAgICAvLyBpbmRleFxuICAgICAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleDp3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4LFxuXG4gICAgICAgICAgICAgICAgLy8gcmVzb3VyY2VzXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSB0YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCAvLyBzZW1hbnRpY3NcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA0LiBnZXQgYW5kIGNvbmZpZyBjb250ZW50IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIFxuICAgICAgICAvLyByZXR1cm5zIGNvbnRlbnQgY29uc3RyYWluZWQgYnkgY3JhZGxlUm93Y291bnRcbiAgICAgICAgY29uc3QgW25ld2NvbnRlbnRsaXN0XSA9IGdldENlbGxGcmFtZUNvbXBvbmVudExpc3Qoe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYWNoZUFQSSwgICAgICAgICAgICBcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDp0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50OjAsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQ6Y3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0LFxuICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyB1cGRhdGUgY3JhZGxlQ29udGVudFByb3BzIGZyb20gbmV3Y29udGVudGxpc2VcbiAgICAgICAgY3JhZGxlQ29udGVudFByb3BzLnNpemUgPSBuZXdjb250ZW50bGlzdC5sZW5ndGhcbiAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5zaXplKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIGxvd2luZGV4ID0gbmV3Y29udGVudGxpc3RbMF0ucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICAgICAgaGlnaGluZGV4ID0gbG93aW5kZXggKyBjcmFkbGVDb250ZW50UHJvcHMuc2l6ZSAtIDFcblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbG93aW5kZXgsXG4gICAgICAgICAgICAgICAgaGlnaGluZGV4LFxuICAgICAgICAgICAgICAgIFNPTDoodmlydHVhbExpc3RQcm9wcy5sb3dpbmRleCA9PSBsb3dpbmRleCksXG4gICAgICAgICAgICAgICAgRU9MOih2aXJ0dWFsTGlzdFByb3BzLmhpZ2hpbmRleCA9PSBoaWdoaW5kZXgpLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNyYWRsZUNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaGlnaGluZGV4OnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBTT0w6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIEVPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgb3IgY2FuY2VsIGZpcnN0IHJvdyBvZmZzZXQgaWYgd2l0aGluIGNyYWRsZVxuICAgICAgICBsZXQgZ3JpZHN0YXJ0XG4gICAgICAgIGlmIChjcmFkbGVDb250ZW50UHJvcHMuU09MID09PSB0cnVlICYmIFxuICAgICAgICAgICAgISh2aXJ0dWFsTGlzdFByb3BzLmJhc2Vyb3dibGFua3MgPT09IHVuZGVmaW5lZCB8fCBcbiAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMuYmFzZXJvd2JsYW5rcyA9PT0gMCkpIHtcbiAgICAgICAgICAgIGdyaWRzdGFydCA9IGAke3ZpcnR1YWxMaXN0UHJvcHMuYmFzZXJvd2JsYW5rcyArIDF9YFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ3JpZHN0YXJ0ID0gJ3Vuc2V0J1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3Rjb21wb25lbnQgPSBuZXdjb250ZW50bGlzdFswXVxuXG4gICAgICAgIGlmICghZmlyc3Rjb21wb25lbnQpIHJldHVybiAvLyBwb3NzaWJsZSBjaGlsZCBkaXNtb3VudHMgd2l0aCBuZXN0ZWQgc2Nyb2xsZXJzXG5cbiAgICAgICAgbGV0IGdyaWRzdGFydHN0eWxlXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBncmlkc3RhcnRzdHlsZSA9IHtncmlkQ29sdW1uU3RhcnQ6Z3JpZHN0YXJ0fVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ3JpZHN0YXJ0c3R5bGUgPSB7Z3JpZFJvd1N0YXJ0OmdyaWRzdGFydH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXZpc2VkY29tcG9uZW50ID0gUmVhY3QuY2xvbmVFbGVtZW50KGZpcnN0Y29tcG9uZW50LHtncmlkc3RhcnRzdHlsZX0pXG4gICAgICAgIG5ld2NvbnRlbnRsaXN0WzBdID0gcmV2aXNlZGNvbXBvbmVudFxuXG4gICAgICAgIGNvbnN0IFtoZWFkY29udGVudGxpc3QsIHRhaWxjb250ZW50bGlzdF0gPSBhbGxvY2F0ZUNvbnRlbnRMaXN0KHtcblxuICAgICAgICAgICAgY29udGVudGxpc3Q6bmV3Y29udGVudGxpc3QsXG4gICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXg6dGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgICAgIC8vIGxpc3Rsb3dpbmRleCxcbiAgICBcbiAgICAgICAgfSlcblxuICAgICAgICBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cyA9IG5ld2NvbnRlbnRsaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IGhlYWRjb250ZW50bGlzdFxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMgPSB0YWlsY29udGVudGxpc3RcblxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4IC0gbGlzdGxvd2luZGV4XG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNzdGF0ZSA9IGNyYWRsZVN0YXRlXG5cbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5yZWZlcmVuY2VJbmRleENhbGxiYWNrKFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiwnc2V0Q3JhZGxlQ29udGVudCcsIGNzdGF0ZSlcbiAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNS4gc2V0IENTUyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyByZXNldCBzY3JvbGxibG9jayBPZmZzZXQgYW5kIGxlbmd0aFxuICAgICAgICBjb25zdCBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZFxuXG4gICAgICAgIGNvbnN0IGJsb2NrYmFzZWxlbmd0aCA9IChsaXN0Um93Y291bnQgKiBiYXNlUm93UGl4ZWxMZW5ndGgpIC0gZ2FwIC8vIGZpbmFsIGNlbGwgaGFzIG5vIHRyYWlsaW5nIGdhcFxuICAgICAgICAgICAgKyAocGFkZGluZyAqIDIpIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHBhZGRpbmdcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3Bpdm90Jykge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gbnVsbFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS50b3AgPSBudWxsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYmxvY2tiYXNlbGVuZ3RoICsgJ3B4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5sZWZ0ID0gbnVsbFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLndpZHRoID0gYmxvY2tiYXNlbGVuZ3RoICsgJ3B4J1xuXG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgPSBzY3JvbGxibG9ja1ZpZXdwb3J0UGl4ZWxPZmZzZXQgXG4gICAgICAgIC8vIGF2b2lkIGJvZ3VzIGNhbGwgdG8gdXBkYXRlQ3JhZGxlQ29udGVudFxuXG4gICAgICAgIHNjcm9sbEhhbmRsZXIucmVzZXRTY3JvbGxEYXRhKHNjcm9sbGJsb2NrVmlld3BvcnRQaXhlbE9mZnNldCkgXG5cbiAgICAgICAgdmlld3BvcnRFbGVtZW50W2NyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9XG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgXG5cbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBsYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG5cbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBoZWFkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGF4aXNTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gXG4gICAgICAgICAgICBzY3JvbGxibG9ja1ZpZXdwb3J0UGl4ZWxPZmZzZXQgKyBheGlzVmlld3BvcnRQaXhlbE9mZnNldFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGF4aXNTY3JvbGxibG9ja1BpeGVsT2Zmc2V0IFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG5cbiAgICAgICAgICAgIGhlYWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudGxpc3QubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAke2dhcH1weCAke3BhZGRpbmd9cHhgOlxuICAgICAgICAgICAgICAgICAgICBgJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwcHggJHtwYWRkaW5nfXB4YFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBheGlzU2Nyb2xsYmxvY2tQaXhlbE9mZnNldFxuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSAnYXV0bydcbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4J1xuXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgYCR7cGFkZGluZ31weCAke2dhcH1weCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4YDpcbiAgICAgICAgICAgICAgICAgICAgYCR7cGFkZGluZ31weCAwcHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGBcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT1bIFVQREFURSBDT05URU5UIHRocm91Z2ggc2Nyb2xsIF09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHVwZGF0ZUNyYWRsZUNvbnRlbnQgZG9lcyBub3QgdG91Y2ggdGhlIHZpZXdwb3J0IGVsZW1lbnQncyBzY3JvbGwgcG9zaXRpb24gZm9yIHRoZSBzY3JvbGxibG9ja1xuICAgIC8vIGluc3RlYWQgaXQgcmVjb25maWd1cmVzIGVsZW1lbnRzIHdpdGhpbiB0aGUgY3JhZGxlLiBJdCBpcyBjYWxsZWQgc29sZWx5IGZyb21cbiAgICAvLyBheGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayBvZiBpbnRlcnJ1cHRIYW5kbGVyLlxuICAgIC8vIHR5cGljYWxseSBjYWxsZWQgZm9yIHNjcm9sbCBhY3Rpb24sIGJ1dCBjYW4gYWxzbyBiZSBjYWxsZWQgaWYgdGhlIHRyaWdnZXJMaW5lQ2VsbCBjaGFuZ2VzXG4gICAgLy8gc2l6ZSB3aXRoIHZhcmlhbnQgbGF5b3V0LlxuXG4gICAgcHVibGljIHVwZGF0ZUNyYWRsZUNvbnRlbnQgPSAoKSA9PiB7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMS4gaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNyYWRsZVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgY29udGVudDpjcmFkbGVDb250ZW50LFxuXG4gICAgICAgICAgICB9ID0gdGhpcyxcblxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuZWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUhhbmRsZXJzID0gY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSSwgXG4gICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlciwgXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSA9IGNyYWRsZUhhbmRsZXJzLFxuXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbiwgXG4gICAgICAgICAgICAgICAgdHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgLy8gdHJpZ2dlciBDZWxsRnJhbWVcblxuICAgICAgICAgICAgfSA9IGludGVycnVwdEhhbmRsZXIsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBlbGVtZW50czogY3JhZGxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhXG5cbiAgICAgICAgICAgIH0gPSBsYXlvdXRIYW5kbGVyLFxuICAgICAgICBcbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgbGF5b3V0LCBcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICAgICAgICAgIHBhZGRpbmcsIFxuICAgICAgICAgICAgICAgIGdhcCxcbiAgICAgICAgICAgICAgICBzY3JvbGxlcklELCAvLyBkZWJ1Z1xuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgdmlydHVhbExpc3RQcm9wcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAgICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICAgICAgICAgIGxvd2luZGV4Omxpc3Rsb3dpbmRleCxcblxuICAgICAgICAgICAgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICAvLyBpZiAoaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCkgcmV0dXJuXG5cbiAgICAgICAgLy8gbmV3IHZhcnNcbiAgICAgICAgY29uc3Qgc2Nyb2xsUG9zID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcDpcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIGNvbnN0IG1vZGVsY29udGVudGxpc3QgPSBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cyB8fCBbXVxuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXggPSAobW9kZWxjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMy4gQ2FsY3VsYXRlIHNoaWZ0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNyYWRsZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgLy8gYnkgaW5kZXhcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdDogY3JhZGxlSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNSZWZlcmVuY2VJbmRleDogYXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQ6IGF4aXNJdGVtU2hpZnQsIFxuXG4gICAgICAgICAgICAvLyBjb3VudHNcbiAgICAgICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudDogY3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsXG5cbiAgICAgICAgICAgIC8vIHBpeGVsc1xuICAgICAgICAgICAgbmV3QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQsIFxuXG4gICAgICAgIH0gPSBjYWxjdWxhdGVTaGlmdFNwZWNzKHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zLFxuICAgICAgICAgICAgc2Nyb2xsUG9zLFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50OiB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZCxcblxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50LFxuICAgICAgICAgICAgY3JhZGxlRWxlbWVudHMsXG5cbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBheGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IG5ld0F4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG5cbiAgICAgICAgY29uc3QgaXNTaGlmdCA9ICEoKGF4aXNJdGVtU2hpZnQgPT0gMCkgJiYgKGNyYWRsZUl0ZW1TaGlmdCA9PSAwKSlcbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyB0aGUgdHJpZ2dlcmxpbmVzIHdpbGwgYmUgbW92ZWQsIHNvIGRpc2Nvbm5lY3QgdGhlbSBmcm9tIHRoZWlyIG9ic2VydmVyLlxuICAgICAgICAvLyB0aGV5IGFyZSByZWNvbm5lY3RlZCB3aXRoICdyZW5kZXJ1cGRhdGVkY29udGVudCcgc3RhdGUgaW4gY3JhZGxlLnRzeCwgb3IgYXQgJ2ZpbmlzaHVwZGF0ZWZvcnZhcmlhYmlsaXR5J1xuICAgICAgICAvLyAgICBmb3IgdmFyaWFibGUgY29udGVudFxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5kaXNjb25uZWN0KClcblxuICAgICAgICAvLyBhYmFuZG9uIG9wdGlvbjsgbm90aGluZyB0byBkbyBidXQgcmVwb3NpdGlvblxuICAgICAgICBpZiAoIWlzU2hpZnQpIHsgLy8gY2FuIGhhcHBlbiBmaXJzdCByb3c7IG92ZXJzaXplZCBsYXN0IHJvd1xuICAgIFxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTdHlsaW5nKHtcbiAgICAgICAgICAgICAgICBsYXlvdXQsIG9yaWVudGF0aW9uLCBwYWRkaW5nLCBnYXAsIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgXG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4LCBheGlzVmlld3BvcnRQaXhlbE9mZnNldCwgc2Nyb2xsUG9zLCBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudDpjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgYXhpc0VsZW1lbnQsIGhlYWRFbGVtZW50LCBsaXN0bG93aW5kZXgsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNC4gcmVjb25maWd1cmUgY3JhZGxlIGNvbnRlbnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gY29sbGVjdCBjaGFuZ2VkIGNvbnRlbnRcbiAgICAgICAgbGV0IHVwZGF0ZWRDb250ZW50TGlzdCwgZGVsZXRlZENvbnRlbnRJdGVtcyA9IFtdXG5cbiAgICAgICAgaWYgKGxpc3RTdGFydENoYW5nZUNvdW50IHx8IGxpc3RFbmRDaGFuZ2VDb3VudCkgeyAvLyBpZiBlaXRoZXIgaXMgbm9uLTAgdGhlbiBtb2RpZnkgY29udGVudFxuXG4gICAgICAgICAgICBbIHVwZGF0ZWRDb250ZW50TGlzdCwgZGVsZXRlZENvbnRlbnRJdGVtcyBdID0gZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCh7XG4gICAgICAgICAgICAgICAgY2FjaGVBUEksXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgICAgIHdvcmtpbmdDb250ZW50TGlzdDptb2RlbGNvbnRlbnRsaXN0LFxuICAgICAgICAgICAgICAgIGxpc3RTdGFydENoYW5nZUNvdW50LFxuICAgICAgICAgICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCxcbiAgICAgICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VJbmRleDpwcmV2aW91c0NyYWRsZVJlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmOnRoaXMuaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMuc2l6ZSA9IHVwZGF0ZWRDb250ZW50TGlzdC5sZW5ndGhcblxuICAgICAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5zaXplKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBcbiAgICAgICAgICAgICAgICAgICAgbG93aW5kZXggPSB1cGRhdGVkQ29udGVudExpc3RbMF0ucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hpbmRleCA9IGxvd2luZGV4ICsgY3JhZGxlQ29udGVudFByb3BzLnNpemUgLSAxXG5cbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGNyYWRsZUNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxvd2luZGV4LFxuICAgICAgICAgICAgICAgICAgICBoaWdoaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIFNPTDoodmlydHVhbExpc3RQcm9wcy5sb3dpbmRleCA9PSBsb3dpbmRleCksXG4gICAgICAgICAgICAgICAgICAgIEVPTDoodmlydHVhbExpc3RQcm9wcy5oaWdoaW5kZXggPT0gaGlnaGluZGV4KSxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hpbmRleDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFNPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIEVPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZ3JpZHN0YXJ0XG4gICAgICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLlNPTCA9PT0gdHJ1ZSAmJiBcbiAgICAgICAgICAgICAgICAhKHZpcnR1YWxMaXN0UHJvcHMuYmFzZXJvd2JsYW5rcyA9PT0gdW5kZWZpbmVkIHx8IFxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMuYmFzZXJvd2JsYW5rcyA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBncmlkc3RhcnQgPSBgJHt2aXJ0dWFsTGlzdFByb3BzLmJhc2Vyb3dibGFua3MgKyAxfWBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JpZHN0YXJ0ID0gJ3Vuc2V0J1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaXJzdGNvbXBvbmVudCA9IHVwZGF0ZWRDb250ZW50TGlzdFswXVxuXG4gICAgICAgICAgICBsZXQgZ3JpZHN0YXJ0c3R5bGVcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAgICAgZ3JpZHN0YXJ0c3R5bGUgPSB7Z3JpZENvbHVtblN0YXJ0OmdyaWRzdGFydH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JpZHN0YXJ0c3R5bGUgPSB7Z3JpZFJvd1N0YXJ0OmdyaWRzdGFydH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldmlzZWRjb21wb25lbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoZmlyc3Rjb21wb25lbnQse2dyaWRzdGFydHN0eWxlfSlcbiAgICAgICAgICAgIHVwZGF0ZWRDb250ZW50TGlzdFswXSA9IHJldmlzZWRjb21wb25lbnRcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB1cGRhdGVkQ29udGVudExpc3QgPSBtb2RlbGNvbnRlbnRsaXN0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWxldGVkQ29udGVudEl0ZW1zLmxlbmd0aCAmJiAoY2FjaGUgPT0gJ2NyYWRsZScpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZGVsZXRlTGlzdENhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcblxuICAgICAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBkTGlzdENhbGxiYWNrID0gKGRlbGV0ZUxpc3QpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ3BhcmUgY2FjaGUgdG8gY3JhZGxlJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZVBvcnRhbHMoY2FjaGVBUEksIGRlbGV0ZWRDb250ZW50SXRlbXMsIGRMaXN0Q2FsbGJhY2spXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDUuIGFsbG9jYXRlIGNyYWRsZSBjb250ZW50IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IFsgaGVhZGNvbnRlbnQsIHRhaWxjb250ZW50IF0gPSBhbGxvY2F0ZUNvbnRlbnRMaXN0KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRsaXN0OnVwZGF0ZWRDb250ZW50TGlzdCxcbiAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgICAgICAgICAvLyBsaXN0bG93aW5kZXgsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cyA9IHVwZGF0ZWRDb250ZW50TGlzdFxuICAgICAgICBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBoZWFkY29udGVudFxuICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMgPSB0YWlsY29udGVudFxuXG4gICAgICAgIGlmIChzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjaykge1xuXG4gICAgICAgICAgICBjb25zdCBjc3RhdGUgPSBzdGF0ZUhhbmRsZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjayhcblxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCwndXBkYXRlQ3JhZGxlQ29udGVudCcsIGNzdGF0ZSlcbiAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA2LiBjc3MgY2hhbmdlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBheGlzUmVmZXJlbmNlSW5kZXggLSBsaXN0bG93aW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcblxuICAgICAgICBpZiAoaXNTaGlmdCkgY2FjaGVBUEkucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG4gICAgICAgIHRoaXMuYXBwbHlTdHlsaW5nKHtcbiAgICAgICAgICAgIGxheW91dCwgb3JpZW50YXRpb24sIHBhZGRpbmcsIGdhcCwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4LCBheGlzVmlld3BvcnRQaXhlbE9mZnNldCwgc2Nyb2xsUG9zLCBcbiAgICAgICAgICAgIGhlYWRjb250ZW50LFxuICAgICAgICAgICAgYXhpc0VsZW1lbnQsIGhlYWRFbGVtZW50LCBsaXN0bG93aW5kZXhcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBsb2FkIG5ldyBkaXNwbGF5IGRhdGFcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHNcblxuICAgIH1cblxuICAgIC8vIG1vdmUgdGhlIG9mZnNldCBvZiB0aGUgYXhpc1xuICAgIHByaXZhdGUgYXBwbHlTdHlsaW5nID0gKHtcbiAgICAgICAgbGF5b3V0LCBvcmllbnRhdGlvbiwgcGFkZGluZywgZ2FwLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIFxuICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4LCBheGlzVmlld3BvcnRQaXhlbE9mZnNldCwgc2Nyb2xsUG9zLCBcbiAgICAgICAgaGVhZGNvbnRlbnQsXG4gICAgICAgIGF4aXNFbGVtZW50LCBoZWFkRWxlbWVudCwgbGlzdGxvd2luZGV4XG4gICAgfSkgPT4ge1xuICAgICAgICBcbiAgICAgICAgaWYgKGxheW91dCA9PSAndmFyaWFibGUnKSByZXR1cm4gLy8gdGhlcmUncyBhIHNlcGFyYXRlIHJvdXRpbmUgZm9yIHZhcmlhYmxlIGFkanVzdG1lbnRzIGFuZCBjc3NcblxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFNhZmFyaSB3aGVuIHpvb21lZCBkcmlmdHMgKGNhbGMgcHJlY2lzaW9uIG9uZSBwcmVzdW1lcykuIFRoaXMgaXMgYSBoYWNrIHRvIGNvcnJlY3QgdGhhdC5cbiAgICAgICAgY29uc3QgcHJlQXhpc1ZpcnR1YWxSb3dzID0gTWF0aC5jZWlsKCAoIGF4aXNSZWZlcmVuY2VJbmRleCAtIGxpc3Rsb3dpbmRleCApL2Nyb3NzY291bnQgKVxuICAgIFxuICAgICAgICBjb25zdCBiYXNlQ2VsbExlbmd0aCA9IFxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aClcbiAgICAgICAgICAgICsgZ2FwXG5cbiAgICAgICAgY29uc3QgdGVzdFNjcm9sbFBvcyA9IChiYXNlQ2VsbExlbmd0aCAqIHByZUF4aXNWaXJ0dWFsUm93cykgKyBwYWRkaW5nIC0gYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcbiAgICAgICAgY29uc3Qgc2Nyb2xsRGlmZiA9IHRlc3RTY3JvbGxQb3MgLSBzY3JvbGxQb3NcblxuICAgICAgICBpZiAoc2Nyb2xsRGlmZikge1xuICAgICAgICAgICAgYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgKz0gc2Nyb2xsRGlmZlxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvcEF4aXNQb3MsIGxlZnRBeGlzUG9zIC8vIGF2YWlsYWJsZSBmb3IgZGVidWdcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgdG9wQXhpc1BvcyA9IHNjcm9sbFBvcyArIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9IHRvcEF4aXNQb3MgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGhlYWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudC5sZW5ndGg/XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7Z2FwfXB4ICR7cGFkZGluZ31weGA6XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4IDBweCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGxlZnRBeGlzUG9zID0gc2Nyb2xsUG9zICsgYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXRcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdEF4aXNQb3MgKyAncHgnXG5cbiAgICAgICAgICAgIGhlYWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudC5sZW5ndGg/XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtnYXB9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGA6XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggMHB4ICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHhgXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT1bIFJFQ09ORklHVVJFIFRIRSBTQ1JPTExCTE9DSyBGT1IgVkFSSUFCTEUgQ09OVEVOVCBdPT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogIFxuICAgIGJsb2NrU2Nyb2xsUG9zIGlzIHRoZSBhbW91bnQgdGhlIHNjcm9sbEJsb2NrIGlzIHNjcm9sbGVkIHRvIHJldmVhbCB0aGUgY2VudHJlIG9mIHRoZSBDcmFkbGVcbiAgICAgICAgYXQgdGhlIGVkZ2Ugb2YgdGhlIFZpZXdwb3J0XG4gICAgXG4gICAgbmV3QXhpc1Njcm9sbGJsb2NrT2Zmc2V0IGlzIHRoZSBleGFjdCBvZmZzZXQgb2YgYmxvY2tTY3JvbGxQb3MsIHBsdXMgdGhlIGF4aXNWaWV3cG9ydE9mZnNldFxuICAgIFxuICAgIGF4aXNWaWV3cG9ydE9mZnNldCBpcyB0aGUgYW1vdW50IHRoZSBheGlzIGlzIGFoZWFkIG9mIHRoZSBWaWV3cG9ydCBlZGdlXG4gICAgXG4gICAgdGhlIGxlbmd0aCBvZiB0aGUgU2Nyb2xsYmxvY2sgaXMgc2hvcnRlbmVkIGJ5IHRoZSBhbW91bnQgdGhlIG1lYXN1cmVkIHRhaWwgbGVuZ3RoIGRpZmZlcnMgZnJvbSB0aGUgXG4gICAgICAgIGJhc2UgdGFpbCBsZW5ndGhcblxuICAgIENhbGxlZCBmb3IgdmFyaWFibGUgbGF5b3V0IG9ubHkuIEFsbCBET00gZWxlbWVudHMgc2hvdWxkIGhhdmUgYmVlbiByZW5kZXJlZCBhdCB0aGlzIHBvaW50XG4gICAgc2V0cyBDU1M6IHNjcm9sbGJsb2NrRWxlbWVudCB0b3AgYW5kIGhlaWdodCAob3IgbGVmdCBhbmQgd2lkdGgpLCBhbmQgYXhpc0VsZW1lbnQgdG9wIChvciBsZWZ0KVxuICAgIHRvIGdldCBjbG9zZXIgdG8gbmF0dXJhbCBwcm9wb3J0aW9ucyB0byBtaW5pbWl6ZSBqYW5reSBzY3JvbGwgdGh1bWJcbiovXG5cbiAgICBwdWJsaWMgYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSA9IChzb3VyY2UpID0+IHtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzZXR1cCBiYXNlIHZhbHVlcyBhbmQgcmVmZXJlbmNlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gcmVzb3VyY2VzLi4uXG4gICAgICAgIGNvbnN0XG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG4gICAgICAgICAgICBjcmFkbGVIYW5kbGVycyA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBsYXlvdXRIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIsIFxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlciBcblxuICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnMsXG5cbiAgICAgICAgeyBcblxuICAgICAgICAgICAgZWxlbWVudHM6IGNyYWRsZUVsZW1lbnRzLCBcbiAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YSBcblxuICAgICAgICB9ID0gbGF5b3V0SGFuZGxlcixcblxuICAgICAgICAvLyBjdXJyZW50IGNvbmZpZ3VyYXRpb25zLi4uXG4gICAgICAgIHsgXG5cbiAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbjogYXhpc1JlZmVyZW5jZVBvc2l0aW9uLFxuICAgICAgICAgICAgdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQ6IGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0LFxuXG4gICAgICAgIH0gPSBjcmFkbGVQb3NpdGlvbkRhdGEsXG5cbiAgICAgICAgLy8gZWxlbWVudCByZWZlcmVuY2VzLi4uXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgaGVhZEdyaWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50LFxuICAgICAgICB0YWlsR3JpZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQsXG4gICAgICAgIGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50LFxuXG4gICAgICAgIHtcblxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgZ2FwLCBcbiAgICAgICAgICAgIHBhZGRpbmcsIFxuICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcblxuICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICB7XG5cbiAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICB7IFxuXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHJvd2NvdW50Omxpc3RSb3djb3VudCxcbiAgICAgICAgICAgIGxvd2luZGV4Omxpc3Rsb3dpbmRleCxcbiAgICAgICAgICAgIHJvd3NoaWZ0Omxpc3Ryb3dzaGlmdCxcblxuXG4gICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjdWxhdGlvbnMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGF4aXNSZWZlcmVuY2VJbmRleCA9IGF4aXNSZWZlcmVuY2VQb3NpdGlvbiArIGxpc3Rsb3dpbmRleFxuICAgICAgICAvLyByb3djb3VudHMgYW5kIHJvdyBvZmZzZXRzIGZvciBwb3NpdGlvbmluZ1xuICAgICAgICAvLyBsaXN0Um93Y291bnQgdGFrZW4gZnJvbSBpbnRlcm5hbCBwcm9wZXJ0aWVzIGFib3ZlXG4gICAgICAgIGNvbnN0IGhlYWRSb3dDb3VudCA9IE1hdGguY2VpbChoZWFkR3JpZEVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgvY3Jvc3Njb3VudCksXG4gICAgICAgICAgICB0YWlsUm93Q291bnQgPSBNYXRoLmNlaWwodGFpbEdyaWRFbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoL2Nyb3NzY291bnQpXG5cbiAgICAgICAgLy8gcmVmZXJlbmNlIHJvd3MgLSBjcmFkbGUgZmlyc3QvbGFzdDsgYXhpczsgbGlzdCBlbmRcbiAgICAgICAgY29uc3QgYXhpc1JlZmVyZW5jZVJvdyA9IE1hdGguZmxvb3IoYXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvdyA9IGF4aXNSZWZlcmVuY2VSb3cgLSBoZWFkUm93Q291bnQsXG4gICAgICAgICAgICBjcmFkbGVMYXN0Um93ID0gYXhpc1JlZmVyZW5jZVJvdyArICh0YWlsUm93Q291bnQgLSAxKSxcbiAgICAgICAgICAgIGxpc3RMYXN0Um93ID0gbGlzdFJvd2NvdW50IC0gMSArIGxpc3Ryb3dzaGlmdFxuXG4gICAgICAgIGNvbnN0IHByZUNyYWRsZVJvd0NvdW50ID0gY3JhZGxlUmVmZXJlbmNlUm93IC0gbGlzdHJvd3NoaWZ0LFxuICAgICAgICAgICAgcG9zdENyYWRsZVJvd0NvdW50ID0gbGlzdExhc3RSb3cgLSBjcmFkbGVMYXN0Um93XG5cbiAgICAgICAgLy8gYmFzZSBwaXhlbCB2YWx1ZXNcbiAgICAgICAgY29uc3QgYmFzZUNlbGxMZW5ndGggPSBcbiAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGhcbiAgICAgICAgICAgICkgKyBnYXBcblxuICAgICAgICBjb25zdCBtZWFzdXJlZFRhaWxQaXhlbExlbmd0aCA9IFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHRhaWxHcmlkRWxlbWVudC5vZmZzZXRIZWlnaHQ6XG4gICAgICAgICAgICAgICAgdGFpbEdyaWRFbGVtZW50Lm9mZnNldFdpZHRoXG5cbiAgICAgICAgY29uc3QgYmFzZVBvc3RDcmFkbGVQaXhlbExlbmd0aCA9IHBvc3RDcmFkbGVSb3dDb3VudCAqIGJhc2VDZWxsTGVuZ3RoXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWRQb3N0QXhpc1BpeGVsTGVuZ3RoID0gYmFzZVBvc3RDcmFkbGVQaXhlbExlbmd0aCArIG1lYXN1cmVkVGFpbFBpeGVsTGVuZ3RoXG5cbiAgICAgICAgLy8gYmFzZSBmaWd1cmVzIHVzZWQgZm9yIHByZUF4aXMgI3MgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZXBvc2l0aW9uaW5nLCB3aGljaCB1c2VzIGJhc2UgZmlndXJlc1xuICAgICAgICBjb25zdCBiYXNlUHJlQXhpc1BpeGVsTGVuZ3RoID0gKChwcmVDcmFkbGVSb3dDb3VudCArIGhlYWRSb3dDb3VudCkgKiBiYXNlQ2VsbExlbmd0aCkgKyBwYWRkaW5nXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBsYXlvdXQgYWRqdXN0bWVudHMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcblxuICAgICAgICBjb25zdCBjb21wdXRlZFNjcm9sbGJsb2NrUGl4ZWxMZW5ndGggPSBiYXNlUHJlQXhpc1BpeGVsTGVuZ3RoICsgY29tcHV0ZWRQb3N0QXhpc1BpeGVsTGVuZ3RoXG4gICAgICAgIGNvbnN0IGJsb2NrU2Nyb2xsUG9zID0gYmFzZVByZUF4aXNQaXhlbExlbmd0aCAtIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG4gICAgICAgIGNvbnN0IG5ld0F4aXNTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gYmxvY2tTY3JvbGxQb3MgKyBheGlzVmlld3BvcnRQaXhlbE9mZnNldCAvLyBpZS4gYmFzZVByZUF4aXNQaXhlbExlbmd0aCwgYnV0IHNlbWFudGljc1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9IG5ld0F4aXNTY3JvbGxibG9ja1BpeGVsT2Zmc2V0ICsgJ3B4J1xuXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKGNvbXB1dGVkU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCkgKyAncHgnXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLmxlZnQgPSBuZXdBeGlzU2Nyb2xsYmxvY2tQaXhlbE9mZnNldCArICdweCdcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLndpZHRoID0gY29tcHV0ZWRTY3JvbGxibG9ja1BpeGVsTGVuZ3RoICsgJ3B4J1xuXG4gICAgICAgIH1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHNjcm9sbFBvcyBhZGp1c3RtZW50IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgaGVhZEdyaWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkUm93Q291bnQ/XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7Z2FwfXB4ICR7cGFkZGluZ31weGA6XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4IDBweCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaGVhZEdyaWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkUm93Q291bnQ/XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggJHtnYXB9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGA6XG4gICAgICAgICAgICAgICAgICAgIGAke3BhZGRpbmd9cHggMHB4ICR7cGFkZGluZ31weCAke3BhZGRpbmd9cHhgXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNTYWZhcmlJT1MoKSkgeyAvLyBhZGp1c3QgYmxvY2tTY3JvbGxQb3MgZGlyZWN0bHkgLSBtb3N0IGJyb3dzZXJzIGluY2x1ZGluZyBTYWZhcmkgZGVza3RvcFxuXG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgPSBibG9ja1Njcm9sbFBvc1xuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50W2NyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9IGJsb2NrU2Nyb2xsUG9zXG4gICAgICAgICAgICBzY3JvbGxIYW5kbGVyLnJlc2V0U2Nyb2xsRGF0YShibG9ja1Njcm9sbFBvcylcblxuICAgICAgICB9IGVsc2UgeyAvLyBmb3IgU2FmYXJpIGlPU1xuXG4gICAgICAgICAgICAvLyB0ZW1wb3JhcmlseSBhZGp1c3Qgc2Nyb2xsYmxvY2tFbGVtZW50IG9mZnNldDsgaU9Tb25BZnRlclNjcm9sbCB0cmFuc2ZlcnMgc2hpZnQgdG8gYmxvY2tTY3JvbGxQb3NcbiAgICAgICAgICAgIC8vIC0gZGlyZWN0IGNoYW5nZSBvZiBzY3JvbGxUb3AvU2Nyb2xsTGVmdCBpbiBTYWZhcmkgaU9TIGlzIGlnbm9yZWQgYnkgdGhlIGJyb3dzZXIgbW9tZW50dW0gZW5naW5lXG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0aW5nU2Nyb2xsUG9zID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxEaWZmID0gYmxvY2tTY3JvbGxQb3MgLSBzdGFydGluZ1Njcm9sbFBvc1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLnRvcCA9IC1zY3JvbGxEaWZmICsgJ3B4J1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSAtc2Nyb2xsRGlmZiArICdweCdcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBmb3IgZ290b0luZGV4IG9yIHJlc2l6ZSBvdmVyc2hvb3RcbiAgICAgICAgaWYgKChzb3VyY2UgPT0gJ3NldGNyYWRsZScpICYmICFwb3N0Q3JhZGxlUm93Q291bnQpIHsgXG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0UGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5vZmZzZXRXaWR0aFxuXG4gICAgICAgICAgICBjb25zdCBhbGlnbmVkRW5kUG9zRGlmZiA9IFxuICAgICAgICAgICAgICAgIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ICsgbWVhc3VyZWRUYWlsUGl4ZWxMZW5ndGggLSB2aWV3cG9ydFBpeGVsTGVuZ3RoXG5cbiAgICAgICAgICAgIGlmIChhbGlnbmVkRW5kUG9zRGlmZiA8IDApIHsgLy8gZmlsbCB0aGUgYm90dG9tIG9mIHRoZSB2aWV3cG9ydCB1c2luZyBzY3JvbGxCeVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQnlZID0gXG4gICAgICAgICAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduZWRFbmRQb3NEaWZmOlxuICAgICAgICAgICAgICAgICAgICAgICAgMFxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsQnlYID1cbiAgICAgICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduZWRFbmRQb3NEaWZmXG5cbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsQnkoc2Nyb2xsQnlYLCBzY3JvbGxCeVkpXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IFsgSU5URVJOQUwgQ09OVEVOVCBNQU5BR0VNRU5UIFNFUlZJQ0VTIF09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHB1YmxpYyBndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyA9ICgpID0+IHsgXG5cbiAgICAgICAgY29uc3QgeyBjYWNoZU1heCwgTUFYX0NBQ0hFX09WRVJfUlVOIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBtb2RlbENvbXBvbmVudExpc3QgPSB0aGlzLmNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzXG4gXG4gICAgICAgIGlmIChjYWNoZUFQSS5ndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyhjYWNoZU1heCwgbW9kZWxDb21wb25lbnRMaXN0Lmxlbmd0aCwgTUFYX0NBQ0hFX09WRVJfUlVOICkpIHtcblxuICAgICAgICAgICAgdGhpcy5wYXJlQ2FjaGVUb01heCgpXG5cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcGFyZUNhY2hlVG9NYXggPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IGNhY2hlLCBzY3JvbGxlcklEIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG4gICAgICAgIFxuICAgICAgICBpZiAoY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVIYW5kbGVycyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgICAgICBjb25zdCB7IGNhY2hlQVBJLCBzZXJ2aWNlSGFuZGxlciB9ID0gY3JhZGxlSGFuZGxlcnNcblxuICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSB0aGlzLmdldE1vZGVsSW5kZXhMaXN0KClcblxuICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygncGFyZSBjYWNoZSB0byBjYWNoZU1heCcsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FjaGVBUEkucGFyZUNhY2hlVG9NYXgoXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5jYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGRMaXN0Q2FsbGJhY2spKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBFWFRFUk5BTCBTRVJWSUNFIFNVUFBPUlQgXT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBzdXBwb3J0cyBjbGVhckNhY2hlXG4gICAgcHVibGljIGNsZWFyQ3JhZGxlID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcbiAgICAgICAgLy8gY29uc3QgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gW11cbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gW11cblxuICAgIH1cblxuICAgIC8vIGNhbGxlZCBmcm9tIHNlcnZpY2VIYW5kbGVyIGdldENyYWRsZUluZGV4TWFwXG4gICAgLy8gYWxzbyBzdXBwb3J0cyBwYXJlQ2FjaGVUb01heCwgbWF0Y2hDYWNoZVRvQ3JhZGxlXG4gICAgcHVibGljIGdldE1vZGVsSW5kZXhMaXN0KCkge1xuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlTW9kZWxDb21wb25lbnRzIH0gPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICBpZiAoIWNyYWRsZU1vZGVsQ29tcG9uZW50cykge1xuXG4gICAgICAgICAgICByZXR1cm4gW10gXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5tYXAoKGl0ZW0pPT5pdGVtLnByb3BzLmluZGV4KVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG1vdmVJbmRleCBhbmQgaW5zZXJ0UmVtb3ZlSW5kZXgsIFxuICAgIC8vIHVwZGF0ZXMgY3JhZGxlIGNvbnRpZ3VvdXMgaXRlbXMgZnJvbSBzdGFydENoYW5nZUluZGV4IG9yIHN0YXJ0IG9mIGNyYWRsZVxuICAgIHB1YmxpYyBzeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlKHVwZGF0ZWRJbmRleExpc3QsIGlzSW5zZXJ0UmVtb3ZlID0gMCwgc3RhcnRDaGFuZ2VJbmRleCA9IG51bGwpIHsgLy8gMCA9IG1vdmVcblxuICAgICAgICAvLyBhc3NzZW1ibGUgcmVzb3VyY2VzXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEkgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG4gICAgICAgIC8vIGNvbnN0IHsgaW5kZXhUb0l0ZW1JRE1hcCB9ID0gY2FjaGVBUEkuY2FjaGVQcm9wc1xuICAgICAgICBjb25zdCB7IGluZGV4VG9JdGVtSURNYXAgfSA9IGNhY2hlQVBJXG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVNb2RlbENvbXBvbmVudHMgfSA9IHRoaXMuY29udGVudFxuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlQ29udGVudFByb3BzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLnNpemUgPT0gMCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBsb3dpbmRleDpsb3dTcGFuLCBoaWdoaW5kZXg6aGlnaFNwYW4gfSA9IGNyYWRsZUNvbnRlbnRQcm9wc1xuXG4gICAgICAgIGxldCBzdGFydEluZGV4LCBlbmRJbmRleFxuICAgICAgICBpZiAoaXNJbnNlcnRSZW1vdmUpIHtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0Q2hhbmdlSW5kZXggPiBoaWdoU3BhbikgcmV0dXJuXG5cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydENoYW5nZUluZGV4XG4gICAgICAgICAgICBlbmRJbmRleCA9IGhpZ2hTcGFuXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gbW92ZVxuXG4gICAgICAgICAgICBpZiAodXBkYXRlZEluZGV4TGlzdC5sZW5ndGggPT0gMCkgcmV0dXJuXG5cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSB1cGRhdGVkSW5kZXhMaXN0WzBdXG4gICAgICAgICAgICBlbmRJbmRleCA9IHVwZGF0ZWRJbmRleExpc3QuYXQoLTEpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTcGFuID0gZW5kSW5kZXggLSBzdGFydEluZGV4ICsgMVxuXG4gICAgICAgIGxldCBmaXJzdEluZGV4ID0gc3RhcnRJbmRleFxuXG4gICAgICAgIGlmIChmaXJzdEluZGV4ID4gaGlnaFNwYW4pIHJldHVyblxuXG4gICAgICAgIGlmIChmaXJzdEluZGV4IDwgbG93U3BhbikgZmlyc3RJbmRleCA9IGxvd1NwYW5cblxuICAgICAgICBjb25zdCBsb3dQdHIgPSBmaXJzdEluZGV4IC0gbG93U3BhblxuXG4gICAgICAgIGNvbnN0IGhpZ2hQdHIgPSBpc0luc2VydFJlbW92ZT9cbiAgICAgICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5sZW5ndGggLSAxOlxuICAgICAgICAgICAgTWF0aC5taW4oY3JhZGxlTW9kZWxDb21wb25lbnRzLmxlbmd0aCAtIDEsbG93UHRyICsgdXBkYXRlZFNwYW4gLSAxKVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uIHRvIHVwZGF0ZSBpbmRpdmlkdWFsIGNyYWRsZSBjb21wb25lbnRzIHRvIGNhY2hlIGNoYW5nZXNcbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc2NvbXBvbmVudEZuKGNvbXBvbmVudCwgY29tcG9uZW50cHRyLCBjb21wb25lbnRhcnJheSkge1xuXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNvbXBvbmVudC5wcm9wcy5pbmRleFxuXG4gICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW1JRCA9IGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KVxuXG4gICAgICAgICAgICAvLyBpZiBjYWNoZSBoYXMgbm8gY29tcG9uZW50IGZvciBjcmFkbGUgaXRlbSwgdGhlbiBnZXQgb25lXG4gICAgICAgICAgICBpZiAoY2FjaGVJdGVtSUQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbUlEID0gY2FjaGVBUEkuZ2V0TmV3SXRlbUlEKClcbiAgICAgICAgICAgICAgICBjb21wb25lbnRhcnJheVtjb21wb25lbnRwdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpuZXdJdGVtSUR9KVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBtYXRjaCBjYWNoZSBpdGVtSUQgdG8gY3JhZGxlIGNvbXBvbmVudCBpdGVtSURcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNyYWRsZUl0ZW1JRCA9IGNvbXBvbmVudC5wcm9wcy5pdGVtSURcblxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZXB0ciA9IHVwZGF0ZWRJbmRleExpc3QuaW5kZXhPZihpbmRleCkgLy8gVE9ETyB2ZXJpZnkgbmVlZCBmb3IgdXBkYXRlbGlzdFxuXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZXB0ciAhPSAtMSkgeyAvLyB1cGRhdGUgbGlzdCBjb25maXJtcyB0aGVyZSBpcyBhIGNhY2hlIGl0ZW0gZm9yIHRoaXMgaW5kZXhcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVJdGVtSUQgPT0gY3JhZGxlSXRlbUlEKSByZXR1cm5cblxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRhcnJheVtjb21wb25lbnRwdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpjYWNoZUl0ZW1JRH0pXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1JRCA9IGNhY2hlQVBJLmdldE5ld0l0ZW1JRCgpXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudGFycmF5W2NvbXBvbmVudHB0cl0gPSBSZWFjdC5jbG9uZUVsZW1lbnQoY29tcG9uZW50LCB7aXRlbUlEOm5ld0l0ZW1JRH0pXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcHRyID0gbG93UHRyOyBwdHIgPD0gaGlnaFB0cjsgcHRyKyspIHtcbiAgICAgICAgICAgIHByb2Nlc3Njb21wb25lbnRGbihjcmFkbGVNb2RlbENvbXBvbmVudHNbcHRyXSwgcHRyLCBjcmFkbGVNb2RlbENvbXBvbmVudHMpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIHJlbWFwSW5kZXhlc1xuICAgIHB1YmxpYyBjcmVhdGVOZXdJdGVtSURzKG5ld0xpc3QpIHtcblxuICAgICAgICBpZiAoIW5ld0xpc3QubGVuZ3RoKSByZXR1cm5cblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNyYWRsZU1vZGVsQ29tcG9uZW50cyB9ID0gdGhpcy5jb250ZW50XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVDb250ZW50UHJvcHMgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmIChjcmFkbGVDb250ZW50UHJvcHMuc2l6ZSA9PSAwKSByZXR1cm5cblxuICAgICAgICBjb25zdCB7IGxvd2luZGV4Omxvd1NwYW4sIGhpZ2hpbmRleDpoaWdoU3BhbiB9ID0gY3JhZGxlQ29udGVudFByb3BzXG5cbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc2NvbXBvbmVudEZuKG5ld2xpc3RpbmRleCkge1xuXG4gICAgICAgICAgICBpZiAobmV3bGlzdGluZGV4IDwgbG93U3BhbiB8fCBuZXdsaXN0aW5kZXggPiBoaWdoU3BhbikgcmV0dXJuIC8vIGRlZmVuc2l2ZVxuXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVQdHIgPSBuZXdsaXN0aW5kZXggLSBsb3dTcGFuXG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGNyYWRsZU1vZGVsQ29tcG9uZW50c1tjcmFkbGVQdHJdXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1JRCA9IGNhY2hlQVBJLmdldE5ld0l0ZW1JRCgpXG5cbiAgICAgICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50c1tjcmFkbGVQdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpuZXdJdGVtSUR9KVxuXG4gICAgICAgIH1cblxuICAgICAgICBuZXdMaXN0LmZvckVhY2gocHJvY2Vzc2NvbXBvbmVudEZuKVxuXG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGZyb20gc2VydmljZSBoYW5kbGVyJ3MgcmVtYXBJbmRleGVzLCBhcyBsYXN0IHN0ZXBcbiAgICBwdWJsaWMgcmVjb25jaWxlQ2VsbEZyYW1lcyhtb2RpZmllZEluZGV4ZXNMaXN0KSB7XG5cbiAgICAgICAgaWYgKCFtb2RpZmllZEluZGV4ZXNMaXN0Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVNb2RlbENvbXBvbmVudHMgfSA9IHRoaXMuY29udGVudFxuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEkgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBpbmRleFRvSXRlbUlETWFwIH0gPSBjYWNoZUFQSVxuXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NDb21wb25lbnRGbiAoY29tcG9uZW50LCBpLCBhcnJheSApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5kZXgsIGl0ZW1JRCB9ID0gY29tcG9uZW50LnByb3BzXG4gICAgICAgICAgICBpZiAobW9kaWZpZWRJbmRleGVzTGlzdC5pbmNsdWRlcyhpbmRleCkpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1JRCA9IFxuICAgICAgICAgICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmhhcyhpbmRleCk/XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmdldChpbmRleCk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5nZXROZXdJdGVtSUQoKVxuXG4gICAgICAgICAgICAgICAgaWYgKG5ld0l0ZW1JRCAhPSBpdGVtSUQpIHsgLy8gZGVmZW5zaXZlOyBzaG91bGRuJ3QgaGFwcGVuXG5cbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbaV0gPSBSZWFjdC5jbG9uZUVsZW1lbnQoY29tcG9uZW50LCB7aXRlbUlEOm5ld0l0ZW1JRH0pXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjcmFkbGVNb2RlbENvbXBvbmVudHMuZm9yRWFjaChwcm9jZXNzQ29tcG9uZW50Rm4pXG5cbiAgICAgICAgdGhpcy5jb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBjcmFkbGVNb2RlbENvbXBvbmVudHMuc2xpY2UoMCx0aGlzLmNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cy5sZW5ndGgpXG4gICAgICAgIHRoaXMuY29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gY3JhZGxlTW9kZWxDb21wb25lbnRzLnNsaWNlKHRoaXMuY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzLmxlbmd0aClcblxuICAgIH1cblxufSJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJfaSIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl90b1Byb3BlcnR5S2V5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiTnVtYmVyIiwicmVhY3RfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJjb250ZW50ZnVuY3Rpb25zXzEiLCJJbmZpbml0ZUdyaWRTY3JvbGxlcl8xIiwiQ29udGVudEhhbmRsZXIiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiX3RoaXMiLCJjb250ZW50IiwiY3JhZGxlTW9kZWxDb21wb25lbnRzIiwiaGVhZE1vZGVsQ29tcG9uZW50cyIsInRhaWxNb2RlbENvbXBvbmVudHMiLCJoZWFkRGlzcGxheUNvbXBvbmVudHMiLCJ0YWlsRGlzcGxheUNvbXBvbmVudHMiLCJpbnN0YW5jZUlkQ291bnRlclJlZiIsImN1cnJlbnQiLCJ1cGRhdGVWaXJ0dWFsTGlzdFNpemUiLCJuZXdsaXN0c2l6ZSIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImNyYWRsZUhhbmRsZXJzIiwiaGFuZGxlcnNSZWYiLCJjcmFkbGVDb250ZW50UHJvcHMiLCJzZXRWaXJ0dWFsTGlzdFNpemUiLCJjcmFkbGVDb250ZW50IiwibGF5b3V0SGFuZGxlciIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImNsZWFyQ3JhZGxlIiwiYXNzaWduIiwiU09MIiwiRU9MIiwiaGlnaGluZGV4IiwibG93aW5kZXgiLCJzaXplIiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwidGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJ1cGRhdGVWaXJ0dWFsTGlzdFJhbmdlIiwibmV3bGlzdHJhbmdlIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyIiwic2V0VmlydHVhbExpc3RSYW5nZSIsInZpcnR1YWxMaXN0UHJvcHMiLCJfbmV3bGlzdHJhbmdlIiwibmV3bG93aW5kZXgiLCJuZXdoaWdoaW5kZXgiLCJyYW5nZSIsInByZXZpb3VzbG93aW5kZXgiLCJsb3dpbmRleGNoYW5nZSIsInNldENyYWRsZUNvbnRlbnQiLCJjcmFkbGVTdGF0ZSIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnQiLCJlbGVtZW50UmVmIiwiY2FjaGVBUEkiLCJzZXJ2aWNlSGFuZGxlciIsInNjcm9sbEhhbmRsZXIiLCJyZXF1ZXN0ZWRBeGlzUmVmZXJlbmNlUG9zaXRpb24iLCJvcmllbnRhdGlvbiIsImdhcCIsInBhZGRpbmciLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwic3R5bGVzIiwicGxhY2Vob2xkZXJNZXNzYWdlcyIsInNjcm9sbGVySUQiLCJsaXN0bG93aW5kZXgiLCJsaXN0c2l6ZSIsImNyb3NzY291bnQiLCJsaXN0Um93Y291bnQiLCJyb3djb3VudCIsImJhc2Vyb3dibGFua3MiLCJ3b3JraW5nQXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwiTWF0aCIsIm1pbiIsIm1heCIsIndvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgiLCJhYnMiLCJpbmNsdWRlcyIsIndvcmtpbmdDb250ZW50TGlzdCIsImJhc2VSb3dQaXhlbExlbmd0aCIsIl9yZWYiLCJjYWxjdWxhdGVDb250ZW50TGlzdFJlcXVpcmVtZW50cyIsInRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCIsInRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4IiwiY3JhZGxlQ29udGVudENvdW50IiwibmV3Q3JhZGxlQ29udGVudENvdW50Iiwic2Nyb2xsYmxvY2tWaWV3cG9ydFBpeGVsT2Zmc2V0IiwidGFyZ2V0U2Nyb2xsYmxvY2tWaWV3cG9ydFBpeGVsT2Zmc2V0IiwiYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJfcmVmMiIsImdldENlbGxGcmFtZUNvbXBvbmVudExpc3QiLCJjcmFkbGVSZWZlcmVuY2VJbmRleCIsImxpc3RTdGFydENoYW5nZUNvdW50IiwibGlzdEVuZENoYW5nZUNvdW50IiwiX3JlZjMiLCJuZXdjb250ZW50bGlzdCIsImluZGV4IiwiZ3JpZHN0YXJ0IiwiY29uY2F0IiwiZmlyc3Rjb21wb25lbnQiLCJncmlkc3RhcnRzdHlsZSIsImdyaWRDb2x1bW5TdGFydCIsImdyaWRSb3dTdGFydCIsInJldmlzZWRjb21wb25lbnQiLCJjbG9uZUVsZW1lbnQiLCJfcmVmNCIsImFsbG9jYXRlQ29udGVudExpc3QiLCJjb250ZW50bGlzdCIsImF4aXNSZWZlcmVuY2VJbmRleCIsIl9yZWY1IiwiaGVhZGNvbnRlbnRsaXN0IiwidGFpbGNvbnRlbnRsaXN0IiwiY2FsbGJhY2tzIiwicmVmZXJlbmNlSW5kZXhDYWxsYmFjayIsImNzdGF0ZSIsInNjcm9sbGJsb2NrRWxlbWVudCIsImZpcnN0Q2hpbGQiLCJibG9ja2Jhc2VsZW5ndGgiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJoZWlnaHQiLCJ3aWR0aCIsImJsb2NrU2Nyb2xsUG9zIiwicmVzZXRTY3JvbGxEYXRhIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsImNyYWRsZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJheGlzRWxlbWVudCIsImF4aXNSZWYiLCJoZWFkRWxlbWVudCIsImhlYWRSZWYiLCJheGlzU2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsInVwZGF0ZUNyYWRsZUNvbnRlbnQiLCJzdGF0ZUhhbmRsZXIiLCJpbnRlcnJ1cHRIYW5kbGVyIiwic2hpZnRpbnN0cnVjdGlvbiIsInRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIiwiY2FjaGUiLCJsYXlvdXQiLCJzY3JvbGxQb3MiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwibW9kZWxjb250ZW50bGlzdCIsInByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYSIsIl9yZWY2IiwiY2FsY3VsYXRlU2hpZnRTcGVjcyIsImNyYWRsZUl0ZW1TaGlmdCIsImNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld0F4aXNSZWZlcmVuY2VJbmRleCIsImF4aXNJdGVtU2hpZnQiLCJheGlzUmVmZXJlbmNlSXRlbVNoaWZ0IiwibmV3QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJpc1NoaWZ0IiwidHJpZ2dlcmxpbmVzSW50ZXJzZWN0IiwiZGlzY29ubmVjdCIsImFwcGx5U3R5bGluZyIsImhlYWRjb250ZW50IiwidXBkYXRlZENvbnRlbnRMaXN0IiwiZGVsZXRlZENvbnRlbnRJdGVtcyIsIl9yZWY3IiwiX3JlZjgiLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJkTGlzdENhbGxiYWNrIiwiZGVsZXRlTGlzdCIsImRlbGV0ZVBvcnRhbHMiLCJfcmVmOSIsIl9yZWYxMCIsInRhaWxjb250ZW50IiwiY3JhZGxlU3RhdGVSZWYiLCJyZW5kZXJQb3J0YWxMaXN0cyIsIl9yZWYxMSIsInByZUF4aXNWaXJ0dWFsUm93cyIsImNlaWwiLCJiYXNlQ2VsbExlbmd0aCIsInRlc3RTY3JvbGxQb3MiLCJzY3JvbGxEaWZmIiwidG9wQXhpc1BvcyIsImxlZnRBeGlzUG9zIiwiYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSIsInNvdXJjZSIsImF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsImhlYWRHcmlkRWxlbWVudCIsInRhaWxHcmlkRWxlbWVudCIsInRhaWxSZWYiLCJsaXN0cm93c2hpZnQiLCJyb3dzaGlmdCIsImhlYWRSb3dDb3VudCIsImNoaWxkTm9kZXMiLCJ0YWlsUm93Q291bnQiLCJheGlzUmVmZXJlbmNlUm93IiwiZmxvb3IiLCJjcmFkbGVSZWZlcmVuY2VSb3ciLCJjcmFkbGVMYXN0Um93IiwibGlzdExhc3RSb3ciLCJwcmVDcmFkbGVSb3dDb3VudCIsInBvc3RDcmFkbGVSb3dDb3VudCIsIm1lYXN1cmVkVGFpbFBpeGVsTGVuZ3RoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJiYXNlUG9zdENyYWRsZVBpeGVsTGVuZ3RoIiwiY29tcHV0ZWRQb3N0QXhpc1BpeGVsTGVuZ3RoIiwiYmFzZVByZUF4aXNQaXhlbExlbmd0aCIsInNpZ25hbHMiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwiY29tcHV0ZWRTY3JvbGxibG9ja1BpeGVsTGVuZ3RoIiwibmV3QXhpc1Njcm9sbGJsb2NrUGl4ZWxPZmZzZXQiLCJpc1NhZmFyaUlPUyIsInN0YXJ0aW5nU2Nyb2xsUG9zIiwidmlld3BvcnRQaXhlbExlbmd0aCIsImFsaWduZWRFbmRQb3NEaWZmIiwic2Nyb2xsQnlZIiwic2Nyb2xsQnlYIiwic2Nyb2xsQnkiLCJndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJjYWNoZU1heCIsIk1BWF9DQUNIRV9PVkVSX1JVTiIsIm1vZGVsQ29tcG9uZW50TGlzdCIsInBhcmVDYWNoZVRvTWF4IiwibW9kZWxJbmRleExpc3QiLCJnZXRNb2RlbEluZGV4TGlzdCIsIm1hcCIsIml0ZW0iLCJzeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlIiwidXBkYXRlZEluZGV4TGlzdCIsImlzSW5zZXJ0UmVtb3ZlIiwiYXJndW1lbnRzIiwic3RhcnRDaGFuZ2VJbmRleCIsImluZGV4VG9JdGVtSURNYXAiLCJsb3dTcGFuIiwiaGlnaFNwYW4iLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJhdCIsInVwZGF0ZWRTcGFuIiwiZmlyc3RJbmRleCIsImxvd1B0ciIsImhpZ2hQdHIiLCJwcm9jZXNzY29tcG9uZW50Rm4iLCJjb21wb25lbnQiLCJjb21wb25lbnRwdHIiLCJjb21wb25lbnRhcnJheSIsImNhY2hlSXRlbUlEIiwiZ2V0IiwibmV3SXRlbUlEIiwiZ2V0TmV3SXRlbUlEIiwiaXRlbUlEIiwiY3JhZGxlSXRlbUlEIiwidXBkYXRlcHRyIiwiaW5kZXhPZiIsInB0ciIsImNyZWF0ZU5ld0l0ZW1JRHMiLCJuZXdMaXN0IiwibmV3bGlzdGluZGV4IiwiY3JhZGxlUHRyIiwiZm9yRWFjaCIsInJlY29uY2lsZUNlbGxGcmFtZXMiLCJtb2RpZmllZEluZGV4ZXNMaXN0IiwicHJvY2Vzc0NvbXBvbmVudEZuIiwiYXJyYXkiLCJfY29tcG9uZW50JHByb3BzIiwiaGFzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/contenthandler.tsx\n')},"./src/cradle/interrupthandler.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\n// interrupthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module holds the callbacks for the Cradle structure listeners:\n    - cradleIntersectionObserverCallback: responds to the move of both cradle grids outside viewport\n        this initiates the repositioning protocol\n    - axisTriggerlinesObserverCallback: responds to crossing of tailward or headward triggerlines\n        in relation to the viewport, and triggers rollover and re-allocation of cradle content\n\n    viewportResizing interrupts are handled by viewport\n*/\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ "./src/cradle/contentfunctions.tsx");\nvar InterruptHandler = /*#__PURE__*/_createClass(function InterruptHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, InterruptHandler);\n  this.isHeadCradleInView = true;\n  this.isTailCradleInView = true;\n  this.axisTriggerlinesObserverCallback = function (entries) {\n    var _a;\n    if (_this.signals.pauseTriggerlinesObserver) {\n      return;\n    }\n    var testrootbounds = entries[0].rootBounds;\n    if (testrootbounds.width == 0 && testrootbounds.height == 0) {\n      // reparenting\n      return;\n    }\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n      contentHandler = _this$cradleParameter.contentHandler,\n      stateHandler = _this$cradleParameter.stateHandler,\n      scrollHandler = _this$cradleParameter.scrollHandler,\n      layoutHandler = _this$cradleParameter.layoutHandler;\n    if (stateHandler.isMountedRef.current) {\n      var scrollData = scrollHandler.scrollData;\n      scrollData.previousupdate = scrollData.currentupdate;\n      scrollData.currentupdate = scrollData.current;\n      var viewportElement = _this.cradleParameters.ViewportContextPropertiesRef.current.elementRef.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current;\n      var orientation = cradleInheritedProperties.orientation;\n      var triggerHistoryRef = cradleInternalProperties.triggerHistoryRef,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        crosscount = virtualListProps.crosscount,\n        listsize = virtualListProps.size,\n        rowshift = virtualListProps.rowshift;\n      var scrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n      var contentLength = orientation == \'vertical\' ? viewportElement.scrollHeight : viewportElement.scrollWidth;\n      var viewportLength = orientation == \'vertical\' ? viewportElement.offsetHeight : viewportElement.offsetWidth;\n      // for browser top or bottom bounce\n      // fractional pixels can cause this to fail, hence Math.floor)\n      if (scrollPos >= 0 || Math.floor(scrollPos + viewportLength) <= contentLength) {\n        var viewportBoundingRect = viewportElement.getBoundingClientRect();\n        var _ref = (0, contentfunctions_1.generateShiftInstruction)({\n            scrollerID: cradleInheritedProperties.scrollerID,\n            orientation: orientation,\n            triggerlineEntries: entries,\n            triggerlineSpan: layoutHandler.triggerlineSpan,\n            isFirstRowTriggerConfig: layoutHandler.triggercellIsInTail,\n            viewportBoundingRect: viewportBoundingRect,\n            triggerHistoryRef: triggerHistoryRef\n          }),\n          _ref2 = _slicedToArray(_ref, 2),\n          shiftinstruction = _ref2[0],\n          triggerViewportReferencePixelPos = _ref2[1];\n        if (shiftinstruction == \'moveaxistailward\') {\n          // filter out oversize last row\n          var lastListRowOffset = Math.ceil(listsize / crosscount) - 1 + rowshift;\n          var tailcontentlist = contentHandler.content.tailModelComponents;\n          var previousAxisReferenceIndex = ((_a = tailcontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0;\n          var previousAxisRowOffset = Math.ceil(previousAxisReferenceIndex / crosscount);\n          if (lastListRowOffset == previousAxisRowOffset) return;\n        }\n        // none == nothing to do\n        if (shiftinstruction != \'none\') {\n          _this.shiftinstruction = shiftinstruction;\n          _this.triggerViewportReferencePixelPos = triggerViewportReferencePixelPos;\n          stateHandler.setCradleState(\'renderupdatedcontent\');\n        }\n      }\n    }\n  };\n  this.cradleIntersectionObserverCallback = function (entries) {\n    var signals = _this.signals;\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      serviceHandler = _this$cradleParameter2.serviceHandler,\n      scrollHandler = _this$cradleParameter2.scrollHandler,\n      layoutHandler = _this$cradleParameter2.layoutHandler;\n    if (signals.pauseCradleIntersectionObserver) {\n      _this.isHeadCradleInView = _this.isTailCradleInView = true; // experimental\n      return;\n    }\n    var _this$cradleParameter3 = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      scrollerID = _this$cradleParameter3.scrollerID,\n      layout = _this$cradleParameter3.layout;\n    for (var i = 0; i < entries.length; i++) {\n      var entry = entries[i];\n      if (entry.target.dataset.type == \'head\') {\n        _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      } else {\n        _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      }\n    }\n\n    _this.signals.repositioningRequired = !_this.isHeadCradleInView && !_this.isTailCradleInView;\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    if (_this.signals.repositioningRequired)\n      // start reposition if no other interrupts are underway\n      {\n        _this.isHeadCradleInView = _this.isTailCradleInView = true;\n        var cradleState = stateHandler.cradleStateRef.current;\n        if (![\'repositioningRender\', \'finishreposition\', \'renderupdatedcontent\', \'finishupdatedcontent\', \'finishviewportresize\'].includes(cradleState) && !ViewportContextProperties.isResizing) {\n          var viewportElement = ViewportContextProperties.elementRef.current;\n          if (!viewportElement) {\n            // defensive; shouldn\'t happen\n            console.log(\'SYSTEM: viewport element not set in cradleIntersectionObserverCallback (scrollerID)\', scrollerID, ViewportContextProperties);\n            return;\n          }\n          // update dimensions with cradle intersection. See also dimension update in viewport.tsx for resize\n          // and getViewportDimensions in Cradle for width/height\n          // const rect = viewportElement.getBoundingClientRect()\n          // const { top, right, bottom, left } = rect\n          // const width = right - left, height = bottom - top\n          // update for scrolltracker\n          // ViewportContextProperties.viewportDimensions = {top, right, bottom, left, width, height} \n          var repositioningFlagCallback = serviceHandler.callbacks.repositioningFlagCallback;\n          repositioningFlagCallback && repositioningFlagCallback(true);\n          if (layout == \'variable\') {\n            // restore base config to scrollblock\n            layoutHandler.restoreBaseScrollblockConfig();\n            scrollHandler.calcImpliedRepositioningData(\'restoreBaseScrollblockConfig\');\n          }\n          _this.signals.pauseTriggerlinesObserver = true;\n          if (stateHandler.isMountedRef.current) {\n            stateHandler.setCradleState(\'startreposition\');\n          }\n        } else {\n          _this.signals.repositioningRequired = false;\n        }\n      }\n  };\n  this.cradleIntersect = {\n    observer: null,\n    callback: this.cradleIntersectionObserverCallback,\n    disconnected: true,\n    connectElements: function connectElements() {\n      if (!_this.cradleIntersect.disconnected) {\n        return;\n      }\n      var observer = _this.cradleIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.layoutHandler.elements;\n      observer.observe(cradleElements.headRef.current);\n      observer.observe(cradleElements.tailRef.current);\n      _this.cradleIntersect.disconnected = false;\n    },\n    disconnect: function disconnect() {\n      _this.cradleIntersect.observer.disconnect();\n      _this.cradleIntersect.disconnected = true;\n    },\n    createObserver: function createObserver() {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n      _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n        root: ViewportContextProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.cradleIntersect.observer;\n    }\n  };\n  this.triggerlinesIntersect = {\n    observer: null,\n    callback: this.axisTriggerlinesObserverCallback,\n    disconnected: true,\n    connectElements: function connectElements() {\n      if (!_this.triggerlinesIntersect.disconnected) {\n        return;\n      }\n      var observer = _this.triggerlinesIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.layoutHandler.elements;\n      if (cradleElements.triggercellTriggerlineHeadRef.current && cradleElements.triggercellTriggerlineTailRef.current) {\n        observer.observe(cradleElements.triggercellTriggerlineHeadRef.current);\n        observer.observe(cradleElements.triggercellTriggerlineTailRef.current);\n      }\n      _this.triggerlinesIntersect.disconnected = false;\n    },\n    disconnect: function disconnect() {\n      _this.triggerlinesIntersect.observer.disconnect();\n      _this.triggerlinesIntersect.disconnected = true;\n    },\n    createObserver: function createObserver() {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n      _this.triggerlinesIntersect.observer = new IntersectionObserver(_this.triggerlinesIntersect.callback, {\n        root: ViewportContextProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.triggerlinesIntersect.observer;\n    }\n  };\n  this.signals = {\n    repositioningRequired: false,\n    pauseTriggerlinesObserver: false,\n    pauseCradleIntersectionObserver: false,\n    pauseCradleResizeObserver: false,\n    pauseScrollingEffects: false\n  };\n  /*\n      invoked for\n      cradle:\n      - change into cache\n      - trigger cradleresizing\n      - trigger reconfiguration\n      - trigger pivot\n      servicehandler:\n      - call reload\n  */\n  this.pauseInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = true;\n    signals.pauseCradleIntersectionObserver = true;\n    signals.pauseCradleResizeObserver = true;\n    signals.pauseScrollingEffects = true;\n  };\n  /*\n      invoked for\n      cradle:\n      - restoreinterrupts\n  */\n  this.restoreInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = false;\n    signals.pauseCradleIntersectionObserver = false;\n    signals.pauseCradleResizeObserver = false;\n    signals.pauseScrollingEffects = false;\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports["default"] = InterruptHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNDLHlCQUF5QixHQUFHLElBQUk7SUFDeENELE9BQU8sQ0FBQ21FLCtCQUErQixHQUFHLElBQUk7SUFDOUNuRSxPQUFPLENBQUN3Ryx5QkFBeUIsR0FBRyxJQUFJO0lBQ3hDeEcsT0FBTyxDQUFDeUcscUJBQXFCLEdBQUcsSUFBSTtFQUN4QyxDQUFDO0VBQ0Q7Ozs7O0VBS08sS0FBQUUsaUJBQWlCLEdBQUcsWUFBSztJQUM1QixJQUFRM0csT0FBTyxHQUFLTCxLQUFJLENBQWhCSyxPQUFPO0lBQ2ZBLE9BQU8sQ0FBQ0MseUJBQXlCLEdBQUcsS0FBSztJQUN6Q0QsT0FBTyxDQUFDbUUsK0JBQStCLEdBQUcsS0FBSztJQUMvQ25FLE9BQU8sQ0FBQ3dHLHlCQUF5QixHQUFHLEtBQUs7SUFDekN4RyxPQUFPLENBQUN5RyxxQkFBcUIsR0FBRyxLQUFLO0VBQ3pDLENBQUM7RUE1VUUsSUFBSSxDQUFDL0csZ0JBQWdCLEdBQUdBLGdCQUFnQjtBQUUzQyxDQUFDO0FBTkxrSCxrQkFBQSxHQUFBbkgsZ0JBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9pbnRlcnJ1cHRoYW5kbGVyLnRzeD9hOTY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGludGVycnVwdGhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoaXMgbW9kdWxlIGhvbGRzIHRoZSBjYWxsYmFja3MgZm9yIHRoZSBDcmFkbGUgc3RydWN0dXJlIGxpc3RlbmVyczpcbiAgICAtIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2s6IHJlc3BvbmRzIHRvIHRoZSBtb3ZlIG9mIGJvdGggY3JhZGxlIGdyaWRzIG91dHNpZGUgdmlld3BvcnRcbiAgICAgICAgdGhpcyBpbml0aWF0ZXMgdGhlIHJlcG9zaXRpb25pbmcgcHJvdG9jb2xcbiAgICAtIGF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrOiByZXNwb25kcyB0byBjcm9zc2luZyBvZiB0YWlsd2FyZCBvciBoZWFkd2FyZCB0cmlnZ2VybGluZXNcbiAgICAgICAgaW4gcmVsYXRpb24gdG8gdGhlIHZpZXdwb3J0LCBhbmQgdHJpZ2dlcnMgcm9sbG92ZXIgYW5kIHJlLWFsbG9jYXRpb24gb2YgY3JhZGxlIGNvbnRlbnRcblxuICAgIHZpZXdwb3J0UmVzaXppbmcgaW50ZXJydXB0cyBhcmUgaGFuZGxlZCBieSB2aWV3cG9ydFxuKi9cblxuaW1wb3J0IHsgZ2VuZXJhdGVTaGlmdEluc3RydWN0aW9uIH0gZnJvbSAnLi9jb250ZW50ZnVuY3Rpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcnJ1cHRIYW5kbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHJpdmF0ZSBpc0hlYWRDcmFkbGVJblZpZXcgPSB0cnVlXG4gICAgcHJpdmF0ZSBpc1RhaWxDcmFkbGVJblZpZXcgPSB0cnVlXG5cbiAgICBwcml2YXRlIGF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcblxuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIpIHsgXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXN0cm9vdGJvdW5kcyA9IGVudHJpZXNbMF0ucm9vdEJvdW5kc1xuICAgICAgICBpZiAoKHRlc3Ryb290Ym91bmRzLndpZHRoID09IDApICYmICh0ZXN0cm9vdGJvdW5kcy5oZWlnaHQgPT0gMCkpIHsgLy8gcmVwYXJlbnRpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLFxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLFxuICAgICAgICAgICAgc2Nyb2xsSGFuZGxlcixcbiAgICAgICAgICAgIGxheW91dEhhbmRsZXIsXG4gICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsRGF0YSB9ID0gc2Nyb2xsSGFuZGxlclxuXG4gICAgICAgICAgICBzY3JvbGxEYXRhLnByZXZpb3VzdXBkYXRlID0gc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlXG4gICAgICAgICAgICBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUgPSBzY3JvbGxEYXRhLmN1cnJlbnRcblxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHsgXG5cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiwgXG5cbiAgICAgICAgICAgIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIHRyaWdnZXJIaXN0b3J5UmVmLFxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgICAgICBzaXplOmxpc3RzaXplLFxuICAgICAgICAgICAgICAgIHJvd3NoaWZ0LFxuXG4gICAgICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxXaWR0aFxuXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydExlbmd0aCA9IFxuICAgICAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoXG5cbiAgICAgICAgICAgIC8vIGZvciBicm93c2VyIHRvcCBvciBib3R0b20gYm91bmNlXG4gICAgICAgICAgICAvLyBmcmFjdGlvbmFsIHBpeGVscyBjYW4gY2F1c2UgdGhpcyB0byBmYWlsLCBoZW5jZSBNYXRoLmZsb29yKVxuXG4gICAgICAgICAgICBpZiAoIChzY3JvbGxQb3MgPj0gMCkgfHwgKE1hdGguZmxvb3Ioc2Nyb2xsUG9zICsgdmlld3BvcnRMZW5ndGgpIDw9IGNvbnRlbnRMZW5ndGgpKSB7IFxuXG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRCb3VuZGluZ1JlY3QgPSB2aWV3cG9ydEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgICAgICAgICAgICAgIGNvbnN0IFtzaGlmdGluc3RydWN0aW9uLCB0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvc10gPSBnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcklEOiBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLnNjcm9sbGVySUQsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VybGluZUVudHJpZXM6ZW50cmllcyxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcmxpbmVTcGFuOiBsYXlvdXRIYW5kbGVyLnRyaWdnZXJsaW5lU3BhbixcblxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZzpsYXlvdXRIYW5kbGVyLnRyaWdnZXJjZWxsSXNJblRhaWwsXG5cbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRCb3VuZGluZ1JlY3QsIC8vIFNhZmFyaSBkb2Vzbid0IGNvcnJlY3RseSBtZWFzdXJlIHpvb20gZm9yIHJvb3Rib3VuZHMgaW4gdHJpZ2dlcmxpbmVFbnRyaWVzXG5cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckhpc3RvcnlSZWYsXG5cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzdGFpbHdhcmQnKSB7IC8vIGZpbHRlciBvdXQgb3ZlcnNpemUgbGFzdCByb3dcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGlzdFJvd09mZnNldCA9IE1hdGguY2VpbChsaXN0c2l6ZS9jcm9zc2NvdW50KSAtIDEgKyByb3dzaGlmdFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWxjb250ZW50bGlzdCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCA9ICh0YWlsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQXhpc1Jvd09mZnNldCA9IE1hdGguY2VpbChwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleC9jcm9zc2NvdW50KVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0TGlzdFJvd09mZnNldCA9PSBwcmV2aW91c0F4aXNSb3dPZmZzZXQpIHJldHVyblxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm9uZSA9PSBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24gIT0gJ25vbmUnKSB7IFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hpZnRpbnN0cnVjdGlvbiA9IHNoaWZ0aW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvcyA9IHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zXG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdyZW5kZXJ1cGRhdGVkY29udGVudCcpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGEgdHJhbnNmZXIgdG8gdXBkYXRlQ3JhZGxlQ29udGVudCB0cmlnZ2VyZWQgYnkgY2xvc2luZyBheGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayBzZXRDcmFkbGVTdGF0ZSBjYWxsXG4gICAgc2hpZnRpbnN0cnVjdGlvblxuICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zXG5cbiAgICBwcml2YXRlIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNcbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLCBcbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIsIFxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlciBcblxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcgPSB0cnVlIC8vIGV4cGVyaW1lbnRhbFxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgc2Nyb2xsZXJJRCwgXG4gICAgICAgICAgICBsYXlvdXQgXG5cbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbaV1cbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC50eXBlID09ICdoZWFkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gKFxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVGFpbENyYWRsZUluVmlldyA9IChcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgKChlbnRyeS5yb290Qm91bmRzLndpZHRoID09IDApICYmIChlbnRyeS5yb290Qm91bmRzLmhlaWdodCA9PSAwKSkgLy8gcmVwYXJlbnRpbmdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gKCEodGhpcy5pc0hlYWRDcmFkbGVJblZpZXcpICYmICEodGhpcy5pc1RhaWxDcmFkbGVJblZpZXcpKVxuXG4gICAgICAgIGNvbnN0IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKHRoaXMuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQpIC8vIHN0YXJ0IHJlcG9zaXRpb24gaWYgbm8gb3RoZXIgaW50ZXJydXB0cyBhcmUgdW5kZXJ3YXlcbiAgICAgICAge1xuXG4gICAgICAgICAgICB0aGlzLmlzSGVhZENyYWRsZUluVmlldyA9IHRoaXMuaXNUYWlsQ3JhZGxlSW5WaWV3ID0gdHJ1ZVxuXG4gICAgICAgICAgICBjb25zdCBjcmFkbGVTdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIGlmIChcblxuICAgICAgICAgICAgICAgICAgICAhWydyZXBvc2l0aW9uaW5nUmVuZGVyJywnZmluaXNocmVwb3NpdGlvbicsLy8ncmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbicsJ2ZpbmlzaHJlcG9zaXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JlbmRlcnVwZGF0ZWRjb250ZW50JywnZmluaXNodXBkYXRlZGNvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbmlzaHZpZXdwb3J0cmVzaXplJ10uaW5jbHVkZXMoY3JhZGxlU3RhdGUpICYmXG5cbiAgICAgICAgICAgICAgICAgICAgIVZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuaXNSZXNpemluZ1xuXG4gICAgICAgICAgICAgICAgKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3cG9ydEVsZW1lbnQpIHsgLy8gZGVmZW5zaXZlOyBzaG91bGRuJ3QgaGFwcGVuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTWVNURU06IHZpZXdwb3J0IGVsZW1lbnQgbm90IHNldCBpbiBjcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrIChzY3JvbGxlcklEKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcklELFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkaW1lbnNpb25zIHdpdGggY3JhZGxlIGludGVyc2VjdGlvbi4gU2VlIGFsc28gZGltZW5zaW9uIHVwZGF0ZSBpbiB2aWV3cG9ydC50c3ggZm9yIHJlc2l6ZVxuICAgICAgICAgICAgICAgIC8vIGFuZCBnZXRWaWV3cG9ydERpbWVuc2lvbnMgaW4gQ3JhZGxlIGZvciB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgICAgICAvLyBjb25zdCByZWN0ID0gdmlld3BvcnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfSA9IHJlY3RcbiAgICAgICAgICAgICAgICAvLyBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdCwgaGVpZ2h0ID0gYm90dG9tIC0gdG9wXG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZm9yIHNjcm9sbHRyYWNrZXJcbiAgICAgICAgICAgICAgICAvLyBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLnZpZXdwb3J0RGltZW5zaW9ucyA9IHt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIHdpZHRoLCBoZWlnaHR9IFxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcbiAgICAgICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrICYmIHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2sodHJ1ZSlcblxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT0gJ3ZhcmlhYmxlJykgeyAvLyByZXN0b3JlIGJhc2UgY29uZmlnIHRvIHNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5yZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnKClcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGFuZGxlci5jYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhKCdyZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnJylcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cmVwb3NpdGlvbicpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gZmFsc2VcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICBwdWJsaWMgY3JhZGxlSW50ZXJzZWN0ID0geyAgICBcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCwgICAgXG4gICAgICAgIGNhbGxiYWNrOnRoaXMuY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayxcbiAgICAgICAgZGlzY29ubmVjdGVkOnRydWUsXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3JhZGxlSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5sYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudClcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3QuZGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdDooKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LCB0aHJlc2hvbGQ6MH1cbiAgICAgICAgICAgICkgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgfVxuICAgIH1cblxuICAgcHVibGljIHRyaWdnZXJsaW5lc0ludGVyc2VjdCA9IHtcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCxcbiAgICAgICAgY2FsbGJhY2s6dGhpcy5heGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayxcbiAgICAgICAgZGlzY29ubmVjdGVkOnRydWUsXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5sYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBpZiAoY3JhZGxlRWxlbWVudHMudHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VybGluZXNJbnRlcnNlY3QuZGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdDooKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LCB0aHJlc2hvbGQ6MH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNpZ25hbHMgPSB7XG4gICAgICAgIHJlcG9zaXRpb25pbmdSZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXI6IGZhbHNlLCBcbiAgICAgICAgcGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcjpmYWxzZSxcbiAgICAgICAgcGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcjogZmFsc2UsXG4gICAgICAgIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgaW52b2tlZCBmb3IgXG4gICAgICAgIGNyYWRsZTpcbiAgICAgICAgLSBjaGFuZ2UgaW50byBjYWNoZVxuICAgICAgICAtIHRyaWdnZXIgY3JhZGxlcmVzaXppbmdcbiAgICAgICAgLSB0cmlnZ2VyIHJlY29uZmlndXJhdGlvblxuICAgICAgICAtIHRyaWdnZXIgcGl2b3RcbiAgICAgICAgc2VydmljZWhhbmRsZXI6XG4gICAgICAgIC0gY2FsbCByZWxvYWRcbiAgICAqL1xuICAgIHB1YmxpYyBwYXVzZUludGVycnVwdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gdGhpc1xuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcbiAgICB9XG4gICAgLypcbiAgICAgICAgaW52b2tlZCBmb3JcbiAgICAgICAgY3JhZGxlOlxuICAgICAgICAtIHJlc3RvcmVpbnRlcnJ1cHRzXG4gICAgKi9cbiAgICBwdWJsaWMgcmVzdG9yZUludGVycnVwdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gdGhpc1xuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IGZhbHNlXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsImkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnIiLCJpc0FycmF5IiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl90b1Byb3BlcnR5S2V5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJOdW1iZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsImNvbnRlbnRmdW5jdGlvbnNfMSIsInJlcXVpcmUiLCJJbnRlcnJ1cHRIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwiaXNIZWFkQ3JhZGxlSW5WaWV3IiwiaXNUYWlsQ3JhZGxlSW5WaWV3IiwiYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2siLCJlbnRyaWVzIiwic2lnbmFscyIsInBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIiLCJ0ZXN0cm9vdGJvdW5kcyIsInJvb3RCb3VuZHMiLCJ3aWR0aCIsImhlaWdodCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlciIsImhhbmRsZXJzUmVmIiwiY3VycmVudCIsImNvbnRlbnRIYW5kbGVyIiwic3RhdGVIYW5kbGVyIiwic2Nyb2xsSGFuZGxlciIsImxheW91dEhhbmRsZXIiLCJpc01vdW50ZWRSZWYiLCJzY3JvbGxEYXRhIiwicHJldmlvdXN1cGRhdGUiLCJjdXJyZW50dXBkYXRlIiwidmlld3BvcnRFbGVtZW50IiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZiIsImVsZW1lbnRSZWYiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsIm9yaWVudGF0aW9uIiwidHJpZ2dlckhpc3RvcnlSZWYiLCJ2aXJ0dWFsTGlzdFByb3BzIiwiY3Jvc3Njb3VudCIsImxpc3RzaXplIiwic2l6ZSIsInJvd3NoaWZ0Iiwic2Nyb2xsUG9zIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImNvbnRlbnRMZW5ndGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCIsInZpZXdwb3J0TGVuZ3RoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJNYXRoIiwiZmxvb3IiLCJ2aWV3cG9ydEJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIl9yZWYiLCJnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24iLCJzY3JvbGxlcklEIiwidHJpZ2dlcmxpbmVFbnRyaWVzIiwidHJpZ2dlcmxpbmVTcGFuIiwiaXNGaXJzdFJvd1RyaWdnZXJDb25maWciLCJ0cmlnZ2VyY2VsbElzSW5UYWlsIiwiX3JlZjIiLCJzaGlmdGluc3RydWN0aW9uIiwidHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MiLCJsYXN0TGlzdFJvd09mZnNldCIsImNlaWwiLCJ0YWlsY29udGVudGxpc3QiLCJjb250ZW50IiwidGFpbE1vZGVsQ29tcG9uZW50cyIsInByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4IiwiX2EiLCJpbmRleCIsInByZXZpb3VzQXhpc1Jvd09mZnNldCIsInNldENyYWRsZVN0YXRlIiwiY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJzZXJ2aWNlSGFuZGxlciIsInBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIzIiwibGF5b3V0IiwiZW50cnkiLCJkYXRhc2V0IiwidHlwZSIsImlzSW50ZXJzZWN0aW5nIiwicmVwb3NpdGlvbmluZ1JlcXVpcmVkIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsImNyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJpbmNsdWRlcyIsImlzUmVzaXppbmciLCJjb25zb2xlIiwibG9nIiwicmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayIsImNhbGxiYWNrcyIsInJlc3RvcmVCYXNlU2Nyb2xsYmxvY2tDb25maWciLCJjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhIiwiY3JhZGxlSW50ZXJzZWN0Iiwib2JzZXJ2ZXIiLCJjYWxsYmFjayIsImRpc2Nvbm5lY3RlZCIsImNvbm5lY3RFbGVtZW50cyIsImNyYWRsZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJvYnNlcnZlIiwiaGVhZFJlZiIsInRhaWxSZWYiLCJkaXNjb25uZWN0IiwiY3JlYXRlT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJvb3QiLCJ0aHJlc2hvbGQiLCJ0cmlnZ2VybGluZXNJbnRlcnNlY3QiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFJlZiIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmIiwicGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlciIsInBhdXNlU2Nyb2xsaW5nRWZmZWN0cyIsInBhdXNlSW50ZXJydXB0cyIsInJlc3RvcmVJbnRlcnJ1cHRzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/interrupthandler.tsx\n')},"./src/cradle/layouthandler.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\n// layouthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module holds references to\n    - the structural elements of the cradle\n    - the key control values of the cradle\n\n    The structural elements are the axis, head (grid), tail (grid),\n        and the head and tail triggerlines\n    The key control values are the blockScrollPos & blockXScrollPos (scrollTop or scrollLeft), the block scroll\n        property ("scrollTop" or "scrollLeft"), the targetAxisReferencePosition (first index of the\n        tail block), and the targetAxisViewportPixelOffset (pixels offset from the edge of the\n        viewport)\n*/\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ../InfiniteGridScroller */ "./src/InfiniteGridScroller.tsx");\nvar LayoutHandler = /*#__PURE__*/function () {\n  function LayoutHandler(cradleParameters) {\n    var _this = this;\n    _classCallCheck(this, LayoutHandler);\n    // cradlePositionData controls the relative positions of the scaffold elements\n    this.cradlePositionData = {\n      /*\n          "block" = cradleblock, which is the element that is scrolled\n               blockScrollPos is set by scrollHandler during and after scrolling,\n          and by setCradleContent in contentHandler, which repositions the cradle.\n               blockScrollPos is used by\n              - cradle initialization in response to reparenting interrupt\n              - setCradleContent\n           */\n      blockScrollPos: null,\n      blockXScrollPos: null,\n      /*\n          values can be "scrollTop" or "scrollLeft" (of the viewport element) depending on orientation\n               blockScrollProperty is set by the orientation reconfiguration effect in cradle module.\n               it is used where blockScrollPos is used above.\n      */\n      blockScrollProperty: null,\n      blockXScrollProperty: null,\n      /*\n          targetAxisReferencePosition is set by\n              - setCradleContent\n              - updateCradleContent\n              - layoutHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - host scrollToIndex call\n               targetAxisReferencePosition is used by\n              - scrollTrackerArgs in cradle module\n              - requestedAxisReferenceIndex in setCradleContent\n      */\n      targetAxisReferencePosition: null,\n      /*\n          targetAxisViewportPixelOffset is set by\n              - setCradleContent\n              - updateCradleContent\n              - layoutHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - pivot effect (change of orientation) in cradle module\n               targetAxisViewportPixelOffset is used by\n              - previousAxisOffset in pivot effect\n              - setCradleContent\n           */\n      targetAxisViewportPixelOffset: null // pixels into the viewport\n    };\n    // called by interruptHandler\n    this.restoreBaseScrollblockConfig = function () {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n      var viewportElement = ViewportContextProperties.elementRef.current;\n      var scrollblockElement = viewportElement.firstChild;\n      var _this$cradleParameter = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        orientation = _this$cradleParameter.orientation,\n        padding = _this$cradleParameter.padding,\n        gap = _this$cradleParameter.gap,\n        cellHeight = _this$cradleParameter.cellHeight,\n        cellWidth = _this$cradleParameter.cellWidth;\n      var _this$cradleParameter2 = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,\n        listRowcount = _this$cradleParameter2.rowcount,\n        crosscount = _this$cradleParameter2.crosscount;\n      var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n        scrollHandler = _this$cradleParameter3.scrollHandler,\n        layoutHandler = _this$cradleParameter3.layoutHandler;\n      var cellLength = (orientation == \'vertical\' ? cellHeight : cellWidth) + gap;\n      var baselength = listRowcount * cellLength - gap // final cell has no trailing gap\n      + padding * 2; // leading and trailing padding\n      if (orientation == \'vertical\') {\n        scrollblockElement.style.top = null;\n        scrollblockElement.style.height = baselength + \'px\';\n      } else {\n        scrollblockElement.style.left = null;\n        scrollblockElement.style.width = baselength + \'px\';\n      }\n      var cradlePositionData = layoutHandler.cradlePositionData;\n      var axisReferencePosition = cradlePositionData.targetAxisReferencePosition;\n      var rowReferencePosition = Math.ceil(axisReferencePosition / crosscount);\n      var calculatedBlockScrollPos = rowReferencePosition * cellLength + padding;\n      if ((0, InfiniteGridScroller_1.isSafariIOS)()) {\n        // scrollPos overwritten by Safari iOS momentum engine\n        var originalScrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n        var scrollShift = calculatedBlockScrollPos - originalScrollPos;\n        if (orientation == \'vertical\') {\n          scrollblockElement.style.top = scrollShift;\n        } else {\n          scrollblockElement.style.left = scrollShift;\n        }\n      } else {\n        viewportElement[cradlePositionData.blockScrollProperty] = calculatedBlockScrollPos;\n      }\n      cradlePositionData.blockScrollPos = calculatedBlockScrollPos;\n      scrollHandler.resetScrollData(calculatedBlockScrollPos);\n    };\n    this.cradleParameters = cradleParameters;\n    var _cradleParameters$cra = cradleParameters.cradleInternalPropertiesRef.current.cradleElementsRef.current,\n      axisRef = _cradleParameters$cra.axisRef,\n      headRef = _cradleParameters$cra.headRef,\n      tailRef = _cradleParameters$cra.tailRef,\n      triggercellTriggerlineHeadRef = _cradleParameters$cra.triggercellTriggerlineHeadRef,\n      triggercellTriggerlineTailRef = _cradleParameters$cra.triggercellTriggerlineTailRef;\n    this.elements = {\n      axisRef: axisRef,\n      headRef: headRef,\n      tailRef: tailRef,\n      triggercellTriggerlineHeadRef: triggercellTriggerlineHeadRef,\n      triggercellTriggerlineTailRef: triggercellTriggerlineTailRef\n    };\n    var startingIndex = this.cradleParameters.cradleInheritedPropertiesRef.current.startingIndex;\n    var virtualListProps = this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var listsize = virtualListProps.size,\n      lowindex = virtualListProps.lowindex,\n      highindex = virtualListProps.highindex;\n    if (listsize) {\n      startingIndex = Math.max(startingIndex, lowindex);\n      startingIndex = Math.min(startingIndex, highindex);\n      this.cradlePositionData.targetAxisReferencePosition = startingIndex - lowindex;\n    } else {\n      this.cradlePositionData.targetAxisReferencePosition = 0;\n    }\n    this.cradlePositionData.targetAxisViewportPixelOffset = 0;\n  }\n  _createClass(LayoutHandler, [{\n    key: "scrollerID",\n    get: function get() {\n      return this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID;\n    }\n  }, {\n    key: "triggerlineSpan",\n    get: function get() {\n      var orientation = this.cradleParameters.cradleInheritedPropertiesRef.current.orientation;\n      var span = orientation == \'vertical\' ? this.elements.triggercellTriggerlineTailRef.current.offsetTop - this.elements.triggercellTriggerlineHeadRef.current.offsetTop :\n      // horizontal\n      this.elements.triggercellTriggerlineTailRef.current.offsetLeft - this.elements.triggercellTriggerlineHeadRef.current.offsetLeft;\n      return span;\n    }\n  }]);\n  return LayoutHandler;\n}();\nexports["default"] = LayoutHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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M0QsSUFBSSxDQUFDTCxrQkFBa0IsQ0FBQ00sNkJBQTZCLEdBQUcsQ0FBQztFQUU3RDtFQUFDekIsWUFBQSxDQUFBZ0IsYUFBQTtJQUFBakIsR0FBQTtJQUFBcUYsR0FBQSxFQUVELFNBQUFBLElBQUEsRUFBcUI7TUFDakIsT0FBTyxJQUFJLENBQUNuRSxnQkFBZ0IsQ0FBQ2tCLDRCQUE0QixDQUFDTixPQUFPLENBQUN3RCxVQUFVO0lBQ2hGO0VBQUM7SUFBQXRGLEdBQUE7SUFBQXFGLEdBQUEsRUFJRCxTQUFBQSxJQUFBLEVBQTBCO01BRXRCLElBQ0loRCxXQUFXLEdBRVgsSUFBSSxDQUFDbkIsZ0JBQWdCLENBQUNrQiw0QkFBNEIsQ0FBQ04sT0FBTyxDQUYxRE8sV0FBVztNQUlmLElBQU1rRCxJQUFJLEdBQUlsRCxXQUFXLElBQUksVUFBVSxHQUNuQyxJQUFJLENBQUN3QyxRQUFRLENBQUNELDZCQUE2QixDQUFDOUMsT0FBTyxDQUFDMEQsU0FBUyxHQUM3RCxJQUFJLENBQUNYLFFBQVEsQ0FBQ0YsNkJBQTZCLENBQUM3QyxPQUFPLENBQUMwRCxTQUFTO01BQzdEO01BQ0EsSUFBSSxDQUFDWCxRQUFRLENBQUNELDZCQUE2QixDQUFDOUMsT0FBTyxDQUFDMkQsVUFBVSxHQUM5RCxJQUFJLENBQUNaLFFBQVEsQ0FBQ0YsNkJBQTZCLENBQUM3QyxPQUFPLENBQUMyRCxVQUFVO01BRWxFLE9BQU9GLElBQUk7SUFDZjtFQUFDO0VBQUEsT0FBQXRFLGFBQUE7QUFBQTtBQTlFTHlFLGtCQUFBLEdBQUF6RSxhQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvbGF5b3V0aGFuZGxlci50c3g/MDdiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsYXlvdXRoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBob2xkcyByZWZlcmVuY2VzIHRvIFxuICAgIC0gdGhlIHN0cnVjdHVyYWwgZWxlbWVudHMgb2YgdGhlIGNyYWRsZVxuICAgIC0gdGhlIGtleSBjb250cm9sIHZhbHVlcyBvZiB0aGUgY3JhZGxlXG5cbiAgICBUaGUgc3RydWN0dXJhbCBlbGVtZW50cyBhcmUgdGhlIGF4aXMsIGhlYWQgKGdyaWQpLCB0YWlsIChncmlkKSwgXG4gICAgICAgIGFuZCB0aGUgaGVhZCBhbmQgdGFpbCB0cmlnZ2VybGluZXNcbiAgICBUaGUga2V5IGNvbnRyb2wgdmFsdWVzIGFyZSB0aGUgYmxvY2tTY3JvbGxQb3MgJiBibG9ja1hTY3JvbGxQb3MgKHNjcm9sbFRvcCBvciBzY3JvbGxMZWZ0KSwgdGhlIGJsb2NrIHNjcm9sbFxuICAgICAgICBwcm9wZXJ0eSAoXCJzY3JvbGxUb3BcIiBvciBcInNjcm9sbExlZnRcIiksIHRoZSB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gKGZpcnN0IGluZGV4IG9mIHRoZVxuICAgICAgICB0YWlsIGJsb2NrKSwgYW5kIHRoZSB0YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCAocGl4ZWxzIG9mZnNldCBmcm9tIHRoZSBlZGdlIG9mIHRoZSBcbiAgICAgICAgdmlld3BvcnQpXG4qL1xuXG5pbXBvcnQgeyBpc1NhZmFyaUlPUyB9IGZyb20gJy4uL0luZmluaXRlR3JpZFNjcm9sbGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXRIYW5kbGVyIHsgXG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgYXhpc1JlZiwgXG4gICAgICAgICAgICBoZWFkUmVmLCBcbiAgICAgICAgICAgIHRhaWxSZWYsXG4gICAgICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFJlZixcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmLFxuXG4gICAgICAgIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LmNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7XG5cbiAgICAgICAgICAgIGF4aXNSZWYsXG4gICAgICAgICAgICBoZWFkUmVmLFxuICAgICAgICAgICAgdGFpbFJlZixcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLFxuICAgICAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQge1xuXG4gICAgICAgICAgICBzdGFydGluZ0luZGV4LCBcbiAgICAgICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IHZpcnR1YWxMaXN0UHJvcHMgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHsgXG5cbiAgICAgICAgICAgIHNpemU6bGlzdHNpemUsXG4gICAgICAgICAgICBsb3dpbmRleCxcbiAgICAgICAgICAgIGhpZ2hpbmRleCxcblxuICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGlmIChsaXN0c2l6ZSkge1xuXG4gICAgICAgICAgICBzdGFydGluZ0luZGV4ID0gTWF0aC5tYXgoc3RhcnRpbmdJbmRleCwgbG93aW5kZXgpXG4gICAgICAgICAgICBzdGFydGluZ0luZGV4ID0gTWF0aC5taW4oc3RhcnRpbmdJbmRleCwgaGlnaGluZGV4KVxuXG4gICAgICAgICAgICB0aGlzLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBzdGFydGluZ0luZGV4IC0gbG93aW5kZXhcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSAwXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IDBcblxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2Nyb2xsZXJJRCgpIHsgLy8gZm9yIGRlYnVnXG4gICAgICAgIHJldHVybiB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LnNjcm9sbGVySURcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBnZXQgdHJpZ2dlcmxpbmVTcGFuKCkge1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBzcGFuID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy50cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFJlZi5jdXJyZW50Lm9mZnNldFRvcCAtIFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy50cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFJlZi5jdXJyZW50Lm9mZnNldFRvcDpcbiAgICAgICAgICAgIC8vIGhvcml6b250YWxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMudHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYuY3VycmVudC5vZmZzZXRMZWZ0IC0gXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLmN1cnJlbnQub2Zmc2V0TGVmdFxuXG4gICAgICAgIHJldHVybiBzcGFuXG4gICAgfVxuXG4gICAgcHVibGljIHRyaWdnZXJjZWxsSW5kZXhcbiAgICBwdWJsaWMgdHJpZ2dlcmNlbGxJc0luVGFpbCAvLyA9IGZhbHNlXG5cbiAgICAvLyBjcmFkbGVQb3NpdGlvbkRhdGEgY29udHJvbHMgdGhlIHJlbGF0aXZlIHBvc2l0aW9ucyBvZiB0aGUgc2NhZmZvbGQgZWxlbWVudHNcbiAgICBwdWJsaWMgY3JhZGxlUG9zaXRpb25EYXRhID0ge1xuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBcImJsb2NrXCIgPSBjcmFkbGVibG9jaywgd2hpY2ggaXMgdGhlIGVsZW1lbnQgdGhhdCBpcyBzY3JvbGxlZFxuXG4gICAgICAgICAgICBibG9ja1Njcm9sbFBvcyBpcyBzZXQgYnkgc2Nyb2xsSGFuZGxlciBkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbGluZyxcbiAgICAgICAgICAgIGFuZCBieSBzZXRDcmFkbGVDb250ZW50IGluIGNvbnRlbnRIYW5kbGVyLCB3aGljaCByZXBvc2l0aW9ucyB0aGUgY3JhZGxlLlxuXG4gICAgICAgICAgICBibG9ja1Njcm9sbFBvcyBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBjcmFkbGUgaW5pdGlhbGl6YXRpb24gaW4gcmVzcG9uc2UgdG8gcmVwYXJlbnRpbmcgaW50ZXJydXB0XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG5cbiAgICAgICAgKi9cbiAgICAgICAgYmxvY2tTY3JvbGxQb3M6bnVsbCwgLy8gdGhlIGVkZ2Ugb2YgdGhlIHZpZXdwb3J0XG4gICAgICAgIGJsb2NrWFNjcm9sbFBvczpudWxsLCAvLyB0aGUgY3Jvc3MgcG9zaXRpb24gZm9yIG92ZXJzaXplZCBzY3JvbGxCbG9ja1xuXG4gICAgICAgIC8qXG4gICAgICAgICAgICB2YWx1ZXMgY2FuIGJlIFwic2Nyb2xsVG9wXCIgb3IgXCJzY3JvbGxMZWZ0XCIgKG9mIHRoZSB2aWV3cG9ydCBlbGVtZW50KSBkZXBlbmRpbmcgb24gb3JpZW50YXRpb25cblxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQcm9wZXJ0eSBpcyBzZXQgYnkgdGhlIG9yaWVudGF0aW9uIHJlY29uZmlndXJhdGlvbiBlZmZlY3QgaW4gY3JhZGxlIG1vZHVsZS5cblxuICAgICAgICAgICAgaXQgaXMgdXNlZCB3aGVyZSBibG9ja1Njcm9sbFBvcyBpcyB1c2VkIGFib3ZlLlxuICAgICAgICAqL1xuICAgICAgICBibG9ja1Njcm9sbFByb3BlcnR5OiBudWxsLFxuICAgICAgICBibG9ja1hTY3JvbGxQcm9wZXJ0eTogbnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIGlzIHNldCBieVxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gbGF5b3V0SGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIGhvc3Qgc2Nyb2xsVG9JbmRleCBjYWxsXG5cbiAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBzY3JvbGxUcmFja2VyQXJncyBpbiBjcmFkbGUgbW9kdWxlXG4gICAgICAgICAgICAgICAgLSByZXF1ZXN0ZWRBeGlzUmVmZXJlbmNlSW5kZXggaW4gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAqL1xuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb246bnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgaXMgc2V0IGJ5XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG4gICAgICAgICAgICAgICAgLSB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgICAgICAgICAgICAgLSBsYXlvdXRIYW5kbGVyIChpbml0aWFsaXphdGlvbilcbiAgICAgICAgICAgICAgICAtIHNjcm9sbEhhbmRsZXIgKGR1cmluZyBhbmQgYWZ0ZXIgc2Nyb2xsKVxuICAgICAgICAgICAgICAgIC0gcGl2b3QgZWZmZWN0IChjaGFuZ2Ugb2Ygb3JpZW50YXRpb24pIGluIGNyYWRsZSBtb2R1bGVcblxuICAgICAgICAgICAgdGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgaXMgdXNlZCBieVxuICAgICAgICAgICAgICAgIC0gcHJldmlvdXNBeGlzT2Zmc2V0IGluIHBpdm90IGVmZmVjdFxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuXG4gICAgICAgICovXG4gICAgICAgIHRhcmdldEF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0Om51bGwsIC8vIHBpeGVscyBpbnRvIHRoZSB2aWV3cG9ydFxuXG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGJ5IGludGVycnVwdEhhbmRsZXJcbiAgICBwdWJsaWMgcmVzdG9yZUJhc2VTY3JvbGxibG9ja0NvbmZpZyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZFxuXG4gICAgICAgIGNvbnN0IHsgXG5cbiAgICAgICAgICAgIC8vIHNjcm9sbGVySUQsIFxuICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgcGFkZGluZywgXG4gICAgICAgICAgICBnYXAsXG4gICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICAgICAgLy8gbGF5b3V0IFxuXG4gICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcm93Y291bnQ6bGlzdFJvd2NvdW50LFxuICAgICAgICAgICAgY3Jvc3Njb3VudCxcbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgLy8gc3RhdGVIYW5kbGVyLCBcbiAgICAgICAgICAgIC8vIHNlcnZpY2VIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIsIFxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlciBcblxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjZWxsTGVuZ3RoID0gXG4gICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoKVxuICAgICAgICAgICAgKyBnYXBcblxuICAgICAgICBjb25zdCBiYXNlbGVuZ3RoID0gKGxpc3RSb3djb3VudCAqIGNlbGxMZW5ndGgpIC0gZ2FwIC8vIGZpbmFsIGNlbGwgaGFzIG5vIHRyYWlsaW5nIGdhcFxuICAgICAgICAgICAgKyAocGFkZGluZyAqIDIpIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHBhZGRpbmdcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gbnVsbFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmhlaWdodCA9IGJhc2VsZW5ndGggKyAncHgnXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUud2lkdGggPSBiYXNlbGVuZ3RoICsgJ3B4J1xuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuICAgICAgICBjb25zdCBheGlzUmVmZXJlbmNlUG9zaXRpb24gPSBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHJvd1JlZmVyZW5jZVBvc2l0aW9uID0gTWF0aC5jZWlsKGF4aXNSZWZlcmVuY2VQb3NpdGlvbi9jcm9zc2NvdW50KVxuICAgICAgICBjb25zdCBjYWxjdWxhdGVkQmxvY2tTY3JvbGxQb3MgPSBcbiAgICAgICAgICAgIChyb3dSZWZlcmVuY2VQb3NpdGlvbiAqIGNlbGxMZW5ndGgpICsgcGFkZGluZ1xuXG5cbiAgICAgICAgaWYgKGlzU2FmYXJpSU9TKCkpIHsgLy8gc2Nyb2xsUG9zIG92ZXJ3cml0dGVuIGJ5IFNhZmFyaSBpT1MgbW9tZW50dW0gZW5naW5lXG5cbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2Nyb2xsUG9zID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxTaGlmdCA9IGNhbGN1bGF0ZWRCbG9ja1Njcm9sbFBvcyAtIG9yaWdpbmFsU2Nyb2xsUG9zXG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gc2Nyb2xsU2hpZnRcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5sZWZ0ID0gc2Nyb2xsU2hpZnRcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50W2NyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5XSA9IGNhbGN1bGF0ZWRCbG9ja1Njcm9sbFBvc1xuXG4gICAgICAgIH1cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUG9zID0gY2FsY3VsYXRlZEJsb2NrU2Nyb2xsUG9zXG4gICAgICAgIHNjcm9sbEhhbmRsZXIucmVzZXRTY3JvbGxEYXRhKGNhbGN1bGF0ZWRCbG9ja1Njcm9sbFBvcylcblxuICAgIH1cblxuICAgIHB1YmxpYyBlbGVtZW50c1xuXG59XG5cbiJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl90b1Byb3BlcnR5S2V5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIk51bWJlciIsIkluZmluaXRlR3JpZFNjcm9sbGVyXzEiLCJyZXF1aXJlIiwiTGF5b3V0SGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImJsb2NrU2Nyb2xsUG9zIiwiYmxvY2tYU2Nyb2xsUG9zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsImJsb2NrWFNjcm9sbFByb3BlcnR5IiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwidGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJyZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJjdXJyZW50Iiwidmlld3BvcnRFbGVtZW50IiwiZWxlbWVudFJlZiIsInNjcm9sbGJsb2NrRWxlbWVudCIsImZpcnN0Q2hpbGQiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwib3JpZW50YXRpb24iLCJwYWRkaW5nIiwiZ2FwIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJ2aXJ0dWFsTGlzdFByb3BzIiwibGlzdFJvd2NvdW50Iiwicm93Y291bnQiLCJjcm9zc2NvdW50IiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyMyIsImhhbmRsZXJzUmVmIiwic2Nyb2xsSGFuZGxlciIsImxheW91dEhhbmRsZXIiLCJjZWxsTGVuZ3RoIiwiYmFzZWxlbmd0aCIsInN0eWxlIiwidG9wIiwiaGVpZ2h0IiwibGVmdCIsIndpZHRoIiwiYXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwicm93UmVmZXJlbmNlUG9zaXRpb24iLCJNYXRoIiwiY2VpbCIsImNhbGN1bGF0ZWRCbG9ja1Njcm9sbFBvcyIsImlzU2FmYXJpSU9TIiwib3JpZ2luYWxTY3JvbGxQb3MiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsU2hpZnQiLCJyZXNldFNjcm9sbERhdGEiLCJfY3JhZGxlUGFyYW1ldGVycyRjcmEiLCJjcmFkbGVFbGVtZW50c1JlZiIsImF4aXNSZWYiLCJoZWFkUmVmIiwidGFpbFJlZiIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYiLCJlbGVtZW50cyIsInN0YXJ0aW5nSW5kZXgiLCJsaXN0c2l6ZSIsInNpemUiLCJsb3dpbmRleCIsImhpZ2hpbmRleCIsIm1heCIsIm1pbiIsImdldCIsInNjcm9sbGVySUQiLCJzcGFuIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/layouthandler.tsx\n')},"./src/cradle/scrollhandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval("\n\n// scrollhandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module holds the response to scrolling. It also triggers an onAfterScroll event (after a timeout)\n    It's main job is to maintain records of scrollPos, targetAxisReferencePosition, and\n        targetAxisViewportPixelOffset\n*/\nvar ScrollHandler = /*#__PURE__*/_createClass(function ScrollHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, ScrollHandler);\n  this._isIOSscrolling = false;\n  this.iOSonScroll = function () {\n    var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n    if (signals.pauseScrollingEffects) {\n      return;\n    }\n    if (!_this._isIOSscrolling) {\n      _this._isIOSscrolling = true;\n      _this._onIOSonAfterScrollTimeout = 1000; // iOS sometimes likes to pause before commencing scrolling\n      clearTimeout(_this._onIOSonAfterScrollTimeout);\n      _this._iOSsetTimeoutTimerid = setTimeout(function () {\n        _this._onIOSonAfterScrollTimeout = 250; // back to more responsive once underway\n      }, 900);\n    }\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    clearTimeout(_this._iOSscrolltimerid);\n    var orientation = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation;\n    var scrollblockElement = viewportElement.firstChild;\n    var scrollblockLength, viewportLength, blockScrollPos, scrollblockOffset;\n    if (orientation == 'vertical') {\n      scrollblockLength = viewportElement.scrollHeight;\n      viewportLength = viewportElement.offsetHeight;\n      blockScrollPos = viewportElement.scrollTop;\n      scrollblockOffset = scrollblockElement.offsetTop;\n    } else {\n      scrollblockLength = viewportElement.scrollWidth;\n      viewportLength = viewportElement.offsetWidth;\n      blockScrollPos = viewportElement.scrollLeft;\n      scrollblockOffset = scrollblockElement.offsetLeft;\n    }\n    if (blockScrollPos - scrollblockOffset < 0 ||\n    // overshoot start\n    scrollblockLength < blockScrollPos - scrollblockOffset + viewportLength) {\n      // overshoot end\n      _this.iOSonAfterScroll(); // immediate halt and adjust\n    } else {\n      _this._iOSscrolltimerid = setTimeout(function () {\n        _this.iOSonAfterScroll(); // deferred halt and adjust\n      }, _this._onIOSonAfterScrollTimeout);\n    }\n  };\n  this.iOSonAfterScroll = function () {\n    _this._isIOSscrolling = false;\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    var scrollblockElement = viewportElement.firstChild;\n    var orientation = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation;\n    var scrollblockOffset = orientation == 'vertical' ? scrollblockElement.offsetTop : scrollblockElement.offsetLeft;\n    var blockScrollPos = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    viewportElement.style.overflow = 'hidden';\n    if (orientation == 'vertical') {\n      viewportElement.scrollTop = blockScrollPos - scrollblockOffset;\n      scrollblockElement.style.top = null;\n    } else {\n      // orientation == horizontal\n      viewportElement.scrollLeft = blockScrollPos - scrollblockOffset;\n      scrollblockElement.style.left = null;\n    }\n    viewportElement.style.overflow = 'scroll';\n  };\n  this.scrollData = {\n    start: 0,\n    current: 0,\n    previous: 0,\n    previousupdate: 0,\n    currentupdate: 0\n  };\n  this._scrolltimerid = null;\n  this.isScrolling = false;\n  this.resetScrollData = function (scrollPosition) {\n    var scrollData = _this.scrollData;\n    scrollData.start = scrollData.current = scrollData.previous = scrollData.previousupdate = scrollData.currentupdate = scrollPosition;\n  };\n  this.onScroll = function (e) {\n    var _this$cradleParameter = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      scrollerID = _this$cradleParameter.scrollerID,\n      ONAFTERSCROLL_TIMEOUT = _this$cradleParameter.ONAFTERSCROLL_TIMEOUT;\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    // const viewportElement = ViewportContextProperties.elementRef.current\n    var viewportElement = e.currentTarget;\n    var orientation = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation;\n    var scrollPositionCurrent = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    var scrollXPositionCurrent = orientation == 'horizontal' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    clearTimeout(_this._scrolltimerid);\n    if (viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0) {\n      // in cache\n      return;\n    }\n    if (scrollPositionCurrent < 0) {\n      // for Safari\n      return;\n    }\n    var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n    if (signals.pauseScrollingEffects) {\n      return;\n    }\n    if (!_this.isScrolling) {\n      _this.isScrolling = true;\n      _this.scrollData.start = scrollPositionCurrent;\n      _this.scrollData.currentupdate = scrollPositionCurrent;\n    }\n    var layoutHandler = _this.cradleParameters.handlersRef.current.layoutHandler;\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    // keep up to date in case of reparenting interrupt\n    cradlePositionData.blockScrollPos = scrollPositionCurrent;\n    cradlePositionData.blockXScrollPos = scrollXPositionCurrent;\n    _this.scrollData.previous = _this.scrollData.current;\n    _this.scrollData.current = scrollPositionCurrent;\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    var cradleState = stateHandler.cradleStateRef.current;\n    // const { contentHandler, serviceHandler } = this.cradleParameters.handlersRef.current\n    if (!ViewportContextProperties.isResizing) {\n      if (cradleState == 'repositioningRender') {\n        _this.calcImpliedRepositioningData('onScroll');\n      }\n    }\n    _this._scrolltimerid = setTimeout(function () {\n      _this.onAfterScroll();\n    }, ONAFTERSCROLL_TIMEOUT);\n    return false;\n  };\n  this.onAfterScroll = function () {\n    _this.isScrolling = false;\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      contentHandler = _this$cradleParameter2.contentHandler,\n      serviceHandler = _this$cradleParameter2.serviceHandler;\n    // const ViewportContextProperties = this.cradleParameters.ViewportContextPropertiesRef.current,\n    var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var cradleState = stateHandler.cradleStateRef.current;\n    switch (cradleState) {\n      case 'repositioningRender':\n        // case 'repositioningContinuation':\n        {\n          _this.updateBlockScrollPos();\n          var repositioningFlagCallback = serviceHandler.callbacks.repositioningFlagCallback;\n          repositioningFlagCallback && repositioningFlagCallback(false);\n          stateHandler.setCradleState('finishreposition');\n          break;\n        }\n      default:\n        {\n          if (_this.scrollData.start != _this.scrollData.current || _this.scrollData.current != _this.scrollData.previous) {\n            if (stateHandler.isMountedRef.current) {\n              _this.updateReferenceData();\n            }\n          }\n          break;\n        }\n    }\n    var cache = cradleInheritedProperties.cache;\n    if (cache == 'keepload') {\n      contentHandler.pareCacheToMax();\n    }\n  };\n  // after scroll, but not after repositioning\n  this.updateReferenceData = function () {\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter3.stateHandler,\n      layoutHandler = _this$cradleParameter3.layoutHandler;\n    var cradleSpecs = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    if (!stateHandler.isMountedRef.current) return;\n    var cradleElements = layoutHandler.elements;\n    var axisElement = cradleElements.axisRef.current,\n      viewportElement = ViewportContextProperties.elementRef.current,\n      scrollblockElement = viewportElement.firstChild;\n    var axisViewportPixelOffset;\n    if (cradleSpecs.orientation == 'vertical') {\n      axisViewportPixelOffset = axisElement.offsetTop + scrollblockElement.offsetTop - viewportElement.scrollTop;\n    } else {\n      axisViewportPixelOffset = axisElement.offsetLeft + scrollblockElement.offsetLeft - viewportElement.scrollLeft;\n    }\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    cradlePositionData.targetAxisViewportPixelOffset = axisViewportPixelOffset;\n    if (!ViewportContextProperties.isResizing) {\n      _this.updateBlockScrollPos();\n    }\n  };\n  // called from finishreposition state change call above\n  // called from updateReferenceData\n  this.updateBlockScrollPos = function () {\n    var cradleSpecs = _this.cradleParameters.cradleInheritedPropertiesRef.current;\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    var layoutHandler = _this.cradleParameters.handlersRef.current.layoutHandler;\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    if (!(viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0)) {\n      // in cache\n      if (cradleSpecs.orientation == 'vertical') {\n        cradlePositionData.blockScrollPos = viewportElement.scrollTop;\n        cradlePositionData.blockXScrollPos = viewportElement.scrollLeft;\n      } else {\n        cradlePositionData.blockScrollPos = viewportElement.scrollLeft;\n        cradlePositionData.blockXScrollPos = viewportElement.scrollTop;\n      }\n    }\n  };\n  // TODO update scrollTracker is in use\n  this.calcImpliedRepositioningData = function (source) {\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      cradleSpecs = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      virtualListProps = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var viewportElement = ViewportContextProperties.elementRef.current,\n      scrollblockElement = viewportElement.firstChild;\n    var orientation = cradleSpecs.orientation;\n    var crosscount = virtualListProps.crosscount,\n      listsize = virtualListProps.size;\n    var scrollPos, cellLength, scrollblockOffset;\n    if (orientation == 'vertical') {\n      scrollPos = viewportElement.scrollTop;\n      cellLength = cradleSpecs.cellHeight + cradleSpecs.gap;\n      scrollblockOffset = scrollblockElement.offsetTop;\n    } else {\n      scrollPos = viewportElement.scrollLeft;\n      cellLength = cradleSpecs.cellWidth + cradleSpecs.gap;\n      scrollblockOffset = scrollblockElement.offsetLeft;\n    }\n    var axisPixelOffset = cellLength - (scrollPos + scrollblockOffset) % cellLength;\n    if (axisPixelOffset == cellLength + cradleSpecs.padding) {\n      axisPixelOffset = 0;\n    }\n    var axisRowPosition = Math.ceil((scrollPos - cradleSpecs.padding) / cellLength);\n    var axisReferencePosition = axisRowPosition * crosscount;\n    axisReferencePosition = Math.min(axisReferencePosition, listsize - 1);\n    var diff = axisReferencePosition % crosscount;\n    axisReferencePosition -= diff;\n    if (axisReferencePosition == 0) axisPixelOffset = 0; // defensive\n    var cradlePositionData = _this.cradleParameters.handlersRef.current.layoutHandler.cradlePositionData;\n    cradlePositionData.targetAxisReferencePosition = axisReferencePosition;\n    cradlePositionData.targetAxisViewportPixelOffset = axisPixelOffset;\n    source == 'onScroll' && ViewportContextProperties.scrollTrackerAPIRef.current.updateReposition(axisReferencePosition);\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports[\"default\"] = ScrollHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3Njcm9sbGhhbmRsZXIudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLFFBQUFDLEdBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixHQUFBLGtCQUFBQSxHQUFBLGdCQUFBQSxHQUFBLFdBQUFBLEdBQUEseUJBQUFDLE1BQUEsSUFBQUQsR0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsR0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLEdBQUEsS0FBQUQsT0FBQSxDQUFBQyxHQUFBO0FBQUEsU0FBQUssa0JBQUFDLE1BQUEsRUFBQUMsS0FBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUQsS0FBQSxDQUFBRSxNQUFBLEVBQUFELENBQUEsVUFBQUUsVUFBQSxHQUFBSCxLQUFBLENBQUFDLENBQUEsR0FBQUUsVUFBQSxDQUFBQyxVQUFBLEdBQUFELFVBQUEsQ0FBQUMsVUFBQSxXQUFBRCxVQUFBLENBQUFFLFlBQUEsd0JBQUFGLFVBQUEsRUFBQUEsVUFBQSxDQUFBRyxRQUFBLFNBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBVCxNQUFBLEVBQUFVLGNBQUEsQ0FBQU4sVUFBQSxDQUFBTyxHQUFBLEdBQUFQLFVBQUE7QUFBQSxTQUFBUSxhQUFBQyxXQUFBLEVBQUFDLFVBQUEsRUFBQUMsV0FBQSxRQUFBRCxVQUFBLEVBQUFmLGlCQUFBLENBQUFjLFdBQUEsQ0FBQWYsU0FBQSxFQUFBZ0IsVUFBQSxPQUFBQyxXQUFBLEVBQUFoQixpQkFBQSxDQUFBYyxXQUFBLEVBQUFFLFdBQUEsR0FBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFJLFdBQUEsaUJBQUFOLFFBQUEsbUJBQUFNLFdBQUE7QUFBQSxTQUFBSCxlQUFBTSxHQUFBLFFBQUFMLEdBQUEsR0FBQU0sWUFBQSxDQUFBRCxHQUFBLG9CQUFBdkIsT0FBQSxDQUFBa0IsR0FBQSxpQkFBQUEsR0FBQSxHQUFBTyxNQUFBLENBQUFQLEdBQUE7QUFBQSxTQUFBTSxhQUFBRSxLQUFBLEVBQUFDLElBQUEsUUFBQTNCLE9BQUEsQ0FBQTBCLEtBQUEsa0JBQUFBLEtBQUEsa0JBQUFBLEtBQUEsTUFBQUUsSUFBQSxHQUFBRixLQUFBLENBQUF4QixNQUFBLENBQUEyQixXQUFBLE9BQUFELElBQUEsS0FBQUUsU0FBQSxRQUFBQyxHQUFBLEdBQUFILElBQUEsQ0FBQUksSUFBQSxDQUFBTixLQUFBLEVBQUFDLElBQUEsb0JBQUEzQixPQUFBLENBQUErQixHQUFBLHVCQUFBQSxHQUFBLFlBQUFFLFNBQUEsNERBQUFOLElBQUEsZ0JBQUFGLE1BQUEsR0FBQVMsTUFBQSxFQUFBUixLQUFBO0FBQUEsU0FBQVMsZ0JBQUFDLFFBQUEsRUFBQWhCLFdBQUEsVUFBQWdCLFFBQUEsWUFBQWhCLFdBQUEsZUFBQWEsU0FBQTs7OztBQUVBOzs7OztBQUFBLElBTXFCSSxhQUFhLGdCQUFBbEIsWUFBQSxDQUU5QixTQUFBa0IsY0FBWUMsZ0JBQWdCO0VBQUEsSUFBQUMsS0FBQTtFQUFBSixlQUFBLE9BQUFFLGFBQUE7RUFXcEIsS0FBQUcsZUFBZSxHQUFHLEtBQUs7RUFFeEIsS0FBQUMsV0FBVyxHQUFHLFlBQUs7SUFFdEIsSUFBUUMsT0FBTyxHQUFLSCxLQUFJLENBQUNELGdCQUFnQixDQUFDSyxXQUFXLENBQUNDLE9BQU8sQ0FBQ0MsZ0JBQWdCLENBQXRFSCxPQUFPO0lBRWYsSUFBSUEsT0FBTyxDQUFDSSxxQkFBcUIsRUFBRTtNQUUvQjs7SUFJSixJQUFJLENBQUNQLEtBQUksQ0FBQ0MsZUFBZSxFQUFFO01BRXZCRCxLQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJO01BRTNCRCxLQUFJLENBQUNRLDBCQUEwQixHQUFHLElBQUksRUFBQztNQUV2Q0MsWUFBWSxDQUFDVCxLQUFJLENBQUNRLDBCQUEwQixDQUFDO01BRTdDUixLQUFJLENBQUNVLHFCQUFxQixHQUFHQyxVQUFVLENBQUMsWUFBSTtRQUN4Q1gsS0FBSSxDQUFDUSwwQkFBMEIsR0FBRyxHQUFHLEVBQUM7TUFDMUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQzs7SUFJVixJQUFNSSx5QkFBeUIsR0FBR1osS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ2MsNEJBQTRCLENBQUNSLE9BQU87SUFDNUYsSUFBTVMsZUFBZSxHQUFHRix5QkFBeUIsQ0FBQ0csVUFBVSxDQUFDVixPQUFPO0lBRXBFSSxZQUFZLENBQUNULEtBQUksQ0FBQ2dCLGlCQUFpQixDQUFDO0lBRXBDLElBQU1DLFdBQVcsR0FBR2pCLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNtQiw0QkFBNEIsQ0FBQ2IsT0FBTyxDQUFDWSxXQUFXO0lBQzFGLElBQU1FLGtCQUFrQixHQUFHTCxlQUFlLENBQUNNLFVBQVU7SUFFckQsSUFBSUMsaUJBQWlCLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxFQUFFQyxpQkFBaUI7SUFFeEUsSUFBSVAsV0FBVyxJQUFJLFVBQVUsRUFBRTtNQUUzQkksaUJBQWlCLEdBQUdQLGVBQWUsQ0FBQ1csWUFBWTtNQUNoREgsY0FBYyxHQUFJUixlQUFlLENBQUNZLFlBQVk7TUFDOUNILGNBQWMsR0FBR1QsZUFBZSxDQUFDYSxTQUFTO01BQzFDSCxpQkFBaUIsR0FBR0wsa0JBQWtCLENBQUNTLFNBQVM7S0FFbkQsTUFBTTtNQUVIUCxpQkFBaUIsR0FBR1AsZUFBZSxDQUFDZSxXQUFXO01BQy9DUCxjQUFjLEdBQUlSLGVBQWUsQ0FBQ2dCLFdBQVc7TUFDN0NQLGNBQWMsR0FBR1QsZUFBZSxDQUFDaUIsVUFBVTtNQUMzQ1AsaUJBQWlCLEdBQUdMLGtCQUFrQixDQUFDYSxVQUFVOztJQUlyRCxJQUFPVCxjQUFjLEdBQUdDLGlCQUFpQixHQUFJLENBQUM7SUFBSztJQUM5Q0gsaUJBQWlCLEdBQUlFLGNBQWMsR0FBR0MsaUJBQWlCLEdBQUdGLGNBQWdCLEVBQUU7TUFBRTtNQUUvRXRCLEtBQUksQ0FBQ2lDLGdCQUFnQixFQUFFLEVBQUM7S0FFM0IsTUFBTTtNQUVIakMsS0FBSSxDQUFDZ0IsaUJBQWlCLEdBQUdMLFVBQVUsQ0FBQyxZQUFLO1FBRXJDWCxLQUFJLENBQUNpQyxnQkFBZ0IsRUFBRSxFQUFDO01BRTVCLENBQUMsRUFBQ2pDLEtBQUksQ0FBQ1EsMEJBQTBCLENBQUM7O0VBRzFDLENBQUM7RUFFTyxLQUFBeUIsZ0JBQWdCLEdBQUcsWUFBSztJQUU1QmpDLEtBQUksQ0FBQ0MsZUFBZSxHQUFHLEtBQUs7SUFFNUIsSUFBTVcseUJBQXlCLEdBQUdaLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNjLDRCQUE0QixDQUFDUixPQUFPO0lBQzVGLElBQU1TLGVBQWUsR0FBR0YseUJBQXlCLENBQUNHLFVBQVUsQ0FBQ1YsT0FBTztJQUNwRSxJQUFNYyxrQkFBa0IsR0FBR0wsZUFBZSxDQUFDTSxVQUFVO0lBRXJELElBQU1ILFdBQVcsR0FBR2pCLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNtQiw0QkFBNEIsQ0FBQ2IsT0FBTyxDQUFDWSxXQUFXO0lBRTFGLElBQU1PLGlCQUFpQixHQUNsQlAsV0FBVyxJQUFJLFVBQVUsR0FDdEJFLGtCQUFrQixDQUFDUyxTQUFTLEdBQzVCVCxrQkFBa0IsQ0FBQ2EsVUFBVTtJQUVyQyxJQUFNVCxjQUFjLEdBQ2ZOLFdBQVcsSUFBSSxVQUFVLEdBQ3RCSCxlQUFlLENBQUNhLFNBQVMsR0FDekJiLGVBQWUsQ0FBQ2lCLFVBQVU7SUFFbENqQixlQUFlLENBQUNvQixLQUFLLENBQUNDLFFBQVEsR0FBRyxRQUFRO0lBRXpDLElBQUlsQixXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCSCxlQUFlLENBQUNhLFNBQVMsR0FBR0osY0FBYyxHQUFHQyxpQkFBaUI7TUFDOURMLGtCQUFrQixDQUFDZSxLQUFLLENBQUNFLEdBQUcsR0FBRyxJQUFJO0tBRXRDLE1BQU07TUFBRTtNQUVMdEIsZUFBZSxDQUFDaUIsVUFBVSxHQUFHUixjQUFjLEdBQUdDLGlCQUFpQjtNQUMvREwsa0JBQWtCLENBQUNlLEtBQUssQ0FBQ0csSUFBSSxHQUFHLElBQUk7O0lBSXhDdkIsZUFBZSxDQUFDb0IsS0FBSyxDQUFDQyxRQUFRLEdBQUcsUUFBUTtFQUU3QyxDQUFDO0VBSU0sS0FBQUcsVUFBVSxHQUFHO0lBQUNDLEtBQUssRUFBQyxDQUFDO0lBQUVsQyxPQUFPLEVBQUMsQ0FBQztJQUFFbUMsUUFBUSxFQUFDLENBQUM7SUFBRUMsY0FBYyxFQUFDLENBQUM7SUFBRUMsYUFBYSxFQUFDO0VBQUMsQ0FBQztFQUUvRSxLQUFBQyxjQUFjLEdBQUcsSUFBSTtFQUVyQixLQUFBQyxXQUFXLEdBQUcsS0FBSztFQUVwQixLQUFBQyxlQUFlLEdBQUcsVUFBQ0MsY0FBYyxFQUFJO0lBQ3hDLElBQVFSLFVBQVUsR0FBS3RDLEtBQUksQ0FBbkJzQyxVQUFVO0lBQ2xCQSxVQUFVLENBQUNDLEtBQUssR0FDaEJELFVBQVUsQ0FBQ2pDLE9BQU8sR0FDbEJpQyxVQUFVLENBQUNFLFFBQVEsR0FDbkJGLFVBQVUsQ0FBQ0csY0FBYyxHQUN6QkgsVUFBVSxDQUFDSSxhQUFhLEdBQUdJLGNBQWM7RUFDN0MsQ0FBQztFQUVNLEtBQUFDLFFBQVEsR0FBRyxVQUFDQyxDQUFDLEVBQUk7SUFFcEIsSUFBQUMscUJBQUEsR0FLSWpELEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNtQiw0QkFBNEIsQ0FBQ2IsT0FBTztNQUgxRDZDLFVBQVUsR0FBQUQscUJBQUEsQ0FBVkMsVUFBVTtNQUNWQyxxQkFBcUIsR0FBQUYscUJBQUEsQ0FBckJFLHFCQUFxQjtJQUl6QixJQUFNdkMseUJBQXlCLEdBQUdaLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNjLDRCQUE0QixDQUFDUixPQUFPO0lBQzVGO0lBRUEsSUFBTVMsZUFBZSxHQUFHa0MsQ0FBQyxDQUFDSSxhQUFhO0lBRXZDLElBQU1uQyxXQUFXLEdBQUdqQixLQUFJLENBQUNELGdCQUFnQixDQUFDbUIsNEJBQTRCLENBQUNiLE9BQU8sQ0FBQ1ksV0FBVztJQUMxRixJQUFNb0MscUJBQXFCLEdBQ3RCcEMsV0FBVyxJQUFJLFVBQVUsR0FDdEJILGVBQWUsQ0FBQ2EsU0FBUyxHQUN6QmIsZUFBZSxDQUFDaUIsVUFBVTtJQUVsQyxJQUFNdUIsc0JBQXNCLEdBQ3ZCckMsV0FBVyxJQUFJLFlBQVksR0FDeEJILGVBQWUsQ0FBQ2EsU0FBUyxHQUN6QmIsZUFBZSxDQUFDaUIsVUFBVTtJQUVsQ3RCLFlBQVksQ0FBQ1QsS0FBSSxDQUFDMkMsY0FBYyxDQUFDO0lBRWpDLElBQUs3QixlQUFlLENBQUN5QyxXQUFXLElBQUksQ0FBQyxJQUFLekMsZUFBZSxDQUFDMEMsWUFBWSxJQUFJLENBQUMsRUFBRztNQUFDO01BRTNFOztJQUlKLElBQUlILHFCQUFxQixHQUFHLENBQUMsRUFBRTtNQUFFO01BRTdCOztJQUlKLElBQVFsRCxPQUFPLEdBQUtILEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNLLFdBQVcsQ0FBQ0MsT0FBTyxDQUFDQyxnQkFBZ0IsQ0FBdEVILE9BQU87SUFFZixJQUFJQSxPQUFPLENBQUNJLHFCQUFxQixFQUFFO01BRS9COztJQUlKLElBQUksQ0FBQ1AsS0FBSSxDQUFDNEMsV0FBVyxFQUFFO01BRW5CNUMsS0FBSSxDQUFDNEMsV0FBVyxHQUFHLElBQUk7TUFDdkI1QyxLQUFJLENBQUNzQyxVQUFVLENBQUNDLEtBQUssR0FBR2MscUJBQXFCO01BQzdDckQsS0FBSSxDQUFDc0MsVUFBVSxDQUFDSSxhQUFhLEdBQUdXLHFCQUFxQjs7SUFJekQsSUFBUUksYUFBYSxHQUFLekQsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0ssV0FBVyxDQUFDQyxPQUFPLENBQTNEb0QsYUFBYTtJQUNyQixJQUFRQyxrQkFBa0IsR0FBS0QsYUFBYSxDQUFwQ0Msa0JBQWtCO0lBRTFCO0lBQ0FBLGtCQUFrQixDQUFDbkMsY0FBYyxHQUFHOEIscUJBQXFCO0lBQ3pESyxrQkFBa0IsQ0FBQ0MsZUFBZSxHQUFHTCxzQkFBc0I7SUFFM0R0RCxLQUFJLENBQUNzQyxVQUFVLENBQUNFLFFBQVEsR0FBR3hDLEtBQUksQ0FBQ3NDLFVBQVUsQ0FBQ2pDLE9BQU87SUFDbERMLEtBQUksQ0FBQ3NDLFVBQVUsQ0FBQ2pDLE9BQU8sR0FBR2dELHFCQUFxQjtJQUUvQyxJQUFPTyxZQUFZLEdBQUk1RCxLQUFJLENBQUNELGdCQUFnQixDQUFDSyxXQUFXLENBQUNDLE9BQU8sQ0FBekR1RCxZQUFZO0lBQ25CLElBQU1DLFdBQVcsR0FBR0QsWUFBWSxDQUFDRSxjQUFjLENBQUN6RCxPQUFPO0lBRXZEO0lBRUEsSUFBSSxDQUFDTyx5QkFBeUIsQ0FBQ21ELFVBQVUsRUFBRTtNQUV2QyxJQUFJRixXQUFXLElBQUkscUJBQXFCLEVBQUU7UUFFdEM3RCxLQUFJLENBQUNnRSw0QkFBNEIsQ0FBQyxVQUFVLENBQUM7OztJQU1yRGhFLEtBQUksQ0FBQzJDLGNBQWMsR0FBR2hDLFVBQVUsQ0FBQyxZQUFLO01BRWxDWCxLQUFJLENBQUNpRSxhQUFhLEVBQUU7SUFFeEIsQ0FBQyxFQUFDZCxxQkFBcUIsQ0FBQztJQUV4QixPQUFPLEtBQUs7RUFFaEIsQ0FBQztFQUdPLEtBQUFjLGFBQWEsR0FBRyxZQUFLO0lBRXpCakUsS0FBSSxDQUFDNEMsV0FBVyxHQUFHLEtBQUs7SUFFeEIsSUFBQXNCLHNCQUFBLEdBQ0lsRSxLQUFJLENBQUNELGdCQUFnQixDQUFDSyxXQUFXLENBQUNDLE9BQU87TUFEckN1RCxZQUFZLEdBQUFNLHNCQUFBLENBQVpOLFlBQVk7TUFBRU8sY0FBYyxHQUFBRCxzQkFBQSxDQUFkQyxjQUFjO01BQUVDLGNBQWMsR0FBQUYsc0JBQUEsQ0FBZEUsY0FBYztJQUdwRDtJQUNBLElBQU1DLHlCQUF5QixHQUFHckUsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ21CLDRCQUE0QixDQUFDYixPQUFPO0lBRTVGLElBQU13RCxXQUFXLEdBQUdELFlBQVksQ0FBQ0UsY0FBYyxDQUFDekQsT0FBTztJQUV2RCxRQUFRd0QsV0FBVztNQUVmLEtBQUsscUJBQXFCO1FBQzFCO1FBQ0E7VUFFSTdELEtBQUksQ0FBQ3NFLG9CQUFvQixFQUFFO1VBRTNCLElBQVFDLHlCQUF5QixHQUFLSCxjQUFjLENBQUNJLFNBQVMsQ0FBdERELHlCQUF5QjtVQUNqQ0EseUJBQXlCLElBQUlBLHlCQUF5QixDQUFDLEtBQUssQ0FBQztVQUM3RFgsWUFBWSxDQUFDYSxjQUFjLENBQUMsa0JBQWtCLENBQUM7VUFFL0M7O01BR0o7UUFBUztVQUVMLElBQUt6RSxLQUFJLENBQUNzQyxVQUFVLENBQUNDLEtBQUssSUFBSXZDLEtBQUksQ0FBQ3NDLFVBQVUsQ0FBQ2pDLE9BQU8sSUFDaERMLEtBQUksQ0FBQ3NDLFVBQVUsQ0FBQ2pDLE9BQU8sSUFBSUwsS0FBSSxDQUFDc0MsVUFBVSxDQUFDRSxRQUFTLEVBQUU7WUFFdkQsSUFBSW9CLFlBQVksQ0FBQ2MsWUFBWSxDQUFDckUsT0FBTyxFQUFFO2NBRW5DTCxLQUFJLENBQUMyRSxtQkFBbUIsRUFBRTs7O1VBTWxDOzs7SUFLUixJQUFRQyxLQUFLLEdBQUtQLHlCQUF5QixDQUFuQ08sS0FBSztJQUViLElBQUlBLEtBQUssSUFBSSxVQUFVLEVBQUU7TUFDckJULGNBQWMsQ0FBQ1UsY0FBYyxFQUFFOztFQUd2QyxDQUFDO0VBRUQ7RUFDUSxLQUFBRixtQkFBbUIsR0FBRyxZQUFLO0lBRS9CLElBQUFHLHNCQUFBLEdBQ005RSxLQUFJLENBQUNELGdCQUFnQixDQUFDSyxXQUFXLENBQUNDLE9BQU87TUFEdkN1RCxZQUFZLEdBQUFrQixzQkFBQSxDQUFabEIsWUFBWTtNQUFFSCxhQUFhLEdBQUFxQixzQkFBQSxDQUFickIsYUFBYTtJQUduQyxJQUFNc0IsV0FBVyxHQUFHL0UsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ21CLDRCQUE0QixDQUFDYixPQUFPO01BQzFFTyx5QkFBeUIsR0FBR1osS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ2MsNEJBQTRCLENBQUNSLE9BQU87SUFFMUYsSUFBSSxDQUFDdUQsWUFBWSxDQUFDYyxZQUFZLENBQUNyRSxPQUFPLEVBQUU7SUFFeEMsSUFBTTJFLGNBQWMsR0FBR3ZCLGFBQWEsQ0FBQ3dCLFFBQVE7SUFFN0MsSUFBTUMsV0FBVyxHQUFHRixjQUFjLENBQUNHLE9BQU8sQ0FBQzlFLE9BQU87TUFDOUNTLGVBQWUsR0FBR0YseUJBQXlCLENBQUNHLFVBQVUsQ0FBQ1YsT0FBTztNQUM5RGMsa0JBQWtCLEdBQUdMLGVBQWUsQ0FBQ00sVUFBVTtJQUVuRCxJQUFJZ0UsdUJBQXVCO0lBQzNCLElBQUlMLFdBQVcsQ0FBQzlELFdBQVcsSUFBSSxVQUFVLEVBQUU7TUFFdkNtRSx1QkFBdUIsR0FDbkJGLFdBQVcsQ0FBQ3RELFNBQVMsR0FBR1Qsa0JBQWtCLENBQUNTLFNBQVMsR0FBR2QsZUFBZSxDQUFDYSxTQUFTO0tBRXZGLE1BQU07TUFFSHlELHVCQUF1QixHQUNuQkYsV0FBVyxDQUFDbEQsVUFBVSxHQUFHYixrQkFBa0IsQ0FBQ2EsVUFBVSxHQUFHbEIsZUFBZSxDQUFDaUIsVUFBVTs7SUFJM0YsSUFBUTJCLGtCQUFrQixHQUFLRCxhQUFhLENBQXBDQyxrQkFBa0I7SUFFMUJBLGtCQUFrQixDQUFDMkIsNkJBQTZCLEdBQUdELHVCQUF1QjtJQUUxRSxJQUFJLENBQUN4RSx5QkFBeUIsQ0FBQ21ELFVBQVUsRUFBRTtNQUV2Qy9ELEtBQUksQ0FBQ3NFLG9CQUFvQixFQUFFOztFQUluQyxDQUFDO0VBRUQ7RUFDQTtFQUNRLEtBQUFBLG9CQUFvQixHQUFHLFlBQUs7SUFFaEMsSUFBTVMsV0FBVyxHQUFHL0UsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ21CLDRCQUE0QixDQUFDYixPQUFPO0lBQzlFLElBQU1PLHlCQUF5QixHQUFHWixLQUFJLENBQUNELGdCQUFnQixDQUFDYyw0QkFBNEIsQ0FBQ1IsT0FBTztJQUM1RixJQUFPb0QsYUFBYSxHQUFJekQsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0ssV0FBVyxDQUFDQyxPQUFPLENBQTFEb0QsYUFBYTtJQUNwQixJQUFRQyxrQkFBa0IsR0FBS0QsYUFBYSxDQUFwQ0Msa0JBQWtCO0lBRTFCLElBQU01QyxlQUFlLEdBQUdGLHlCQUF5QixDQUFDRyxVQUFVLENBQUNWLE9BQU87SUFFcEUsSUFBSSxFQUFHUyxlQUFlLENBQUN5QyxXQUFXLElBQUksQ0FBQyxJQUFPekMsZUFBZSxDQUFDMEMsWUFBWSxJQUFJLENBQUUsQ0FBQyxFQUFFO01BQUM7TUFFaEYsSUFBSXVCLFdBQVcsQ0FBQzlELFdBQVcsSUFBSSxVQUFVLEVBQUU7UUFFdkN5QyxrQkFBa0IsQ0FBQ25DLGNBQWMsR0FBR1QsZUFBZSxDQUFDYSxTQUFTO1FBQzdEK0Isa0JBQWtCLENBQUNDLGVBQWUsR0FBRzdDLGVBQWUsQ0FBQ2lCLFVBQVU7T0FFbEUsTUFBTTtRQUVIMkIsa0JBQWtCLENBQUNuQyxjQUFjLEdBQUdULGVBQWUsQ0FBQ2lCLFVBQVU7UUFDOUQyQixrQkFBa0IsQ0FBQ0MsZUFBZSxHQUFHN0MsZUFBZSxDQUFDYSxTQUFTOzs7RUFNMUUsQ0FBQztFQUVEO0VBQ08sS0FBQXFDLDRCQUE0QixHQUFHLFVBQUNzQixNQUFNLEVBQUk7SUFFdkMsSUFBQTFFLHlCQUF5QixHQUFHWixLQUFJLENBQUNELGdCQUFnQixDQUFDYyw0QkFBNEIsQ0FBQ1IsT0FBTztNQUN4RjBFLFdBQVcsR0FBRy9FLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNtQiw0QkFBNEIsQ0FBQ2IsT0FBTztNQUN0RWtGLGdCQUFnQixHQUFLdkYsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ3lGLDJCQUEyQixDQUFDbkYsT0FBTyxDQUE5RWtGLGdCQUFnQjtJQUV0QixJQUFNekUsZUFBZSxHQUFHRix5QkFBeUIsQ0FBQ0csVUFBVSxDQUFDVixPQUFPO01BQ2hFYyxrQkFBa0IsR0FBR0wsZUFBZSxDQUFDTSxVQUFVO0lBRW5ELElBQVFILFdBQVcsR0FBSzhELFdBQVcsQ0FBM0I5RCxXQUFXO0lBRW5CLElBQVF3RSxVQUFVLEdBQW9CRixnQkFBZ0IsQ0FBOUNFLFVBQVU7TUFBT0MsUUFBUSxHQUFLSCxnQkFBZ0IsQ0FBbENJLElBQUk7SUFFeEIsSUFBSUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVyRSxpQkFBaUI7SUFDNUMsSUFBSVAsV0FBVyxJQUFJLFVBQVUsRUFBRTtNQUUzQjJFLFNBQVMsR0FBRzlFLGVBQWUsQ0FBQ2EsU0FBUztNQUNyQ2tFLFVBQVUsR0FBR2QsV0FBVyxDQUFDZSxVQUFVLEdBQUdmLFdBQVcsQ0FBQ2dCLEdBQUc7TUFDckR2RSxpQkFBaUIsR0FBR0wsa0JBQWtCLENBQUNTLFNBQVM7S0FFbkQsTUFBTTtNQUVIZ0UsU0FBUyxHQUFHOUUsZUFBZSxDQUFDaUIsVUFBVTtNQUN0QzhELFVBQVUsR0FBR2QsV0FBVyxDQUFDaUIsU0FBUyxHQUFHakIsV0FBVyxDQUFDZ0IsR0FBRztNQUNwRHZFLGlCQUFpQixHQUFHTCxrQkFBa0IsQ0FBQ2EsVUFBVTs7SUFJckQsSUFBSWlFLGVBQWUsR0FBR0osVUFBVSxHQUFJLENBQUNELFNBQVMsR0FBR3BFLGlCQUFpQixJQUFJcUUsVUFBVztJQUNqRixJQUFJSSxlQUFlLElBQUtKLFVBQVUsR0FBR2QsV0FBVyxDQUFDbUIsT0FBUSxFQUFFO01BQ3ZERCxlQUFlLEdBQUcsQ0FBQzs7SUFHdkIsSUFBTUUsZUFBZSxHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUFDVCxTQUFTLEdBQUdiLFdBQVcsQ0FBQ21CLE9BQU8sSUFBRUwsVUFBVSxDQUFDO0lBRS9FLElBQUlTLHFCQUFxQixHQUFHSCxlQUFlLEdBQUdWLFVBQVU7SUFDeERhLHFCQUFxQixHQUFHRixJQUFJLENBQUNHLEdBQUcsQ0FBQ0QscUJBQXFCLEVBQUNaLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFFcEUsSUFBTWMsSUFBSSxHQUFHRixxQkFBcUIsR0FBR2IsVUFBVTtJQUMvQ2EscUJBQXFCLElBQUlFLElBQUk7SUFFN0IsSUFBSUYscUJBQXFCLElBQUksQ0FBQyxFQUFFTCxlQUFlLEdBQUcsQ0FBQyxFQUFDO0lBRXBELElBQVF2QyxrQkFBa0IsR0FBSzFELEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNLLFdBQVcsQ0FBQ0MsT0FBTyxDQUFDb0QsYUFBYSxDQUE5RUMsa0JBQWtCO0lBRTFCQSxrQkFBa0IsQ0FBQytDLDJCQUEyQixHQUFHSCxxQkFBcUI7SUFDdEU1QyxrQkFBa0IsQ0FBQzJCLDZCQUE2QixHQUFHWSxlQUFlO0lBRWpFWCxNQUFNLElBQUksVUFBVSxJQUFLMUUseUJBQXlCLENBQUM4RixtQkFBbUIsQ0FBQ3JHLE9BQU8sQ0FBQ3NHLGdCQUFnQixDQUFDTCxxQkFBcUIsQ0FBQztFQUUzSCxDQUFDO0VBOVlHLElBQUksQ0FBQ3ZHLGdCQUFnQixHQUFHQSxnQkFBZ0I7QUFFNUMsQ0FBQztBQU5MNkcsa0JBQUEsR0FBQTlHLGFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zY3JvbGxoYW5kbGVyLnRzeD9jZWY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbGhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoaXMgbW9kdWxlIGhvbGRzIHRoZSByZXNwb25zZSB0byBzY3JvbGxpbmcuIEl0IGFsc28gdHJpZ2dlcnMgYW4gb25BZnRlclNjcm9sbCBldmVudCAoYWZ0ZXIgYSB0aW1lb3V0KVxuICAgIEl0J3MgbWFpbiBqb2IgaXMgdG8gbWFpbnRhaW4gcmVjb3JkcyBvZiBzY3JvbGxQb3MsIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiwgYW5kIFxuICAgICAgICB0YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldFxuKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfaU9Tc2Nyb2xsdGltZXJpZFxuICAgIHByaXZhdGUgX2lPU3NldFRpbWVvdXRUaW1lcmlkXG5cbiAgICBwcml2YXRlIF9vbklPU29uQWZ0ZXJTY3JvbGxUaW1lb3V0XG5cbiAgICBwcml2YXRlIF9pc0lPU3Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICBwdWJsaWMgaU9Tb25TY3JvbGwgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzSU9Tc2Nyb2xsaW5nKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2lzSU9Tc2Nyb2xsaW5nID0gdHJ1ZVxuXG4gICAgICAgICAgICB0aGlzLl9vbklPU29uQWZ0ZXJTY3JvbGxUaW1lb3V0ID0gMTAwMCAvLyBpT1Mgc29tZXRpbWVzIGxpa2VzIHRvIHBhdXNlIGJlZm9yZSBjb21tZW5jaW5nIHNjcm9sbGluZ1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fb25JT1NvbkFmdGVyU2Nyb2xsVGltZW91dClcblxuICAgICAgICAgICAgdGhpcy5faU9Tc2V0VGltZW91dFRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5fb25JT1NvbkFmdGVyU2Nyb2xsVGltZW91dCA9IDI1MCAvLyBiYWNrIHRvIG1vcmUgcmVzcG9uc2l2ZSBvbmNlIHVuZGVyd2F5XG4gICAgICAgICAgICB9LDkwMClcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnRcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faU9Tc2Nyb2xsdGltZXJpZClcblxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQub3JpZW50YXRpb25cbiAgICAgICAgY29uc3Qgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGRcblxuICAgICAgICBsZXQgc2Nyb2xsYmxvY2tMZW5ndGgsIHZpZXdwb3J0TGVuZ3RoLCBibG9ja1Njcm9sbFBvcywgc2Nyb2xsYmxvY2tPZmZzZXRcbiAgICAgICAgXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrTGVuZ3RoID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbEhlaWdodFxuICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSAgdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodFxuICAgICAgICAgICAgYmxvY2tTY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3BcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzY3JvbGxibG9ja0xlbmd0aCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxXaWR0aFxuICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoXG4gICAgICAgICAgICBibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRMZWZ0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoKCBibG9ja1Njcm9sbFBvcyAtIHNjcm9sbGJsb2NrT2Zmc2V0KSA8IDApIHx8IC8vIG92ZXJzaG9vdCBzdGFydFxuICAgICAgICAgICAgKHNjcm9sbGJsb2NrTGVuZ3RoIDwgKGJsb2NrU2Nyb2xsUG9zIC0gc2Nyb2xsYmxvY2tPZmZzZXQgKyB2aWV3cG9ydExlbmd0aCkpKSB7IC8vIG92ZXJzaG9vdCBlbmRcblxuICAgICAgICAgICAgdGhpcy5pT1NvbkFmdGVyU2Nyb2xsKCkgLy8gaW1tZWRpYXRlIGhhbHQgYW5kIGFkanVzdFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMuX2lPU3Njcm9sbHRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMuaU9Tb25BZnRlclNjcm9sbCgpIC8vIGRlZmVycmVkIGhhbHQgYW5kIGFkanVzdFxuXG4gICAgICAgICAgICB9LHRoaXMuX29uSU9Tb25BZnRlclNjcm9sbFRpbWVvdXQpXG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaU9Tb25BZnRlclNjcm9sbCA9ICgpID0+IHtcblxuICAgICAgICB0aGlzLl9pc0lPU3Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3Qgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGRcblxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQub3JpZW50YXRpb25cblxuICAgICAgICBjb25zdCBzY3JvbGxibG9ja09mZnNldCA9IFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3A6XG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldExlZnRcblxuICAgICAgICBjb25zdCBibG9ja1Njcm9sbFBvcyA9XG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcDpcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCA9IGJsb2NrU2Nyb2xsUG9zIC0gc2Nyb2xsYmxvY2tPZmZzZXRcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS50b3AgPSBudWxsXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gb3JpZW50YXRpb24gPT0gaG9yaXpvbnRhbFxuXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCA9IGJsb2NrU2Nyb2xsUG9zIC0gc2Nyb2xsYmxvY2tPZmZzZXRcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5sZWZ0ID0gbnVsbFxuXG4gICAgICAgIH1cblxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJ1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwdWJsaWMgc2Nyb2xsRGF0YSA9IHtzdGFydDowLCBjdXJyZW50OjAsIHByZXZpb3VzOjAsIHByZXZpb3VzdXBkYXRlOjAsIGN1cnJlbnR1cGRhdGU6MH1cblxuICAgIHByaXZhdGUgX3Njcm9sbHRpbWVyaWQgPSBudWxsXG5cbiAgICBwcml2YXRlIGlzU2Nyb2xsaW5nID0gZmFsc2VcblxuICAgIHB1YmxpYyByZXNldFNjcm9sbERhdGEgPSAoc2Nyb2xsUG9zaXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgeyBzY3JvbGxEYXRhIH0gPSB0aGlzXG4gICAgICAgIHNjcm9sbERhdGEuc3RhcnQgPSBcbiAgICAgICAgc2Nyb2xsRGF0YS5jdXJyZW50ID0gXG4gICAgICAgIHNjcm9sbERhdGEucHJldmlvdXMgPSBcbiAgICAgICAgc2Nyb2xsRGF0YS5wcmV2aW91c3VwZGF0ZSA9IFxuICAgICAgICBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUgPSBzY3JvbGxQb3NpdGlvblxuICAgIH1cblxuICAgIHB1YmxpYyBvblNjcm9sbCA9IChlKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgc2Nyb2xsZXJJRCwgLy8gZGVidWdcbiAgICAgICAgICAgIE9OQUZURVJTQ1JPTExfVElNRU9VVCBcblxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIC8vIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0XG5cbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50Lm9yaWVudGF0aW9uXG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uQ3VycmVudCA9IFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICBjb25zdCBzY3JvbGxYUG9zaXRpb25DdXJyZW50ID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnKT9cbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG5cbiAgICAgICAgaWYgKCh2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGggPT0gMCAgJiYgdmlld3BvcnRFbGVtZW50LmNsaWVudEhlaWdodCA9PSAwKSkgey8vIGluIGNhY2hlXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb25DdXJyZW50IDwgMCkgeyAvLyBmb3IgU2FmYXJpXG5cbiAgICAgICAgICAgIHJldHVybiBcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNTY3JvbGxpbmcpIHtcblxuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5zdGFydCA9IHNjcm9sbFBvc2l0aW9uQ3VycmVudFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBsYXlvdXRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuXG4gICAgICAgIC8vIGtlZXAgdXAgdG8gZGF0ZSBpbiBjYXNlIG9mIHJlcGFyZW50aW5nIGludGVycnVwdFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQb3MgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrWFNjcm9sbFBvcyA9IHNjcm9sbFhQb3NpdGlvbkN1cnJlbnRcblxuICAgICAgICB0aGlzLnNjcm9sbERhdGEucHJldmlvdXMgPSB0aGlzLnNjcm9sbERhdGEuY3VycmVudFxuICAgICAgICB0aGlzLnNjcm9sbERhdGEuY3VycmVudCA9IHNjcm9sbFBvc2l0aW9uQ3VycmVudFxuXG4gICAgICAgIGNvbnN0IHtzdGF0ZUhhbmRsZXJ9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgY3JhZGxlU3RhdGUgPSBzdGF0ZUhhbmRsZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIGNvbnN0IHsgY29udGVudEhhbmRsZXIsIHNlcnZpY2VIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGlmICghVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5pc1Jlc2l6aW5nKSB7XG5cbiAgICAgICAgICAgIGlmIChjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY0ltcGxpZWRSZXBvc2l0aW9uaW5nRGF0YSgnb25TY3JvbGwnKVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Njcm9sbHRpbWVyaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5vbkFmdGVyU2Nyb2xsKClcblxuICAgICAgICB9LE9OQUZURVJTQ1JPTExfVElNRU9VVClcblxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBvbkFmdGVyU2Nyb2xsID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyLCBjb250ZW50SGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBjcmFkbGVTdGF0ZSA9IHN0YXRlSGFuZGxlci5jcmFkbGVTdGF0ZVJlZi5jdXJyZW50XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzogXG4gICAgICAgICAgICAvLyBjYXNlICdyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJzpcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmxvY2tTY3JvbGxQb3MoKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcbiAgICAgICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrICYmIHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2soZmFsc2UpXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdmaW5pc2hyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcblxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5zY3JvbGxEYXRhLnN0YXJ0ICE9IHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50KSB8fCBcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50ICE9IHRoaXMuc2Nyb2xsRGF0YS5wcmV2aW91cykpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVmZXJlbmNlRGF0YSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjYWNoZSB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgICAgIGlmIChjYWNoZSA9PSAna2VlcGxvYWQnKSB7XG4gICAgICAgICAgICBjb250ZW50SGFuZGxlci5wYXJlQ2FjaGVUb01heCgpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIGFmdGVyIHNjcm9sbCwgYnV0IG5vdCBhZnRlciByZXBvc2l0aW9uaW5nXG4gICAgcHJpdmF0ZSB1cGRhdGVSZWZlcmVuY2VEYXRhID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyLCBsYXlvdXRIYW5kbGVyIH0gXG4gICAgICAgICAgICA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgY3JhZGxlU3BlY3MgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoIXN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSBsYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG5cbiAgICAgICAgY29uc3QgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudCA9IHZpZXdwb3J0RWxlbWVudC5maXJzdENoaWxkXG5cbiAgICAgICAgbGV0IGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG4gICAgICAgIGlmIChjcmFkbGVTcGVjcy5vcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0VG9wICsgc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldFRvcCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICBheGlzRWxlbWVudC5vZmZzZXRMZWZ0ICsgc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldExlZnQgLSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKCFWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja1Njcm9sbFBvcygpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGZyb20gZmluaXNocmVwb3NpdGlvbiBzdGF0ZSBjaGFuZ2UgY2FsbCBhYm92ZVxuICAgIC8vIGNhbGxlZCBmcm9tIHVwZGF0ZVJlZmVyZW5jZURhdGFcbiAgICBwcml2YXRlIHVwZGF0ZUJsb2NrU2Nyb2xsUG9zID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZVNwZWNzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7bGF5b3V0SGFuZGxlcn0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlclxuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCEoKHZpZXdwb3J0RWxlbWVudC5jbGllbnRXaWR0aCA9PSAwKSAgJiYgKHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpKSB7Ly8gaW4gY2FjaGVcblxuICAgICAgICAgICAgaWYgKGNyYWRsZVNwZWNzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tYU2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrWFNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIFRPRE8gdXBkYXRlIHNjcm9sbFRyYWNrZXIgaXMgaW4gdXNlXG4gICAgcHVibGljIGNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEgPSAoc291cmNlKSA9PiB7IC8vIHNvdXJjZSBmb3IgZGVidWdcblxuICAgICAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZVNwZWNzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgdmlydHVhbExpc3RQcm9wcyB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZFxuXG4gICAgICAgIGNvbnN0IHsgb3JpZW50YXRpb24gfSA9IGNyYWRsZVNwZWNzXG5cbiAgICAgICAgY29uc3QgeyBjcm9zc2NvdW50LCBzaXplOmxpc3RzaXplIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aCwgc2Nyb2xsYmxvY2tPZmZzZXRcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgc2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgY2VsbExlbmd0aCA9IGNyYWRsZVNwZWNzLmNlbGxIZWlnaHQgKyBjcmFkbGVTcGVjcy5nYXBcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrT2Zmc2V0ID0gc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldFRvcFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlU3BlY3MuY2VsbFdpZHRoICsgY3JhZGxlU3BlY3MuZ2FwXG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRMZWZ0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzUGl4ZWxPZmZzZXQgPSBjZWxsTGVuZ3RoIC0gKChzY3JvbGxQb3MgKyBzY3JvbGxibG9ja09mZnNldCkgJSBjZWxsTGVuZ3RoKVxuICAgICAgICBpZiAoYXhpc1BpeGVsT2Zmc2V0ID09IChjZWxsTGVuZ3RoICsgY3JhZGxlU3BlY3MucGFkZGluZykpIHtcbiAgICAgICAgICAgIGF4aXNQaXhlbE9mZnNldCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXNSb3dQb3NpdGlvbiA9IE1hdGguY2VpbCgoc2Nyb2xsUG9zIC0gY3JhZGxlU3BlY3MucGFkZGluZykvY2VsbExlbmd0aClcblxuICAgICAgICBsZXQgYXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gYXhpc1Jvd1Bvc2l0aW9uICogY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlUG9zaXRpb24gPSBNYXRoLm1pbihheGlzUmVmZXJlbmNlUG9zaXRpb24sbGlzdHNpemUgLSAxKVxuXG4gICAgICAgIGNvbnN0IGRpZmYgPSBheGlzUmVmZXJlbmNlUG9zaXRpb24gJSBjcm9zc2NvdW50XG4gICAgICAgIGF4aXNSZWZlcmVuY2VQb3NpdGlvbiAtPSBkaWZmXG5cbiAgICAgICAgaWYgKGF4aXNSZWZlcmVuY2VQb3NpdGlvbiA9PSAwKSBheGlzUGl4ZWxPZmZzZXQgPSAwIC8vIGRlZmVuc2l2ZVxuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5sYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiA9IGF4aXNSZWZlcmVuY2VQb3NpdGlvblxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBheGlzUGl4ZWxPZmZzZXQ7XG5cbiAgICAgICAgKHNvdXJjZSA9PSAnb25TY3JvbGwnKSAmJiBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLnNjcm9sbFRyYWNrZXJBUElSZWYuY3VycmVudC51cGRhdGVSZXBvc2l0aW9uKGF4aXNSZWZlcmVuY2VQb3NpdGlvbilcblxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiU2Nyb2xsSGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsIl9pc0lPU3Njcm9sbGluZyIsImlPU29uU2Nyb2xsIiwic2lnbmFscyIsImhhbmRsZXJzUmVmIiwiY3VycmVudCIsImludGVycnVwdEhhbmRsZXIiLCJwYXVzZVNjcm9sbGluZ0VmZmVjdHMiLCJfb25JT1NvbkFmdGVyU2Nyb2xsVGltZW91dCIsImNsZWFyVGltZW91dCIsIl9pT1NzZXRUaW1lb3V0VGltZXJpZCIsInNldFRpbWVvdXQiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZiIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJfaU9Tc2Nyb2xsdGltZXJpZCIsIm9yaWVudGF0aW9uIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsInNjcm9sbGJsb2NrRWxlbWVudCIsImZpcnN0Q2hpbGQiLCJzY3JvbGxibG9ja0xlbmd0aCIsInZpZXdwb3J0TGVuZ3RoIiwiYmxvY2tTY3JvbGxQb3MiLCJzY3JvbGxibG9ja09mZnNldCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsInNjcm9sbFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxMZWZ0Iiwib2Zmc2V0TGVmdCIsImlPU29uQWZ0ZXJTY3JvbGwiLCJzdHlsZSIsIm92ZXJmbG93IiwidG9wIiwibGVmdCIsInNjcm9sbERhdGEiLCJzdGFydCIsInByZXZpb3VzIiwicHJldmlvdXN1cGRhdGUiLCJjdXJyZW50dXBkYXRlIiwiX3Njcm9sbHRpbWVyaWQiLCJpc1Njcm9sbGluZyIsInJlc2V0U2Nyb2xsRGF0YSIsInNjcm9sbFBvc2l0aW9uIiwib25TY3JvbGwiLCJlIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyIiwic2Nyb2xsZXJJRCIsIk9OQUZURVJTQ1JPTExfVElNRU9VVCIsImN1cnJlbnRUYXJnZXQiLCJzY3JvbGxQb3NpdGlvbkN1cnJlbnQiLCJzY3JvbGxYUG9zaXRpb25DdXJyZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXlvdXRIYW5kbGVyIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwiYmxvY2tYU2Nyb2xsUG9zIiwic3RhdGVIYW5kbGVyIiwiY3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImlzUmVzaXppbmciLCJjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhIiwib25BZnRlclNjcm9sbCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJjb250ZW50SGFuZGxlciIsInNlcnZpY2VIYW5kbGVyIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyIsInVwZGF0ZUJsb2NrU2Nyb2xsUG9zIiwicmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayIsImNhbGxiYWNrcyIsInNldENyYWRsZVN0YXRlIiwiaXNNb3VudGVkUmVmIiwidXBkYXRlUmVmZXJlbmNlRGF0YSIsImNhY2hlIiwicGFyZUNhY2hlVG9NYXgiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIzIiwiY3JhZGxlU3BlY3MiLCJjcmFkbGVFbGVtZW50cyIsImVsZW1lbnRzIiwiYXhpc0VsZW1lbnQiLCJheGlzUmVmIiwiYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQiLCJ0YXJnZXRBeGlzVmlld3BvcnRQaXhlbE9mZnNldCIsInNvdXJjZSIsInZpcnR1YWxMaXN0UHJvcHMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjcm9zc2NvdW50IiwibGlzdHNpemUiLCJzaXplIiwic2Nyb2xsUG9zIiwiY2VsbExlbmd0aCIsImNlbGxIZWlnaHQiLCJnYXAiLCJjZWxsV2lkdGgiLCJheGlzUGl4ZWxPZmZzZXQiLCJwYWRkaW5nIiwiYXhpc1Jvd1Bvc2l0aW9uIiwiTWF0aCIsImNlaWwiLCJheGlzUmVmZXJlbmNlUG9zaXRpb24iLCJtaW4iLCJkaWZmIiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwic2Nyb2xsVHJhY2tlckFQSVJlZiIsInVwZGF0ZVJlcG9zaXRpb24iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/scrollhandler.tsx\n")},"./src/cradle/servicehandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval('\n\n// servicehandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module fields service requests from the host. There are two forms\n    - streaming from the scroller to the host\n    - function calls from the user to the scroller\n\n    For the list of data streams, see the constructor.\n\n    The function calls avaiable to the host are:\n\n        scrollToIndex,\n        reload,\n        setListsize, *deprectated* for proper camel case\n        setListSize,\n        setListRange,\n        prependIndexCount,\n        appendIndexCount,\n        clearCache,\n\n        getCacheIndexMap,\n        getCacheItemMap,\n        getCradleIndexMap,\n        getPropertiesSnapshot,\n\n        insertIndex,\n        removeIndex,\n        moveIndex,\n        remapIndexes,\n    \n    The functions listed are defined in this module.\n\n    There are important supporting functions for these in cacheAPI and contentHandler. stateHandler is\n    often invoked by service functions to change Cradle state upon servicing requests.\n*/\nvar isBlank = function isBlank(value) {\n  var testvalue = value !== null && value !== void 0 ? value : \'\';\n  return testvalue === \'\';\n};\nvar isNumber = function isNumber(value) {\n  return !isNaN(Number(value)) && !isNaN(parseInt(value));\n};\nvar isInteger = function isInteger(value) {\n  var test = +value;\n  return isNumber(value) && Math.floor(test) == test;\n};\nvar isValueGreaterThanOrEqualToMinValue = function isValueGreaterThanOrEqualToMinValue(compareValue, minValue) {\n  if (!isInteger(compareValue) || !isInteger(minValue)) return false;\n  var testvalue = +compareValue;\n  var testMinValue = +minValue;\n  return testvalue >= testMinValue;\n};\nvar isValueLessThanToOrEqualToMaxValue = function isValueLessThanToOrEqualToMaxValue(compareValue, maxValue) {\n  if (!isInteger(compareValue) || !isInteger(maxValue)) return false;\n  var testvalue = +compareValue;\n  var testMaxValue = +maxValue;\n  return testvalue <= testMaxValue;\n};\nvar errorMessages = {\n  scrollToIndex: \'integer: required, greater than or equal to low index\',\n  setListSize: \'integer: required, greater than or equal to 0\',\n  setListRange: \'array[lowindex,highindex]: required, both integers, highindex greater than or equal to lowindex\',\n  insertFrom: \'insertFrom - integer: required, greater than or equal to low index\',\n  insertRange: \'insertRange - blank, or integer greater than or equal to the "from" index\',\n  removeFrom: \'removeFrom - integer: required, greater than or equal to low index\',\n  removeRange: \'removeRange - blank, or integer greater than or equal to the "from" index\',\n  moveFrom: \'moveFrom - integer: required, greater than or equal to low index\',\n  moveRange: \'moveRange - blank, or integer greater than or equal to the "from" index\',\n  moveTo: \'moveTo - integer: required, greater than or equal to low index\'\n};\nvar ServiceHandler = /*#__PURE__*/_createClass(function ServiceHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, ServiceHandler);\n  // ========================[ GENERAL ]============================\n  this.reload = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    var interruptHandler = _this.cradleParameters.handlersRef.current.interruptHandler;\n    interruptHandler.pauseInterrupts();\n    stateHandler.setCradleState(\'reload\');\n  };\n  this.scrollToIndex = function (index) {\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      lowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    var isInvalid = !isInteger(index); //|| \n    if (!isInvalid) {\n      if (!isValueGreaterThanOrEqualToMinValue(index, lowindex)) {\n        index = lowindex;\n      }\n    }\n    index = +index;\n    if (isInvalid) {\n      console.log(\'RIGS ERROR scrollToIndex(index)):\', index, errorMessages.scrollToIndex);\n      return;\n    }\n    var handlers = cradleParameters.handlersRef.current,\n      interruptHandler = handlers.interruptHandler,\n      layoutHandler = handlers.layoutHandler,\n      stateHandler = handlers.stateHandler,\n      signals = interruptHandler.signals;\n    signals.pauseScrollingEffects = true;\n    layoutHandler.cradlePositionData.targetAxisReferencePosition = index - lowindex;\n    stateHandler.setCradleState(\'scrollto\');\n  };\n  // deprecated (camel case)\n  this.setListsize = function (newlistsize) {\n    _this.setListSize(newlistsize);\n  };\n  this.setListSize = function (newlistsize) {\n    newlistsize = +newlistsize;\n    var isInvalid = !isInteger(newlistsize) || !isValueGreaterThanOrEqualToMinValue(newlistsize, 0);\n    if (isInvalid) {\n      console.log(\'RIGS ERROR setListSize(newlistsize)\', newlistsize, errorMessages.setListSize);\n      return;\n    }\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter.cacheAPI,\n      contentHandler = _this$cradleParameter.contentHandler,\n      stateHandler = _this$cradleParameter.stateHandler,\n      deleteListCallback = _this.callbacks.deleteListCallback,\n      currentlistsize = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size,\n      cache = _this.cradleParameters.cradleInheritedPropertiesRef.current.cache;\n    var dListCallback;\n    if (deleteListCallback) {\n      dListCallback = function dListCallback(deleteList) {\n        deleteListCallback(\'change list size intervention\', deleteList);\n      };\n    }\n    contentHandler.updateVirtualListSize(newlistsize);\n    cacheAPI.changeCacheListSize(newlistsize, dListCallback);\n    cacheAPI.renderPortalLists();\n    if (cache == \'preload\' && newlistsize > currentlistsize) {\n      stateHandler.setCradleState(\'startpreload\');\n    }\n  };\n  this.setListRange = function (newlistrange) {\n    var isInvalid = !Array.isArray(newlistrange);\n    if (!isInvalid) {\n      isInvalid = !(newlistrange.length == 0 || newlistrange.length == 2);\n      if (!isInvalid && newlistrange.length == 2) {\n        var _newlistrange = newlistrange,\n          _newlistrange2 = _slicedToArray(_newlistrange, 2),\n          lowindex = _newlistrange2[0],\n          highindex = _newlistrange2[1];\n        lowindex = +lowindex;\n        highindex = +highindex;\n        isInvalid = !isInteger(lowindex) || !isInteger(highindex) || !isValueGreaterThanOrEqualToMinValue(highindex, lowindex);\n        if (!isInvalid) newlistrange = [lowindex, highindex];\n      }\n    }\n    if (isInvalid) {\n      console.log(\'RIGS ERROR setListRange(newlistrange)\', newlistrange, errorMessages.setListRange);\n      return;\n    }\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter2.cacheAPI,\n      contentHandler = _this$cradleParameter2.contentHandler,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      deleteListCallback = _this.callbacks.deleteListCallback,\n      currentlistrange = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.range,\n      cache = _this.cradleParameters.cradleInheritedPropertiesRef.current.cache;\n    var dListCallback;\n    if (deleteListCallback) {\n      dListCallback = function dListCallback(deleteList) {\n        deleteListCallback(\'change list range intervention\', deleteList);\n      };\n    }\n    contentHandler.updateVirtualListRange(newlistrange);\n    cacheAPI.changeCacheListRange(newlistrange, dListCallback);\n    cacheAPI.renderPortalLists();\n    if (cache == \'preload\' && newlistrange.length == 2 && (newlistrange[0] < currentlistrange[0] || newlistrange[1] > currentlistrange[1])) {\n      stateHandler.setCradleState(\'startpreload\');\n    }\n  };\n  this.prependIndexCount = function (prependCount) {\n    prependCount = +prependCount;\n    var isInvalid = !isInteger(prependCount) || !isValueGreaterThanOrEqualToMinValue(prependCount, 0);\n    if (isInvalid) {\n      console.log(\'RIGS ERROR, prependIndexCount must be an integer >= 0\');\n      return;\n    }\n    var virtualListProps = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var _virtualListProps$ran = _slicedToArray(virtualListProps.range, 2),\n      lowindex = _virtualListProps$ran[0],\n      highindex = _virtualListProps$ran[1];\n    var size = virtualListProps.size;\n    var newlistrange;\n    if (size) {\n      newlistrange = [lowindex - prependCount, highindex];\n    } else {\n      newlistrange = [-prependCount + 1, 0];\n    }\n    _this.setListRange(newlistrange);\n  };\n  this.appendIndexCount = function (appendCount) {\n    appendCount = +appendCount;\n    var isInvalid = !isInteger(appendCount) || !isValueGreaterThanOrEqualToMinValue(appendCount, 0);\n    if (isInvalid) {\n      console.log(\'RIGS ERROR, appendIndexCount must be an integer >= 0\');\n      return;\n    }\n    var virtualListProps = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var _virtualListProps$ran2 = _slicedToArray(virtualListProps.range, 2),\n      lowindex = _virtualListProps$ran2[0],\n      highindex = _virtualListProps$ran2[1];\n    var size = virtualListProps.size;\n    var newlistrange;\n    if (size) {\n      newlistrange = [lowindex, highindex + appendCount];\n    } else {\n      newlistrange = [0, appendCount - 1];\n    }\n    _this.setListRange(newlistrange);\n  };\n  // ======================[ GET SNAPSHOTS ]========================\n  this.getCacheIndexMap = function () {\n    var cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI;\n    return cacheAPI.getCacheIndexMap();\n  };\n  this.getCacheItemMap = function () {\n    var cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI;\n    return cacheAPI.getCacheItemMap();\n  };\n  this.getCradleIndexMap = function () {\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter3.cacheAPI,\n      contentHandler = _this$cradleParameter3.contentHandler;\n    var modelIndexList = contentHandler.getModelIndexList();\n    return cacheAPI.getCradleIndexMap(modelIndexList);\n  };\n  this.getPropertiesSnapshot = function () {\n    var props = Object.assign({}, _this.cradleParameters.scrollerPropertiesRef.current);\n    props.virtualListProps = Object.assign({}, props.virtualListProps);\n    props.cradleContentProps = Object.assign({}, props.cradleContentProps);\n    return props;\n  };\n  // =================[ CACHE MANAGEMENT REQUESTS ]==================\n  this.clearCache = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    stateHandler.setCradleState(\'clearcache\');\n  };\n  // itemID set to null deletes the indexed item\n  // itemID set to undefined replaces the indexed item\n  // the main purpose is to allow itemsIDs to be remapped to new indexes\n  // operations are on existing cache items only\n  this.remapIndexes = function (changeMap) {\n    if (changeMap.size == 0) return []; // nothing to do\n    var _this$cradleParameter4 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter4.cacheAPI,\n      contentHandler = _this$cradleParameter4.contentHandler,\n      stateHandler = _this$cradleParameter4.stateHandler;\n    var itemMetadataMap = cacheAPI.itemMetadataMap,\n      indexToItemIDMap = cacheAPI.indexToItemIDMap,\n      itemSet = cacheAPI.itemSet;\n    var indexesToDeleteList = [];\n    var indexesToReplaceItemIDList = [];\n    var partitionItemsToReplaceList = [];\n    var changeIndexToItemIDMap = new Map();\n    var errorEntriesMap = new Map();\n    // =====================[ PREPARE ]======================\n    // -----------------------[ isolate indexes for which items should be replaced ]--------------\n    var workingChangeMap = new Map();\n    changeMap.forEach(function (itemID, index) {\n      if (itemID === undefined) {\n        if (indexToItemIDMap.has(index)) {\n          var cacheItemID = indexToItemIDMap.get(index);\n          indexesToReplaceItemIDList.push(index);\n          if (!(cacheItemID === undefined)) {\n            // ignore non-existent indexes\n            var _itemMetadataMap$get = itemMetadataMap.get(cacheItemID),\n              partitionID = _itemMetadataMap$get.partitionID;\n            partitionItemsToReplaceList.push({\n              partitionID: partitionID,\n              itemID: cacheItemID\n            });\n          }\n        } else {\n          errorEntriesMap.set(index, \'index to replace is not in cache\');\n        }\n      } else {\n        workingChangeMap.set(index, itemID);\n      }\n    });\n    indexesToReplaceItemIDList.forEach(function (index) {\n      indexToItemIDMap["delete"](index);\n    });\n    // ------------ filter out inoperable indexes and itemIDs ------------\n    var itemsToReplaceSet = new Set();\n    partitionItemsToReplaceList.forEach(function (obj) {\n      itemsToReplaceSet.add(obj.itemID);\n    });\n    // const itemsToReplaceList = Array.from(itemsToReplaceSet)\n    workingChangeMap.forEach(function (itemID, index) {\n      if (itemID === null || itemID === undefined) {\n        indexesToDeleteList.push(index);\n      } else {\n        if (typeof itemID == \'string\') {\n          errorEntriesMap.set(index, \'itemID is a string\');\n        } else if (!Number.isInteger(itemID)) {\n          errorEntriesMap.set(index, \'itemID is not an integer\');\n        } else if (!indexToItemIDMap.has(index)) {\n          errorEntriesMap.set(index, \'index not in cache\');\n        } else if (indexToItemIDMap.get(index) == itemID) {\n          errorEntriesMap.set(index, "target itemID ".concat(itemID, " has not changed"));\n        } else if (!itemMetadataMap.has(itemID) || itemsToReplaceSet.has(itemID)) {\n          errorEntriesMap.set(index, "target itemID ".concat(itemID, " not in cache, or has been removed"));\n        } else {\n          changeIndexToItemIDMap.set(index, itemID);\n        }\n      }\n    });\n    // -------------- filter out duplicate itemIDs ------------\n    var mapsize = changeIndexToItemIDMap.size;\n    var itemIDSet = new Set(changeIndexToItemIDMap.values());\n    var itemsetsize = itemIDSet.size;\n    if (mapsize != itemsetsize) {\n      // there must be duplicate itemIDs\n      var itemIDCountMap = new Map();\n      changeIndexToItemIDMap.forEach(function (itemID) {\n        if (!itemIDCountMap.has(itemID)) {\n          itemIDCountMap.set(itemID, 1);\n        } else {\n          var count = itemIDCountMap.get(itemID);\n          itemIDCountMap.set(itemID, ++count);\n        }\n      });\n      var duplicateItemsMap = new Map();\n      itemIDCountMap.forEach(function (count, itemID) {\n        if (count > 1) {\n          duplicateItemsMap.set(itemID, count);\n        }\n      });\n      var duplicatesToRemoveList = [];\n      changeIndexToItemIDMap.forEach(function (itemID, index) {\n        if (duplicateItemsMap.has(itemID)) {\n          duplicatesToRemoveList.push(index);\n        }\n      });\n      duplicatesToRemoveList.forEach(function (index) {\n        var itemID = changeIndexToItemIDMap.get(index);\n        var count = duplicateItemsMap.get(itemID);\n        errorEntriesMap.set(index, "target itemID ".concat(itemID, " has duplicates (").concat(count, ")"));\n        changeIndexToItemIDMap["delete"](index);\n      });\n    }\n    // ------------ capture map before changes ----------\n    // ... this map is used later to identify orphaned item and index cache records for deletion\n    // from the list of changes\n    // both sides of change map...\n    var originalMap = new Map(); // index => itemID; before change\n    changeIndexToItemIDMap.forEach(function (itemID, index) {\n      originalMap.set(index, indexToItemIDMap.get(index)); // index to be mapped\n      originalMap.set(itemMetadataMap.get(itemID).index, itemID); // target itemID\n    });\n    // ... and from the list of indexes to be deleted\n    indexesToDeleteList.forEach(function (index) {\n      originalMap.set(index, indexToItemIDMap.get(index));\n    });\n    // ======================[ CACHE OPERATIONS ]================\n    // --------------- delete listed indexes ---------\n    // for indexes set to null or undefined\n    // associated itemID\'s will be orphaned, but could be remapped.\n    // orphans are resolved below\n    if (indexesToDeleteList.length) {\n      indexesToDeleteList.forEach(function (index) {\n        indexToItemIDMap["delete"](index);\n      });\n    }\n    // ----------- apply filtered changes to cache index map and itemID map ----------\n    // at this point every remaining index listed will change its mapping\n    // const processedMap = new Map() // index => itemID; change has been applied\n    var processedIndexList = [];\n    // make changes\n    changeIndexToItemIDMap.forEach(function (itemID, index) {\n      indexToItemIDMap.set(index, itemID); // modiication applied, part 1\n      var itemdata = itemMetadataMap.get(itemID);\n      itemdata.index = index; // modification applied, part 2\n      // processedMap.set(index,itemID)\n      processedIndexList.push(index);\n    });\n    // -------------- look for and delete item and index orphans --------------------\n    // if the original item\'s index has not changed, then it has not been remapped, \n    //     it is orphaned, and the item is deleted\n    // if the item\'s index has changed, but the original item index map still points to the item,\n    //     then the index is orphaned (duplicate), and deleted\n    var deletedItemIDToIndexMap = new Map(); // index => itemID; orphaned index\n    var deletedIndexToItemIDMap = new Map();\n    var portalPartitionItemsForDeleteList = []; // hold deleted portals for deletion until after cradle synch\n    originalMap.forEach(function (originalItemID, originalItemIDIndex) {\n      var finalItemIDIndex = itemMetadataMap.get(originalItemID).index;\n      if (originalItemIDIndex == finalItemIDIndex) {\n        // not remapped, therefore orphaned\n        deletedItemIDToIndexMap.set(originalItemID, originalItemIDIndex);\n        var _itemMetadataMap$get2 = itemMetadataMap.get(originalItemID),\n          partitionID = _itemMetadataMap$get2.partitionID;\n        portalPartitionItemsForDeleteList.push({\n          itemID: originalItemID,\n          partitionID: partitionID\n        });\n        itemMetadataMap["delete"](originalItemID);\n        itemSet["delete"](originalItemID);\n      } else {\n        // remapped, check for orphaned index\n        if (indexToItemIDMap.has(originalItemIDIndex)) {\n          var finalItemID = indexToItemIDMap.get(originalItemIDIndex);\n          if (finalItemID == originalItemID) {\n            // the index has not been remapped, therefore orphaned\n            deletedIndexToItemIDMap.set(originalItemIDIndex, originalItemID);\n            indexToItemIDMap["delete"](originalItemIDIndex);\n          }\n        }\n      }\n    });\n    // ------------- apply changes to extant cellFrames ------------\n    // these are used to reconcile cradle cellFrames, and also for return information\n    // const processedIndexList = Array.from(processedMap.keys())\n    var deletedOrphanedItemIndexList = Array.from(deletedItemIDToIndexMap.values());\n    var deletedOrphanedIndexList = Array.from(deletedIndexToItemIDMap.keys());\n    // for return information...\n    var deletedOrphanedItemIDList = Array.from(deletedItemIDToIndexMap.keys());\n    var modifiedIndexList = [].concat(processedIndexList, indexesToDeleteList, deletedOrphanedItemIndexList, deletedOrphanedIndexList);\n    modifiedIndexList = Array.from(new Set(modifiedIndexList.values())); // remove duplicates\n    contentHandler.createNewItemIDs(indexesToReplaceItemIDList);\n    contentHandler.reconcileCellFrames(modifiedIndexList);\n    modifiedIndexList = modifiedIndexList.concat(indexesToReplaceItemIDList);\n    cacheAPI.portalPartitionItemsForDeleteList = portalPartitionItemsForDeleteList.concat(partitionItemsToReplaceList);\n    stateHandler.setCradleState(\'applyremapchanges\');\n    // ---------- returns for user information --------------------\n    return [modifiedIndexList, processedIndexList, indexesToDeleteList, indexesToReplaceItemIDList, deletedOrphanedItemIDList, deletedOrphanedIndexList, errorEntriesMap, changeMap];\n  };\n  // move must be entirely within list bounds\n  // returns list of processed indexes\n  this.moveIndex = function (tolowindex, fromlowindex) {\n    var fromhighindex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    // ------------ confirm validity of arguments -------------\n    var isToindexInvalid = !isInteger(tolowindex) || !isValueGreaterThanOrEqualToMinValue(tolowindex, listlowindex);\n    var isFromindexInvalid = !isInteger(fromlowindex) || !isValueGreaterThanOrEqualToMinValue(fromlowindex, listlowindex);\n    var isHighrangeInvalid = false;\n    if (!isFromindexInvalid) {\n      if (!isBlank(fromhighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(fromhighindex, fromlowindex);\n      } else {\n        fromhighindex = fromlowindex;\n      }\n    }\n    tolowindex = +tolowindex;\n    fromlowindex = +fromlowindex;\n    fromhighindex = +fromhighindex;\n    // TODO return error array instead\n    if (isToindexInvalid || isFromindexInvalid || isHighrangeInvalid) {\n      console.log(\'RIGS ERROR moveIndex(toindex, fromindex, fromhighrange)\');\n      isToindexInvalid && console.log(tolowindex, errorMessages.moveTo);\n      isFromindexInvalid && console.log(fromlowindex, errorMessages.moveFrom);\n      isHighrangeInvalid && console.log(fromhighindex, errorMessages.moveRange);\n      return [];\n    }\n    tolowindex = Math.max(listlowindex, tolowindex);\n    fromlowindex = Math.max(listlowindex, fromlowindex);\n    fromhighindex = Math.max(listlowindex, fromhighindex);\n    var fromspan = fromhighindex - fromlowindex + 1;\n    var tohighindex = tolowindex + fromspan - 1;\n    // ------------- coerce parameters to list bounds ---------------\n    var listsize = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size;\n    // keep within current list size\n    var listhighindex = listsize - 1;\n    if (tohighindex > listhighindex) {\n      var diff = tohighindex - listhighindex;\n      tohighindex = Math.max(listlowindex, tohighindex - diff);\n      tolowindex = Math.max(listlowindex, tolowindex - diff);\n    }\n    if (fromhighindex > listhighindex) {\n      var _diff = fromhighindex - listhighindex;\n      fromhighindex = Math.max(listlowindex, fromhighindex - _diff);\n      fromlowindex = Math.max(listlowindex, fromlowindex - _diff);\n    }\n    // ---------- constrain parameters --------------\n    // nothing to do; no displacement\n    if (fromlowindex == tolowindex) return [];\n    // ----------- perform cache and cradle operations -----------\n    var _this$cradleParameter5 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter5.cacheAPI,\n      contentHandler = _this$cradleParameter5.contentHandler,\n      stateHandler = _this$cradleParameter5.stateHandler;\n    var processedIndexList =\n    // both displaced and moved indexes\n    cacheAPI.moveIndex(tolowindex, fromlowindex, fromhighindex);\n    if (processedIndexList.length) {\n      contentHandler.synchronizeCradleItemIDsToCache(processedIndexList);\n      var content = contentHandler.content;\n      content.headModelComponents = content.cradleModelComponents.slice(0, content.headModelComponents.length);\n      content.tailModelComponents = content.cradleModelComponents.slice(content.headModelComponents.length);\n      stateHandler.setCradleState(\'applymovechanges\');\n    }\n    return processedIndexList;\n  };\n  this.insertIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    var isIndexInvalid = !isInteger(index);\n    if (!isIndexInvalid) {\n      if (size) {\n        isIndexInvalid = !isValueGreaterThanOrEqualToMinValue(index, listlowindex);\n      } else {\n        isIndexInvalid = false;\n      }\n    }\n    var isHighrangeInvalid = false;\n    if (!isIndexInvalid) {\n      if (!isBlank(rangehighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(rangehighindex, index);\n      } else {\n        rangehighindex = index;\n      }\n    }\n    index = +index;\n    rangehighindex = +rangehighindex;\n    if (isIndexInvalid || isHighrangeInvalid) {\n      console.log(\'RIGS ERROR insertIndex(index, rangehighindex)\');\n      isIndexInvalid && console.log(index, errorMessages.insertFrom);\n      isHighrangeInvalid && console.log(rangehighindex, errorMessages.insertRange);\n      return null;\n    }\n    return _this.insertRemoveIndex(index, rangehighindex, +1);\n  };\n  this.removeIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    var isIndexInvalid = !isInteger(index) || !isValueGreaterThanOrEqualToMinValue(index, listlowindex);\n    var isHighrangeInvalid = false;\n    if (!isIndexInvalid) {\n      if (!isBlank(rangehighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(rangehighindex, index);\n      } else {\n        rangehighindex = index;\n      }\n    }\n    index = +index;\n    rangehighindex = +rangehighindex;\n    if (isIndexInvalid || isHighrangeInvalid) {\n      console.log(\'RIGS ERROR moveIndex(index, rangehighindex)\');\n      isIndexInvalid && console.log(index, errorMessages.removeFrom);\n      isHighrangeInvalid && console.log(rangehighindex, errorMessages.removeRange);\n      return null;\n    }\n    return _this.insertRemoveIndex(index, rangehighindex, -1);\n  };\n  // shared logic for insert and remove. Returns lists of indexes shifted, replaced, and removed\n  // this operation changes the listsize\n  this.insertRemoveIndex = function (index, rangehighindex, increment) {\n    var cradleParameters = _this.cradleParameters,\n      _this$cradleParameter6 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter6.cacheAPI,\n      contentHandler = _this$cradleParameter6.contentHandler,\n      stateHandler = _this$cradleParameter6.stateHandler,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      cradleContentProps = cradleInternalProperties.cradleContentProps,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      crosscount = virtualListProps.crosscount,\n      listsize = virtualListProps.size,\n      lowCradleIndex = cradleContentProps.lowindex,\n      highCradleIndex = cradleContentProps.highindex,\n      cradleSize = cradleContentProps.size,\n      runwaySize = cradleContentProps.runwayRowcount,\n      viewportRowcount = cradleContentProps.viewportRowcount;\n    // basic assertions\n    if (listsize) index = Math.max(listlowindex, index);\n    // if (!rangehighindex) rangehighindex = index\n    // rangehighindex = Math.max(rangehighindex, index)\n    // ------------------- process cache ----------------\n    if (listsize == 0) {\n      if (increment > 0) {\n        _this.setListRange([index, rangehighindex]);\n        var _replaceList = [];\n        for (var i = index; i <= rangehighindex; i++) {\n          _replaceList.push(i);\n        }\n        return [[], _replaceList, []];\n      } else {\n        return [[], [], []];\n      }\n    }\n    var _cacheAPI$insertRemov = cacheAPI.insertRemoveIndex(index, rangehighindex, increment, listsize),\n      _cacheAPI$insertRemov2 = _slicedToArray(_cacheAPI$insertRemov, 6),\n      startChangeIndex = _cacheAPI$insertRemov2[0],\n      rangeincrement = _cacheAPI$insertRemov2[1],\n      shiftedList = _cacheAPI$insertRemov2[2],\n      removedList = _cacheAPI$insertRemov2[3],\n      replaceList = _cacheAPI$insertRemov2[4],\n      portalPartitionItemsForDeleteList = _cacheAPI$insertRemov2[5];\n    if (rangeincrement === null) return [[], [], []]; // no action\n    // partitionItems to delete with followup state changes - must happen after cradle update\n    cacheAPI.portalPartitionItemsForDeleteList = portalPartitionItemsForDeleteList;\n    // ------------- synchronize cradle to cache changes -------------\n    // determine if cradle must be reset or simply adjusted\n    var changecount = rangeincrement,\n      // semantics\n      newlistsize = _this.newListSize = listsize + changecount,\n      calculatedCradleRowcount = viewportRowcount + runwaySize * 2,\n      calculatedCradleItemcount = calculatedCradleRowcount * crosscount,\n      measuredCradleItemCount = cradleSize == 0 ? 0 : highCradleIndex - lowCradleIndex + 1,\n      resetCradle = measuredCradleItemCount < calculatedCradleItemcount || highCradleIndex >= newlistsize - 1;\n    if (!resetCradle) {\n      // synchronize cradle contents to changes\n      contentHandler.synchronizeCradleItemIDsToCache(shiftedList, increment, startChangeIndex); // non-zero communications isInsertRemove\n      var content = contentHandler.content;\n      // const requestedSet = cacheAPI.cacheProps.requestedSet\n      var requestedSet = cacheAPI.requestedSet;\n      var timeout = setInterval(function () {\n        if (!requestedSet.size) {\n          // finished collecting new cache entries\n          clearInterval(timeout);\n          content.headModelComponents = content.cradleModelComponents.slice(0, content.headModelComponents.length);\n          content.tailModelComponents = content.cradleModelComponents.slice(content.headModelComponents.length);\n          stateHandler.setCradleState(\'applyinsertremovechanges\');\n        }\n      }, 100);\n    } else {\n      // cradle to be completely reset if listsize change encroaches on cradle\n      stateHandler.setCradleState(\'channelcradleresetafterinsertremove\');\n    }\n    var replacedList = replaceList; // semantics\n    return [shiftedList, replacedList, removedList]; // inform caller\n  };\n\n  this.cradleParameters = cradleParameters;\n  // doing this explicitly here for documentation\n  var _cradleParameters$ext = cradleParameters.externalCallbacksRef.current,\n    referenceIndexCallback = _cradleParameters$ext.referenceIndexCallback,\n    preloadIndexCallback = _cradleParameters$ext.preloadIndexCallback,\n    deleteListCallback = _cradleParameters$ext.deleteListCallback,\n    changeListSizeCallback = _cradleParameters$ext.changeListSizeCallback,\n    changeListRangeCallback = _cradleParameters$ext.changeListRangeCallback,\n    itemExceptionCallback = _cradleParameters$ext.itemExceptionCallback,\n    repositioningFlagCallback = _cradleParameters$ext.repositioningFlagCallback,\n    repositioningIndexCallback = _cradleParameters$ext.repositioningIndexCallback,\n    callbacks = {\n      referenceIndexCallback: referenceIndexCallback,\n      preloadIndexCallback: preloadIndexCallback,\n      deleteListCallback: deleteListCallback,\n      changeListSizeCallback: changeListSizeCallback,\n      changeListRangeCallback: changeListRangeCallback,\n      itemExceptionCallback: itemExceptionCallback,\n      repositioningFlagCallback: repositioningFlagCallback,\n      repositioningIndexCallback: repositioningIndexCallback\n    };\n  this.callbacks = callbacks;\n});\nexports["default"] = ServiceHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEJDLHVCQUF1QixFQUF2QkEsdUJBQXVCO01BQ3ZCQyxxQkFBcUIsRUFBckJBLHFCQUFxQjtNQUNyQkMseUJBQXlCLEVBQXpCQSx5QkFBeUI7TUFDekJDLDBCQUEwQixFQUExQkE7S0FDSDtFQUVELElBQUksQ0FBQ25KLFNBQVMsR0FBR0EsU0FBUztBQUU3QixDQUFDO0FBbENMb0osa0JBQUEsR0FBQW5MLGNBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zZXJ2aWNlaGFuZGxlci50c3g/OWNiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXJ2aWNlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgZmllbGRzIHNlcnZpY2UgcmVxdWVzdHMgZnJvbSB0aGUgaG9zdC4gVGhlcmUgYXJlIHR3byBmb3Jtc1xuICAgIC0gc3RyZWFtaW5nIGZyb20gdGhlIHNjcm9sbGVyIHRvIHRoZSBob3N0XG4gICAgLSBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSB1c2VyIHRvIHRoZSBzY3JvbGxlclxuXG4gICAgRm9yIHRoZSBsaXN0IG9mIGRhdGEgc3RyZWFtcywgc2VlIHRoZSBjb25zdHJ1Y3Rvci5cblxuICAgIFRoZSBmdW5jdGlvbiBjYWxscyBhdmFpYWJsZSB0byB0aGUgaG9zdCBhcmU6XG5cbiAgICAgICAgc2Nyb2xsVG9JbmRleCwgXG4gICAgICAgIHJlbG9hZCwgXG4gICAgICAgIHNldExpc3RzaXplLCAqZGVwcmVjdGF0ZWQqIGZvciBwcm9wZXIgY2FtZWwgY2FzZVxuICAgICAgICBzZXRMaXN0U2l6ZSxcbiAgICAgICAgc2V0TGlzdFJhbmdlLFxuICAgICAgICBwcmVwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgYXBwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgY2xlYXJDYWNoZSwgXG5cbiAgICAgICAgZ2V0Q2FjaGVJbmRleE1hcCwgXG4gICAgICAgIGdldENhY2hlSXRlbU1hcCxcbiAgICAgICAgZ2V0Q3JhZGxlSW5kZXhNYXAsXG4gICAgICAgIGdldFByb3BlcnRpZXNTbmFwc2hvdCxcblxuICAgICAgICBpbnNlcnRJbmRleCxcbiAgICAgICAgcmVtb3ZlSW5kZXgsXG4gICAgICAgIG1vdmVJbmRleCxcbiAgICAgICAgcmVtYXBJbmRleGVzLFxuICAgIFxuICAgIFRoZSBmdW5jdGlvbnMgbGlzdGVkIGFyZSBkZWZpbmVkIGluIHRoaXMgbW9kdWxlLlxuXG4gICAgVGhlcmUgYXJlIGltcG9ydGFudCBzdXBwb3J0aW5nIGZ1bmN0aW9ucyBmb3IgdGhlc2UgaW4gY2FjaGVBUEkgYW5kIGNvbnRlbnRIYW5kbGVyLiBzdGF0ZUhhbmRsZXIgaXNcbiAgICBvZnRlbiBpbnZva2VkIGJ5IHNlcnZpY2UgZnVuY3Rpb25zIHRvIGNoYW5nZSBDcmFkbGUgc3RhdGUgdXBvbiBzZXJ2aWNpbmcgcmVxdWVzdHMuXG4qL1xuXG5jb25zdCBpc0JsYW5rID0gKHZhbHVlOmFueSkgPT4ge1xuICAgIGNvbnN0IHRlc3R2YWx1ZSA9IHZhbHVlID8/ICcnXG4gICAgcmV0dXJuIHRlc3R2YWx1ZSA9PT0gJydcbn1cblxuY29uc3QgaXNOdW1iZXIgPSAodmFsdWU6YW55KSA9PiB7XG5cbiAgICByZXR1cm4gKCBcbiAgICAgICAgKCFpc05hTihOdW1iZXIodmFsdWUpKSkgJiYgXG4gICAgICAgICghaXNOYU4ocGFyc2VJbnQodmFsdWUpKSkgXG4gICAgKVxuXG59XG5cbmNvbnN0IGlzSW50ZWdlciA9ICh2YWx1ZTphbnkpID0+IHtcblxuICAgIGNvbnN0IHRlc3QgPSArdmFsdWVcblxuICAgIHJldHVybiAoaXNOdW1iZXIodmFsdWUpICYmIChNYXRoLmZsb29yKHRlc3QpID09IHRlc3QpKVxuXG59XG5cbmNvbnN0IGlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlID0gKGNvbXBhcmVWYWx1ZTphbnksIG1pblZhbHVlOmFueSkgPT4ge1xuXG4gICAgaWYgKCFpc0ludGVnZXIoY29tcGFyZVZhbHVlKSB8fCAhaXNJbnRlZ2VyKG1pblZhbHVlKSkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCB0ZXN0dmFsdWUgPSArY29tcGFyZVZhbHVlXG4gICAgY29uc3QgdGVzdE1pblZhbHVlID0gK21pblZhbHVlXG5cbiAgICByZXR1cm4gdGVzdHZhbHVlID49IHRlc3RNaW5WYWx1ZVxuXG59XG5cbmNvbnN0IGlzVmFsdWVMZXNzVGhhblRvT3JFcXVhbFRvTWF4VmFsdWUgPSAoY29tcGFyZVZhbHVlOmFueSwgbWF4VmFsdWU6YW55KSA9PiB7XG5cbiAgICBpZiAoIWlzSW50ZWdlcihjb21wYXJlVmFsdWUpIHx8ICFpc0ludGVnZXIobWF4VmFsdWUpKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IHRlc3R2YWx1ZSA9ICtjb21wYXJlVmFsdWVcbiAgICBjb25zdCB0ZXN0TWF4VmFsdWUgPSArbWF4VmFsdWVcblxuICAgIHJldHVybiB0ZXN0dmFsdWUgPD0gdGVzdE1heFZhbHVlXG5cbn1cblxuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcbiAgICBzY3JvbGxUb0luZGV4OidpbnRlZ2VyOiByZXF1aXJlZCwgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGxvdyBpbmRleCcsXG4gICAgc2V0TGlzdFNpemU6J2ludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCcsXG4gICAgc2V0TGlzdFJhbmdlOidhcnJheVtsb3dpbmRleCxoaWdoaW5kZXhdOiByZXF1aXJlZCwgYm90aCBpbnRlZ2VycywgaGlnaGluZGV4IGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3dpbmRleCcsXG4gICAgaW5zZXJ0RnJvbTonaW5zZXJ0RnJvbSAtIGludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbG93IGluZGV4JyxcbiAgICBpbnNlcnRSYW5nZTonaW5zZXJ0UmFuZ2UgLSBibGFuaywgb3IgaW50ZWdlciBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIFwiZnJvbVwiIGluZGV4JyxcbiAgICByZW1vdmVGcm9tOidyZW1vdmVGcm9tIC0gaW50ZWdlcjogcmVxdWlyZWQsIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3cgaW5kZXgnLFxuICAgIHJlbW92ZVJhbmdlOidyZW1vdmVSYW5nZSAtIGJsYW5rLCBvciBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgXCJmcm9tXCIgaW5kZXgnLFxuICAgIG1vdmVGcm9tOidtb3ZlRnJvbSAtIGludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbG93IGluZGV4JyxcbiAgICBtb3ZlUmFuZ2U6J21vdmVSYW5nZSAtIGJsYW5rLCBvciBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgXCJmcm9tXCIgaW5kZXgnLFxuICAgIG1vdmVUbzonbW92ZVRvIC0gaW50ZWdlcjogcmVxdWlyZWQsIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3cgaW5kZXgnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAgICAvLyBkb2luZyB0aGlzIGV4cGxpY2l0bHkgaGVyZSBmb3IgZG9jdW1lbnRhdGlvblxuICAgICAgIGNvbnN0IFxuXG4gICAgICAge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLCAvLyAoaW5kZXgsIGxvY2F0aW9uLCBjcmFkbGVTdGF0ZSlcbiAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2ssIC8vIChpbmRleClcbiAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrLCAvLyAocmVhc29uLCBkZWxldGVMaXN0KVxuICAgICAgICAgICBjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrLCAvLyAobmV3bGlzdHNpemUpXG4gICAgICAgICAgIGNoYW5nZUxpc3RSYW5nZUNhbGxiYWNrLFxuICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2ssIC8vIChpbmRleCwgaXRlbUlELCByZXR1cm52YWx1ZSwgbG9jYXRpb24sIGVycm9yKVxuICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrLCAvLyAoZmxhZykgLy8gYm9vbGVhblxuICAgICAgICAgICByZXBvc2l0aW9uaW5nSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgXG4gICAgICAgfSA9IGNyYWRsZVBhcmFtZXRlcnMuZXh0ZXJuYWxDYWxsYmFja3NSZWYuY3VycmVudCxcblxuICAgICAgIGNhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgcmVmZXJlbmNlSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2ssXG4gICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjayxcbiAgICAgICAgICAgY2hhbmdlTGlzdFNpemVDYWxsYmFjayxcbiAgICAgICAgICAgY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2ssXG4gICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayxcbiAgICAgICAgICAgcmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayxcbiAgICAgICAgICAgcmVwb3NpdGlvbmluZ0luZGV4Q2FsbGJhY2tcbiAgICAgICB9XG5cbiAgICAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAvLyBzZWUgYWJvdmUgZm9yIGxpc3RcbiAgICBwdWJsaWMgY2FsbGJhY2tzXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1bIEdFTkVSQUwgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBpbnRlcnJ1cHRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3JlbG9hZCcpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2Nyb2xsVG9JbmRleCA9IChpbmRleCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHsgdmlydHVhbExpc3RQcm9wcyB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICB7IGxvd2luZGV4LCBzaXplIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgaWYgKCFzaXplKSByZXR1cm5cblxuICAgICAgICBjb25zdCBpc0ludmFsaWQgPSAoIWlzSW50ZWdlcihpbmRleCkpIC8vfHwgXG5cbiAgICAgICAgaWYgKCFpc0ludmFsaWQpIHtcblxuICAgICAgICAgICAgaWYgKCFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShpbmRleCwgbG93aW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBsb3dpbmRleFxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCA9ICtpbmRleFxuXG4gICAgICAgIGlmIChpc0ludmFsaWQpIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JJR1MgRVJST1Igc2Nyb2xsVG9JbmRleChpbmRleCkpOicsIGluZGV4LCBlcnJvck1lc3NhZ2VzLnNjcm9sbFRvSW5kZXgpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RcblxuICAgICAgICAgICAgaGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXJcblxuICAgICAgICAgICAgfSA9IGhhbmRsZXJzLFxuXG4gICAgICAgICAgICB7IHNpZ25hbHMgfSA9IGludGVycnVwdEhhbmRsZXJcblxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcblxuICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBpbmRleCAtIGxvd2luZGV4XG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdzY3JvbGx0bycpXG5cbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkIChjYW1lbCBjYXNlKVxuICAgIHB1YmxpYyBzZXRMaXN0c2l6ZSA9IChuZXdsaXN0c2l6ZSkgPT4geyAvLyAqZGVwcmVjYXRlZCogKGZvciBjYW1lbCBjYXNlKVxuXG4gICAgICAgIHRoaXMuc2V0TGlzdFNpemUobmV3bGlzdHNpemUpXG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRMaXN0U2l6ZSA9IChuZXdsaXN0c2l6ZSkgPT4ge1xuXG4gICAgICAgIG5ld2xpc3RzaXplID0gK25ld2xpc3RzaXplXG5cbiAgICAgICAgY29uc3QgaXNJbnZhbGlkID0gKCFpc0ludGVnZXIobmV3bGlzdHNpemUpIHx8ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShuZXdsaXN0c2l6ZSwgMCkpXG5cbiAgICAgICAgaWYgKGlzSW52YWxpZCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBzZXRMaXN0U2l6ZShuZXdsaXN0c2l6ZSknLCBuZXdsaXN0c2l6ZSwgZXJyb3JNZXNzYWdlcy5zZXRMaXN0U2l6ZSlcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSSwgXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIsIFxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlciBcblxuICAgICAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrLCBcblxuICAgICAgICAgICAgfSA9IHRoaXMuY2FsbGJhY2tzLFxuXG4gICAgICAgICAgICBjdXJyZW50bGlzdHNpemUgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQudmlydHVhbExpc3RQcm9wcy5zaXplLFxuXG4gICAgICAgICAgICB7IGNhY2hlIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ2NoYW5nZSBsaXN0IHNpemUgaW50ZXJ2ZW50aW9uJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyLnVwZGF0ZVZpcnR1YWxMaXN0U2l6ZShuZXdsaXN0c2l6ZSlcbiAgICAgICAgY2FjaGVBUEkuY2hhbmdlQ2FjaGVMaXN0U2l6ZShuZXdsaXN0c2l6ZSwgZExpc3RDYWxsYmFjaylcblxuICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG5cbiAgICAgICAgaWYgKChjYWNoZSA9PSAncHJlbG9hZCcpICYmIChuZXdsaXN0c2l6ZSA+IGN1cnJlbnRsaXN0c2l6ZSkpIHtcblxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdzdGFydHByZWxvYWQnKVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRMaXN0UmFuZ2UgPSAobmV3bGlzdHJhbmdlKSA9PiB7XG5cbiAgICAgICAgbGV0IGlzSW52YWxpZCA9ICFBcnJheS5pc0FycmF5KG5ld2xpc3RyYW5nZSlcblxuICAgICAgICBpZiAoIWlzSW52YWxpZCkge1xuXG4gICAgICAgICAgICBpc0ludmFsaWQgPSAhKG5ld2xpc3RyYW5nZS5sZW5ndGggPT0gMCB8fCBuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDIpXG5cbiAgICAgICAgICAgIGlmICghaXNJbnZhbGlkICYmIChuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDIpKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgW2xvd2luZGV4LGhpZ2hpbmRleF0gPSBuZXdsaXN0cmFuZ2VcblxuICAgICAgICAgICAgICAgIGxvd2luZGV4ID0gK2xvd2luZGV4XG4gICAgICAgICAgICAgICAgaGlnaGluZGV4ID0gK2hpZ2hpbmRleFxuXG4gICAgICAgICAgICAgICAgaXNJbnZhbGlkID0gKCghaXNJbnRlZ2VyKGxvd2luZGV4KSkgfHwgKCFpc0ludGVnZXIoaGlnaGluZGV4KSkgfHwgKCFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShoaWdoaW5kZXgsIGxvd2luZGV4KSkpXG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzSW52YWxpZCkgbmV3bGlzdHJhbmdlID0gW2xvd2luZGV4LGhpZ2hpbmRleF1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNJbnZhbGlkKSB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSSUdTIEVSUk9SIHNldExpc3RSYW5nZShuZXdsaXN0cmFuZ2UpJywgbmV3bGlzdHJhbmdlLCBlcnJvck1lc3NhZ2VzLnNldExpc3RSYW5nZSlcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSSwgXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIsIFxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlciBcblxuICAgICAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrLCBcblxuICAgICAgICAgICAgfSA9IHRoaXMuY2FsbGJhY2tzLFxuXG4gICAgICAgICAgICBjdXJyZW50bGlzdHJhbmdlID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LnZpcnR1YWxMaXN0UHJvcHMucmFuZ2UsXG5cbiAgICAgICAgICAgIHsgY2FjaGUgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICBpZiAoZGVsZXRlTGlzdENhbGxiYWNrKSB7XG4gICAgICAgICAgICBkTGlzdENhbGxiYWNrID0gKGRlbGV0ZUxpc3QpID0+IHtcblxuICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygnY2hhbmdlIGxpc3QgcmFuZ2UgaW50ZXJ2ZW50aW9uJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyLnVwZGF0ZVZpcnR1YWxMaXN0UmFuZ2UobmV3bGlzdHJhbmdlKVxuICAgICAgICBjYWNoZUFQSS5jaGFuZ2VDYWNoZUxpc3RSYW5nZShuZXdsaXN0cmFuZ2UsIGRMaXN0Q2FsbGJhY2spXG5cbiAgICAgICAgY2FjaGVBUEkucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG5cbiAgICAgICAgaWYgKChjYWNoZSA9PSAncHJlbG9hZCcpICYmIFxuICAgICAgICAgICAgKG5ld2xpc3RyYW5nZS5sZW5ndGggPT0gMikgJiZcbiAgICAgICAgICAgIChuZXdsaXN0cmFuZ2VbMF0gPCBjdXJyZW50bGlzdHJhbmdlWzBdIHx8IG5ld2xpc3RyYW5nZVsxXSA+IGN1cnJlbnRsaXN0cmFuZ2VbMV0pKSB7XG5cbiAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnc3RhcnRwcmVsb2FkJylcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgcHJlcGVuZEluZGV4Q291bnQgPSAocHJlcGVuZENvdW50KSA9PiB7XG4gICAgICAgIHByZXBlbmRDb3VudCA9ICtwcmVwZW5kQ291bnRcbiAgICAgICAgY29uc3QgaXNJbnZhbGlkID0gKCghaXNJbnRlZ2VyKHByZXBlbmRDb3VudCkpIHx8ICghaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUocHJlcGVuZENvdW50LCAwKSkpXG4gICAgICAgIGlmIChpc0ludmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSSUdTIEVSUk9SLCBwcmVwZW5kSW5kZXhDb3VudCBtdXN0IGJlIGFuIGludGVnZXIgPj0gMCcpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHZpcnR1YWxMaXN0UHJvcHMgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICBjb25zdCBbbG93aW5kZXgsIGhpZ2hpbmRleF0gPSB2aXJ0dWFsTGlzdFByb3BzLnJhbmdlXG4gICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGxldCBuZXdsaXN0cmFuZ2VcbiAgICAgICAgaWYgKHNpemUpIHtcblxuICAgICAgICAgICAgbmV3bGlzdHJhbmdlID0gW2xvd2luZGV4IC0gcHJlcGVuZENvdW50LGhpZ2hpbmRleF1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBuZXdsaXN0cmFuZ2UgPSBbLXByZXBlbmRDb3VudCArIDEsMF1cblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRMaXN0UmFuZ2UobmV3bGlzdHJhbmdlKVxuICAgIH1cblxuICAgIHB1YmxpYyBhcHBlbmRJbmRleENvdW50ID0gKGFwcGVuZENvdW50KSA9PiB7XG4gICAgICAgIGFwcGVuZENvdW50ID0gK2FwcGVuZENvdW50XG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9ICgoIWlzSW50ZWdlcihhcHBlbmRDb3VudCkpIHx8ICghaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUoYXBwZW5kQ291bnQsIDApKSlcbiAgICAgICAgaWYgKGlzSW52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JJR1MgRVJST1IsIGFwcGVuZEluZGV4Q291bnQgbXVzdCBiZSBhbiBpbnRlZ2VyID49IDAnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgW2xvd2luZGV4LCBoaWdoaW5kZXhdID0gdmlydHVhbExpc3RQcm9wcy5yYW5nZVxuICAgICAgICBjb25zdCB7IHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBsZXQgbmV3bGlzdHJhbmdlXG4gICAgICAgIGlmIChzaXplKSB7XG5cbiAgICAgICAgICAgIG5ld2xpc3RyYW5nZSA9IFtsb3dpbmRleCxoaWdoaW5kZXggKyBhcHBlbmRDb3VudF0gXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbmV3bGlzdHJhbmdlID0gWzAsYXBwZW5kQ291bnQgLSAxXVxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldExpc3RSYW5nZShuZXdsaXN0cmFuZ2UpXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09WyBHRVQgU05BUFNIT1RTIF09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHB1YmxpYyBnZXRDYWNoZUluZGV4TWFwID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEkgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlQVBJLmdldENhY2hlSW5kZXhNYXAoKVxuXG4gICAgfVxuXG4gICAgcHVibGljIGdldENhY2hlSXRlbU1hcCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIHJldHVybiBjYWNoZUFQSS5nZXRDYWNoZUl0ZW1NYXAoKVxuXG4gICAgfVxuXG4gICAgcHVibGljIGdldENyYWRsZUluZGV4TWFwID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEksIGNvbnRlbnRIYW5kbGVyIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IG1vZGVsSW5kZXhMaXN0ID0gY29udGVudEhhbmRsZXIuZ2V0TW9kZWxJbmRleExpc3QoKVxuICAgICAgICByZXR1cm4gY2FjaGVBUEkuZ2V0Q3JhZGxlSW5kZXhNYXAobW9kZWxJbmRleExpc3QpXG4gICAgfVxuXG4gICAgcHVibGljIGdldFByb3BlcnRpZXNTbmFwc2hvdCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9wcyA9IHsuLi50aGlzLmNyYWRsZVBhcmFtZXRlcnMuc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLmN1cnJlbnR9XG4gICAgICAgIFxuICAgICAgICBwcm9wcy52aXJ0dWFsTGlzdFByb3BzID0gey4uLnByb3BzLnZpcnR1YWxMaXN0UHJvcHN9XG4gICAgICAgIHByb3BzLmNyYWRsZUNvbnRlbnRQcm9wcyA9IHsuLi5wcm9wcy5jcmFkbGVDb250ZW50UHJvcHN9XG5cbiAgICAgICAgcmV0dXJuIHByb3BzXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PVsgQ0FDSEUgTUFOQUdFTUVOVCBSRVFVRVNUUyBdPT09PT09PT09PT09PT09PT09XG5cbiAgICBwdWJsaWMgY2xlYXJDYWNoZSA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2NsZWFyY2FjaGUnKVxuXG4gICAgfVxuXG4gICAgLy8gaXRlbUlEIHNldCB0byBudWxsIGRlbGV0ZXMgdGhlIGluZGV4ZWQgaXRlbVxuICAgIC8vIGl0ZW1JRCBzZXQgdG8gdW5kZWZpbmVkIHJlcGxhY2VzIHRoZSBpbmRleGVkIGl0ZW1cbiAgICAvLyB0aGUgbWFpbiBwdXJwb3NlIGlzIHRvIGFsbG93IGl0ZW1zSURzIHRvIGJlIHJlbWFwcGVkIHRvIG5ldyBpbmRleGVzXG4gICAgLy8gb3BlcmF0aW9ucyBhcmUgb24gZXhpc3RpbmcgY2FjaGUgaXRlbXMgb25seVxuICAgIHB1YmxpYyByZW1hcEluZGV4ZXMgPSAoY2hhbmdlTWFwKSA9PiB7IC8vIGluZGV4ID0+IGl0ZW1JRFxuXG4gICAgICAgIGlmIChjaGFuZ2VNYXAuc2l6ZSA9PSAwKSByZXR1cm4gW10gLy8gbm90aGluZyB0byBkb1xuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEksIGNvbnRlbnRIYW5kbGVyLCBzdGF0ZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IFxuXG4gICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAsIC8vIGl0ZW1JRCB0byBjb21wb25lbnQgZGF0YSwgaW5jbHVkaW5nIGluZGV4XG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLCAvLyBpbmRleCB0byBpdGVtSURcbiAgICAgICAgICAgIGl0ZW1TZXQsXG5cbiAgICAgICAgfSA9IGNhY2hlQVBJIFxuXG4gICAgICAgIGNvbnN0IGluZGV4ZXNUb0RlbGV0ZUxpc3QgPSBbXVxuICAgICAgICBjb25zdCBpbmRleGVzVG9SZXBsYWNlSXRlbUlETGlzdCA9IFtdXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbkl0ZW1zVG9SZXBsYWNlTGlzdCA9IFtdXG4gICAgICAgIGNvbnN0IGNoYW5nZUluZGV4VG9JdGVtSURNYXAgPSBuZXcgTWFwKClcbiAgICAgICAgY29uc3QgZXJyb3JFbnRyaWVzTWFwID0gbmV3IE1hcCgpXG5cbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBQUkVQQVJFIF09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGlzb2xhdGUgaW5kZXhlcyBmb3Igd2hpY2ggaXRlbXMgc2hvdWxkIGJlIHJlcGxhY2VkIF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IHdvcmtpbmdDaGFuZ2VNYXAgPSBuZXcgTWFwKClcbiAgICAgICAgY2hhbmdlTWFwLmZvckVhY2goKGl0ZW1JRCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleFRvSXRlbUlETWFwLmhhcyhpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVJdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChpbmRleClcblxuICAgICAgICAgICAgICAgICAgICBpbmRleGVzVG9SZXBsYWNlSXRlbUlETGlzdC5wdXNoKGluZGV4KVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNhY2hlSXRlbUlEID09PSB1bmRlZmluZWQpKSB7IC8vIGlnbm9yZSBub24tZXhpc3RlbnQgaW5kZXhlc1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBhcnRpdGlvbklEIH0gPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KGNhY2hlSXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aXRpb25JdGVtc1RvUmVwbGFjZUxpc3QucHVzaCh7cGFydGl0aW9uSUQsIGl0ZW1JRDpjYWNoZUl0ZW1JRH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRW50cmllc01hcC5zZXQoaW5kZXgsICdpbmRleCB0byByZXBsYWNlIGlzIG5vdCBpbiBjYWNoZScpXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgd29ya2luZ0NoYW5nZU1hcC5zZXQoaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGluZGV4ZXNUb1JlcGxhY2VJdGVtSURMaXN0LmZvckVhY2goKGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmRlbGV0ZShpbmRleClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0gZmlsdGVyIG91dCBpbm9wZXJhYmxlIGluZGV4ZXMgYW5kIGl0ZW1JRHMgLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgaXRlbXNUb1JlcGxhY2VTZXQgPSBuZXcgU2V0KClcbiAgICAgICAgcGFydGl0aW9uSXRlbXNUb1JlcGxhY2VMaXN0LmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICAgICAgaXRlbXNUb1JlcGxhY2VTZXQuYWRkKG9iai5pdGVtSUQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc3QgaXRlbXNUb1JlcGxhY2VMaXN0ID0gQXJyYXkuZnJvbShpdGVtc1RvUmVwbGFjZVNldClcblxuICAgICAgICB3b3JraW5nQ2hhbmdlTWFwLmZvckVhY2goKGl0ZW1JRCwgaW5kZXgpID0+e1xuXG4gICAgICAgICAgICBpZiAoKGl0ZW1JRCA9PT0gbnVsbCkgfHwgKGl0ZW1JRCA9PT0gdW5kZWZpbmVkKSkge1xuXG4gICAgICAgICAgICAgICAgaW5kZXhlc1RvRGVsZXRlTGlzdC5wdXNoKGluZGV4KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgaXRlbUlEKSA9PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRW50cmllc01hcC5zZXQoaW5kZXgsJ2l0ZW1JRCBpcyBhIHN0cmluZycpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGl0ZW1JRCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvckVudHJpZXNNYXAuc2V0KGluZGV4LCdpdGVtSUQgaXMgbm90IGFuIGludGVnZXInKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaW5kZXhUb0l0ZW1JRE1hcC5oYXMoaW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JFbnRyaWVzTWFwLnNldChpbmRleCwgJ2luZGV4IG5vdCBpbiBjYWNoZScpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSA9PSBpdGVtSUQpIHtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvckVudHJpZXNNYXAuc2V0KGluZGV4LCBgdGFyZ2V0IGl0ZW1JRCAke2l0ZW1JRH0gaGFzIG5vdCBjaGFuZ2VkYClcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWl0ZW1NZXRhZGF0YU1hcC5oYXMoaXRlbUlEKSB8fCBpdGVtc1RvUmVwbGFjZVNldC5oYXMoaXRlbUlEKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRW50cmllc01hcC5zZXQoaW5kZXgsIGB0YXJnZXQgaXRlbUlEICR7aXRlbUlEfSBub3QgaW4gY2FjaGUsIG9yIGhhcyBiZWVuIHJlbW92ZWRgKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VJbmRleFRvSXRlbUlETWFwLnNldChpbmRleCwgaXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLSBmaWx0ZXIgb3V0IGR1cGxpY2F0ZSBpdGVtSURzIC0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IG1hcHNpemUgPSBjaGFuZ2VJbmRleFRvSXRlbUlETWFwLnNpemVcblxuICAgICAgICBjb25zdCBpdGVtSURTZXQgPSBuZXcgU2V0KGNoYW5nZUluZGV4VG9JdGVtSURNYXAudmFsdWVzKCkpXG5cbiAgICAgICAgY29uc3QgaXRlbXNldHNpemUgPSBpdGVtSURTZXQuc2l6ZVxuXG4gICAgICAgIGlmIChtYXBzaXplICE9IGl0ZW1zZXRzaXplKSB7IC8vIHRoZXJlIG11c3QgYmUgZHVwbGljYXRlIGl0ZW1JRHNcblxuICAgICAgICAgICAgY29uc3QgaXRlbUlEQ291bnRNYXAgPSBuZXcgTWFwKClcblxuICAgICAgICAgICAgY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5mb3JFYWNoKChpdGVtSUQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghaXRlbUlEQ291bnRNYXAuaGFzKGl0ZW1JRCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBpdGVtSURDb3VudE1hcC5zZXQoaXRlbUlELCAxKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSBpdGVtSURDb3VudE1hcC5nZXQoaXRlbUlEKVxuICAgICAgICAgICAgICAgICAgICBpdGVtSURDb3VudE1hcC5zZXQoaXRlbUlELCArK2NvdW50IClcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0ZUl0ZW1zTWFwID0gbmV3IE1hcCgpXG4gICAgICAgICAgICBpdGVtSURDb3VudE1hcC5mb3JFYWNoKChjb3VudCxpdGVtSUQpPT57XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlSXRlbXNNYXAuc2V0KGl0ZW1JRCwgY291bnQpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3QgZHVwbGljYXRlc1RvUmVtb3ZlTGlzdCA9IFtdXG4gICAgICAgICAgICBjaGFuZ2VJbmRleFRvSXRlbUlETWFwLmZvckVhY2goKGl0ZW1JRCwgaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkdXBsaWNhdGVJdGVtc01hcC5oYXMoaXRlbUlEKSkge1xuICAgICAgICAgICAgICAgICAgICBkdXBsaWNhdGVzVG9SZW1vdmVMaXN0LnB1c2goaW5kZXgpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkdXBsaWNhdGVzVG9SZW1vdmVMaXN0LmZvckVhY2goKGluZGV4KT0+e1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBkdXBsaWNhdGVJdGVtc01hcC5nZXQoaXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgZXJyb3JFbnRyaWVzTWFwLnNldChpbmRleCwgYHRhcmdldCBpdGVtSUQgJHtpdGVtSUR9IGhhcyBkdXBsaWNhdGVzICgke2NvdW50fSlgKVxuICAgICAgICAgICAgICAgIGNoYW5nZUluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0gY2FwdHVyZSBtYXAgYmVmb3JlIGNoYW5nZXMgLS0tLS0tLS0tLVxuICAgICAgICAvLyAuLi4gdGhpcyBtYXAgaXMgdXNlZCBsYXRlciB0byBpZGVudGlmeSBvcnBoYW5lZCBpdGVtIGFuZCBpbmRleCBjYWNoZSByZWNvcmRzIGZvciBkZWxldGlvblxuXG4gICAgICAgIC8vIGZyb20gdGhlIGxpc3Qgb2YgY2hhbmdlc1xuICAgICAgICAvLyBib3RoIHNpZGVzIG9mIGNoYW5nZSBtYXAuLi5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxNYXAgPSBuZXcgTWFwKCkgLy8gaW5kZXggPT4gaXRlbUlEOyBiZWZvcmUgY2hhbmdlXG4gICAgICAgIGNoYW5nZUluZGV4VG9JdGVtSURNYXAuZm9yRWFjaCgoaXRlbUlELCBpbmRleCk9PntcblxuICAgICAgICAgICAgb3JpZ2luYWxNYXAuc2V0KGluZGV4LGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSkgLy8gaW5kZXggdG8gYmUgbWFwcGVkXG4gICAgICAgICAgICBvcmlnaW5hbE1hcC5zZXQoaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpLmluZGV4LGl0ZW1JRCkgLy8gdGFyZ2V0IGl0ZW1JRFxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gLi4uIGFuZCBmcm9tIHRoZSBsaXN0IG9mIGluZGV4ZXMgdG8gYmUgZGVsZXRlZFxuICAgICAgICBpbmRleGVzVG9EZWxldGVMaXN0LmZvckVhY2goKGluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgIG9yaWdpbmFsTWFwLnNldChpbmRleCwgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpKVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVsgQ0FDSEUgT1BFUkFUSU9OUyBdPT09PT09PT09PT09PT09PVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLSBkZWxldGUgbGlzdGVkIGluZGV4ZXMgLS0tLS0tLS0tXG4gICAgICAgIC8vIGZvciBpbmRleGVzIHNldCB0byBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAvLyBhc3NvY2lhdGVkIGl0ZW1JRCdzIHdpbGwgYmUgb3JwaGFuZWQsIGJ1dCBjb3VsZCBiZSByZW1hcHBlZC5cbiAgICAgICAgLy8gb3JwaGFucyBhcmUgcmVzb2x2ZWQgYmVsb3dcblxuICAgICAgICBpZiAoaW5kZXhlc1RvRGVsZXRlTGlzdC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgaW5kZXhlc1RvRGVsZXRlTGlzdC5mb3JFYWNoKChpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5kZWxldGUoaW5kZXgpXG5cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tIGFwcGx5IGZpbHRlcmVkIGNoYW5nZXMgdG8gY2FjaGUgaW5kZXggbWFwIGFuZCBpdGVtSUQgbWFwIC0tLS0tLS0tLS1cbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBldmVyeSByZW1haW5pbmcgaW5kZXggbGlzdGVkIHdpbGwgY2hhbmdlIGl0cyBtYXBwaW5nXG5cbiAgICAgICAgLy8gY29uc3QgcHJvY2Vzc2VkTWFwID0gbmV3IE1hcCgpIC8vIGluZGV4ID0+IGl0ZW1JRDsgY2hhbmdlIGhhcyBiZWVuIGFwcGxpZWRcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkSW5kZXhMaXN0ID0gW11cblxuICAgICAgICAvLyBtYWtlIGNoYW5nZXNcbiAgICAgICAgY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5mb3JFYWNoKChpdGVtSUQsaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5zZXQoaW5kZXgsaXRlbUlEKSAvLyBtb2RpaWNhdGlvbiBhcHBsaWVkLCBwYXJ0IDFcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1kYXRhID0gaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpXG5cbiAgICAgICAgICAgIGl0ZW1kYXRhLmluZGV4ID0gaW5kZXggLy8gbW9kaWZpY2F0aW9uIGFwcGxpZWQsIHBhcnQgMlxuXG4gICAgICAgICAgICAvLyBwcm9jZXNzZWRNYXAuc2V0KGluZGV4LGl0ZW1JRClcbiAgICAgICAgICAgIHByb2Nlc3NlZEluZGV4TGlzdC5wdXNoKGluZGV4KVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0gbG9vayBmb3IgYW5kIGRlbGV0ZSBpdGVtIGFuZCBpbmRleCBvcnBoYW5zIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIGlmIHRoZSBvcmlnaW5hbCBpdGVtJ3MgaW5kZXggaGFzIG5vdCBjaGFuZ2VkLCB0aGVuIGl0IGhhcyBub3QgYmVlbiByZW1hcHBlZCwgXG4gICAgICAgIC8vICAgICBpdCBpcyBvcnBoYW5lZCwgYW5kIHRoZSBpdGVtIGlzIGRlbGV0ZWRcbiAgICAgICAgLy8gaWYgdGhlIGl0ZW0ncyBpbmRleCBoYXMgY2hhbmdlZCwgYnV0IHRoZSBvcmlnaW5hbCBpdGVtIGluZGV4IG1hcCBzdGlsbCBwb2ludHMgdG8gdGhlIGl0ZW0sXG4gICAgICAgIC8vICAgICB0aGVuIHRoZSBpbmRleCBpcyBvcnBoYW5lZCAoZHVwbGljYXRlKSwgYW5kIGRlbGV0ZWRcblxuICAgICAgICBjb25zdCBkZWxldGVkSXRlbUlEVG9JbmRleE1hcCA9IG5ldyBNYXAoKSAvLyBpbmRleCA9PiBpdGVtSUQ7IG9ycGhhbmVkIGluZGV4XG4gICAgICAgIGNvbnN0IGRlbGV0ZWRJbmRleFRvSXRlbUlETWFwID0gbmV3IE1hcCgpXG5cbiAgICAgICAgY29uc3QgcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gW10gLy8gaG9sZCBkZWxldGVkIHBvcnRhbHMgZm9yIGRlbGV0aW9uIHVudGlsIGFmdGVyIGNyYWRsZSBzeW5jaFxuXG4gICAgICAgIG9yaWdpbmFsTWFwLmZvckVhY2goKG9yaWdpbmFsSXRlbUlELCBvcmlnaW5hbEl0ZW1JREluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbmFsSXRlbUlESW5kZXggPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KG9yaWdpbmFsSXRlbUlEKS5pbmRleFxuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxJdGVtSURJbmRleCA9PSBmaW5hbEl0ZW1JREluZGV4KSB7IC8vIG5vdCByZW1hcHBlZCwgdGhlcmVmb3JlIG9ycGhhbmVkXG5cbiAgICAgICAgICAgICAgICBkZWxldGVkSXRlbUlEVG9JbmRleE1hcC5zZXQob3JpZ2luYWxJdGVtSUQsIG9yaWdpbmFsSXRlbUlESW5kZXgpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcnRpdGlvbklEIH0gPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KG9yaWdpbmFsSXRlbUlEKVxuICAgICAgICAgICAgICAgIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdC5wdXNoKHtpdGVtSUQ6b3JpZ2luYWxJdGVtSUQsIHBhcnRpdGlvbklEfSlcbiAgICAgICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuZGVsZXRlKG9yaWdpbmFsSXRlbUlEKVxuICAgICAgICAgICAgICAgIGl0ZW1TZXQuZGVsZXRlKG9yaWdpbmFsSXRlbUlEKVxuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZW1hcHBlZCwgY2hlY2sgZm9yIG9ycGhhbmVkIGluZGV4XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhUb0l0ZW1JRE1hcC5oYXMob3JpZ2luYWxJdGVtSURJbmRleCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbEl0ZW1JRCA9IGluZGV4VG9JdGVtSURNYXAuZ2V0KG9yaWdpbmFsSXRlbUlESW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsSXRlbUlEID09IG9yaWdpbmFsSXRlbUlEKSB7IC8vIHRoZSBpbmRleCBoYXMgbm90IGJlZW4gcmVtYXBwZWQsIHRoZXJlZm9yZSBvcnBoYW5lZFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVkSW5kZXhUb0l0ZW1JRE1hcC5zZXQob3JpZ2luYWxJdGVtSURJbmRleCwgb3JpZ2luYWxJdGVtSUQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKG9yaWdpbmFsSXRlbUlESW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIGFwcGx5IGNoYW5nZXMgdG8gZXh0YW50IGNlbGxGcmFtZXMgLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gdGhlc2UgYXJlIHVzZWQgdG8gcmVjb25jaWxlIGNyYWRsZSBjZWxsRnJhbWVzLCBhbmQgYWxzbyBmb3IgcmV0dXJuIGluZm9ybWF0aW9uXG4gICAgICAgIC8vIGNvbnN0IHByb2Nlc3NlZEluZGV4TGlzdCA9IEFycmF5LmZyb20ocHJvY2Vzc2VkTWFwLmtleXMoKSlcbiAgICAgICAgY29uc3QgZGVsZXRlZE9ycGhhbmVkSXRlbUluZGV4TGlzdCA9IEFycmF5LmZyb20oZGVsZXRlZEl0ZW1JRFRvSW5kZXhNYXAudmFsdWVzKCkpXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRPcnBoYW5lZEluZGV4TGlzdCA9IEFycmF5LmZyb20oZGVsZXRlZEluZGV4VG9JdGVtSURNYXAua2V5cygpKVxuICAgICAgICAvLyBmb3IgcmV0dXJuIGluZm9ybWF0aW9uLi4uXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRPcnBoYW5lZEl0ZW1JRExpc3QgPSBBcnJheS5mcm9tKGRlbGV0ZWRJdGVtSURUb0luZGV4TWFwLmtleXMoKSkgXG5cbiAgICAgICAgbGV0IG1vZGlmaWVkSW5kZXhMaXN0ID0gW1xuICAgICAgICAgICAgLi4ucHJvY2Vzc2VkSW5kZXhMaXN0LFxuICAgICAgICAgICAgLi4uaW5kZXhlc1RvRGVsZXRlTGlzdCwgXG4gICAgICAgICAgICAuLi5kZWxldGVkT3JwaGFuZWRJdGVtSW5kZXhMaXN0LCBcbiAgICAgICAgICAgIC4uLmRlbGV0ZWRPcnBoYW5lZEluZGV4TGlzdFxuICAgICAgICBdXG5cbiAgICAgICAgbW9kaWZpZWRJbmRleExpc3QgPSBBcnJheS5mcm9tKG5ldyBTZXQobW9kaWZpZWRJbmRleExpc3QudmFsdWVzKCkpKSAvLyByZW1vdmUgZHVwbGljYXRlc1xuXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyLmNyZWF0ZU5ld0l0ZW1JRHMoaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QpXG5cbiAgICAgICAgY29udGVudEhhbmRsZXIucmVjb25jaWxlQ2VsbEZyYW1lcyhtb2RpZmllZEluZGV4TGlzdClcblxuICAgICAgICBtb2RpZmllZEluZGV4TGlzdCA9IG1vZGlmaWVkSW5kZXhMaXN0LmNvbmNhdChpbmRleGVzVG9SZXBsYWNlSXRlbUlETGlzdClcblxuICAgICAgICBjYWNoZUFQSS5wb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QgPSBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QuY29uY2F0KHBhcnRpdGlvbkl0ZW1zVG9SZXBsYWNlTGlzdClcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2FwcGx5cmVtYXBjaGFuZ2VzJylcblxuICAgICAgICAvLyAtLS0tLS0tLS0tIHJldHVybnMgZm9yIHVzZXIgaW5mb3JtYXRpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICByZXR1cm4gW1xuXG4gICAgICAgICAgICBtb2RpZmllZEluZGV4TGlzdCwgXG4gICAgICAgICAgICBwcm9jZXNzZWRJbmRleExpc3QsIFxuICAgICAgICAgICAgaW5kZXhlc1RvRGVsZXRlTGlzdCwgXG4gICAgICAgICAgICBpbmRleGVzVG9SZXBsYWNlSXRlbUlETGlzdCxcbiAgICAgICAgICAgIGRlbGV0ZWRPcnBoYW5lZEl0ZW1JRExpc3QsIFxuICAgICAgICAgICAgZGVsZXRlZE9ycGhhbmVkSW5kZXhMaXN0LFxuICAgICAgICAgICAgZXJyb3JFbnRyaWVzTWFwLCBcbiAgICAgICAgICAgIGNoYW5nZU1hcFxuXG4gICAgICAgIF1cblxuICAgIH1cblxuICAgIC8vIG1vdmUgbXVzdCBiZSBlbnRpcmVseSB3aXRoaW4gbGlzdCBib3VuZHNcbiAgICAvLyByZXR1cm5zIGxpc3Qgb2YgcHJvY2Vzc2VkIGluZGV4ZXNcbiAgICBwdWJsaWMgbW92ZUluZGV4ID0gKHRvbG93aW5kZXgsIGZyb21sb3dpbmRleCwgZnJvbWhpZ2hpbmRleCA9IG51bGwpID0+IHtcblxuICAgICAgICBjb25zdCBcblxuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IHZpcnR1YWxMaXN0UHJvcHMgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAgeyBsb3dpbmRleDpsaXN0bG93aW5kZXgsIHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBpZiAoIXNpemUpIHJldHVyblxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLSBjb25maXJtIHZhbGlkaXR5IG9mIGFyZ3VtZW50cyAtLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgaXNUb2luZGV4SW52YWxpZCA9ICghaXNJbnRlZ2VyKHRvbG93aW5kZXgpIHx8ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZSh0b2xvd2luZGV4LCBsaXN0bG93aW5kZXgpKVxuICAgICAgICBjb25zdCBpc0Zyb21pbmRleEludmFsaWQgPSAoIWlzSW50ZWdlcihmcm9tbG93aW5kZXgpIHx8ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShmcm9tbG93aW5kZXgsIGxpc3Rsb3dpbmRleCkpXG4gICAgICAgIGxldCBpc0hpZ2hyYW5nZUludmFsaWQgPSBmYWxzZVxuXG4gICAgICAgIGlmICgoIWlzRnJvbWluZGV4SW52YWxpZCkpIHtcbiAgICAgICAgICAgIGlmICghaXNCbGFuayhmcm9taGlnaGluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCA9ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShmcm9taGlnaGluZGV4LCBmcm9tbG93aW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb21oaWdoaW5kZXggPSBmcm9tbG93aW5kZXhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgdG9sb3dpbmRleCA9ICt0b2xvd2luZGV4XG4gICAgICAgIGZyb21sb3dpbmRleCA9ICtmcm9tbG93aW5kZXhcbiAgICAgICAgZnJvbWhpZ2hpbmRleCA9ICtmcm9taGlnaGluZGV4XG5cbiAgICAgICAgLy8gVE9ETyByZXR1cm4gZXJyb3IgYXJyYXkgaW5zdGVhZFxuICAgICAgICBpZiAoaXNUb2luZGV4SW52YWxpZCB8fCBpc0Zyb21pbmRleEludmFsaWQgfHwgaXNIaWdocmFuZ2VJbnZhbGlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBtb3ZlSW5kZXgodG9pbmRleCwgZnJvbWluZGV4LCBmcm9taGlnaHJhbmdlKScpXG4gICAgICAgICAgICBpc1RvaW5kZXhJbnZhbGlkICYmIGNvbnNvbGUubG9nKHRvbG93aW5kZXgsIGVycm9yTWVzc2FnZXMubW92ZVRvKVxuICAgICAgICAgICAgaXNGcm9taW5kZXhJbnZhbGlkICYmIGNvbnNvbGUubG9nKGZyb21sb3dpbmRleCwgZXJyb3JNZXNzYWdlcy5tb3ZlRnJvbSlcbiAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCAmJiBjb25zb2xlLmxvZyhmcm9taGlnaGluZGV4LCBlcnJvck1lc3NhZ2VzLm1vdmVSYW5nZSlcbiAgICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG5cbiAgICAgICAgdG9sb3dpbmRleCA9IE1hdGgubWF4KGxpc3Rsb3dpbmRleCx0b2xvd2luZGV4KVxuICAgICAgICBmcm9tbG93aW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsZnJvbWxvd2luZGV4KVxuICAgICAgICBmcm9taGlnaGluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LGZyb21oaWdoaW5kZXgpXG5cbiAgICAgICAgY29uc3QgZnJvbXNwYW4gPSBmcm9taGlnaGluZGV4IC0gZnJvbWxvd2luZGV4ICsgMVxuXG4gICAgICAgIGxldCB0b2hpZ2hpbmRleCA9IHRvbG93aW5kZXggKyBmcm9tc3BhbiAtIDFcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIGNvZXJjZSBwYXJhbWV0ZXJzIHRvIGxpc3QgYm91bmRzIC0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGxpc3RzaXplID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LnZpcnR1YWxMaXN0UHJvcHMuc2l6ZVxuXG4gICAgICAgIC8vIGtlZXAgd2l0aGluIGN1cnJlbnQgbGlzdCBzaXplXG4gICAgICAgIGNvbnN0IGxpc3RoaWdoaW5kZXggPSBsaXN0c2l6ZSAtIDFcblxuICAgICAgICBpZiAodG9oaWdoaW5kZXggPiBsaXN0aGlnaGluZGV4KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSB0b2hpZ2hpbmRleCAtIGxpc3RoaWdoaW5kZXhcbiAgICAgICAgICAgIHRvaGlnaGluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LHRvaGlnaGluZGV4IC0gZGlmZilcbiAgICAgICAgICAgIHRvbG93aW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsdG9sb3dpbmRleCAtIGRpZmYpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9taGlnaGluZGV4ID4gbGlzdGhpZ2hpbmRleCkge1xuXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZnJvbWhpZ2hpbmRleCAtIGxpc3RoaWdoaW5kZXhcbiAgICAgICAgICAgIGZyb21oaWdoaW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsZnJvbWhpZ2hpbmRleCAtIGRpZmYpXG4gICAgICAgICAgICBmcm9tbG93aW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsZnJvbWxvd2luZGV4IC0gZGlmZilcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLSBjb25zdHJhaW4gcGFyYW1ldGVycyAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG87IG5vIGRpc3BsYWNlbWVudFxuICAgICAgICBpZiAoZnJvbWxvd2luZGV4ID09IHRvbG93aW5kZXgpIHJldHVybiBbXSBcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLSBwZXJmb3JtIGNhY2hlIGFuZCBjcmFkbGUgb3BlcmF0aW9ucyAtLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IHsgY2FjaGVBUEksIGNvbnRlbnRIYW5kbGVyLCBzdGF0ZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRJbmRleExpc3QgPSAvLyBib3RoIGRpc3BsYWNlZCBhbmQgbW92ZWQgaW5kZXhlc1xuICAgICAgICAgICAgY2FjaGVBUEkubW92ZUluZGV4KHRvbG93aW5kZXgsIGZyb21sb3dpbmRleCwgZnJvbWhpZ2hpbmRleClcblxuICAgICAgICBpZiAocHJvY2Vzc2VkSW5kZXhMaXN0Lmxlbmd0aCkge1xuXG4gICAgICAgICAgICBjb250ZW50SGFuZGxlci5zeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlKHByb2Nlc3NlZEluZGV4TGlzdClcblxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBjb250ZW50SGFuZGxlclxuXG4gICAgICAgICAgICBjb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBjb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cy5zbGljZSgwLGNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cy5sZW5ndGgpXG4gICAgICAgICAgICBjb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMgPSBjb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cy5zbGljZShjb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMubGVuZ3RoKVxuXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2FwcGx5bW92ZWNoYW5nZXMnKVxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSW5kZXhMaXN0XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW5zZXJ0SW5kZXggPSAoaW5kZXgsIHJhbmdlaGlnaGluZGV4ID0gbnVsbCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHsgdmlydHVhbExpc3RQcm9wcyB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICB7IGxvd2luZGV4Omxpc3Rsb3dpbmRleCwgc2l6ZSB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGxldCBpc0luZGV4SW52YWxpZCA9ICFpc0ludGVnZXIoaW5kZXgpXG5cbiAgICAgICAgaWYgKCFpc0luZGV4SW52YWxpZCkge1xuXG4gICAgICAgICAgICBpZiAoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlzSW5kZXhJbnZhbGlkID0gIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKGluZGV4LCBsaXN0bG93aW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzSW5kZXhJbnZhbGlkID0gZmFsc2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzSGlnaHJhbmdlSW52YWxpZCA9IGZhbHNlXG5cbiAgICAgICAgaWYgKCghaXNJbmRleEludmFsaWQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzQmxhbmsocmFuZ2VoaWdoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaXNIaWdocmFuZ2VJbnZhbGlkID0gIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKHJhbmdlaGlnaGluZGV4LCBpbmRleClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VoaWdoaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXggPSAraW5kZXhcblxuICAgICAgICByYW5nZWhpZ2hpbmRleCA9ICtyYW5nZWhpZ2hpbmRleFxuXG4gICAgICAgIGlmIChpc0luZGV4SW52YWxpZCB8fCBpc0hpZ2hyYW5nZUludmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSSUdTIEVSUk9SIGluc2VydEluZGV4KGluZGV4LCByYW5nZWhpZ2hpbmRleCknKVxuICAgICAgICAgICAgaXNJbmRleEludmFsaWQgJiYgY29uc29sZS5sb2coaW5kZXgsIGVycm9yTWVzc2FnZXMuaW5zZXJ0RnJvbSlcbiAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCAmJiBjb25zb2xlLmxvZyhyYW5nZWhpZ2hpbmRleCwgZXJyb3JNZXNzYWdlcy5pbnNlcnRSYW5nZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRSZW1vdmVJbmRleChpbmRleCwgcmFuZ2VoaWdoaW5kZXgsICsxKVxuXG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUluZGV4ID0gKGluZGV4LCByYW5nZWhpZ2hpbmRleCA9IG51bGwpID0+IHtcblxuICAgICAgICBjb25zdCBcblxuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IHZpcnR1YWxMaXN0UHJvcHMgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAgeyBsb3dpbmRleDpsaXN0bG93aW5kZXgsIHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBpZiAoIXNpemUpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGlzSW5kZXhJbnZhbGlkID0gKCFpc0ludGVnZXIoaW5kZXgpIHx8ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShpbmRleCwgbGlzdGxvd2luZGV4KSlcbiAgICAgICAgbGV0IGlzSGlnaHJhbmdlSW52YWxpZCA9IGZhbHNlXG5cbiAgICAgICAgaWYgKCghaXNJbmRleEludmFsaWQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzQmxhbmsocmFuZ2VoaWdoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaXNIaWdocmFuZ2VJbnZhbGlkID0gIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKHJhbmdlaGlnaGluZGV4LCBpbmRleClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VoaWdoaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXggPSAraW5kZXhcbiAgICAgICAgcmFuZ2VoaWdoaW5kZXggPSArcmFuZ2VoaWdoaW5kZXhcblxuICAgICAgICBpZiAoaXNJbmRleEludmFsaWQgfHwgaXNIaWdocmFuZ2VJbnZhbGlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBtb3ZlSW5kZXgoaW5kZXgsIHJhbmdlaGlnaGluZGV4KScpXG4gICAgICAgICAgICBpc0luZGV4SW52YWxpZCAmJiBjb25zb2xlLmxvZyhpbmRleCwgZXJyb3JNZXNzYWdlcy5yZW1vdmVGcm9tKVxuICAgICAgICAgICAgaXNIaWdocmFuZ2VJbnZhbGlkICYmIGNvbnNvbGUubG9nKHJhbmdlaGlnaGluZGV4LCBlcnJvck1lc3NhZ2VzLnJlbW92ZVJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydFJlbW92ZUluZGV4KGluZGV4LCByYW5nZWhpZ2hpbmRleCwgLTEpXG5cbiAgICB9XG5cbiAgICBwdWJsaWMgbmV3TGlzdFNpemUgLy8gYWNjZXNzZWQgYnkgY2hhbmdlbGlzdHNpemVhZnRlcmluc2VydHJlbW92ZSBldmVudCBmcm9tIENyYWRsZVxuXG4gICAgLy8gc2hhcmVkIGxvZ2ljIGZvciBpbnNlcnQgYW5kIHJlbW92ZS4gUmV0dXJucyBsaXN0cyBvZiBpbmRleGVzIHNoaWZ0ZWQsIHJlcGxhY2VkLCBhbmQgcmVtb3ZlZFxuICAgIC8vIHRoaXMgb3BlcmF0aW9uIGNoYW5nZXMgdGhlIGxpc3RzaXplXG4gICAgcHJpdmF0ZSBpbnNlcnRSZW1vdmVJbmRleCA9IChpbmRleCwgcmFuZ2VoaWdoaW5kZXgsIGluY3JlbWVudCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FjaGVBUEksIFxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIsIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsIFxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsb3dpbmRleDpsaXN0bG93aW5kZXgsIFxuICAgICAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgICAgIHNpemU6bGlzdHNpemUsXG5cbiAgICAgICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzLFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbG93aW5kZXg6bG93Q3JhZGxlSW5kZXgsIFxuICAgICAgICAgICAgICAgIGhpZ2hpbmRleDpoaWdoQ3JhZGxlSW5kZXgsIFxuICAgICAgICAgICAgICAgIHNpemU6Y3JhZGxlU2l6ZSwgXG4gICAgICAgICAgICAgICAgcnVud2F5Um93Y291bnQ6cnVud2F5U2l6ZSxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9ID0gY3JhZGxlQ29udGVudFByb3BzXG5cbiAgICAgICAgLy8gYmFzaWMgYXNzZXJ0aW9uc1xuICAgICAgICBpZiAobGlzdHNpemUpIGluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LGluZGV4KVxuXG4gICAgICAgIC8vIGlmICghcmFuZ2VoaWdoaW5kZXgpIHJhbmdlaGlnaGluZGV4ID0gaW5kZXhcbiAgICAgICAgLy8gcmFuZ2VoaWdoaW5kZXggPSBNYXRoLm1heChyYW5nZWhpZ2hpbmRleCwgaW5kZXgpXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLSBwcm9jZXNzIGNhY2hlIC0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBpZiAobGlzdHNpemUgPT0gMCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaW5jcmVtZW50ID4gMCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaXN0UmFuZ2UoW2luZGV4LHJhbmdlaGlnaGluZGV4XSlcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VMaXN0ID0gW11cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaTw9cmFuZ2VoaWdoaW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlTGlzdC5wdXNoKGkpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbXSxyZXBsYWNlTGlzdCxbXV1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gW1tdLFtdLFtdXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgW3N0YXJ0Q2hhbmdlSW5kZXgsIHJhbmdlaW5jcmVtZW50LCBzaGlmdGVkTGlzdCwgcmVtb3ZlZExpc3QsIHJlcGxhY2VMaXN0LCBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3RdID0gXG4gICAgICAgICAgICBjYWNoZUFQSS5pbnNlcnRSZW1vdmVJbmRleChpbmRleCwgcmFuZ2VoaWdoaW5kZXgsIGluY3JlbWVudCwgbGlzdHNpemUpXG5cbiAgICAgICAgaWYgKHJhbmdlaW5jcmVtZW50ID09PSBudWxsKSByZXR1cm4gW1tdLFtdLFtdXSAvLyBubyBhY3Rpb25cblxuICAgICAgICAvLyBwYXJ0aXRpb25JdGVtcyB0byBkZWxldGUgd2l0aCBmb2xsb3d1cCBzdGF0ZSBjaGFuZ2VzIC0gbXVzdCBoYXBwZW4gYWZ0ZXIgY3JhZGxlIHVwZGF0ZVxuICAgICAgICBjYWNoZUFQSS5wb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QgPSBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3RcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIHN5bmNocm9uaXplIGNyYWRsZSB0byBjYWNoZSBjaGFuZ2VzIC0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgY3JhZGxlIG11c3QgYmUgcmVzZXQgb3Igc2ltcGx5IGFkanVzdGVkXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgY2hhbmdlY291bnQgPSByYW5nZWluY3JlbWVudCwgLy8gc2VtYW50aWNzXG4gICAgICAgICAgICBuZXdsaXN0c2l6ZSA9IHRoaXMubmV3TGlzdFNpemUgPSBsaXN0c2l6ZSArIGNoYW5nZWNvdW50LFxuXG4gICAgICAgICAgICBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQgPSB2aWV3cG9ydFJvd2NvdW50ICsgKHJ1bndheVNpemUgKiAyKSxcbiAgICAgICAgICAgIGNhbGN1bGF0ZWRDcmFkbGVJdGVtY291bnQgPSBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQgKiBjcm9zc2NvdW50LFxuXG4gICAgICAgICAgICBtZWFzdXJlZENyYWRsZUl0ZW1Db3VudCA9IChjcmFkbGVTaXplID09IDApPzA6aGlnaENyYWRsZUluZGV4IC0gbG93Q3JhZGxlSW5kZXggKyAxLFxuXG4gICAgICAgICAgICByZXNldENyYWRsZSA9ICgobWVhc3VyZWRDcmFkbGVJdGVtQ291bnQgPCBjYWxjdWxhdGVkQ3JhZGxlSXRlbWNvdW50KSB8fCBcbiAgICAgICAgICAgICAgICAoaGlnaENyYWRsZUluZGV4ID49IChuZXdsaXN0c2l6ZSAtIDEpKSlcblxuICAgICAgICBpZiAoIXJlc2V0Q3JhZGxlKSB7IC8vIHN5bmNocm9uaXplIGNyYWRsZSBjb250ZW50cyB0byBjaGFuZ2VzXG5cbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnN5bmNocm9uaXplQ3JhZGxlSXRlbUlEc1RvQ2FjaGUoc2hpZnRlZExpc3QsIGluY3JlbWVudCwgc3RhcnRDaGFuZ2VJbmRleCkgLy8gbm9uLXplcm8gY29tbXVuaWNhdGlvbnMgaXNJbnNlcnRSZW1vdmVcblxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBjb250ZW50SGFuZGxlclxuXG4gICAgICAgICAgICAvLyBjb25zdCByZXF1ZXN0ZWRTZXQgPSBjYWNoZUFQSS5jYWNoZVByb3BzLnJlcXVlc3RlZFNldFxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkU2V0ID0gY2FjaGVBUEkucmVxdWVzdGVkU2V0XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7IC8vIHdhaXQgdW50aWwgY2hhbmdlZCBjYWNoZSBlbnRyaWVzIHVwZGF0ZSB0aGUgY3JhZGxlXG5cbiAgICAgICAgICAgICAgICBpZighcmVxdWVzdGVkU2V0LnNpemUpIHsgLy8gZmluaXNoZWQgY29sbGVjdGluZyBuZXcgY2FjaGUgZW50cmllc1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZW91dCk7IFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IGNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzLnNsaWNlKDAsY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gY29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMuc2xpY2UoY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzLmxlbmd0aClcblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2FwcGx5aW5zZXJ0cmVtb3ZlY2hhbmdlcycpXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gY3JhZGxlIHRvIGJlIGNvbXBsZXRlbHkgcmVzZXQgaWYgbGlzdHNpemUgY2hhbmdlIGVuY3JvYWNoZXMgb24gY3JhZGxlXG5cbiAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnY2hhbm5lbGNyYWRsZXJlc2V0YWZ0ZXJpbnNlcnRyZW1vdmUnKVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXBsYWNlZExpc3QgPSByZXBsYWNlTGlzdCAvLyBzZW1hbnRpY3NcblxuICAgICAgICByZXR1cm4gW3NoaWZ0ZWRMaXN0LCByZXBsYWNlZExpc3QsIHJlbW92ZWRMaXN0XSAvLyBpbmZvcm0gY2FsbGVyXG5cbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJfaSIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIk51bWJlciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiaXNCbGFuayIsInRlc3R2YWx1ZSIsImlzTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUludCIsImlzSW50ZWdlciIsIk1hdGgiLCJmbG9vciIsImlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlIiwiY29tcGFyZVZhbHVlIiwibWluVmFsdWUiLCJ0ZXN0TWluVmFsdWUiLCJpc1ZhbHVlTGVzc1RoYW5Ub09yRXF1YWxUb01heFZhbHVlIiwibWF4VmFsdWUiLCJ0ZXN0TWF4VmFsdWUiLCJlcnJvck1lc3NhZ2VzIiwic2Nyb2xsVG9JbmRleCIsInNldExpc3RTaXplIiwic2V0TGlzdFJhbmdlIiwiaW5zZXJ0RnJvbSIsImluc2VydFJhbmdlIiwicmVtb3ZlRnJvbSIsInJlbW92ZVJhbmdlIiwibW92ZUZyb20iLCJtb3ZlUmFuZ2UiLCJtb3ZlVG8iLCJTZXJ2aWNlSGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsInJlbG9hZCIsInN0YXRlSGFuZGxlciIsImhhbmRsZXJzUmVmIiwiY3VycmVudCIsImludGVycnVwdEhhbmRsZXIiLCJwYXVzZUludGVycnVwdHMiLCJzZXRDcmFkbGVTdGF0ZSIsImluZGV4IiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmIiwidmlydHVhbExpc3RQcm9wcyIsImxvd2luZGV4Iiwic2l6ZSIsImlzSW52YWxpZCIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVycyIsImxheW91dEhhbmRsZXIiLCJzaWduYWxzIiwicGF1c2VTY3JvbGxpbmdFZmZlY3RzIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwic2V0TGlzdHNpemUiLCJuZXdsaXN0c2l6ZSIsIl90aGlzJGNyYWRsZVBhcmFtZXRlciIsImNhY2hlQVBJIiwiY29udGVudEhhbmRsZXIiLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJjYWxsYmFja3MiLCJjdXJyZW50bGlzdHNpemUiLCJjYWNoZSIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJkTGlzdENhbGxiYWNrIiwiZGVsZXRlTGlzdCIsInVwZGF0ZVZpcnR1YWxMaXN0U2l6ZSIsImNoYW5nZUNhY2hlTGlzdFNpemUiLCJyZW5kZXJQb3J0YWxMaXN0cyIsIm5ld2xpc3RyYW5nZSIsIl9uZXdsaXN0cmFuZ2UiLCJfbmV3bGlzdHJhbmdlMiIsImhpZ2hpbmRleCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJjdXJyZW50bGlzdHJhbmdlIiwicmFuZ2UiLCJ1cGRhdGVWaXJ0dWFsTGlzdFJhbmdlIiwiY2hhbmdlQ2FjaGVMaXN0UmFuZ2UiLCJwcmVwZW5kSW5kZXhDb3VudCIsInByZXBlbmRDb3VudCIsIl92aXJ0dWFsTGlzdFByb3BzJHJhbiIsImFwcGVuZEluZGV4Q291bnQiLCJhcHBlbmRDb3VudCIsIl92aXJ0dWFsTGlzdFByb3BzJHJhbjIiLCJnZXRDYWNoZUluZGV4TWFwIiwiZ2V0Q2FjaGVJdGVtTWFwIiwiZ2V0Q3JhZGxlSW5kZXhNYXAiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIzIiwibW9kZWxJbmRleExpc3QiLCJnZXRNb2RlbEluZGV4TGlzdCIsImdldFByb3BlcnRpZXNTbmFwc2hvdCIsImFzc2lnbiIsInNjcm9sbGVyUHJvcGVydGllc1JlZiIsImNyYWRsZUNvbnRlbnRQcm9wcyIsImNsZWFyQ2FjaGUiLCJyZW1hcEluZGV4ZXMiLCJjaGFuZ2VNYXAiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXI0IiwiaXRlbU1ldGFkYXRhTWFwIiwiaW5kZXhUb0l0ZW1JRE1hcCIsIml0ZW1TZXQiLCJpbmRleGVzVG9EZWxldGVMaXN0IiwiaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QiLCJwYXJ0aXRpb25JdGVtc1RvUmVwbGFjZUxpc3QiLCJjaGFuZ2VJbmRleFRvSXRlbUlETWFwIiwiTWFwIiwiZXJyb3JFbnRyaWVzTWFwIiwid29ya2luZ0NoYW5nZU1hcCIsImZvckVhY2giLCJpdGVtSUQiLCJoYXMiLCJjYWNoZUl0ZW1JRCIsImdldCIsIl9pdGVtTWV0YWRhdGFNYXAkZ2V0IiwicGFydGl0aW9uSUQiLCJzZXQiLCJpdGVtc1RvUmVwbGFjZVNldCIsIlNldCIsImFkZCIsImNvbmNhdCIsIm1hcHNpemUiLCJpdGVtSURTZXQiLCJ2YWx1ZXMiLCJpdGVtc2V0c2l6ZSIsIml0ZW1JRENvdW50TWFwIiwiY291bnQiLCJkdXBsaWNhdGVJdGVtc01hcCIsImR1cGxpY2F0ZXNUb1JlbW92ZUxpc3QiLCJvcmlnaW5hbE1hcCIsInByb2Nlc3NlZEluZGV4TGlzdCIsIml0ZW1kYXRhIiwiZGVsZXRlZEl0ZW1JRFRvSW5kZXhNYXAiLCJkZWxldGVkSW5kZXhUb0l0ZW1JRE1hcCIsInBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCIsIm9yaWdpbmFsSXRlbUlEIiwib3JpZ2luYWxJdGVtSURJbmRleCIsImZpbmFsSXRlbUlESW5kZXgiLCJfaXRlbU1ldGFkYXRhTWFwJGdldDIiLCJmaW5hbEl0ZW1JRCIsImRlbGV0ZWRPcnBoYW5lZEl0ZW1JbmRleExpc3QiLCJkZWxldGVkT3JwaGFuZWRJbmRleExpc3QiLCJrZXlzIiwiZGVsZXRlZE9ycGhhbmVkSXRlbUlETGlzdCIsIm1vZGlmaWVkSW5kZXhMaXN0IiwiY3JlYXRlTmV3SXRlbUlEcyIsInJlY29uY2lsZUNlbGxGcmFtZXMiLCJtb3ZlSW5kZXgiLCJ0b2xvd2luZGV4IiwiZnJvbWxvd2luZGV4IiwiZnJvbWhpZ2hpbmRleCIsImFyZ3VtZW50cyIsImxpc3Rsb3dpbmRleCIsImlzVG9pbmRleEludmFsaWQiLCJpc0Zyb21pbmRleEludmFsaWQiLCJpc0hpZ2hyYW5nZUludmFsaWQiLCJtYXgiLCJmcm9tc3BhbiIsInRvaGlnaGluZGV4IiwibGlzdHNpemUiLCJsaXN0aGlnaGluZGV4IiwiZGlmZiIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjUiLCJzeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlIiwiY29udGVudCIsImhlYWRNb2RlbENvbXBvbmVudHMiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwiaW5zZXJ0SW5kZXgiLCJyYW5nZWhpZ2hpbmRleCIsImlzSW5kZXhJbnZhbGlkIiwiaW5zZXJ0UmVtb3ZlSW5kZXgiLCJyZW1vdmVJbmRleCIsImluY3JlbWVudCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjYiLCJjcm9zc2NvdW50IiwibG93Q3JhZGxlSW5kZXgiLCJoaWdoQ3JhZGxlSW5kZXgiLCJjcmFkbGVTaXplIiwicnVud2F5U2l6ZSIsInJ1bndheVJvd2NvdW50Iiwidmlld3BvcnRSb3djb3VudCIsInJlcGxhY2VMaXN0IiwiX2NhY2hlQVBJJGluc2VydFJlbW92IiwiX2NhY2hlQVBJJGluc2VydFJlbW92MiIsInN0YXJ0Q2hhbmdlSW5kZXgiLCJyYW5nZWluY3JlbWVudCIsInNoaWZ0ZWRMaXN0IiwicmVtb3ZlZExpc3QiLCJjaGFuZ2Vjb3VudCIsIm5ld0xpc3RTaXplIiwiY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50IiwiY2FsY3VsYXRlZENyYWRsZUl0ZW1jb3VudCIsIm1lYXN1cmVkQ3JhZGxlSXRlbUNvdW50IiwicmVzZXRDcmFkbGUiLCJyZXF1ZXN0ZWRTZXQiLCJ0aW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicmVwbGFjZWRMaXN0IiwiX2NyYWRsZVBhcmFtZXRlcnMkZXh0IiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrIiwiY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2siLCJpdGVtRXhjZXB0aW9uQ2FsbGJhY2siLCJyZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrIiwicmVwb3NpdGlvbmluZ0luZGV4Q2FsbGJhY2siLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/servicehandler.tsx\n')},"./src/cradle/statehandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval('\n\n// statehandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n   This module provides access to the cradle state and the state setting for other handlers.\n   It also provides access to the isMountedRef reference.\n*/\nvar StateHandler = /*#__PURE__*/_createClass(function StateHandler(cradleParameters) {\n  _classCallCheck(this, StateHandler);\n  this.cradleParameters = cradleParameters;\n  var internalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n  this.setCradleState = internalProperties.setCradleState;\n  this.cradleStateRef = internalProperties.cradleStateRef;\n  this.isMountedRef = internalProperties.isMountedRef;\n});\nexports["default"] = StateHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3giLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQUEsU0FBQUEsUUFBQUMsR0FBQSxzQ0FBQUQsT0FBQSx3QkFBQUUsTUFBQSx1QkFBQUEsTUFBQSxDQUFBQyxRQUFBLGFBQUFGLEdBQUEsa0JBQUFBLEdBQUEsZ0JBQUFBLEdBQUEsV0FBQUEsR0FBQSx5QkFBQUMsTUFBQSxJQUFBRCxHQUFBLENBQUFHLFdBQUEsS0FBQUYsTUFBQSxJQUFBRCxHQUFBLEtBQUFDLE1BQUEsQ0FBQUcsU0FBQSxxQkFBQUosR0FBQSxLQUFBRCxPQUFBLENBQUFDLEdBQUE7QUFBQSxTQUFBSyxrQkFBQUMsTUFBQSxFQUFBQyxLQUFBLGFBQUFDLENBQUEsTUFBQUEsQ0FBQSxHQUFBRCxLQUFBLENBQUFFLE1BQUEsRUFBQUQsQ0FBQSxVQUFBRSxVQUFBLEdBQUFILEtBQUEsQ0FBQUMsQ0FBQSxHQUFBRSxVQUFBLENBQUFDLFVBQUEsR0FBQUQsVUFBQSxDQUFBQyxVQUFBLFdBQUFELFVBQUEsQ0FBQUUsWUFBQSx3QkFBQUYsVUFBQSxFQUFBQSxVQUFBLENBQUFHLFFBQUEsU0FBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFULE1BQUEsRUFBQVUsY0FBQSxDQUFBTixVQUFBLENBQUFPLEdBQUEsR0FBQVAsVUFBQTtBQUFBLFNBQUFRLGFBQUFDLFdBQUEsRUFBQUMsVUFBQSxFQUFBQyxXQUFBLFFBQUFELFVBQUEsRUFBQWYsaUJBQUEsQ0FBQWMsV0FBQSxDQUFBZixTQUFBLEVBQUFnQixVQUFBLE9BQUFDLFdBQUEsRUFBQWhCLGlCQUFBLENBQUFjLFdBQUEsRUFBQUUsV0FBQSxHQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUksV0FBQSxpQkFBQU4sUUFBQSxtQkFBQU0sV0FBQTtBQUFBLFNBQUFILGVBQUFNLEdBQUEsUUFBQUwsR0FBQSxHQUFBTSxZQUFBLENBQUFELEdBQUEsb0JBQUF2QixPQUFBLENBQUFrQixHQUFBLGlCQUFBQSxHQUFBLEdBQUFPLE1BQUEsQ0FBQVAsR0FBQTtBQUFBLFNBQUFNLGFBQUFFLEtBQUEsRUFBQUMsSUFBQSxRQUFBM0IsT0FBQSxDQUFBMEIsS0FBQSxrQkFBQUEsS0FBQSxrQkFBQUEsS0FBQSxNQUFBRSxJQUFBLEdBQUFGLEtBQUEsQ0FBQXhCLE1BQUEsQ0FBQTJCLFdBQUEsT0FBQUQsSUFBQSxLQUFBRSxTQUFBLFFBQUFDLEdBQUEsR0FBQUgsSUFBQSxDQUFBSSxJQUFBLENBQUFOLEtBQUEsRUFBQUMsSUFBQSxvQkFBQTNCLE9BQUEsQ0FBQStCLEdBQUEsdUJBQUFBLEdBQUEsWUFBQUUsU0FBQSw0REFBQU4sSUFBQSxnQkFBQUYsTUFBQSxHQUFBUyxNQUFBLEVBQUFSLEtBQUE7QUFBQSxTQUFBUyxnQkFBQUMsUUFBQSxFQUFBaEIsV0FBQSxVQUFBZ0IsUUFBQSxZQUFBaEIsV0FBQSxlQUFBYSxTQUFBOzs7O0FBRUE7Ozs7QUFBQSxJQUtxQkksWUFBWSxnQkFBQWxCLFlBQUEsQ0FFN0IsU0FBQWtCLGFBQVlDLGdCQUFnQjtFQUFBSCxlQUFBLE9BQUFFLFlBQUE7RUFFekIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0VBRXhDLElBQU1DLGtCQUFrQixHQUFHRCxnQkFBZ0IsQ0FBQ0UsMkJBQTJCLENBQUNDLE9BQU87RUFFL0UsSUFBSSxDQUFDQyxjQUFjLEdBQUdILGtCQUFrQixDQUFDRyxjQUFjO0VBQ3ZELElBQUksQ0FBQ0MsY0FBYyxHQUFHSixrQkFBa0IsQ0FBQ0ksY0FBYztFQUN2RCxJQUFJLENBQUNDLFlBQVksR0FBR0wsa0JBQWtCLENBQUNLLFlBQVk7QUFFdEQsQ0FBQztBQVpMQyxrQkFBQSxHQUFBUixZQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc3RhdGVoYW5kbGVyLnRzeD82Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICBUaGlzIG1vZHVsZSBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNyYWRsZSBzdGF0ZSBhbmQgdGhlIHN0YXRlIHNldHRpbmcgZm9yIG90aGVyIGhhbmRsZXJzLlxuICAgSXQgYWxzbyBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGlzTW91bnRlZFJlZiByZWZlcmVuY2UuXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZUhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgY29uc3QgaW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgdGhpcy5zZXRDcmFkbGVTdGF0ZSA9IGludGVybmFsUHJvcGVydGllcy5zZXRDcmFkbGVTdGF0ZVxuICAgICAgIHRoaXMuY3JhZGxlU3RhdGVSZWYgPSBpbnRlcm5hbFByb3BlcnRpZXMuY3JhZGxlU3RhdGVSZWZcbiAgICAgICB0aGlzLmlzTW91bnRlZFJlZiA9IGludGVybmFsUHJvcGVydGllcy5pc01vdW50ZWRSZWZcbiAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBjcmFkbGVTdGF0ZVJlZlxuICAgIHB1YmxpYyBzZXRDcmFkbGVTdGF0ZVxuICAgIHB1YmxpYyBpc01vdW50ZWRSZWZcblxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiU3RhdGVIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsImludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImN1cnJlbnQiLCJzZXRDcmFkbGVTdGF0ZSIsImNyYWRsZVN0YXRlUmVmIiwiaXNNb3VudGVkUmVmIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/statehandler.tsx\n')},"./src/cradle/styleshandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval("\n\n// styleshandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module provides the Cradle component with one key public function: getCradleStyles.\n    It returns an array of style objects for\n        headstyles,\n        tailstyles,\n        axisstyles,\n        cradledividerstyles\n        triggercelltriggerlineheadstyles,\n        triggercelltriggerlinetailstyles,\n*/\nvar StylesHandler = /*#__PURE__*/_createClass(function StylesHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, StylesHandler);\n  this.getCradleStyles = function (_ref) {\n    var orientation = _ref.orientation,\n      cellHeight = _ref.cellHeight,\n      cellWidth = _ref.cellWidth,\n      gap = _ref.gap,\n      padding = _ref.padding,\n      crosscount = _ref.crosscount,\n      userstyles = _ref.userstyles,\n      triggerlineOffset = _ref.triggerlineOffset,\n      layout = _ref.layout;\n    var headstyles = _this.getBaseHeadStyles(gap, padding, orientation, userstyles.cradle);\n    var tailstyles = _this.getBaseTailStyles(gap, padding, orientation, userstyles.cradle);\n    var axisstyles = _this.getAxisStyles(gap, padding, orientation);\n    var triggercelltriggerlineheadstyles = _this.getTriggercellTriggerlineHeadStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n    var triggercelltriggerlinetailstyles = _this.getTriggercellTriggerlineTailStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gap);\n    var cradledividerstyles = {\n      zIndex: 1,\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      boxShadow: '0 0 5px 3px red'\n    };\n    headstyles.gap = tailstyles.gap = gap + 'px';\n    // headstyles.padding set in contentHandler setCradleContent and updateCradleContent\n    if (orientation == 'vertical') {\n      // padding varies\n      tailstyles.padding = \"0 \".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px\");\n      // the following are identical for head and tail\n      headstyles.width = tailstyles.width = '100%';\n      headstyles.height = tailstyles.height = 'auto';\n      headstyles.gridTemplateRows = tailstyles.gridTemplateRows = null;\n      headstyles.gridTemplateColumns = tailstyles.gridTemplateColumns = \"repeat(\".concat(crosscount, \", minmax(\").concat(cellWidth, \"px, 1fr))\");\n      headstyles.gridAutoFlow = tailstyles.gridAutoFlow = 'row';\n      headstyles.gridAutoRows = tailstyles.gridAutoRows = layout == 'uniform' ? null : 'max-content';\n      headstyles.gridAutoColumns = tailstyles.gridAutoColumns = null;\n    } else {\n      // orientation == 'horizontal'\n      tailstyles.padding = \"\".concat(padding, \"px \").concat(padding, \"px \").concat(padding, \"px 0\");\n      headstyles.width = tailstyles.width = 'auto';\n      headstyles.height = tailstyles.height = '100%';\n      headstyles.gridTemplateRows = tailstyles.gridTemplateRows = \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\");\n      headstyles.gridTemplateColumns = tailstyles.gridTemplateColumns = null;\n      headstyles.gridAutoFlow = tailstyles.gridAutoFlow = 'column';\n      headstyles.gridAutoRows = tailstyles.gridAutoRows = null;\n      headstyles.gridAutoColumns = tailstyles.gridAutoColumns = layout == 'uniform' ? null : 'max-content';\n    }\n    return [headstyles, tailstyles, axisstyles, cradledividerstyles, triggercelltriggerlineheadstyles, triggercelltriggerlinetailstyles];\n  };\n  // the top, right, bottom, left setting determine the direction of expansion of the grid block\n  this.getBaseHeadStyles = function (gap, padding, orientation, userheadstyles) {\n    var bottom, left, top, right;\n    if (orientation == 'vertical') {\n      bottom = 0;\n      left = null;\n      right = null;\n      top = null;\n    } else {\n      bottom = null;\n      left = null;\n      right = 0;\n      top = null;\n    }\n    return Object.assign(Object.assign({}, userheadstyles), {\n      position: 'absolute',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      boxSizing: 'border-box',\n      bottom: bottom,\n      left: left,\n      right: right,\n      top: top\n    });\n  };\n  // the top, right, bottom, left setting determine the direction of expansion of the grid block\n  this.getBaseTailStyles = function (gap, padding, orientation, usertailstyles) {\n    var bottom, left, top, right;\n    if (orientation == 'vertical') {\n      bottom = null;\n      left = null;\n      right = null;\n      top = 0;\n    } else {\n      bottom = null;\n      left = 0;\n      right = null;\n      top = null;\n    }\n    return Object.assign(Object.assign({}, usertailstyles), {\n      position: 'absolute',\n      display: 'grid',\n      gridGap: gap + 'px',\n      padding: padding + 'px',\n      boxSizing: 'border-box',\n      top: top,\n      left: left,\n      right: right,\n      bottom: bottom\n    });\n  };\n  this.getAxisStyles = function (gap, padding, orientation) {\n    var top, left, width, height; // for axis\n    if (orientation == 'vertical') {\n      top = padding + 'px'; // default\n      left = 'auto';\n      width = '100%';\n      height = 0;\n    } else {\n      top = 'auto';\n      left = padding + 'px'; // default\n      width = 0;\n      height = '100%';\n    }\n    return {\n      position: 'relative',\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n  this.getTriggercellTriggerlineHeadStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n    var position = 'absolute';\n    var width, height, top, right, bottom, left;\n    if (orientation == 'vertical') {\n      width = '100%';\n      height = 0;\n      top = triggerlineOffset + 'px';\n      right = '0px';\n      bottom = null;\n      left = '0px';\n    } else {\n      width = 0;\n      height = '100%';\n      top = '0px';\n      right = null;\n      bottom = '0px';\n      left = triggerlineOffset + 'px';\n    }\n    return {\n      position: position,\n      width: width,\n      height: height,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left\n    };\n  };\n  this.getTriggercellTriggerlineTailStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gap) {\n    var position = 'absolute';\n    var width, height, top, right, bottom, left;\n    if (orientation == 'vertical') {\n      width = '100%';\n      height = 0;\n      top = null;\n      right = '0px';\n      bottom = -(triggerlineOffset + gap) + 'px';\n      left = '0px';\n    } else {\n      width = 0;\n      height = '100%';\n      top = '0px';\n      right = -(triggerlineOffset + gap) + 'px';\n      bottom = '0px';\n      left = null;\n    }\n    return {\n      position: position,\n      width: width,\n      height: height,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left\n    };\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports[\"default\"] = StylesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVSxFQUFFQyxTQUFTLEVBQUVLLGlCQUFpQixFQUFFSixHQUFHLEVBQUk7SUFFL0QsSUFBTW1CLFFBQVEsR0FBRyxVQUFVO0lBRTNCLElBQUlDLEtBQUssRUFBRUMsTUFBTSxFQUFFVyxHQUFHLEVBQUVDLEtBQUssRUFBRUgsTUFBTSxFQUFFQyxJQUFJO0lBQzNDLElBQUlsQyxXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCdUIsS0FBSyxHQUFHLE1BQU07TUFDZEMsTUFBTSxHQUFHLENBQUM7TUFDVlcsR0FBRyxHQUFHLElBQUk7TUFDVkMsS0FBSyxHQUFHLEtBQUs7TUFDYkgsTUFBTSxHQUFHLEVBQUUxQixpQkFBaUIsR0FBR0osR0FBRyxDQUFDLEdBQUcsSUFBSTtNQUMxQytCLElBQUksR0FBRyxLQUFLO0tBRWYsTUFBTTtNQUVIWCxLQUFLLEdBQUcsQ0FBQztNQUNUQyxNQUFNLEdBQUcsTUFBTTtNQUNmVyxHQUFHLEdBQUcsS0FBSztNQUNYQyxLQUFLLEdBQUcsRUFBRTdCLGlCQUFpQixHQUFHSixHQUFHLENBQUMsR0FBRyxJQUFJO01BQ3pDOEIsTUFBTSxHQUFHLEtBQUs7TUFDZEMsSUFBSSxHQUFHLElBQUk7O0lBSWYsT0FBTztNQUVIWixRQUFRLEVBQVJBLFFBQVE7TUFDUkMsS0FBSyxFQUFMQSxLQUFLO01BQ0xDLE1BQU0sRUFBTkEsTUFBTTtNQUNOVyxHQUFHLEVBQUhBLEdBQUc7TUFDSEMsS0FBSyxFQUFMQSxLQUFLO01BQ0xILE1BQU0sRUFBTkEsTUFBTTtNQUNOQyxJQUFJLEVBQUpBO0tBRUg7RUFDTCxDQUFDO0VBdlJDLElBQUksQ0FBQ3RDLGdCQUFnQixHQUFHQSxnQkFBZ0I7QUFFMUMsQ0FBQztBQU5MOEMsa0JBQUEsR0FBQS9DLGFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zdHlsZXNoYW5kbGVyLnRzeD80NWRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlc2hhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoaXMgbW9kdWxlIHByb3ZpZGVzIHRoZSBDcmFkbGUgY29tcG9uZW50IHdpdGggb25lIGtleSBwdWJsaWMgZnVuY3Rpb246IGdldENyYWRsZVN0eWxlcy5cbiAgICBJdCByZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlIG9iamVjdHMgZm9yXG4gICAgICAgIGhlYWRzdHlsZXMsXG4gICAgICAgIHRhaWxzdHlsZXMsXG4gICAgICAgIGF4aXNzdHlsZXMsXG4gICAgICAgIGNyYWRsZWRpdmlkZXJzdHlsZXNcbiAgICAgICAgdHJpZ2dlcmNlbGx0cmlnZ2VybGluZWhlYWRzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJjZWxsdHJpZ2dlcmxpbmV0YWlsc3R5bGVzLFxuKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3R5bGVzSGFuZGxlciB7IFxuXG4gICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIH1cblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIGdldENyYWRsZVN0eWxlcyA9ICh7XG5cbiAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgLy8gY2VsbE1pbkhlaWdodCxcbiAgICAgICAgLy8gY2VsbE1pbldpZHRoLFxuICAgICAgICBnYXAsXG4gICAgICAgIHBhZGRpbmcsIFxuICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgLy8gdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICAvLyB2aWV3cG9ydHdpZHRoLFxuICAgICAgICB1c2Vyc3R5bGVzLFxuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCxcbiAgICAgICAgbGF5b3V0LFxuXG4gICAgfSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGhlYWRzdHlsZXMgPSB0aGlzLmdldEJhc2VIZWFkU3R5bGVzKGdhcCwgcGFkZGluZywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXMuY3JhZGxlKVxuICAgICAgICBjb25zdCB0YWlsc3R5bGVzID0gdGhpcy5nZXRCYXNlVGFpbFN0eWxlcyhnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uLCB1c2Vyc3R5bGVzLmNyYWRsZSlcbiAgICAgICAgY29uc3QgYXhpc3N0eWxlcyA9IHRoaXMuZ2V0QXhpc1N0eWxlcyhnYXAsIHBhZGRpbmcsIG9yaWVudGF0aW9uKVxuXG4gICAgICAgIGNvbnN0IHRyaWdnZXJjZWxsdHJpZ2dlcmxpbmVoZWFkc3R5bGVzID1cbiAgICAgICAgICAgIHRoaXMuZ2V0VHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRTdHlsZXMoXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24sY2VsbEhlaWdodCwgY2VsbFdpZHRoLCB0cmlnZ2VybGluZU9mZnNldCwgZ2FwKVxuICAgICAgICBjb25zdCB0cmlnZ2VyY2VsbHRyaWdnZXJsaW5ldGFpbHN0eWxlcyA9IFxuICAgICAgICAgICAgdGhpcy5nZXRUcmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlcyhcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApXG5cbiAgICAgICAgY29uc3QgY3JhZGxlZGl2aWRlcnN0eWxlcyA9IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHpJbmRleDoxLCBcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHdpZHRoOicxMDAlJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzonMCAwIDVweCAzcHggcmVkJ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIGhlYWRzdHlsZXMuZ2FwID0gdGFpbHN0eWxlcy5nYXAgPSBnYXAgKyAncHgnXG5cbiAgICAgICAgLy8gaGVhZHN0eWxlcy5wYWRkaW5nIHNldCBpbiBjb250ZW50SGFuZGxlciBzZXRDcmFkbGVDb250ZW50IGFuZCB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIC8vIHBhZGRpbmcgdmFyaWVzXG4gICAgICAgICAgICB0YWlsc3R5bGVzLnBhZGRpbmcgPSBgMCAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weGBcblxuICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgaWRlbnRpY2FsIGZvciBoZWFkIGFuZCB0YWlsXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gdGFpbHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSB0YWlsc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBudWxsXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXG4gICAgICAgICAgICAgICAgICAgIGByZXBlYXQoJHtjcm9zc2NvdW50fSwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWBcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSB0YWlsc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdyb3cnXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9Sb3dzID0gXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRBdXRvUm93cyA9XG4gICAgICAgICAgICAgICAgKGxheW91dCA9PSAndW5pZm9ybScpP1xuICAgICAgICAgICAgICAgICAgICBudWxsOlxuICAgICAgICAgICAgICAgICAgICAnbWF4LWNvbnRlbnQnXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9Db2x1bW5zID0gdGFpbHN0eWxlcy5ncmlkQXV0b0NvbHVtbnMgPSBudWxsXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gb3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAke3BhZGRpbmd9cHggJHtwYWRkaW5nfXB4ICR7cGFkZGluZ31weCAwYFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gdGFpbHN0eWxlcy53aWR0aCA9ICdhdXRvJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSB0YWlsc3R5bGVzLmhlaWdodCA9ICcxMDAlJ1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9IFxuICAgICAgICAgICAgICAgICAgICBgcmVwZWF0KCR7Y3Jvc3Njb3VudH0sIG1pbm1heCgke2NlbGxIZWlnaHR9cHgsIDFmcikpYFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBudWxsXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9GbG93ID0gdGFpbHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSAnY29sdW1uJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b1Jvd3MgPSB0YWlsc3R5bGVzLmdyaWRBdXRvUm93cyA9IG51bGxcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0NvbHVtbnMgPSBcbiAgICAgICAgICAgIHRhaWxzdHlsZXMuZ3JpZEF1dG9Db2x1bW5zID0gXG4gICAgICAgICAgICAgICAgKGxheW91dCA9PSAndW5pZm9ybScpP1xuICAgICAgICAgICAgICAgICAgICBudWxsOlxuICAgICAgICAgICAgICAgICAgICAnbWF4LWNvbnRlbnQnXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBoZWFkc3R5bGVzLFxuICAgICAgICAgICAgdGFpbHN0eWxlcyxcbiAgICAgICAgICAgIGF4aXNzdHlsZXMsXG4gICAgICAgICAgICBjcmFkbGVkaXZpZGVyc3R5bGVzLFxuICAgICAgICAgICAgdHJpZ2dlcmNlbGx0cmlnZ2VybGluZWhlYWRzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VyY2VsbHRyaWdnZXJsaW5ldGFpbHN0eWxlcyxcbiAgICAgICAgXVxuICAgICAgICBcbiAgICB9XG5cbiAgICAvLyB0aGUgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0IHNldHRpbmcgZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24gb2YgZXhwYW5zaW9uIG9mIHRoZSBncmlkIGJsb2NrXG4gICAgcHJpdmF0ZSBnZXRCYXNlSGVhZFN0eWxlcyA9IFxuICAgICAgICAoZ2FwLHBhZGRpbmcsb3JpZW50YXRpb24sdXNlcmhlYWRzdHlsZXMpID0+IHtcblxuICAgICAgICBsZXQgYm90dG9tLCBsZWZ0LCB0b3AsIHJpZ2h0XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IDBcbiAgICAgICAgICAgIGxlZnQgPSBudWxsXG4gICAgICAgICAgICByaWdodCA9IG51bGxcbiAgICAgICAgICAgIHRvcCA9IG51bGxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbSA9IG51bGxcbiAgICAgICAgICAgIGxlZnQgPSBudWxsXG4gICAgICAgICAgICByaWdodCA9IDBcbiAgICAgICAgICAgIHRvcCA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi51c2VyaGVhZHN0eWxlcyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgZ3JpZEdhcDogZ2FwICsgJ3B4JyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcgKyAncHgnLFxuICAgICAgICAgICAgYm94U2l6aW5nOidib3JkZXItYm94JyxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoZSB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgc2V0dGluZyBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbiBvZiBleHBhbnNpb24gb2YgdGhlIGdyaWQgYmxvY2tcbiAgICBwcml2YXRlIGdldEJhc2VUYWlsU3R5bGVzID0gXG4gICAgICAgIChnYXAscGFkZGluZyxvcmllbnRhdGlvbix1c2VydGFpbHN0eWxlcykgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gbnVsbFxuICAgICAgICAgICAgbGVmdCA9IG51bGxcbiAgICAgICAgICAgIHJpZ2h0ID0gbnVsbFxuICAgICAgICAgICAgdG9wID0gMFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gbnVsbFxuICAgICAgICAgICAgbGVmdCA9IDBcbiAgICAgICAgICAgIHJpZ2h0ID0gbnVsbFxuICAgICAgICAgICAgdG9wID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnVzZXJ0YWlsc3R5bGVzLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgICAgICBncmlkR2FwOiBnYXAgKyAncHgnLFxuICAgICAgICAgICAgcGFkZGluZzogcGFkZGluZyArICdweCcsXG4gICAgICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICB9IFxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXhpc1N0eWxlcyA9IFxuICAgICAgICAoZ2FwLCBwYWRkaW5nLCBvcmllbnRhdGlvbikgPT4ge1xuXG4gICAgICAgIGxldCB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgLy8gZm9yIGF4aXNcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICB0b3AgPSBwYWRkaW5nICsgJ3B4JyAvLyBkZWZhdWx0XG4gICAgICAgICAgICBsZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVpZ2h0ID0gMFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IHBhZGRpbmcgKyAncHgnIC8vIGRlZmF1bHRcbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRTdHlsZXMgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApID0+IHtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9ICdhYnNvbHV0ZSdcblxuICAgICAgICBsZXQgd2lkdGgsIGhlaWdodCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSB0cmlnZ2VybGluZU9mZnNldCArICdweCdcbiAgICAgICAgICAgIHJpZ2h0ID0gJzBweCdcbiAgICAgICAgICAgIGJvdHRvbSA9IG51bGxcbiAgICAgICAgICAgIGxlZnQgPSAnMHB4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0b3AgPSAnMHB4J1xuICAgICAgICAgICAgcmlnaHQgPSBudWxsXG4gICAgICAgICAgICBib3R0b20gPSAnMHB4J1xuICAgICAgICAgICAgbGVmdCA9IHRyaWdnZXJsaW5lT2Zmc2V0ICsgJ3B4J1xuXG4gICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcblxuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgZ2V0VHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxTdHlsZXMgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXApID0+IHtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9ICdhYnNvbHV0ZSdcblxuICAgICAgICBsZXQgd2lkdGgsIGhlaWdodCwgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSBudWxsXG4gICAgICAgICAgICByaWdodCA9ICcwcHgnXG4gICAgICAgICAgICBib3R0b20gPSAtKHRyaWdnZXJsaW5lT2Zmc2V0ICsgZ2FwKSArICdweCdcbiAgICAgICAgICAgIGxlZnQgPSAnMHB4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0b3AgPSAnMHB4J1xuICAgICAgICAgICAgcmlnaHQgPSAtKHRyaWdnZXJsaW5lT2Zmc2V0ICsgZ2FwKSArICdweCdcbiAgICAgICAgICAgIGJvdHRvbSA9ICcwcHgnXG4gICAgICAgICAgICBsZWZ0ID0gbnVsbFxuXG4gICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiU3R5bGVzSGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsImdldENyYWRsZVN0eWxlcyIsIl9yZWYiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJnYXAiLCJwYWRkaW5nIiwiY3Jvc3Njb3VudCIsInVzZXJzdHlsZXMiLCJ0cmlnZ2VybGluZU9mZnNldCIsImxheW91dCIsImhlYWRzdHlsZXMiLCJnZXRCYXNlSGVhZFN0eWxlcyIsImNyYWRsZSIsInRhaWxzdHlsZXMiLCJnZXRCYXNlVGFpbFN0eWxlcyIsImF4aXNzdHlsZXMiLCJnZXRBeGlzU3R5bGVzIiwidHJpZ2dlcmNlbGx0cmlnZ2VybGluZWhlYWRzdHlsZXMiLCJnZXRUcmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlcyIsInRyaWdnZXJjZWxsdHJpZ2dlcmxpbmV0YWlsc3R5bGVzIiwiZ2V0VHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxTdHlsZXMiLCJjcmFkbGVkaXZpZGVyc3R5bGVzIiwiekluZGV4IiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImJveFNoYWRvdyIsImNvbmNhdCIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiZ3JpZEF1dG9GbG93IiwiZ3JpZEF1dG9Sb3dzIiwiZ3JpZEF1dG9Db2x1bW5zIiwidXNlcmhlYWRzdHlsZXMiLCJib3R0b20iLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJhc3NpZ24iLCJkaXNwbGF5IiwiZ3JpZEdhcCIsImJveFNpemluZyIsInVzZXJ0YWlsc3R5bGVzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/styleshandler.tsx\n")},"./src/portalcache/CachePartition.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// CachePartition.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar CachePartition = function CachePartition(_ref) {\n  var partitionProps = _ref.partitionProps,\n    partitionID = _ref.partitionID,\n    callback = _ref.callback;\n  var _ref2 = (0, react_1.useState)(0),\n    _ref3 = _slicedToArray(_ref2, 2),\n    portalListCounter = _ref3[0],\n    setPortalListCounter = _ref3[1];\n  var _ref4 = (0, react_1.useState)(\'setup\'),\n    _ref5 = _slicedToArray(_ref4, 2),\n    partitionState = _ref5[0],\n    setPartitionState = _ref5[1];\n  var counterRef = (0, react_1.useRef)(portalListCounter);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var portalArrayRef = (0, react_1.useRef)(null);\n  var partitionMetadata = partitionProps.partitionMetadataMap.get(partitionID);\n  var forceUpdate = (0, react_1.useCallback)(function (portalRenderList) {\n    portalArrayRef.current = portalRenderList;\n    isMountedRef.current && setPortalListCounter(++counterRef.current); // force render\n  }, []);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    partitionMetadata.forceUpdate = forceUpdate;\n    callback();\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    switch (partitionState) {\n      case \'setup\':\n        {\n          setPartitionState(\'ready\');\n          break;\n        }\n    }\n  }, [partitionState]);\n  return react_1["default"].createElement("div", {\n    key: partitionID,\n    "data-type": \'cachepartition\',\n    "data-partitionid": partitionID\n  }, portalArrayRef.current);\n};\nexports["default"] = CachePartition;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VixPQUFPLFlBQUs7TUFFUlksWUFBWSxDQUFDUSxPQUFPLEdBQUcsS0FBSztJQUVoQyxDQUFDO0VBRUwsQ0FBQyxFQUFDLEVBQUUsQ0FBQztFQUVMLElBQUEzQixPQUFBLENBQUE0QixTQUFTLEVBQUMsWUFBSTtJQUVWLFFBQVFiLGNBQWM7TUFDbEIsS0FBSyxPQUFPO1FBQUU7VUFDVkMsaUJBQWlCLENBQUMsT0FBTyxDQUFDO1VBQzFCOzs7RUFJWixDQUFDLEVBQUMsQ0FBQ0QsY0FBYyxDQUFDLENBQUM7RUFFbkIsT0FBT2YsT0FBQSxZQUFBNkIsYUFBQTtJQUFLQyxHQUFHLEVBQUl4QixXQUFXO0lBQUEsYUFBYyxnQkFBZ0I7SUFBQSxvQkFBcUJBO0VBQVcsR0FDdkZjLGNBQWMsQ0FBQ08sT0FBTyxDQUNyQjtBQUVWLENBQUM7QUFFREksa0JBQUEsR0FBZTVCLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3BvcnRhbGNhY2hlL0NhY2hlUGFydGl0aW9uLnRzeD81OTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENhY2hlUGFydGl0aW9uLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFja30gZnJvbSAncmVhY3QnXG5cbmNvbnN0IENhY2hlUGFydGl0aW9uID0gKHsgcGFydGl0aW9uUHJvcHMsIHBhcnRpdGlvbklELCBjYWxsYmFjayB9KSA9PiB7XG5cbiAgICBjb25zdCBbcG9ydGFsTGlzdENvdW50ZXIsIHNldFBvcnRhbExpc3RDb3VudGVyXSA9IHVzZVN0YXRlKDApXG5cbiAgICBjb25zdCBbcGFydGl0aW9uU3RhdGUsIHNldFBhcnRpdGlvblN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpXG5cbiAgICBjb25zdCBjb3VudGVyUmVmID0gdXNlUmVmKHBvcnRhbExpc3RDb3VudGVyKVxuXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG5cbiAgICBjb25zdCBwb3J0YWxBcnJheVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgY29uc3QgcGFydGl0aW9uTWV0YWRhdGEgPSBwYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKChwb3J0YWxSZW5kZXJMaXN0KSA9PiB7XG5cbiAgICAgICAgcG9ydGFsQXJyYXlSZWYuY3VycmVudCA9IHBvcnRhbFJlbmRlckxpc3RcblxuICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCAmJiBzZXRQb3J0YWxMaXN0Q291bnRlcigrK2NvdW50ZXJSZWYuY3VycmVudCkgLy8gZm9yY2UgcmVuZGVyXG5cbiAgICB9LFtdKVxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEuZm9yY2VVcGRhdGUgPSBmb3JjZVVwZGF0ZVxuXG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSkgXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBzd2l0Y2ggKHBhcnRpdGlvblN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgICAgICAgICBzZXRQYXJ0aXRpb25TdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sW3BhcnRpdGlvblN0YXRlXSlcblxuICAgIHJldHVybiA8ZGl2IGtleSA9IHtwYXJ0aXRpb25JRH0gZGF0YS10eXBlID0gJ2NhY2hlcGFydGl0aW9uJyBkYXRhLXBhcnRpdGlvbmlkID0ge3BhcnRpdGlvbklEfT5cbiAgICAgICAge3BvcnRhbEFycmF5UmVmLmN1cnJlbnR9XG4gICAgPC9kaXY+XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FjaGVQYXJ0aXRpb24iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiX2kiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfeCIsIl9yIiwiX2FyciIsIl9uIiwiX2QiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsIkNhY2hlUGFydGl0aW9uIiwiX3JlZiIsInBhcnRpdGlvblByb3BzIiwicGFydGl0aW9uSUQiLCJjYWxsYmFjayIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsInBvcnRhbExpc3RDb3VudGVyIiwic2V0UG9ydGFsTGlzdENvdW50ZXIiLCJfcmVmNCIsIl9yZWY1IiwicGFydGl0aW9uU3RhdGUiLCJzZXRQYXJ0aXRpb25TdGF0ZSIsImNvdW50ZXJSZWYiLCJ1c2VSZWYiLCJpc01vdW50ZWRSZWYiLCJwb3J0YWxBcnJheVJlZiIsInBhcnRpdGlvbk1ldGFkYXRhIiwicGFydGl0aW9uTWV0YWRhdGFNYXAiLCJnZXQiLCJmb3JjZVVwZGF0ZSIsInVzZUNhbGxiYWNrIiwicG9ydGFsUmVuZGVyTGlzdCIsImN1cnJlbnQiLCJ1c2VFZmZlY3QiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/portalcache/CachePartition.tsx\n')},"./src/portalcache/cacheAPI.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// cacheAPI.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module manages the InfiniteGridScroller limited (sparse) cache. It also provides support for\n    services which allow the host to actively manage many aspects of the cache. See documentation\n    about the user functionsCallback callback for details. The cacheMax property allows for control of the\n    maximum device memory consumption of the cache.\n\n    The infinite grid scroller stores user cell content (components) in a central hidden cache,\n    from whence the components are pulled into the relevant CellFrames for display. The user components are\n    stored in React portals, with each portal instantiated in a container div (data-type = \'portalwrapper\').\n    These container divs are part of a standard React component list in the real DOM. The contained portals\n    themselves are not part of the real DOM, but are part of React\'s virtual DOM.\n\n    See https://reactjs.org/docs/portals.html for general information about React portals.\n    See https://www.npmjs.com/package/react-reverse-portal for the utility that InfiniteGridScroller\n    uses to manage portals.\n\n    This caching has many advantages, notably the ability to move cells back and forth between the\n    head and tail grids of the Cradle without losing state, and the ability to maintain state for\n    complex components which move beyond the scope of the content of the Cradle.\n\n    There is an important side effect to consider. Instantiated components which are removed from the real DOM\n    into the portal of the virtual DOM have their scroll positions, width, and height set to zero. Therefore if\n    components rely on these values for configuration, they must have a way of storing those values in state\n    (notably the Scroll Pos - scrollLeft or scrollTop), recognizing when the component comes out of the portal cache\n    into the real DOM (width and height are typically no longer both 0), and responding to change in\n    cache state appropriately.\n\n    Tips:\n        - your component is in cache when both width and height = 0\n        - your component is out of cache when both width and height are back to normal\n        - if you create an empty \'scrollerProperties\' property for your component, CellFrame will\n            set it to an object containing scrollerPropertiesRef and cellFramePropertiesRef\n        - if your component does not scroll, there should be no issues.\n\n*/\nvar react_1 = __importDefault(__webpack_require__(/*! react */ "react"));\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ "./node_modules/react-reverse-portal/dist/web/index.js");\nvar CachePartition_1 = __importDefault(__webpack_require__(/*! ./CachePartition */ "./src/portalcache/CachePartition.tsx"));\n// the cache itself is maintained in the root infinitegridscroller component\nvar CacheAPI = /*#__PURE__*/function () {\n  function CacheAPI(CACHE_PARTITION_SIZE) {\n    var _this = this;\n    _classCallCheck(this, CacheAPI);\n    this.globalItemID = 0;\n    this.globalPartitionID = 0;\n    this.itemMetadataMap = new Map();\n    this.scrollerDataMap = new Map();\n    this.partitionProps = {\n      partitionMetadataMap: new Map(),\n      partitionMap: new Map(),\n      partitionRenderList: null,\n      partitionRepoForceUpdate: null,\n      partitionModifiedSet: new Set(),\n      partitionPtr: null // active partition, for followup\n    };\n    // a facade is used to accommodate access by multiple RIGS scrollers\n    this.getFacade = function (scrollerID) {\n      var facade = {\n        // measureMemory:(source) => {\n        //     this.measureMemory(source, scrollerID)\n        // },\n        // get and set data\n        get indexToItemIDMap() {\n          return this.getIndexToItemIDMap();\n        },\n        getIndexToItemIDMap: function getIndexToItemIDMap() {\n          return _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n        },\n        get itemSet() {\n          return this.getItemSet();\n        },\n        getItemSet: function getItemSet() {\n          return _this.scrollerDataMap.get(scrollerID).itemSet;\n        },\n        itemMetadataMap: _this.itemMetadataMap,\n        get requestedSet() {\n          return this.getRequestedSet();\n        },\n        getRequestedSet: function getRequestedSet() {\n          return _this.scrollerDataMap.get(scrollerID).requestedSet;\n        },\n        set partitionRepoForceUpdate(fn) {\n          this.setPartitionRepoForceUpdate(fn);\n        },\n        setPartitionRepoForceUpdate: function setPartitionRepoForceUpdate(fn) {\n          _this.partitionProps.partitionRepoForceUpdate = fn;\n        },\n        set cradleParameters(parms) {\n          this.setCradleParameters(parms);\n        },\n        setCradleParameters: function setCradleParameters(parms) {\n          _this.scrollerDataMap.get(scrollerID).cradleParameters = parms;\n        },\n        set portalPartitionItemsForDeleteList(list) {\n          this.setPortalPartitionItemsForDeleteList(list);\n        },\n        setPortalPartitionItemsForDeleteList: function setPortalPartitionItemsForDeleteList(list) {\n          _this.scrollerDataMap.get(scrollerID).portalPartitionItemsForDeleteList = list;\n        },\n        get instance() {\n          return this.getInstance();\n        },\n        getInstance: function getInstance() {\n          return _this;\n        },\n        // methods\n        unRegisterScroller: function unRegisterScroller(itemSet) {\n          return _this.unRegisterScroller(scrollerID, itemSet);\n        },\n        renderPartitionRepo: function renderPartitionRepo() {\n          return _this.renderPartitionRepo();\n        },\n        renderPortalLists: function renderPortalLists() {\n          return _this.renderPortalLists();\n        },\n        clearCache: function clearCache() {\n          return _this.clearCache(scrollerID);\n        },\n        changeCacheListSize: function changeCacheListSize(newlistsize, deleteListCallback) {\n          return _this.changeCacheListSize(scrollerID, newlistsize, deleteListCallback);\n        },\n        changeCacheListRange: function changeCacheListRange(newlistrange, deleteListCallback) {\n          return _this.changeCacheListRange(scrollerID, newlistrange, deleteListCallback);\n        },\n        matchCacheToCradle: function matchCacheToCradle(cradleIndexList, deleteListCallback) {\n          return _this.matchCacheToCradle(scrollerID, cradleIndexList, deleteListCallback);\n        },\n        pareCacheToMax: function pareCacheToMax(cacheMax, cradleIndexList, deleteListCallback) {\n          return _this.pareCacheToMax(scrollerID, cacheMax, cradleIndexList, deleteListCallback);\n        },\n        guardAgainstRunawayCaching: function guardAgainstRunawayCaching(cacheMax, cradleListLength, MAX_CACHE_OVER_RUN) {\n          return _this.guardAgainstRunawayCaching(scrollerID, cacheMax, cradleListLength, MAX_CACHE_OVER_RUN);\n        },\n        preload: function preload(finalCallback, nullItemSetMaxListsize) {\n          return _this.preload(scrollerID, finalCallback, nullItemSetMaxListsize);\n        },\n        getCacheIndexMap: function getCacheIndexMap() {\n          return _this.getCacheIndexMap(scrollerID);\n        },\n        getCradleIndexMap: function getCradleIndexMap(cradleIndexList) {\n          return _this.getCradleIndexMap(scrollerID, cradleIndexList);\n        },\n        getCacheItemMap: function getCacheItemMap() {\n          return _this.getCacheItemMap(scrollerID);\n        },\n        moveIndex: function moveIndex(tolowindex, fromlowindex, fromhighindex) {\n          return _this.moveIndex(scrollerID, tolowindex, fromlowindex, fromhighindex);\n        },\n        insertRemoveIndex: function insertRemoveIndex(index, highrange, increment, listsize) {\n          return _this.insertRemoveIndex(scrollerID, index, highrange, increment, listsize);\n        },\n        registerPendingPortal: function registerPendingPortal(index) {\n          return _this.registerPendingPortal(scrollerID, index);\n        },\n        unregisterPendingPortal: function unregisterPendingPortal(index) {\n          return _this.unregisterPendingPortal(scrollerID, index);\n        },\n        getNewItemID: function getNewItemID() {\n          return _this.getNewItemID();\n        },\n        getNewOrExistingItemID: function getNewOrExistingItemID(index) {\n          return _this.getNewOrExistingItemID(scrollerID, index);\n        },\n        createPortal: function createPortal(component, index, itemID, scrollerProperties) {\n          var isPreload = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          return _this.createPortal(scrollerID, component, index, itemID, scrollerProperties, isPreload = false);\n        },\n        deletePortalByIndex: function deletePortalByIndex(index, deleteListCallback) {\n          return _this.deletePortalByIndex(scrollerID, index, deleteListCallback);\n        },\n        applyPortalPartitionItemsForDeleteList: function applyPortalPartitionItemsForDeleteList() {\n          return _this.applyPortalPartitionItemsForDeleteList(scrollerID);\n        },\n        hasPortal: function hasPortal(itemID) {\n          return _this.hasPortal(itemID);\n        },\n        getPortalMetadata: function getPortalMetadata(itemID) {\n          return _this.getPortalMetadata(itemID);\n        }\n      };\n      return facade;\n    };\n    this.unRegisterScroller = function (scrollerID, itemSet) {\n      var scrollerDataMap = _this.scrollerDataMap,\n        itemMetadataMap = _this.itemMetadataMap;\n      if (scrollerDataMap.size == 1) return; // already getting dismantled; avoid conflict\n      scrollerDataMap["delete"](scrollerID);\n      itemSet.forEach(function (itemID) {\n        var _itemMetadataMap$get = itemMetadataMap.get(itemID),\n          partitionID = _itemMetadataMap$get.partitionID;\n        _this.removePartitionPortal(partitionID, itemID);\n        itemMetadataMap["delete"](itemID);\n      });\n      _this.renderPortalLists();\n      // this.measureMemory(\'UNREGISTER\', scrollerID)\n    };\n    // ===========================[ CACHE PARTITION MANAGEMENT ]===============================\n    // partitions are added but not removed\n    this.renderPartitionRepo = function () {\n      _this.partitionProps.partitionRenderList = Array.from(_this.partitionProps.partitionMap.values());\n      _this.partitionProps.partitionRepoForceUpdate(_this.partitionProps.partitionRenderList);\n    };\n    this.addPartition = function () {\n      var partitionID = _this.globalPartitionID++;\n      _this.partitionProps.partitionMetadataMap.set(partitionID, {\n        portalMap: new Map(),\n        mapcount: 0,\n        portalRenderList: null,\n        modified: false,\n        forceUpdate: null,\n        partitionID: partitionID\n      });\n      var resolvefunc = {\n        current: null\n      };\n      var promise = new Promise(function (resolve) {\n        resolvefunc.current = resolve;\n      });\n      var callback = function callback() {\n        resolvefunc.current(partitionID);\n      };\n      _this.partitionProps.partitionMap.set(partitionID, react_1["default"].createElement(CachePartition_1["default"], {\n        key: partitionID,\n        partitionProps: _this.partitionProps,\n        partitionID: partitionID,\n        callback: callback\n      }));\n      _this.renderPartitionRepo();\n      return promise;\n    };\n    this.addPartitionPortal = function (partitionID, itemID, portal) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      partitionMetadata.portalMap.set(itemID, portal);\n      _this.partitionProps.partitionModifiedSet.add(partitionID);\n    };\n    this.removePartitionPortal = function (partitionID, itemID) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      partitionMetadata.portalMap["delete"](itemID);\n      partitionMetadata.mapcount -= 1;\n      _this.partitionProps.partitionModifiedSet.add(partitionID);\n    };\n    this.renderPartition = function (partitionID) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      if (!partitionMetadata) return;\n      partitionMetadata.portalRenderList = Array.from(partitionMetadata.portalMap.values());\n      // if forceUpdate has not yet been assigned, it is in the works from first call of partition\n      partitionMetadata.forceUpdate && partitionMetadata.forceUpdate(partitionMetadata.portalRenderList);\n    };\n    // set state of the CachePartition component of the scroller to trigger render\n    this.renderPortalLists = function () {\n      var partitionModifiedSet = _this.partitionProps.partitionModifiedSet;\n      if (partitionModifiedSet.size) {\n        partitionModifiedSet.forEach(function (partitionID) {\n          _this.renderPartition(partitionID);\n        });\n        _this.partitionProps.partitionModifiedSet.clear();\n      }\n    };\n    this.clearCache = function (scrollerID) {\n      var scrollerDataMap = _this.scrollerDataMap,\n        itemMetadataMap = _this.itemMetadataMap;\n      var datamap = scrollerDataMap.get(scrollerID);\n      var indexToItemIDMap = datamap.indexToItemIDMap,\n        itemSet = datamap.itemSet,\n        requestedSet = datamap.requestedSet;\n      if (scrollerDataMap.size == 1) {\n        // clear base data\n        itemMetadataMap.clear();\n        // clear cache partitions\n        _this.partitionProps.partitionMetadataMap.clear();\n        _this.partitionProps.partitionMap.clear();\n        _this.partitionProps.partitionRenderList = [];\n        _this.partitionProps.partitionModifiedSet.clear();\n        _this.partitionProps.partitionPtr = null;\n        _this.partitionProps.partitionRepoForceUpdate(null);\n      } else {\n        itemSet.forEach(function (itemID) {\n          var _itemMetadataMap$get2 = itemMetadataMap.get(itemID),\n            partitionID = _itemMetadataMap$get2.partitionID;\n          _this.removePartitionPortal(partitionID, itemID);\n        });\n        _this.renderPortalLists();\n      }\n      indexToItemIDMap.clear();\n      itemSet.clear();\n      requestedSet.clear();\n    };\n    //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n    // ----------------------------[ basic operations ]--------------------------\n    // called from Cradle.nullItemSetMaxListsize, and serviceHandler.setListSize\n    this.changeCacheListSize = function (scrollerID, newlistsize, deleteListCallback) {\n      if (newlistsize.length == 0) {\n        _this.clearCache(scrollerID);\n        return;\n      }\n      // match cache to newlistsize\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var mapkeysList = Array.from(portalIndexMap.keys());\n      mapkeysList.sort(function (a, b) {\n        return a - b;\n      }); // ascending\n      var _this$scrollerDataMap = _this.scrollerDataMap.get(scrollerID),\n        cradleParameters = _this$scrollerDataMap.cradleParameters;\n      var virtualListProps = cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n      var lowindex = virtualListProps.lowindex;\n      var highestindex = mapkeysList.at(-1);\n      if (highestindex > newlistsize + lowindex - 1) {\n        // pare the cache\n        var parelist = mapkeysList.filter(function (index) {\n          var comparehighindex = newlistsize + lowindex - 1;\n          return index > comparehighindex;\n        });\n        _this.deletePortalByIndex(scrollerID, parelist, deleteListCallback);\n      }\n    };\n    this.changeCacheListRange = function (scrollerID, newlistrange, deleteListCallback) {\n      if (newlistrange.length == 0) {\n        _this.clearCache(scrollerID);\n        return;\n      }\n      // match cache to newlistsize\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var mapkeysList = Array.from(portalIndexMap.keys());\n      mapkeysList.sort(function (a, b) {\n        return a - b;\n      }); // ascending\n      var _this$scrollerDataMap2 = _this.scrollerDataMap.get(scrollerID),\n        cradleParameters = _this$scrollerDataMap2.cradleParameters;\n      var virtualListProps = cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n      var lowcurrentindex = virtualListProps.lowcurrentindex,\n        highcurrentindex = virtualListProps.highcurrentindex;\n      var _newlistrange = _slicedToArray(newlistrange, 2),\n        lownewindex = _newlistrange[0],\n        highnewindex = _newlistrange[1];\n      var highestindex = mapkeysList.at(-1);\n      var lowestindex = mapkeysList.at(0);\n      if (highestindex > highnewindex) {\n        // pare the cache\n        var compareindex = highnewindex;\n        var parelist = mapkeysList.filter(function (index) {\n          return index > compareindex;\n        });\n        _this.deletePortalByIndex(scrollerID, parelist, deleteListCallback);\n      }\n      if (lowestindex < lownewindex) {\n        // pare the cache\n        var _compareindex = lownewindex;\n        var _parelist = mapkeysList.filter(function (index) {\n          return index < _compareindex;\n        });\n        _this.deletePortalByIndex(scrollerID, _parelist, deleteListCallback);\n      }\n    };\n    // ----------------------[ cache size limit enforceent ]------------------\n    this.matchCacheToCradle = function (scrollerID, cradleIndexList, deleteListCallback) {\n      var mapkeys = Array.from(_this.scrollerDataMap.get(scrollerID).indexToItemIDMap.keys());\n      var delkeys = mapkeys.filter(function (key) {\n        return !cradleIndexList.includes(key);\n      });\n      if (delkeys.length) {\n        _this.deletePortalByIndex(scrollerID, delkeys, deleteListCallback);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    this.pareCacheToMax = function (scrollerID, cacheMax, cradleIndexList, deleteListCallback) {\n      var modelLength = cradleIndexList.length;\n      // determine need for paring\n      if (!cacheMax || !modelLength) return false;\n      var max = Math.max(modelLength, cacheMax);\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap,\n        requestedSet = _this.scrollerDataMap.get(scrollerID).requestedSet;\n      if (portalIndexMap.size + requestedSet.size <= max) return false;\n      // sort the map keys\n      var mapkeyslist = Array.from(portalIndexMap.keys()),\n        requestedkeys = Array.from(requestedSet.keys());\n      var mapkeys = [].concat(mapkeyslist, requestedkeys);\n      mapkeys.sort(function (a, b) {\n        return a - b;\n      });\n      // get number to pare\n      var mapLength = mapkeys.length,\n        parecount = mapLength - max;\n      // distribute paring proportionally at front and back\n      var headindex = cradleIndexList[0],\n        tailindex = cradleIndexList[modelLength - 1],\n        headpos = mapkeys.indexOf(headindex),\n        tailpos = mapkeys.indexOf(tailindex);\n      var headroom = headpos,\n        tailroom = mapLength - (tailpos + 1),\n        pareroom = headroom + tailroom;\n      var headparecount = Math.floor(headroom / pareroom * parecount),\n        tailparecount = parecount - headparecount;\n      // collect indexes to pare\n      var headlist = mapkeys.slice(0, headparecount),\n        taillist = mapkeys.slice(mapLength - tailparecount);\n      var delList = [].concat(_toConsumableArray(headlist), _toConsumableArray(taillist));\n      _this.deletePortalByIndex(scrollerID, delList, deleteListCallback);\n      return true;\n    };\n    this.guardAgainstRunawayCaching = function (scrollerID, cacheMax, cradleListLength, MAX_CACHE_OVER_RUN) {\n      if (!cacheMax) return false;\n      var _this$scrollerDataMap3 = _this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap3.indexToItemIDMap,\n        requestedSet = _this$scrollerDataMap3.requestedSet;\n      var max = Math.max(cradleListLength, cacheMax);\n      if (indexToItemIDMap.size + requestedSet.size <= max * MAX_CACHE_OVER_RUN) {\n        return false;\n      } else {\n        return true;\n      }\n    };\n    // --------------------------------[ preload ]--------------------------------\n    this.preload = function (scrollerID, finalCallback, nullItemSetMaxListsize) {\n      var _this$scrollerDataMap4 = _this.scrollerDataMap.get(scrollerID),\n        cradleParameters = _this$scrollerDataMap4.cradleParameters;\n      var scrollerPropertiesRef = cradleParameters.scrollerPropertiesRef;\n      var _cradleParameters$han = cradleParameters.handlersRef.current,\n        stateHandler = _cradleParameters$han.stateHandler,\n        serviceHandler = _cradleParameters$han.serviceHandler,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n      var getItem = cradleInheritedProperties.getItem,\n        cacheMax = cradleInheritedProperties.cacheMax,\n        _cradleInternalProper = cradleInternalProperties.virtualListProps,\n        listsize = _cradleInternalProper.size,\n        lowindex = _cradleInternalProper.lowindex,\n        highindex = _cradleInternalProper.highindex;\n      var promises = [];\n      var cacheSize = cacheMax !== null && cacheMax !== void 0 ? cacheMax : 0;\n      cacheSize = Math.min(cacheSize, listsize);\n      var preloadsize = cacheSize ? cacheSize : listsize;\n      var breakloop = {\n        current: false\n      };\n      var maxListsizeInterrupt = function maxListsizeInterrupt(index) {\n        breakloop.current = true;\n        nullItemSetMaxListsize(index);\n      };\n      if (stateHandler.isMountedRef.current) {\n        var indexToItemIDMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n        var _serviceHandler$callb = serviceHandler.callbacks,\n          preloadIndexCallback = _serviceHandler$callb.preloadIndexCallback,\n          itemExceptionCallback = _serviceHandler$callb.itemExceptionCallback;\n        for (var index = lowindex; index <= highindex; index++) {\n          preloadIndexCallback && preloadIndexCallback(index);\n          if (!indexToItemIDMap.has(index)) {\n            var promise = _this.preloadItem(scrollerID, index, getItem, scrollerPropertiesRef, itemExceptionCallback, maxListsizeInterrupt);\n            promises.push(promise);\n          }\n          if (breakloop.current) break;\n        }\n      }\n      Promise.allSettled(promises).then(function () {\n        _this.renderPortalLists();\n        finalCallback();\n      });\n    };\n    this.applyPortalPartitionItemsForDeleteList = function (scrollerID) {\n      var _this$scrollerDataMap5 = _this.scrollerDataMap.get(scrollerID),\n        portalPartitionItemsForDeleteList = _this$scrollerDataMap5.portalPartitionItemsForDeleteList;\n      if (portalPartitionItemsForDeleteList && portalPartitionItemsForDeleteList.length) {\n        var _iterator = _createForOfIteratorHelper(portalPartitionItemsForDeleteList),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            _this.removePartitionPortal(item.partitionID, item.itemID);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        _this.scrollerDataMap.get(scrollerID).portalPartitionItemsForDeleteList = [];\n        _this.renderPortalLists();\n      }\n    };\n    this.CACHE_PARTITION_SIZE = CACHE_PARTITION_SIZE;\n  }\n  // public measureMemory(source, scrollerID) {\n  //   console.log(\'usedJSHeapSize\',\'-\'+scrollerID+\'-\',source, performance[\'memory\'][\'usedJSHeapSize\'])\n  // }\n  // ===========================[ Scroller Registration & Maintenance ]===============================\n  // the only member accessed directly. All other access is through the facade\n  _createClass(CacheAPI, [{\n    key: "registerScroller",\n    value: function registerScroller(scrollerID) {\n      this.scrollerDataMap.set(scrollerID, {\n        cradleParameters: null,\n        indexToItemIDMap: new Map(),\n        // some portals may have been requested by requestidlecallback, not yet created\n        itemSet: new Set(),\n        requestedSet: new Set(),\n        portalPartitionItemsForDeleteList: null\n      });\n      // this.measureMemory(\'REGISTER\', scrollerID)\n      return this.getFacade(scrollerID);\n    }\n  }, {\n    key: "findPartitionWithRoom",\n    value: function findPartitionWithRoom() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var CACHE_PARTITION_SIZE, partitionMetadataMap, partitionPtr, partitionMetadata, _iterator2, _step2, _step2$value, partitionID, _partitionMetadata;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              CACHE_PARTITION_SIZE = this.CACHE_PARTITION_SIZE;\n              partitionMetadataMap = this.partitionProps.partitionMetadataMap;\n              partitionPtr = this.partitionProps.partitionPtr;\n              if (!(partitionPtr !== null)) {\n                _context.next = 8;\n                break;\n              }\n              partitionMetadata = partitionMetadataMap.get(partitionPtr);\n              if (!(partitionMetadata.mapcount < CACHE_PARTITION_SIZE)) {\n                _context.next = 8;\n                break;\n              }\n              partitionMetadata.mapcount += 1;\n              return _context.abrupt("return", partitionPtr);\n            case 8:\n              partitionPtr = null;\n              _iterator2 = _createForOfIteratorHelper(partitionMetadataMap);\n              _context.prev = 10;\n              _iterator2.s();\n            case 12:\n              if ((_step2 = _iterator2.n()).done) {\n                _context.next = 20;\n                break;\n              }\n              _step2$value = _slicedToArray(_step2.value, 2), partitionID = _step2$value[0], _partitionMetadata = _step2$value[1];\n              if (!(_partitionMetadata.mapcount < CACHE_PARTITION_SIZE)) {\n                _context.next = 18;\n                break;\n              }\n              _partitionMetadata.mapcount += 1;\n              partitionPtr = partitionID;\n              return _context.abrupt("break", 20);\n            case 18:\n              _context.next = 12;\n              break;\n            case 20:\n              _context.next = 25;\n              break;\n            case 22:\n              _context.prev = 22;\n              _context.t0 = _context["catch"](10);\n              _iterator2.e(_context.t0);\n            case 25:\n              _context.prev = 25;\n              _iterator2.f();\n              return _context.finish(25);\n            case 28:\n              if (!(partitionPtr === null)) {\n                _context.next = 34;\n                break;\n              }\n              _context.next = 31;\n              return this.addPartition();\n            case 31:\n              partitionPtr = _context.sent;\n              partitionMetadata = partitionMetadataMap.get(partitionPtr);\n              partitionMetadata.mapcount += 1;\n            case 34:\n              this.partitionProps.partitionPtr = partitionPtr;\n              return _context.abrupt("return", partitionPtr);\n            case 36:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this, [[10, 22, 25, 28]]);\n      }));\n    }\n    // =========================[ SNAPSHOTS ]=========================\n  }, {\n    key: "getCacheIndexMap",\n    value: function getCacheIndexMap(scrollerID) {\n      return new Map(this.scrollerDataMap.get(scrollerID).indexToItemIDMap);\n    }\n  }, {\n    key: "getCradleIndexMap",\n    value: function getCradleIndexMap(scrollerID, cradleIndexList) {\n      var cradleMap = new Map(),\n        _this$scrollerDataMap6 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap6.indexToItemIDMap;\n      var _iterator3 = _createForOfIteratorHelper(cradleIndexList),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var index = _step3.value;\n          cradleMap.set(index, indexToItemIDMap.get(index));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      return cradleMap;\n    }\n  }, {\n    key: "getCacheItemMap",\n    value: function getCacheItemMap(scrollerID) {\n      var cachelist = new Map();\n      var _this$scrollerDataMap7 = this.scrollerDataMap.get(scrollerID),\n        itemSet = _this$scrollerDataMap7.itemSet;\n      var itemMetadataMap = this.itemMetadataMap;\n      // for (const [key, value] of this.itemMetadataMap) {\n      var _iterator4 = _createForOfIteratorHelper(itemSet),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var itemID = _step4.value;\n          var metadata = itemMetadataMap.get(itemID);\n          var index = metadata.index,\n            component = metadata.component;\n          cachelist.set(itemID, {\n            index: index,\n            component: component\n          });\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      return cachelist;\n    }\n    // ==========================[ SERVICE SUPPORT ]=========================\n    // --------------------------[ move indexes ]-------------------------------\n    // move is coerced by servicehandler to be within current list bounds\n  }, {\n    key: "moveIndex",\n    value: function moveIndex(scrollerID, tolowindex, fromlowindex, fromhighindex) {\n      var indexToItemIDMap = this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var itemMetadataMap = this.itemMetadataMap;\n      // ----------- define parameters ---------------\n      var moveblocksize = fromhighindex - fromlowindex + 1,\n        moveincrement = tolowindex - fromlowindex,\n        tohighindex = tolowindex + (moveblocksize - 1);\n      var movedirection = moveincrement > 0 ?\n      // move block up in list\n      \'up\' :\n      // shift down, make room for shiftingindex above\n      \'down\'; // shift up, make room for shiftingindex below\n      // ------------ find bounds of from and to blocks in cache -------------\n      var orderedindexlist = Array.from(indexToItemIDMap.keys()).sort(function (a, b) {\n        return a - b;\n      });\n      var reverseorderedindexlist = orderedindexlist.slice().reverse();\n      var tolowindexptr = orderedindexlist.findIndex(function (value) {\n          return value >= tolowindex;\n        }),\n        fromlowindexptr = orderedindexlist.findIndex(function (value) {\n          return value >= fromlowindex;\n        });\n      var tohighindexptr = reverseorderedindexlist.findIndex(function (value) {\n          return value <= tohighindex;\n        }),\n        fromhighindexptr = reverseorderedindexlist.findIndex(function (value) {\n          return value <= fromhighindex;\n        });\n      // get required inverse\n      {\n        var cachelistcount = orderedindexlist.length;\n        if (tohighindexptr != -1) tohighindexptr = cachelistcount - 1 - tohighindexptr;\n        if (fromhighindexptr != -1) fromhighindexptr = cachelistcount - 1 - fromhighindexptr;\n      }\n      // ---------------- capture index data to move ----------------\n      var listtoprocessformove;\n      if (fromlowindexptr == -1 && fromhighindexptr == -1) {\n        // scope is out of view\n        listtoprocessformove = [];\n      } else if (fromhighindexptr == -1) {\n        // scope is partially in view\n        listtoprocessformove = orderedindexlist.slice(fromlowindexptr);\n      } else {\n        // scope is entirely in view\n        listtoprocessformove = orderedindexlist.slice(fromlowindexptr, fromhighindexptr + 1);\n      }\n      var processtomoveMap = new Map();\n      var capturemoveindexFn = function capturemoveindexFn(index) {\n        processtomoveMap.set(index, indexToItemIDMap.get(index));\n      };\n      listtoprocessformove.forEach(capturemoveindexFn);\n      // ------------- get list of indexes to shift out of the way ---------------\n      var listtoprocessfordisplace;\n      if (movedirection == \'down\') {\n        // block is moving down, shift is up; toindex < fromindex\n        if (tolowindexptr == -1 && fromlowindexptr == -1) {\n          listtoprocessfordisplace = [];\n        } else if (fromlowindexptr == -1) {\n          listtoprocessfordisplace = orderedindexlist.slice(tolowindexptr);\n        } else {\n          listtoprocessfordisplace = orderedindexlist.slice(tolowindexptr, fromlowindexptr);\n        }\n      } else {\n        // shiftdirection == -1; block is moving up, shift is down; fromindex < toindex\n        if (tohighindexptr == -1 && fromhighindexptr == -1) {\n          listtoprocessfordisplace = [];\n        } else if (tohighindexptr == -1) {\n          listtoprocessfordisplace = orderedindexlist.slice(fromhighindexptr + 1);\n        } else {\n          listtoprocessfordisplace = orderedindexlist.slice(fromhighindexptr + 1, tohighindexptr + 1);\n        }\n      }\n      if (movedirection == \'down\') listtoprocessfordisplace.reverse();\n      // -------------- move indexes out of the way --------------\n      var processeddisplaceList = [];\n      var processsdisplaceindexFn = function processsdisplaceindexFn(index) {\n        var itemID = indexToItemIDMap.get(index);\n        var newIndex = movedirection == \'up\' ? index - moveblocksize : index + moveblocksize;\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        processeddisplaceList.push(newIndex);\n      };\n      listtoprocessfordisplace.forEach(processsdisplaceindexFn);\n      // ------------ replace shifted index space with moved indexes ----------\n      var processedmoveList = [];\n      var processmoveindexFn = function processmoveindexFn(itemID, index) {\n        var newIndex = index + moveincrement; // swap\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        processedmoveList.push(newIndex);\n      };\n      processtomoveMap.forEach(processmoveindexFn);\n      // -----------return list of processed indexes to caller --------\n      // for synchrnization with cradle cellFrames\n      var processedIndexes = [].concat(processeddisplaceList, processedmoveList).sort(function (a, b) {\n        return a - b;\n      });\n      return processedIndexes;\n    }\n    // ----------------------------[ insert/remove indexes ]------------------------------\n    // insert or remove indexes: much of this deals with the fact that the cache is sparse.\n  }, {\n    key: "insertRemoveIndex",\n    value: function insertRemoveIndex(scrollerID, index, highrange, increment, listsize) {\n      // clarity\n      var isInserting = increment == 1;\n      var isRemoving = increment == -1;\n      var emptyreturn = [null, null, [], [], [], []]; // no action return value\n      // cache resources\n      var indexToItemIDMap = this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var itemMetadataMap = this.itemMetadataMap;\n      var orderedCacheIndexList = Array.from(indexToItemIDMap.keys()).sort(function (a, b) {\n        return a - b;\n      }); // ascending order\n      var itemSet = this.scrollerDataMap.get(scrollerID).itemSet;\n      // ---------- define contiguous range parameters; add sentinels ---------------\n      // high range is the highest index number of the insert/remove range\n      var highrangeindex = highrange;\n      var lowrangeindex = index; // semantics - name symmetry\n      if (isRemoving) {\n        // removal must be entirely within scope of the list\n        if (highrangeindex > listsize - 1) {\n          highrangeindex = listsize - 1;\n          if (highrangeindex < lowrangeindex) return emptyreturn;\n        }\n      } else {\n        // isInserting\n        // addition can at most start at the next lowrangeindex above the current list; aka append\n        if (lowrangeindex > listsize) {\n          var diff = lowrangeindex - listsize;\n          lowrangeindex -= diff;\n          highrangeindex -= diff;\n        }\n      }\n      // rangecount is the absolute number in the insert/remove contiguous range\n      var rangecount = highrangeindex - lowrangeindex + 1;\n      // range increment adds sign to rangecount to indicate add/remove\n      var rangeincrement = rangecount * increment;\n      var startChangeIndex = increment == 1 ? lowrangeindex : highrangeindex + (rangeincrement + 1);\n      var toShiftStartIndex; // start of indexes to shift up (insert) or down (remove)\n      if (isInserting) {\n        toShiftStartIndex = lowrangeindex;\n      } else {\n        // isRemoving\n        toShiftStartIndex = highrangeindex + 1;\n      }\n      // ---------- define range boundaries within ordered cache index list ------------\n      // obtain starptr for indexes to shift\n      var toShiftStartCachePtr = orderedCacheIndexList.findIndex(function (value) {\n        return value >= toShiftStartIndex;\n      });\n      // obtain lowCacheRangePtr...\n      var lowCacheRangePtr = orderedCacheIndexList.findIndex(function (value) {\n        return value >= lowrangeindex && value <= highrangeindex;\n      });\n      // obtain highCacheRangePtr...\n      var reverseCacheIndexList = Array.from(orderedCacheIndexList).reverse();\n      var highCacheRangePtr = reverseCacheIndexList.findIndex(function (value) {\n        return value <= highrangeindex && value >= lowrangeindex;\n      });\n      // take inverse of highCacheRangePtr for non-reverse sort\n      if (highCacheRangePtr != -1) {\n        highCacheRangePtr = orderedCacheIndexList.length - 1 - highCacheRangePtr;\n        if (highCacheRangePtr < lowCacheRangePtr) highCacheRangePtr = -1;\n      }\n      // ----------- isolate index range list and shift list ------------\n      // cache inputs\n      var cacheRangeIndexesList,\n        // for either insert or remove\n        cacheToShiftIndexesList; // for either insert or remove\n      // get inputs\n      if (lowCacheRangePtr == -1) {\n        // core scope is out of view\n        cacheRangeIndexesList = [];\n        cacheToShiftIndexesList = [];\n      } else if (highCacheRangePtr == -1) {\n        // core scope is partially in view; lowCacheRangePtr is available\n        // all items above lowCacheRangePtr must have indexes reset\n        cacheRangeIndexesList = orderedCacheIndexList.slice(lowCacheRangePtr);\n        if (isInserting) {\n          cacheToShiftIndexesList = cacheRangeIndexesList.slice();\n        } else {\n          if (toShiftStartCachePtr == -1) {\n            cacheToShiftIndexesList = [];\n          } else {\n            cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n          }\n        }\n      } else {\n        // range fully in view\n        cacheRangeIndexesList = orderedCacheIndexList.slice(lowCacheRangePtr, highCacheRangePtr + 1);\n        if (isInserting) {\n          cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n        } else {\n          if (toShiftStartCachePtr == -1) {\n            cacheToShiftIndexesList = [];\n          } else {\n            cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n          }\n        }\n      }\n      // ----------- list cache indexes and items to replace or remove -----------\n      // cache outputs\n      // for insert, the range being inserted; for remove, any tail cradle items abandoned\n      var cacheIndexesToReplaceList = [],\n        // for insert, the range being inserted\n        cacheIndexesToRemoveList = [],\n        // for remove, the range being removed\n        cacheItemsToRemoveList = []; // for remove, derived from the previous\n      if (isInserting) {\n        cacheIndexesToReplaceList = cacheRangeIndexesList;\n      } else {\n        // isRemoving\n        cacheIndexesToRemoveList = cacheRangeIndexesList;\n        // get cacheItemsToRemoveList\n        var _iterator5 = _createForOfIteratorHelper(cacheIndexesToRemoveList),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _index = _step5.value;\n            cacheItemsToRemoveList.push(indexToItemIDMap.get(_index));\n            indexToItemIDMap["delete"](_index);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n      // ----------- conduct cache operations; capture list of shifted indexes ----------\n      // increment higher from top of list to preserve lower values for subsequent increment\n      if (isInserting) cacheToShiftIndexesList.reverse();\n      var cacheIndexesShiftedList = []; // track shifted indexes\n      var cacheIndexesTransferredSet = new Set(); // obtain list of orphaned indexes\n      // function modify index-to-itemid map, and metadata map, for index shifts\n      var processIndexFn = function processIndexFn(index) {\n        var itemID = indexToItemIDMap.get(index);\n        var newIndex = index + rangeincrement;\n        if (isRemoving) {\n          cacheIndexesTransferredSet.add(index);\n          cacheIndexesTransferredSet["delete"](newIndex);\n        }\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        cacheIndexesShiftedList.push(newIndex);\n      };\n      // walk through items to shift\n      cacheToShiftIndexesList.forEach(processIndexFn);\n      // delete remaining indexes and items now duplicates; track portal data to remove after cradle updated\n      var portalPartitionItemsForDeleteList = []; // hold portals for deletion until after after cradle synch\n      var cacheIndexesRemovedList = [];\n      if (isInserting) {\n        var _iterator6 = _createForOfIteratorHelper(cacheIndexesToReplaceList),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _index2 = _step6.value;\n            indexToItemIDMap["delete"](_index2);\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      } else {\n        // isRemoving\n        var _iterator7 = _createForOfIteratorHelper(cacheItemsToRemoveList),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var itemID = _step7.value;\n            var _itemMetadataMap$get3 = itemMetadataMap.get(itemID),\n              partitionID = _itemMetadataMap$get3.partitionID;\n            portalPartitionItemsForDeleteList.push({\n              itemID: itemID,\n              partitionID: partitionID\n            });\n            itemMetadataMap["delete"](itemID);\n            itemSet["delete"](itemID);\n          }\n          // abandoned indexes from remove process\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n        var orphanedIndexesTransferredList = Array.from(cacheIndexesTransferredSet);\n        for (var _i2 = 0, _orphanedIndexesTrans = orphanedIndexesTransferredList; _i2 < _orphanedIndexesTrans.length; _i2++) {\n          var _index3 = _orphanedIndexesTrans[_i2];\n          indexToItemIDMap["delete"](_index3);\n        }\n        cacheIndexesRemovedList = cacheIndexesToRemoveList.concat(orphanedIndexesTransferredList);\n      }\n      if (isInserting) cacheIndexesShiftedList.reverse(); // return to ascending order\n      // --------------- returns ---------------\n      // return values for caller to send to contenthandler for cradle synchronization\n      return [startChangeIndex, rangeincrement, cacheIndexesShiftedList, cacheIndexesRemovedList, cacheIndexesToReplaceList, portalPartitionItemsForDeleteList];\n    }\n    // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n    // used for size calculation in pareCacheToMax\n    // registers indexes when requested but before retrieved and entered into cache\n  }, {\n    key: "registerPendingPortal",\n    value: function registerPendingPortal(scrollerID, index) {\n      this.scrollerDataMap.get(scrollerID).requestedSet.add(index);\n    }\n  }, {\n    key: "unregisterPendingPortal",\n    value: function unregisterPendingPortal(scrollerID, index) {\n      var scrollerDataMap = this.scrollerDataMap.get(scrollerID);\n      if (scrollerDataMap) {\n        // otherwise scroller has been deleted\n        scrollerDataMap.requestedSet["delete"](index);\n      }\n    }\n  }, {\n    key: "getNewItemID",\n    value: function getNewItemID() {\n      return this.globalItemID++;\n    }\n    // get new or existing itemID for contentfunctions.createCellFrame\n  }, {\n    key: "getNewOrExistingItemID",\n    value: function getNewOrExistingItemID(scrollerID, index) {\n      var _this$scrollerDataMap8 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap8.indexToItemIDMap;\n      var itemID = indexToItemIDMap.has(index) ? indexToItemIDMap.get(index) : this.getNewItemID();\n      return itemID;\n    }\n    // create new portal\n  }, {\n    key: "createPortal",\n    value: function createPortal(scrollerID, component, index, itemID, scrollerProperties) {\n      var isPreload = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var scrollerDataMap, _this$scrollerDataMap9, layout, cellHeight, cellWidth, orientation, portalNode, partitionID, portal, portalMetadata;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this.unregisterPendingPortal(scrollerID, index);\n              scrollerDataMap = this.scrollerDataMap.get(scrollerID);\n              if (scrollerDataMap) {\n                _context2.next = 4;\n                break;\n              }\n              return _context2.abrupt("return", null);\n            case 4:\n              _this$scrollerDataMap9 = this.scrollerDataMap.get(scrollerID).cradleParameters.cradleInheritedPropertiesRef.current, layout = _this$scrollerDataMap9.layout, cellHeight = _this$scrollerDataMap9.cellHeight, cellWidth = _this$scrollerDataMap9.cellWidth, orientation = _this$scrollerDataMap9.orientation;\n              portalNode = createPortalNode(index, itemID);\n              _context2.next = 8;\n              return this.findPartitionWithRoom();\n            case 8:\n              partitionID = _context2.sent;\n              portal = react_1["default"].createElement("div", {\n                "data-type": \'portalwrapper\',\n                key: itemID,\n                "data-itemid": itemID,\n                "data-index": index\n              }, react_1["default"].createElement(react_reverse_portal_1.InPortal, {\n                key: itemID,\n                node: portalNode\n              }, " ", component, " "));\n              this.addPartitionPortal(partitionID, itemID, portal);\n              portalMetadata = {\n                portalNode: portalNode,\n                index: index,\n                itemID: itemID,\n                scrollerID: scrollerID,\n                scrollerProperties: scrollerProperties,\n                component: component,\n                partitionID: partitionID\n              };\n              this.itemMetadataMap.set(itemID, portalMetadata);\n              scrollerDataMap.itemSet.add(itemID);\n              scrollerDataMap.indexToItemIDMap.set(index, itemID);\n              if (!isPreload) this.renderPortalLists();\n              return _context2.abrupt("return", portalMetadata);\n            case 17:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n    }\n    // used for preloading new item\n  }, {\n    key: "preloadItem",\n    value: function preloadItem(scrollerID, index, getItem, scrollerPropertiesRef, itemExceptionCallback, maxListsizeInterrupt) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var itemID, returnvalue, usercontent, error, content, scrollerProperties;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              itemID = this.getNewItemID();\n              _context3.prev = 1;\n              _context3.next = 4;\n              return getItem(index, itemID);\n            case 4:\n              usercontent = _context3.sent;\n              if (usercontent === null) returnvalue = usercontent;\n              _context3.next = 12;\n              break;\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3["catch"](1);\n              returnvalue = usercontent = undefined;\n              error = _context3.t0;\n            case 12:\n              if (usercontent !== null && usercontent !== undefined) {\n                if (!react_1["default"].isValidElement(usercontent)) {\n                  returnvalue = usercontent;\n                  usercontent = undefined;\n                  error = new Error(\'invalid React element\');\n                }\n              }\n              if (!(usercontent !== null && usercontent !== undefined)) {\n                _context3.next = 20;\n                break;\n              }\n              scrollerProperties = {\n                scrollerPropertiesRef: scrollerPropertiesRef,\n                cellFramePropertiesRef: {\n                  current: {\n                    index: index,\n                    itemID: itemID\n                  }\n                }\n              };\n              if (usercontent.props.hasOwnProperty(\'scrollerProperties\')) {\n                content = react_1["default"].cloneElement(usercontent, {\n                  scrollerProperties: scrollerProperties\n                });\n              } else {\n                content = usercontent;\n              }\n              // const portalData = \n              _context3.next = 18;\n              return this.createPortal(scrollerID, content, index, itemID, scrollerProperties, true);\n            case 18:\n              _context3.next = 21;\n              break;\n            case 20:\n              if (usercontent === undefined) {\n                itemExceptionCallback && itemExceptionCallback(index, itemID, returnvalue, \'preload\', error);\n              } else {\n                // usercontent === null; last item in list\n                itemExceptionCallback && itemExceptionCallback(index, itemID, returnvalue, \'preload\', new Error(\'end of list\'));\n                maxListsizeInterrupt(index);\n              }\n            case 21:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[1, 8]]);\n      }));\n    }\n    // delete a portal list item\n    // accepts an array of indexes\n  }, {\n    key: "deletePortalByIndex",\n    value: function deletePortalByIndex(scrollerID, index, deleteListCallback) {\n      var indexArray = !Array.isArray(index) ? [index] : index;\n      var _this$scrollerDataMap10 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap10.indexToItemIDMap,\n        itemSet = _this$scrollerDataMap10.itemSet;\n      var itemMetadataMap = this.itemMetadataMap;\n      var removePartitionPortal = this.removePartitionPortal;\n      var deleteList = [];\n      var _iterator8 = _createForOfIteratorHelper(indexArray),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var _index4 = _step8.value;\n          var itemID = indexToItemIDMap.get(_index4);\n          if (itemID === undefined) continue; // async mismatch\n          deleteList.push({\n            index: _index4,\n            itemID: itemID\n          });\n          var _itemMetadataMap$get4 = itemMetadataMap.get(itemID),\n            partitionID = _itemMetadataMap$get4.partitionID;\n          removePartitionPortal(partitionID, itemID);\n          itemMetadataMap["delete"](itemID);\n          itemSet["delete"](itemID);\n          indexToItemIDMap["delete"](_index4);\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n      deleteListCallback && deleteListCallback(deleteList);\n    }\n    // query existence of a portal list item\n  }, {\n    key: "hasPortal",\n    value: function hasPortal(itemID) {\n      return this.itemMetadataMap.has(itemID);\n    }\n  }, {\n    key: "getPortalMetadata",\n    value: function getPortalMetadata(itemID) {\n      if (this.hasPortal(itemID)) {\n        return this.itemMetadataMap.get(itemID);\n      }\n    }\n  }]);\n  return CacheAPI;\n}();\nexports["default"] = CacheAPI;\n// ==========================[ Utility function ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n// see also some styles set in CellFrame\nvar createPortalNode = function createPortalNode(index, itemID) {\n  var portalNode = (0, react_reverse_portal_1.createHtmlPortalNode)();\n  var container = portalNode.element;\n  container.style.overflow = \'hidden\';\n  container.dataset.type = \'contentenvelope\';\n  container.dataset.index = index;\n  container.dataset.cacheitemid = itemID;\n  return portalNode;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM2TyxVQUFVLENBQUM7SUFFeEQ7SUFzQkE7RUFBQTtJQUFBdGQsR0FBQTtJQUFBRSxLQUFBLEVBQ1EsU0FBQTRRLFVBQVVOLE1BQU07TUFFcEIsT0FBTyxJQUFJLENBQUNsRSxlQUFlLENBQUN5SyxHQUFHLENBQUN2RyxNQUFNLENBQUM7SUFFM0M7RUFBQztJQUFBeFEsR0FBQTtJQUFBRSxLQUFBLEVBRU8sU0FBQTZRLGtCQUFrQlAsTUFBTTtNQUU1QixJQUFJLElBQUksQ0FBQ00sU0FBUyxDQUFDTixNQUFNLENBQUMsRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ2xFLGVBQWUsQ0FBQ2dCLEdBQUcsQ0FBQ2tELE1BQU0sQ0FBQzs7SUFHL0M7RUFBQztFQUFBLE9BQUF2RSxRQUFBO0FBQUE7QUEveENMdk0sa0JBQUEsR0FBQXVNLFFBQUE7QUFteUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEsSUFBTXNRLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUl6TSxLQUFLLEVBQUVVLE1BQU0sRUFBSTtFQUV2QyxJQUFNOEwsVUFBVSxHQUFHLElBQUF2USxzQkFBQSxDQUFBMlIsb0JBQW9CLEdBQUU7RUFFekMsSUFBTUMsU0FBUyxHQUFHckIsVUFBVSxDQUFDc0IsT0FBTztFQUNwQ0QsU0FBUyxDQUFDRSxLQUFLLENBQUNDLFFBQVEsR0FBRyxRQUFRO0VBRW5DSCxTQUFTLENBQUNJLE9BQU8sQ0FBQ2xjLElBQUksR0FBRyxpQkFBaUI7RUFDMUM4YixTQUFTLENBQUNJLE9BQU8sQ0FBQ2pPLEtBQUssR0FBR0EsS0FBSztFQUMvQjZOLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDQyxXQUFXLEdBQUd4TixNQUFNO0VBRXRDLE9BQU84TCxVQUFVO0FBRXJCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3BvcnRhbGNhY2hlL2NhY2hlQVBJLnRzeD9lZGE0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNhY2hlQVBJLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBtYW5hZ2VzIHRoZSBJbmZpbml0ZUdyaWRTY3JvbGxlciBsaW1pdGVkIChzcGFyc2UpIGNhY2hlLiBJdCBhbHNvIHByb3ZpZGVzIHN1cHBvcnQgZm9yIFxuICAgIHNlcnZpY2VzIHdoaWNoIGFsbG93IHRoZSBob3N0IHRvIGFjdGl2ZWx5IG1hbmFnZSBtYW55IGFzcGVjdHMgb2YgdGhlIGNhY2hlLiBTZWUgZG9jdW1lbnRhdGlvblxuICAgIGFib3V0IHRoZSB1c2VyIGZ1bmN0aW9uc0NhbGxiYWNrIGNhbGxiYWNrIGZvciBkZXRhaWxzLiBUaGUgY2FjaGVNYXggcHJvcGVydHkgYWxsb3dzIGZvciBjb250cm9sIG9mIHRoZVxuICAgIG1heGltdW0gZGV2aWNlIG1lbW9yeSBjb25zdW1wdGlvbiBvZiB0aGUgY2FjaGUuXG5cbiAgICBUaGUgaW5maW5pdGUgZ3JpZCBzY3JvbGxlciBzdG9yZXMgdXNlciBjZWxsIGNvbnRlbnQgKGNvbXBvbmVudHMpIGluIGEgY2VudHJhbCBoaWRkZW4gY2FjaGUsIFxuICAgIGZyb20gd2hlbmNlIHRoZSBjb21wb25lbnRzIGFyZSBwdWxsZWQgaW50byB0aGUgcmVsZXZhbnQgQ2VsbEZyYW1lcyBmb3IgZGlzcGxheS4gVGhlIHVzZXIgY29tcG9uZW50cyBhcmUgXG4gICAgc3RvcmVkIGluIFJlYWN0IHBvcnRhbHMsIHdpdGggZWFjaCBwb3J0YWwgaW5zdGFudGlhdGVkIGluIGEgY29udGFpbmVyIGRpdiAoZGF0YS10eXBlID0gJ3BvcnRhbHdyYXBwZXInKS4gXG4gICAgVGhlc2UgY29udGFpbmVyIGRpdnMgYXJlIHBhcnQgb2YgYSBzdGFuZGFyZCBSZWFjdCBjb21wb25lbnQgbGlzdCBpbiB0aGUgcmVhbCBET00uIFRoZSBjb250YWluZWQgcG9ydGFscyBcbiAgICB0aGVtc2VsdmVzIGFyZSBub3QgcGFydCBvZiB0aGUgcmVhbCBET00sIGJ1dCBhcmUgcGFydCBvZiBSZWFjdCdzIHZpcnR1YWwgRE9NLlxuXG4gICAgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9wb3J0YWxzLmh0bWwgZm9yIGdlbmVyYWwgaW5mb3JtYXRpb24gYWJvdXQgUmVhY3QgcG9ydGFscy5cbiAgICBTZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcmVhY3QtcmV2ZXJzZS1wb3J0YWwgZm9yIHRoZSB1dGlsaXR5IHRoYXQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcbiAgICB1c2VzIHRvIG1hbmFnZSBwb3J0YWxzLlxuXG4gICAgVGhpcyBjYWNoaW5nIGhhcyBtYW55IGFkdmFudGFnZXMsIG5vdGFibHkgdGhlIGFiaWxpdHkgdG8gbW92ZSBjZWxscyBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIHRoZVxuICAgIGhlYWQgYW5kIHRhaWwgZ3JpZHMgb2YgdGhlIENyYWRsZSB3aXRob3V0IGxvc2luZyBzdGF0ZSwgYW5kIHRoZSBhYmlsaXR5IHRvIG1haW50YWluIHN0YXRlIGZvciBcbiAgICBjb21wbGV4IGNvbXBvbmVudHMgd2hpY2ggbW92ZSBiZXlvbmQgdGhlIHNjb3BlIG9mIHRoZSBjb250ZW50IG9mIHRoZSBDcmFkbGUuIFxuXG4gICAgVGhlcmUgaXMgYW4gaW1wb3J0YW50IHNpZGUgZWZmZWN0IHRvIGNvbnNpZGVyLiBJbnN0YW50aWF0ZWQgY29tcG9uZW50cyB3aGljaCBhcmUgcmVtb3ZlZCBmcm9tIHRoZSByZWFsIERPTSBcbiAgICBpbnRvIHRoZSBwb3J0YWwgb2YgdGhlIHZpcnR1YWwgRE9NIGhhdmUgdGhlaXIgc2Nyb2xsIHBvc2l0aW9ucywgd2lkdGgsIGFuZCBoZWlnaHQgc2V0IHRvIHplcm8uIFRoZXJlZm9yZSBpZiBcbiAgICBjb21wb25lbnRzIHJlbHkgb24gdGhlc2UgdmFsdWVzIGZvciBjb25maWd1cmF0aW9uLCB0aGV5IG11c3QgaGF2ZSBhIHdheSBvZiBzdG9yaW5nIHRob3NlIHZhbHVlcyBpbiBzdGF0ZSBcbiAgICAobm90YWJseSB0aGUgU2Nyb2xsIFBvcyAtIHNjcm9sbExlZnQgb3Igc2Nyb2xsVG9wKSwgcmVjb2duaXppbmcgd2hlbiB0aGUgY29tcG9uZW50IGNvbWVzIG91dCBvZiB0aGUgcG9ydGFsIGNhY2hlIFxuICAgIGludG8gdGhlIHJlYWwgRE9NICh3aWR0aCBhbmQgaGVpZ2h0IGFyZSB0eXBpY2FsbHkgbm8gbG9uZ2VyIGJvdGggMCksIGFuZCByZXNwb25kaW5nIHRvIGNoYW5nZSBpbiBcbiAgICBjYWNoZSBzdGF0ZSBhcHByb3ByaWF0ZWx5LlxuXG4gICAgVGlwczpcbiAgICAgICAgLSB5b3VyIGNvbXBvbmVudCBpcyBpbiBjYWNoZSB3aGVuIGJvdGggd2lkdGggYW5kIGhlaWdodCA9IDBcbiAgICAgICAgLSB5b3VyIGNvbXBvbmVudCBpcyBvdXQgb2YgY2FjaGUgd2hlbiBib3RoIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGJhY2sgdG8gbm9ybWFsXG4gICAgICAgIC0gaWYgeW91IGNyZWF0ZSBhbiBlbXB0eSAnc2Nyb2xsZXJQcm9wZXJ0aWVzJyBwcm9wZXJ0eSBmb3IgeW91ciBjb21wb25lbnQsIENlbGxGcmFtZSB3aWxsXG4gICAgICAgICAgICBzZXQgaXQgdG8gYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmIGFuZCBjZWxsRnJhbWVQcm9wZXJ0aWVzUmVmXG4gICAgICAgIC0gaWYgeW91ciBjb21wb25lbnQgZG9lcyBub3Qgc2Nyb2xsLCB0aGVyZSBzaG91bGQgYmUgbm8gaXNzdWVzLlxuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIEluUG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnXG5cbmltcG9ydCBDYWNoZVBhcnRpdGlvbiBmcm9tICcuL0NhY2hlUGFydGl0aW9uJ1xuXG4vLyB0aGUgY2FjaGUgaXRzZWxmIGlzIG1haW50YWluZWQgaW4gdGhlIHJvb3QgaW5maW5pdGVncmlkc2Nyb2xsZXIgY29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWNoZUFQSSB7XG5cbiAgICBjb25zdHJ1Y3RvcihDQUNIRV9QQVJUSVRJT05fU0laRSkge1xuXG4gICAgICAgIHRoaXMuQ0FDSEVfUEFSVElUSU9OX1NJWkUgPSBDQUNIRV9QQVJUSVRJT05fU0laRVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnbG9iYWxJdGVtSUQgPSAwXG4gICAgcHJpdmF0ZSBnbG9iYWxQYXJ0aXRpb25JRCA9IDBcblxuICAgIHByaXZhdGUgaXRlbU1ldGFkYXRhTWFwID0gbmV3IE1hcCgpXG5cbiAgICBwcml2YXRlIHNjcm9sbGVyRGF0YU1hcCA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBwYXJ0aXRpb25Qcm9wcyA9IHtcblxuICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YU1hcDpuZXcgTWFwKCksXG4gICAgICAgIHBhcnRpdGlvbk1hcDogbmV3IE1hcCgpLFxuICAgICAgICBwYXJ0aXRpb25SZW5kZXJMaXN0Om51bGwsXG4gICAgICAgIHBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZTpudWxsLFxuICAgICAgICBwYXJ0aXRpb25Nb2RpZmllZFNldDogbmV3IFNldCgpLFxuXG4gICAgICAgIHBhcnRpdGlvblB0cjpudWxsLCAvLyBhY3RpdmUgcGFydGl0aW9uLCBmb3IgZm9sbG93dXBcblxuICAgIH1cblxuICAgIHByaXZhdGUgQ0FDSEVfUEFSVElUSU9OX1NJWkVcblxuICAgIC8vIHB1YmxpYyBtZWFzdXJlTWVtb3J5KHNvdXJjZSwgc2Nyb2xsZXJJRCkge1xuICAgIC8vICAgY29uc29sZS5sb2coJ3VzZWRKU0hlYXBTaXplJywnLScrc2Nyb2xsZXJJRCsnLScsc291cmNlLCBwZXJmb3JtYW5jZVsnbWVtb3J5J11bJ3VzZWRKU0hlYXBTaXplJ10pXG4gICAgLy8gfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09WyBTY3JvbGxlciBSZWdpc3RyYXRpb24gJiBNYWludGVuYW5jZSBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdGhlIG9ubHkgbWVtYmVyIGFjY2Vzc2VkIGRpcmVjdGx5LiBBbGwgb3RoZXIgYWNjZXNzIGlzIHRocm91Z2ggdGhlIGZhY2FkZVxuICAgIHJlZ2lzdGVyU2Nyb2xsZXIoc2Nyb2xsZXJJRCkge1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLnNldChzY3JvbGxlcklELCBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmFkbGVQYXJhbWV0ZXJzOm51bGwsXG4gICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcDogbmV3IE1hcCgpLCBcbiAgICAgICAgICAgICAgICAvLyBzb21lIHBvcnRhbHMgbWF5IGhhdmUgYmVlbiByZXF1ZXN0ZWQgYnkgcmVxdWVzdGlkbGVjYWxsYmFjaywgbm90IHlldCBjcmVhdGVkXG4gICAgICAgICAgICAgICAgaXRlbVNldDogbmV3IFNldCgpLCAvLyBmb3Igc2Nyb2xsZXJJRCBsaW1pdGVkIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRTZXQ6bmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdDpudWxsLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICAgICAgLy8gdGhpcy5tZWFzdXJlTWVtb3J5KCdSRUdJU1RFUicsIHNjcm9sbGVySUQpXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmFjYWRlKHNjcm9sbGVySUQpXG5cbiAgICB9XG5cbiAgICAvLyBhIGZhY2FkZSBpcyB1c2VkIHRvIGFjY29tbW9kYXRlIGFjY2VzcyBieSBtdWx0aXBsZSBSSUdTIHNjcm9sbGVyc1xuICAgIHByaXZhdGUgZ2V0RmFjYWRlID0gKHNjcm9sbGVySUQpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0ge1xuXG4gICAgICAgICAgICAvLyBtZWFzdXJlTWVtb3J5Oihzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLm1lYXN1cmVNZW1vcnkoc291cmNlLCBzY3JvbGxlcklEKVxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIGdldCBhbmQgc2V0IGRhdGFcbiAgICAgICAgICAgIGdldCBpbmRleFRvSXRlbUlETWFwKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEluZGV4VG9JdGVtSURNYXAoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEluZGV4VG9JdGVtSURNYXA6KCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaXRlbVNldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtU2V0KClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRJdGVtU2V0OigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pdGVtU2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwOnRoaXMuaXRlbU1ldGFkYXRhTWFwLFxuICAgICAgICAgICAgZ2V0IHJlcXVlc3RlZFNldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0ZWRTZXQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFJlcXVlc3RlZFNldDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5yZXF1ZXN0ZWRTZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgcGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlKGZuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUoZm4pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlOihmbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlID0gZm5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY3JhZGxlUGFyYW1ldGVycyhwYXJtcyl7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDcmFkbGVQYXJhbWV0ZXJzKHBhcm1zKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldENyYWRsZVBhcmFtZXRlcnM6KHBhcm1zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmNyYWRsZVBhcmFtZXRlcnMgPSBwYXJtc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QobGlzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0KGxpc3QpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0OihsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLnBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCA9IGxpc3RcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKVxuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBnZXRJbnN0YW5jZTooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIG1ldGhvZHNcbiAgICAgICAgICAgIHVuUmVnaXN0ZXJTY3JvbGxlcjooaXRlbVNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVuUmVnaXN0ZXJTY3JvbGxlcihzY3JvbGxlcklELCBpdGVtU2V0KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclBhcnRpdGlvblJlcG86KCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclBhcnRpdGlvblJlcG8oKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclBvcnRhbExpc3RzOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJDYWNoZTooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJDYWNoZShzY3JvbGxlcklEKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYW5nZUNhY2hlTGlzdFNpemU6KG5ld2xpc3RzaXplLCBkZWxldGVMaXN0Q2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VDYWNoZUxpc3RTaXplKHNjcm9sbGVySUQsIG5ld2xpc3RzaXplLCBkZWxldGVMaXN0Q2FsbGJhY2spIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYW5nZUNhY2hlTGlzdFJhbmdlOihuZXdsaXN0cmFuZ2UsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4geyBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VDYWNoZUxpc3RSYW5nZShzY3JvbGxlcklELCBuZXdsaXN0cmFuZ2UsIGRlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXRjaENhY2hlVG9DcmFkbGU6KGNyYWRsZUluZGV4TGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2hDYWNoZVRvQ3JhZGxlKHNjcm9sbGVySUQsIGNyYWRsZUluZGV4TGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVDYWNoZVRvTWF4OihjYWNoZU1heCwgY3JhZGxlSW5kZXhMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlQ2FjaGVUb01heChzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlSW5kZXhMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmc6KGNhY2hlTWF4LCBjcmFkbGVMaXN0TGVuZ3RoLCBNQVhfQ0FDSEVfT1ZFUl9SVU4pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyhzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlTGlzdExlbmd0aCwgTUFYX0NBQ0hFX09WRVJfUlVOKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZWxvYWQ6KGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVsb2FkKHNjcm9sbGVySUQsIGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FjaGVJbmRleE1hcDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FjaGVJbmRleE1hcChzY3JvbGxlcklEKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENyYWRsZUluZGV4TWFwOihjcmFkbGVJbmRleExpc3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDcmFkbGVJbmRleE1hcChzY3JvbGxlcklELCBjcmFkbGVJbmRleExpc3QpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FjaGVJdGVtTWFwOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYWNoZUl0ZW1NYXAoc2Nyb2xsZXJJRClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlSW5kZXg6KHRvbG93aW5kZXgsIGZyb21sb3dpbmRleCwgZnJvbWhpZ2hpbmRleCApID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSW5kZXgoc2Nyb2xsZXJJRCwgdG9sb3dpbmRleCwgZnJvbWxvd2luZGV4LCBmcm9taGlnaGluZGV4KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc2VydFJlbW92ZUluZGV4OihpbmRleCwgaGlnaHJhbmdlLCBpbmNyZW1lbnQsIGxpc3RzaXplICkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydFJlbW92ZUluZGV4KHNjcm9sbGVySUQsIGluZGV4LCBoaWdocmFuZ2UsIGluY3JlbWVudCwgbGlzdHNpemUgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyUGVuZGluZ1BvcnRhbDooaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclBlbmRpbmdQb3J0YWwoc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5yZWdpc3RlclBlbmRpbmdQb3J0YWw6KGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5yZWdpc3RlclBlbmRpbmdQb3J0YWwoc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TmV3SXRlbUlEOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROZXdJdGVtSUQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE5ld09yRXhpc3RpbmdJdGVtSUQ6KGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV3T3JFeGlzdGluZ0l0ZW1JRChzY3JvbGxlcklELCBpbmRleClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVQb3J0YWw6KGNvbXBvbmVudCwgaW5kZXgsIGl0ZW1JRCwgc2Nyb2xsZXJQcm9wZXJ0aWVzLCBpc1ByZWxvYWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBvcnRhbChzY3JvbGxlcklELCBjb21wb25lbnQsIGluZGV4LCBpdGVtSUQsIHNjcm9sbGVyUHJvcGVydGllcywgaXNQcmVsb2FkID0gZmFsc2UpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUG9ydGFsQnlJbmRleDooaW5kZXgsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgaW5kZXgsIGRlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcHBseVBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3Qoc2Nyb2xsZXJJRClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNQb3J0YWw6KGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc1BvcnRhbChpdGVtSUQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UG9ydGFsTWV0YWRhdGE6KGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBvcnRhbE1ldGFkYXRhKGl0ZW1JRClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWNhZGVcbiAgICB9XG5cbiAgICBwcml2YXRlIHVuUmVnaXN0ZXJTY3JvbGxlciA9IChzY3JvbGxlcklELCBpdGVtU2V0KSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzY3JvbGxlckRhdGFNYXAsIGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuXG4gICAgICAgIGlmICggc2Nyb2xsZXJEYXRhTWFwLnNpemUgPT0gMSApIHJldHVybiAvLyBhbHJlYWR5IGdldHRpbmcgZGlzbWFudGxlZDsgYXZvaWQgY29uZmxpY3RcblxuICAgICAgICBzY3JvbGxlckRhdGFNYXAuZGVsZXRlKHNjcm9sbGVySUQpXG4gICAgICAgIGl0ZW1TZXQuZm9yRWFjaCgoaXRlbUlEKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHBhcnRpdGlvbklEIH0gPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGl0aW9uUG9ydGFsKHBhcnRpdGlvbklELGl0ZW1JRClcbiAgICAgICAgICAgIGl0ZW1NZXRhZGF0YU1hcC5kZWxldGUoaXRlbUlEKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcbiAgICAgICAgLy8gdGhpcy5tZWFzdXJlTWVtb3J5KCdVTlJFR0lTVEVSJywgc2Nyb2xsZXJJRClcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVsgQ0FDSEUgUEFSVElUSU9OIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHBhcnRpdGlvbnMgYXJlIGFkZGVkIGJ1dCBub3QgcmVtb3ZlZFxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXJ0aXRpb25SZXBvID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVuZGVyTGlzdCA9IEFycmF5LmZyb20odGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NYXAudmFsdWVzKCkpXG5cbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUodGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZW5kZXJMaXN0KVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRQYXJ0aXRpb24gPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcGFydGl0aW9uSUQgPSB0aGlzLmdsb2JhbFBhcnRpdGlvbklEKytcbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5zZXQocGFydGl0aW9uSUQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9ydGFsTWFwOm5ldyBNYXAoKSwgXG4gICAgICAgICAgICAgICAgbWFwY291bnQ6MCwgLy8gcG9ydGFsTWFwIHVwZGF0ZSBjYW4gYmUgYXN5bmMsIHNvIG1hcGNvdW50IGlzIHVzZWRcbiAgICAgICAgICAgICAgICBwb3J0YWxSZW5kZXJMaXN0Om51bGwsIFxuICAgICAgICAgICAgICAgIG1vZGlmaWVkOmZhbHNlLFxuICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlOm51bGwsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uSUQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHJlc29sdmVmdW5jID0ge1xuICAgICAgICAgICAgY3VycmVudDpudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVmdW5jLmN1cnJlbnQgPSByZXNvbHZlXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlc29sdmVmdW5jLmN1cnJlbnQocGFydGl0aW9uSUQpXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTWFwLnNldChwYXJ0aXRpb25JRCxcbiAgICAgICAgICAgIDxDYWNoZVBhcnRpdGlvbiBcbiAgICAgICAgICAgICAgICBrZXkgPSB7cGFydGl0aW9uSUR9IFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvblByb3BzID0ge3RoaXMucGFydGl0aW9uUHJvcHN9IFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbklEID0ge3BhcnRpdGlvbklEfSBcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHsgY2FsbGJhY2sgfSAvPilcblxuICAgICAgICB0aGlzLnJlbmRlclBhcnRpdGlvblJlcG8oKVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGZpbmRQYXJ0aXRpb25XaXRoUm9vbSgpIHtcblxuICAgICAgICBjb25zdCB7IENBQ0hFX1BBUlRJVElPTl9TSVpFIH0gPSB0aGlzXG5cbiAgICAgICAgY29uc3QgeyBwYXJ0aXRpb25NZXRhZGF0YU1hcCB9ID0gdGhpcy5wYXJ0aXRpb25Qcm9wc1xuICAgICAgICBsZXQgeyBwYXJ0aXRpb25QdHIgfSA9IHRoaXMucGFydGl0aW9uUHJvcHNcblxuICAgICAgICBsZXQgcGFydGl0aW9uTWV0YWRhdGFcbiAgICAgICAgaWYgKHBhcnRpdGlvblB0ciAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YSA9IHBhcnRpdGlvbk1ldGFkYXRhTWFwLmdldChwYXJ0aXRpb25QdHIpXG5cbiAgICAgICAgICAgIGlmIChwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCA8IENBQ0hFX1BBUlRJVElPTl9TSVpFKSB7XG5cbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aXRpb25QdHJcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBwYXJ0aXRpb25QdHIgPSBudWxsXG4gICAgICAgIGZvciAoY29uc3QgW3BhcnRpdGlvbklELCBwYXJ0aXRpb25NZXRhZGF0YV0gb2YgcGFydGl0aW9uTWV0YWRhdGFNYXApIHtcblxuICAgICAgICAgICAgaWYgKHBhcnRpdGlvbk1ldGFkYXRhLm1hcGNvdW50IDwgQ0FDSEVfUEFSVElUSU9OX1NJWkUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvblB0ciA9IHBhcnRpdGlvbklEXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRpdGlvblB0ciA9PT0gbnVsbCkge1xuXG4gICAgICAgICAgICBwYXJ0aXRpb25QdHIgPSBhd2FpdCB0aGlzLmFkZFBhcnRpdGlvbigpXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YSA9IHBhcnRpdGlvbk1ldGFkYXRhTWFwLmdldChwYXJ0aXRpb25QdHIpXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvblB0ciA9IHBhcnRpdGlvblB0clxuXG4gICAgICAgIHJldHVybiBwYXJ0aXRpb25QdHJcblxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkUGFydGl0aW9uUG9ydGFsID0gKHBhcnRpdGlvbklELCBpdGVtSUQsIHBvcnRhbCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsTWFwLnNldChpdGVtSUQscG9ydGFsKVxuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTW9kaWZpZWRTZXQuYWRkKHBhcnRpdGlvbklEKVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVQYXJ0aXRpb25Qb3J0YWwgPSAocGFydGl0aW9uSUQsIGl0ZW1JRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsTWFwLmRlbGV0ZShpdGVtSUQpXG4gICAgICAgIHBhcnRpdGlvbk1ldGFkYXRhLm1hcGNvdW50IC09IDEgXG5cbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25Nb2RpZmllZFNldC5hZGQocGFydGl0aW9uSUQpXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBhcnRpdGlvbiA9IChwYXJ0aXRpb25JRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgaWYgKCFwYXJ0aXRpb25NZXRhZGF0YSkgcmV0dXJuXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsUmVuZGVyTGlzdCA9ICBBcnJheS5mcm9tKHBhcnRpdGlvbk1ldGFkYXRhLnBvcnRhbE1hcC52YWx1ZXMoKSlcblxuICAgICAgICAvLyBpZiBmb3JjZVVwZGF0ZSBoYXMgbm90IHlldCBiZWVuIGFzc2lnbmVkLCBpdCBpcyBpbiB0aGUgd29ya3MgZnJvbSBmaXJzdCBjYWxsIG9mIHBhcnRpdGlvblxuICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5mb3JjZVVwZGF0ZSAmJiBwYXJ0aXRpb25NZXRhZGF0YS5mb3JjZVVwZGF0ZShwYXJ0aXRpb25NZXRhZGF0YS5wb3J0YWxSZW5kZXJMaXN0KVxuXG4gICAgfVxuXG4gICAgLy8gc2V0IHN0YXRlIG9mIHRoZSBDYWNoZVBhcnRpdGlvbiBjb21wb25lbnQgb2YgdGhlIHNjcm9sbGVyIHRvIHRyaWdnZXIgcmVuZGVyXG4gICAgcHJpdmF0ZSByZW5kZXJQb3J0YWxMaXN0cyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IHBhcnRpdGlvbk1vZGlmaWVkU2V0IH0gPSB0aGlzLnBhcnRpdGlvblByb3BzXG5cbiAgICAgICAgaWYgKHBhcnRpdGlvbk1vZGlmaWVkU2V0LnNpemUpIHtcblxuICAgICAgICAgICAgcGFydGl0aW9uTW9kaWZpZWRTZXQuZm9yRWFjaCgocGFydGl0aW9uSUQpID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFydGl0aW9uKHBhcnRpdGlvbklEKVxuXG4gICAgICAgICAgICB9KSAgICAgICAgICAgIFxuXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1vZGlmaWVkU2V0LmNsZWFyKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNsZWFyQ2FjaGUgPSAoc2Nyb2xsZXJJRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsZXJEYXRhTWFwLCBpdGVtTWV0YWRhdGFNYXAgfSA9IHRoaXNcbiAgICAgICAgY29uc3QgZGF0YW1hcCA9IHNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcbiAgICAgICAgY29uc3Qge2luZGV4VG9JdGVtSURNYXAsIGl0ZW1TZXQsIHJlcXVlc3RlZFNldH0gPSBkYXRhbWFwXG5cbiAgICAgICAgaWYgKHNjcm9sbGVyRGF0YU1hcC5zaXplID09IDEpIHtcblxuICAgICAgICAgICAgLy8gY2xlYXIgYmFzZSBkYXRhXG4gICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuY2xlYXIoKVxuXG4gICAgICAgICAgICAvLyBjbGVhciBjYWNoZSBwYXJ0aXRpb25zXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1ldGFkYXRhTWFwLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTWFwLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVuZGVyTGlzdCA9IFtdXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1vZGlmaWVkU2V0LmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUHRyID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUobnVsbClcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpdGVtU2V0LmZvckVhY2goKGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFydGl0aW9uSUQgfSA9IGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGl0aW9uUG9ydGFsKHBhcnRpdGlvbklELGl0ZW1JRClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5jbGVhcigpXG4gICAgICAgIGl0ZW1TZXQuY2xlYXIoKVxuICAgICAgICByZXF1ZXN0ZWRTZXQuY2xlYXIoKVxuXG4gICAgfVxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFUE9TSVRPUlkgQU5EIExJU1QgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgYmFzaWMgb3BlcmF0aW9ucyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGNhbGxlZCBmcm9tIENyYWRsZS5udWxsSXRlbVNldE1heExpc3RzaXplLCBhbmQgc2VydmljZUhhbmRsZXIuc2V0TGlzdFNpemVcbiAgICBwcml2YXRlIGNoYW5nZUNhY2hlTGlzdFNpemUgPSAoc2Nyb2xsZXJJRCwgbmV3bGlzdHNpemUsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGlmIChuZXdsaXN0c2l6ZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKHNjcm9sbGVySUQpIFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXRjaCBjYWNoZSB0byBuZXdsaXN0c2l6ZVxuICAgICAgICBjb25zdCBwb3J0YWxJbmRleE1hcDpNYXA8bnVtYmVyLG51bWJlcj4gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaW5kZXhUb0l0ZW1JRE1hcFxuICAgICAgICBjb25zdCBtYXBrZXlzTGlzdCA9IEFycmF5LmZyb20ocG9ydGFsSW5kZXhNYXAua2V5cygpKVxuXG4gICAgICAgIG1hcGtleXNMaXN0LnNvcnQoKGEsYikgPT4gYSAtIGIpIC8vIGFzY2VuZGluZ1xuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgY29uc3QgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBsb3dpbmRleCB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGNvbnN0IGhpZ2hlc3RpbmRleCA9IG1hcGtleXNMaXN0LmF0KC0xKVxuXG4gICAgICAgIGlmIChoaWdoZXN0aW5kZXggPiAoKG5ld2xpc3RzaXplICsgbG93aW5kZXgpIC0xKSkgeyAvLyBwYXJlIHRoZSBjYWNoZVxuXG4gICAgICAgICAgICBjb25zdCBwYXJlbGlzdCA9IG1hcGtleXNMaXN0LmZpbHRlcigoaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZWhpZ2hpbmRleCA9IG5ld2xpc3RzaXplICsgbG93aW5kZXggLSAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID4gKGNvbXBhcmVoaWdoaW5kZXgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgcGFyZWxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZUNhY2hlTGlzdFJhbmdlID0gKHNjcm9sbGVySUQsIG5ld2xpc3RyYW5nZSwgZGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7IFxuXG5cbiAgICAgICAgaWYgKG5ld2xpc3RyYW5nZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKHNjcm9sbGVySUQpIFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gbWF0Y2ggY2FjaGUgdG8gbmV3bGlzdHNpemVcbiAgICAgICAgY29uc3QgcG9ydGFsSW5kZXhNYXA6TWFwPG51bWJlcixudW1iZXI+ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcbiAgICAgICAgY29uc3QgbWFwa2V5c0xpc3QgPSBBcnJheS5mcm9tKHBvcnRhbEluZGV4TWFwLmtleXMoKSlcblxuICAgICAgICBtYXBrZXlzTGlzdC5zb3J0KChhLGIpID0+IGEgLSBiKSAvLyBhc2NlbmRpbmdcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGNvbnN0IHsgdmlydHVhbExpc3RQcm9wcyB9ID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHsgbG93Y3VycmVudGluZGV4LCBoaWdoY3VycmVudGluZGV4IH0gPSB2aXJ0dWFsTGlzdFByb3BzXG4gICAgICAgIGNvbnN0IFsgbG93bmV3aW5kZXgsIGhpZ2huZXdpbmRleCBdID0gbmV3bGlzdHJhbmdlXG5cbiAgICAgICAgY29uc3QgaGlnaGVzdGluZGV4ID0gbWFwa2V5c0xpc3QuYXQoLTEpXG4gICAgICAgIGNvbnN0IGxvd2VzdGluZGV4ID0gbWFwa2V5c0xpc3QuYXQoMClcblxuICAgICAgICBpZiAoaGlnaGVzdGluZGV4ID4gaGlnaG5ld2luZGV4KSB7IC8vIHBhcmUgdGhlIGNhY2hlXG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBhcmVpbmRleCA9IGhpZ2huZXdpbmRleFxuICAgICAgICAgICAgY29uc3QgcGFyZWxpc3QgPSBtYXBrZXlzTGlzdC5maWx0ZXIoKGluZGV4KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA+IChjb21wYXJlaW5kZXgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgcGFyZWxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvd2VzdGluZGV4IDwgbG93bmV3aW5kZXgpIHsgLy8gcGFyZSB0aGUgY2FjaGVcblxuICAgICAgICAgICAgY29uc3QgY29tcGFyZWluZGV4ID0gbG93bmV3aW5kZXhcbiAgICAgICAgICAgIGNvbnN0IHBhcmVsaXN0ID0gbWFwa2V5c0xpc3QuZmlsdGVyKChpbmRleCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPCAoY29tcGFyZWluZGV4KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5kZWxldGVQb3J0YWxCeUluZGV4KHNjcm9sbGVySUQsIHBhcmVsaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spXG5cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhY2hlIHNpemUgbGltaXQgZW5mb3JjZWVudCBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIG1hdGNoQ2FjaGVUb0NyYWRsZSA9IChzY3JvbGxlcklELCBjcmFkbGVJbmRleExpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGNvbnN0IG1hcGtleXMgPSBBcnJheS5mcm9tKHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pbmRleFRvSXRlbUlETWFwLmtleXMoKSlcblxuICAgICAgICBjb25zdCBkZWxrZXlzID0gbWFwa2V5cy5maWx0ZXIoa2V5ID0+ICFjcmFkbGVJbmRleExpc3QuaW5jbHVkZXMoa2V5KSlcblxuICAgICAgICBpZiAoZGVsa2V5cy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgdGhpcy5kZWxldGVQb3J0YWxCeUluZGV4KHNjcm9sbGVySUQsIGRlbGtleXMsIGRlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXJlQ2FjaGVUb01heCA9IChzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlSW5kZXhMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spID0+IHtcblxuICAgICAgICBjb25zdCBtb2RlbExlbmd0aCA9IGNyYWRsZUluZGV4TGlzdC5sZW5ndGhcblxuICAgICAgICAvLyBkZXRlcm1pbmUgbmVlZCBmb3IgcGFyaW5nXG4gICAgICAgIGlmICgoIWNhY2hlTWF4KSB8fCAoIW1vZGVsTGVuZ3RoKSkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgobW9kZWxMZW5ndGgsIGNhY2hlTWF4KVxuXG4gICAgICAgIGNvbnN0IHBvcnRhbEluZGV4TWFwOk1hcDxudW1iZXIsIG51bWJlcj4gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaW5kZXhUb0l0ZW1JRE1hcCxcbiAgICAgICAgICAgIHJlcXVlc3RlZFNldDpTZXQ8bnVtYmVyPiA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5yZXF1ZXN0ZWRTZXRcblxuICAgICAgICBpZiAoKHBvcnRhbEluZGV4TWFwLnNpemUgKyByZXF1ZXN0ZWRTZXQuc2l6ZSkgPD0gbWF4KSByZXR1cm4gZmFsc2VcblxuICAgICAgICAvLyBzb3J0IHRoZSBtYXAga2V5c1xuICAgICAgICBjb25zdCBtYXBrZXlzbGlzdCA9IEFycmF5LmZyb20ocG9ydGFsSW5kZXhNYXAua2V5cygpKSxcbiAgICAgICAgICAgIHJlcXVlc3RlZGtleXMgPSBBcnJheS5mcm9tKHJlcXVlc3RlZFNldC5rZXlzKCkpXG5cbiAgICAgICAgY29uc3QgbWFwa2V5cyA9IFsuLi5tYXBrZXlzbGlzdCwuLi5yZXF1ZXN0ZWRrZXlzXVxuXG4gICAgICAgIG1hcGtleXMuc29ydCgoYSxiKSA9PiBhIC0gYilcblxuICAgICAgICAvLyBnZXQgbnVtYmVyIHRvIHBhcmVcbiAgICAgICAgY29uc3QgbWFwTGVuZ3RoID0gbWFwa2V5cy5sZW5ndGgsXG4gICAgICAgICAgICBwYXJlY291bnQgPSBtYXBMZW5ndGggLSBtYXhcblxuICAgICAgICAvLyBkaXN0cmlidXRlIHBhcmluZyBwcm9wb3J0aW9uYWxseSBhdCBmcm9udCBhbmQgYmFja1xuICAgICAgICBjb25zdCBoZWFkaW5kZXggPSBjcmFkbGVJbmRleExpc3RbMF0sXG4gICAgICAgICAgICB0YWlsaW5kZXggPSBjcmFkbGVJbmRleExpc3RbbW9kZWxMZW5ndGggLSAxXSxcbiAgICAgICAgICAgIGhlYWRwb3MgPSBtYXBrZXlzLmluZGV4T2YoaGVhZGluZGV4KSxcbiAgICAgICAgICAgIHRhaWxwb3MgPSBtYXBrZXlzLmluZGV4T2YodGFpbGluZGV4KVxuXG4gICAgICAgIGNvbnN0IGhlYWRyb29tID0gaGVhZHBvcyxcbiAgICAgICAgICAgIHRhaWxyb29tID0gbWFwTGVuZ3RoIC0gKHRhaWxwb3MgKyAxKSxcbiAgICAgICAgICAgIHBhcmVyb29tID0gaGVhZHJvb20gKyB0YWlscm9vbVxuXG4gICAgICAgIGNvbnN0IGhlYWRwYXJlY291bnQgPSBNYXRoLmZsb29yKChoZWFkcm9vbS9wYXJlcm9vbSkqcGFyZWNvdW50KSxcbiAgICAgICAgICAgIHRhaWxwYXJlY291bnQgPSBwYXJlY291bnQgLSBoZWFkcGFyZWNvdW50XG5cbiAgICAgICAgLy8gY29sbGVjdCBpbmRleGVzIHRvIHBhcmVcbiAgICAgICAgY29uc3QgaGVhZGxpc3QgPSBtYXBrZXlzLnNsaWNlKDAsaGVhZHBhcmVjb3VudCksXG4gICAgICAgICAgICB0YWlsbGlzdCA9IG1hcGtleXMuc2xpY2UobWFwTGVuZ3RoIC0gdGFpbHBhcmVjb3VudClcblxuICAgICAgICBjb25zdCBkZWxMaXN0ID0gWy4uLmhlYWRsaXN0LC4uLnRhaWxsaXN0XVxuXG4gICAgICAgIHRoaXMuZGVsZXRlUG9ydGFsQnlJbmRleChzY3JvbGxlcklELCBkZWxMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spXG5cbiAgICAgICAgcmV0dXJuIHRydWVcblxuICAgIH1cblxuICAgIHByaXZhdGUgZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmcgPSAoc2Nyb2xsZXJJRCwgY2FjaGVNYXgsIGNyYWRsZUxpc3RMZW5ndGgsIE1BWF9DQUNIRV9PVkVSX1JVTikgPT4ge1xuXG4gICAgICAgIGlmICghY2FjaGVNYXgpIHJldHVybiBmYWxzZVxuXG4gICAgICAgIGNvbnN0IHsgaW5kZXhUb0l0ZW1JRE1hcCwgcmVxdWVzdGVkU2V0IH0gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcblxuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChjcmFkbGVMaXN0TGVuZ3RoLCBjYWNoZU1heClcblxuICAgICAgICBpZiAoKGluZGV4VG9JdGVtSURNYXAuc2l6ZSArIHJlcXVlc3RlZFNldC5zaXplKSA8PSAoKG1heCkgKiBNQVhfQ0FDSEVfT1ZFUl9SVU4pKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHByZWxvYWQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBwcml2YXRlIHByZWxvYWQgPSAoc2Nyb2xsZXJJRCwgZmluYWxDYWxsYmFjaywgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgY29uc3QgeyBzY3JvbGxlclByb3BlcnRpZXNSZWYgfSA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IGdldEl0ZW0sIGNhY2hlTWF4IH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAge3NpemU6bGlzdHNpemUsIGxvd2luZGV4LCBoaWdoaW5kZXh9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLnZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICAgICAgbGV0IGNhY2hlU2l6ZSA9IGNhY2hlTWF4ID8/IDBcblxuICAgICAgICBjYWNoZVNpemUgPSBNYXRoLm1pbihjYWNoZVNpemUsIGxpc3RzaXplKVxuXG4gICAgICAgIGNvbnN0IHByZWxvYWRzaXplID0gXG4gICAgICAgICAgICBjYWNoZVNpemU/XG4gICAgICAgICAgICAgICAgY2FjaGVTaXplOlxuICAgICAgICAgICAgICAgIGxpc3RzaXplXG5cbiAgICAgICAgY29uc3QgYnJlYWtsb29wID0ge1xuICAgICAgICAgICAgY3VycmVudDpmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWF4TGlzdHNpemVJbnRlcnJ1cHQgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGJyZWFrbG9vcC5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICAgICAgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZShpbmRleClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaW5kZXhUb0l0ZW1JRE1hcCA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pbmRleFRvSXRlbUlETWFwXG5cbiAgICAgICAgICAgIGNvbnN0IHsgcHJlbG9hZEluZGV4Q2FsbGJhY2ssIGl0ZW1FeGNlcHRpb25DYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gbG93aW5kZXg7IGluZGV4IDw9IGhpZ2hpbmRleDsgaW5kZXgrKykge1xuXG4gICAgICAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2sgJiYgcHJlbG9hZEluZGV4Q2FsbGJhY2soaW5kZXgpXG4gICAgICAgICAgICAgICAgaWYgKCFpbmRleFRvSXRlbUlETWFwLmhhcyhpbmRleCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcmVsb2FkSXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExpc3RzaXplSW50ZXJydXB0XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJyZWFrbG9vcC5jdXJyZW50KSBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKS50aGVuKFxuICAgICAgICAgICAgKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcbiAgICAgICAgICAgICAgICBmaW5hbENhbGxiYWNrKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVsgU05BUFNIT1RTIF09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcml2YXRlIGdldENhY2hlSW5kZXhNYXAoc2Nyb2xsZXJJRCkge1xuXG4gICAgICAgIHJldHVybiBuZXcgTWFwKHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pbmRleFRvSXRlbUlETWFwKVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDcmFkbGVJbmRleE1hcChzY3JvbGxlcklELCBjcmFkbGVJbmRleExpc3QpIHtcblxuICAgICAgICBjb25zdCBjcmFkbGVNYXAgPSBuZXcgTWFwKCksXG4gICAgICAgICAgICB7IGluZGV4VG9JdGVtSURNYXAgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgY3JhZGxlSW5kZXhMaXN0KSB7XG5cbiAgICAgICAgICAgIGNyYWRsZU1hcC5zZXQoaW5kZXgsIGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSlcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyYWRsZU1hcFxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDYWNoZUl0ZW1NYXAoc2Nyb2xsZXJJRCkge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlbGlzdCA9IG5ldyBNYXAoKVxuICAgICAgICBjb25zdCB7IGl0ZW1TZXQgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuICAgICAgICBjb25zdCB7IGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuXG4gICAgICAgIC8vIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuaXRlbU1ldGFkYXRhTWFwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbUlEIG9mIGl0ZW1TZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpXG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgfSA9IG1ldGFkYXRhXG5cbiAgICAgICAgICAgIGNhY2hlbGlzdC5zZXQoaXRlbUlELHtcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FjaGVsaXN0XG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgU0VSVklDRSBTVVBQT1JUIF09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgbW92ZSBpbmRleGVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBtb3ZlIGlzIGNvZXJjZWQgYnkgc2VydmljZWhhbmRsZXIgdG8gYmUgd2l0aGluIGN1cnJlbnQgbGlzdCBib3VuZHNcbiAgICBwcml2YXRlIG1vdmVJbmRleChzY3JvbGxlcklELCB0b2xvd2luZGV4LCBmcm9tbG93aW5kZXgsIGZyb21oaWdoaW5kZXggKSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXhUb0l0ZW1JRE1hcDpNYXA8bnVtYmVyLCBudW1iZXI+ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcbiAgICAgICAgY29uc3QgeyBpdGVtTWV0YWRhdGFNYXAgfSA9IHRoaXNcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLSBkZWZpbmUgcGFyYW1ldGVycyAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBtb3ZlYmxvY2tzaXplID0gZnJvbWhpZ2hpbmRleCAtIGZyb21sb3dpbmRleCArIDEsXG4gICAgICAgICAgICBtb3ZlaW5jcmVtZW50ID0gdG9sb3dpbmRleCAtIGZyb21sb3dpbmRleCxcbiAgICAgICAgICAgIHRvaGlnaGluZGV4ID0gdG9sb3dpbmRleCArIChtb3ZlYmxvY2tzaXplIC0gMSlcblxuICAgICAgICBjb25zdCBtb3ZlZGlyZWN0aW9uID0gXG4gICAgICAgICAgICAobW92ZWluY3JlbWVudCA+IDApPyAvLyBtb3ZlIGJsb2NrIHVwIGluIGxpc3RcbiAgICAgICAgICAgICAgICAndXAnOiAvLyBzaGlmdCBkb3duLCBtYWtlIHJvb20gZm9yIHNoaWZ0aW5naW5kZXggYWJvdmVcbiAgICAgICAgICAgICAgICAnZG93bicgICAvLyBzaGlmdCB1cCwgbWFrZSByb29tIGZvciBzaGlmdGluZ2luZGV4IGJlbG93XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tIGZpbmQgYm91bmRzIG9mIGZyb20gYW5kIHRvIGJsb2NrcyBpbiBjYWNoZSAtLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3Qgb3JkZXJlZGluZGV4bGlzdCA9IEFycmF5LmZyb20oaW5kZXhUb0l0ZW1JRE1hcC5rZXlzKCkpLnNvcnQoKGEsYik9PmEtYilcblxuICAgICAgICBjb25zdCByZXZlcnNlb3JkZXJlZGluZGV4bGlzdCA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UoKS5yZXZlcnNlKClcblxuICAgICAgICBjb25zdCB0b2xvd2luZGV4cHRyID0gb3JkZXJlZGluZGV4bGlzdC5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPj0gdG9sb3dpbmRleCksXG4gICAgICAgICAgICBmcm9tbG93aW5kZXhwdHIgPSBvcmRlcmVkaW5kZXhsaXN0LmZpbmRJbmRleCh2YWx1ZSA9PiB2YWx1ZSA+PSBmcm9tbG93aW5kZXgpXG5cbiAgICAgICAgbGV0IHRvaGlnaGluZGV4cHRyID0gcmV2ZXJzZW9yZGVyZWRpbmRleGxpc3QuZmluZEluZGV4KHZhbHVlID0+IHZhbHVlIDw9IHRvaGlnaGluZGV4KSxcbiAgICAgICAgICAgIGZyb21oaWdoaW5kZXhwdHIgPSByZXZlcnNlb3JkZXJlZGluZGV4bGlzdC5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPD0gZnJvbWhpZ2hpbmRleClcblxuICAgICAgICAvLyBnZXQgcmVxdWlyZWQgaW52ZXJzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWxpc3Rjb3VudCA9IG9yZGVyZWRpbmRleGxpc3QubGVuZ3RoXG4gICAgICAgICAgICBpZiAodG9oaWdoaW5kZXhwdHIgIT0gLTEpIHRvaGlnaGluZGV4cHRyID0gKGNhY2hlbGlzdGNvdW50IC0xKSAtIHRvaGlnaGluZGV4cHRyXG4gICAgICAgICAgICBpZiAoZnJvbWhpZ2hpbmRleHB0ciAhPSAtMSkgZnJvbWhpZ2hpbmRleHB0ciA9IChjYWNoZWxpc3Rjb3VudCAtMSkgLSBmcm9taGlnaGluZGV4cHRyXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tIGNhcHR1cmUgaW5kZXggZGF0YSB0byBtb3ZlIC0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBsZXQgbGlzdHRvcHJvY2Vzc2Zvcm1vdmVcbiAgICAgICAgaWYgKChmcm9tbG93aW5kZXhwdHIgPT0gLTEpICYmIChmcm9taGlnaGluZGV4cHRyID09IC0xKSkgeyAvLyBzY29wZSBpcyBvdXQgb2Ygdmlld1xuXG4gICAgICAgICAgICBsaXN0dG9wcm9jZXNzZm9ybW92ZSA9IFtdXG5cbiAgICAgICAgfSBlbHNlIGlmIChmcm9taGlnaGluZGV4cHRyID09IC0xKSB7IC8vIHNjb3BlIGlzIHBhcnRpYWxseSBpbiB2aWV3XG5cbiAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3Jtb3ZlID0gb3JkZXJlZGluZGV4bGlzdC5zbGljZShmcm9tbG93aW5kZXhwdHIpXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gc2NvcGUgaXMgZW50aXJlbHkgaW4gdmlld1xuXG4gICAgICAgICAgICBsaXN0dG9wcm9jZXNzZm9ybW92ZSA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UoZnJvbWxvd2luZGV4cHRyLCBmcm9taGlnaGluZGV4cHRyICsgMSlcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc3RvbW92ZU1hcCA9IG5ldyBNYXAoKVxuICAgICAgICBjb25zdCBjYXB0dXJlbW92ZWluZGV4Rm4gPSAoaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgcHJvY2Vzc3RvbW92ZU1hcC5zZXQoaW5kZXgsIGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSlcblxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdHRvcHJvY2Vzc2Zvcm1vdmUuZm9yRWFjaChjYXB0dXJlbW92ZWluZGV4Rm4pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLSBnZXQgbGlzdCBvZiBpbmRleGVzIHRvIHNoaWZ0IG91dCBvZiB0aGUgd2F5IC0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBcbiAgICAgICAgbGV0IGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZVxuICAgICAgICBpZiAobW92ZWRpcmVjdGlvbiA9PSAnZG93bicpIHsgLy8gYmxvY2sgaXMgbW92aW5nIGRvd24sIHNoaWZ0IGlzIHVwOyB0b2luZGV4IDwgZnJvbWluZGV4XG5cbiAgICAgICAgICAgIGlmICgodG9sb3dpbmRleHB0ciA9PSAtMSkgJiYgKGZyb21sb3dpbmRleHB0ciA9PSAtMSkpIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IFtdXG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbWxvd2luZGV4cHRyID09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBsaXN0dG9wcm9jZXNzZm9yZGlzcGxhY2UgPSBvcmRlcmVkaW5kZXhsaXN0LnNsaWNlKHRvbG93aW5kZXhwdHIpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBsaXN0dG9wcm9jZXNzZm9yZGlzcGxhY2UgPSBvcmRlcmVkaW5kZXhsaXN0LnNsaWNlKHRvbG93aW5kZXhwdHIsIGZyb21sb3dpbmRleHB0cilcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIHNoaWZ0ZGlyZWN0aW9uID09IC0xOyBibG9jayBpcyBtb3ZpbmcgdXAsIHNoaWZ0IGlzIGRvd247IGZyb21pbmRleCA8IHRvaW5kZXhcblxuICAgICAgICAgICAgaWYgKHRvaGlnaGluZGV4cHRyID09IC0xICYmIGZyb21oaWdoaW5kZXhwdHIgPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IFtdXG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9oaWdoaW5kZXhwdHIgPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UoZnJvbWhpZ2hpbmRleHB0ciArIDEpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBsaXN0dG9wcm9jZXNzZm9yZGlzcGxhY2UgPSBvcmRlcmVkaW5kZXhsaXN0LnNsaWNlKGZyb21oaWdoaW5kZXhwdHIgKyAxLCB0b2hpZ2hpbmRleHB0ciArIDEpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb3ZlZGlyZWN0aW9uID09ICdkb3duJykgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlLnJldmVyc2UoKVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tIG1vdmUgaW5kZXhlcyBvdXQgb2YgdGhlIHdheSAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZGRpc3BsYWNlTGlzdCA9IFtdXG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc3NkaXNwbGFjZWluZGV4Rm4gPSAoaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4ID0gXG4gICAgICAgICAgICAgICAgKG1vdmVkaXJlY3Rpb24gPT0gJ3VwJyk/XG4gICAgICAgICAgICAgICAgICAgIGluZGV4IC0gbW92ZWJsb2Nrc2l6ZTpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKyBtb3ZlYmxvY2tzaXplXG5cbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuc2V0KG5ld0luZGV4LGl0ZW1JRClcbiAgICAgICAgICAgIGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKS5pbmRleCA9IG5ld0luZGV4XG4gICAgICAgICAgICBwcm9jZXNzZWRkaXNwbGFjZUxpc3QucHVzaChuZXdJbmRleClcblxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlLmZvckVhY2gocHJvY2Vzc3NkaXNwbGFjZWluZGV4Rm4pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tIHJlcGxhY2Ugc2hpZnRlZCBpbmRleCBzcGFjZSB3aXRoIG1vdmVkIGluZGV4ZXMgLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZG1vdmVMaXN0ID0gW11cbiAgICAgICAgY29uc3QgcHJvY2Vzc21vdmVpbmRleEZuID0gKGl0ZW1JRCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyBtb3ZlaW5jcmVtZW50IC8vIHN3YXBcblxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5zZXQobmV3SW5kZXgsIGl0ZW1JRClcbiAgICAgICAgICAgIGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKS5pbmRleCA9IG5ld0luZGV4XG4gICAgICAgICAgICBwcm9jZXNzZWRtb3ZlTGlzdC5wdXNoKG5ld0luZGV4KVxuXG4gICAgICAgIH1cblxuICAgICAgICBwcm9jZXNzdG9tb3ZlTWFwLmZvckVhY2gocHJvY2Vzc21vdmVpbmRleEZuKVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tcmV0dXJuIGxpc3Qgb2YgcHJvY2Vzc2VkIGluZGV4ZXMgdG8gY2FsbGVyIC0tLS0tLS0tXG4gICAgICAgIC8vIGZvciBzeW5jaHJuaXphdGlvbiB3aXRoIGNyYWRsZSBjZWxsRnJhbWVzXG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkSW5kZXhlcyA9IFsuLi5wcm9jZXNzZWRkaXNwbGFjZUxpc3QsLi4ucHJvY2Vzc2VkbW92ZUxpc3RdLnNvcnQoKGEsYik9PmEtYilcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSW5kZXhlc1xuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgaW5zZXJ0L3JlbW92ZSBpbmRleGVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGluc2VydCBvciByZW1vdmUgaW5kZXhlczogbXVjaCBvZiB0aGlzIGRlYWxzIHdpdGggdGhlIGZhY3QgdGhhdCB0aGUgY2FjaGUgaXMgc3BhcnNlLlxuICAgIHByaXZhdGUgaW5zZXJ0UmVtb3ZlSW5kZXgoc2Nyb2xsZXJJRCwgaW5kZXgsIGhpZ2hyYW5nZSwgaW5jcmVtZW50LCBsaXN0c2l6ZSApIHsgLy8gaW5jcmVtZW50IGlzICsxIG9yIC0xXG5cbiAgICAgICAgLy8gY2xhcml0eVxuICAgICAgICBjb25zdCBpc0luc2VydGluZyA9IChpbmNyZW1lbnQgPT0gMSlcbiAgICAgICAgY29uc3QgaXNSZW1vdmluZyA9IChpbmNyZW1lbnQgPT0gLTEpXG5cbiAgICAgICAgY29uc3QgZW1wdHlyZXR1cm4gPSBbbnVsbCwgbnVsbCwgW10sW10sW10sIFtdXSAvLyBubyBhY3Rpb24gcmV0dXJuIHZhbHVlXG5cbiAgICAgICAgLy8gY2FjaGUgcmVzb3VyY2VzXG4gICAgICAgIGNvbnN0IGluZGV4VG9JdGVtSURNYXA6TWFwPG51bWJlciwgbnVtYmVyPiAgPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaW5kZXhUb0l0ZW1JRE1hcFxuICAgICAgICBjb25zdCB7IGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuICAgICAgICBjb25zdCBvcmRlcmVkQ2FjaGVJbmRleExpc3QgPSBBcnJheS5mcm9tKGluZGV4VG9JdGVtSURNYXAua2V5cygpKS5zb3J0KChhLGIpPT5hLWIpIC8vIGFzY2VuZGluZyBvcmRlclxuICAgICAgICBjb25zdCBpdGVtU2V0ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLml0ZW1TZXRcblxuICAgICAgICAvLyAtLS0tLS0tLS0tIGRlZmluZSBjb250aWd1b3VzIHJhbmdlIHBhcmFtZXRlcnM7IGFkZCBzZW50aW5lbHMgLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gaGlnaCByYW5nZSBpcyB0aGUgaGlnaGVzdCBpbmRleCBudW1iZXIgb2YgdGhlIGluc2VydC9yZW1vdmUgcmFuZ2VcbiAgICAgICAgbGV0IGhpZ2hyYW5nZWluZGV4ID0gaGlnaHJhbmdlXG4gICAgICAgIGxldCBsb3dyYW5nZWluZGV4ID0gaW5kZXggLy8gc2VtYW50aWNzIC0gbmFtZSBzeW1tZXRyeVxuXG4gICAgICAgIGlmIChpc1JlbW92aW5nKSB7XG5cbiAgICAgICAgICAgIC8vIHJlbW92YWwgbXVzdCBiZSBlbnRpcmVseSB3aXRoaW4gc2NvcGUgb2YgdGhlIGxpc3RcbiAgICAgICAgICAgIGlmIChoaWdocmFuZ2VpbmRleCA+IChsaXN0c2l6ZSAtIDEpKSB7XG5cbiAgICAgICAgICAgICAgICBoaWdocmFuZ2VpbmRleCA9IChsaXN0c2l6ZSAtIDEpXG4gICAgICAgICAgICAgICAgaWYgKGhpZ2hyYW5nZWluZGV4IDwgbG93cmFuZ2VpbmRleCkgcmV0dXJuIGVtcHR5cmV0dXJuXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgeyAvLyBpc0luc2VydGluZ1xuXG4gICAgICAgICAgICAvLyBhZGRpdGlvbiBjYW4gYXQgbW9zdCBzdGFydCBhdCB0aGUgbmV4dCBsb3dyYW5nZWluZGV4IGFib3ZlIHRoZSBjdXJyZW50IGxpc3Q7IGFrYSBhcHBlbmRcbiAgICAgICAgICAgIGlmIChsb3dyYW5nZWluZGV4ID4gbGlzdHNpemUpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBsb3dyYW5nZWluZGV4IC0gbGlzdHNpemVcbiAgICAgICAgICAgICAgICBsb3dyYW5nZWluZGV4IC09IGRpZmZcbiAgICAgICAgICAgICAgICBoaWdocmFuZ2VpbmRleCAtPSBkaWZmXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmFuZ2Vjb3VudCBpcyB0aGUgYWJzb2x1dGUgbnVtYmVyIGluIHRoZSBpbnNlcnQvcmVtb3ZlIGNvbnRpZ3VvdXMgcmFuZ2VcbiAgICAgICAgY29uc3QgcmFuZ2Vjb3VudCA9IGhpZ2hyYW5nZWluZGV4IC0gbG93cmFuZ2VpbmRleCArIDFcblxuICAgICAgICAvLyByYW5nZSBpbmNyZW1lbnQgYWRkcyBzaWduIHRvIHJhbmdlY291bnQgdG8gaW5kaWNhdGUgYWRkL3JlbW92ZVxuICAgICAgICBjb25zdCByYW5nZWluY3JlbWVudCA9IHJhbmdlY291bnQgKiBpbmNyZW1lbnRcbiAgICAgICAgY29uc3Qgc3RhcnRDaGFuZ2VJbmRleCA9IFxuICAgICAgICAgICAgKGluY3JlbWVudCA9PSAxKT9cbiAgICAgICAgICAgICAgICBsb3dyYW5nZWluZGV4OlxuICAgICAgICAgICAgICAgIGhpZ2hyYW5nZWluZGV4ICsgKHJhbmdlaW5jcmVtZW50ICsgMSlcblxuICAgICAgICBsZXQgdG9TaGlmdFN0YXJ0SW5kZXggLy8gc3RhcnQgb2YgaW5kZXhlcyB0byBzaGlmdCB1cCAoaW5zZXJ0KSBvciBkb3duIChyZW1vdmUpXG4gICAgICAgIGlmIChpc0luc2VydGluZykge1xuICAgICAgICAgICAgdG9TaGlmdFN0YXJ0SW5kZXggPSBsb3dyYW5nZWluZGV4XG4gICAgICAgIH0gZWxzZSB7IC8vIGlzUmVtb3ZpbmdcbiAgICAgICAgICAgIHRvU2hpZnRTdGFydEluZGV4ID0gaGlnaHJhbmdlaW5kZXggKyAxXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tIGRlZmluZSByYW5nZSBib3VuZGFyaWVzIHdpdGhpbiBvcmRlcmVkIGNhY2hlIGluZGV4IGxpc3QgLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gb2J0YWluIHN0YXJwdHIgZm9yIGluZGV4ZXMgdG8gc2hpZnRcbiAgICAgICAgY29uc3QgdG9TaGlmdFN0YXJ0Q2FjaGVQdHIgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3QuZmluZEluZGV4KHZhbHVlID0+IHtcblxuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSA+PSB0b1NoaWZ0U3RhcnRJbmRleClcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIG9idGFpbiBsb3dDYWNoZVJhbmdlUHRyLi4uXG4gICAgICAgIGNvbnN0IGxvd0NhY2hlUmFuZ2VQdHIgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3QuZmluZEluZGV4KHZhbHVlID0+IHtcblxuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSA+PSBsb3dyYW5nZWluZGV4KSAmJiAodmFsdWUgPD0gaGlnaHJhbmdlaW5kZXgpXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBvYnRhaW4gaGlnaENhY2hlUmFuZ2VQdHIuLi5cbiAgICAgICAgY29uc3QgcmV2ZXJzZUNhY2hlSW5kZXhMaXN0ID0gQXJyYXkuZnJvbShvcmRlcmVkQ2FjaGVJbmRleExpc3QpLnJldmVyc2UoKVxuICAgICAgICBsZXQgaGlnaENhY2hlUmFuZ2VQdHIgPSByZXZlcnNlQ2FjaGVJbmRleExpc3QuZmluZEluZGV4KHZhbHVlPT4ge1xuXG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlIDw9IGhpZ2hyYW5nZWluZGV4KSAmJiAodmFsdWUgPj0gbG93cmFuZ2VpbmRleClcblxuICAgICAgICB9KVxuICAgICAgICAvLyB0YWtlIGludmVyc2Ugb2YgaGlnaENhY2hlUmFuZ2VQdHIgZm9yIG5vbi1yZXZlcnNlIHNvcnRcbiAgICAgICAgaWYgKGhpZ2hDYWNoZVJhbmdlUHRyICE9IC0xKSB7XG5cbiAgICAgICAgICAgIGhpZ2hDYWNoZVJhbmdlUHRyID0gKG9yZGVyZWRDYWNoZUluZGV4TGlzdC5sZW5ndGggLSAxKSAtIGhpZ2hDYWNoZVJhbmdlUHRyXG4gICAgICAgICAgICBpZiAoaGlnaENhY2hlUmFuZ2VQdHIgPCBsb3dDYWNoZVJhbmdlUHRyKSBoaWdoQ2FjaGVSYW5nZVB0ciA9IC0xXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tIGlzb2xhdGUgaW5kZXggcmFuZ2UgbGlzdCBhbmQgc2hpZnQgbGlzdCAtLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjYWNoZSBpbnB1dHNcbiAgICAgICAgbGV0IGNhY2hlUmFuZ2VJbmRleGVzTGlzdCwgLy8gZm9yIGVpdGhlciBpbnNlcnQgb3IgcmVtb3ZlXG4gICAgICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdCAvLyBmb3IgZWl0aGVyIGluc2VydCBvciByZW1vdmVcblxuICAgICAgICAvLyBnZXQgaW5wdXRzXG4gICAgICAgIGlmIChsb3dDYWNoZVJhbmdlUHRyID09IC0xKSB7IC8vIGNvcmUgc2NvcGUgaXMgb3V0IG9mIHZpZXdcblxuICAgICAgICAgICAgY2FjaGVSYW5nZUluZGV4ZXNMaXN0ID0gW11cbiAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gW11cblxuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hDYWNoZVJhbmdlUHRyID09IC0xKSB7IC8vIGNvcmUgc2NvcGUgaXMgcGFydGlhbGx5IGluIHZpZXc7IGxvd0NhY2hlUmFuZ2VQdHIgaXMgYXZhaWxhYmxlXG5cbiAgICAgICAgICAgIC8vIGFsbCBpdGVtcyBhYm92ZSBsb3dDYWNoZVJhbmdlUHRyIG11c3QgaGF2ZSBpbmRleGVzIHJlc2V0XG4gICAgICAgICAgICBjYWNoZVJhbmdlSW5kZXhlc0xpc3QgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3Quc2xpY2UobG93Q2FjaGVSYW5nZVB0cilcblxuICAgICAgICAgICAgaWYgKGlzSW5zZXJ0aW5nKSB7XG5cbiAgICAgICAgICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdCA9IGNhY2hlUmFuZ2VJbmRleGVzTGlzdC5zbGljZSgpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9TaGlmdFN0YXJ0Q2FjaGVQdHIgPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdCA9IFtdXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gb3JkZXJlZENhY2hlSW5kZXhMaXN0LnNsaWNlKHRvU2hpZnRTdGFydENhY2hlUHRyKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgeyAvLyByYW5nZSBmdWxseSBpbiB2aWV3XG5cbiAgICAgICAgICAgIGNhY2hlUmFuZ2VJbmRleGVzTGlzdCA9IG9yZGVyZWRDYWNoZUluZGV4TGlzdC5zbGljZShsb3dDYWNoZVJhbmdlUHRyLCBoaWdoQ2FjaGVSYW5nZVB0ciArIDEpXG5cbiAgICAgICAgICAgIGlmIChpc0luc2VydGluZykge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3Quc2xpY2UodG9TaGlmdFN0YXJ0Q2FjaGVQdHIpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9TaGlmdFN0YXJ0Q2FjaGVQdHIgPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdCA9IFtdXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gb3JkZXJlZENhY2hlSW5kZXhMaXN0LnNsaWNlKHRvU2hpZnRTdGFydENhY2hlUHRyKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tIGxpc3QgY2FjaGUgaW5kZXhlcyBhbmQgaXRlbXMgdG8gcmVwbGFjZSBvciByZW1vdmUgLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjYWNoZSBvdXRwdXRzXG4gICAgICAgIC8vIGZvciBpbnNlcnQsIHRoZSByYW5nZSBiZWluZyBpbnNlcnRlZDsgZm9yIHJlbW92ZSwgYW55IHRhaWwgY3JhZGxlIGl0ZW1zIGFiYW5kb25lZFxuICAgICAgICBsZXQgY2FjaGVJbmRleGVzVG9SZXBsYWNlTGlzdCA9IFtdLCAvLyBmb3IgaW5zZXJ0LCB0aGUgcmFuZ2UgYmVpbmcgaW5zZXJ0ZWRcbiAgICAgICAgICAgIGNhY2hlSW5kZXhlc1RvUmVtb3ZlTGlzdCA9IFtdLCAvLyBmb3IgcmVtb3ZlLCB0aGUgcmFuZ2UgYmVpbmcgcmVtb3ZlZFxuICAgICAgICAgICAgY2FjaGVJdGVtc1RvUmVtb3ZlTGlzdCA9IFtdIC8vIGZvciByZW1vdmUsIGRlcml2ZWQgZnJvbSB0aGUgcHJldmlvdXNcblxuICAgICAgICBpZiAoaXNJbnNlcnRpbmcpIHtcblxuICAgICAgICAgICAgY2FjaGVJbmRleGVzVG9SZXBsYWNlTGlzdCA9IGNhY2hlUmFuZ2VJbmRleGVzTGlzdFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIGlzUmVtb3ZpbmdcblxuICAgICAgICAgICAgY2FjaGVJbmRleGVzVG9SZW1vdmVMaXN0ID0gY2FjaGVSYW5nZUluZGV4ZXNMaXN0XG5cbiAgICAgICAgICAgIC8vIGdldCBjYWNoZUl0ZW1zVG9SZW1vdmVMaXN0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGNhY2hlSW5kZXhlc1RvUmVtb3ZlTGlzdCkge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVJdGVtc1RvUmVtb3ZlTGlzdC5wdXNoKGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSlcbiAgICAgICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmRlbGV0ZShpbmRleClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLSBjb25kdWN0IGNhY2hlIG9wZXJhdGlvbnM7IGNhcHR1cmUgbGlzdCBvZiBzaGlmdGVkIGluZGV4ZXMgLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGluY3JlbWVudCBoaWdoZXIgZnJvbSB0b3Agb2YgbGlzdCB0byBwcmVzZXJ2ZSBsb3dlciB2YWx1ZXMgZm9yIHN1YnNlcXVlbnQgaW5jcmVtZW50XG4gICAgICAgIGlmIChpc0luc2VydGluZykgY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QucmV2ZXJzZSgpIFxuXG4gICAgICAgIGNvbnN0IGNhY2hlSW5kZXhlc1NoaWZ0ZWRMaXN0ID0gW10gLy8gdHJhY2sgc2hpZnRlZCBpbmRleGVzXG4gICAgICAgIGNvbnN0IGNhY2hlSW5kZXhlc1RyYW5zZmVycmVkU2V0OlNldDxudW1iZXI+ID0gbmV3IFNldCgpIC8vIG9idGFpbiBsaXN0IG9mIG9ycGhhbmVkIGluZGV4ZXNcblxuICAgICAgICAvLyBmdW5jdGlvbiBtb2RpZnkgaW5kZXgtdG8taXRlbWlkIG1hcCwgYW5kIG1ldGFkYXRhIG1hcCwgZm9yIGluZGV4IHNoaWZ0c1xuICAgICAgICBjb25zdCBwcm9jZXNzSW5kZXhGbiA9IGluZGV4ID0+IHtcblxuICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgcmFuZ2VpbmNyZW1lbnRcblxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICBjYWNoZUluZGV4ZXNUcmFuc2ZlcnJlZFNldC5hZGQoaW5kZXgpXG4gICAgICAgICAgICAgICAgY2FjaGVJbmRleGVzVHJhbnNmZXJyZWRTZXQuZGVsZXRlKG5ld0luZGV4KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLnNldChuZXdJbmRleCwgaXRlbUlEKVxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpLmluZGV4ID0gbmV3SW5kZXhcbiAgICAgICAgICAgIGNhY2hlSW5kZXhlc1NoaWZ0ZWRMaXN0LnB1c2gobmV3SW5kZXgpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdhbGsgdGhyb3VnaCBpdGVtcyB0byBzaGlmdFxuICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdC5mb3JFYWNoKHByb2Nlc3NJbmRleEZuKVxuXG4gICAgICAgIC8vIGRlbGV0ZSByZW1haW5pbmcgaW5kZXhlcyBhbmQgaXRlbXMgbm93IGR1cGxpY2F0ZXM7IHRyYWNrIHBvcnRhbCBkYXRhIHRvIHJlbW92ZSBhZnRlciBjcmFkbGUgdXBkYXRlZFxuXG4gICAgICAgIGNvbnN0IHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCA9IFtdIC8vIGhvbGQgcG9ydGFscyBmb3IgZGVsZXRpb24gdW50aWwgYWZ0ZXIgYWZ0ZXIgY3JhZGxlIHN5bmNoXG4gICAgICAgIGxldCBjYWNoZUluZGV4ZXNSZW1vdmVkTGlzdCA9IFtdXG5cbiAgICAgICAgaWYgKGlzSW5zZXJ0aW5nKSB7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgY2FjaGVJbmRleGVzVG9SZXBsYWNlTGlzdCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHsgLy8gaXNSZW1vdmluZ1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1JRCBvZiBjYWNoZUl0ZW1zVG9SZW1vdmVMaXN0KSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcnRpdGlvbklEIH0gPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgICAgICBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QucHVzaCh7aXRlbUlELCBwYXJ0aXRpb25JRH0pXG4gICAgICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLmRlbGV0ZShpdGVtSUQpXG4gICAgICAgICAgICAgICAgaXRlbVNldC5kZWxldGUoaXRlbUlEKVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFiYW5kb25lZCBpbmRleGVzIGZyb20gcmVtb3ZlIHByb2Nlc3NcbiAgICAgICAgICAgIGNvbnN0IG9ycGhhbmVkSW5kZXhlc1RyYW5zZmVycmVkTGlzdCA9IEFycmF5LmZyb20oY2FjaGVJbmRleGVzVHJhbnNmZXJyZWRTZXQpXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2Ygb3JwaGFuZWRJbmRleGVzVHJhbnNmZXJyZWRMaXN0KSB7XG5cbiAgICAgICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmRlbGV0ZShpbmRleClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUluZGV4ZXNSZW1vdmVkTGlzdCA9IGNhY2hlSW5kZXhlc1RvUmVtb3ZlTGlzdC5jb25jYXQob3JwaGFuZWRJbmRleGVzVHJhbnNmZXJyZWRMaXN0KVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNJbnNlcnRpbmcpIGNhY2hlSW5kZXhlc1NoaWZ0ZWRMaXN0LnJldmVyc2UoKSAvLyByZXR1cm4gdG8gYXNjZW5kaW5nIG9yZGVyXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tIHJldHVybnMgLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gcmV0dXJuIHZhbHVlcyBmb3IgY2FsbGVyIHRvIHNlbmQgdG8gY29udGVudGhhbmRsZXIgZm9yIGNyYWRsZSBzeW5jaHJvbml6YXRpb25cbiAgICAgICAgcmV0dXJuIFtzdGFydENoYW5nZUluZGV4LCByYW5nZWluY3JlbWVudCwgY2FjaGVJbmRleGVzU2hpZnRlZExpc3QsIGNhY2hlSW5kZXhlc1JlbW92ZWRMaXN0LCBjYWNoZUluZGV4ZXNUb1JlcGxhY2VMaXN0LCBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3RdXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVsgSU5ESVZJRFVBTCBQT1JUQUwgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdXNlZCBmb3Igc2l6ZSBjYWxjdWxhdGlvbiBpbiBwYXJlQ2FjaGVUb01heFxuICAgIC8vIHJlZ2lzdGVycyBpbmRleGVzIHdoZW4gcmVxdWVzdGVkIGJ1dCBiZWZvcmUgcmV0cmlldmVkIGFuZCBlbnRlcmVkIGludG8gY2FjaGVcbiAgICBwcml2YXRlIHJlZ2lzdGVyUGVuZGluZ1BvcnRhbChzY3JvbGxlcklELCBpbmRleCkge1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5yZXF1ZXN0ZWRTZXQuYWRkKGluZGV4KVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bnJlZ2lzdGVyUGVuZGluZ1BvcnRhbChzY3JvbGxlcklELCBpbmRleCkge1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbGVyRGF0YU1hcCA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGlmIChzY3JvbGxlckRhdGFNYXApIHsgLy8gb3RoZXJ3aXNlIHNjcm9sbGVyIGhhcyBiZWVuIGRlbGV0ZWRcbiAgICAgICAgICAgIHNjcm9sbGVyRGF0YU1hcC5yZXF1ZXN0ZWRTZXQuZGVsZXRlKGluZGV4KVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE5ld0l0ZW1JRCgpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxJdGVtSUQrK1xuXG4gICAgfVxuXG4gICAgLy8gZ2V0IG5ldyBvciBleGlzdGluZyBpdGVtSUQgZm9yIGNvbnRlbnRmdW5jdGlvbnMuY3JlYXRlQ2VsbEZyYW1lXG4gICAgcHJpdmF0ZSBnZXROZXdPckV4aXN0aW5nSXRlbUlEKHNjcm9sbGVySUQsIGluZGV4KSB7XG5cbiAgICAgICAgY29uc3QgeyBpbmRleFRvSXRlbUlETWFwIH0gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcblxuICAgICAgICBjb25zdCBpdGVtSUQgPSBcbiAgICAgICAgICAgIChpbmRleFRvSXRlbUlETWFwLmhhcyhpbmRleCkpP1xuICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KTpcbiAgICAgICAgICAgICAgICAodGhpcy5nZXROZXdJdGVtSUQoKSlcblxuICAgICAgICByZXR1cm4gaXRlbUlEXG5cbiAgICB9XG5cbiAgICAgLy8gY3JlYXRlIG5ldyBwb3J0YWxcbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZVBvcnRhbChzY3JvbGxlcklELCBjb21wb25lbnQsIGluZGV4LCBpdGVtSUQsIHNjcm9sbGVyUHJvcGVydGllcywgaXNQcmVsb2FkID0gZmFsc2UpIHtcblxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJQZW5kaW5nUG9ydGFsKHNjcm9sbGVySUQsIGluZGV4KVxuXG4gICAgICAgIGNvbnN0IHNjcm9sbGVyRGF0YU1hcCA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGlmICghc2Nyb2xsZXJEYXRhTWFwKSByZXR1cm4gbnVsbFxuXG4gICAgICAgIGNvbnN0IHsgbGF5b3V0LCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIG9yaWVudGF0aW9uIH0gPSBcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IHBvcnRhbE5vZGUgPSBjcmVhdGVQb3J0YWxOb2RlKGluZGV4LCBpdGVtSUQpXG5cbiAgICAgICAgY29uc3QgcGFydGl0aW9uSUQgPSBhd2FpdCB0aGlzLmZpbmRQYXJ0aXRpb25XaXRoUm9vbSgpXG5cbiAgICAgICAgY29uc3QgcG9ydGFsID0gXG4gICAgICAgICAgICA8ZGl2IGRhdGEtdHlwZSA9ICdwb3J0YWx3cmFwcGVyJyBrZXkgPSB7aXRlbUlEfSBkYXRhLWl0ZW1pZCA9IHtpdGVtSUR9IGRhdGEtaW5kZXggPSB7aW5kZXh9PlxuICAgICAgICAgICAgICAgIDxJblBvcnRhbCBrZXkgPSB7aXRlbUlEfSBub2RlID0ge3BvcnRhbE5vZGV9ID4geyBjb21wb25lbnQgfSA8L0luUG9ydGFsPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgdGhpcy5hZGRQYXJ0aXRpb25Qb3J0YWwocGFydGl0aW9uSUQsIGl0ZW1JRCwgcG9ydGFsKVxuXG4gICAgICAgIGNvbnN0IHBvcnRhbE1ldGFkYXRhID0ge1xuICAgICAgICAgICAgcG9ydGFsTm9kZSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgaXRlbUlELFxuICAgICAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgICAgIHNjcm9sbGVyUHJvcGVydGllcyxcbiAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcnRpdGlvbklELFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtTWV0YWRhdGFNYXAuc2V0KGl0ZW1JRCwgcG9ydGFsTWV0YWRhdGEpXG4gICAgICAgIHNjcm9sbGVyRGF0YU1hcC5pdGVtU2V0LmFkZChpdGVtSUQpXG4gICAgICAgIHNjcm9sbGVyRGF0YU1hcC5pbmRleFRvSXRlbUlETWFwLnNldChpbmRleCwgaXRlbUlEKVxuXG4gICAgICAgIGlmICghaXNQcmVsb2FkKSB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICByZXR1cm4gcG9ydGFsTWV0YWRhdGFcblxuICAgIH1cblxuICAgIC8vIHVzZWQgZm9yIHByZWxvYWRpbmcgbmV3IGl0ZW1cbiAgICBwcml2YXRlIGFzeW5jIHByZWxvYWRJdGVtKFxuICAgICAgICBzY3JvbGxlcklELFxuICAgICAgICBpbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBzY3JvbGxlclByb3BlcnRpZXNSZWYsIFxuICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2ssXG4gICAgICAgIG1heExpc3RzaXplSW50ZXJydXB0XG4gICAgKSB7XG5cbiAgICAgICAgY29uc3QgaXRlbUlEID0gdGhpcy5nZXROZXdJdGVtSUQoKVxuXG4gICAgICAgIGxldCByZXR1cm52YWx1ZSwgdXNlcmNvbnRlbnQsIGVycm9yXG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgdXNlcmNvbnRlbnQgPSBhd2FpdCBnZXRJdGVtKGluZGV4LCBpdGVtSUQpXG4gICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQgPT09IG51bGwpIHJldHVybnZhbHVlID0gdXNlcmNvbnRlbnRcblxuICAgICAgICB9IGNhdGNoKGUpIHtcblxuICAgICAgICAgICAgcmV0dXJudmFsdWUgPSB1c2VyY29udGVudCA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgZXJyb3IgPSBlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodXNlcmNvbnRlbnQgIT09IG51bGwpICYmICh1c2VyY29udGVudCAhPT0gdW5kZWZpbmVkKSkge1xuXG4gICAgICAgICAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KHVzZXJjb250ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybnZhbHVlID0gdXNlcmNvbnRlbnRcbiAgICAgICAgICAgICAgICB1c2VyY29udGVudCA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdpbnZhbGlkIFJlYWN0IGVsZW1lbnQnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHVzZXJjb250ZW50ICE9PSBudWxsKSAmJiAodXNlcmNvbnRlbnQgIT09IHVuZGVmaW5lZCkpIHtcblxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxlclByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLFxuICAgICAgICAgICAgICAgIGNlbGxGcmFtZVByb3BlcnRpZXNSZWY6e2N1cnJlbnQ6e2luZGV4LGl0ZW1JRH19XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQucHJvcHMuaGFzT3duUHJvcGVydHkoJ3Njcm9sbGVyUHJvcGVydGllcycpKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IFJlYWN0LmNsb25lRWxlbWVudCh1c2VyY29udGVudCwge3Njcm9sbGVyUHJvcGVydGllc30pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB1c2VyY29udGVudFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb25zdCBwb3J0YWxEYXRhID0gXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVQb3J0YWwoc2Nyb2xsZXJJRCxjb250ZW50LCBpbmRleCwgaXRlbUlELCBzY3JvbGxlclByb3BlcnRpZXMsIHRydWUpIC8vIHRydWUgPSBpc1ByZWxvYWRcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrICYmIFxuICAgICAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2soaW5kZXgsIGl0ZW1JRCwgcmV0dXJudmFsdWUsICdwcmVsb2FkJywgZXJyb3IpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIHVzZXJjb250ZW50ID09PSBudWxsOyBsYXN0IGl0ZW0gaW4gbGlzdFxuXG4gICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrICYmIFxuICAgICAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2soaW5kZXgsIGl0ZW1JRCwgcmV0dXJudmFsdWUsICdwcmVsb2FkJywgbmV3IEVycm9yKCdlbmQgb2YgbGlzdCcpKVxuXG4gICAgICAgICAgICAgICAgbWF4TGlzdHNpemVJbnRlcnJ1cHQoaW5kZXgpXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBkZWxldGUgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgLy8gYWNjZXB0cyBhbiBhcnJheSBvZiBpbmRleGVzXG4gICAgcHJpdmF0ZSBkZWxldGVQb3J0YWxCeUluZGV4KHNjcm9sbGVySUQsIGluZGV4LCBkZWxldGVMaXN0Q2FsbGJhY2spIHtcblxuICAgICAgICBjb25zdCBpbmRleEFycmF5ID0gXG4gICAgICAgICAgICAoIUFycmF5LmlzQXJyYXkoaW5kZXgpKT9cbiAgICAgICAgICAgICAgICBbaW5kZXhdOlxuICAgICAgICAgICAgICAgIGluZGV4XG5cbiAgICAgICAgY29uc3QgeyBpbmRleFRvSXRlbUlETWFwLCBpdGVtU2V0IH0gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcblxuICAgICAgICBjb25zdCB7IGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuXG4gICAgICAgIGNvbnN0IHsgcmVtb3ZlUGFydGl0aW9uUG9ydGFsIH0gPSB0aGlzXG5cbiAgICAgICAgY29uc3QgZGVsZXRlTGlzdCA9IFtdXG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBpbmRleEFycmF5KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGl0ZW1JRCA9IGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KVxuXG4gICAgICAgICAgICBpZiAoaXRlbUlEID09PSB1bmRlZmluZWQpIGNvbnRpbnVlIC8vIGFzeW5jIG1pc21hdGNoXG5cbiAgICAgICAgICAgIGRlbGV0ZUxpc3QucHVzaCh7aW5kZXgsaXRlbUlEfSlcbiAgICAgICAgICAgIGNvbnN0IHsgcGFydGl0aW9uSUQgfSA9IGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuXG4gICAgICAgICAgICByZW1vdmVQYXJ0aXRpb25Qb3J0YWwocGFydGl0aW9uSUQsaXRlbUlEKVxuXG4gICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuZGVsZXRlKGl0ZW1JRClcbiAgICAgICAgICAgIGl0ZW1TZXQuZGVsZXRlKGl0ZW1JRClcbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2sgJiYgZGVsZXRlTGlzdENhbGxiYWNrKGRlbGV0ZUxpc3QpXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gKHNjcm9sbGVySUQpID0+IHtcblxuICAgICAgICBjb25zdCB7IHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgaWYgKHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCAmJiBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGl0aW9uUG9ydGFsKGl0ZW0ucGFydGl0aW9uSUQsIGl0ZW0uaXRlbUlEKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkucG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gW10gICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBxdWVyeSBleGlzdGVuY2Ugb2YgYSBwb3J0YWwgbGlzdCBpdGVtXG4gICAgcHJpdmF0ZSBoYXNQb3J0YWwoaXRlbUlEKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbU1ldGFkYXRhTWFwLmhhcyhpdGVtSUQpXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBvcnRhbE1ldGFkYXRhKGl0ZW1JRCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhhc1BvcnRhbChpdGVtSUQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBVdGlsaXR5IGZ1bmN0aW9uIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIGdldCBhIHJlYWN0LXJldmVyc2UtcG9ydGFsIEluUG9ydGFsIGNvbXBvbmVudCwgd2l0aCBpdHMgbWV0YWRhdGFcbi8vIHdpdGggdXNlciBjb250ZW50IGFuZCBjb250YWluZXJcbi8vIHNlZSBhbHNvIHNvbWUgc3R5bGVzIHNldCBpbiBDZWxsRnJhbWVcblxuY29uc3QgY3JlYXRlUG9ydGFsTm9kZSA9IChpbmRleCwgaXRlbUlEKSA9PiB7XG5cbiAgICBjb25zdCBwb3J0YWxOb2RlID0gY3JlYXRlSHRtbFBvcnRhbE5vZGUoKVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gcG9ydGFsTm9kZS5lbGVtZW50XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcblxuICAgIGNvbnRhaW5lci5kYXRhc2V0LnR5cGUgPSAnY29udGVudGVudmVsb3BlJ1xuICAgIGNvbnRhaW5lci5kYXRhc2V0LmluZGV4ID0gaW5kZXhcbiAgICBjb250YWluZXIuZGF0YXNldC5jYWNoZWl0ZW1pZCA9IGl0ZW1JRFxuXG4gICAgcmV0dXJuIHBvcnRhbE5vZGVcblxufSAgICAgXG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiZXhwb3J0cyIsIk9wIiwiT2JqZWN0IiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsImRlc2MiLCJ2YWx1ZSIsIiRTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImRlZmluZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJtYWtlSW52b2tlTWV0aG9kIiwidHJ5Q2F0Y2giLCJmbiIsImFyZyIsInR5cGUiLCJjYWxsIiwiQ29udGludWVTZW50aW5lbCIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIm1ldGhvZCIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVjb3JkIiwicmVzdWx0IiwiX19hd2FpdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwic3RhdGUiLCJFcnJvciIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwiZG9uZSIsIm1ldGhvZE5hbWUiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJpbmZvIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJsZW5ndGgiLCJpIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiZ2VuRnVuIiwiY3RvciIsIm5hbWUiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJrZXlzIiwidmFsIiwib2JqZWN0IiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsIl9jYXRjaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIm8iLCJhbGxvd0FycmF5TGlrZSIsIml0IiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiRiIsInMiLCJuIiwiZSIsIl9lMiIsImYiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwic3RlcCIsIl9lMyIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJmcm9tIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfc2xpY2VkVG9BcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJtaW5MZW4iLCJ0b1N0cmluZyIsInRlc3QiLCJsZW4iLCJhcnIyIiwiX2kiLCJfcyIsIl9lIiwiX3giLCJfciIsIl9hcnIiLCJfbiIsIl9kIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiX3RvUHJvcGVydHlLZXkiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJyZXMiLCJOdW1iZXIiLCJyZWFjdF8xIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsInJlYWN0X3JldmVyc2VfcG9ydGFsXzEiLCJDYWNoZVBhcnRpdGlvbl8xIiwiQ2FjaGVBUEkiLCJDQUNIRV9QQVJUSVRJT05fU0laRSIsIl90aGlzIiwiZ2xvYmFsSXRlbUlEIiwiZ2xvYmFsUGFydGl0aW9uSUQiLCJpdGVtTWV0YWRhdGFNYXAiLCJNYXAiLCJzY3JvbGxlckRhdGFNYXAiLCJwYXJ0aXRpb25Qcm9wcyIsInBhcnRpdGlvbk1ldGFkYXRhTWFwIiwicGFydGl0aW9uTWFwIiwicGFydGl0aW9uUmVuZGVyTGlzdCIsInBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZSIsInBhcnRpdGlvbk1vZGlmaWVkU2V0IiwiU2V0IiwicGFydGl0aW9uUHRyIiwiZ2V0RmFjYWRlIiwic2Nyb2xsZXJJRCIsImZhY2FkZSIsImluZGV4VG9JdGVtSURNYXAiLCJnZXRJbmRleFRvSXRlbUlETWFwIiwiZ2V0IiwiaXRlbVNldCIsImdldEl0ZW1TZXQiLCJyZXF1ZXN0ZWRTZXQiLCJnZXRSZXF1ZXN0ZWRTZXQiLCJzZXRQYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUiLCJjcmFkbGVQYXJhbWV0ZXJzIiwicGFybXMiLCJzZXRDcmFkbGVQYXJhbWV0ZXJzIiwicG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0IiwibGlzdCIsInNldFBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCIsImdldEluc3RhbmNlIiwidW5SZWdpc3RlclNjcm9sbGVyIiwicmVuZGVyUGFydGl0aW9uUmVwbyIsInJlbmRlclBvcnRhbExpc3RzIiwiY2xlYXJDYWNoZSIsImNoYW5nZUNhY2hlTGlzdFNpemUiLCJuZXdsaXN0c2l6ZSIsImRlbGV0ZUxpc3RDYWxsYmFjayIsImNoYW5nZUNhY2hlTGlzdFJhbmdlIiwibmV3bGlzdHJhbmdlIiwibWF0Y2hDYWNoZVRvQ3JhZGxlIiwiY3JhZGxlSW5kZXhMaXN0IiwicGFyZUNhY2hlVG9NYXgiLCJjYWNoZU1heCIsImd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nIiwiY3JhZGxlTGlzdExlbmd0aCIsIk1BWF9DQUNIRV9PVkVSX1JVTiIsInByZWxvYWQiLCJmaW5hbENhbGxiYWNrIiwibnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSIsImdldENhY2hlSW5kZXhNYXAiLCJnZXRDcmFkbGVJbmRleE1hcCIsImdldENhY2hlSXRlbU1hcCIsIm1vdmVJbmRleCIsInRvbG93aW5kZXgiLCJmcm9tbG93aW5kZXgiLCJmcm9taGlnaGluZGV4IiwiaW5zZXJ0UmVtb3ZlSW5kZXgiLCJpbmRleCIsImhpZ2hyYW5nZSIsImluY3JlbWVudCIsImxpc3RzaXplIiwicmVnaXN0ZXJQZW5kaW5nUG9ydGFsIiwidW5yZWdpc3RlclBlbmRpbmdQb3J0YWwiLCJnZXROZXdJdGVtSUQiLCJnZXROZXdPckV4aXN0aW5nSXRlbUlEIiwiY3JlYXRlUG9ydGFsIiwiY29tcG9uZW50IiwiaXRlbUlEIiwic2Nyb2xsZXJQcm9wZXJ0aWVzIiwiaXNQcmVsb2FkIiwiYXJndW1lbnRzIiwiZGVsZXRlUG9ydGFsQnlJbmRleCIsImFwcGx5UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0IiwiaGFzUG9ydGFsIiwiZ2V0UG9ydGFsTWV0YWRhdGEiLCJzaXplIiwiX2l0ZW1NZXRhZGF0YU1hcCRnZXQiLCJwYXJ0aXRpb25JRCIsInJlbW92ZVBhcnRpdGlvblBvcnRhbCIsImFkZFBhcnRpdGlvbiIsInNldCIsInBvcnRhbE1hcCIsIm1hcGNvdW50IiwicG9ydGFsUmVuZGVyTGlzdCIsIm1vZGlmaWVkIiwiZm9yY2VVcGRhdGUiLCJyZXNvbHZlZnVuYyIsImN1cnJlbnQiLCJwcm9taXNlIiwiY2FsbGJhY2siLCJjcmVhdGVFbGVtZW50IiwiYWRkUGFydGl0aW9uUG9ydGFsIiwicG9ydGFsIiwicGFydGl0aW9uTWV0YWRhdGEiLCJhZGQiLCJyZW5kZXJQYXJ0aXRpb24iLCJjbGVhciIsImRhdGFtYXAiLCJfaXRlbU1ldGFkYXRhTWFwJGdldDIiLCJwb3J0YWxJbmRleE1hcCIsIm1hcGtleXNMaXN0Iiwic29ydCIsImEiLCJiIiwiX3RoaXMkc2Nyb2xsZXJEYXRhTWFwIiwidmlydHVhbExpc3RQcm9wcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImxvd2luZGV4IiwiaGlnaGVzdGluZGV4IiwiYXQiLCJwYXJlbGlzdCIsImZpbHRlciIsImNvbXBhcmVoaWdoaW5kZXgiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXAyIiwibG93Y3VycmVudGluZGV4IiwiaGlnaGN1cnJlbnRpbmRleCIsIl9uZXdsaXN0cmFuZ2UiLCJsb3duZXdpbmRleCIsImhpZ2huZXdpbmRleCIsImxvd2VzdGluZGV4IiwiY29tcGFyZWluZGV4IiwibWFwa2V5cyIsImRlbGtleXMiLCJpbmNsdWRlcyIsIm1vZGVsTGVuZ3RoIiwibWF4IiwiTWF0aCIsIm1hcGtleXNsaXN0IiwicmVxdWVzdGVka2V5cyIsImNvbmNhdCIsIm1hcExlbmd0aCIsInBhcmVjb3VudCIsImhlYWRpbmRleCIsInRhaWxpbmRleCIsImhlYWRwb3MiLCJpbmRleE9mIiwidGFpbHBvcyIsImhlYWRyb29tIiwidGFpbHJvb20iLCJwYXJlcm9vbSIsImhlYWRwYXJlY291bnQiLCJmbG9vciIsInRhaWxwYXJlY291bnQiLCJoZWFkbGlzdCIsInRhaWxsaXN0IiwiZGVsTGlzdCIsIl90aGlzJHNjcm9sbGVyRGF0YU1hcDMiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXA0Iiwic2Nyb2xsZXJQcm9wZXJ0aWVzUmVmIiwiX2NyYWRsZVBhcmFtZXRlcnMkaGFuIiwiaGFuZGxlcnNSZWYiLCJzdGF0ZUhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwiZ2V0SXRlbSIsIl9jcmFkbGVJbnRlcm5hbFByb3BlciIsImhpZ2hpbmRleCIsInByb21pc2VzIiwiY2FjaGVTaXplIiwibWluIiwicHJlbG9hZHNpemUiLCJicmVha2xvb3AiLCJtYXhMaXN0c2l6ZUludGVycnVwdCIsImlzTW91bnRlZFJlZiIsIl9zZXJ2aWNlSGFuZGxlciRjYWxsYiIsImNhbGxiYWNrcyIsInByZWxvYWRJbmRleENhbGxiYWNrIiwiaXRlbUV4Y2VwdGlvbkNhbGxiYWNrIiwiaGFzIiwicHJlbG9hZEl0ZW0iLCJhbGxTZXR0bGVkIiwiX3RoaXMkc2Nyb2xsZXJEYXRhTWFwNSIsIl9pdGVyYXRvciIsIl9zdGVwIiwiaXRlbSIsInJlZ2lzdGVyU2Nyb2xsZXIiLCJmaW5kUGFydGl0aW9uV2l0aFJvb20iLCJfY29udGV4dCIsIl9pdGVyYXRvcjIiLCJfc3RlcDIiLCJfc3RlcDIkdmFsdWUiLCJ0MCIsIl9jYWxsZWUiLCJjcmFkbGVNYXAiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXA2IiwiX2l0ZXJhdG9yMyIsIl9zdGVwMyIsImNhY2hlbGlzdCIsIl90aGlzJHNjcm9sbGVyRGF0YU1hcDciLCJfaXRlcmF0b3I0IiwiX3N0ZXA0IiwibWV0YWRhdGEiLCJtb3ZlYmxvY2tzaXplIiwibW92ZWluY3JlbWVudCIsInRvaGlnaGluZGV4IiwibW92ZWRpcmVjdGlvbiIsIm9yZGVyZWRpbmRleGxpc3QiLCJyZXZlcnNlb3JkZXJlZGluZGV4bGlzdCIsInRvbG93aW5kZXhwdHIiLCJmaW5kSW5kZXgiLCJmcm9tbG93aW5kZXhwdHIiLCJ0b2hpZ2hpbmRleHB0ciIsImZyb21oaWdoaW5kZXhwdHIiLCJjYWNoZWxpc3Rjb3VudCIsImxpc3R0b3Byb2Nlc3Nmb3Jtb3ZlIiwicHJvY2Vzc3RvbW92ZU1hcCIsImNhcHR1cmVtb3ZlaW5kZXhGbiIsImxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSIsInByb2Nlc3NlZGRpc3BsYWNlTGlzdCIsInByb2Nlc3NzZGlzcGxhY2VpbmRleEZuIiwibmV3SW5kZXgiLCJwcm9jZXNzZWRtb3ZlTGlzdCIsInByb2Nlc3Ntb3ZlaW5kZXhGbiIsInByb2Nlc3NlZEluZGV4ZXMiLCJpc0luc2VydGluZyIsImlzUmVtb3ZpbmciLCJlbXB0eXJldHVybiIsIm9yZGVyZWRDYWNoZUluZGV4TGlzdCIsImhpZ2hyYW5nZWluZGV4IiwibG93cmFuZ2VpbmRleCIsImRpZmYiLCJyYW5nZWNvdW50IiwicmFuZ2VpbmNyZW1lbnQiLCJzdGFydENoYW5nZUluZGV4IiwidG9TaGlmdFN0YXJ0SW5kZXgiLCJ0b1NoaWZ0U3RhcnRDYWNoZVB0ciIsImxvd0NhY2hlUmFuZ2VQdHIiLCJyZXZlcnNlQ2FjaGVJbmRleExpc3QiLCJoaWdoQ2FjaGVSYW5nZVB0ciIsImNhY2hlUmFuZ2VJbmRleGVzTGlzdCIsImNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0IiwiY2FjaGVJbmRleGVzVG9SZXBsYWNlTGlzdCIsImNhY2hlSW5kZXhlc1RvUmVtb3ZlTGlzdCIsImNhY2hlSXRlbXNUb1JlbW92ZUxpc3QiLCJfaXRlcmF0b3I1IiwiX3N0ZXA1IiwiY2FjaGVJbmRleGVzU2hpZnRlZExpc3QiLCJjYWNoZUluZGV4ZXNUcmFuc2ZlcnJlZFNldCIsInByb2Nlc3NJbmRleEZuIiwiY2FjaGVJbmRleGVzUmVtb3ZlZExpc3QiLCJfaXRlcmF0b3I2IiwiX3N0ZXA2IiwiX2l0ZXJhdG9yNyIsIl9zdGVwNyIsIl9pdGVtTWV0YWRhdGFNYXAkZ2V0MyIsIm9ycGhhbmVkSW5kZXhlc1RyYW5zZmVycmVkTGlzdCIsIl9pMiIsIl9vcnBoYW5lZEluZGV4ZXNUcmFucyIsIl90aGlzJHNjcm9sbGVyRGF0YU1hcDgiLCJfY29udGV4dDIiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXA5IiwibGF5b3V0IiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsIm9yaWVudGF0aW9uIiwicG9ydGFsTm9kZSIsImNyZWF0ZVBvcnRhbE5vZGUiLCJJblBvcnRhbCIsIm5vZGUiLCJwb3J0YWxNZXRhZGF0YSIsIl9jYWxsZWUyIiwiX2NvbnRleHQzIiwidXNlcmNvbnRlbnQiLCJyZXR1cm52YWx1ZSIsImlzVmFsaWRFbGVtZW50IiwiY2VsbEZyYW1lUHJvcGVydGllc1JlZiIsImNvbnRlbnQiLCJjbG9uZUVsZW1lbnQiLCJfY2FsbGVlMyIsImluZGV4QXJyYXkiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXAxMCIsImRlbGV0ZUxpc3QiLCJfaXRlcmF0b3I4IiwiX3N0ZXA4IiwiX2l0ZW1NZXRhZGF0YU1hcCRnZXQ0IiwiY3JlYXRlSHRtbFBvcnRhbE5vZGUiLCJjb250YWluZXIiLCJlbGVtZW50Iiwic3R5bGUiLCJvdmVyZmxvdyIsImRhdGFzZXQiLCJjYWNoZWl0ZW1pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/portalcache/cacheAPI.tsx\n')},"./node_modules/react-error-boundary/dist/react-error-boundary.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   ErrorBoundaryContext: () => (/* binding */ ErrorBoundaryContext),\n/* harmony export */   useErrorBoundary: () => (/* binding */ useErrorBoundary),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\'use client\';\n\n\nconst ErrorBoundaryContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: "imperative-api"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There\'s an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we\'d end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don\'t check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: "keys"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(fallback)) {\n        childToRender = fallback;\n      } else if (typeof fallbackRender === "function") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent, props);\n      } else {\n        throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");\n      }\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== "boolean" || typeof value.resetErrorBoundary !== "function") {\n    throw new Error("ErrorBoundaryContext not found");\n  }\n  return true;\n}\n\nfunction useErrorBoundary() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    error: null,\n    hasError: false\n  });\n  const memoized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    resetBoundary: () => {\n      context === null || context === void 0 ? void 0 : context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context === null || context === void 0 ? void 0 : context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundary, errorBoundaryProps, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || "Unknown";\n  Wrapped.displayName = "withErrorBoundary(".concat(name, ")");\n  return Wrapped;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDMkg7O0FBRTNILDZCQUE2QixvREFBYTs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNENBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsMEVBQTBFLGFBQWE7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFEQUFjO0FBQ3hCO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSLHdCQUF3QixvREFBYTtBQUNyQyxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixpREFBVTtBQUM1QjtBQUNBLDRCQUE0QiwrQ0FBUTtBQUNwQztBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQiw4Q0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaURBQVUsaUJBQWlCLG9EQUFhLG9DQUFvQyxvREFBYTtBQUMzRztBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5lc20uanM/Yjk0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBDb21wb25lbnQsIGlzVmFsaWRFbGVtZW50LCBjcmVhdGVFbGVtZW50LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlTWVtbywgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgRXJyb3JCb3VuZGFyeUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGRpZENhdGNoOiBmYWxzZSxcbiAgZXJyb3I6IG51bGxcbn07XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZXNldEVycm9yQm91bmRhcnkgPSB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBkaWRDYXRjaDogdHJ1ZSxcbiAgICAgIGVycm9yXG4gICAgfTtcbiAgfVxuICByZXNldEVycm9yQm91bmRhcnkoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZXJyb3JcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRvblJlc2V0LCBfdGhpcyRwcm9wcztcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgKF90aGlzJHByb3BzJG9uUmVzZXQgPSAoX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzKS5vblJlc2V0KSA9PT0gbnVsbCB8fCBfdGhpcyRwcm9wcyRvblJlc2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm9wcyRvblJlc2V0LmNhbGwoX3RoaXMkcHJvcHMsIHtcbiAgICAgICAgYXJncyxcbiAgICAgICAgcmVhc29uOiBcImltcGVyYXRpdmUtYXBpXCJcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgaW5mbykge1xuICAgIHZhciBfdGhpcyRwcm9wcyRvbkVycm9yLCBfdGhpcyRwcm9wczI7XG4gICAgKF90aGlzJHByb3BzJG9uRXJyb3IgPSAoX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcykub25FcnJvcikgPT09IG51bGwgfHwgX3RoaXMkcHJvcHMkb25FcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvcHMkb25FcnJvci5jYWxsKF90aGlzJHByb3BzMiwgZXJyb3IsIGluZm8pO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpZENhdGNoXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgcmVzZXRLZXlzXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBUaGVyZSdzIGFuIGVkZ2UgY2FzZSB3aGVyZSBpZiB0aGUgdGhpbmcgdGhhdCB0cmlnZ2VyZWQgdGhlIGVycm9yIGhhcHBlbnMgdG8gKmFsc28qIGJlIGluIHRoZSByZXNldEtleXMgYXJyYXksXG4gICAgLy8gd2UnZCBlbmQgdXAgcmVzZXR0aW5nIHRoZSBlcnJvciBib3VuZGFyeSBpbW1lZGlhdGVseS5cbiAgICAvLyBUaGlzIHdvdWxkIGxpa2VseSB0cmlnZ2VyIGEgc2Vjb25kIGVycm9yIHRvIGJlIHRocm93bi5cbiAgICAvLyBTbyB3ZSBtYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBjaGVjayB0aGUgcmVzZXRLZXlzIG9uIHRoZSBmaXJzdCBjYWxsIG9mIGNEVSBhZnRlciB0aGUgZXJyb3IgaXMgc2V0LlxuXG4gICAgaWYgKGRpZENhdGNoICYmIHByZXZTdGF0ZS5lcnJvciAhPT0gbnVsbCAmJiBoYXNBcnJheUNoYW5nZWQocHJldlByb3BzLnJlc2V0S2V5cywgcmVzZXRLZXlzKSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uUmVzZXQyLCBfdGhpcyRwcm9wczM7XG4gICAgICAoX3RoaXMkcHJvcHMkb25SZXNldDIgPSAoX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcykub25SZXNldCkgPT09IG51bGwgfHwgX3RoaXMkcHJvcHMkb25SZXNldDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3BzJG9uUmVzZXQyLmNhbGwoX3RoaXMkcHJvcHMzLCB7XG4gICAgICAgIG5leHQ6IHJlc2V0S2V5cyxcbiAgICAgICAgcHJldjogcHJldlByb3BzLnJlc2V0S2V5cyxcbiAgICAgICAgcmVhc29uOiBcImtleXNcIlxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIGZhbGxiYWNrUmVuZGVyLFxuICAgICAgRmFsbGJhY2tDb21wb25lbnQsXG4gICAgICBmYWxsYmFja1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIGRpZENhdGNoLFxuICAgICAgZXJyb3JcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgY2hpbGRUb1JlbmRlciA9IGNoaWxkcmVuO1xuICAgIGlmIChkaWRDYXRjaCkge1xuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICByZXNldEVycm9yQm91bmRhcnk6IHRoaXMucmVzZXRFcnJvckJvdW5kYXJ5XG4gICAgICB9O1xuICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGZhbGxiYWNrKSkge1xuICAgICAgICBjaGlsZFRvUmVuZGVyID0gZmFsbGJhY2s7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmYWxsYmFja1JlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNoaWxkVG9SZW5kZXIgPSBmYWxsYmFja1JlbmRlcihwcm9wcyk7XG4gICAgICB9IGVsc2UgaWYgKEZhbGxiYWNrQ29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkVG9SZW5kZXIgPSBjcmVhdGVFbGVtZW50KEZhbGxiYWNrQ29tcG9uZW50LCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZWFjdC1lcnJvci1ib3VuZGFyeSByZXF1aXJlcyBlaXRoZXIgYSBmYWxsYmFjaywgZmFsbGJhY2tSZW5kZXIsIG9yIEZhbGxiYWNrQ29tcG9uZW50IHByb3BcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnlDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBkaWRDYXRjaCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlc2V0RXJyb3JCb3VuZGFyeTogdGhpcy5yZXNldEVycm9yQm91bmRhcnlcbiAgICAgIH1cbiAgICB9LCBjaGlsZFRvUmVuZGVyKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzQXJyYXlDaGFuZ2VkKCkge1xuICBsZXQgYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIGxldCBiID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgcmV0dXJuIGEubGVuZ3RoICE9PSBiLmxlbmd0aCB8fCBhLnNvbWUoKGl0ZW0sIGluZGV4KSA9PiAhT2JqZWN0LmlzKGl0ZW0sIGJbaW5kZXhdKSk7XG59XG5cbmZ1bmN0aW9uIGFzc2VydEVycm9yQm91bmRhcnlDb250ZXh0KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZS5kaWRDYXRjaCAhPT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHZhbHVlLnJlc2V0RXJyb3JCb3VuZGFyeSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3JCb3VuZGFyeUNvbnRleHQgbm90IGZvdW5kXCIpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB1c2VFcnJvckJvdW5kYXJ5KCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChFcnJvckJvdW5kYXJ5Q29udGV4dCk7XG4gIGFzc2VydEVycm9yQm91bmRhcnlDb250ZXh0KGNvbnRleHQpO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBlcnJvcjogbnVsbCxcbiAgICBoYXNFcnJvcjogZmFsc2VcbiAgfSk7XG4gIGNvbnN0IG1lbW9pemVkID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIHJlc2V0Qm91bmRhcnk6ICgpID0+IHtcbiAgICAgIGNvbnRleHQgPT09IG51bGwgfHwgY29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGV4dC5yZXNldEVycm9yQm91bmRhcnkoKTtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzaG93Qm91bmRhcnk6IGVycm9yID0+IHNldFN0YXRlKHtcbiAgICAgIGVycm9yLFxuICAgICAgaGFzRXJyb3I6IHRydWVcbiAgICB9KVxuICB9KSwgW2NvbnRleHQgPT09IG51bGwgfHwgY29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGV4dC5yZXNldEVycm9yQm91bmRhcnldKTtcbiAgaWYgKHN0YXRlLmhhc0Vycm9yKSB7XG4gICAgdGhyb3cgc3RhdGUuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5mdW5jdGlvbiB3aXRoRXJyb3JCb3VuZGFyeShjb21wb25lbnQsIGVycm9yQm91bmRhcnlQcm9wcykge1xuICBjb25zdCBXcmFwcGVkID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4gY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5LCBlcnJvckJvdW5kYXJ5UHJvcHMsIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCB7XG4gICAgLi4ucHJvcHMsXG4gICAgcmVmXG4gIH0pKSk7XG5cbiAgLy8gRm9ybWF0IGZvciBkaXNwbGF5IGluIERldlRvb2xzXG4gIGNvbnN0IG5hbWUgPSBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Lm5hbWUgfHwgXCJVbmtub3duXCI7XG4gIFdyYXBwZWQuZGlzcGxheU5hbWUgPSBcIndpdGhFcnJvckJvdW5kYXJ5KFwiLmNvbmNhdChuYW1lLCBcIilcIik7XG4gIHJldHVybiBXcmFwcGVkO1xufVxuXG5leHBvcnQgeyBFcnJvckJvdW5kYXJ5LCBFcnJvckJvdW5kYXJ5Q29udGV4dCwgdXNlRXJyb3JCb3VuZGFyeSwgd2l0aEVycm9yQm91bmRhcnkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-error-boundary/dist/react-error-boundary.esm.js\n')},"./node_modules/react-reverse-portal/dist/web/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InPortal: () => (/* binding */ InPortal),\n/* harmony export */   OutPortal: () => (/* binding */ OutPortal),\n/* harmony export */   createHtmlPortalNode: () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   createSvgPortalNode: () => (/* binding */ createSvgPortalNode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = \'html\';\nvar ELEMENT_TYPE_SVG = \'svg\';\n// ReactDOM can handle several different namespaces, but they\'re not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = \'http://www.w3.org/2000/svg\';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error("Unrecognized element type \\"" + elementType + "\\" for validateElementType.");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement(\'div\');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, \'g\');\n    }\n    else {\n        throw new Error("Invalid element type \\"" + elementType + "\\" for createPortalNode: must be \\"html\\" or \\"svg\\".");\n    }\n    if (options && typeof options === "object") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode\'s elementType needs to match\n            // the elementType it\'s being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error("Invalid element type for portal: \\"" + elementType + "\\" portalNodes must be used with " + elementType + " elements, but OutPortal is within <" + newParent.tagName + ">.");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren\'t currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we\'re switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode.setPortalProps({});\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n        node.setPortalProps({});\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsMkNBQWM7QUFDbkQsaUJBQWlCLGlEQUFvQjtBQUNyQztBQUNBLG1CQUFtQiwrQ0FBa0I7QUFDckMsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDLENBQUMsZ0RBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRDQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdCQUFnQixpQkFBaUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBbUIsVUFBVSwyQkFBMkI7QUFDdkU7QUFDQTtBQUNBLENBQUMsQ0FBQyxnREFBbUI7QUFDckI7QUFDQTtBQUMyRTtBQUMzRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanM/ZTAwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG4vLyBJbnRlcm5hbGx5LCB0aGUgcG9ydGFsTm9kZSBtdXN0IGJlIGZvciBlaXRoZXIgSFRNTCBvciBTVkcgZWxlbWVudHNcbnZhciBFTEVNRU5UX1RZUEVfSFRNTCA9ICdodG1sJztcbnZhciBFTEVNRU5UX1RZUEVfU1ZHID0gJ3N2Zyc7XG4vLyBSZWFjdERPTSBjYW4gaGFuZGxlIHNldmVyYWwgZGlmZmVyZW50IG5hbWVzcGFjZXMsIGJ1dCB0aGV5J3JlIG5vdCBleHBvcnRlZCBwdWJsaWNseVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjg3YWFiZGZlMWI3NDYxZTczMzFhYmIzNjAxZDllNmJiMjc1NDRiYy9wYWNrYWdlcy9yZWFjdC1kb20vc3JjL3NoYXJlZC9ET01OYW1lc3BhY2VzLmpzI0w4LUwxMFxudmFyIFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xudmFyIHZhbGlkYXRlRWxlbWVudFR5cGUgPSBmdW5jdGlvbiAoZG9tRWxlbWVudCwgZWxlbWVudFR5cGUpIHtcbiAgICBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9IVE1MKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgfVxuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICByZXR1cm4gZG9tRWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBlbGVtZW50IHR5cGUgXFxcIlwiICsgZWxlbWVudFR5cGUgKyBcIlxcXCIgZm9yIHZhbGlkYXRlRWxlbWVudFR5cGUuXCIpO1xufTtcbi8vIFRoaXMgaXMgdGhlIGludGVybmFsIGltcGxlbWVudGF0aW9uOiB0aGUgcHVibGljIGVudHJ5IHBvaW50cyBzZXQgZWxlbWVudFR5cGUgdG8gYW4gYXBwcm9wcmlhdGUgdmFsdWVcbnZhciBjcmVhdGVQb3J0YWxOb2RlID0gZnVuY3Rpb24gKGVsZW1lbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIGluaXRpYWxQcm9wcyA9IHt9O1xuICAgIHZhciBwYXJlbnQ7XG4gICAgdmFyIGxhc3RQbGFjZWhvbGRlcjtcbiAgICB2YXIgZWxlbWVudDtcbiAgICBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9IVE1MKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9TVkcpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAnZycpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbGVtZW50IHR5cGUgXFxcIlwiICsgZWxlbWVudFR5cGUgKyBcIlxcXCIgZm9yIGNyZWF0ZVBvcnRhbE5vZGU6IG11c3QgYmUgXFxcImh0bWxcXFwiIG9yIFxcXCJzdmdcXFwiLlwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuYXR0cmlidXRlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGtleSA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBvcnRhbE5vZGUgPSB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRUeXBlOiBlbGVtZW50VHlwZSxcbiAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgaW5pdGlhbFByb3BzID0gcHJvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEluaXRpYWxQb3J0YWxQcm9wczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxQcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnQ6IGZ1bmN0aW9uIChuZXdQYXJlbnQsIG5ld1BsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBpZiAobmV3UGxhY2Vob2xkZXIgPT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgbW91bnRlZCAtIG5vb3AuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9ydGFsTm9kZS51bm1vdW50KCk7XG4gICAgICAgICAgICAvLyBUbyBzdXBwb3J0IFNWRyBhbmQgb3RoZXIgbm9uLWh0bWwgZWxlbWVudHMsIHRoZSBwb3J0YWxOb2RlJ3MgZWxlbWVudFR5cGUgbmVlZHMgdG8gbWF0Y2hcbiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50VHlwZSBpdCdzIGJlaW5nIHJlbmRlcmVkIGludG9cbiAgICAgICAgICAgIGlmIChuZXdQYXJlbnQgIT09IHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVFbGVtZW50VHlwZShuZXdQYXJlbnQsIGVsZW1lbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBmb3IgcG9ydGFsOiBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBwb3J0YWxOb2RlcyBtdXN0IGJlIHVzZWQgd2l0aCBcIiArIGVsZW1lbnRUeXBlICsgXCIgZWxlbWVudHMsIGJ1dCBPdXRQb3J0YWwgaXMgd2l0aGluIDxcIiArIG5ld1BhcmVudC50YWdOYW1lICsgXCI+LlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdQYXJlbnQucmVwbGFjZUNoaWxkKHBvcnRhbE5vZGUuZWxlbWVudCwgbmV3UGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgcGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgbGFzdFBsYWNlaG9sZGVyID0gbmV3UGxhY2Vob2xkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnQ6IGZ1bmN0aW9uIChleHBlY3RlZFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBpZiAoZXhwZWN0ZWRQbGFjZWhvbGRlciAmJiBleHBlY3RlZFBsYWNlaG9sZGVyICE9PSBsYXN0UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHVubW91bnRzIGZvciBwbGFjZWhvbGRlcnMgdGhhdCBhcmVuJ3QgY3VycmVudGx5IG1vdW50ZWRcbiAgICAgICAgICAgICAgICAvLyBUaGV5IHdpbGwgaGF2ZSBiZWVuIGF1dG9tYXRpY2FsbHkgdW5tb3VudGVkIGFscmVhZHkgYnkgYSBzdWJzZXF1ZW50IG1vdW50KClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobGFzdFBsYWNlaG9sZGVyLCBwb3J0YWxOb2RlLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBwb3J0YWxOb2RlO1xufTtcbnZhciBJblBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5Qb3J0YWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5Qb3J0YWwocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZFByb3BzQ2hhbm5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMucHJvcHMubm9kZSwge1xuICAgICAgICAgICAgICAgIHNldFBvcnRhbFByb3BzOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVyZW5kZXIgdGhlIGNoaWxkIG5vZGUgaGVyZSBpZi93aGVuIHRoZSBvdXQgcG9ydGFsIHByb3BzIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG5vZGVQcm9wczogcHJvcHMgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbm9kZVByb3BzOiBfdGhpcy5wcm9wcy5ub2RlLmdldEluaXRpYWxQb3J0YWxQcm9wcygpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEluUG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRkUHJvcHNDaGFubmVsKCk7XG4gICAgfTtcbiAgICBJblBvcnRhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgX3RoaXMuc3RhdGUubm9kZVByb3BzKTtcbiAgICAgICAgfSksIG5vZGUuZWxlbWVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW5Qb3J0YWw7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpKTtcbnZhciBPdXRQb3J0YWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE91dFBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRQb3J0YWwocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBsYWNlaG9sZGVyTm9kZSA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgICAgICBfdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvcHNGb3JUYXJnZXQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCB7IG5vZGU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgdGhpcy5wcm9wcy5ub2RlLnNldFBvcnRhbFByb3BzKHByb3BzRm9yVGFyZ2V0KTtcbiAgICB9O1xuICAgIE91dFBvcnRhbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudDtcbiAgICAgICAgdmFyIHBhcmVudCA9IHBsYWNlaG9sZGVyLnBhcmVudE5vZGU7XG4gICAgICAgIG5vZGUubW91bnQocGFyZW50LCBwbGFjZWhvbGRlcik7XG4gICAgICAgIHRoaXMucGFzc1Byb3BzVGhyb3VnaFBvcnRhbCgpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdlIHJlLW1vdW50IG9uIHVwZGF0ZSwganVzdCBpbiBjYXNlIHdlIHdlcmUgdW5tb3VudGVkIChlLmcuIGJ5XG4gICAgICAgIC8vIGEgc2Vjb25kIE91dFBvcnRhbCwgd2hpY2ggaGFzIG5vdyBiZWVuIHJlbW92ZWQpXG4gICAgICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlO1xuICAgICAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgcG9ydGFsIG5vZGVzLCB3ZSBuZWVkIHRvIGNsZWFuIHVwIHRoZSBjdXJyZW50IG9uZSBmaXJzdC5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvcnRhbE5vZGUgJiYgbm9kZSAhPT0gdGhpcy5jdXJyZW50UG9ydGFsTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9ydGFsTm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9ydGFsTm9kZS5zZXRQb3J0YWxQcm9wcyh7fSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgICAgICBub2RlLnNldFBvcnRhbFByb3BzKHt9KTtcbiAgICB9O1xuICAgIE91dFBvcnRhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW5kZXIgYSBwbGFjZWhvbGRlciB0byB0aGUgRE9NLCBzbyB3ZSBjYW4gZ2V0IGEgcmVmZXJlbmNlIGludG9cbiAgICAgICAgLy8gb3VyIGxvY2F0aW9uIGluIHRoZSBET00sIGFuZCBzd2FwIGl0IG91dCBmb3IgdGhlIHBvcnRhbGVkIG5vZGUuXG4gICAgICAgIC8vIEEgPGRpdj4gcGxhY2Vob2xkZXIgd29ya3MgZmluZSBldmVuIGZvciBTVkcuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiB0aGlzLnBsYWNlaG9sZGVyTm9kZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPdXRQb3J0YWw7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpKTtcbnZhciBjcmVhdGVIdG1sUG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUuYmluZChudWxsLCBFTEVNRU5UX1RZUEVfSFRNTCk7XG52YXIgY3JlYXRlU3ZnUG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUuYmluZChudWxsLCBFTEVNRU5UX1RZUEVfU1ZHKTtcbmV4cG9ydCB7IGNyZWF0ZUh0bWxQb3J0YWxOb2RlLCBjcmVhdGVTdmdQb3J0YWxOb2RlLCBJblBvcnRhbCwgT3V0UG9ydGFsLCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n')},"./node_modules/requestidlecallback/index.js":(module,exports,__webpack_require__)=>{eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n")},react:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE_react__},"react-dom":Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE_react_dom__}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.exports}__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/InfiniteGridScroller.tsx");return __webpack_exports__})()));