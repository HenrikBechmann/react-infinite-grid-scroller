/*! For license information please see build.js.LICENSE.txt */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],F):"object"==typeof exports?exports["react-infinite-grid-scroller"]=F(require("react"),require("react-dom")):Q["react-infinite-grid-scroller"]=F(Q.react,Q["react-dom"])}(self,((__WEBPACK_EXTERNAL_MODULE_react__,__WEBPACK_EXTERNAL_MODULE_react_dom__)=>(()=>{var __webpack_modules__={"./src/CellFrame.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// CellFrame.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of CellFrame is to fetch user content from the cache, or from the host (using getItem).\n    While an item is being fetched, CellFrame presents a placeholder (either the default or an\n    imported custom version). If there is an error in fetching content then the placeholder is used\n    to present the error to the user. If a new itemID is set by the parent (to synchronize with an altered\n    cache), then CellFrame replaces the old item with the new item.\n\n    getItem (which is a function provided by the host) can return one of several values:\n        - a React component\n        - a promise of a component\n        - null\n        - undefined\n    Anything else is treated as an error\n\n    if a promise is returned, then the promise returns a React component, null or undefined.\n\n    If a valid react component is returned from getItem, then it is instantiated in the cache, and rendered in the\n    CellFrame. If null is returned, then CellFrame sends a message to its scroller that the host has\n    indicated the the item being fetched instead represents the end of the list, and the listsize should\n    be adjusted accordingly. Any other value that is returned is treated as an error, and presented\n    as such to the user through the placeholder component.\n\n    getItem sends the index (logical index in the list) and a session itemID to the host, so that\n    the host can sync its own tracking with the scroller.\n\n    One CellFrame at a time is designated as the host of the two triggerLines with the isTriggerCell flag.\n    The triggerlines trigger an update of the Cradle through an IntersectionObserver.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar requestidlecallback_1 = __webpack_require__(/*! requestidlecallback */ "./node_modules/requestidlecallback/index.js"); // polyfill if needed\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ "./node_modules/react-reverse-portal/dist/web/index.js"); // fetch from cache\nvar Placeholder_1 = __importDefault(__webpack_require__(/*! ./cellframe/Placeholder */ "./src/cellframe/Placeholder.tsx")); // default\nvar Cradle_1 = __webpack_require__(/*! ./Cradle */ "./src/Cradle.tsx");\nvar defaultPlaceholderMessages = {\n  loading: \'(loading...)\',\n  retrieving: \'(retrieving from cache)\',\n  "null": \'end of list\',\n  undefined: \'host returned "undefined"\',\n  invalid: \'invalid React element\'\n};\nvar CellFrame = function CellFrame(_ref) {\n  var orientation = _ref.orientation,\n    cellHeight = _ref.cellHeight,\n    cellWidth = _ref.cellWidth,\n    cellMinHeight = _ref.cellMinHeight,\n    cellMinWidth = _ref.cellMinWidth,\n    layout = _ref.layout,\n    getItem = _ref.getItem,\n    listsize = _ref.listsize,\n    placeholder = _ref.placeholder,\n    itemID = _ref.itemID,\n    index = _ref.index,\n    instanceID = _ref.instanceID,\n    scrollerID = _ref.scrollerID,\n    isTriggercell = _ref.isTriggercell,\n    placeholderFrameStyles = _ref.placeholderFrameStyles,\n    placeholderLinerStyles = _ref.placeholderLinerStyles,\n    placeholderErrorFrameStyles = _ref.placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles = _ref.placeholderErrorLinerStyles,\n    placeholderMessages = _ref.placeholderMessages,\n    usePlaceholder = _ref.usePlaceholder,\n    gridstartstyle = _ref.gridstartstyle;\n  var coreConfigRef = (0, react_1.useRef)(null);\n  coreConfigRef.current = {\n    orientation: orientation,\n    layout: layout,\n    cellWidth: cellWidth,\n    cellHeight: cellHeight\n  };\n  // ----------------------[ setup ]----------------------\n  var cradleContext = (0, react_1.useContext)(Cradle_1.CradleContext);\n  var cacheAPI = cradleContext.cacheAPI,\n    scrollerPropertiesRef = cradleContext.scrollerPropertiesRef,\n    nullItemSetMaxListsize = cradleContext.nullItemSetMaxListsize,\n    itemExceptionCallback = cradleContext.itemExceptionCallback,\n    IDLECALLBACK_TIMEOUT = cradleContext.IDLECALLBACK_TIMEOUT,\n    triggercellTriggerlinesRef = cradleContext.triggercellTriggerlinesRef;\n  // style change generates state refresh\n  var stylesRef = (0, react_1.useRef)({});\n  var holderStylesRef = (0, react_1.useRef)({});\n  var placeholderMessagesRef = (0, react_1.useRef)(null);\n  placeholderMessagesRef.current = (0, react_1.useMemo)(function () {\n    var newMessages = Object.assign(Object.assign({}, defaultPlaceholderMessages), placeholderMessages);\n    return newMessages;\n  }, [placeholderMessages]);\n  // processing state\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    frameState = _ref3[0],\n    setFrameState = _ref3[1];\n  var frameStateRef = (0, react_1.useRef)(null);\n  frameStateRef.current = frameState;\n  // DOM ref\n  var frameRef = (0, react_1.useRef)(null);\n  // to track unmount interrupt\n  var isMountedRef = (0, react_1.useRef)(true);\n  // cache data\n  var portalMetadataRef = (0, react_1.useRef)(null);\n  // the placeholder to use\n  var placeholderRef = (0, react_1.useRef)(null);\n  // the session itemID to use; could be updated by parent\n  var itemIDRef = (0, react_1.useRef)(null);\n  itemIDRef.current = itemID;\n  var cellFramePropertiesRef = (0, react_1.useRef)(null);\n  cellFramePropertiesRef.current = {\n    itemID: itemID,\n    index: index\n  };\n  // fetch error\n  var errorRef = (0, react_1.useRef)(false);\n  // placeholder message\n  var messageRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  // for unmount\n  (0, react_1.useEffect)(function () {\n    return function () {\n      cancelidlecallback(requestIdleCallbackIdRef.current);\n      cacheAPI.unregisterPendingPortal(index);\n    };\n  }, []);\n  // refresh content if itemID changes\n  (0, react_1.useLayoutEffect)(function () {\n    if (frameStateRef.current == \'setup\') return;\n    if (isMountedRef.current) setFrameState(\'getusercontent\');\n  }, [itemID]);\n  // ----------------- [ placeholder definition ] -------------------------\n  var customplaceholder = (0, react_1.useMemo)(function () {\n    if (!usePlaceholder) return null;\n    return placeholder ? react_1["default"].createElement(placeholder, {\n      index: index,\n      listsize: listsize,\n      message: messageRef.current,\n      error: errorRef.current\n    }) : null;\n  }, [index, placeholder, listsize, messageRef.current, errorRef.current, usePlaceholder]);\n  placeholderRef.current = (0, react_1.useMemo)(function () {\n    if (!usePlaceholder) return null;\n    var placeholder = customplaceholder ? customplaceholder : react_1["default"].createElement(Placeholder_1["default"], {\n      key: \'placeholder\',\n      index: index,\n      listsize: listsize,\n      message: messageRef.current,\n      error: errorRef.current,\n      userFrameStyles: placeholderFrameStyles,\n      userLinerStyles: placeholderLinerStyles,\n      userErrorFrameStyles: placeholderErrorFrameStyles,\n      userErrorLinerStyles: placeholderErrorLinerStyles\n    });\n    return placeholder;\n  }, [index, customplaceholder, listsize, messageRef.current, errorRef.current, usePlaceholder, placeholderFrameStyles, placeholderLinerStyles, placeholderErrorFrameStyles, placeholderErrorLinerStyles]);\n  // ---------------- [ requestidlecallback config ] ------------------------\n  var requestidlecallback =\n  // requestIdleCallback\n  window[\'requestIdleCallback\'] ? window[\'requestIdleCallback\'] : requestidlecallback_1.requestIdleCallback;\n  var cancelidlecallback =\n  // cancelIdleCallback\n  window[\'cancelIdleCallback\'] ? window[\'cancelIdleCallback\'] : requestidlecallback_1.cancelIdleCallback;\n  var requestIdleCallbackIdRef = (0, react_1.useRef)(null);\n  // --------------------[ processing ]-----------------\n  // set styles\n  (0, react_1.useEffect)(function () {\n    var newFrameStyles = getFrameStyles(orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, stylesRef.current);\n    if (gridstartstyle) {\n      newFrameStyles = Object.assign(Object.assign({}, newFrameStyles), gridstartstyle);\n    }\n    var newHolderStyles = getContentHolderStyles(layout, orientation, cellMinWidth, cellMinHeight);\n    if (isMountedRef.current) {\n      stylesRef.current = newFrameStyles;\n      holderStylesRef.current = newHolderStyles;\n    }\n  }, [orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, gridstartstyle]);\n  var portalNodeRef = (0, react_1.useRef)(null);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (frameState) {\n      case \'setup\':\n        {\n          setFrameState(\'working\'); // \'getusercontent\' will be called\n          break;\n        }\n      case \'working\':\n        {\n          setFrameState(\'getusercontent\'); // delay paint while working\n          break;\n        }\n      case \'getusercontent\':\n        {\n          var _itemID = itemIDRef.current;\n          var cached = cacheAPI.hasPortal(_itemID);\n          var _coreConfigRef$curren = coreConfigRef.current,\n            _layout = _coreConfigRef$curren.layout,\n            _orientation = _coreConfigRef$curren.orientation,\n            _cellWidth = _coreConfigRef$curren.cellWidth,\n            _cellHeight = _coreConfigRef$curren.cellHeight;\n          if (cached) {\n            messageRef.current = placeholderMessagesRef.current.retrieving;\n            if (isMountedRef.current) {\n              // get cache data\n              portalMetadataRef.current = cacheAPI.getPortalMetadata(_itemID);\n              // update cell and scroller properties ref in case of switch in either\n              portalMetadataRef.current.scrollerProperties.cellFramePropertiesRef = cellFramePropertiesRef;\n              portalMetadataRef.current.scrollerProperties.scrollerPropertiesRef = scrollerPropertiesRef;\n              // get OutPortal node\n              portalNodeRef.current = portalMetadataRef.current.portalNode;\n              setContainerStyles(portalNodeRef.current.element, _layout, _orientation, _cellWidth, _cellHeight);\n              setFrameState(\'retrieved\');\n            }\n          } else {\n            messageRef.current = placeholderMessagesRef.current.loading;\n            // reserve space in the cache\n            cacheAPI.registerPendingPortal(index);\n            // enqueue the fetch\n            requestIdleCallbackIdRef.current = requestidlecallback(function () {\n              return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                var _a, _b, returnvalue, usercontent, error, isValidElement, content, scrollerProperties, addinCount, addinProps, retval;\n                return _regeneratorRuntime().wrap(function _callee$(_context) {\n                  while (1) switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return getItem(index, _itemID);\n                    case 3:\n                      usercontent = _context.sent;\n                      if (usercontent === null) returnvalue = usercontent;\n                      if (usercontent === undefined) {\n                        error = new Error(placeholderMessagesRef.current.undefined);\n                      }\n                      _context.next = 12;\n                      break;\n                    case 8:\n                      _context.prev = 8;\n                      _context.t0 = _context["catch"](0);\n                      returnvalue = usercontent = undefined;\n                      error = _context.t0;\n                    case 12:\n                      // process the return value\n                      if (usercontent !== null && usercontent !== undefined) {\n                        isValidElement = react_1["default"].isValidElement(usercontent);\n                        if (!isValidElement) {\n                          returnvalue = usercontent;\n                          usercontent = undefined;\n                          error = new Error(placeholderMessagesRef.current.invalid);\n                        }\n                      }\n                      if (!isMountedRef.current) {\n                        _context.next = 30;\n                        break;\n                      }\n                      if (!(usercontent !== null && usercontent !== undefined)) {\n                        _context.next = 28;\n                        break;\n                      }\n                      // if usercontent is otherwise disallowed, let error handling deal with it.\n                      scrollerProperties = {\n                        cellFramePropertiesRef: cellFramePropertiesRef,\n                        scrollerPropertiesRef: scrollerPropertiesRef\n                      };\n                      addinCount = 0;\n                      addinProps = {};\n                      if ((_a = usercontent.props) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(\'scrollerProperties\')) {\n                        addinProps.scrollerProperties = scrollerProperties;\n                        addinCount++;\n                      }\n                      if ((_b = usercontent.props) === null || _b === void 0 ? void 0 : _b.hasOwnProperty(\'cacheAPI\')) {\n                        addinProps.cacheAPI = cacheAPI.instance;\n                        addinCount++;\n                      }\n                      if (addinCount) {\n                        content = react_1["default"].cloneElement(usercontent, addinProps);\n                      } else {\n                        content = usercontent;\n                      }\n                      _context.next = 23;\n                      return cacheAPI.createPortal(content, index, _itemID, scrollerProperties);\n                    case 23:\n                      retval = portalMetadataRef.current = _context.sent;\n                      if (retval) {\n                        portalNodeRef.current = portalMetadataRef.current.portalNode;\n                        setContainerStyles(portalNodeRef.current.element, _layout, _orientation, _cellWidth, _cellHeight);\n                      }\n                      isMountedRef.current && setFrameState(\'inserting\');\n                      _context.next = 30;\n                      break;\n                    case 28:\n                      // null or undefined; handle non-component value\n                      cacheAPI.unregisterPendingPortal(index); // create portal failed\n                      if (usercontent === null) {\n                        // truncate listsize at this index\n                        itemExceptionCallback && itemExceptionCallback(index, _itemID, returnvalue, \'cellFrame\', new Error(placeholderMessagesRef.current["null"]));\n                        nullItemSetMaxListsize(index);\n                      } else {\n                        // usercontent === undefined, meaning an error has occurred\n                        // change placeholder message to error message\n                        errorRef.current = error;\n                        // notify the host\n                        itemExceptionCallback && itemExceptionCallback(index, _itemID, returnvalue, \'cellFrame\', error);\n                        isMountedRef.current && setFrameState(\'error\');\n                      }\n                    case 30:\n                    case "end":\n                      return _context.stop();\n                  }\n                }, _callee, null, [[0, 8]]);\n              }));\n            }, {\n              timeout: IDLECALLBACK_TIMEOUT\n            });\n          }\n          break;\n        }\n      case \'inserting\':\n      case \'retrieved\':\n        {\n          setFrameState(\'ready\');\n          break;\n        }\n    }\n  }, [frameState]);\n  // Note: the contentholder type layer is included to provide an anchor for the triggerlines.\n  return react_1["default"].createElement("div", {\n    ref: frameRef,\n    "data-type": \'cellframe\',\n    "data-scrollerid": scrollerID,\n    "data-index": index,\n    "data-instanceid": instanceID,\n    style: stylesRef.current\n  }, frameState != \'setup\' ? react_1["default"].createElement("div", {\n    "data-type": \'contentholder\',\n    style: holderStylesRef.current\n  }, frameState != \'ready\' ? placeholderRef.current : react_1["default"].createElement(react_reverse_portal_1.OutPortal, {\n    key: \'portal\',\n    node: portalNodeRef.current\n  })) : react_1["default"].createElement("div", null), isTriggercell ? triggercellTriggerlinesRef.current : null);\n}; // CellFrame\nexports["default"] = CellFrame;\n// utilities\nvar getFrameStyles = function getFrameStyles(orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, layout, styles) {\n  var styleset = Object.assign(Object.assign({}, styles), {\n    position: \'relative\',\n    overflow: \'visible\'\n  });\n  if (orientation === \'vertical\') {\n    styleset.width = null;\n    if (layout == \'uniform\') {\n      styleset.height = cellHeight + \'px\';\n      styleset.minHeight = null;\n      styleset.maxHeight = null;\n    } else {\n      // \'variable\'\n      styleset.height = null;\n      styleset.minHeight = cellMinHeight + \'px\';\n      styleset.maxHeight = cellHeight + \'px\';\n    }\n  } else {\n    // \'horizontal\'\n    styleset.height = null;\n    if (layout == \'uniform\') {\n      styleset.width = cellWidth + \'px\';\n      styleset.minWidth = null;\n      styleset.maxWidth = null;\n    } else {\n      // \'variable\'\n      styleset.width = null;\n      styleset.minWidth = cellMinWidth + \'px\';\n      styleset.maxWidth = cellWidth + \'px\';\n    }\n  }\n  return styleset;\n};\nvar getContentHolderStyles = function getContentHolderStyles(layout, orientation, cellMinWidth, cellMinHeight) {\n  var styles = {};\n  if (layout == \'uniform\') {\n    styles = {\n      inset: \'0px\',\n      position: \'absolute\',\n      height: null,\n      width: null,\n      minWidth: null,\n      minHeight: null\n    };\n  } else {\n    // variable\n    styles.inset = null;\n    styles.position = null;\n    if (orientation == \'vertical\') {\n      styles.width = \'100%\';\n      styles.height = null;\n      styles.minWidth = null;\n      styles.minHeight = cellMinHeight + \'px\';\n    } else {\n      styles.width = null;\n      styles.height = \'100%\';\n      styles.minWidth = cellMinWidth + \'px\';\n      styles.minHeight = null;\n    }\n  }\n  return styles;\n};\n// see also some base styles set in cacheAPI\nvar setContainerStyles = function setContainerStyles(container, layout, orientation, cellWidth, cellHeight) {\n  container.style.overflow = \'hidden\';\n  if (layout == \'uniform\') {\n    container.style.inset = \'0px\';\n    container.style.position = \'absolute\';\n    container.style.maxWidth = null;\n    container.style.maxHeight = null;\n    container.style.height = null;\n    container.style.width = null;\n  } else {\n    // variable\n    container.style.inset = null;\n    container.style.position = null;\n    if (orientation == \'vertical\') {\n      container.style.width = \'100%\';\n      container.style.height = null;\n      container.style.maxWidth = null;\n      container.style.maxHeight = cellHeight + \'px\';\n    } else {\n      container.style.width = null;\n      container.style.height = \'100%\';\n      container.style.maxWidth = cellWidth + \'px\';\n      container.style.maxHeight = null;\n    }\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQ2VsbEZyYW1lLnRzeCIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQSxTQUFBQSxRQUFBQyxDQUFBLHNDQUFBRCxPQUFBLHdCQUFBRSxNQUFBLHVCQUFBQSxNQUFBLENBQUFDLFFBQUEsYUFBQUYsQ0FBQSxrQkFBQUEsQ0FBQSxnQkFBQUEsQ0FBQSxXQUFBQSxDQUFBLHlCQUFBQyxNQUFBLElBQUFELENBQUEsQ0FBQUcsV0FBQSxLQUFBRixNQUFBLElBQUFELENBQUEsS0FBQUMsTUFBQSxDQUFBRyxTQUFBLHFCQUFBSixDQUFBLEtBQUFELE9BQUEsQ0FBQUMsQ0FBQTtBQUFBLFNBQUFLLG9CQUFBLGtCQURBLHFKQUFBQSxtQkFBQSxZQUFBQSxvQkFBQSxXQUFBQyxDQUFBLFNBQUFDLENBQUEsRUFBQUQsQ0FBQSxPQUFBRSxDQUFBLEdBQUFDLE1BQUEsQ0FBQUwsU0FBQSxFQUFBTSxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsY0FBQSxFQUFBWCxDQUFBLEdBQUFTLE1BQUEsQ0FBQUcsY0FBQSxjQUFBTCxDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxJQUFBRCxDQUFBLENBQUFELENBQUEsSUFBQUUsQ0FBQSxDQUFBSyxLQUFBLEtBQUFDLENBQUEsd0JBQUFiLE1BQUEsR0FBQUEsTUFBQSxPQUFBYyxDQUFBLEdBQUFELENBQUEsQ0FBQVosUUFBQSxrQkFBQWMsQ0FBQSxHQUFBRixDQUFBLENBQUFHLGFBQUEsdUJBQUFDLENBQUEsR0FBQUosQ0FBQSxDQUFBSyxXQUFBLDhCQUFBQyxPQUFBYixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxXQUFBQyxNQUFBLENBQUFHLGNBQUEsQ0FBQUwsQ0FBQSxFQUFBRCxDQUFBLElBQUFPLEtBQUEsRUFBQUwsQ0FBQSxFQUFBYSxVQUFBLE1BQUFDLFlBQUEsTUFBQUMsUUFBQSxTQUFBaEIsQ0FBQSxDQUFBRCxDQUFBLFdBQUFjLE1BQUEsbUJBQUFiLENBQUEsSUFBQWEsTUFBQSxZQUFBQSxPQUFBYixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxXQUFBRCxDQUFBLENBQUFELENBQUEsSUFBQUUsQ0FBQSxnQkFBQWdCLEtBQUFqQixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFJLENBQUEsR0FBQVIsQ0FBQSxJQUFBQSxDQUFBLENBQUFGLFNBQUEsWUFBQXFCLFNBQUEsR0FBQW5CLENBQUEsR0FBQW1CLFNBQUEsRUFBQVYsQ0FBQSxHQUFBTixNQUFBLENBQUFpQixNQUFBLENBQUFaLENBQUEsQ0FBQVYsU0FBQSxHQUFBWSxDQUFBLE9BQUFXLE9BQUEsQ0FBQWpCLENBQUEsZ0JBQUFWLENBQUEsQ0FBQWUsQ0FBQSxlQUFBRixLQUFBLEVBQUFlLGdCQUFBLENBQUFyQixDQUFBLEVBQUFDLENBQUEsRUFBQVEsQ0FBQSxNQUFBRCxDQUFBLGFBQUFjLFNBQUF0QixDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxtQkFBQXNCLElBQUEsWUFBQUMsR0FBQSxFQUFBeEIsQ0FBQSxDQUFBeUIsSUFBQSxDQUFBMUIsQ0FBQSxFQUFBRSxDQUFBLGNBQUFELENBQUEsYUFBQXVCLElBQUEsV0FBQUMsR0FBQSxFQUFBeEIsQ0FBQSxRQUFBRCxDQUFBLENBQUFrQixJQUFBLEdBQUFBLElBQUEsTUFBQVMsQ0FBQSxxQkFBQUMsQ0FBQSxxQkFBQUMsQ0FBQSxnQkFBQUMsQ0FBQSxnQkFBQUMsQ0FBQSxnQkFBQVosVUFBQSxjQUFBYSxrQkFBQSxjQUFBQywyQkFBQSxTQUFBQyxDQUFBLE9BQUFwQixNQUFBLENBQUFvQixDQUFBLEVBQUF6QixDQUFBLHFDQUFBMEIsQ0FBQSxHQUFBaEMsTUFBQSxDQUFBaUMsY0FBQSxFQUFBQyxDQUFBLEdBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBQSxDQUFBLENBQUFHLE1BQUEsUUFBQUQsQ0FBQSxJQUFBQSxDQUFBLEtBQUFuQyxDQUFBLElBQUFFLENBQUEsQ0FBQXNCLElBQUEsQ0FBQVcsQ0FBQSxFQUFBNUIsQ0FBQSxNQUFBeUIsQ0FBQSxHQUFBRyxDQUFBLE9BQUFFLENBQUEsR0FBQU4sMEJBQUEsQ0FBQW5DLFNBQUEsR0FBQXFCLFNBQUEsQ0FBQXJCLFNBQUEsR0FBQUssTUFBQSxDQUFBaUIsTUFBQSxDQUFBYyxDQUFBLFlBQUFNLHNCQUFBdkMsQ0FBQSxnQ0FBQXdDLE9BQUEsV0FBQXpDLENBQUEsSUFBQWMsTUFBQSxDQUFBYixDQUFBLEVBQUFELENBQUEsWUFBQUMsQ0FBQSxnQkFBQXlDLE9BQUEsQ0FBQTFDLENBQUEsRUFBQUMsQ0FBQSxzQkFBQTBDLGNBQUExQyxDQUFBLEVBQUFELENBQUEsYUFBQTRDLE9BQUExQyxDQUFBLEVBQUFSLENBQUEsRUFBQWMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQWEsUUFBQSxDQUFBdEIsQ0FBQSxDQUFBQyxDQUFBLEdBQUFELENBQUEsRUFBQVAsQ0FBQSxtQkFBQWdCLENBQUEsQ0FBQWMsSUFBQSxRQUFBWixDQUFBLEdBQUFGLENBQUEsQ0FBQWUsR0FBQSxFQUFBRSxDQUFBLEdBQUFmLENBQUEsQ0FBQUwsS0FBQSxTQUFBb0IsQ0FBQSxnQkFBQWxDLE9BQUEsQ0FBQWtDLENBQUEsS0FBQXZCLENBQUEsQ0FBQXNCLElBQUEsQ0FBQUMsQ0FBQSxlQUFBM0IsQ0FBQSxDQUFBNkMsT0FBQSxDQUFBbEIsQ0FBQSxDQUFBbUIsT0FBQSxFQUFBQyxJQUFBLFdBQUE5QyxDQUFBLElBQUEyQyxNQUFBLFNBQUEzQyxDQUFBLEVBQUFPLENBQUEsRUFBQUMsQ0FBQSxnQkFBQVIsQ0FBQSxJQUFBMkMsTUFBQSxVQUFBM0MsQ0FBQSxFQUFBTyxDQUFBLEVBQUFDLENBQUEsUUFBQVQsQ0FBQSxDQUFBNkMsT0FBQSxDQUFBbEIsQ0FBQSxFQUFBb0IsSUFBQSxXQUFBOUMsQ0FBQSxJQUFBVyxDQUFBLENBQUFMLEtBQUEsR0FBQU4sQ0FBQSxFQUFBTyxDQUFBLENBQUFJLENBQUEsZ0JBQUFYLENBQUEsV0FBQTJDLE1BQUEsVUFBQTNDLENBQUEsRUFBQU8sQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsQ0FBQUMsQ0FBQSxDQUFBZSxHQUFBLFNBQUF2QixDQUFBLEVBQUFSLENBQUEsb0JBQUFhLEtBQUEsV0FBQUEsTUFBQU4sQ0FBQSxFQUFBRyxDQUFBLGFBQUE0QywyQkFBQSxlQUFBaEQsQ0FBQSxXQUFBQSxDQUFBLEVBQUFFLENBQUEsSUFBQTBDLE1BQUEsQ0FBQTNDLENBQUEsRUFBQUcsQ0FBQSxFQUFBSixDQUFBLEVBQUFFLENBQUEsZ0JBQUFBLENBQUEsR0FBQUEsQ0FBQSxHQUFBQSxDQUFBLENBQUE2QyxJQUFBLENBQUFDLDBCQUFBLEVBQUFBLDBCQUFBLElBQUFBLDBCQUFBLHFCQUFBMUIsaUJBQUF0QixDQUFBLEVBQUFFLENBQUEsRUFBQUUsQ0FBQSxRQUFBVixDQUFBLEdBQUFpQyxDQUFBLG1CQUFBbkIsQ0FBQSxFQUFBQyxDQUFBLFFBQUFmLENBQUEsS0FBQW1DLENBQUEsWUFBQW9CLEtBQUEsc0NBQUF2RCxDQUFBLEtBQUFvQyxDQUFBLG9CQUFBdEIsQ0FBQSxRQUFBQyxDQUFBLFdBQUFGLEtBQUEsRUFBQU4sQ0FBQSxFQUFBaUQsSUFBQSxlQUFBOUMsQ0FBQSxDQUFBK0MsTUFBQSxHQUFBM0MsQ0FBQSxFQUFBSixDQUFBLENBQUFxQixHQUFBLEdBQUFoQixDQUFBLFVBQUFDLENBQUEsR0FBQU4sQ0FBQSxDQUFBZ0QsUUFBQSxNQUFBMUMsQ0FBQSxRQUFBRSxDQUFBLEdBQUF5QyxtQkFBQSxDQUFBM0MsQ0FBQSxFQUFBTixDQUFBLE9BQUFRLENBQUEsUUFBQUEsQ0FBQSxLQUFBbUIsQ0FBQSxtQkFBQW5CLENBQUEscUJBQUFSLENBQUEsQ0FBQStDLE1BQUEsRUFBQS9DLENBQUEsQ0FBQWtELElBQUEsR0FBQWxELENBQUEsQ0FBQW1ELEtBQUEsR0FBQW5ELENBQUEsQ0FBQXFCLEdBQUEsc0JBQUFyQixDQUFBLENBQUErQyxNQUFBLFFBQUF6RCxDQUFBLEtBQUFpQyxDQUFBLFFBQUFqQyxDQUFBLEdBQUFvQyxDQUFBLEVBQUExQixDQUFBLENBQUFxQixHQUFBLEVBQUFyQixDQUFBLENBQUFvRCxpQkFBQSxDQUFBcEQsQ0FBQSxDQUFBcUIsR0FBQSx1QkFBQXJCLENBQUEsQ0FBQStDLE1BQUEsSUFBQS9DLENBQUEsQ0FBQXFELE1BQUEsV0FBQXJELENBQUEsQ0FBQXFCLEdBQUEsR0FBQS9CLENBQUEsR0FBQW1DLENBQUEsTUFBQUssQ0FBQSxHQUFBWCxRQUFBLENBQUF2QixDQUFBLEVBQUFFLENBQUEsRUFBQUUsQ0FBQSxvQkFBQThCLENBQUEsQ0FBQVYsSUFBQSxRQUFBOUIsQ0FBQSxHQUFBVSxDQUFBLENBQUE4QyxJQUFBLEdBQUFwQixDQUFBLEdBQUFGLENBQUEsRUFBQU0sQ0FBQSxDQUFBVCxHQUFBLEtBQUFNLENBQUEscUJBQUF4QixLQUFBLEVBQUEyQixDQUFBLENBQUFULEdBQUEsRUFBQXlCLElBQUEsRUFBQTlDLENBQUEsQ0FBQThDLElBQUEsa0JBQUFoQixDQUFBLENBQUFWLElBQUEsS0FBQTlCLENBQUEsR0FBQW9DLENBQUEsRUFBQTFCLENBQUEsQ0FBQStDLE1BQUEsWUFBQS9DLENBQUEsQ0FBQXFCLEdBQUEsR0FBQVMsQ0FBQSxDQUFBVCxHQUFBLG1CQUFBNEIsb0JBQUFyRCxDQUFBLEVBQUFFLENBQUEsUUFBQUUsQ0FBQSxHQUFBRixDQUFBLENBQUFpRCxNQUFBLEVBQUF6RCxDQUFBLEdBQUFNLENBQUEsQ0FBQUosUUFBQSxDQUFBUSxDQUFBLE9BQUFWLENBQUEsS0FBQU8sQ0FBQSxTQUFBQyxDQUFBLENBQUFrRCxRQUFBLHFCQUFBaEQsQ0FBQSxJQUFBSixDQUFBLENBQUFKLFFBQUEsZUFBQU0sQ0FBQSxDQUFBaUQsTUFBQSxhQUFBakQsQ0FBQSxDQUFBdUIsR0FBQSxHQUFBeEIsQ0FBQSxFQUFBb0QsbUJBQUEsQ0FBQXJELENBQUEsRUFBQUUsQ0FBQSxlQUFBQSxDQUFBLENBQUFpRCxNQUFBLGtCQUFBL0MsQ0FBQSxLQUFBRixDQUFBLENBQUFpRCxNQUFBLFlBQUFqRCxDQUFBLENBQUF1QixHQUFBLE9BQUFpQyxTQUFBLHVDQUFBdEQsQ0FBQSxpQkFBQTJCLENBQUEsTUFBQXZCLENBQUEsR0FBQWUsUUFBQSxDQUFBN0IsQ0FBQSxFQUFBTSxDQUFBLENBQUFKLFFBQUEsRUFBQU0sQ0FBQSxDQUFBdUIsR0FBQSxtQkFBQWpCLENBQUEsQ0FBQWdCLElBQUEsU0FBQXRCLENBQUEsQ0FBQWlELE1BQUEsWUFBQWpELENBQUEsQ0FBQXVCLEdBQUEsR0FBQWpCLENBQUEsQ0FBQWlCLEdBQUEsRUFBQXZCLENBQUEsQ0FBQWtELFFBQUEsU0FBQXJCLENBQUEsTUFBQXRCLENBQUEsR0FBQUQsQ0FBQSxDQUFBaUIsR0FBQSxTQUFBaEIsQ0FBQSxHQUFBQSxDQUFBLENBQUF5QyxJQUFBLElBQUFoRCxDQUFBLENBQUFGLENBQUEsQ0FBQTJELFVBQUEsSUFBQWxELENBQUEsQ0FBQUYsS0FBQSxFQUFBTCxDQUFBLENBQUEwRCxJQUFBLEdBQUE1RCxDQUFBLENBQUE2RCxPQUFBLGVBQUEzRCxDQUFBLENBQUFpRCxNQUFBLEtBQUFqRCxDQUFBLENBQUFpRCxNQUFBLFdBQUFqRCxDQUFBLENBQUF1QixHQUFBLEdBQUF4QixDQUFBLEdBQUFDLENBQUEsQ0FBQWtELFFBQUEsU0FBQXJCLENBQUEsSUFBQXRCLENBQUEsSUFBQVAsQ0FBQSxDQUFBaUQsTUFBQSxZQUFBakQsQ0FBQSxDQUFBdUIsR0FBQSxPQUFBaUMsU0FBQSxzQ0FBQXhELENBQUEsQ0FBQWtELFFBQUEsU0FBQXJCLENBQUEsY0FBQStCLGFBQUE3RCxDQUFBLFFBQUFELENBQUEsS0FBQStELE1BQUEsRUFBQTlELENBQUEsWUFBQUEsQ0FBQSxLQUFBRCxDQUFBLENBQUFnRSxRQUFBLEdBQUEvRCxDQUFBLFdBQUFBLENBQUEsS0FBQUQsQ0FBQSxDQUFBaUUsVUFBQSxHQUFBaEUsQ0FBQSxLQUFBRCxDQUFBLENBQUFrRSxRQUFBLEdBQUFqRSxDQUFBLFdBQUFrRSxVQUFBLENBQUFDLElBQUEsQ0FBQXBFLENBQUEsY0FBQXFFLGNBQUFwRSxDQUFBLFFBQUFELENBQUEsR0FBQUMsQ0FBQSxDQUFBcUUsVUFBQSxRQUFBdEUsQ0FBQSxDQUFBd0IsSUFBQSxvQkFBQXhCLENBQUEsQ0FBQXlCLEdBQUEsRUFBQXhCLENBQUEsQ0FBQXFFLFVBQUEsR0FBQXRFLENBQUEsYUFBQXFCLFFBQUFwQixDQUFBLFNBQUFrRSxVQUFBLE1BQUFKLE1BQUEsYUFBQTlELENBQUEsQ0FBQXdDLE9BQUEsQ0FBQXFCLFlBQUEsY0FBQVMsS0FBQSxpQkFBQWpDLE9BQUF0QyxDQUFBLFFBQUFBLENBQUEsV0FBQUEsQ0FBQSxRQUFBRSxDQUFBLEdBQUFGLENBQUEsQ0FBQVMsQ0FBQSxPQUFBUCxDQUFBLFNBQUFBLENBQUEsQ0FBQXdCLElBQUEsQ0FBQTFCLENBQUEsNEJBQUFBLENBQUEsQ0FBQTRELElBQUEsU0FBQTVELENBQUEsT0FBQXdFLEtBQUEsQ0FBQXhFLENBQUEsQ0FBQXlFLE1BQUEsU0FBQS9FLENBQUEsT0FBQWMsQ0FBQSxZQUFBb0QsS0FBQSxhQUFBbEUsQ0FBQSxHQUFBTSxDQUFBLENBQUF5RSxNQUFBLE9BQUFyRSxDQUFBLENBQUFzQixJQUFBLENBQUExQixDQUFBLEVBQUFOLENBQUEsVUFBQWtFLElBQUEsQ0FBQXJELEtBQUEsR0FBQVAsQ0FBQSxDQUFBTixDQUFBLEdBQUFrRSxJQUFBLENBQUFWLElBQUEsT0FBQVUsSUFBQSxTQUFBQSxJQUFBLENBQUFyRCxLQUFBLEdBQUFOLENBQUEsRUFBQTJELElBQUEsQ0FBQVYsSUFBQSxPQUFBVSxJQUFBLFlBQUFwRCxDQUFBLENBQUFvRCxJQUFBLEdBQUFwRCxDQUFBLGdCQUFBa0QsU0FBQSxDQUFBakUsT0FBQSxDQUFBTyxDQUFBLGtDQUFBZ0MsaUJBQUEsQ0FBQWxDLFNBQUEsR0FBQW1DLDBCQUFBLEVBQUF2QyxDQUFBLENBQUE2QyxDQUFBLG1CQUFBaEMsS0FBQSxFQUFBMEIsMEJBQUEsRUFBQWpCLFlBQUEsU0FBQXRCLENBQUEsQ0FBQXVDLDBCQUFBLG1CQUFBMUIsS0FBQSxFQUFBeUIsaUJBQUEsRUFBQWhCLFlBQUEsU0FBQWdCLGlCQUFBLENBQUEwQyxXQUFBLEdBQUE1RCxNQUFBLENBQUFtQiwwQkFBQSxFQUFBckIsQ0FBQSx3QkFBQVosQ0FBQSxDQUFBMkUsbUJBQUEsYUFBQTFFLENBQUEsUUFBQUQsQ0FBQSx3QkFBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFKLFdBQUEsV0FBQUcsQ0FBQSxLQUFBQSxDQUFBLEtBQUFnQyxpQkFBQSw2QkFBQWhDLENBQUEsQ0FBQTBFLFdBQUEsSUFBQTFFLENBQUEsQ0FBQTRFLElBQUEsT0FBQTVFLENBQUEsQ0FBQTZFLElBQUEsYUFBQTVFLENBQUEsV0FBQUUsTUFBQSxDQUFBMkUsY0FBQSxHQUFBM0UsTUFBQSxDQUFBMkUsY0FBQSxDQUFBN0UsQ0FBQSxFQUFBZ0MsMEJBQUEsS0FBQWhDLENBQUEsQ0FBQThFLFNBQUEsR0FBQTlDLDBCQUFBLEVBQUFuQixNQUFBLENBQUFiLENBQUEsRUFBQVcsQ0FBQSx5QkFBQVgsQ0FBQSxDQUFBSCxTQUFBLEdBQUFLLE1BQUEsQ0FBQWlCLE1BQUEsQ0FBQW1CLENBQUEsR0FBQXRDLENBQUEsS0FBQUQsQ0FBQSxDQUFBZ0YsS0FBQSxhQUFBL0UsQ0FBQSxhQUFBNkMsT0FBQSxFQUFBN0MsQ0FBQSxPQUFBdUMscUJBQUEsQ0FBQUcsYUFBQSxDQUFBN0MsU0FBQSxHQUFBZ0IsTUFBQSxDQUFBNkIsYUFBQSxDQUFBN0MsU0FBQSxFQUFBWSxDQUFBLGlDQUFBVixDQUFBLENBQUEyQyxhQUFBLEdBQUFBLGFBQUEsRUFBQTNDLENBQUEsQ0FBQWlGLEtBQUEsYUFBQWhGLENBQUEsRUFBQUMsQ0FBQSxFQUFBRSxDQUFBLEVBQUFWLENBQUEsRUFBQWMsQ0FBQSxlQUFBQSxDQUFBLEtBQUFBLENBQUEsR0FBQTBFLE9BQUEsT0FBQXpFLENBQUEsT0FBQWtDLGFBQUEsQ0FBQXpCLElBQUEsQ0FBQWpCLENBQUEsRUFBQUMsQ0FBQSxFQUFBRSxDQUFBLEVBQUFWLENBQUEsR0FBQWMsQ0FBQSxVQUFBUixDQUFBLENBQUEyRSxtQkFBQSxDQUFBekUsQ0FBQSxJQUFBTyxDQUFBLEdBQUFBLENBQUEsQ0FBQW1ELElBQUEsR0FBQWIsSUFBQSxXQUFBOUMsQ0FBQSxXQUFBQSxDQUFBLENBQUFpRCxJQUFBLEdBQUFqRCxDQUFBLENBQUFNLEtBQUEsR0FBQUUsQ0FBQSxDQUFBbUQsSUFBQSxXQUFBcEIscUJBQUEsQ0FBQUQsQ0FBQSxHQUFBekIsTUFBQSxDQUFBeUIsQ0FBQSxFQUFBM0IsQ0FBQSxnQkFBQUUsTUFBQSxDQUFBeUIsQ0FBQSxFQUFBOUIsQ0FBQSxpQ0FBQUssTUFBQSxDQUFBeUIsQ0FBQSw2REFBQXZDLENBQUEsQ0FBQW1GLElBQUEsYUFBQWxGLENBQUEsUUFBQUQsQ0FBQSxHQUFBRyxNQUFBLENBQUFGLENBQUEsR0FBQUMsQ0FBQSxnQkFBQUUsQ0FBQSxJQUFBSixDQUFBLEVBQUFFLENBQUEsQ0FBQWtFLElBQUEsQ0FBQWhFLENBQUEsVUFBQUYsQ0FBQSxDQUFBa0YsT0FBQSxhQUFBeEIsS0FBQSxXQUFBMUQsQ0FBQSxDQUFBdUUsTUFBQSxTQUFBeEUsQ0FBQSxHQUFBQyxDQUFBLENBQUFtRixHQUFBLFFBQUFwRixDQUFBLElBQUFELENBQUEsU0FBQTRELElBQUEsQ0FBQXJELEtBQUEsR0FBQU4sQ0FBQSxFQUFBMkQsSUFBQSxDQUFBVixJQUFBLE9BQUFVLElBQUEsV0FBQUEsSUFBQSxDQUFBVixJQUFBLE9BQUFVLElBQUEsUUFBQTVELENBQUEsQ0FBQXNDLE1BQUEsR0FBQUEsTUFBQSxFQUFBakIsT0FBQSxDQUFBdkIsU0FBQSxLQUFBRCxXQUFBLEVBQUF3QixPQUFBLEVBQUFrRCxLQUFBLFdBQUFBLE1BQUF2RSxDQUFBLGFBQUFzRixJQUFBLFdBQUExQixJQUFBLFdBQUFOLElBQUEsUUFBQUMsS0FBQSxHQUFBdEQsQ0FBQSxPQUFBaUQsSUFBQSxZQUFBRSxRQUFBLGNBQUFELE1BQUEsZ0JBQUExQixHQUFBLEdBQUF4QixDQUFBLE9BQUFrRSxVQUFBLENBQUExQixPQUFBLENBQUE0QixhQUFBLElBQUFyRSxDQUFBLFdBQUFFLENBQUEsa0JBQUFBLENBQUEsQ0FBQXFGLE1BQUEsT0FBQW5GLENBQUEsQ0FBQXNCLElBQUEsT0FBQXhCLENBQUEsTUFBQXNFLEtBQUEsRUFBQXRFLENBQUEsQ0FBQXNGLEtBQUEsY0FBQXRGLENBQUEsSUFBQUQsQ0FBQSxNQUFBd0YsSUFBQSxXQUFBQSxLQUFBLFNBQUF2QyxJQUFBLFdBQUFqRCxDQUFBLFFBQUFrRSxVQUFBLElBQUFHLFVBQUEsa0JBQUFyRSxDQUFBLENBQUF1QixJQUFBLFFBQUF2QixDQUFBLENBQUF3QixHQUFBLGNBQUFpRSxJQUFBLEtBQUFsQyxpQkFBQSxXQUFBQSxrQkFBQXhELENBQUEsYUFBQWtELElBQUEsUUFBQWxELENBQUEsTUFBQUUsQ0FBQSxrQkFBQXlGLE9BQUF2RixDQUFBLEVBQUFWLENBQUEsV0FBQWUsQ0FBQSxDQUFBZSxJQUFBLFlBQUFmLENBQUEsQ0FBQWdCLEdBQUEsR0FBQXpCLENBQUEsRUFBQUUsQ0FBQSxDQUFBMEQsSUFBQSxHQUFBeEQsQ0FBQSxFQUFBVixDQUFBLEtBQUFRLENBQUEsQ0FBQWlELE1BQUEsV0FBQWpELENBQUEsQ0FBQXVCLEdBQUEsR0FBQXhCLENBQUEsS0FBQVAsQ0FBQSxhQUFBQSxDQUFBLFFBQUF5RSxVQUFBLENBQUFNLE1BQUEsTUFBQS9FLENBQUEsU0FBQUEsQ0FBQSxRQUFBYyxDQUFBLFFBQUEyRCxVQUFBLENBQUF6RSxDQUFBLEdBQUFlLENBQUEsR0FBQUQsQ0FBQSxDQUFBOEQsVUFBQSxpQkFBQTlELENBQUEsQ0FBQXVELE1BQUEsU0FBQTRCLE1BQUEsYUFBQW5GLENBQUEsQ0FBQXVELE1BQUEsU0FBQXVCLElBQUEsUUFBQTVFLENBQUEsR0FBQU4sQ0FBQSxDQUFBc0IsSUFBQSxDQUFBbEIsQ0FBQSxlQUFBSSxDQUFBLEdBQUFSLENBQUEsQ0FBQXNCLElBQUEsQ0FBQWxCLENBQUEscUJBQUFFLENBQUEsSUFBQUUsQ0FBQSxhQUFBMEUsSUFBQSxHQUFBOUUsQ0FBQSxDQUFBd0QsUUFBQSxTQUFBMkIsTUFBQSxDQUFBbkYsQ0FBQSxDQUFBd0QsUUFBQSxnQkFBQXNCLElBQUEsR0FBQTlFLENBQUEsQ0FBQXlELFVBQUEsU0FBQTBCLE1BQUEsQ0FBQW5GLENBQUEsQ0FBQXlELFVBQUEsY0FBQXZELENBQUEsYUFBQTRFLElBQUEsR0FBQTlFLENBQUEsQ0FBQXdELFFBQUEsU0FBQTJCLE1BQUEsQ0FBQW5GLENBQUEsQ0FBQXdELFFBQUEscUJBQUFwRCxDQUFBLFlBQUFxQyxLQUFBLHFEQUFBcUMsSUFBQSxHQUFBOUUsQ0FBQSxDQUFBeUQsVUFBQSxTQUFBMEIsTUFBQSxDQUFBbkYsQ0FBQSxDQUFBeUQsVUFBQSxZQUFBUixNQUFBLFdBQUFBLE9BQUF4RCxDQUFBLEVBQUFELENBQUEsYUFBQUUsQ0FBQSxRQUFBaUUsVUFBQSxDQUFBTSxNQUFBLE1BQUF2RSxDQUFBLFNBQUFBLENBQUEsUUFBQVIsQ0FBQSxRQUFBeUUsVUFBQSxDQUFBakUsQ0FBQSxPQUFBUixDQUFBLENBQUFxRSxNQUFBLFNBQUF1QixJQUFBLElBQUFsRixDQUFBLENBQUFzQixJQUFBLENBQUFoQyxDQUFBLHdCQUFBNEYsSUFBQSxHQUFBNUYsQ0FBQSxDQUFBdUUsVUFBQSxRQUFBekQsQ0FBQSxHQUFBZCxDQUFBLGFBQUFjLENBQUEsaUJBQUFQLENBQUEsbUJBQUFBLENBQUEsS0FBQU8sQ0FBQSxDQUFBdUQsTUFBQSxJQUFBL0QsQ0FBQSxJQUFBQSxDQUFBLElBQUFRLENBQUEsQ0FBQXlELFVBQUEsS0FBQXpELENBQUEsY0FBQUMsQ0FBQSxHQUFBRCxDQUFBLEdBQUFBLENBQUEsQ0FBQThELFVBQUEsY0FBQTdELENBQUEsQ0FBQWUsSUFBQSxHQUFBdkIsQ0FBQSxFQUFBUSxDQUFBLENBQUFnQixHQUFBLEdBQUF6QixDQUFBLEVBQUFRLENBQUEsU0FBQTJDLE1BQUEsZ0JBQUFTLElBQUEsR0FBQXBELENBQUEsQ0FBQXlELFVBQUEsRUFBQWxDLENBQUEsU0FBQTZELFFBQUEsQ0FBQW5GLENBQUEsTUFBQW1GLFFBQUEsV0FBQUEsU0FBQTNGLENBQUEsRUFBQUQsQ0FBQSxvQkFBQUMsQ0FBQSxDQUFBdUIsSUFBQSxRQUFBdkIsQ0FBQSxDQUFBd0IsR0FBQSxxQkFBQXhCLENBQUEsQ0FBQXVCLElBQUEsbUJBQUF2QixDQUFBLENBQUF1QixJQUFBLFFBQUFvQyxJQUFBLEdBQUEzRCxDQUFBLENBQUF3QixHQUFBLGdCQUFBeEIsQ0FBQSxDQUFBdUIsSUFBQSxTQUFBa0UsSUFBQSxRQUFBakUsR0FBQSxHQUFBeEIsQ0FBQSxDQUFBd0IsR0FBQSxPQUFBMEIsTUFBQSxrQkFBQVMsSUFBQSx5QkFBQTNELENBQUEsQ0FBQXVCLElBQUEsSUFBQXhCLENBQUEsVUFBQTRELElBQUEsR0FBQTVELENBQUEsR0FBQStCLENBQUEsS0FBQThELE1BQUEsV0FBQUEsT0FBQTVGLENBQUEsYUFBQUQsQ0FBQSxRQUFBbUUsVUFBQSxDQUFBTSxNQUFBLE1BQUF6RSxDQUFBLFNBQUFBLENBQUEsUUFBQUUsQ0FBQSxRQUFBaUUsVUFBQSxDQUFBbkUsQ0FBQSxPQUFBRSxDQUFBLENBQUErRCxVQUFBLEtBQUFoRSxDQUFBLGNBQUEyRixRQUFBLENBQUExRixDQUFBLENBQUFvRSxVQUFBLEVBQUFwRSxDQUFBLENBQUFnRSxRQUFBLEdBQUFHLGFBQUEsQ0FBQW5FLENBQUEsR0FBQTZCLENBQUEseUJBQUErRCxPQUFBN0YsQ0FBQSxhQUFBRCxDQUFBLFFBQUFtRSxVQUFBLENBQUFNLE1BQUEsTUFBQXpFLENBQUEsU0FBQUEsQ0FBQSxRQUFBRSxDQUFBLFFBQUFpRSxVQUFBLENBQUFuRSxDQUFBLE9BQUFFLENBQUEsQ0FBQTZELE1BQUEsS0FBQTlELENBQUEsUUFBQUcsQ0FBQSxHQUFBRixDQUFBLENBQUFvRSxVQUFBLGtCQUFBbEUsQ0FBQSxDQUFBb0IsSUFBQSxRQUFBOUIsQ0FBQSxHQUFBVSxDQUFBLENBQUFxQixHQUFBLEVBQUE0QyxhQUFBLENBQUFuRSxDQUFBLFlBQUFSLENBQUEsZ0JBQUF1RCxLQUFBLDhCQUFBOEMsYUFBQSxXQUFBQSxjQUFBL0YsQ0FBQSxFQUFBRSxDQUFBLEVBQUFFLENBQUEsZ0JBQUFnRCxRQUFBLEtBQUF4RCxRQUFBLEVBQUEwQyxNQUFBLENBQUF0QyxDQUFBLEdBQUEyRCxVQUFBLEVBQUF6RCxDQUFBLEVBQUEyRCxPQUFBLEVBQUF6RCxDQUFBLG9CQUFBK0MsTUFBQSxVQUFBMUIsR0FBQSxHQUFBeEIsQ0FBQSxHQUFBOEIsQ0FBQSxPQUFBL0IsQ0FBQTtBQUFBLFNBQUFnRyxlQUFBQyxHQUFBLEVBQUF6RixDQUFBLFdBQUEwRixlQUFBLENBQUFELEdBQUEsS0FBQUUscUJBQUEsQ0FBQUYsR0FBQSxFQUFBekYsQ0FBQSxLQUFBNEYsMkJBQUEsQ0FBQUgsR0FBQSxFQUFBekYsQ0FBQSxLQUFBNkYsZ0JBQUE7QUFBQSxTQUFBQSxpQkFBQSxjQUFBM0MsU0FBQTtBQUFBLFNBQUEwQyw0QkFBQTFHLENBQUEsRUFBQTRHLE1BQUEsU0FBQTVHLENBQUEscUJBQUFBLENBQUEsc0JBQUE2RyxpQkFBQSxDQUFBN0csQ0FBQSxFQUFBNEcsTUFBQSxPQUFBbEcsQ0FBQSxHQUFBRCxNQUFBLENBQUFMLFNBQUEsQ0FBQTBHLFFBQUEsQ0FBQTlFLElBQUEsQ0FBQWhDLENBQUEsRUFBQThGLEtBQUEsYUFBQXBGLENBQUEsaUJBQUFWLENBQUEsQ0FBQUcsV0FBQSxFQUFBTyxDQUFBLEdBQUFWLENBQUEsQ0FBQUcsV0FBQSxDQUFBK0UsSUFBQSxNQUFBeEUsQ0FBQSxjQUFBQSxDQUFBLG1CQUFBcUcsS0FBQSxDQUFBQyxJQUFBLENBQUFoSCxDQUFBLE9BQUFVLENBQUEsK0RBQUF1RyxJQUFBLENBQUF2RyxDQUFBLFVBQUFtRyxpQkFBQSxDQUFBN0csQ0FBQSxFQUFBNEcsTUFBQTtBQUFBLFNBQUFDLGtCQUFBTixHQUFBLEVBQUFXLEdBQUEsUUFBQUEsR0FBQSxZQUFBQSxHQUFBLEdBQUFYLEdBQUEsQ0FBQXhCLE1BQUEsRUFBQW1DLEdBQUEsR0FBQVgsR0FBQSxDQUFBeEIsTUFBQSxXQUFBakUsQ0FBQSxNQUFBcUcsSUFBQSxPQUFBSixLQUFBLENBQUFHLEdBQUEsR0FBQXBHLENBQUEsR0FBQW9HLEdBQUEsRUFBQXBHLENBQUEsSUFBQXFHLElBQUEsQ0FBQXJHLENBQUEsSUFBQXlGLEdBQUEsQ0FBQXpGLENBQUEsVUFBQXFHLElBQUE7QUFBQSxTQUFBVixzQkFBQWpHLENBQUEsRUFBQTBCLENBQUEsUUFBQTNCLENBQUEsV0FBQUMsQ0FBQSxnQ0FBQVAsTUFBQSxJQUFBTyxDQUFBLENBQUFQLE1BQUEsQ0FBQUMsUUFBQSxLQUFBTSxDQUFBLDRCQUFBRCxDQUFBLFFBQUFELENBQUEsRUFBQUksQ0FBQSxFQUFBSSxDQUFBLEVBQUFJLENBQUEsRUFBQUgsQ0FBQSxPQUFBb0IsQ0FBQSxPQUFBbkMsQ0FBQSxpQkFBQWMsQ0FBQSxJQUFBUCxDQUFBLEdBQUFBLENBQUEsQ0FBQXlCLElBQUEsQ0FBQXhCLENBQUEsR0FBQTBELElBQUEsUUFBQWhDLENBQUEsUUFBQXpCLE1BQUEsQ0FBQUYsQ0FBQSxNQUFBQSxDQUFBLFVBQUE0QixDQUFBLHVCQUFBQSxDQUFBLElBQUE3QixDQUFBLEdBQUFRLENBQUEsQ0FBQWtCLElBQUEsQ0FBQXpCLENBQUEsR0FBQWlELElBQUEsTUFBQXpDLENBQUEsQ0FBQTJELElBQUEsQ0FBQXBFLENBQUEsQ0FBQU8sS0FBQSxHQUFBRSxDQUFBLENBQUFnRSxNQUFBLEtBQUE3QyxDQUFBLEdBQUFDLENBQUEsaUJBQUEzQixDQUFBLElBQUFSLENBQUEsT0FBQVUsQ0FBQSxHQUFBRixDQUFBLHlCQUFBMkIsQ0FBQSxZQUFBNUIsQ0FBQSxlQUFBVyxDQUFBLEdBQUFYLENBQUEsY0FBQUUsTUFBQSxDQUFBUyxDQUFBLE1BQUFBLENBQUEsMkJBQUFsQixDQUFBLFFBQUFVLENBQUEsYUFBQUssQ0FBQTtBQUFBLFNBQUF5RixnQkFBQUQsR0FBQSxRQUFBUSxLQUFBLENBQUFLLE9BQUEsQ0FBQWIsR0FBQSxVQUFBQSxHQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE2QkEsSUFBQWMsT0FBQSxHQUFBQyxZQUFBLENBQUFDLG1CQUFBO0FBU0EsSUFBQUMscUJBQUEsR0FBQUQsbUJBQUEsMkVBQTJFLENBQUM7QUFFNUUsSUFBQUUsc0JBQUEsR0FBQUYsbUJBQUEsc0ZBQWdELENBQUM7QUFFakQsSUFBQUcsYUFBQSxHQUFBQyxlQUFBLENBQUFKLG1CQUFBLG9FQUFpRCxDQUFDO0FBRWxELElBQUFLLFFBQUEsR0FBQUwsbUJBQUE7QUFFQSxJQUFNTSwwQkFBMEIsR0FBRztFQUMvQkMsT0FBTyxFQUFDLGNBQWM7RUFDdEJDLFVBQVUsRUFBQyx5QkFBeUI7RUFDcEMsUUFBSyxhQUFhO0VBQ2xCQyxTQUFTLEVBQUMsMkJBQTJCO0VBQ3JDQyxPQUFPLEVBQUM7Q0FDWDtBQUVELElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUFBQyxJQUFBLEVBc0JWO0VBQUEsSUFyQkRDLFdBQVcsR0FBQUQsSUFBQSxDQUFYQyxXQUFXO0lBQ1hDLFVBQVUsR0FBQUYsSUFBQSxDQUFWRSxVQUFVO0lBQ1ZDLFNBQVMsR0FBQUgsSUFBQSxDQUFURyxTQUFTO0lBQ1RDLGFBQWEsR0FBQUosSUFBQSxDQUFiSSxhQUFhO0lBQ2JDLFlBQVksR0FBQUwsSUFBQSxDQUFaSyxZQUFZO0lBQ1pDLE1BQU0sR0FBQU4sSUFBQSxDQUFOTSxNQUFNO0lBQ05DLE9BQU8sR0FBQVAsSUFBQSxDQUFQTyxPQUFPO0lBQ1BDLFFBQVEsR0FBQVIsSUFBQSxDQUFSUSxRQUFRO0lBQ1JDLFdBQVcsR0FBQVQsSUFBQSxDQUFYUyxXQUFXO0lBQ1hDLE1BQU0sR0FBQVYsSUFBQSxDQUFOVSxNQUFNO0lBQ05DLEtBQUssR0FBQVgsSUFBQSxDQUFMVyxLQUFLO0lBQ0xDLFVBQVUsR0FBQVosSUFBQSxDQUFWWSxVQUFVO0lBQ1ZDLFVBQVUsR0FBQWIsSUFBQSxDQUFWYSxVQUFVO0lBQ1ZDLGFBQWEsR0FBQWQsSUFBQSxDQUFiYyxhQUFhO0lBQ2JDLHNCQUFzQixHQUFBZixJQUFBLENBQXRCZSxzQkFBc0I7SUFDdEJDLHNCQUFzQixHQUFBaEIsSUFBQSxDQUF0QmdCLHNCQUFzQjtJQUN0QkMsMkJBQTJCLEdBQUFqQixJQUFBLENBQTNCaUIsMkJBQTJCO0lBQzNCQywyQkFBMkIsR0FBQWxCLElBQUEsQ0FBM0JrQiwyQkFBMkI7SUFDM0JDLG1CQUFtQixHQUFBbkIsSUFBQSxDQUFuQm1CLG1CQUFtQjtJQUNuQkMsY0FBYyxHQUFBcEIsSUFBQSxDQUFkb0IsY0FBYztJQUNkQyxjQUFjLEdBQUFyQixJQUFBLENBQWRxQixjQUFjO0VBR2QsSUFBTUMsYUFBYSxHQUFHLElBQUFwQyxPQUFBLENBQUFxQyxNQUFNLEVBQUMsSUFBSSxDQUFDO0VBQ2xDRCxhQUFhLENBQUNFLE9BQU8sR0FBRztJQUNwQnZCLFdBQVcsRUFBWEEsV0FBVztJQUNYSyxNQUFNLEVBQU5BLE1BQU07SUFDTkgsU0FBUyxFQUFUQSxTQUFTO0lBQ1RELFVBQVUsRUFBVkE7R0FDSDtFQUVEO0VBRUEsSUFBTXVCLGFBQWEsR0FBRyxJQUFBdkMsT0FBQSxDQUFBd0MsVUFBVSxFQUFDakMsUUFBQSxDQUFBa0MsYUFBYSxDQUFDO0VBRS9DLElBQ0lDLFFBQVEsR0FNUkgsYUFBYSxDQU5iRyxRQUFRO0lBQ1JDLHFCQUFxQixHQUtyQkosYUFBYSxDQUxiSSxxQkFBcUI7SUFDckJDLHNCQUFzQixHQUl0QkwsYUFBYSxDQUpiSyxzQkFBc0I7SUFDdEJDLHFCQUFxQixHQUdyQk4sYUFBYSxDQUhiTSxxQkFBcUI7SUFDckJDLG9CQUFvQixHQUVwQlAsYUFBYSxDQUZiTyxvQkFBb0I7SUFDcEJDLDBCQUEwQixHQUMxQlIsYUFBYSxDQURiUSwwQkFBMEI7RUFHOUI7RUFDQSxJQUFNQyxTQUFTLEdBQUcsSUFBQWhELE9BQUEsQ0FBQXFDLE1BQU0sRUFBQyxFQUFFLENBQUM7RUFDNUIsSUFBTVksZUFBZSxHQUFHLElBQUFqRCxPQUFBLENBQUFxQyxNQUFNLEVBQUMsRUFBRSxDQUFDO0VBRWxDLElBQU1hLHNCQUFzQixHQUFHLElBQUFsRCxPQUFBLENBQUFxQyxNQUFNLEVBQUMsSUFBSSxDQUFDO0VBRTVDYSxzQkFBc0IsQ0FBQ1osT0FBTyxHQUFHLElBQUF0QyxPQUFBLENBQUFtRCxPQUFPLEVBQUMsWUFBSztJQUV6QyxJQUFNQyxXQUFXLEdBQUFoSyxNQUFBLENBQUFpSyxNQUFBLENBQUFqSyxNQUFBLENBQUFpSyxNQUFBLEtBQU83QywwQkFBMEIsR0FBSXlCLG1CQUFtQixDQUFDO0lBRTFFLE9BQU9tQixXQUFXO0VBRXRCLENBQUMsRUFBQyxDQUFDbkIsbUJBQW1CLENBQUMsQ0FBQztFQUV4QjtFQUNBLElBQUFxQixLQUFBLEdBQW9DLElBQUF0RCxPQUFBLENBQUF1RCxRQUFRLEVBQUMsT0FBTyxDQUFDO0lBQUFDLEtBQUEsR0FBQXZFLGNBQUEsQ0FBQXFFLEtBQUE7SUFBOUNHLFVBQVUsR0FBQUQsS0FBQTtJQUFFRSxhQUFhLEdBQUFGLEtBQUE7RUFDaEMsSUFBTUcsYUFBYSxHQUFHLElBQUEzRCxPQUFBLENBQUFxQyxNQUFNLEVBQUMsSUFBSSxDQUFDO0VBQ2xDc0IsYUFBYSxDQUFDckIsT0FBTyxHQUFHbUIsVUFBVTtFQUVsQztFQUNBLElBQU1HLFFBQVEsR0FBRyxJQUFBNUQsT0FBQSxDQUFBcUMsTUFBTSxFQUFDLElBQUksQ0FBQztFQUM3QjtFQUNBLElBQU13QixZQUFZLEdBQUcsSUFBQTdELE9BQUEsQ0FBQXFDLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFDakM7RUFDQSxJQUFNeUIsaUJBQWlCLEdBQUcsSUFBQTlELE9BQUEsQ0FBQXFDLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFDdEM7RUFDQSxJQUFNMEIsY0FBYyxHQUFHLElBQUEvRCxPQUFBLENBQUFxQyxNQUFNLEVBQUMsSUFBSSxDQUFDO0VBQ25DO0VBQ0EsSUFBTTJCLFNBQVMsR0FBRyxJQUFBaEUsT0FBQSxDQUFBcUMsTUFBTSxFQUFDLElBQUksQ0FBQztFQUM5QjJCLFNBQVMsQ0FBQzFCLE9BQU8sR0FBR2QsTUFBTTtFQUMxQixJQUFNeUMsc0JBQXNCLEdBQUcsSUFBQWpFLE9BQUEsQ0FBQXFDLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFDM0M0QixzQkFBc0IsQ0FBQzNCLE9BQU8sR0FBRztJQUM3QmQsTUFBTSxFQUFOQSxNQUFNO0lBQ05DLEtBQUssRUFBTEE7R0FDSDtFQUNEO0VBQ0EsSUFBTXlDLFFBQVEsR0FBRyxJQUFBbEUsT0FBQSxDQUFBcUMsTUFBTSxFQUFDLEtBQUssQ0FBQztFQUM5QjtFQUNBLElBQU04QixVQUFVLEdBQUcsSUFBQW5FLE9BQUEsQ0FBQXFDLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFFL0IsSUFBQXJDLE9BQUEsQ0FBQW9FLFNBQVMsRUFBQyxZQUFJO0lBRVZQLFlBQVksQ0FBQ3ZCLE9BQU8sR0FBRyxJQUFJO0lBRTNCLE9BQU8sWUFBSztNQUVSdUIsWUFBWSxDQUFDdkIsT0FBTyxHQUFHLEtBQUs7SUFFaEMsQ0FBQztFQUVMLENBQUMsRUFBQyxFQUFFLENBQUM7RUFFTDtFQUNBLElBQUF0QyxPQUFBLENBQUFvRSxTQUFTLEVBQUMsWUFBSTtJQUVWLE9BQU8sWUFBSztNQUVSQyxrQkFBa0IsQ0FBQ0Msd0JBQXdCLENBQUNoQyxPQUFPLENBQUM7TUFFcERJLFFBQVEsQ0FBQzZCLHVCQUF1QixDQUFDOUMsS0FBSyxDQUFDO0lBRTNDLENBQUM7RUFFTCxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUw7RUFDQSxJQUFBekIsT0FBQSxDQUFBd0UsZUFBZSxFQUFDLFlBQUk7SUFFaEIsSUFBSWIsYUFBYSxDQUFDckIsT0FBTyxJQUFJLE9BQU8sRUFBRTtJQUV0QyxJQUFJdUIsWUFBWSxDQUFDdkIsT0FBTyxFQUFFb0IsYUFBYSxDQUFDLGdCQUFnQixDQUFDO0VBRTdELENBQUMsRUFBQyxDQUFDbEMsTUFBTSxDQUFDLENBQUM7RUFFWDtFQUVBLElBQU1pRCxpQkFBaUIsR0FBRyxJQUFBekUsT0FBQSxDQUFBbUQsT0FBTyxFQUFDLFlBQUs7SUFFbkMsSUFBSSxDQUFDakIsY0FBYyxFQUFFLE9BQU8sSUFBSTtJQUVoQyxPQUFPWCxXQUFXLEdBQ2R2QixPQUFBLFdBQUssQ0FBQzBFLGFBQWEsQ0FBQ25ELFdBQVcsRUFDM0I7TUFBQ0UsS0FBSyxFQUFMQSxLQUFLO01BQUVILFFBQVEsRUFBUkEsUUFBUTtNQUFFcUQsT0FBTyxFQUFDUixVQUFVLENBQUM3QixPQUFPO01BQUVzQyxLQUFLLEVBQUNWLFFBQVEsQ0FBQzVCO0lBQU8sQ0FBQyxDQUFDLEdBQzFFLElBQUk7RUFFWixDQUFDLEVBQUMsQ0FDRWIsS0FBSyxFQUNMRixXQUFXLEVBQ1hELFFBQVEsRUFDUjZDLFVBQVUsQ0FBQzdCLE9BQU8sRUFDbEI0QixRQUFRLENBQUM1QixPQUFPLEVBQ2hCSixjQUFjLENBQ2pCLENBQUM7RUFFRjZCLGNBQWMsQ0FBQ3pCLE9BQU8sR0FBRyxJQUFBdEMsT0FBQSxDQUFBbUQsT0FBTyxFQUFDLFlBQUk7SUFFakMsSUFBSSxDQUFDakIsY0FBYyxFQUFFLE9BQU8sSUFBSTtJQUVoQyxJQUFNWCxXQUFXLEdBQ2JrRCxpQkFBaUIsR0FDYkEsaUJBQWlCLEdBQ2pCekUsT0FBQSxZQUFBMEUsYUFBQSxDQUFDckUsYUFBQSxXQUFXO01BQ1J3RSxHQUFHLEVBQUcsYUFBYTtNQUNuQnBELEtBQUssRUFBS0EsS0FBSztNQUNmSCxRQUFRLEVBQUtBLFFBQVE7TUFDckJxRCxPQUFPLEVBQUtSLFVBQVUsQ0FBQzdCLE9BQU87TUFDOUJzQyxLQUFLLEVBQUtWLFFBQVEsQ0FBQzVCLE9BQU87TUFDMUJ3QyxlQUFlLEVBQUtqRCxzQkFBc0I7TUFDMUNrRCxlQUFlLEVBQUtqRCxzQkFBc0I7TUFDMUNrRCxvQkFBb0IsRUFBS2pELDJCQUEyQjtNQUNwRGtELG9CQUFvQixFQUFLakQ7SUFBMkIsRUFDdEQ7SUFFVixPQUFPVCxXQUFXO0VBRXRCLENBQUMsRUFBRSxDQUNDRSxLQUFLLEVBQ0xnRCxpQkFBaUIsRUFDakJuRCxRQUFRLEVBQ1I2QyxVQUFVLENBQUM3QixPQUFPLEVBQ2xCNEIsUUFBUSxDQUFDNUIsT0FBTyxFQUNoQkosY0FBYyxFQUNkTCxzQkFBc0IsRUFDdEJDLHNCQUFzQixFQUN0QkMsMkJBQTJCLEVBQzNCQywyQkFBMkIsQ0FDOUIsQ0FBQztFQUVGO0VBRUEsSUFBTWtELG1CQUFtQjtFQUFHO0VBQ3hCQyxNQUFNLENBQUMscUJBQXFCLENBQUMsR0FDekJBLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxHQUM3QmhGLHFCQUFBLENBQUFpRixtQkFBbUI7RUFFM0IsSUFBTWYsa0JBQWtCO0VBQUc7RUFDdkJjLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxHQUN4QkEsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQzVCaEYscUJBQUEsQ0FBQWtGLGtCQUFrQjtFQUUxQixJQUFNZix3QkFBd0IsR0FBRyxJQUFBdEUsT0FBQSxDQUFBcUMsTUFBTSxFQUFDLElBQUksQ0FBQztFQUU3QztFQUVBO0VBQ0EsSUFBQXJDLE9BQUEsQ0FBQW9FLFNBQVMsRUFBQyxZQUFJO0lBRVYsSUFBSWtCLGNBQWMsR0FBR0MsY0FBYyxDQUMvQnhFLFdBQVcsRUFBRUMsVUFBVSxFQUFFQyxTQUFTLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFQyxNQUFNLEVBQUU0QixTQUFTLENBQUNWLE9BQU8sQ0FBQztJQUUvRixJQUFJSCxjQUFjLEVBQUU7TUFDaEJtRCxjQUFjLEdBQUFsTSxNQUFBLENBQUFpSyxNQUFBLENBQUFqSyxNQUFBLENBQUFpSyxNQUFBLEtBQU9pQyxjQUFjLEdBQUluRCxjQUFjLENBQUM7O0lBRzFELElBQU1xRCxlQUFlLEdBQUdDLHNCQUFzQixDQUFDckUsTUFBTSxFQUFFTCxXQUFXLEVBQUVJLFlBQVksRUFBRUQsYUFBYSxDQUFDO0lBRWhHLElBQUkyQyxZQUFZLENBQUN2QixPQUFPLEVBQUU7TUFFdEJVLFNBQVMsQ0FBQ1YsT0FBTyxHQUFHZ0QsY0FBYztNQUNsQ3JDLGVBQWUsQ0FBQ1gsT0FBTyxHQUFHa0QsZUFBZTs7RUFJakQsQ0FBQyxFQUFDLENBQUN6RSxXQUFXLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsTUFBTSxFQUFFZSxjQUFjLENBQUMsQ0FBQztFQUU1RixJQUFNdUQsYUFBYSxHQUFHLElBQUExRixPQUFBLENBQUFxQyxNQUFNLEVBQUMsSUFBSSxDQUFDO0VBRWxDLElBQUFyQyxPQUFBLENBQUF3RSxlQUFlLEVBQUMsWUFBSztJQUVqQixRQUFRZixVQUFVO01BRWQsS0FBSyxPQUFPO1FBQUU7VUFFVkMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUFDO1VBRXpCOztNQUlKLEtBQUssU0FBUztRQUFFO1VBRVpBLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFDO1VBRWhDOztNQUlKLEtBQUssZ0JBQWdCO1FBQUU7VUFFbkIsSUFBTWxDLE9BQU0sR0FBR3dDLFNBQVMsQ0FBQzFCLE9BQU87VUFDaEMsSUFBTXFELE1BQU0sR0FBR2pELFFBQVEsQ0FBQ2tELFNBQVMsQ0FBQ3BFLE9BQU0sQ0FBQztVQUN6QyxJQUFBcUUscUJBQUEsR0FLSXpELGFBQWEsQ0FBQ0UsT0FBTztZQUpyQmxCLE9BQU0sR0FBQXlFLHFCQUFBLENBQU56RSxNQUFNO1lBQ05MLFlBQVcsR0FBQThFLHFCQUFBLENBQVg5RSxXQUFXO1lBQ1hFLFVBQVMsR0FBQTRFLHFCQUFBLENBQVQ1RSxTQUFTO1lBQ1RELFdBQVUsR0FBQTZFLHFCQUFBLENBQVY3RSxVQUFVO1VBR2QsSUFBSTJFLE1BQU0sRUFBRTtZQUVSeEIsVUFBVSxDQUFDN0IsT0FBTyxHQUFHWSxzQkFBc0IsQ0FBQ1osT0FBTyxDQUFDNUIsVUFBVTtZQUU5RCxJQUFJbUQsWUFBWSxDQUFDdkIsT0FBTyxFQUFFO2NBRXRCO2NBQ0F3QixpQkFBaUIsQ0FBQ3hCLE9BQU8sR0FBR0ksUUFBUSxDQUFDb0QsaUJBQWlCLENBQUN0RSxPQUFNLENBQUM7Y0FDOUQ7Y0FDQXNDLGlCQUFpQixDQUFDeEIsT0FBTyxDQUFDeUQsa0JBQWtCLENBQUM5QixzQkFBc0IsR0FBR0Esc0JBQXNCO2NBQzVGSCxpQkFBaUIsQ0FBQ3hCLE9BQU8sQ0FBQ3lELGtCQUFrQixDQUFDcEQscUJBQXFCLEdBQUdBLHFCQUFxQjtjQUMxRjtjQUNBK0MsYUFBYSxDQUFDcEQsT0FBTyxHQUFHd0IsaUJBQWlCLENBQUN4QixPQUFPLENBQUMwRCxVQUFVO2NBQzVEQyxrQkFBa0IsQ0FDZFAsYUFBYSxDQUFDcEQsT0FBTyxDQUFDNEQsT0FBTyxFQUFFOUUsT0FBTSxFQUFFTCxZQUFXLEVBQUVFLFVBQVMsRUFBRUQsV0FBVSxDQUFDO2NBRTlFMEMsYUFBYSxDQUFDLFdBQVcsQ0FBQzs7V0FJakMsTUFBTTtZQUVIUyxVQUFVLENBQUM3QixPQUFPLEdBQUdZLHNCQUFzQixDQUFDWixPQUFPLENBQUM3QixPQUFPO1lBRTNEO1lBQ0FpQyxRQUFRLENBQUN5RCxxQkFBcUIsQ0FBQzFFLEtBQUssQ0FBQztZQUVyQztZQUNBNkMsd0JBQXdCLENBQUNoQyxPQUFPLEdBQUc0QyxtQkFBbUIsQ0FBQztjQUFBLE9BQVVrQixTQUFBLHNDQUFBcE4sbUJBQUEsR0FBQThFLElBQUEsVUFBQXVJLFFBQUE7Z0JBQUEsSUFBQUMsRUFBQSxFQUFBQyxFQUFBLEVBQUFDLFdBQUEsRUFBQUMsV0FBQSxFQUFBN0IsS0FBQSxFQUFBOEIsY0FBQSxFQUFBQyxPQUFBLEVBQUFaLGtCQUFBLEVBQUFhLFVBQUEsRUFBQUMsVUFBQSxFQUFBQyxNQUFBO2dCQUFBLE9BQUE5TixtQkFBQSxHQUFBbUIsSUFBQSxVQUFBNE0sU0FBQUMsUUFBQTtrQkFBQSxrQkFBQUEsUUFBQSxDQUFBekksSUFBQSxHQUFBeUksUUFBQSxDQUFBbkssSUFBQTtvQkFBQTtzQkFBQW1LLFFBQUEsQ0FBQXpJLElBQUE7c0JBQUF5SSxRQUFBLENBQUFuSyxJQUFBO3NCQU0zQyxPQUFNd0UsT0FBTyxDQUFDSSxLQUFLLEVBQUVELE9BQU0sQ0FBQztvQkFBQTtzQkFBMUNpRixXQUFXLEdBQUFPLFFBQUEsQ0FBQXpLLElBQUE7c0JBRVgsSUFBSWtLLFdBQVcsS0FBSyxJQUFJLEVBQUVELFdBQVcsR0FBR0MsV0FBVztzQkFFbkQsSUFBSUEsV0FBVyxLQUFLOUYsU0FBUyxFQUFFO3dCQUUzQmlFLEtBQUssR0FBRyxJQUFJMUksS0FBSyxDQUFDZ0gsc0JBQXNCLENBQUNaLE9BQU8sQ0FBQzNCLFNBQVMsQ0FBQzs7c0JBRTlEcUcsUUFBQSxDQUFBbkssSUFBQTtzQkFBQTtvQkFBQTtzQkFBQW1LLFFBQUEsQ0FBQXpJLElBQUE7c0JBQUF5SSxRQUFBLENBQUFDLEVBQUEsR0FBQUQsUUFBQTtzQkFJRFIsV0FBVyxHQUFHQyxXQUFXLEdBQUc5RixTQUFTO3NCQUNyQ2lFLEtBQUssR0FBQW9DLFFBQUEsQ0FBQUMsRUFBSTtvQkFBQTtzQkFHYjtzQkFDQSxJQUFLUixXQUFXLEtBQUssSUFBSSxJQUFNQSxXQUFXLEtBQUs5RixTQUFVLEVBQUU7d0JBRWpEK0YsY0FBYyxHQUFHMUcsT0FBQSxXQUFLLENBQUMwRyxjQUFjLENBQUNELFdBQVcsQ0FBQzt3QkFDeEQsSUFBSSxDQUFDQyxjQUFjLEVBQUU7MEJBRWpCRixXQUFXLEdBQUdDLFdBQVc7MEJBQ3pCQSxXQUFXLEdBQUc5RixTQUFTOzBCQUN2QmlFLEtBQUssR0FBRyxJQUFJMUksS0FBSyxDQUFDZ0gsc0JBQXNCLENBQUNaLE9BQU8sQ0FBQzFCLE9BQU8sQ0FBQzs7O3NCQUloRSxLQUVHaUQsWUFBWSxDQUFDdkIsT0FBTzt3QkFBQTBFLFFBQUEsQ0FBQW5LLElBQUE7d0JBQUE7c0JBQUE7c0JBQUEsTUFFZjRKLFdBQVcsS0FBSyxJQUFJLElBQU1BLFdBQVcsS0FBSzlGLFNBQVU7d0JBQUFxRyxRQUFBLENBQUFuSyxJQUFBO3dCQUFBO3NCQUFBO3NCQUVyRDtzQkFFTWtKLGtCQUFrQixHQUFHO3dCQUN2QjlCLHNCQUFzQixFQUF0QkEsc0JBQXNCO3dCQUN0QnRCLHFCQUFxQixFQUFyQkE7dUJBQ0g7c0JBQ0dpRSxVQUFVLEdBQUcsQ0FBQztzQkFDWkMsVUFBVSxHQUFrRCxFQUFFO3NCQUNwRSxJQUFJLENBQUFQLEVBQUEsR0FBQUcsV0FBVyxDQUFDUyxLQUFLLGNBQUFaLEVBQUEsdUJBQUFBLEVBQUEsQ0FBRWhOLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO3dCQUN6RHVOLFVBQVUsQ0FBQ2Qsa0JBQWtCLEdBQUdBLGtCQUFrQjt3QkFDbERhLFVBQVUsRUFBRTs7c0JBRWhCLElBQUksQ0FBQUwsRUFBQSxHQUFBRSxXQUFXLENBQUNTLEtBQUssY0FBQVgsRUFBQSx1QkFBQUEsRUFBQSxDQUFFak4sY0FBYyxDQUFDLFVBQVUsQ0FBQyxFQUFFO3dCQUMvQ3VOLFVBQVUsQ0FBQ25FLFFBQVEsR0FBR0EsUUFBUSxDQUFDeUUsUUFBUTt3QkFDdkNQLFVBQVUsRUFBRTs7c0JBRWhCLElBQUlBLFVBQVUsRUFBRTt3QkFDWkQsT0FBTyxHQUFHM0csT0FBQSxXQUFLLENBQUNvSCxZQUFZLENBQUNYLFdBQVcsRUFBRUksVUFBVSxDQUFDO3VCQUN4RCxNQUFNO3dCQUNIRixPQUFPLEdBQUdGLFdBQVc7O3NCQUN4Qk8sUUFBQSxDQUFBbkssSUFBQTtzQkFFMEMsT0FBTTZGLFFBQVEsQ0FBQzJFLFlBQVksQ0FBQ1YsT0FBTyxFQUFFbEYsS0FBSyxFQUFFRCxPQUFNLEVBQUV1RSxrQkFBa0IsQ0FBQztvQkFBQTtzQkFBNUdlLE1BQU0sR0FBR2hELGlCQUFpQixDQUFDeEIsT0FBTyxHQUFBMEUsUUFBQSxDQUFBekssSUFBQTtzQkFFeEMsSUFBSXVLLE1BQU0sRUFBRTt3QkFFUnBCLGFBQWEsQ0FBQ3BELE9BQU8sR0FBR3dCLGlCQUFpQixDQUFDeEIsT0FBTyxDQUFDMEQsVUFBVTt3QkFDNURDLGtCQUFrQixDQUNkUCxhQUFhLENBQUNwRCxPQUFPLENBQUM0RCxPQUFPLEVBQUU5RSxPQUFNLEVBQUVMLFlBQVcsRUFBRUUsVUFBUyxFQUFFRCxXQUFVLENBQUM7O3NCQUlsRjZDLFlBQVksQ0FBQ3ZCLE9BQU8sSUFBSW9CLGFBQWEsQ0FBQyxXQUFXLENBQUM7c0JBQUFzRCxRQUFBLENBQUFuSyxJQUFBO3NCQUFBO29CQUFBO3NCQUU3QztzQkFFTDZGLFFBQVEsQ0FBQzZCLHVCQUF1QixDQUFDOUMsS0FBSyxDQUFDLEVBQUM7c0JBRXhDLElBQUlnRixXQUFXLEtBQUssSUFBSSxFQUFFO3dCQUV0Qjt3QkFDQTVELHFCQUFxQixJQUNqQkEscUJBQXFCLENBQ2pCcEIsS0FBSyxFQUFFRCxPQUFNLEVBQUVnRixXQUFXLEVBQUUsV0FBVyxFQUNuQyxJQUFJdEssS0FBSyxDQUFDZ0gsc0JBQXNCLENBQUNaLE9BQU8sUUFBSyxDQUFDLENBQ3JEO3dCQUNMTSxzQkFBc0IsQ0FBQ25CLEtBQUssQ0FBQzt1QkFFaEMsTUFBTTt3QkFBRTt3QkFFTDt3QkFDQXlDLFFBQVEsQ0FBQzVCLE9BQU8sR0FBR3NDLEtBQUs7d0JBQ3hCO3dCQUNBL0IscUJBQXFCLElBQ2pCQSxxQkFBcUIsQ0FDakJwQixLQUFLLEVBQUVELE9BQU0sRUFBRWdGLFdBQVcsRUFBRSxXQUFXLEVBQUU1QixLQUFLLENBQ2pEO3dCQUVMZixZQUFZLENBQUN2QixPQUFPLElBQUlvQixhQUFhLENBQUMsT0FBTyxDQUFDOztvQkFDakQ7b0JBQUE7c0JBQUEsT0FBQXNELFFBQUEsQ0FBQXRJLElBQUE7a0JBQUE7Z0JBQUEsR0FBQTJILE9BQUE7Y0FBQSxDQU1aO1lBQUEsR0FBQztjQUFDaUIsT0FBTyxFQUFDeEU7WUFBb0IsQ0FBQyxDQUFDOztVQUlyQzs7TUFHSixLQUFLLFdBQVc7TUFDaEIsS0FBSyxXQUFXO1FBQUU7VUFFZFksYUFBYSxDQUFDLE9BQU8sQ0FBQztVQUV0Qjs7O0VBTVosQ0FBQyxFQUFFLENBQUNELFVBQVUsQ0FBQyxDQUFDO0VBRWhCO0VBQ0EsT0FBT3pELE9BQUEsWUFBQTBFLGFBQUE7SUFFSDZDLEdBQUcsRUFBSzNELFFBQVE7SUFBQSxhQUNKLFdBQVc7SUFBQSxtQkFDSGpDLFVBQVU7SUFBQSxjQUNmRixLQUFLO0lBQUEsbUJBQ0FDLFVBQVU7SUFDOUI4RixLQUFLLEVBQUt4RSxTQUFTLENBQUNWO0VBQU8sR0FJekJtQixVQUFVLElBQUksT0FBTyxHQUNsQnpELE9BQUEsWUFBQTBFLGFBQUE7SUFBQSxhQUFpQixlQUFlO0lBQUM4QyxLQUFLLEVBQUl2RSxlQUFlLENBQUNYO0VBQU8sR0FDM0RtQixVQUFVLElBQUksT0FBTyxHQUN4Qk0sY0FBYyxDQUFDekIsT0FBTyxHQUN0QnRDLE9BQUEsWUFBQTBFLGFBQUEsQ0FBQ3RFLHNCQUFBLENBQUFxSCxTQUFTO0lBQUM1QyxHQUFHLEVBQUcsUUFBUTtJQUFDNkMsSUFBSSxFQUFLaEMsYUFBYSxDQUFDcEQ7RUFBTyxFQUFLLENBQzNELEdBQUV0QyxPQUFBLFlBQUEwRSxhQUFBLGFBQVcsRUFDckI5QyxhQUFhLEdBQ1htQiwwQkFBMEIsQ0FBQ1QsT0FBTyxHQUNsQyxJQUFLLENBR1A7QUFFVixDQUFDLEVBQUM7QUFDRnFGLGtCQUFBLEdBQWU5RyxTQUFTO0FBRXhCO0FBQ0EsSUFBTTBFLGNBQWMsR0FDaEIsU0FERUEsY0FBY0EsQ0FDZnhFLFdBQVcsRUFBRUMsVUFBVSxFQUFFQyxTQUFTLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFQyxNQUFNLEVBQUV3RyxNQUFNLEVBQUk7RUFFcEYsSUFBTUMsUUFBUSxHQUFBek8sTUFBQSxDQUFBaUssTUFBQSxDQUFBakssTUFBQSxDQUFBaUssTUFBQSxLQUFPdUUsTUFBTTtJQUFDRSxRQUFRLEVBQUMsVUFBVTtJQUFFQyxRQUFRLEVBQUM7RUFBUyxFQUFDO0VBRXBFLElBQUloSCxXQUFXLEtBQUssVUFBVSxFQUFFO0lBRTVCOEcsUUFBUSxDQUFDRyxLQUFLLEdBQUcsSUFBSTtJQUNyQixJQUFJNUcsTUFBTSxJQUFJLFNBQVMsRUFBRTtNQUVyQnlHLFFBQVEsQ0FBQ0ksTUFBTSxHQUFHakgsVUFBVSxHQUFHLElBQUk7TUFDbkM2RyxRQUFRLENBQUNLLFNBQVMsR0FBRyxJQUFJO01BQ3pCTCxRQUFRLENBQUNNLFNBQVMsR0FBRyxJQUFJO0tBRTVCLE1BQU07TUFBRTtNQUVMTixRQUFRLENBQUNJLE1BQU0sR0FBRyxJQUFJO01BQ3RCSixRQUFRLENBQUNLLFNBQVMsR0FBR2hILGFBQWEsR0FBRyxJQUFJO01BQ3pDMkcsUUFBUSxDQUFDTSxTQUFTLEdBQUduSCxVQUFVLEdBQUcsSUFBSTs7R0FJN0MsTUFBTTtJQUFFO0lBRUw2RyxRQUFRLENBQUNJLE1BQU0sR0FBRyxJQUFJO0lBQ3RCLElBQUk3RyxNQUFNLElBQUksU0FBUyxFQUFFO01BRXJCeUcsUUFBUSxDQUFDRyxLQUFLLEdBQUcvRyxTQUFTLEdBQUcsSUFBSTtNQUNqQzRHLFFBQVEsQ0FBQ08sUUFBUSxHQUFHLElBQUk7TUFDeEJQLFFBQVEsQ0FBQ1EsUUFBUSxHQUFHLElBQUk7S0FFM0IsTUFBTTtNQUFFO01BRUxSLFFBQVEsQ0FBQ0csS0FBSyxHQUFHLElBQUk7TUFDckJILFFBQVEsQ0FBQ08sUUFBUSxHQUFHakgsWUFBWSxHQUFHLElBQUk7TUFDdkMwRyxRQUFRLENBQUNRLFFBQVEsR0FBR3BILFNBQVMsR0FBRyxJQUFJOzs7RUFNNUMsT0FBTzRHLFFBQVE7QUFFbkIsQ0FBQztBQUVELElBQU1wQyxzQkFBc0IsR0FBRyxTQUF6QkEsc0JBQXNCQSxDQUFJckUsTUFBTSxFQUFDTCxXQUFXLEVBQUNJLFlBQVksRUFBRUQsYUFBYSxFQUFLO0VBQy9FLElBQUkwRyxNQUFNLEdBQXVCLEVBQUU7RUFDbkMsSUFBSXhHLE1BQU0sSUFBSSxTQUFTLEVBQUU7SUFDckJ3RyxNQUFNLEdBQUc7TUFDTFUsS0FBSyxFQUFDLEtBQUs7TUFDWFIsUUFBUSxFQUFDLFVBQVU7TUFDbkJHLE1BQU0sRUFBQyxJQUFJO01BQ1hELEtBQUssRUFBQyxJQUFJO01BQ1ZJLFFBQVEsRUFBQyxJQUFJO01BQ2JGLFNBQVMsRUFBQztLQUNiO0dBQ0osTUFBTTtJQUFFO0lBQ0xOLE1BQU0sQ0FBQ1UsS0FBSyxHQUFHLElBQUk7SUFDbkJWLE1BQU0sQ0FBQ0UsUUFBUSxHQUFHLElBQUk7SUFDdEIsSUFBSS9HLFdBQVcsSUFBSSxVQUFVLEVBQUU7TUFDM0I2RyxNQUFNLENBQUNJLEtBQUssR0FBRyxNQUFNO01BQ3JCSixNQUFNLENBQUNLLE1BQU0sR0FBRyxJQUFJO01BQ3BCTCxNQUFNLENBQUNRLFFBQVEsR0FBRyxJQUFJO01BQ3RCUixNQUFNLENBQUNNLFNBQVMsR0FBR2hILGFBQWEsR0FBRyxJQUFJO0tBQzFDLE1BQU07TUFDSDBHLE1BQU0sQ0FBQ0ksS0FBSyxHQUFHLElBQUk7TUFDbkJKLE1BQU0sQ0FBQ0ssTUFBTSxHQUFHLE1BQU07TUFDdEJMLE1BQU0sQ0FBQ1EsUUFBUSxHQUFHakgsWUFBWSxHQUFHLElBQUk7TUFDckN5RyxNQUFNLENBQUNNLFNBQVMsR0FBRyxJQUFJOzs7RUFHL0IsT0FBT04sTUFBTTtBQUNqQixDQUFDO0FBRUQ7QUFDQSxJQUFNM0Isa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFrQkEsQ0FBSXNDLFNBQVMsRUFBRW5ILE1BQU0sRUFBRUwsV0FBVyxFQUFFRSxTQUFTLEVBQUVELFVBQVUsRUFBSTtFQUVqRnVILFNBQVMsQ0FBQ2YsS0FBSyxDQUFDTyxRQUFRLEdBQUcsUUFBUTtFQUVuQyxJQUFJM0csTUFBTSxJQUFJLFNBQVMsRUFBRTtJQUVyQm1ILFNBQVMsQ0FBQ2YsS0FBSyxDQUFDYyxLQUFLLEdBQUcsS0FBSztJQUM3QkMsU0FBUyxDQUFDZixLQUFLLENBQUNNLFFBQVEsR0FBRyxVQUFVO0lBQ3JDUyxTQUFTLENBQUNmLEtBQUssQ0FBQ2EsUUFBUSxHQUFHLElBQUk7SUFDL0JFLFNBQVMsQ0FBQ2YsS0FBSyxDQUFDVyxTQUFTLEdBQUcsSUFBSTtJQUNoQ0ksU0FBUyxDQUFDZixLQUFLLENBQUNTLE1BQU0sR0FBRyxJQUFJO0lBQzdCTSxTQUFTLENBQUNmLEtBQUssQ0FBQ1EsS0FBSyxHQUFHLElBQUk7R0FFL0IsTUFBTTtJQUFFO0lBRUxPLFNBQVMsQ0FBQ2YsS0FBSyxDQUFDYyxLQUFLLEdBQUcsSUFBSTtJQUM1QkMsU0FBUyxDQUFDZixLQUFLLENBQUNNLFFBQVEsR0FBRyxJQUFJO0lBRS9CLElBQUkvRyxXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCd0gsU0FBUyxDQUFDZixLQUFLLENBQUNRLEtBQUssR0FBRyxNQUFNO01BQzlCTyxTQUFTLENBQUNmLEtBQUssQ0FBQ1MsTUFBTSxHQUFHLElBQUk7TUFDN0JNLFNBQVMsQ0FBQ2YsS0FBSyxDQUFDYSxRQUFRLEdBQUcsSUFBSTtNQUMvQkUsU0FBUyxDQUFDZixLQUFLLENBQUNXLFNBQVMsR0FBR25ILFVBQVUsR0FBRyxJQUFJO0tBRWhELE1BQU07TUFFSHVILFNBQVMsQ0FBQ2YsS0FBSyxDQUFDUSxLQUFLLEdBQUcsSUFBSTtNQUM1Qk8sU0FBUyxDQUFDZixLQUFLLENBQUNTLE1BQU0sR0FBRyxNQUFNO01BQy9CTSxTQUFTLENBQUNmLEtBQUssQ0FBQ2EsUUFBUSxHQUFHcEgsU0FBUyxHQUFHLElBQUk7TUFDM0NzSCxTQUFTLENBQUNmLEtBQUssQ0FBQ1csU0FBUyxHQUFHLElBQUk7OztBQUs1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9DZWxsRnJhbWUudHN4P2YxNzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2VsbEZyYW1lLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiBDZWxsRnJhbWUgaXMgdG8gZmV0Y2ggdXNlciBjb250ZW50IGZyb20gdGhlIGNhY2hlLCBvciBmcm9tIHRoZSBob3N0ICh1c2luZyBnZXRJdGVtKS5cbiAgICBXaGlsZSBhbiBpdGVtIGlzIGJlaW5nIGZldGNoZWQsIENlbGxGcmFtZSBwcmVzZW50cyBhIHBsYWNlaG9sZGVyIChlaXRoZXIgdGhlIGRlZmF1bHQgb3IgYW4gXG4gICAgaW1wb3J0ZWQgY3VzdG9tIHZlcnNpb24pLiBJZiB0aGVyZSBpcyBhbiBlcnJvciBpbiBmZXRjaGluZyBjb250ZW50IHRoZW4gdGhlIHBsYWNlaG9sZGVyIGlzIHVzZWRcbiAgICB0byBwcmVzZW50IHRoZSBlcnJvciB0byB0aGUgdXNlci4gSWYgYSBuZXcgaXRlbUlEIGlzIHNldCBieSB0aGUgcGFyZW50ICh0byBzeW5jaHJvbml6ZSB3aXRoIGFuIGFsdGVyZWRcbiAgICBjYWNoZSksIHRoZW4gQ2VsbEZyYW1lIHJlcGxhY2VzIHRoZSBvbGQgaXRlbSB3aXRoIHRoZSBuZXcgaXRlbS5cblxuICAgIGdldEl0ZW0gKHdoaWNoIGlzIGEgZnVuY3Rpb24gcHJvdmlkZWQgYnkgdGhlIGhvc3QpIGNhbiByZXR1cm4gb25lIG9mIHNldmVyYWwgdmFsdWVzOlxuICAgICAgICAtIGEgUmVhY3QgY29tcG9uZW50XG4gICAgICAgIC0gYSBwcm9taXNlIG9mIGEgY29tcG9uZW50XG4gICAgICAgIC0gbnVsbFxuICAgICAgICAtIHVuZGVmaW5lZFxuICAgIEFueXRoaW5nIGVsc2UgaXMgdHJlYXRlZCBhcyBhbiBlcnJvclxuXG4gICAgaWYgYSBwcm9taXNlIGlzIHJldHVybmVkLCB0aGVuIHRoZSBwcm9taXNlIHJldHVybnMgYSBSZWFjdCBjb21wb25lbnQsIG51bGwgb3IgdW5kZWZpbmVkLlxuXG4gICAgSWYgYSB2YWxpZCByZWFjdCBjb21wb25lbnQgaXMgcmV0dXJuZWQgZnJvbSBnZXRJdGVtLCB0aGVuIGl0IGlzIGluc3RhbnRpYXRlZCBpbiB0aGUgY2FjaGUsIGFuZCByZW5kZXJlZCBpbiB0aGVcbiAgICBDZWxsRnJhbWUuIElmIG51bGwgaXMgcmV0dXJuZWQsIHRoZW4gQ2VsbEZyYW1lIHNlbmRzIGEgbWVzc2FnZSB0byBpdHMgc2Nyb2xsZXIgdGhhdCB0aGUgaG9zdCBoYXMgXG4gICAgaW5kaWNhdGVkIHRoZSB0aGUgaXRlbSBiZWluZyBmZXRjaGVkIGluc3RlYWQgcmVwcmVzZW50cyB0aGUgZW5kIG9mIHRoZSBsaXN0LCBhbmQgdGhlIGxpc3RzaXplIHNob3VsZFxuICAgIGJlIGFkanVzdGVkIGFjY29yZGluZ2x5LiBBbnkgb3RoZXIgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBpcyB0cmVhdGVkIGFzIGFuIGVycm9yLCBhbmQgcHJlc2VudGVkXG4gICAgYXMgc3VjaCB0byB0aGUgdXNlciB0aHJvdWdoIHRoZSBwbGFjZWhvbGRlciBjb21wb25lbnQuXG5cbiAgICBnZXRJdGVtIHNlbmRzIHRoZSBpbmRleCAobG9naWNhbCBpbmRleCBpbiB0aGUgbGlzdCkgYW5kIGEgc2Vzc2lvbiBpdGVtSUQgdG8gdGhlIGhvc3QsIHNvIHRoYXRcbiAgICB0aGUgaG9zdCBjYW4gc3luYyBpdHMgb3duIHRyYWNraW5nIHdpdGggdGhlIHNjcm9sbGVyLlxuXG4gICAgT25lIENlbGxGcmFtZSBhdCBhIHRpbWUgaXMgZGVzaWduYXRlZCBhcyB0aGUgaG9zdCBvZiB0aGUgdHdvIHRyaWdnZXJMaW5lcyB3aXRoIHRoZSBpc1RyaWdnZXJDZWxsIGZsYWcuIFxuICAgIFRoZSB0cmlnZ2VybGluZXMgdHJpZ2dlciBhbiB1cGRhdGUgb2YgdGhlIENyYWRsZSB0aHJvdWdoIGFuIEludGVyc2VjdGlvbk9ic2VydmVyLlxuKi9cblxuaW1wb3J0IFJlYWN0LCB7XG4gICAgdXNlUmVmLCBcbiAgICB1c2VFZmZlY3QsIFxuICAgIHVzZUxheW91dEVmZmVjdCwgXG4gICAgdXNlU3RhdGUsIFxuICAgIHVzZU1lbW8sIFxuICAgIHVzZUNvbnRleHQgXG59IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge3JlcXVlc3RJZGxlQ2FsbGJhY2ssIGNhbmNlbElkbGVDYWxsYmFja30gZnJvbSAncmVxdWVzdGlkbGVjYWxsYmFjaycgLy8gcG9seWZpbGwgaWYgbmVlZGVkXG5cbmltcG9ydCB7IE91dFBvcnRhbCB9IGZyb20gJ3JlYWN0LXJldmVyc2UtcG9ydGFsJyAvLyBmZXRjaCBmcm9tIGNhY2hlXG5cbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuL2NlbGxmcmFtZS9QbGFjZWhvbGRlcicgLy8gZGVmYXVsdFxuXG5pbXBvcnQgeyBDcmFkbGVDb250ZXh0IH0gZnJvbSAnLi9DcmFkbGUnXG5cbmNvbnN0IGRlZmF1bHRQbGFjZWhvbGRlck1lc3NhZ2VzID0ge1xuICAgIGxvYWRpbmc6Jyhsb2FkaW5nLi4uKScsXG4gICAgcmV0cmlldmluZzonKHJldHJpZXZpbmcgZnJvbSBjYWNoZSknLFxuICAgIG51bGw6J2VuZCBvZiBsaXN0JyxcbiAgICB1bmRlZmluZWQ6J2hvc3QgcmV0dXJuZWQgXCJ1bmRlZmluZWRcIicsXG4gICAgaW52YWxpZDonaW52YWxpZCBSZWFjdCBlbGVtZW50Jyxcbn1cblxuY29uc3QgQ2VsbEZyYW1lID0gKHtcbiAgICBvcmllbnRhdGlvbiwgXG4gICAgY2VsbEhlaWdodCwgXG4gICAgY2VsbFdpZHRoLCBcbiAgICBjZWxsTWluSGVpZ2h0LFxuICAgIGNlbGxNaW5XaWR0aCxcbiAgICBsYXlvdXQsXG4gICAgZ2V0SXRlbSwgLy8gZnVuY3Rpb24gcHJvdmlkZWQgYnkgaG9zdFxuICAgIGxpc3RzaXplLCAvLyBmb3IgZmVlZGJhY2sgaW4gcGxhY2Vob2xkZXJcbiAgICBwbGFjZWhvbGRlciwgLy8gb3B0aW9uYWxseSBwcm92aWRlZCBieSBob3N0XG4gICAgaXRlbUlELCAvLyBzZXNzaW9uIGl0ZW1JRFxuICAgIGluZGV4LCAvLyBsb2dpY2FsIGluZGV4IGluIGluZmluaXRlIGxpc3RcbiAgICBpbnN0YW5jZUlELCAvLyBDZWxsRnJhbWUgc2Vzc2lvbiBJRFxuICAgIHNjcm9sbGVySUQsIC8vIHNjcm9sbGVyIElEIChmb3IgZGVidWdnaW5nKVxuICAgIGlzVHJpZ2dlcmNlbGwsXG4gICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzLFxuICAgIHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMsXG4gICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbiAgICB1c2VQbGFjZWhvbGRlcixcbiAgICBncmlkc3RhcnRzdHlsZSxcbn0pID0+IHtcblxuICAgIGNvbnN0IGNvcmVDb25maWdSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb3JlQ29uZmlnUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbEhlaWdodFxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIHNldHVwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBjcmFkbGVDb250ZXh0ID0gdXNlQ29udGV4dChDcmFkbGVDb250ZXh0KVxuXG4gICAgY29uc3QgeyBcbiAgICAgICAgY2FjaGVBUEksIFxuICAgICAgICBzY3JvbGxlclByb3BlcnRpZXNSZWYsIC8vIGZvciB0aGUgdXNlciBjb250ZW50LCBpZiByZXF1ZXN0ZWRcbiAgICAgICAgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSwgLy8gZm9yIGludGVybmFsIG5vdGlmaWNhdGlvbiBvZiBlbmQtb2YtbGlzdFxuICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2ssIC8vIGZvciBub3RpZmljYXRpb24gdG8gaG9zdCBvZiBlcnJvclxuICAgICAgICBJRExFQ0FMTEJBQ0tfVElNRU9VVCwgLy8gdG8gb3B0aW1pemUgcmVxdWVzdElkbGVDYWxsYmFja1xuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZixcbiAgICB9ID0gY3JhZGxlQ29udGV4dFxuICAgIFxuICAgIC8vIHN0eWxlIGNoYW5nZSBnZW5lcmF0ZXMgc3RhdGUgcmVmcmVzaFxuICAgIGNvbnN0IHN0eWxlc1JlZiA9IHVzZVJlZih7fSlcbiAgICBjb25zdCBob2xkZXJTdHlsZXNSZWYgPSB1c2VSZWYoe30pXG5cbiAgICBjb25zdCBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgIHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gey4uLmRlZmF1bHRQbGFjZWhvbGRlck1lc3NhZ2VzLC4uLnBsYWNlaG9sZGVyTWVzc2FnZXN9XG5cbiAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzXG5cbiAgICB9LFtwbGFjZWhvbGRlck1lc3NhZ2VzXSlcblxuICAgIC8vIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBjb25zdCBbZnJhbWVTdGF0ZSwgc2V0RnJhbWVTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuICAgIGNvbnN0IGZyYW1lU3RhdGVSZWYgPSB1c2VSZWYobnVsbClcbiAgICBmcmFtZVN0YXRlUmVmLmN1cnJlbnQgPSBmcmFtZVN0YXRlXG5cbiAgICAvLyBET00gcmVmXG4gICAgY29uc3QgZnJhbWVSZWYgPSB1c2VSZWYobnVsbClcbiAgICAvLyB0byB0cmFjayB1bm1vdW50IGludGVycnVwdFxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuICAgIC8vIGNhY2hlIGRhdGFcbiAgICBjb25zdCBwb3J0YWxNZXRhZGF0YVJlZiA9IHVzZVJlZihudWxsKVxuICAgIC8vIHRoZSBwbGFjZWhvbGRlciB0byB1c2VcbiAgICBjb25zdCBwbGFjZWhvbGRlclJlZiA9IHVzZVJlZihudWxsKVxuICAgIC8vIHRoZSBzZXNzaW9uIGl0ZW1JRCB0byB1c2U7IGNvdWxkIGJlIHVwZGF0ZWQgYnkgcGFyZW50XG4gICAgY29uc3QgaXRlbUlEUmVmID0gdXNlUmVmKG51bGwpXG4gICAgaXRlbUlEUmVmLmN1cnJlbnQgPSBpdGVtSURcbiAgICBjb25zdCBjZWxsRnJhbWVQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY2VsbEZyYW1lUHJvcGVydGllc1JlZi5jdXJyZW50ID0ge1xuICAgICAgICBpdGVtSUQsXG4gICAgICAgIGluZGV4XG4gICAgfVxuICAgIC8vIGZldGNoIGVycm9yXG4gICAgY29uc3QgZXJyb3JSZWYgPSB1c2VSZWYoZmFsc2UpXG4gICAgLy8gcGxhY2Vob2xkZXIgbWVzc2FnZVxuICAgIGNvbnN0IG1lc3NhZ2VSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gZm9yIHVubW91bnRcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBjYW5jZWxpZGxlY2FsbGJhY2socmVxdWVzdElkbGVDYWxsYmFja0lkUmVmLmN1cnJlbnQpXG5cbiAgICAgICAgICAgIGNhY2hlQVBJLnVucmVnaXN0ZXJQZW5kaW5nUG9ydGFsKGluZGV4KVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyByZWZyZXNoIGNvbnRlbnQgaWYgaXRlbUlEIGNoYW5nZXNcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoZnJhbWVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkgc2V0RnJhbWVTdGF0ZSgnZ2V0dXNlcmNvbnRlbnQnKVxuXG4gICAgfSxbaXRlbUlEXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFsgcGxhY2Vob2xkZXIgZGVmaW5pdGlvbiBdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGN1c3RvbXBsYWNlaG9sZGVyID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgaWYgKCF1c2VQbGFjZWhvbGRlcikgcmV0dXJuIG51bGwgICAgICAgIFxuXG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcj9cbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQocGxhY2Vob2xkZXIsIFxuICAgICAgICAgICAgICAgIHtpbmRleCwgbGlzdHNpemUsIG1lc3NhZ2U6bWVzc2FnZVJlZi5jdXJyZW50LCBlcnJvcjplcnJvclJlZi5jdXJyZW50fSk6XG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgICBcbiAgICB9LFtcbiAgICAgICAgaW5kZXgsIFxuICAgICAgICBwbGFjZWhvbGRlcixcbiAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICBtZXNzYWdlUmVmLmN1cnJlbnQsIFxuICAgICAgICBlcnJvclJlZi5jdXJyZW50LCBcbiAgICAgICAgdXNlUGxhY2Vob2xkZXJcbiAgICBdKVxuXG4gICAgcGxhY2Vob2xkZXJSZWYuY3VycmVudCA9IHVzZU1lbW8oKCk9PntcblxuICAgICAgICBpZiAoIXVzZVBsYWNlaG9sZGVyKSByZXR1cm4gbnVsbFxuXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gXG4gICAgICAgICAgICBjdXN0b21wbGFjZWhvbGRlcj9cbiAgICAgICAgICAgICAgICBjdXN0b21wbGFjZWhvbGRlcjpcbiAgICAgICAgICAgICAgICA8UGxhY2Vob2xkZXIgXG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdwbGFjZWhvbGRlcidcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB7IGluZGV4IH0gXG4gICAgICAgICAgICAgICAgICAgIGxpc3RzaXplID0geyBsaXN0c2l6ZSB9IFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0geyBtZXNzYWdlUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHsgZXJyb3JSZWYuY3VycmVudCB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJGcmFtZVN0eWxlcyA9IHsgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJMaW5lclN0eWxlcyA9IHsgcGxhY2Vob2xkZXJMaW5lclN0eWxlcyB9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJFcnJvckZyYW1lU3R5bGVzID0geyBwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXMgfVxuICAgICAgICAgICAgICAgICAgICB1c2VyRXJyb3JMaW5lclN0eWxlcyA9IHsgcGxhY2Vob2xkZXJFcnJvckxpbmVyU3R5bGVzIH1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlclxuXG4gICAgfSwgW1xuICAgICAgICBpbmRleCwgXG4gICAgICAgIGN1c3RvbXBsYWNlaG9sZGVyLCBcbiAgICAgICAgbGlzdHNpemUsIFxuICAgICAgICBtZXNzYWdlUmVmLmN1cnJlbnQsIFxuICAgICAgICBlcnJvclJlZi5jdXJyZW50LFxuICAgICAgICB1c2VQbGFjZWhvbGRlcixcbiAgICAgICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyxcbiAgICAgICAgcGxhY2Vob2xkZXJMaW5lclN0eWxlcyxcbiAgICAgICAgcGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzLFxuICAgICAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMsXG4gICAgXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gWyByZXF1ZXN0aWRsZWNhbGxiYWNrIGNvbmZpZyBdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgcmVxdWVzdGlkbGVjYWxsYmFjayA9IC8vIHJlcXVlc3RJZGxlQ2FsbGJhY2tcbiAgICAgICAgd2luZG93WydyZXF1ZXN0SWRsZUNhbGxiYWNrJ10/XG4gICAgICAgICAgICB3aW5kb3dbJ3JlcXVlc3RJZGxlQ2FsbGJhY2snXTpcbiAgICAgICAgICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2tcblxuICAgIGNvbnN0IGNhbmNlbGlkbGVjYWxsYmFjayA9IC8vIGNhbmNlbElkbGVDYWxsYmFja1xuICAgICAgICB3aW5kb3dbJ2NhbmNlbElkbGVDYWxsYmFjayddP1xuICAgICAgICAgICAgd2luZG93WydjYW5jZWxJZGxlQ2FsbGJhY2snXTpcbiAgICAgICAgICAgIGNhbmNlbElkbGVDYWxsYmFja1xuXG4gICAgY29uc3QgcmVxdWVzdElkbGVDYWxsYmFja0lkUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgcHJvY2Vzc2luZyBdLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIHNldCBzdHlsZXNcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBsZXQgbmV3RnJhbWVTdHlsZXMgPSBnZXRGcmFtZVN0eWxlcyhcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIGNlbGxNaW5IZWlnaHQsIGNlbGxNaW5XaWR0aCwgbGF5b3V0LCBzdHlsZXNSZWYuY3VycmVudClcblxuICAgICAgICBpZiAoZ3JpZHN0YXJ0c3R5bGUpIHtcbiAgICAgICAgICAgIG5ld0ZyYW1lU3R5bGVzID0gey4uLm5ld0ZyYW1lU3R5bGVzLC4uLmdyaWRzdGFydHN0eWxlfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBuZXdIb2xkZXJTdHlsZXMgPSBnZXRDb250ZW50SG9sZGVyU3R5bGVzKGxheW91dCwgb3JpZW50YXRpb24sIGNlbGxNaW5XaWR0aCwgY2VsbE1pbkhlaWdodClcblxuICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgc3R5bGVzUmVmLmN1cnJlbnQgPSBuZXdGcmFtZVN0eWxlc1xuICAgICAgICAgICAgaG9sZGVyU3R5bGVzUmVmLmN1cnJlbnQgPSBuZXdIb2xkZXJTdHlsZXNcblxuICAgICAgICB9XG5cbiAgICB9LFtvcmllbnRhdGlvbiwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBjZWxsTWluSGVpZ2h0LCBjZWxsTWluV2lkdGgsIGxheW91dCwgZ3JpZHN0YXJ0c3R5bGVdKSBcblxuICAgIGNvbnN0IHBvcnRhbE5vZGVSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgc3dpdGNoIChmcmFtZVN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzoge1xuXG4gICAgICAgICAgICAgICAgc2V0RnJhbWVTdGF0ZSgnd29ya2luZycpIC8vICdnZXR1c2VyY29udGVudCcgd2lsbCBiZSBjYWxsZWRcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnd29ya2luZyc6IHtcblxuICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdGUoJ2dldHVzZXJjb250ZW50JykgLy8gZGVsYXkgcGFpbnQgd2hpbGUgd29ya2luZ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZ2V0dXNlcmNvbnRlbnQnOiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSUQgPSBpdGVtSURSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlQVBJLmhhc1BvcnRhbChpdGVtSUQpXG4gICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgfSA9IGNvcmVDb25maWdSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VSZWYuY3VycmVudCA9IHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudC5yZXRyaWV2aW5nXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBjYWNoZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxNZXRhZGF0YVJlZi5jdXJyZW50ID0gY2FjaGVBUEkuZ2V0UG9ydGFsTWV0YWRhdGEoaXRlbUlEKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbGwgYW5kIHNjcm9sbGVyIHByb3BlcnRpZXMgcmVmIGluIGNhc2Ugb2Ygc3dpdGNoIGluIGVpdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGFsTWV0YWRhdGFSZWYuY3VycmVudC5zY3JvbGxlclByb3BlcnRpZXMuY2VsbEZyYW1lUHJvcGVydGllc1JlZiA9IGNlbGxGcmFtZVByb3BlcnRpZXNSZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE1ldGFkYXRhUmVmLmN1cnJlbnQuc2Nyb2xsZXJQcm9wZXJ0aWVzLnNjcm9sbGVyUHJvcGVydGllc1JlZiA9IHNjcm9sbGVyUHJvcGVydGllc1JlZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IE91dFBvcnRhbCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgPSBwb3J0YWxNZXRhZGF0YVJlZi5jdXJyZW50LnBvcnRhbE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRhaW5lclN0eWxlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxOb2RlUmVmLmN1cnJlbnQuZWxlbWVudCwgbGF5b3V0LCBvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGcmFtZVN0YXRlKCdyZXRyaWV2ZWQnKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVJlZi5jdXJyZW50ID0gcGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50LmxvYWRpbmdcblxuICAgICAgICAgICAgICAgICAgICAvLyByZXNlcnZlIHNwYWNlIGluIHRoZSBjYWNoZVxuICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZWdpc3RlclBlbmRpbmdQb3J0YWwoaW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZW5xdWV1ZSB0aGUgZmV0Y2hcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkbGVDYWxsYmFja0lkUmVmLmN1cnJlbnQgPSByZXF1ZXN0aWRsZWNhbGxiYWNrKGFzeW5jICgpPT57XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXR1cm52YWx1ZSwgdXNlcmNvbnRlbnQsIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSBmZXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJjb250ZW50ID0gYXdhaXQgZ2V0SXRlbShpbmRleCwgaXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJjb250ZW50ID09PSBudWxsKSByZXR1cm52YWx1ZSA9IHVzZXJjb250ZW50XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudC51bmRlZmluZWQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJudmFsdWUgPSB1c2VyY29udGVudCA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodXNlcmNvbnRlbnQgIT09IG51bGwpICYmICh1c2VyY29udGVudCAhPT0gdW5kZWZpbmVkKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudCh1c2VyY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJudmFsdWUgPSB1c2VyY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyY29udGVudCA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQuaW52YWxpZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgdGhlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHVzZXJjb250ZW50ICE9PSBudWxsKSAmJiAodXNlcmNvbnRlbnQgIT09IHVuZGVmaW5lZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB1c2VyY29udGVudCBpcyBvdGhlcndpc2UgZGlzYWxsb3dlZCwgbGV0IGVycm9yIGhhbmRsaW5nIGRlYWwgd2l0aCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbGVyUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxGcmFtZVByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlclByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFkZGluQ291bnQgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGluUHJvcHM6e3Njcm9sbGVyUHJvcGVydGllcz86b2JqZWN0LCBjYWNoZUFQST86b2JqZWN0fSA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyY29udGVudC5wcm9wcz8uaGFzT3duUHJvcGVydHkoJ3Njcm9sbGVyUHJvcGVydGllcycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpblByb3BzLnNjcm9sbGVyUHJvcGVydGllcyA9IHNjcm9sbGVyUHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaW5Db3VudCsrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJjb250ZW50LnByb3BzPy5oYXNPd25Qcm9wZXJ0eSgnY2FjaGVBUEknKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaW5Qcm9wcy5jYWNoZUFQSSA9IGNhY2hlQVBJLmluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpbkNvdW50KytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaW5Db3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IFJlYWN0LmNsb25lRWxlbWVudCh1c2VyY29udGVudCwgYWRkaW5Qcm9wcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB1c2VyY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0dmFsID0gcG9ydGFsTWV0YWRhdGFSZWYuY3VycmVudCA9IGF3YWl0IGNhY2hlQVBJLmNyZWF0ZVBvcnRhbChjb250ZW50LCBpbmRleCwgaXRlbUlELCBzY3JvbGxlclByb3BlcnRpZXMpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE5vZGVSZWYuY3VycmVudCA9IHBvcnRhbE1ldGFkYXRhUmVmLmN1cnJlbnQucG9ydGFsTm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGFpbmVyU3R5bGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE5vZGVSZWYuY3VycmVudC5lbGVtZW50LCBsYXlvdXQsIG9yaWVudGF0aW9uLCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ICYmIHNldEZyYW1lU3RhdGUoJ2luc2VydGluZycpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBudWxsIG9yIHVuZGVmaW5lZDsgaGFuZGxlIG5vbi1jb21wb25lbnQgdmFsdWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS51bnJlZ2lzdGVyUGVuZGluZ1BvcnRhbChpbmRleCkgLy8gY3JlYXRlIHBvcnRhbCBmYWlsZWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmNvbnRlbnQgPT09IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGUgbGlzdHNpemUgYXQgdGhpcyBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGl0ZW1JRCwgcmV0dXJudmFsdWUsICdjZWxsRnJhbWUnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcihwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQubnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsSXRlbVNldE1heExpc3RzaXplKGluZGV4KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHVzZXJjb250ZW50ID09PSB1bmRlZmluZWQsIG1lYW5pbmcgYW4gZXJyb3IgaGFzIG9jY3VycmVkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBwbGFjZWhvbGRlciBtZXNzYWdlIHRvIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yUmVmLmN1cnJlbnQgPSBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IHRoZSBob3N0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2sgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCwgaXRlbUlELCByZXR1cm52YWx1ZSwgJ2NlbGxGcmFtZScsIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCAmJiBzZXRGcmFtZVN0YXRlKCdlcnJvcicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0se3RpbWVvdXQ6SURMRUNBTExCQUNLX1RJTUVPVVR9KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnaW5zZXJ0aW5nJzpcbiAgICAgICAgICAgIGNhc2UgJ3JldHJpZXZlZCc6IHtcblxuICAgICAgICAgICAgICAgIHNldEZyYW1lU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9LCBbZnJhbWVTdGF0ZV0pXG5cbiAgICAvLyBOb3RlOiB0aGUgY29udGVudGhvbGRlciB0eXBlIGxheWVyIGlzIGluY2x1ZGVkIHRvIHByb3ZpZGUgYW4gYW5jaG9yIGZvciB0aGUgdHJpZ2dlcmxpbmVzLlxuICAgIHJldHVybiA8ZGl2IFxuXG4gICAgICAgIHJlZiA9IHsgZnJhbWVSZWYgfSBcbiAgICAgICAgZGF0YS10eXBlID0gJ2NlbGxmcmFtZScgXG4gICAgICAgIGRhdGEtc2Nyb2xsZXJpZCA9IHsgc2Nyb2xsZXJJRCB9IFxuICAgICAgICBkYXRhLWluZGV4ID0geyBpbmRleCB9IFxuICAgICAgICBkYXRhLWluc3RhbmNlaWQgPSB7IGluc3RhbmNlSUQgfSBcbiAgICAgICAgc3R5bGUgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cblxuICAgID5cblxuICAgICAgICB7KGZyYW1lU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAoPGRpdiBkYXRhLXR5cGUgPSAnY29udGVudGhvbGRlcicgc3R5bGUgPSB7aG9sZGVyU3R5bGVzUmVmLmN1cnJlbnR9PiBcbiAgICAgICAgICAgICAgICB7KChmcmFtZVN0YXRlICE9ICdyZWFkeScpP1xuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQ6XG4gICAgICAgICAgICAgICAgPE91dFBvcnRhbCBrZXkgPSAncG9ydGFsJyBub2RlID0geyBwb3J0YWxOb2RlUmVmLmN1cnJlbnQgfS8+KX1cbiAgICAgICAgICAgIDwvZGl2Pik6PGRpdj48L2Rpdj59XG4gICAgICAgIHsoaXNUcmlnZ2VyY2VsbD9cbiAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVzUmVmLmN1cnJlbnQ6XG4gICAgICAgICAgICBudWxsKVxuICAgICAgICB9XG5cbiAgICA8L2Rpdj5cblxufSAvLyBDZWxsRnJhbWVcbmV4cG9ydCBkZWZhdWx0IENlbGxGcmFtZVxuXG4vLyB1dGlsaXRpZXNcbmNvbnN0IGdldEZyYW1lU3R5bGVzID0gXG4gICAgKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIGNlbGxNaW5IZWlnaHQsIGNlbGxNaW5XaWR0aCwgbGF5b3V0LCBzdHlsZXMpID0+IHtcblxuICAgIGNvbnN0IHN0eWxlc2V0ID0gey4uLnN0eWxlcyxwb3NpdGlvbjoncmVsYXRpdmUnLCBvdmVyZmxvdzondmlzaWJsZSd9XG5cbiAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICBzdHlsZXNldC53aWR0aCA9IG51bGxcbiAgICAgICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcblxuICAgICAgICAgICAgc3R5bGVzZXQuaGVpZ2h0ID0gY2VsbEhlaWdodCArICdweCdcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1pbkhlaWdodCA9IG51bGxcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1heEhlaWdodCA9IG51bGxcblxuICAgICAgICB9IGVsc2UgeyAvLyAndmFyaWFibGUnXG5cbiAgICAgICAgICAgIHN0eWxlc2V0LmhlaWdodCA9IG51bGxcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1pbkhlaWdodCA9IGNlbGxNaW5IZWlnaHQgKyAncHgnXG4gICAgICAgICAgICBzdHlsZXNldC5tYXhIZWlnaHQgPSBjZWxsSGVpZ2h0ICsgJ3B4J1xuXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSBlbHNlIHsgLy8gJ2hvcml6b250YWwnXG5cbiAgICAgICAgc3R5bGVzZXQuaGVpZ2h0ID0gbnVsbFxuICAgICAgICBpZiAobGF5b3V0ID09ICd1bmlmb3JtJykge1xuXG4gICAgICAgICAgICBzdHlsZXNldC53aWR0aCA9IGNlbGxXaWR0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1pbldpZHRoID0gbnVsbFxuICAgICAgICAgICAgc3R5bGVzZXQubWF4V2lkdGggPSBudWxsXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gJ3ZhcmlhYmxlJ1xuXG4gICAgICAgICAgICBzdHlsZXNldC53aWR0aCA9IG51bGxcbiAgICAgICAgICAgIHN0eWxlc2V0Lm1pbldpZHRoID0gY2VsbE1pbldpZHRoICsgJ3B4J1xuICAgICAgICAgICAgc3R5bGVzZXQubWF4V2lkdGggPSBjZWxsV2lkdGggKyAncHgnXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlc2V0XG5cbn1cblxuY29uc3QgZ2V0Q29udGVudEhvbGRlclN0eWxlcyA9IChsYXlvdXQsb3JpZW50YXRpb24sY2VsbE1pbldpZHRoLCBjZWxsTWluSGVpZ2h0ICkgPT4ge1xuICAgIGxldCBzdHlsZXM6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9XG4gICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcbiAgICAgICAgc3R5bGVzID0ge1xuICAgICAgICAgICAgaW5zZXQ6JzBweCcsXG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgaGVpZ2h0Om51bGwsXG4gICAgICAgICAgICB3aWR0aDpudWxsLFxuICAgICAgICAgICAgbWluV2lkdGg6bnVsbCxcbiAgICAgICAgICAgIG1pbkhlaWdodDpudWxsLFxuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy8gdmFyaWFibGVcbiAgICAgICAgc3R5bGVzLmluc2V0ID0gbnVsbFxuICAgICAgICBzdHlsZXMucG9zaXRpb24gPSBudWxsXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBzdHlsZXMud2lkdGggPSAnMTAwJSdcbiAgICAgICAgICAgIHN0eWxlcy5oZWlnaHQgPSBudWxsXG4gICAgICAgICAgICBzdHlsZXMubWluV2lkdGggPSBudWxsXG4gICAgICAgICAgICBzdHlsZXMubWluSGVpZ2h0ID0gY2VsbE1pbkhlaWdodCArICdweCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlcy53aWR0aCA9IG51bGxcbiAgICAgICAgICAgIHN0eWxlcy5oZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgICAgIHN0eWxlcy5taW5XaWR0aCA9IGNlbGxNaW5XaWR0aCArICdweCdcbiAgICAgICAgICAgIHN0eWxlcy5taW5IZWlnaHQgPSBudWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlc1xufVxuXG4vLyBzZWUgYWxzbyBzb21lIGJhc2Ugc3R5bGVzIHNldCBpbiBjYWNoZUFQSVxuY29uc3Qgc2V0Q29udGFpbmVyU3R5bGVzID0gKGNvbnRhaW5lciwgbGF5b3V0LCBvcmllbnRhdGlvbiwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KSA9PiB7XG5cbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuXG4gICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcblxuICAgICAgICBjb250YWluZXIuc3R5bGUuaW5zZXQgPSAnMHB4JyBcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgICAgICBjb250YWluZXIuc3R5bGUubWF4V2lkdGggPSBudWxsXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBudWxsXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBudWxsXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IG51bGxcblxuICAgIH0gZWxzZSB7IC8vIHZhcmlhYmxlXG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmluc2V0ID0gbnVsbCBcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gbnVsbFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG51bGxcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9IG51bGxcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBjZWxsSGVpZ2h0ICsgJ3B4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IG51bGxcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9IGNlbGxXaWR0aCArICdweCdcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBudWxsXG5cbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsImUiLCJ0IiwiciIsIk9iamVjdCIsIm4iLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpIiwiYSIsImMiLCJhc3luY0l0ZXJhdG9yIiwidSIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwid3JhcCIsIkdlbmVyYXRvciIsImNyZWF0ZSIsIkNvbnRleHQiLCJtYWtlSW52b2tlTWV0aG9kIiwidHJ5Q2F0Y2giLCJ0eXBlIiwiYXJnIiwiY2FsbCIsImgiLCJsIiwiZiIsInMiLCJ5IiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsInAiLCJkIiwiZ2V0UHJvdG90eXBlT2YiLCJ2IiwidmFsdWVzIiwiZyIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJfaW52b2tlIiwiQXN5bmNJdGVyYXRvciIsImludm9rZSIsInJlc29sdmUiLCJfX2F3YWl0IiwidGhlbiIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiRXJyb3IiLCJkb25lIiwibWV0aG9kIiwiZGVsZWdhdGUiLCJtYXliZUludm9rZURlbGVnYXRlIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJUeXBlRXJyb3IiLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwibmFtZSIsIm1hcmsiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImF3cmFwIiwiYXN5bmMiLCJQcm9taXNlIiwia2V5cyIsInJldmVyc2UiLCJwb3AiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicnZhbCIsImhhbmRsZSIsImNvbXBsZXRlIiwiZmluaXNoIiwiX2NhdGNoIiwiZGVsZWdhdGVZaWVsZCIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwidG9TdHJpbmciLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwiYXJyMiIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsInJlcXVlc3RpZGxlY2FsbGJhY2tfMSIsInJlYWN0X3JldmVyc2VfcG9ydGFsXzEiLCJQbGFjZWhvbGRlcl8xIiwiX19pbXBvcnREZWZhdWx0IiwiQ3JhZGxlXzEiLCJkZWZhdWx0UGxhY2Vob2xkZXJNZXNzYWdlcyIsImxvYWRpbmciLCJyZXRyaWV2aW5nIiwidW5kZWZpbmVkIiwiaW52YWxpZCIsIkNlbGxGcmFtZSIsIl9yZWYiLCJvcmllbnRhdGlvbiIsImNlbGxIZWlnaHQiLCJjZWxsV2lkdGgiLCJjZWxsTWluSGVpZ2h0IiwiY2VsbE1pbldpZHRoIiwibGF5b3V0IiwiZ2V0SXRlbSIsImxpc3RzaXplIiwicGxhY2Vob2xkZXIiLCJpdGVtSUQiLCJpbmRleCIsImluc3RhbmNlSUQiLCJzY3JvbGxlcklEIiwiaXNUcmlnZ2VyY2VsbCIsInBsYWNlaG9sZGVyRnJhbWVTdHlsZXMiLCJwbGFjZWhvbGRlckxpbmVyU3R5bGVzIiwicGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzIiwicGxhY2Vob2xkZXJFcnJvckxpbmVyU3R5bGVzIiwicGxhY2Vob2xkZXJNZXNzYWdlcyIsInVzZVBsYWNlaG9sZGVyIiwiZ3JpZHN0YXJ0c3R5bGUiLCJjb3JlQ29uZmlnUmVmIiwidXNlUmVmIiwiY3VycmVudCIsImNyYWRsZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwiQ3JhZGxlQ29udGV4dCIsImNhY2hlQVBJIiwic2Nyb2xsZXJQcm9wZXJ0aWVzUmVmIiwibnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSIsIml0ZW1FeGNlcHRpb25DYWxsYmFjayIsIklETEVDQUxMQkFDS19USU1FT1VUIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZXNSZWYiLCJzdHlsZXNSZWYiLCJob2xkZXJTdHlsZXNSZWYiLCJwbGFjZWhvbGRlck1lc3NhZ2VzUmVmIiwidXNlTWVtbyIsIm5ld01lc3NhZ2VzIiwiYXNzaWduIiwiX3JlZjIiLCJ1c2VTdGF0ZSIsIl9yZWYzIiwiZnJhbWVTdGF0ZSIsInNldEZyYW1lU3RhdGUiLCJmcmFtZVN0YXRlUmVmIiwiZnJhbWVSZWYiLCJpc01vdW50ZWRSZWYiLCJwb3J0YWxNZXRhZGF0YVJlZiIsInBsYWNlaG9sZGVyUmVmIiwiaXRlbUlEUmVmIiwiY2VsbEZyYW1lUHJvcGVydGllc1JlZiIsImVycm9yUmVmIiwibWVzc2FnZVJlZiIsInVzZUVmZmVjdCIsImNhbmNlbGlkbGVjYWxsYmFjayIsInJlcXVlc3RJZGxlQ2FsbGJhY2tJZFJlZiIsInVucmVnaXN0ZXJQZW5kaW5nUG9ydGFsIiwidXNlTGF5b3V0RWZmZWN0IiwiY3VzdG9tcGxhY2Vob2xkZXIiLCJjcmVhdGVFbGVtZW50IiwibWVzc2FnZSIsImVycm9yIiwia2V5IiwidXNlckZyYW1lU3R5bGVzIiwidXNlckxpbmVyU3R5bGVzIiwidXNlckVycm9yRnJhbWVTdHlsZXMiLCJ1c2VyRXJyb3JMaW5lclN0eWxlcyIsInJlcXVlc3RpZGxlY2FsbGJhY2siLCJ3aW5kb3ciLCJyZXF1ZXN0SWRsZUNhbGxiYWNrIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwibmV3RnJhbWVTdHlsZXMiLCJnZXRGcmFtZVN0eWxlcyIsIm5ld0hvbGRlclN0eWxlcyIsImdldENvbnRlbnRIb2xkZXJTdHlsZXMiLCJwb3J0YWxOb2RlUmVmIiwiY2FjaGVkIiwiaGFzUG9ydGFsIiwiX2NvcmVDb25maWdSZWYkY3VycmVuIiwiZ2V0UG9ydGFsTWV0YWRhdGEiLCJzY3JvbGxlclByb3BlcnRpZXMiLCJwb3J0YWxOb2RlIiwic2V0Q29udGFpbmVyU3R5bGVzIiwiZWxlbWVudCIsInJlZ2lzdGVyUGVuZGluZ1BvcnRhbCIsIl9fYXdhaXRlciIsIl9jYWxsZWUiLCJfYSIsIl9iIiwicmV0dXJudmFsdWUiLCJ1c2VyY29udGVudCIsImlzVmFsaWRFbGVtZW50IiwiY29udGVudCIsImFkZGluQ291bnQiLCJhZGRpblByb3BzIiwicmV0dmFsIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInQwIiwicHJvcHMiLCJpbnN0YW5jZSIsImNsb25lRWxlbWVudCIsImNyZWF0ZVBvcnRhbCIsInRpbWVvdXQiLCJyZWYiLCJzdHlsZSIsIk91dFBvcnRhbCIsIm5vZGUiLCJleHBvcnRzIiwic3R5bGVzIiwic3R5bGVzZXQiLCJwb3NpdGlvbiIsIm92ZXJmbG93Iiwid2lkdGgiLCJoZWlnaHQiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiaW5zZXQiLCJjb250YWluZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/CellFrame.tsx\n')},"./src/Cradle.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\n// Cradle.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CradleContext = void 0;\n/*\n    The Cradle does the bulk of the work for the infinite grid scroller. It does so with the help of\n    eight process handlers (class instances), and one main sub-component - the CellFrame.\n\n    Cradle's main responsibility is to manage the ~35 state changes of the system.\n\n    The illusion of infinite content is maintained by synchronizing changes in cradle content with the\n    Cradle location inside the Scrollblock, such that as the Scrollblock is moved, the cradle moves\n    oppositely to stay visible within the Viewport.\n\n    The Scrollblock is sized to approximate the list being viewed, so as to have a scroll thumb size\n    and position which realistically reflects the size of the list being shown.\n\n    The position of the cradle is controlled by an 'axis' which is a 0px height/width div\n    (along the medial - ScrollBlock can be vertical or horizontal). The purpose of the axis is to\n    act as a 'fold', above which cradle content expands 'headwards' (up or left) in the Cradle, and\n    below which the cradle content expands 'tailwards' (down or right). The Cradle content is held in\n    two CSS grids (children of the axis): one above or left (the 'head' grid), and one below or right,\n    of the position of the axis (the 'tail' grid).\n\n    The axis is kept near the leading (headward) edge of the visible cell rows of the Viewport\n\n    Technically, there are several key reference points tracked by the Cradle. These are:\n        - targetAxisReferencePosition is the virtual 0-based position of the item controlling the location\n          of the axis.\n        - The axisReferenceIndex is inferred from the targetAxisReferencePosition, by adding the virtual index\n            range low index to the targetAxisReferencePosition.\n            The axisReferenceIndex is also used to allocate items above (lower index value) and below\n            (same or higher index value) the axis fold. The axisReferenceIndex is the first item in the\n            tail section of the Cradle.\n        - (cradleReferenceIndex is inferred from the axisReferenceIndex, and is the virtual index of\n            the item defining the leading bound of the cradle content. The cradleReferenceIndex is usually\n            the first item in the head section of the Cradle, unless the cradle shows the very top of the\n            list, in which case the cradleReferenceIndex is the same as the AxisReferenceIndex)\n        - axisViewportPixelOffset (pixels that place the axis in relation to the viewport's leading edge)\n        - the trackingBlockScrollPos, which is the amount of scroll (Viewport scrollTop or scrollLeft) of the\n            ScrollBlock\n    \n    Overscroll handling (repositioning):\n        Owing to the potential rapidity of scrolling, which in the case of large lists and heavy content\n        can be too fast for the system to keep up, there is an overscroll protocol called 'repositioning'.\n\n        If the overscroll is such that the cradle (including its two content grids) has entirely passed\n        out of the viewport, then the Cradle component is replaced by a ScrollTracker (or by null if\n        the host takes responsibility for feedback). The ScrollTracker displays to the user the relative\n        location in the virtual list at the edge of the viewport during repositioning. When the scrolling\n        stops Cradle recreates the cradle content, according to the final position of the repositioning\n        process.\n\n    Cradle changes are activated by interrupts:\n    - scrolling\n    - resizing of the viewport\n    - IntersectionObserver callbacks:\n        - cradle/viewport intersection for repositioning when the cradle races out of scope\n        - two 'triggerline'/viewport intersections which trigger rolling of content\n            - rolling content triggers re-allocation of content between cradle head and tail grids\n    - pivot - change of orientation\n    - host changes of configuration specs through property changes or direct service calls\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ \"./src/Viewport.tsx\");\n// support code; process handlers\nvar scrollhandler_1 = __importDefault(__webpack_require__(/*! ./cradle/scrollhandler */ \"./src/cradle/scrollhandler.tsx\"));\nvar statehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/statehandler */ \"./src/cradle/statehandler.tsx\"));\nvar contenthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/contenthandler */ \"./src/cradle/contenthandler.tsx\"));\nvar layouthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/layouthandler */ \"./src/cradle/layouthandler.tsx\"));\nvar interrupthandler_1 = __importDefault(__webpack_require__(/*! ./cradle/interrupthandler */ \"./src/cradle/interrupthandler.tsx\"));\nvar servicehandler_1 = __importDefault(__webpack_require__(/*! ./cradle/servicehandler */ \"./src/cradle/servicehandler.tsx\"));\nvar styleshandler_1 = __importDefault(__webpack_require__(/*! ./cradle/styleshandler */ \"./src/cradle/styleshandler.tsx\"));\n// cacheAPI is imported as a property; instantiated at the root\n// import { isSafariIOS } from './InfiniteGridScroller'\n// for children\nexports.CradleContext = react_1[\"default\"].createContext(null);\n// component\nvar Cradle = function Cradle(_ref) {\n  var gridSpecs = _ref.gridSpecs,\n    paddingProps = _ref.paddingProps,\n    gapProps = _ref.gapProps,\n    runwaySize = _ref.runwaySize,\n    virtualListSpecs = _ref.virtualListSpecs,\n    setVirtualListSize = _ref.setVirtualListSize,\n    setVirtualListRange = _ref.setVirtualListRange,\n    startingIndex = _ref.startingIndex,\n    getItem = _ref.getItem,\n    getExpansionCount = _ref.getExpansionCount,\n    placeholder = _ref.placeholder,\n    placeholderMessages = _ref.placeholderMessages,\n    userCallbacks = _ref.userCallbacks,\n    styles = _ref.styles,\n    triggerlineOffset = _ref.triggerlineOffset,\n    cache = _ref.cache,\n    cacheMax = _ref.cacheMax,\n    scrollerID = _ref.scrollerID,\n    cacheAPI = _ref.cacheAPI,\n    usePlaceholder = _ref.usePlaceholder,\n    showAxis = _ref.showAxis,\n    ONAFTERSCROLL_TIMEOUT = _ref.ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT = _ref.IDLECALLBACK_TIMEOUT,\n    MAX_CACHE_OVER_RUN = _ref.MAX_CACHE_OVER_RUN,\n    VARIABLE_MEASUREMENTS_TIMEOUT = _ref.VARIABLE_MEASUREMENTS_TIMEOUT,\n    scrollerProperties = _ref.scrollerProperties;\n  var listsize = virtualListSpecs.size,\n    lowindex = virtualListSpecs.lowindex,\n    highindex = virtualListSpecs.highindex;\n  // ========================[ DATA SETUP ]========================\n  // unpack gridSpecs\n  var orientation = gridSpecs.orientation,\n    cellHeight = gridSpecs.cellHeight,\n    cellWidth = gridSpecs.cellWidth,\n    cellMinHeight = gridSpecs.cellMinHeight,\n    cellMinWidth = gridSpecs.cellMinWidth,\n    layout = gridSpecs.layout;\n  // get viewport context\n  var ViewportContextProperties = (0, react_1.useContext)(Viewport_1.ViewportContext);\n  var ViewportContextPropertiesRef = (0, react_1.useRef)(null);\n  ViewportContextPropertiesRef.current = ViewportContextProperties; // for closures\n  // flags\n  var isMountedRef = (0, react_1.useRef)(true),\n    isCachedRef = (0, react_1.useRef)(false),\n    wasCachedRef = (0, react_1.useRef)(false),\n    hasBeenRenderedRef = (0, react_1.useRef)(false),\n    // trigger control\n    triggerHistoryRef = (0, react_1.useRef)({\n      previousTriggerNameAtBorder: null\n    });\n  //  viewport dimensions and cached state\n  var getViewportDimensions = function getViewportDimensions() {\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    return {\n      width: viewportElement.offsetWidth,\n      height: viewportElement.offsetHeight\n    };\n  };\n  var _getViewportDimension = getViewportDimensions(),\n    viewportheight = _getViewportDimension.height,\n    viewportwidth = _getViewportDimension.width; // viewportDimensions\n  // cache test\n  // zero width and height means the component must be in portal (cache) state\n  var isInPortal = viewportwidth == 0 && viewportheight == 0,\n    isCacheChange = isInPortal != isCachedRef.current;\n  if (isCacheChange) {\n    wasCachedRef.current = isCachedRef.current;\n    isCachedRef.current = isInPortal;\n  }\n  // cradle state\n  var _ref2 = (0, react_1.useState)('setup'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    cradleState = _ref3[0],\n    setCradleState = _ref3[1],\n    cradleStateRef = (0, react_1.useRef)(null); // access by closures\n  cradleStateRef.current = cradleState;\n  // if (!scrollerProperties) { // root scroller\n  // console.log('--\x3e cradleState','-'+scrollerID+'-', cradleState)\n  // console.log('-- index','~'+scrollerProperties?.cellFramePropertiesRef.current.index+'~')\n  // console.log('-- itemID','+'+scrollerProperties?.cellFramePropertiesRef.current.itemID+'+')\n  // }\n  // cradle scaffold element refs\n  var headCradleElementRef = (0, react_1.useRef)(null),\n    tailCradleElementRef = (0, react_1.useRef)(null),\n    axisCradleElementRef = (0, react_1.useRef)(null),\n    triggercellTriggerlineHeadElementRef = (0, react_1.useRef)(null),\n    triggercellTriggerlineTailElementRef = (0, react_1.useRef)(null),\n    // layout bundle\n    cradleElementsRef = (0, react_1.useRef)({\n      headRef: headCradleElementRef,\n      tailRef: tailCradleElementRef,\n      axisRef: axisCradleElementRef,\n      triggercellTriggerlineHeadRef: triggercellTriggerlineHeadElementRef,\n      triggercellTriggerlineTailRef: triggercellTriggerlineTailElementRef\n    });\n  // ------------------------[ calculated properties ]------------------------\n  // configuration calculations\n  // crosscount (also calculated by Scrollblock for deriving Scrollblock length)\n  var crosscount = (0, react_1.useMemo)(function () {\n    if (isCachedRef.current) return 0;\n    var viewportcrosslength = orientation == 'vertical' ? viewportwidth : viewportheight,\n      crosspadding = orientation == 'vertical' ? paddingProps.left + paddingProps.right : paddingProps.top + paddingProps.bottom,\n      crossgap = orientation == 'vertical' ? gapProps.column : gapProps.row,\n      // cross length of viewport (gap to match crossLength)\n      viewportcrosslengthforcalc = viewportcrosslength - crosspadding + crossgap,\n      cellcrosslength = (orientation == 'vertical' ? cellWidth : cellHeight) + crossgap,\n      cellcrosslengthforcalc = Math.min(cellcrosslength, viewportcrosslengthforcalc),\n      // result cannot be less than 1\n      crosscount = Math.floor(viewportcrosslengthforcalc / cellcrosslengthforcalc);\n    return crosscount;\n  }, [orientation, gapProps, paddingProps, cellWidth, cellHeight, viewportheight, viewportwidth]);\n  var _ref4 = (0, react_1.useMemo)(function () {\n      if (listsize == 0) {\n        return [undefined, undefined];\n      }\n      // add position adjustment for 0\n      var endadjustment = highindex < 0 ? -1 : 1;\n      // get initial values\n      var baserowblanks = Math.abs(lowindex) % crosscount;\n      var endrowblanks = (Math.abs(highindex) + endadjustment) % crosscount;\n      // take inverse depending on direction\n      if (lowindex < 0) {\n        baserowblanks = baserowblanks == 0 ? 0 : crosscount - baserowblanks;\n      }\n      if (highindex >= 0) {\n        endrowblanks = endrowblanks == 0 ? 0 : crosscount - endrowblanks;\n      }\n      return [baserowblanks, endrowblanks];\n    }, [crosscount, listsize, lowindex, highindex]),\n    _ref5 = _slicedToArray(_ref4, 2),\n    baserowblanks = _ref5[0],\n    endrowblanks = _ref5[1];\n  // various row counts\n  var _ref6 = (0, react_1.useMemo)(function () {\n      var viewportLength = orientation == 'vertical' ? viewportheight : viewportwidth,\n        gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row;\n      var baseRowLength;\n      if (layout == 'uniform') {\n        if (orientation == 'vertical') {\n          baseRowLength = cellHeight;\n        } else {\n          baseRowLength = cellWidth;\n        }\n      } else {\n        // layout == 'variable'\n        if (orientation == 'vertical') {\n          baseRowLength = cellMinHeight;\n        } else {\n          baseRowLength = cellMinWidth;\n        }\n      }\n      baseRowLength += gaplength;\n      var viewportRowcount = Math.ceil(viewportLength / baseRowLength);\n      var listRowcount = listsize == 0 ? 0 : Math.ceil((listsize + baserowblanks + endrowblanks) / crosscount);\n      var calculatedCradleRowcount = viewportRowcount + runwaySize * 2;\n      var cradleRowcount = Math.min(listRowcount, calculatedCradleRowcount);\n      var runwayRowcount;\n      if (cradleRowcount == calculatedCradleRowcount) {\n        runwayRowcount = runwaySize;\n      } else {\n        // cradleRowcount is less than calculatedCradleRowCount\n        var diff = calculatedCradleRowcount - cradleRowcount;\n        runwayRowcount = runwaySize - Math.floor(diff / 2);\n        runwayRowcount = Math.max(0, runwayRowcount);\n      }\n      var itemcount = cradleRowcount * crosscount;\n      if (itemcount > listsize) {\n        itemcount = listsize;\n        cradleRowcount = Math.ceil((itemcount + baserowblanks + endrowblanks) / crosscount);\n      }\n      return [cradleRowcount, viewportRowcount, listRowcount, runwayRowcount, layout];\n    }, [orientation, gapProps, cellWidth, cellHeight, cellMinWidth, cellMinHeight, viewportheight, viewportwidth, listsize, baserowblanks, endrowblanks, runwaySize, crosscount, layout]),\n    _ref7 = _slicedToArray(_ref6, 4),\n    cradleRowcount = _ref7[0],\n    viewportRowcount = _ref7[1],\n    listRowcount = _ref7[2],\n    runwayRowcount = _ref7[3];\n  var rangerowshift = (0, react_1.useMemo)(function () {\n    return listsize == 0 ? undefined : Math.floor(lowindex / crosscount);\n  }, [crosscount, lowindex, listsize]);\n  var virtualListProps = Object.assign(Object.assign({}, virtualListSpecs), {\n    baserowblanks: baserowblanks,\n    endrowblanks: endrowblanks,\n    crosscount: crosscount,\n    rowcount: listRowcount,\n    rowshift: rangerowshift\n  });\n  var cradleContentPropsRef = (0, react_1.useRef)({\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    runwayRowcount: runwayRowcount,\n    SOL: undefined,\n    EOL: undefined,\n    lowindex: undefined,\n    highindex: undefined,\n    size: 0\n  });\n  var cradleContentProps = cradleContentPropsRef.current;\n  Object.assign(cradleContentProps, {\n    cradleRowcount: cradleRowcount,\n    viewportRowcount: viewportRowcount,\n    runwayRowcount: runwayRowcount\n  });\n  // ----------------------[ callbacks ]----------------------------\n  // host callbacks, upacked by serviceHandler\n  var externalCallbacksRef = (0, react_1.useRef)({\n    referenceIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.referenceIndexCallback,\n    repositioningFlagCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.repositioningFlagCallback,\n    repositioningIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.repositioningIndexCallback,\n    preloadIndexCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.preloadIndexCallback,\n    deleteListCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.deleteListCallback,\n    changeListSizeCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.changeListSizeCallback,\n    changeListRangeCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.changeListRangeCallback,\n    itemExceptionCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.itemExceptionCallback,\n    boundaryCallback: userCallbacks === null || userCallbacks === void 0 ? void 0 : userCallbacks.boundaryCallback\n  });\n  // -----------------[ bundle properties for handlers ]-------------------\n  // bundle all cradle props to pass to handlers - ultimately cradleParametersRef\n  var cradleInheritedPropertiesRef = (0, react_1.useRef)(null); // access by closures and support callbacks\n  // up to date values\n  cradleInheritedPropertiesRef.current = {\n    // gridSpecs\n    orientation: orientation,\n    layout: layout,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    // ...rest\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    runwaySize: runwaySize,\n    getItem: getItem,\n    getExpansionCount: getExpansionCount,\n    placeholder: placeholder,\n    placeholderMessages: placeholderMessages,\n    usePlaceholder: usePlaceholder,\n    triggerlineOffset: triggerlineOffset,\n    scrollerID: scrollerID,\n    // objects\n    userCallbacks: userCallbacks,\n    styles: styles,\n    cacheAPI: cacheAPI,\n    // control values\n    ONAFTERSCROLL_TIMEOUT: ONAFTERSCROLL_TIMEOUT,\n    MAX_CACHE_OVER_RUN: MAX_CACHE_OVER_RUN,\n    scrollerProperties: scrollerProperties\n  };\n  var scrollerPropertiesRef = (0, react_1.useRef)(null);\n  // passed to cellFrame content (user content) if requested\n  scrollerPropertiesRef.current = {\n    orientation: orientation,\n    gapProps: gapProps,\n    paddingProps: paddingProps,\n    layout: layout,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    virtualListProps: virtualListProps,\n    cradleContentProps: cradleContentProps,\n    cache: cache,\n    cacheMax: cacheMax,\n    startingIndex: startingIndex,\n    scrollerID: scrollerID\n  };\n  // configuration properties to share with handlers\n  var cradleInternalPropertiesRef = (0, react_1.useRef)(null);\n  cradleInternalPropertiesRef.current = {\n    // updated values\n    virtualListProps: virtualListProps,\n    setVirtualListSize: setVirtualListSize,\n    setVirtualListRange: setVirtualListRange,\n    cradleContentProps: cradleContentPropsRef.current,\n    paddingProps: paddingProps,\n    gapProps: gapProps,\n    // the following values are maintained elsewhere\n    isMountedRef: isMountedRef,\n    cradleElementsRef: cradleElementsRef,\n    isCachedRef: isCachedRef,\n    wasCachedRef: wasCachedRef,\n    triggerHistoryRef: triggerHistoryRef,\n    // for stateHandler\n    cradleStateRef: cradleStateRef,\n    setCradleState: setCradleState\n  };\n  // placeholder in cradleParameters to make available individual handlers\n  var handlersRef = (0, react_1.useRef)(null);\n  // cradle parameters MASTER BUNDLE\n  var cradleParameters = {\n    handlersRef: handlersRef,\n    ViewportContextPropertiesRef: ViewportContextPropertiesRef,\n    cradleInheritedPropertiesRef: cradleInheritedPropertiesRef,\n    scrollerPropertiesRef: scrollerPropertiesRef,\n    cradleInternalPropertiesRef: cradleInternalPropertiesRef,\n    externalCallbacksRef: externalCallbacksRef\n  };\n  var cradleParametersRef = (0, react_1.useRef)(null);\n  cradleParametersRef.current = cradleParameters;\n  // ongoing source of handlers - note all Handlers are given all parameters (cradleParameters)\n  if (!handlersRef.current) {\n    handlersRef.current = getCradleHandlers(cradleParameters);\n  }\n  // make handlers directly available to cradle code below\n  var _handlersRef$current = handlersRef.current,\n    interruptHandler = _handlersRef$current.interruptHandler,\n    scrollHandler = _handlersRef$current.scrollHandler,\n    contentHandler = _handlersRef$current.contentHandler,\n    layoutHandler = _handlersRef$current.layoutHandler,\n    serviceHandler = _handlersRef$current.serviceHandler,\n    stylesHandler = _handlersRef$current.stylesHandler;\n  // =======================[ INTERCEPT CACHING STATE CHANGE ]=========================\n  /*\n      Intercept change in caching status:\n      when a component is cached in a portal (in the React virtual DOM), including the transition of\n      being moved from one cellFrame to another when crossing the Cradle axis,\n      the scrollPos (scrollLeft or scrollTop) is reset to 0 (zero). When the scroller is\n      moved to a cellFrame, this code triggers restoration the scrollPos (see case 'parentingtransition'\n      in the state management section below).\n  \n      This supports InfiniteGridScroller components to be cached as content.\n  \n      The restore scrollPos action must be the first priority to hide these scrollPos adjustments\n      from the user.\n  */\n  var restoreScrollPos = function restoreScrollPos() {\n    var cradlePositionData = layoutHandler.cradlePositionData,\n      trackingBlockScrollPos = cradlePositionData.trackingBlockScrollPos,\n      trackingXBlockScrollPos = cradlePositionData.trackingXBlockScrollPos;\n    if (trackingBlockScrollPos !== null) {\n      var viewportElement = ViewportContextPropertiesRef.current.elementRef.current;\n      var scrollOptions;\n      if (cradlePositionData.blockScrollProperty == 'scrollTop') {\n        scrollOptions = {\n          top: trackingBlockScrollPos,\n          left: trackingXBlockScrollPos,\n          behavior: 'instant'\n        };\n      } else {\n        scrollOptions = {\n          left: trackingBlockScrollPos,\n          top: trackingXBlockScrollPos,\n          behavior: 'instant'\n        };\n      }\n      viewportElement.scroll(scrollOptions);\n    }\n  };\n  if (isCacheChange && !isCachedRef.current) {\n    restoreScrollPos();\n  }\n  // change state for entering or leaving cache\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return; // nothing to do\n    if (isCachedRef.current && !wasCachedRef.current) {\n      // into cache\n      setCradleState('cached');\n    } else if (!isCachedRef.current && wasCachedRef.current) {\n      // out of cache\n      wasCachedRef.current = false;\n      if (hasBeenRenderedRef.current) {\n        setCradleState('rerenderfromcache');\n      } else {\n        setCradleState('firstrenderfromcache');\n      }\n    }\n  }, [isCachedRef.current, wasCachedRef.current]);\n  // ===================[ INITIALIZATION effects ]=========================\n  // initialization effects are independent of caching\n  // clear mounted flag on unmount\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    // unmount\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  //send call-in functions to host\n  (0, react_1.useEffect)(function () {\n    if (!userCallbacks.functionsCallback) return;\n    var scrollToIndex = serviceHandler.scrollToIndex,\n      scrollToPixel = serviceHandler.scrollToPixel,\n      scrollByPixel = serviceHandler.scrollByPixel,\n      reload = serviceHandler.reload,\n      setListsize = serviceHandler.setListsize,\n      setListSize = serviceHandler.setListSize,\n      setListRange = serviceHandler.setListRange,\n      prependIndexCount = serviceHandler.prependIndexCount,\n      appendIndexCount = serviceHandler.appendIndexCount,\n      clearCache = serviceHandler.clearCache,\n      getCacheIndexMap = serviceHandler.getCacheIndexMap,\n      getCacheItemMap = serviceHandler.getCacheItemMap,\n      getCradleIndexMap = serviceHandler.getCradleIndexMap,\n      getPropertiesSnapshot = serviceHandler.getPropertiesSnapshot,\n      remapIndexes = serviceHandler.remapIndexes,\n      moveIndex = serviceHandler.moveIndex,\n      insertIndex = serviceHandler.insertIndex,\n      removeIndex = serviceHandler.removeIndex;\n    var functions = {\n      scrollToIndex: scrollToIndex,\n      scrollToPixel: scrollToPixel,\n      scrollByPixel: scrollByPixel,\n      reload: reload,\n      setListsize: setListsize,\n      setListSize: setListSize,\n      setListRange: setListRange,\n      prependIndexCount: prependIndexCount,\n      appendIndexCount: appendIndexCount,\n      clearCache: clearCache,\n      getCacheIndexMap: getCacheIndexMap,\n      getCacheItemMap: getCacheItemMap,\n      getCradleIndexMap: getCradleIndexMap,\n      getPropertiesSnapshot: getPropertiesSnapshot,\n      remapIndexes: remapIndexes,\n      moveIndex: moveIndex,\n      insertIndex: insertIndex,\n      removeIndex: removeIndex\n    };\n    userCallbacks.functionsCallback(functions);\n  }, []);\n  // initialize window scroll listeners\n  (0, react_1.useEffect)(function () {\n    var viewportElement = ViewportContextPropertiesRef.current.elementRef.current;\n    viewportElement.addEventListener('scroll', scrollHandler.onScroll);\n    return function () {\n      viewportElement && viewportElement.removeEventListener('scroll', scrollHandler.onScroll);\n    };\n  }, []);\n  // observer support\n  /*\n      There are two interection observers: one for the two cradle grids, and another for triggerlines;\n          both against the viewport.\n  */\n  (0, react_1.useEffect)(function () {\n    var cradleIntersect = interruptHandler.cradleIntersect,\n      triggerlinesIntersect = interruptHandler.triggerlinesIntersect;\n    // intersection observer for cradle body\n    // this sets up an IntersectionObserver of the cradle against the viewport. When the\n    // cradle goes out of the observer scope, the 'repositioningRender' cradle state is triggered.\n    var cradleintersectobserver = cradleIntersect.createObserver();\n    cradleIntersect.connectElements();\n    // triggerobserver triggers cradle content updates \n    //     when triggerlines pass the edge of the viewport\n    // defer connectElements until triggercell triggerlines have been assigned\n    var triggerobserver = triggerlinesIntersect.createObserver();\n    return function () {\n      cradleintersectobserver.disconnect();\n      triggerobserver.disconnect();\n    };\n  }, []);\n  // =====================[ RECONFIGURATION effects ]======================\n  // change listsize, caching, resize (UI resize of the viewport), reconfigure, or pivot\n  // inernal callback: the new list size will always be less than current listsize\n  // invoked if getItem returns null\n  var nullItemSetMaxListsize = (0, react_1.useCallback)(function (maxListsize) {\n    var listsize = cradleInternalPropertiesRef.current.virtualListProps.size;\n    if (maxListsize < listsize) {\n      var _serviceHandler$callb = serviceHandler.callbacks,\n        deleteListCallback = _serviceHandler$callb.deleteListCallback,\n        changeListSizeCallback = _serviceHandler$callb.changeListSizeCallback;\n      var dListCallback;\n      if (deleteListCallback) {\n        dListCallback = function dListCallback(deleteList) {\n          deleteListCallback('getItem returned null', deleteList);\n        };\n      }\n      contentHandler.updateVirtualListSize(maxListsize);\n      cacheAPI.changeCacheListSize(maxListsize, dListCallback, changeListSizeCallback);\n    }\n  }, []);\n  // caching change\n  (0, react_1.useEffect)(function () {\n    if (cache == 'preload') {\n      setCradleState('startpreload');\n      return;\n    }\n    if (cradleStateRef.current == 'setup') return;\n    switch (cache) {\n      case 'keepload':\n        {\n          var modelIndexList = contentHandler.getModelIndexList();\n          var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n          var dListCallback;\n          if (deleteListCallback) {\n            dListCallback = function dListCallback(deleteList) {\n              deleteListCallback('pare cache to cacheMax', deleteList);\n            };\n          }\n          var _cacheMax = cradleParameters.cradleInheritedPropertiesRef.current.cacheMax;\n          if (cacheAPI.pareCacheToMax(_cacheMax, modelIndexList, dListCallback)) {\n            cacheAPI.renderPortalLists();\n          }\n          setCradleState('changecaching');\n          break;\n        }\n      case 'cradle':\n        {\n          var _modelIndexList = contentHandler.getModelIndexList();\n          var _deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n          var _dListCallback;\n          if (_deleteListCallback) {\n            _dListCallback = function _dListCallback(deleteList) {\n              _deleteListCallback('match cache to cradle', deleteList);\n            };\n          }\n          if (cacheAPI.matchCacheToCradle(_modelIndexList, _dListCallback)) {\n            cacheAPI.renderPortalLists();\n          }\n          setCradleState('changecaching');\n          break;\n        }\n    }\n  }, [cache, cacheMax]);\n  // trigger viewportresizing response based on viewport state\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    // movement to and from cache is independent of ui viewportresizing\n    if (isCachedRef.current || wasCachedRef.current) {\n      return;\n    }\n    if (ViewportContextPropertiesRef.current.isResizing && cradleStateRef.current != 'viewportresizing') {\n      interruptHandler.pauseInterrupts();\n      setCradleState('viewportresizing');\n    }\n    // complete viewportresizing mode\n    if (!ViewportContextPropertiesRef.current.isResizing && cradleStateRef.current == 'viewportresizing') {\n      setCradleState('finishviewportresize');\n    }\n  }, [ViewportContextPropertiesRef.current.isResizing]);\n  // reconfigure for changed size parameters\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigure');\n  }, [cellHeight, cellWidth, gapProps, paddingProps, triggerlineOffset, layout, runwaySize]);\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    if (isCachedRef.current) return; // TODO: ??\n    interruptHandler.pauseInterrupts();\n    setCradleState('reconfigureforlistrange');\n  }, [lowindex, highindex]);\n  // a new getItem function implies the need to reload\n  (0, react_1.useEffect)(function () {\n    if (cradleStateRef.current == 'setup') return;\n    interruptHandler.pauseInterrupts();\n    setCradleState('reload');\n  }, [getItem]);\n  // pivot triggered on change of orientation\n  (0, react_1.useEffect)(function () {\n    layoutHandler.cradlePositionData.blockScrollProperty = orientation == \"vertical\" ? \"scrollTop\" : \"scrollLeft\";\n    layoutHandler.cradlePositionData.blockXScrollProperty = orientation == \"horizontal\" ? \"scrollTop\" : \"scrollLeft\";\n    if (cradleStateRef.current == 'setup') {\n      layoutHandler.cradlePositionData.trackingBlockScrollPos = 0;\n      layoutHandler.cradlePositionData.trackingXBlockScrollPos = 0;\n      return;\n    }\n    interruptHandler.pauseInterrupts();\n    // interruptHandler.triggerlinesIntersect.disconnect()\n    if (isCachedRef.current) {\n      // cacheAPI.measureMemory('pivot cached')\n      // interruptHandler.pauseInterrupts() // suppress triggerline callbacks; will render for first render from cache\n      // setCradleState('cached')\n      hasBeenRenderedRef.current = false;\n      return;\n    }\n    // cacheAPI.measureMemory('pivot')\n    var layout = cradleInheritedPropertiesRef.current.layout,\n      cradlePositionData = layoutHandler.cradlePositionData,\n      gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row,\n      gapxlength = orientation == 'vertical' ? gapProps.row : gapProps.column;\n    if (layout == 'uniform') {\n      var _cradleInheritedPrope = cradleInheritedPropertiesRef.current,\n        _cellWidth = _cradleInheritedPrope.cellWidth,\n        _cellHeight = _cradleInheritedPrope.cellHeight,\n        _gapProps = _cradleInheritedPrope.gapProps,\n        previousCellPixelLength = (orientation == 'vertical' ? _cellWidth : _cellHeight) + gapxlength,\n        previousPixelOffsetAxisFromViewport = layoutHandler.cradlePositionData.targetPixelOffsetAxisFromViewport,\n        previousratio = previousPixelOffsetAxisFromViewport / previousCellPixelLength,\n        pivotCellPixelLength = (orientation == 'vertical' ? _cellHeight : _cellWidth) + gaplength,\n        pivotAxisOffset = previousratio * pivotCellPixelLength;\n      cradlePositionData.targetPixelOffsetAxisFromViewport = Math.round(pivotAxisOffset);\n    } else {\n      cradlePositionData.targetPixelOffsetAxisFromViewport = gapxlength;\n    }\n    setCradleState('pivot');\n  }, [orientation, layout]); // TODO: check for side-effects of layout-only change\n  // =====================[ STYLES ]===========================\n  // styles for the six scaffold components\n  var _ref8 = (0, react_1.useMemo)(function () {\n      return stylesHandler.getCradleStyles({\n        orientation: orientation,\n        cellHeight: cellHeight,\n        cellWidth: cellWidth,\n        cellMinHeight: cellMinHeight,\n        cellMinWidth: cellMinWidth,\n        gapProps: gapProps,\n        viewportheight: viewportheight,\n        viewportwidth: viewportwidth,\n        crosscount: crosscount,\n        userstyles: styles,\n        triggerlineOffset: triggerlineOffset,\n        layout: layout\n      });\n    }, [orientation, cellHeight, cellWidth, cellMinHeight, cellMinWidth, gapProps, viewportheight, viewportwidth, crosscount, styles, triggerlineOffset, layout]),\n    _ref9 = _slicedToArray(_ref8, 6),\n    cradleHeadStyle = _ref9[0],\n    cradleTailStyle = _ref9[1],\n    cradleAxisStyle = _ref9[2],\n    cradleDividerStyle = _ref9[3],\n    triggercellTriggerlineHeadStyle = _ref9[4],\n    triggercellTriggerlineTailStyle = _ref9[5];\n  // =====================[ STATE MANAGEMENT ]==========================\n  // this is the core state engine (about 32 states), using named states\n  // useLayoutEffect for suppressing flashes\n  (0, react_1.useLayoutEffect)(function () {\n    switch (cradleState) {\n      // --------------[ precursors to setCradleContent ]---------------\n      // these are all workflow related, but\n      // resize could be asynchronous when rotating phone during scroll intertia\n      case 'setup':\n        {\n          // cycle to allow for ref assignments\n          if (cradleInheritedPropertiesRef.current.cache != 'preload') {\n            if (isCachedRef.current) {\n              setCradleState('cached');\n            } else {\n              setCradleState('firstrender'); // load grid\n            }\n          }\n\n          break;\n        }\n      case 'viewportresizing':\n        {\n          // no-op, wait for resizing to end\n          break;\n        }\n      case 'startpreload':\n        {\n          var finalCallback = function finalCallback() {\n            var modelIndexList = contentHandler.getModelIndexList();\n            var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n            var dListCallback;\n            if (deleteListCallback) {\n              dListCallback = function dListCallback(deleteList) {\n                deleteListCallback('pare cache to cacheMax', deleteList);\n              };\n            }\n            if (cacheAPI.pareCacheToMax(cacheMax, modelIndexList, dListCallback)) {\n              cacheAPI.renderPortalLists();\n            }\n            if (!isCachedRef.current) {\n              setCradleState('finishpreload');\n            } else {\n              setCradleState('cached');\n            }\n          };\n          cacheAPI.preload(finalCallback, nullItemSetMaxListsize);\n          break;\n        }\n      case 'cached':\n        {\n          if (!wasCachedRef.current && !isCachedRef.current) {\n            if (hasBeenRenderedRef.current) {\n              setCradleState('rerenderfromcache');\n            } else {\n              setCradleState('firstrenderfromcache');\n            }\n          } // else wait for reparenting\n          break;\n        }\n      case 'startreposition':\n        {\n          var signals = interruptHandler.signals;\n          signals.pauseTriggerlinesObserver = true;\n          // avoid recursive cradle intersection interrupts\n          signals.pauseCradleIntersectionObserver = true;\n          signals.repositioningRequired = false; // because now underway\n          if (scrollHandler.isScrolling) {\n            var _cradleInternalProper = cradleInternalPropertiesRef.current.virtualListProps,\n              _lowindex = _cradleInternalProper.lowindex,\n              _listsize = _cradleInternalProper.size;\n            ViewportContextPropertiesRef.current.scrollTrackerAPIRef.current.startReposition(layoutHandler.cradlePositionData.targetAxisReferencePosition, _lowindex, _listsize);\n            setCradleState('repositioningRender');\n          } else {\n            setCradleState('finishreposition');\n          }\n          break;\n        }\n      // -------------------[ setCradleContent ]------------------\n      /*\n          the following 12 cradle states all resolve with\n          a chain starting with setCradleContent,\n          continuing with 'preparerender', and ending with\n          'restoreinterrupts', with a detour for variable layout\n          to reconfigure the scrollblock\n      */\n      case 'firstrender':\n      case 'firstrenderfromcache':\n      case 'rerenderfromcache':\n      case 'scrollto':\n      case 'changecaching':\n      case 'finishpreload':\n      case 'finishreposition':\n      case 'finishviewportresize':\n      case 'pivot':\n      case 'reconfigure':\n      case 'reconfigureforlistrange':\n      case 'reload':\n        {\n          if (!isMountedRef.current) return; // possible async latency with nested scrollers\n          if (isCachedRef.current) {\n            setCradleState('cached');\n            break;\n          }\n          var _cradleContent = contentHandler.content;\n          _cradleContent.headModelComponents = [];\n          _cradleContent.tailModelComponents = [];\n          var _layout = cradleInheritedPropertiesRef.current.layout;\n          interruptHandler.triggerlinesIntersect.disconnect();\n          interruptHandler.cradleIntersect.disconnect();\n          if (_layout == 'variable') {\n            // restore base config to scrollblock\n            // already done for reposition\n            cradleState != 'finishreposition' && layoutHandler.restoreBaseScrollblockConfig();\n          }\n          if (cradleState == 'reload') {\n            cacheAPI.clearCache();\n          }\n          if (cradleState == 'finishreposition') {\n            ViewportContextPropertiesRef.current.scrollTrackerAPIRef.current.finishReposition();\n            scrollHandler.calcImpliedRepositioningData('finishreposition');\n          }\n          var _listsize2 = cradleInternalPropertiesRef.current.virtualListProps.size;\n          // set data\n          if (_listsize2) contentHandler.setCradleContent(cradleState);\n          if (cradleState != 'finishpreload') {\n            hasBeenRenderedRef.current = true;\n          }\n          // synchronize cache if necessary\n          var _cache = cradleInheritedPropertiesRef.current.cache;\n          if (_cache == 'cradle') {\n            var modelIndexList = contentHandler.getModelIndexList();\n            var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n            var dListCallback;\n            if (deleteListCallback) {\n              dListCallback = function dListCallback(deleteList) {\n                deleteListCallback('match cache to cradle', deleteList);\n              };\n            }\n            if (cacheAPI.matchCacheToCradle(modelIndexList, dListCallback)) {\n              cacheAPI.renderPortalLists();\n            }\n          }\n          // prepare the cycle for preparerender\n          _cradleContent.headDisplayComponents = _cradleContent.headModelComponents;\n          _cradleContent.tailDisplayComponents = _cradleContent.tailModelComponents;\n          // update virtual DOM\n          if (_layout == 'uniform') {\n            setCradleState('preparerender');\n          } else {\n            setCradleState('refreshDOMsetforvariability');\n          }\n          break;\n        }\n      case 'preparerender':\n        {\n          // cycle for DOM update\n          // triggerlines will have been assigned to a new triggerCell by now.\n          // connectElements was delayed for a cycle to render triggercell triggerlines\n          interruptHandler.triggerlinesIntersect.connectElements();\n          interruptHandler.cradleIntersect.connectElements();\n          setCradleState('restoreinterrupts');\n          break;\n        }\n      case 'restoreinterrupts':\n        {\n          // normalize\n          interruptHandler.restoreInterrupts();\n          setCradleState('ready');\n          break;\n        }\n      case 'triggerboundarynotications':\n        {\n          serviceHandler.triggerBoundaryCallbacks();\n          setCradleState('ready');\n          break;\n        }\n      // ----------------------[ followup from axisTriggerlinesObserverCallback ]------------\n      // scroll effects\n      // renderupdatedcontent is called from interruptHandler.axisTriggerlinesObserverCallback. \n      // it is required to integrate changed DOM configurations before 'ready' is displayed\n      case 'renderupdatedcontent':\n        {\n          // cycle for DOM update\n          // if (isCachedRef.current) return // DEBUG!!\n          contentHandler.updateCradleContent();\n          setCradleState('finishupdatedcontent');\n          break;\n        }\n      case 'finishupdatedcontent':\n        {\n          // cycle for DOM update\n          // synchronize cache\n          var _cache2 = cradleInternalPropertiesRef.current.cache;\n          if (_cache2 == 'keepload') {\n            contentHandler.guardAgainstRunawayCaching();\n          }\n          // cacheAPI.measureMemory('finish update')\n          var _layout2 = cradleInheritedPropertiesRef.current.layout;\n          if (_layout2 == 'uniform') {\n            interruptHandler.triggerlinesIntersect.connectElements();\n            setCradleState('ready');\n          } else {\n            // 'variable' content requiring reconfiguration\n            setCradleState('refreshDOMupdateforvariability');\n          }\n          break;\n        }\n      // ---------------------[ adjust scrollblock for set variable content ]--------------\n      case 'refreshDOMsetforvariability':\n        {\n          setCradleState('preparesetforvariability');\n          break;\n        }\n      case 'preparesetforvariability':\n        {\n          setTimeout(function () {\n            if (isMountedRef.current) {\n              contentHandler.adjustScrollblockForVariability('setcradle');\n              setCradleState('finishsetforvariability');\n            }\n          }, VARIABLE_MEASUREMENTS_TIMEOUT);\n          break;\n        }\n      case 'finishsetforvariability':\n        {\n          setCradleState('preparerender');\n          break;\n        }\n      // ------------------------[ adjust scrollblock for update variable content ]--------------\n      case 'refreshDOMupdateforvariability':\n        {\n          // extra cycle to allow for DOM synchronizion with grid changes\n          setCradleState('adjustupdateforvariability');\n          break;\n        }\n      case 'adjustupdateforvariability':\n        {\n          setTimeout(function () {\n            contentHandler.adjustScrollblockForVariability('updatecradle');\n            setCradleState('finishupdateforvariability');\n          }, 0);\n          break;\n        }\n      case 'finishupdateforvariability':\n        {\n          // re-activate triggers; triggerlines will have been assigned to a new triggerCell by now.\n          interruptHandler.triggerlinesIntersect.connectElements();\n          interruptHandler.signals.pauseCradleIntersectionObserver = false;\n          setCradleState('ready');\n          break;\n        }\n      // ----------------[ user requests ]-------------\n      case 'channelcradleresetafterinsertremove':\n        {\n          cacheAPI.applyPortalPartitionItemsForDeleteList();\n          setCradleState('changelistsizeafterinsertremove');\n          break;\n        }\n      // support for various host service requests; syncs cradle content with cache changes\n      case 'applyinsertremovechanges':\n      case 'applyremapchanges':\n      case 'applymovechanges':\n        {\n          cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n          cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n          cacheAPI.applyPortalPartitionItemsForDeleteList();\n          if (cradleState == 'applyinsertremovechanges') {\n            setCradleState('changelistsizeafterinsertremove');\n          } else {\n            setCradleState('ready');\n          }\n          break;\n        }\n      case 'changelistsizeafterinsertremove':\n        {\n          var newlistsize = serviceHandler.newListSize;\n          serviceHandler.newListSize = null;\n          setCradleState('ready');\n          // service handler called because this is a followon of a user intervention\n          serviceHandler.setListSize(newlistsize);\n          break;\n        }\n      case 'clearcache':\n        {\n          contentHandler.clearCradle();\n          cradleContent.headDisplayComponents = [];\n          cradleContent.tailDisplayComponents = [];\n          cacheAPI.clearCache();\n          setCradleState('ready');\n          break;\n        }\n    }\n  }, [cradleState]);\n  // standard rendering states (2 states)\n  (0, react_1.useEffect)(function () {\n    switch (cradleState) {\n      // repositioningRender and repositioningContinuation are toggled to generate continuous \n      // repositioning renders\n      case 'repositioningRender':\n        // no-op\n        break;\n      case 'ready':\n        if (layoutHandler.boundaryNotificationsRequired()) {\n          setCradleState('triggerboundarynotications');\n        }\n        break;\n    }\n  }, [cradleState]);\n  // ==========================[ RENDER ]===========================\n  var cradleContent = contentHandler.content;\n  var triggercellTriggerlinesRef = (0, react_1.useRef)(null);\n  triggercellTriggerlinesRef.current = (0, react_1.useMemo)(function () {\n    return [react_1[\"default\"].createElement(\"div\", {\n      key: 'head',\n      \"data-type\": 'headtrigger',\n      style: triggercellTriggerlineHeadStyle,\n      ref: triggercellTriggerlineHeadElementRef\n    }), react_1[\"default\"].createElement(\"div\", {\n      key: 'tail',\n      \"data-type\": 'tailtrigger',\n      style: triggercellTriggerlineTailStyle,\n      ref: triggercellTriggerlineTailElementRef\n    })];\n  }, [triggercellTriggerlineHeadStyle, triggercellTriggerlineTailStyle]);\n  var contextvalueRef = (0, react_1.useRef)({\n    scrollerPropertiesRef: scrollerPropertiesRef,\n    cacheAPI: cacheAPI,\n    nullItemSetMaxListsize: nullItemSetMaxListsize,\n    itemExceptionCallback: serviceHandler.callbacks.itemExceptionCallback,\n    IDLECALLBACK_TIMEOUT: IDLECALLBACK_TIMEOUT,\n    triggercellTriggerlinesRef: triggercellTriggerlinesRef\n  });\n  // display the cradle components, the ScrollTracker, or null\n  return react_1[\"default\"].createElement(exports.CradleContext.Provider, {\n    value: contextvalueRef.current\n  }, cradleState == 'repositioningRender' ? null : react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-axis',\n    style: cradleAxisStyle,\n    ref: axisCradleElementRef\n  }, showAxis ?\n  // for debug\n  react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'cradle-divider',\n    style: cradleDividerStyle\n  }) : null, react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'head',\n    ref: headCradleElementRef,\n    style: cradleHeadStyle\n  }, cradleState != 'setup' ? cradleContent.headDisplayComponents : null), react_1[\"default\"].createElement(\"div\", {\n    \"data-type\": 'tail',\n    ref: tailCradleElementRef,\n    style: cradleTailStyle\n  }, cradleState != 'setup' ? cradleContent.tailDisplayComponents : null)));\n}; // Cradle\nexports[\"default\"] = Cradle;\n// utility\nvar getCradleHandlers = function getCradleHandlers(cradleParameters) {\n  var createHandler = function createHandler(handler) {\n    return new handler(cradleParameters);\n  };\n  var cacheAPI = cradleParameters.cradleInheritedPropertiesRef.current.cacheAPI;\n  cacheAPI.cradleParameters = cradleParameters;\n  return {\n    cacheAPI: cacheAPI,\n    interruptHandler: createHandler(interrupthandler_1[\"default\"]),\n    scrollHandler: createHandler(scrollhandler_1[\"default\"]),\n    stateHandler: createHandler(statehandler_1[\"default\"]),\n    contentHandler: createHandler(contenthandler_1[\"default\"]),\n    layoutHandler: createHandler(layouthandler_1[\"default\"]),\n    serviceHandler: createHandler(servicehandler_1[\"default\"]),\n    stylesHandler: createHandler(styleshandler_1[\"default\"])\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQ0osQ0FFZTtBQUU3QixDQUFDLEVBQUM7QUFFRjFQLGtCQUFBLEdBQWVHLE1BQU07QUFFckI7QUFFQSxJQUFNOEksaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFpQkEsQ0FBSUYsZ0JBQWdCLEVBQUk7RUFFM0MsSUFBTThILGFBQWEsR0FBRyxTQUFoQkEsYUFBYUEsQ0FBR0MsT0FBTztJQUFBLE9BQUksSUFBSUEsT0FBTyxDQUFDL0gsZ0JBQWdCLENBQUM7RUFBQTtFQUU5RCxJQUFReEgsUUFBUSxHQUFLd0gsZ0JBQWdCLENBQUNKLDRCQUE0QixDQUFDN0YsT0FBTyxDQUFsRXZCLFFBQVE7RUFFaEJBLFFBQVEsQ0FBQ3dILGdCQUFnQixHQUFHQSxnQkFBZ0I7RUFFNUMsT0FBTztJQUVIeEgsUUFBUSxFQUFSQSxRQUFRO0lBQ1I0SCxnQkFBZ0IsRUFBQzBILGFBQWEsQ0FBQ2hSLGtCQUFBLFdBQWdCLENBQUM7SUFDaER1SixhQUFhLEVBQUN5SCxhQUFhLENBQUNyUixlQUFBLFdBQWEsQ0FBQztJQUMxQ3VSLFlBQVksRUFBQ0YsYUFBYSxDQUFDblIsY0FBQSxXQUFZLENBQUM7SUFDeEMySixjQUFjLEVBQUN3SCxhQUFhLENBQUNsUixnQkFBQSxXQUFjLENBQUM7SUFDNUMySixhQUFhLEVBQUN1SCxhQUFhLENBQUNqUixlQUFBLFdBQWEsQ0FBQztJQUMxQzJKLGNBQWMsRUFBQ3NILGFBQWEsQ0FBQy9RLGdCQUFBLFdBQWMsQ0FBQztJQUM1QzBKLGFBQWEsRUFBQ3FILGFBQWEsQ0FBQzlRLGVBQUEsV0FBYTtHQUU1QztBQUVMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL0NyYWRsZS50c3g/NzE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDcmFkbGUudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoZSBDcmFkbGUgZG9lcyB0aGUgYnVsayBvZiB0aGUgd29yayBmb3IgdGhlIGluZmluaXRlIGdyaWQgc2Nyb2xsZXIuIEl0IGRvZXMgc28gd2l0aCB0aGUgaGVscCBvZlxuICAgIGVpZ2h0IHByb2Nlc3MgaGFuZGxlcnMgKGNsYXNzIGluc3RhbmNlcyksIGFuZCBvbmUgbWFpbiBzdWItY29tcG9uZW50IC0gdGhlIENlbGxGcmFtZS5cblxuICAgIENyYWRsZSdzIG1haW4gcmVzcG9uc2liaWxpdHkgaXMgdG8gbWFuYWdlIHRoZSB+MzUgc3RhdGUgY2hhbmdlcyBvZiB0aGUgc3lzdGVtLlxuXG4gICAgVGhlIGlsbHVzaW9uIG9mIGluZmluaXRlIGNvbnRlbnQgaXMgbWFpbnRhaW5lZCBieSBzeW5jaHJvbml6aW5nIGNoYW5nZXMgaW4gY3JhZGxlIGNvbnRlbnQgd2l0aCB0aGVcbiAgICBDcmFkbGUgbG9jYXRpb24gaW5zaWRlIHRoZSBTY3JvbGxibG9jaywgc3VjaCB0aGF0IGFzIHRoZSBTY3JvbGxibG9jayBpcyBtb3ZlZCwgdGhlIGNyYWRsZSBtb3ZlcyBcbiAgICBvcHBvc2l0ZWx5IHRvIHN0YXkgdmlzaWJsZSB3aXRoaW4gdGhlIFZpZXdwb3J0LlxuXG4gICAgVGhlIFNjcm9sbGJsb2NrIGlzIHNpemVkIHRvIGFwcHJveGltYXRlIHRoZSBsaXN0IGJlaW5nIHZpZXdlZCwgc28gYXMgdG8gaGF2ZSBhIHNjcm9sbCB0aHVtYiBzaXplIFxuICAgIGFuZCBwb3NpdGlvbiB3aGljaCByZWFsaXN0aWNhbGx5IHJlZmxlY3RzIHRoZSBzaXplIG9mIHRoZSBsaXN0IGJlaW5nIHNob3duLlxuXG4gICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBjcmFkbGUgaXMgY29udHJvbGxlZCBieSBhbiAnYXhpcycgd2hpY2ggaXMgYSAwcHggaGVpZ2h0L3dpZHRoIGRpdlxuICAgIChhbG9uZyB0aGUgbWVkaWFsIC0gU2Nyb2xsQmxvY2sgY2FuIGJlIHZlcnRpY2FsIG9yIGhvcml6b250YWwpLiBUaGUgcHVycG9zZSBvZiB0aGUgYXhpcyBpcyB0byBcbiAgICBhY3QgYXMgYSAnZm9sZCcsIGFib3ZlIHdoaWNoIGNyYWRsZSBjb250ZW50IGV4cGFuZHMgJ2hlYWR3YXJkcycgKHVwIG9yIGxlZnQpIGluIHRoZSBDcmFkbGUsIGFuZCBcbiAgICBiZWxvdyB3aGljaCB0aGUgY3JhZGxlIGNvbnRlbnQgZXhwYW5kcyAndGFpbHdhcmRzJyAoZG93biBvciByaWdodCkuIFRoZSBDcmFkbGUgY29udGVudCBpcyBoZWxkIGluIFxuICAgIHR3byBDU1MgZ3JpZHMgKGNoaWxkcmVuIG9mIHRoZSBheGlzKTogb25lIGFib3ZlIG9yIGxlZnQgKHRoZSAnaGVhZCcgZ3JpZCksIGFuZCBvbmUgYmVsb3cgb3IgcmlnaHQsIFxuICAgIG9mIHRoZSBwb3NpdGlvbiBvZiB0aGUgYXhpcyAodGhlICd0YWlsJyBncmlkKS5cblxuICAgIFRoZSBheGlzIGlzIGtlcHQgbmVhciB0aGUgbGVhZGluZyAoaGVhZHdhcmQpIGVkZ2Ugb2YgdGhlIHZpc2libGUgY2VsbCByb3dzIG9mIHRoZSBWaWV3cG9ydFxuXG4gICAgVGVjaG5pY2FsbHksIHRoZXJlIGFyZSBzZXZlcmFsIGtleSByZWZlcmVuY2UgcG9pbnRzIHRyYWNrZWQgYnkgdGhlIENyYWRsZS4gVGhlc2UgYXJlOlxuICAgICAgICAtIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiBpcyB0aGUgdmlydHVhbCAwLWJhc2VkIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGNvbnRyb2xsaW5nIHRoZSBsb2NhdGlvbiBcbiAgICAgICAgICBvZiB0aGUgYXhpcy5cbiAgICAgICAgLSBUaGUgYXhpc1JlZmVyZW5jZUluZGV4IGlzIGluZmVycmVkIGZyb20gdGhlIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiwgYnkgYWRkaW5nIHRoZSB2aXJ0dWFsIGluZGV4IFxuICAgICAgICAgICAgcmFuZ2UgbG93IGluZGV4IHRvIHRoZSB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24uXG4gICAgICAgICAgICBUaGUgYXhpc1JlZmVyZW5jZUluZGV4IGlzIGFsc28gdXNlZCB0byBhbGxvY2F0ZSBpdGVtcyBhYm92ZSAobG93ZXIgaW5kZXggdmFsdWUpIGFuZCBiZWxvdyBcbiAgICAgICAgICAgIChzYW1lIG9yIGhpZ2hlciBpbmRleCB2YWx1ZSkgdGhlIGF4aXMgZm9sZC4gVGhlIGF4aXNSZWZlcmVuY2VJbmRleCBpcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgXG4gICAgICAgICAgICB0YWlsIHNlY3Rpb24gb2YgdGhlIENyYWRsZS5cbiAgICAgICAgLSAoY3JhZGxlUmVmZXJlbmNlSW5kZXggaXMgaW5mZXJyZWQgZnJvbSB0aGUgYXhpc1JlZmVyZW5jZUluZGV4LCBhbmQgaXMgdGhlIHZpcnR1YWwgaW5kZXggb2YgXG4gICAgICAgICAgICB0aGUgaXRlbSBkZWZpbmluZyB0aGUgbGVhZGluZyBib3VuZCBvZiB0aGUgY3JhZGxlIGNvbnRlbnQuIFRoZSBjcmFkbGVSZWZlcmVuY2VJbmRleCBpcyB1c3VhbGx5IFxuICAgICAgICAgICAgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGhlYWQgc2VjdGlvbiBvZiB0aGUgQ3JhZGxlLCB1bmxlc3MgdGhlIGNyYWRsZSBzaG93cyB0aGUgdmVyeSB0b3Agb2YgdGhlXG4gICAgICAgICAgICBsaXN0LCBpbiB3aGljaCBjYXNlIHRoZSBjcmFkbGVSZWZlcmVuY2VJbmRleCBpcyB0aGUgc2FtZSBhcyB0aGUgQXhpc1JlZmVyZW5jZUluZGV4KVxuICAgICAgICAtIGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0IChwaXhlbHMgdGhhdCBwbGFjZSB0aGUgYXhpcyBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnQncyBsZWFkaW5nIGVkZ2UpXG4gICAgICAgIC0gdGhlIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MsIHdoaWNoIGlzIHRoZSBhbW91bnQgb2Ygc2Nyb2xsIChWaWV3cG9ydCBzY3JvbGxUb3Agb3Igc2Nyb2xsTGVmdCkgb2YgdGhlIFxuICAgICAgICAgICAgU2Nyb2xsQmxvY2tcbiAgICBcbiAgICBPdmVyc2Nyb2xsIGhhbmRsaW5nIChyZXBvc2l0aW9uaW5nKTpcbiAgICAgICAgT3dpbmcgdG8gdGhlIHBvdGVudGlhbCByYXBpZGl0eSBvZiBzY3JvbGxpbmcsIHdoaWNoIGluIHRoZSBjYXNlIG9mIGxhcmdlIGxpc3RzIGFuZCBoZWF2eSBjb250ZW50IFxuICAgICAgICBjYW4gYmUgdG9vIGZhc3QgZm9yIHRoZSBzeXN0ZW0gdG8ga2VlcCB1cCwgdGhlcmUgaXMgYW4gb3ZlcnNjcm9sbCBwcm90b2NvbCBjYWxsZWQgJ3JlcG9zaXRpb25pbmcnLlxuXG4gICAgICAgIElmIHRoZSBvdmVyc2Nyb2xsIGlzIHN1Y2ggdGhhdCB0aGUgY3JhZGxlIChpbmNsdWRpbmcgaXRzIHR3byBjb250ZW50IGdyaWRzKSBoYXMgZW50aXJlbHkgcGFzc2VkIFxuICAgICAgICBvdXQgb2YgdGhlIHZpZXdwb3J0LCB0aGVuIHRoZSBDcmFkbGUgY29tcG9uZW50IGlzIHJlcGxhY2VkIGJ5IGEgU2Nyb2xsVHJhY2tlciAob3IgYnkgbnVsbCBpZiBcbiAgICAgICAgdGhlIGhvc3QgdGFrZXMgcmVzcG9uc2liaWxpdHkgZm9yIGZlZWRiYWNrKS4gVGhlIFNjcm9sbFRyYWNrZXIgZGlzcGxheXMgdG8gdGhlIHVzZXIgdGhlIHJlbGF0aXZlIFxuICAgICAgICBsb2NhdGlvbiBpbiB0aGUgdmlydHVhbCBsaXN0IGF0IHRoZSBlZGdlIG9mIHRoZSB2aWV3cG9ydCBkdXJpbmcgcmVwb3NpdGlvbmluZy4gV2hlbiB0aGUgc2Nyb2xsaW5nXG4gICAgICAgIHN0b3BzIENyYWRsZSByZWNyZWF0ZXMgdGhlIGNyYWRsZSBjb250ZW50LCBhY2NvcmRpbmcgdG8gdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSByZXBvc2l0aW9uaW5nIFxuICAgICAgICBwcm9jZXNzLlxuXG4gICAgQ3JhZGxlIGNoYW5nZXMgYXJlIGFjdGl2YXRlZCBieSBpbnRlcnJ1cHRzOlxuICAgIC0gc2Nyb2xsaW5nXG4gICAgLSByZXNpemluZyBvZiB0aGUgdmlld3BvcnRcbiAgICAtIEludGVyc2VjdGlvbk9ic2VydmVyIGNhbGxiYWNrczpcbiAgICAgICAgLSBjcmFkbGUvdmlld3BvcnQgaW50ZXJzZWN0aW9uIGZvciByZXBvc2l0aW9uaW5nIHdoZW4gdGhlIGNyYWRsZSByYWNlcyBvdXQgb2Ygc2NvcGVcbiAgICAgICAgLSB0d28gJ3RyaWdnZXJsaW5lJy92aWV3cG9ydCBpbnRlcnNlY3Rpb25zIHdoaWNoIHRyaWdnZXIgcm9sbGluZyBvZiBjb250ZW50XG4gICAgICAgICAgICAtIHJvbGxpbmcgY29udGVudCB0cmlnZ2VycyByZS1hbGxvY2F0aW9uIG9mIGNvbnRlbnQgYmV0d2VlbiBjcmFkbGUgaGVhZCBhbmQgdGFpbCBncmlkc1xuICAgIC0gcGl2b3QgLSBjaGFuZ2Ugb2Ygb3JpZW50YXRpb25cbiAgICAtIGhvc3QgY2hhbmdlcyBvZiBjb25maWd1cmF0aW9uIHNwZWNzIHRocm91Z2ggcHJvcGVydHkgY2hhbmdlcyBvciBkaXJlY3Qgc2VydmljZSBjYWxsc1xuKi9cblxuaW1wb3J0IFJlYWN0LCB7IFxuICAgIHVzZVN0YXRlLCBcbiAgICB1c2VSZWYsIFxuICAgIHVzZUNvbnRleHQsIFxuICAgIHVzZUVmZmVjdCwgXG4gICAgdXNlTGF5b3V0RWZmZWN0LCBcbiAgICB1c2VNZW1vLFxuICAgIHVzZUNhbGxiYWNrLCBcbn0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFZpZXdwb3J0Q29udGV4dCB9IGZyb20gJy4vVmlld3BvcnQnXG5cbi8vIHN1cHBvcnQgY29kZTsgcHJvY2VzcyBoYW5kbGVyc1xuaW1wb3J0IFNjcm9sbEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc2Nyb2xsaGFuZGxlcidcbmltcG9ydCBTdGF0ZUhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc3RhdGVoYW5kbGVyJ1xuaW1wb3J0IENvbnRlbnRIYW5kbGVyIGZyb20gJy4vY3JhZGxlL2NvbnRlbnRoYW5kbGVyJ1xuaW1wb3J0IExheW91dEhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvbGF5b3V0aGFuZGxlcidcbmltcG9ydCBJbnRlcnJ1cHRIYW5kbGVyIGZyb20gJy4vY3JhZGxlL2ludGVycnVwdGhhbmRsZXInXG5pbXBvcnQgU2VydmljZUhhbmRsZXIgZnJvbSAnLi9jcmFkbGUvc2VydmljZWhhbmRsZXInXG5pbXBvcnQgU3R5bGVzSGFuZGxlciBmcm9tICcuL2NyYWRsZS9zdHlsZXNoYW5kbGVyJ1xuLy8gY2FjaGVBUEkgaXMgaW1wb3J0ZWQgYXMgYSBwcm9wZXJ0eTsgaW5zdGFudGlhdGVkIGF0IHRoZSByb290XG5cbi8vIGltcG9ydCB7IGlzU2FmYXJpSU9TIH0gZnJvbSAnLi9JbmZpbml0ZUdyaWRTY3JvbGxlcidcblxuLy8gZm9yIGNoaWxkcmVuXG5leHBvcnQgY29uc3QgQ3JhZGxlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbClcblxuLy8gY29tcG9uZW50XG5jb25zdCBDcmFkbGUgPSAoeyBcbiAgICAgICAgZ3JpZFNwZWNzLFxuICAgICAgICBwYWRkaW5nUHJvcHMsXG4gICAgICAgIGdhcFByb3BzLFxuICAgICAgICAvLyBiYXNpY3NcbiAgICAgICAgcnVud2F5U2l6ZSwgXG4gICAgICAgIHZpcnR1YWxMaXN0U3BlY3MsXG4gICAgICAgIHNldFZpcnR1YWxMaXN0U2l6ZSxcbiAgICAgICAgc2V0VmlydHVhbExpc3RSYW5nZSxcbiAgICAgICAgc3RhcnRpbmdJbmRleCwgXG4gICAgICAgIGdldEl0ZW0sIFxuICAgICAgICBnZXRFeHBhbnNpb25Db3VudCxcbiAgICAgICAgcGxhY2Vob2xkZXIsIFxuICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuICAgICAgICB1c2VyQ2FsbGJhY2tzLFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBjYWNoZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgLy8gZm9yIGhhbmRsZXIgbGlzdFxuICAgICAgICBjYWNoZUFQSSxcbiAgICAgICAgLy8gc3lzdGVtXG4gICAgICAgIHVzZVBsYWNlaG9sZGVyLFxuICAgICAgICAvLyB1c2VTY3JvbGxUcmFja2VyLFxuICAgICAgICBzaG93QXhpcyxcbiAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULFxuICAgICAgICBJRExFQ0FMTEJBQ0tfVElNRU9VVCxcbiAgICAgICAgTUFYX0NBQ0hFX09WRVJfUlVOLFxuICAgICAgICBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCxcbiAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzLFxuXG4gICAgfSkgPT4ge1xuXG4gICAgY29uc3QgeyBcblxuICAgICAgICBzaXplOmxpc3RzaXplLFxuICAgICAgICBsb3dpbmRleCwgXG4gICAgICAgIGhpZ2hpbmRleCxcblxuICAgIH0gPSB2aXJ0dWFsTGlzdFNwZWNzXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1bIERBVEEgU0VUVVAgXT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdW5wYWNrIGdyaWRTcGVjc1xuICAgIGNvbnN0IHtcblxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgLy8gZ2FwLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgIGNlbGxNaW5XaWR0aCxcbiAgICAgICAgbGF5b3V0LFxuXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgLy8gZ2V0IHZpZXdwb3J0IGNvbnRleHRcbiAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdXNlQ29udGV4dChWaWV3cG9ydENvbnRleHQpXG5cbiAgICBjb25zdCBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyAvLyBmb3IgY2xvc3VyZXNcblxuICAgIC8vIGZsYWdzXG4gICAgY29uc3QgXG4gICAgICAgIGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKSxcbiAgICAgICAgaXNDYWNoZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICB3YXNDYWNoZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICBoYXNCZWVuUmVuZGVyZWRSZWYgPSB1c2VSZWYoZmFsc2UpLFxuICAgICAgICAvLyB0cmlnZ2VyIGNvbnRyb2xcbiAgICAgICAgdHJpZ2dlckhpc3RvcnlSZWYgPSB1c2VSZWYoe1xuICAgICAgICAgICAgcHJldmlvdXNUcmlnZ2VyTmFtZUF0Qm9yZGVyOm51bGwsXG4gICAgICAgIH0pXG5cbiAgICAvLyAgdmlld3BvcnQgZGltZW5zaW9ucyBhbmQgY2FjaGVkIHN0YXRlXG4gICAgY29uc3QgZ2V0Vmlld3BvcnREaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6dmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OnZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgaGVpZ2h0OnZpZXdwb3J0aGVpZ2h0LHdpZHRoOnZpZXdwb3J0d2lkdGggfSA9IGdldFZpZXdwb3J0RGltZW5zaW9ucygpIC8vIHZpZXdwb3J0RGltZW5zaW9uc1xuXG4gICAgLy8gY2FjaGUgdGVzdFxuICAgIC8vIHplcm8gd2lkdGggYW5kIGhlaWdodCBtZWFucyB0aGUgY29tcG9uZW50IG11c3QgYmUgaW4gcG9ydGFsIChjYWNoZSkgc3RhdGVcbiAgICBjb25zdCBcbiAgICAgICAgaXNJblBvcnRhbCA9ICgodmlld3BvcnR3aWR0aCA9PSAwKSAmJiAodmlld3BvcnRoZWlnaHQgPT0gMCkpLFxuICAgICAgICBpc0NhY2hlQ2hhbmdlID0gKGlzSW5Qb3J0YWwgIT0gaXNDYWNoZWRSZWYuY3VycmVudClcblxuICAgIGlmIChpc0NhY2hlQ2hhbmdlKSB7XG4gICAgICAgIHdhc0NhY2hlZFJlZi5jdXJyZW50ID0gaXNDYWNoZWRSZWYuY3VycmVudFxuICAgICAgICBpc0NhY2hlZFJlZi5jdXJyZW50ID0gaXNJblBvcnRhbFxuICAgIH1cblxuICAgIC8vIGNyYWRsZSBzdGF0ZVxuICAgIGNvbnN0IFxuICAgICAgICBbY3JhZGxlU3RhdGUsIHNldENyYWRsZVN0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpLFxuICAgICAgICBjcmFkbGVTdGF0ZVJlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXNcbiAgICBjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID0gY3JhZGxlU3RhdGVcblxuICAgIC8vIGlmICghc2Nyb2xsZXJQcm9wZXJ0aWVzKSB7IC8vIHJvb3Qgc2Nyb2xsZXJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tPiBjcmFkbGVTdGF0ZScsJy0nK3Njcm9sbGVySUQrJy0nLCBjcmFkbGVTdGF0ZSlcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tIGluZGV4Jywnficrc2Nyb2xsZXJQcm9wZXJ0aWVzPy5jZWxsRnJhbWVQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaW5kZXgrJ34nKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0gaXRlbUlEJywnKycrc2Nyb2xsZXJQcm9wZXJ0aWVzPy5jZWxsRnJhbWVQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXRlbUlEKycrJylcbiAgICAvLyB9XG5cbiAgICAvLyBjcmFkbGUgc2NhZmZvbGQgZWxlbWVudCByZWZzXG4gICAgY29uc3QgXG4gICAgICAgIGhlYWRDcmFkbGVFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLFxuICAgICAgICB0YWlsQ3JhZGxlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSxcbiAgICAgICAgYXhpc0NyYWRsZUVsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCksXG4gICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKSxcbiAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpLFxuICAgICAgICAvLyBsYXlvdXQgYnVuZGxlXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmID0gdXNlUmVmKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhlYWRSZWY6aGVhZENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgICAgIHRhaWxSZWY6dGFpbENyYWRsZUVsZW1lbnRSZWYsIFxuICAgICAgICAgICAgICAgIGF4aXNSZWY6YXhpc0NyYWRsZUVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWY6dHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmOnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsRWxlbWVudFJlZixcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjdWxhdGVkIHByb3BlcnRpZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIGNvbmZpZ3VyYXRpb24gY2FsY3VsYXRpb25zXG5cbiAgICAvLyBjcm9zc2NvdW50IChhbHNvIGNhbGN1bGF0ZWQgYnkgU2Nyb2xsYmxvY2sgZm9yIGRlcml2aW5nIFNjcm9sbGJsb2NrIGxlbmd0aClcbiAgICBjb25zdCBjcm9zc2NvdW50ID0gdXNlTWVtbygoKSA9PiB7IC8vIHRoZSBudW1iZXIgb2YgY2VsbHMgY3Jvc3Npbmcgb3JpZW50YXRpb25cblxuICAgICAgICBpZiAoaXNDYWNoZWRSZWYuY3VycmVudCkgcmV0dXJuIDBcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0d2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuXG4gICAgICAgICAgICBjcm9zc3BhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5sZWZ0ICsgcGFkZGluZ1Byb3BzLnJpZ2h0OlxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMudG9wICsgcGFkZGluZ1Byb3BzLmJvdHRvbSxcblxuICAgICAgICAgICAgY3Jvc3NnYXAgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLmNvbHVtbjpcbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMucm93LFxuXG4gICAgICAgICAgICAvLyBjcm9zcyBsZW5ndGggb2Ygdmlld3BvcnQgKGdhcCB0byBtYXRjaCBjcm9zc0xlbmd0aClcbiAgICAgICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGhmb3JjYWxjID0gdmlld3BvcnRjcm9zc2xlbmd0aCAtIGNyb3NzcGFkZGluZyArIGNyb3NzZ2FwLFxuXG4gICAgICAgICAgICBjZWxsY3Jvc3NsZW5ndGggPSBcbiAgICAgICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGg6XG4gICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQpIFxuICAgICAgICAgICAgICAgICsgY3Jvc3NnYXAsXG5cbiAgICAgICAgICAgIGNlbGxjcm9zc2xlbmd0aGZvcmNhbGMgPSBcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihjZWxsY3Jvc3NsZW5ndGgsdmlld3BvcnRjcm9zc2xlbmd0aGZvcmNhbGMpLCAvLyByZXN1bHQgY2Fubm90IGJlIGxlc3MgdGhhbiAxXG5cbiAgICAgICAgICAgIGNyb3NzY291bnQgPSBNYXRoLmZsb29yKHZpZXdwb3J0Y3Jvc3NsZW5ndGhmb3JjYWxjL2NlbGxjcm9zc2xlbmd0aGZvcmNhbGMpXG5cbiAgICAgICAgcmV0dXJuIGNyb3NzY291bnRcblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcFByb3BzLCBcbiAgICAgICAgcGFkZGluZ1Byb3BzLFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBjZWxsSGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgIF0pXG5cbiAgICBjb25zdCBbIGJhc2Vyb3dibGFua3MsIGVuZHJvd2JsYW5rcyBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBpZiAobGlzdHNpemUgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgcG9zaXRpb24gYWRqdXN0bWVudCBmb3IgMFxuICAgICAgICBjb25zdCBlbmRhZGp1c3RtZW50ID1cbiAgICAgICAgICAgIChoaWdoaW5kZXggPCAwKT9cbiAgICAgICAgICAgICAgICAtMTpcbiAgICAgICAgICAgICAgICAxXG5cbiAgICAgICAgLy8gZ2V0IGluaXRpYWwgdmFsdWVzXG4gICAgICAgIGxldCBiYXNlcm93YmxhbmtzID0gTWF0aC5hYnMobG93aW5kZXgpICUgY3Jvc3Njb3VudFxuICAgICAgICBsZXQgZW5kcm93YmxhbmtzID0gKE1hdGguYWJzKGhpZ2hpbmRleCkgKyBlbmRhZGp1c3RtZW50KSAlIGNyb3NzY291bnRcblxuICAgICAgICAvLyB0YWtlIGludmVyc2UgZGVwZW5kaW5nIG9uIGRpcmVjdGlvblxuICAgICAgICBpZiAobG93aW5kZXggPCAwKSB7XG4gICAgICAgICAgICBiYXNlcm93YmxhbmtzID1cbiAgICAgICAgICAgICAgICAoYmFzZXJvd2JsYW5rcyA9PSAwKT8gXG4gICAgICAgICAgICAgICAgMDpcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50IC0gYmFzZXJvd2JsYW5rc1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBlbmRyb3dibGFua3MgPVxuICAgICAgICAgICAgICAgIChlbmRyb3dibGFua3MgPT0gMCk/IFxuICAgICAgICAgICAgICAgIDA6XG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCAtIGVuZHJvd2JsYW5rc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtiYXNlcm93YmxhbmtzLCBlbmRyb3dibGFua3NdXG5cbiAgICB9LFtjcm9zc2NvdW50LCBsaXN0c2l6ZSwgbG93aW5kZXgsIGhpZ2hpbmRleF0pXG5cblxuICAgIC8vIHZhcmlvdXMgcm93IGNvdW50c1xuICAgIGNvbnN0IFtcblxuICAgICAgICBjcmFkbGVSb3djb3VudCwgXG4gICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgIGxpc3RSb3djb3VudCxcbiAgICAgICAgcnVud2F5Um93Y291bnQsXG5cbiAgICBdID0gdXNlTWVtbygoKT0+IHtcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydGhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnR3aWR0aCxcblxuICAgICAgICAgICAgZ2FwbGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBnYXBQcm9wcy5jb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLnJvd1xuXG4gICAgICAgIGxldCBiYXNlUm93TGVuZ3RoXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICBiYXNlUm93TGVuZ3RoID0gY2VsbEhlaWdodFxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYmFzZVJvd0xlbmd0aCA9IGNlbGxXaWR0aFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHsgLy8gbGF5b3V0ID09ICd2YXJpYWJsZSdcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIGJhc2VSb3dMZW5ndGggPSBjZWxsTWluSGVpZ2h0XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBiYXNlUm93TGVuZ3RoID0gY2VsbE1pbldpZHRoXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgYmFzZVJvd0xlbmd0aCArPSBnYXBsZW5ndGhcblxuICAgICAgICBjb25zdCB2aWV3cG9ydFJvd2NvdW50ID0gTWF0aC5jZWlsKHZpZXdwb3J0TGVuZ3RoL2Jhc2VSb3dMZW5ndGgpXG5cbiAgICAgICAgY29uc3QgbGlzdFJvd2NvdW50ID0gXG4gICAgICAgICAgICBsaXN0c2l6ZSA9PSAwP1xuICAgICAgICAgICAgMDpcbiAgICAgICAgICAgIE1hdGguY2VpbCgobGlzdHNpemUgKyBiYXNlcm93YmxhbmtzICsgZW5kcm93YmxhbmtzKS9jcm9zc2NvdW50KVxuXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCA9IHZpZXdwb3J0Um93Y291bnQgKyAocnVud2F5U2l6ZSAqIDIpXG5cbiAgICAgICAgbGV0IGNyYWRsZVJvd2NvdW50ID0gTWF0aC5taW4obGlzdFJvd2NvdW50LCBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQpXG5cbiAgICAgICAgbGV0IHJ1bndheVJvd2NvdW50XG4gICAgICAgIGlmIChjcmFkbGVSb3djb3VudCA9PSBjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQpIHtcblxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgPSBydW53YXlTaXplXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gY3JhZGxlUm93Y291bnQgaXMgbGVzcyB0aGFuIGNhbGN1bGF0ZWRDcmFkbGVSb3dDb3VudFxuXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gKGNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCAtIGNyYWRsZVJvd2NvdW50KVxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQgPSBydW53YXlTaXplIC0gTWF0aC5mbG9vcihkaWZmLzIpXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCA9IE1hdGgubWF4KDAscnVud2F5Um93Y291bnQpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpdGVtY291bnQgPSBjcmFkbGVSb3djb3VudCAqIGNyb3NzY291bnRcbiAgICAgICAgaWYgKGl0ZW1jb3VudCA+IGxpc3RzaXplKSB7XG5cbiAgICAgICAgICAgIGl0ZW1jb3VudCA9IGxpc3RzaXplXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCA9IE1hdGguY2VpbCgoaXRlbWNvdW50ICsgYmFzZXJvd2JsYW5rcyArIGVuZHJvd2JsYW5rcykvY3Jvc3Njb3VudClcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNyYWRsZVJvd2NvdW50LCBcbiAgICAgICAgICAgIHZpZXdwb3J0Um93Y291bnQsIFxuICAgICAgICAgICAgbGlzdFJvd2NvdW50LFxuICAgICAgICAgICAgcnVud2F5Um93Y291bnQsXG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgIF1cblxuICAgIH0sW1xuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGdhcFByb3BzLCBcbiAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBjZWxsTWluSGVpZ2h0LCBcbiAgICAgICAgdmlld3BvcnRoZWlnaHQsIFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBiYXNlcm93YmxhbmtzLCBcbiAgICAgICAgZW5kcm93YmxhbmtzLFxuICAgICAgICBydW53YXlTaXplLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBsYXlvdXQsXG4gICAgXSlcblxuICAgIGNvbnN0IHJhbmdlcm93c2hpZnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICByZXR1cm4gbGlzdHNpemUgPT0gMD9cbiAgICAgICAgICAgIHVuZGVmaW5lZDpcbiAgICAgICAgICAgIE1hdGguZmxvb3IobG93aW5kZXgvY3Jvc3Njb3VudClcblxuICAgIH0sW2Nyb3NzY291bnQsbG93aW5kZXgsIGxpc3RzaXplXSlcblxuICAgIGNvbnN0IHZpcnR1YWxMaXN0UHJvcHMgPSBcbiAgICAgICAge1xuXG4gICAgICAgICAgICAuLi52aXJ0dWFsTGlzdFNwZWNzLFxuICAgICAgICAgICAgYmFzZXJvd2JsYW5rcyxcbiAgICAgICAgICAgIGVuZHJvd2JsYW5rcyxcbiAgICAgICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgICAgICByb3djb3VudDpsaXN0Um93Y291bnQsXG4gICAgICAgICAgICByb3dzaGlmdDpyYW5nZXJvd3NoaWZ0LFxuXG4gICAgICAgIH1cblxuICAgIGNvbnN0IGNyYWRsZUNvbnRlbnRQcm9wc1JlZiA9IHVzZVJlZih7XG4gICAgICAgIGNyYWRsZVJvd2NvdW50LFxuICAgICAgICB2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICBydW53YXlSb3djb3VudCxcbiAgICAgICAgU09MOnVuZGVmaW5lZCwgLy8gc3RhcnQgb2YgbGlzdFxuICAgICAgICBFT0w6dW5kZWZpbmVkLCAvLyBlbmQgb2YgbGlzdFxuICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsXG4gICAgICAgIGhpZ2hpbmRleDp1bmRlZmluZWQsXG4gICAgICAgIHNpemU6MCxcbiAgICAgfSlcblxuICAgICBjb25zdCBjcmFkbGVDb250ZW50UHJvcHMgPSBjcmFkbGVDb250ZW50UHJvcHNSZWYuY3VycmVudFxuICAgICBPYmplY3QuYXNzaWduKGNyYWRsZUNvbnRlbnRQcm9wcywgXG4gICAgICAgICB7XG4gICAgICAgICAgICAgY3JhZGxlUm93Y291bnQ6Y3JhZGxlUm93Y291bnQsXG4gICAgICAgICAgICAgdmlld3BvcnRSb3djb3VudDp2aWV3cG9ydFJvd2NvdW50LFxuICAgICAgICAgICAgIHJ1bndheVJvd2NvdW50OnJ1bndheVJvd2NvdW50LFxuICAgICAgICAgfVxuICAgICApXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxsYmFja3MgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGhvc3QgY2FsbGJhY2tzLCB1cGFja2VkIGJ5IHNlcnZpY2VIYW5kbGVyXG4gICAgY29uc3QgZXh0ZXJuYWxDYWxsYmFja3NSZWYgPSB1c2VSZWYoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4Q2FsbGJhY2s6dXNlckNhbGxiYWNrcz8ucmVmZXJlbmNlSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgIHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2s6dXNlckNhbGxiYWNrcz8ucmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayxcbiAgICAgICAgICAgIHJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrOnVzZXJDYWxsYmFja3M/LnJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrLFxuICAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2s6dXNlckNhbGxiYWNrcz8ucHJlbG9hZEluZGV4Q2FsbGJhY2ssXG4gICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2s6dXNlckNhbGxiYWNrcz8uZGVsZXRlTGlzdENhbGxiYWNrLFxuICAgICAgICAgICAgY2hhbmdlTGlzdFNpemVDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5jaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrLFxuICAgICAgICAgICAgY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2s6dXNlckNhbGxiYWNrcz8uY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2ssXG4gICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2s6dXNlckNhbGxiYWNrcz8uaXRlbUV4Y2VwdGlvbkNhbGxiYWNrLFxuICAgICAgICAgICAgYm91bmRhcnlDYWxsYmFjazp1c2VyQ2FsbGJhY2tzPy5ib3VuZGFyeUNhbGxiYWNrLFxuICAgICAgICB9XG4gICAgKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1bIGJ1bmRsZSBwcm9wZXJ0aWVzIGZvciBoYW5kbGVycyBdLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gYnVuZGxlIGFsbCBjcmFkbGUgcHJvcHMgdG8gcGFzcyB0byBoYW5kbGVycyAtIHVsdGltYXRlbHkgY3JhZGxlUGFyYW1ldGVyc1JlZlxuXG4gICAgY29uc3QgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiA9IHVzZVJlZihudWxsKSAvLyBhY2Nlc3MgYnkgY2xvc3VyZXMgYW5kIHN1cHBvcnQgY2FsbGJhY2tzXG4gICAgLy8gdXAgdG8gZGF0ZSB2YWx1ZXNcbiAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIC8vIGdyaWRTcGVjc1xuICAgICAgICBvcmllbnRhdGlvbiwgbGF5b3V0LFxuICAgICAgICBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIGNlbGxNaW5IZWlnaHQsIGNlbGxNaW5XaWR0aCxcbiAgICAgICAgLy8gLi4ucmVzdFxuICAgICAgICBjYWNoZSwgY2FjaGVNYXgsXG4gICAgICAgIHN0YXJ0aW5nSW5kZXgsIFxuICAgICAgICBydW53YXlTaXplLFxuICAgICAgICBnZXRJdGVtLCBcbiAgICAgICAgZ2V0RXhwYW5zaW9uQ291bnQsXG4gICAgICAgIHBsYWNlaG9sZGVyLCBwbGFjZWhvbGRlck1lc3NhZ2VzLCB1c2VQbGFjZWhvbGRlcixcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgIC8vIG9iamVjdHNcbiAgICAgICAgdXNlckNhbGxiYWNrcywgc3R5bGVzLCBjYWNoZUFQSSxcbiAgICAgICAgLy8gY29udHJvbCB2YWx1ZXNcbiAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULCBNQVhfQ0FDSEVfT1ZFUl9SVU4sIFxuICAgICAgICBzY3JvbGxlclByb3BlcnRpZXMsXG5cbiAgICB9XG5cbiAgICBjb25zdCBzY3JvbGxlclByb3BlcnRpZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICAvLyBwYXNzZWQgdG8gY2VsbEZyYW1lIGNvbnRlbnQgKHVzZXIgY29udGVudCkgaWYgcmVxdWVzdGVkXG4gICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uLCBnYXBQcm9wcywgcGFkZGluZ1Byb3BzLCBsYXlvdXQsXG4gICAgICAgIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgY2VsbE1pbkhlaWdodCwgY2VsbE1pbldpZHRoLFxuICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLFxuICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgIGNhY2hlLFxuICAgICAgICBjYWNoZU1heCxcbiAgICAgICAgc3RhcnRpbmdJbmRleCxcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICB9XG5cbiAgICAvLyBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gc2hhcmUgd2l0aCBoYW5kbGVyc1xuICAgIGNvbnN0IGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiA9IHVzZVJlZihudWxsKVxuICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50ID0ge1xuXG4gICAgICAgIC8vIHVwZGF0ZWQgdmFsdWVzXG4gICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgIHNldFZpcnR1YWxMaXN0U2l6ZSxcbiAgICAgICAgc2V0VmlydHVhbExpc3RSYW5nZSxcblxuICAgICAgICBjcmFkbGVDb250ZW50UHJvcHM6Y3JhZGxlQ29udGVudFByb3BzUmVmLmN1cnJlbnQsXG4gICAgICAgIHBhZGRpbmdQcm9wcyxcbiAgICAgICAgZ2FwUHJvcHMsXG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgdmFsdWVzIGFyZSBtYWludGFpbmVkIGVsc2V3aGVyZVxuICAgICAgICBpc01vdW50ZWRSZWYsXG4gICAgICAgIGNyYWRsZUVsZW1lbnRzUmVmLFxuICAgICAgICBpc0NhY2hlZFJlZixcbiAgICAgICAgd2FzQ2FjaGVkUmVmLFxuICAgICAgICB0cmlnZ2VySGlzdG9yeVJlZixcblxuICAgICAgICAvLyBmb3Igc3RhdGVIYW5kbGVyXG4gICAgICAgIGNyYWRsZVN0YXRlUmVmLFxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSxcbiAgICB9XG5cbiAgICAvLyBwbGFjZWhvbGRlciBpbiBjcmFkbGVQYXJhbWV0ZXJzIHRvIG1ha2UgYXZhaWxhYmxlIGluZGl2aWR1YWwgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVyc1JlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gY3JhZGxlIHBhcmFtZXRlcnMgTUFTVEVSIEJVTkRMRVxuICAgIGNvbnN0IGNyYWRsZVBhcmFtZXRlcnMgPSB7XG4gICAgICAgIGhhbmRsZXJzUmVmLFxuICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLFxuICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLCBcbiAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLFxuICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYsIFxuICAgICAgICBleHRlcm5hbENhbGxiYWNrc1JlZixcbiAgICB9XG5cbiAgICBjb25zdCBjcmFkbGVQYXJhbWV0ZXJzUmVmID0gdXNlUmVmKG51bGwpXG4gICAgY3JhZGxlUGFyYW1ldGVyc1JlZi5jdXJyZW50ID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgLy8gb25nb2luZyBzb3VyY2Ugb2YgaGFuZGxlcnMgLSBub3RlIGFsbCBIYW5kbGVycyBhcmUgZ2l2ZW4gYWxsIHBhcmFtZXRlcnMgKGNyYWRsZVBhcmFtZXRlcnMpXG4gICAgaWYgKCFoYW5kbGVyc1JlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgaGFuZGxlcnNSZWYuY3VycmVudCA9IGdldENyYWRsZUhhbmRsZXJzKGNyYWRsZVBhcmFtZXRlcnMpXG5cbiAgICB9XG5cbiAgICAvLyBtYWtlIGhhbmRsZXJzIGRpcmVjdGx5IGF2YWlsYWJsZSB0byBjcmFkbGUgY29kZSBiZWxvd1xuICAgIGNvbnN0IHsgLy8gY2FjaGVBUEkgYWxyZWFkeSBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgc2Nyb2xsSGFuZGxlcixcbiAgICAgICAgLy8gc3RhdGVIYW5kbGVyLCAvLyBub3QgdXNlZFxuICAgICAgICBjb250ZW50SGFuZGxlcixcbiAgICAgICAgbGF5b3V0SGFuZGxlcixcbiAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgIHN0eWxlc0hhbmRsZXIsXG4gICAgfSA9IGhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09WyBJTlRFUkNFUFQgQ0FDSElORyBTVEFURSBDSEFOR0UgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogICAgXG4gICAgSW50ZXJjZXB0IGNoYW5nZSBpbiBjYWNoaW5nIHN0YXR1czpcbiAgICB3aGVuIGEgY29tcG9uZW50IGlzIGNhY2hlZCBpbiBhIHBvcnRhbCAoaW4gdGhlIFJlYWN0IHZpcnR1YWwgRE9NKSwgaW5jbHVkaW5nIHRoZSB0cmFuc2l0aW9uIG9mIFxuICAgIGJlaW5nIG1vdmVkIGZyb20gb25lIGNlbGxGcmFtZSB0byBhbm90aGVyIHdoZW4gY3Jvc3NpbmcgdGhlIENyYWRsZSBheGlzLCBcbiAgICB0aGUgc2Nyb2xsUG9zIChzY3JvbGxMZWZ0IG9yIHNjcm9sbFRvcCkgaXMgcmVzZXQgdG8gMCAoemVybykuIFdoZW4gdGhlIHNjcm9sbGVyIGlzIFxuICAgIG1vdmVkIHRvIGEgY2VsbEZyYW1lLCB0aGlzIGNvZGUgdHJpZ2dlcnMgcmVzdG9yYXRpb24gdGhlIHNjcm9sbFBvcyAoc2VlIGNhc2UgJ3BhcmVudGluZ3RyYW5zaXRpb24nXG4gICAgaW4gdGhlIHN0YXRlIG1hbmFnZW1lbnQgc2VjdGlvbiBiZWxvdykuXG5cbiAgICBUaGlzIHN1cHBvcnRzIEluZmluaXRlR3JpZFNjcm9sbGVyIGNvbXBvbmVudHMgdG8gYmUgY2FjaGVkIGFzIGNvbnRlbnQuXG5cbiAgICBUaGUgcmVzdG9yZSBzY3JvbGxQb3MgYWN0aW9uIG11c3QgYmUgdGhlIGZpcnN0IHByaW9yaXR5IHRvIGhpZGUgdGhlc2Ugc2Nyb2xsUG9zIGFkanVzdG1lbnRzXG4gICAgZnJvbSB0aGUgdXNlci5cbiovXG4gICAgXG4gICAgY29uc3QgcmVzdG9yZVNjcm9sbFBvcyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBsYXlvdXRIYW5kbGVyLFxuICAgICAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyA9IGNyYWRsZVBvc2l0aW9uRGF0YS50cmFja2luZ0Jsb2NrU2Nyb2xsUG9zLFxuICAgICAgICAgICAgdHJhY2tpbmdYQmxvY2tTY3JvbGxQb3MgPSBjcmFkbGVQb3NpdGlvbkRhdGEudHJhY2tpbmdYQmxvY2tTY3JvbGxQb3NcblxuICAgICAgICBpZiAodHJhY2tpbmdCbG9ja1Njcm9sbFBvcyAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIGxldCBzY3JvbGxPcHRpb25zXG4gICAgICAgICAgICBpZiAoY3JhZGxlUG9zaXRpb25EYXRhLmJsb2NrU2Nyb2xsUHJvcGVydHkgPT0gJ3Njcm9sbFRvcCcpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB0b3A6dHJhY2tpbmdCbG9ja1Njcm9sbFBvcyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDp0cmFja2luZ1hCbG9ja1Njcm9sbFBvcyxcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6J2luc3RhbnQnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDp0cmFja2luZ0Jsb2NrU2Nyb2xsUG9zLFxuICAgICAgICAgICAgICAgICAgICB0b3A6dHJhY2tpbmdYQmxvY2tTY3JvbGxQb3MsXG4gICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOidpbnN0YW50JyxcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGwoc2Nyb2xsT3B0aW9ucylcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoaXNDYWNoZUNoYW5nZSAmJiAhaXNDYWNoZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3MoKSAgICAgICAgXG5cbiAgICB9XG5cbiAgICAvLyBjaGFuZ2Ugc3RhdGUgZm9yIGVudGVyaW5nIG9yIGxlYXZpbmcgY2FjaGVcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm4gLy8gbm90aGluZyB0byBkb1xuXG4gICAgICAgIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50ICYmICF3YXNDYWNoZWRSZWYuY3VycmVudCkgeyAvLyBpbnRvIGNhY2hlXG5cbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjYWNoZWQnKVxuXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzQ2FjaGVkUmVmLmN1cnJlbnQgJiYgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHsgLy8gb3V0IG9mIGNhY2hlXG5cbiAgICAgICAgICAgIHdhc0NhY2hlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICAgICAgaWYgKGhhc0JlZW5SZW5kZXJlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVyZW5kZXJmcm9tY2FjaGUnKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpcnN0cmVuZGVyZnJvbWNhY2hlJylcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0sW2lzQ2FjaGVkUmVmLmN1cnJlbnQsIHdhc0NhY2hlZFJlZi5jdXJyZW50XSlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT1bIElOSVRJQUxJWkFUSU9OIGVmZmVjdHMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBpbml0aWFsaXphdGlvbiBlZmZlY3RzIGFyZSBpbmRlcGVuZGVudCBvZiBjYWNoaW5nXG5cbiAgICAvLyBjbGVhciBtb3VudGVkIGZsYWcgb24gdW5tb3VudFxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICAvLyB1bm1vdW50XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy9zZW5kIGNhbGwtaW4gZnVuY3Rpb25zIHRvIGhvc3RcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpZiAoIXVzZXJDYWxsYmFja3MuZnVuY3Rpb25zQ2FsbGJhY2spIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgc2Nyb2xsVG9JbmRleCwgXG4gICAgICAgICAgICBzY3JvbGxUb1BpeGVsLFxuICAgICAgICAgICAgc2Nyb2xsQnlQaXhlbCxcbiAgICAgICAgICAgIHJlbG9hZCwgXG4gICAgICAgICAgICBzZXRMaXN0c2l6ZSwgLy8gZGVwcmVjYXRlZFxuICAgICAgICAgICAgc2V0TGlzdFNpemUsXG4gICAgICAgICAgICBzZXRMaXN0UmFuZ2UsXG4gICAgICAgICAgICBwcmVwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgICAgIGFwcGVuZEluZGV4Q291bnQsXG4gICAgICAgICAgICBjbGVhckNhY2hlLCBcblxuICAgICAgICAgICAgZ2V0Q2FjaGVJbmRleE1hcCwgXG4gICAgICAgICAgICBnZXRDYWNoZUl0ZW1NYXAsXG4gICAgICAgICAgICBnZXRDcmFkbGVJbmRleE1hcCxcbiAgICAgICAgICAgIGdldFByb3BlcnRpZXNTbmFwc2hvdCxcblxuICAgICAgICAgICAgcmVtYXBJbmRleGVzLFxuICAgICAgICAgICAgbW92ZUluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0SW5kZXgsXG4gICAgICAgICAgICByZW1vdmVJbmRleCxcblxuICAgICAgICB9ID0gc2VydmljZUhhbmRsZXJcblxuICAgICAgICBjb25zdCBmdW5jdGlvbnMgPSB7XG5cbiAgICAgICAgICAgIHNjcm9sbFRvSW5kZXgsXG4gICAgICAgICAgICBzY3JvbGxUb1BpeGVsLFxuICAgICAgICAgICAgc2Nyb2xsQnlQaXhlbCxcbiAgICAgICAgICAgIHJlbG9hZCxcbiAgICAgICAgICAgIHNldExpc3RzaXplLCAvLyBkZXByZWNhdGVkXG4gICAgICAgICAgICBzZXRMaXN0U2l6ZSxcbiAgICAgICAgICAgIHNldExpc3RSYW5nZSxcbiAgICAgICAgICAgIHByZXBlbmRJbmRleENvdW50LFxuICAgICAgICAgICAgYXBwZW5kSW5kZXhDb3VudCxcbiAgICAgICAgICAgIGNsZWFyQ2FjaGUsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdldENhY2hlSW5kZXhNYXAsXG4gICAgICAgICAgICBnZXRDYWNoZUl0ZW1NYXAsXG4gICAgICAgICAgICBnZXRDcmFkbGVJbmRleE1hcCxcbiAgICAgICAgICAgIGdldFByb3BlcnRpZXNTbmFwc2hvdCxcblxuICAgICAgICAgICAgcmVtYXBJbmRleGVzLFxuICAgICAgICAgICAgbW92ZUluZGV4LFxuICAgICAgICAgICAgaW5zZXJ0SW5kZXgsXG4gICAgICAgICAgICByZW1vdmVJbmRleCxcblxuICAgICAgICB9XG5cbiAgICAgICAgdXNlckNhbGxiYWNrcy5mdW5jdGlvbnNDYWxsYmFjayhmdW5jdGlvbnMpXG5cbiAgICB9LFtdKVxuXG4gICAgLy8gaW5pdGlhbGl6ZSB3aW5kb3cgc2Nyb2xsIGxpc3RlbmVyc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLm9uU2Nyb2xsKVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCAmJiBcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxzY3JvbGxIYW5kbGVyLm9uU2Nyb2xsKVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pXG5cbiAgICAvLyBvYnNlcnZlciBzdXBwb3J0XG4gICAgLypcbiAgICAgICAgVGhlcmUgYXJlIHR3byBpbnRlcmVjdGlvbiBvYnNlcnZlcnM6IG9uZSBmb3IgdGhlIHR3byBjcmFkbGUgZ3JpZHMsIGFuZCBhbm90aGVyIGZvciB0cmlnZ2VybGluZXM7IFxuICAgICAgICAgICAgYm90aCBhZ2FpbnN0IHRoZSB2aWV3cG9ydC5cbiAgICAqLyAgICBcbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjcmFkbGVJbnRlcnNlY3QsXG4gICAgICAgICAgICB0cmlnZ2VybGluZXNJbnRlcnNlY3QsXG4gICAgICAgIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgLy8gaW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBjcmFkbGUgYm9keVxuICAgICAgICAvLyB0aGlzIHNldHMgdXAgYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb2YgdGhlIGNyYWRsZSBhZ2FpbnN0IHRoZSB2aWV3cG9ydC4gV2hlbiB0aGVcbiAgICAgICAgLy8gY3JhZGxlIGdvZXMgb3V0IG9mIHRoZSBvYnNlcnZlciBzY29wZSwgdGhlICdyZXBvc2l0aW9uaW5nUmVuZGVyJyBjcmFkbGUgc3RhdGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICBjb25zdCBjcmFkbGVpbnRlcnNlY3RvYnNlcnZlciA9IGNyYWRsZUludGVyc2VjdC5jcmVhdGVPYnNlcnZlcigpXG4gICAgICAgIGNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgIC8vIHRyaWdnZXJvYnNlcnZlciB0cmlnZ2VycyBjcmFkbGUgY29udGVudCB1cGRhdGVzIFxuICAgICAgICAvLyAgICAgd2hlbiB0cmlnZ2VybGluZXMgcGFzcyB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgLy8gZGVmZXIgY29ubmVjdEVsZW1lbnRzIHVudGlsIHRyaWdnZXJjZWxsIHRyaWdnZXJsaW5lcyBoYXZlIGJlZW4gYXNzaWduZWRcbiAgICAgICAgY29uc3QgdHJpZ2dlcm9ic2VydmVyID0gdHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNyZWF0ZU9ic2VydmVyKClcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBjcmFkbGVpbnRlcnNlY3RvYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRyaWdnZXJvYnNlcnZlci5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09WyBSRUNPTkZJR1VSQVRJT04gZWZmZWN0cyBdPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIGNoYW5nZSBsaXN0c2l6ZSwgY2FjaGluZywgcmVzaXplIChVSSByZXNpemUgb2YgdGhlIHZpZXdwb3J0KSwgcmVjb25maWd1cmUsIG9yIHBpdm90XG5cbiAgICAvLyBpbmVybmFsIGNhbGxiYWNrOiB0aGUgbmV3IGxpc3Qgc2l6ZSB3aWxsIGFsd2F5cyBiZSBsZXNzIHRoYW4gY3VycmVudCBsaXN0c2l6ZVxuICAgIC8vIGludm9rZWQgaWYgZ2V0SXRlbSByZXR1cm5zIG51bGxcbiAgICBjb25zdCBudWxsSXRlbVNldE1heExpc3RzaXplID0gdXNlQ2FsbGJhY2soKG1heExpc3RzaXplKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RzaXplID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQudmlydHVhbExpc3RQcm9wcy5zaXplXG5cbiAgICAgICAgaWYgKG1heExpc3RzaXplIDwgbGlzdHNpemUpIHtcblxuICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2ssIGNoYW5nZUxpc3RTaXplQ2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygnZ2V0SXRlbSByZXR1cm5lZCBudWxsJyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnVwZGF0ZVZpcnR1YWxMaXN0U2l6ZShtYXhMaXN0c2l6ZSlcbiAgICAgICAgICAgIGNhY2hlQVBJLmNoYW5nZUNhY2hlTGlzdFNpemUobWF4TGlzdHNpemUsIFxuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgY2hhbmdlTGlzdFNpemVDYWxsYmFjaylcblxuICAgICAgICB9XG4gICAgfSxbXSlcblxuICAgIC8vIGNhY2hpbmcgY2hhbmdlXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuXG4gICAgICAgIGlmIChjYWNoZSA9PSAncHJlbG9hZCcpIHtcblxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cHJlbG9hZCcpXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBzd2l0Y2ggKGNhY2hlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2tlZXBsb2FkJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGV0ZUxpc3RDYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygncGFyZSBjYWNoZSB0byBjYWNoZU1heCcsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlTWF4IH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlQVBJLnBhcmVDYWNoZVRvTWF4KGNhY2hlTWF4LCBtb2RlbEluZGV4TGlzdCwgZExpc3RDYWxsYmFjaykpIHtcblxuICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjaGFuZ2VjYWNoaW5nJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NyYWRsZSc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsSW5kZXhMaXN0ID0gY29udGVudEhhbmRsZXIuZ2V0TW9kZWxJbmRleExpc3QoKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlTGlzdENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ21hdGNoIGNhY2hlIHRvIGNyYWRsZScsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVBUEkubWF0Y2hDYWNoZVRvQ3JhZGxlKG1vZGVsSW5kZXhMaXN0LCBkTGlzdENhbGxiYWNrKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjaGFuZ2VjYWNoaW5nJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbY2FjaGUsIGNhY2hlTWF4XSlcblxuICAgIC8vIHRyaWdnZXIgdmlld3BvcnRyZXNpemluZyByZXNwb25zZSBiYXNlZCBvbiB2aWV3cG9ydCBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIC8vIG1vdmVtZW50IHRvIGFuZCBmcm9tIGNhY2hlIGlzIGluZGVwZW5kZW50IG9mIHVpIHZpZXdwb3J0cmVzaXppbmdcbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQgfHwgd2FzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcpICYmIFxuICAgICAgICAgICAgICAgIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ICE9ICd2aWV3cG9ydHJlc2l6aW5nJykpIHtcblxuICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuIFxuICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ZpZXdwb3J0cmVzaXppbmcnKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb21wbGV0ZSB2aWV3cG9ydHJlc2l6aW5nIG1vZGVcbiAgICAgICAgaWYgKCFWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuaXNSZXNpemluZyAmJiAoY3JhZGxlU3RhdGVSZWYuY3VycmVudCA9PSAndmlld3BvcnRyZXNpemluZycpKSB7XG5cbiAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2h2aWV3cG9ydHJlc2l6ZScpXG5cbiAgICAgICAgfVxuXG4gICAgfSxbVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmddKVxuXG4gICAgLy8gcmVjb25maWd1cmUgZm9yIGNoYW5nZWQgc2l6ZSBwYXJhbWV0ZXJzXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVjb25maWd1cmUnKVxuXG4gICAgfSxbXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwUHJvcHMsXG4gICAgICAgIHBhZGRpbmdQcm9wcyxcbiAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgcnVud2F5U2l6ZSxcbiAgICBdKVxuXG4gICAgdXNlRWZmZWN0KCgpPT57IC8vIGNoYW5nZSBvZiBsaXN0IHJhbmdlXG5cbiAgICAgICAgaWYgKGNyYWRsZVN0YXRlUmVmLmN1cnJlbnQgPT0gJ3NldHVwJykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHJldHVybiAvLyBUT0RPOiA/P1xuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVjb25maWd1cmVmb3JsaXN0cmFuZ2UnKVxuXG4gICAgfSxbXG4gICAgICAgIGxvd2luZGV4LFxuICAgICAgICBoaWdoaW5kZXgsXG4gICAgXSlcblxuICAgIC8vIGEgbmV3IGdldEl0ZW0gZnVuY3Rpb24gaW1wbGllcyB0aGUgbmVlZCB0byByZWxvYWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHJldHVyblxuXG4gICAgICAgIGludGVycnVwdEhhbmRsZXIucGF1c2VJbnRlcnJ1cHRzKClcblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVsb2FkJylcblxuICAgIH0sW2dldEl0ZW1dKVxuXG4gICAgLy8gcGl2b3QgdHJpZ2dlcmVkIG9uIGNoYW5nZSBvZiBvcmllbnRhdGlvblxuICAgIHVzZUVmZmVjdCgoKT0+IHtcblxuICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiKT9cbiAgICAgICAgICAgICAgICBcInNjcm9sbFRvcFwiOlxuICAgICAgICAgICAgICAgIFwic2Nyb2xsTGVmdFwiXG5cbiAgICAgICAgbGF5b3V0SGFuZGxlci5jcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tYU2Nyb2xsUHJvcGVydHkgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIik/XG4gICAgICAgICAgICAgICAgXCJzY3JvbGxUb3BcIjpcbiAgICAgICAgICAgICAgICBcInNjcm9sbExlZnRcIlxuXG4gICAgICAgIGlmIChjcmFkbGVTdGF0ZVJlZi5jdXJyZW50ID09ICdzZXR1cCcpIHtcbiAgICAgICAgICAgIGxheW91dEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nQmxvY2tTY3JvbGxQb3MgPSAwXG4gICAgICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50cmFja2luZ1hCbG9ja1Njcm9sbFBvcyA9IDBcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpXG4gICAgICAgIC8vIGludGVycnVwdEhhbmRsZXIudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3QoKVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIC8vIGNhY2hlQVBJLm1lYXN1cmVNZW1vcnkoJ3Bpdm90IGNhY2hlZCcpXG4gICAgICAgICAgICAvLyBpbnRlcnJ1cHRIYW5kbGVyLnBhdXNlSW50ZXJydXB0cygpIC8vIHN1cHByZXNzIHRyaWdnZXJsaW5lIGNhbGxiYWNrczsgd2lsbCByZW5kZXIgZm9yIGZpcnN0IHJlbmRlciBmcm9tIGNhY2hlXG4gICAgICAgICAgICAvLyBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJylcbiAgICAgICAgICAgIGhhc0JlZW5SZW5kZXJlZFJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FjaGVBUEkubWVhc3VyZU1lbW9yeSgncGl2b3QnKVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBsYXlvdXQgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgICAgICBnYXBsZW5ndGggPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLmNvbHVtbjpcbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMucm93LFxuXG4gICAgICAgICAgICBnYXB4bGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBnYXBQcm9wcy5yb3c6XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLmNvbHVtblxuXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMsXG4gICAgICAgICAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgLy8gZ2V0IHByZXZpb3VzIHJhdGlvXG4gICAgICAgICAgICAgICAgcHJldmlvdXNDZWxsUGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICsgZ2FweGxlbmd0aCxcblxuICAgICAgICAgICAgICAgIHByZXZpb3VzUGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0ID0gXG4gICAgICAgICAgICAgICAgICAgIGxheW91dEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCxcblxuICAgICAgICAgICAgICAgIHByZXZpb3VzcmF0aW8gPSBwcmV2aW91c1BpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydC9wcmV2aW91c0NlbGxQaXhlbExlbmd0aCxcblxuICAgICAgICAgICAgICAgIHBpdm90Q2VsbFBpeGVsTGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFdpZHRoKVxuICAgICAgICAgICAgICAgICsgZ2FwbGVuZ3RoLFxuXG4gICAgICAgICAgICAgICAgcGl2b3RBeGlzT2Zmc2V0ID0gcHJldmlvdXNyYXRpbyAqIHBpdm90Q2VsbFBpeGVsTGVuZ3RoXG5cbiAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgPSBNYXRoLnJvdW5kKHBpdm90QXhpc09mZnNldClcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0ID0gZ2FweGxlbmd0aFxuXG4gICAgICAgIH1cblxuICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncGl2b3QnKVxuXG4gICAgfSxbb3JpZW50YXRpb24sIGxheW91dF0pIC8vIFRPRE86IGNoZWNrIGZvciBzaWRlLWVmZmVjdHMgb2YgbGF5b3V0LW9ubHkgY2hhbmdlXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFNUWUxFUyBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBzdHlsZXMgZm9yIHRoZSBzaXggc2NhZmZvbGQgY29tcG9uZW50c1xuICAgIGNvbnN0IFtcbiAgICAgICAgY3JhZGxlSGVhZFN0eWxlLFxuICAgICAgICBjcmFkbGVUYWlsU3R5bGUsXG4gICAgICAgIGNyYWRsZUF4aXNTdHlsZSxcbiAgICAgICAgY3JhZGxlRGl2aWRlclN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlLFxuICAgIF0gPSB1c2VNZW1vKCgpPT4ge1xuXG4gICAgICAgIHJldHVybiBzdHlsZXNIYW5kbGVyLmdldENyYWRsZVN0eWxlcyh7XG5cbiAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgICAgICBjZWxsTWluV2lkdGgsXG4gICAgICAgICAgICBnYXBQcm9wcyxcbiAgICAgICAgICAgIHZpZXdwb3J0aGVpZ2h0LCBcbiAgICAgICAgICAgIHZpZXdwb3J0d2lkdGgsXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHVzZXJzdHlsZXM6c3R5bGVzLFxuICAgICAgICAgICAgdHJpZ2dlcmxpbmVPZmZzZXQsXG4gICAgICAgICAgICBsYXlvdXQsXG5cbiAgICAgICAgfSlcblxuICAgIH0sW1xuXG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGNlbGxNaW5IZWlnaHQsXG4gICAgICAgIGNlbGxNaW5XaWR0aCxcbiAgICAgICAgZ2FwUHJvcHMsXG4gICAgICAgIHZpZXdwb3J0aGVpZ2h0LFxuICAgICAgICB2aWV3cG9ydHdpZHRoLFxuICAgICAgICBjcm9zc2NvdW50LFxuICAgICAgICBzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBsYXlvdXQsXG5cbiAgICAgIF0pXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1bIFNUQVRFIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBjb3JlIHN0YXRlIGVuZ2luZSAoYWJvdXQgMzIgc3RhdGVzKSwgdXNpbmcgbmFtZWQgc3RhdGVzXG4gICAgLy8gdXNlTGF5b3V0RWZmZWN0IGZvciBzdXBwcmVzc2luZyBmbGFzaGVzXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChjcmFkbGVTdGF0ZSkge1xuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVsgcHJlY3Vyc29ycyB0byBzZXRDcmFkbGVDb250ZW50IF0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIHRoZXNlIGFyZSBhbGwgd29ya2Zsb3cgcmVsYXRlZCwgYnV0XG4gICAgICAgICAgICAvLyByZXNpemUgY291bGQgYmUgYXN5bmNocm9ub3VzIHdoZW4gcm90YXRpbmcgcGhvbmUgZHVyaW5nIHNjcm9sbCBpbnRlcnRpYVxuXG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHsgLy8gY3ljbGUgdG8gYWxsb3cgZm9yIHJlZiBhc3NpZ25tZW50c1xuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudC5jYWNoZSAhPSAncHJlbG9hZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjYWNoZWQnKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2ZpcnN0cmVuZGVyJykgLy8gbG9hZCBncmlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd2aWV3cG9ydHJlc2l6aW5nJzoge1xuXG4gICAgICAgICAgICAgICAgLy8gbm8tb3AsIHdhaXQgZm9yIHJlc2l6aW5nIHRvIGVuZFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0cHJlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ2FsbGJhY2sgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxJbmRleExpc3QgPSBjb250ZW50SGFuZGxlci5nZXRNb2RlbEluZGV4TGlzdCgpXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBkTGlzdENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrKCdwYXJlIGNhY2hlIHRvIGNhY2hlTWF4JyxkZWxldGVMaXN0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZUFQSS5wYXJlQ2FjaGVUb01heChjYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGRMaXN0Q2FsbGJhY2spKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NhY2hlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hwcmVsb2FkJylcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnY2FjaGVkJylcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5wcmVsb2FkKGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjYWNoZWQnOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXdhc0NhY2hlZFJlZi5jdXJyZW50ICYmICFpc0NhY2hlZFJlZi5jdXJyZW50KXtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQmVlblJlbmRlcmVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlcmVuZGVyZnJvbWNhY2hlJylcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmlyc3RyZW5kZXJmcm9tY2FjaGUnKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB3YWl0IGZvciByZXBhcmVudGluZ1xuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnRyZXBvc2l0aW9uJzoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSBpbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAvLyBhdm9pZCByZWN1cnNpdmUgY3JhZGxlIGludGVyc2VjdGlvbiBpbnRlcnJ1cHRzXG4gICAgICAgICAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gZmFsc2UgLy8gYmVjYXVzZSBub3cgdW5kZXJ3YXlcblxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxIYW5kbGVyLmlzU2Nyb2xsaW5nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge2xvd2luZGV4LCBzaXplOmxpc3RzaXplIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LnNjcm9sbFRyYWNrZXJBUElSZWYuY3VycmVudC5zdGFydFJlcG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLmNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24sIFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93aW5kZXgsIGxpc3RzaXplXG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVwb3NpdGlvbmluZ1JlbmRlcicpXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdmaW5pc2hyZXBvc2l0aW9uJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgc2V0Q3JhZGxlQ29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgdGhlIGZvbGxvd2luZyAxMiBjcmFkbGUgc3RhdGVzIGFsbCByZXNvbHZlIHdpdGhcbiAgICAgICAgICAgICAgICBhIGNoYWluIHN0YXJ0aW5nIHdpdGggc2V0Q3JhZGxlQ29udGVudCwgXG4gICAgICAgICAgICAgICAgY29udGludWluZyB3aXRoICdwcmVwYXJlcmVuZGVyJywgYW5kIGVuZGluZyB3aXRoXG4gICAgICAgICAgICAgICAgJ3Jlc3RvcmVpbnRlcnJ1cHRzJywgd2l0aCBhIGRldG91ciBmb3IgdmFyaWFibGUgbGF5b3V0IFxuICAgICAgICAgICAgICAgIHRvIHJlY29uZmlndXJlIHRoZSBzY3JvbGxibG9ja1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgJ2ZpcnN0cmVuZGVyJzpcbiAgICAgICAgICAgIGNhc2UgJ2ZpcnN0cmVuZGVyZnJvbWNhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlcmVuZGVyZnJvbWNhY2hlJzpcbiAgICAgICAgICAgIGNhc2UgJ3Njcm9sbHRvJzpcbiAgICAgICAgICAgIGNhc2UgJ2NoYW5nZWNhY2hpbmcnOlxuICAgICAgICAgICAgY2FzZSAnZmluaXNocHJlbG9hZCc6XG4gICAgICAgICAgICBjYXNlICdmaW5pc2hyZXBvc2l0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaHZpZXdwb3J0cmVzaXplJzpcbiAgICAgICAgICAgIGNhc2UgJ3Bpdm90JzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlY29uZmlndXJlZm9ybGlzdHJhbmdlJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6IHtcblxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybiAvLyBwb3NzaWJsZSBhc3luYyBsYXRlbmN5IHdpdGggbmVzdGVkIHNjcm9sbGVyc1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzQ2FjaGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NhY2hlZCcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY3JhZGxlQ29udGVudCA9IGNvbnRlbnRIYW5kbGVyLmNvbnRlbnRcblxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cyA9IFtdXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gW11cblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0IH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3QoKVxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIuY3JhZGxlSW50ZXJzZWN0LmRpc2Nvbm5lY3QoKVxuXG4gICAgICAgICAgICAgICAgaWYgKGxheW91dCA9PSAndmFyaWFibGUnKSB7IC8vIHJlc3RvcmUgYmFzZSBjb25maWcgdG8gc2Nyb2xsYmxvY2tcblxuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGRvbmUgZm9yIHJlcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgKGNyYWRsZVN0YXRlICE9ICdmaW5pc2hyZXBvc2l0aW9uJykgJiYgbGF5b3V0SGFuZGxlci5yZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnKClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjcmFkbGVTdGF0ZSA9PSAncmVsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ2ZpbmlzaHJlcG9zaXRpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LnNjcm9sbFRyYWNrZXJBUElSZWYuY3VycmVudC5maW5pc2hSZXBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGFuZGxlci5jYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhKCdmaW5pc2hyZXBvc2l0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbGlzdHNpemUgPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzLnNpemVcbiAgICAgICAgICAgICAgICAvLyBzZXQgZGF0YVxuICAgICAgICAgICAgICAgIGlmIChsaXN0c2l6ZSkgY29udGVudEhhbmRsZXIuc2V0Q3JhZGxlQ29udGVudCggY3JhZGxlU3RhdGUgKVxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlICE9ICdmaW5pc2hwcmVsb2FkJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGhhc0JlZW5SZW5kZXJlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzeW5jaHJvbml6ZSBjYWNoZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUgPT0gJ2NyYWRsZScpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbEluZGV4TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmdldE1vZGVsSW5kZXhMaXN0KClcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGV0ZUxpc3RDYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ21hdGNoIGNhY2hlIHRvIGNyYWRsZScsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVBUEkubWF0Y2hDYWNoZVRvQ3JhZGxlKG1vZGVsSW5kZXhMaXN0LCBkTGlzdENhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgdGhlIGN5Y2xlIGZvciBwcmVwYXJlcmVuZGVyXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHZpcnR1YWwgRE9NXG4gICAgICAgICAgICAgICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ByZXBhcmVyZW5kZXInKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVmcmVzaERPTXNldGZvcnZhcmlhYmlsaXR5JylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXBhcmVyZW5kZXInOiB7IC8vIGN5Y2xlIGZvciBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VybGluZXMgd2lsbCBoYXZlIGJlZW4gYXNzaWduZWQgdG8gYSBuZXcgdHJpZ2dlckNlbGwgYnkgbm93LlxuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3RFbGVtZW50cyB3YXMgZGVsYXllZCBmb3IgYSBjeWNsZSB0byByZW5kZXIgdHJpZ2dlcmNlbGwgdHJpZ2dlcmxpbmVzXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci50cmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLmNyYWRsZUludGVyc2VjdC5jb25uZWN0RWxlbWVudHMoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3Jlc3RvcmVpbnRlcnJ1cHRzJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3RvcmVpbnRlcnJ1cHRzJzogeyAvLyBub3JtYWxpemVcblxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIucmVzdG9yZUludGVycnVwdHMoKVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrIFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RyaWdnZXJib3VuZGFyeW5vdGljYXRpb25zJzoge1xuXG4gICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIudHJpZ2dlckJvdW5kYXJ5Q2FsbGJhY2tzKClcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGZvbGxvd3VwIGZyb20gYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2sgXS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gc2Nyb2xsIGVmZmVjdHNcblxuICAgICAgICAgICAgLy8gcmVuZGVydXBkYXRlZGNvbnRlbnQgaXMgY2FsbGVkIGZyb20gaW50ZXJydXB0SGFuZGxlci5heGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjay4gXG4gICAgICAgICAgICAvLyBpdCBpcyByZXF1aXJlZCB0byBpbnRlZ3JhdGUgY2hhbmdlZCBET00gY29uZmlndXJhdGlvbnMgYmVmb3JlICdyZWFkeScgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBjYXNlICdyZW5kZXJ1cGRhdGVkY29udGVudCc6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIC8vIGlmIChpc0NhY2hlZFJlZi5jdXJyZW50KSByZXR1cm4gLy8gREVCVUchIVxuXG4gICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIudXBkYXRlQ3JhZGxlQ29udGVudCgpXG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmluaXNodXBkYXRlZGNvbnRlbnQnKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2h1cGRhdGVkY29udGVudCc6IHsgLy8gY3ljbGUgZm9yIERPTSB1cGRhdGVcblxuICAgICAgICAgICAgICAgIC8vIHN5bmNocm9uaXplIGNhY2hlXG4gICAgICAgICAgICAgICAgY29uc3QgeyBjYWNoZSB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLmd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nKClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNhY2hlQVBJLm1lYXN1cmVNZW1vcnkoJ2ZpbmlzaCB1cGRhdGUnKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBsYXlvdXQgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci50cmlnZ2VybGluZXNJbnRlcnNlY3QuY29ubmVjdEVsZW1lbnRzKClcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gJ3ZhcmlhYmxlJyBjb250ZW50IHJlcXVpcmluZyByZWNvbmZpZ3VyYXRpb25cblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVmcmVzaERPTXVwZGF0ZWZvcnZhcmlhYmlsaXR5JylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgYWRqdXN0IHNjcm9sbGJsb2NrIGZvciBzZXQgdmFyaWFibGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgY2FzZSAncmVmcmVzaERPTXNldGZvcnZhcmlhYmlsaXR5Jzoge1xuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3ByZXBhcmVzZXRmb3J2YXJpYWJpbGl0eScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXBhcmVzZXRmb3J2YXJpYWJpbGl0eSc6IHtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyAvLyBnaXZlIHRpbWUgZm9yIERPTSB0byBwcm9kdWNlIGxheW91dFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5hZGp1c3RTY3JvbGxibG9ja0ZvclZhcmlhYmlsaXR5KCdzZXRjcmFkbGUnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmluaXNoc2V0Zm9ydmFyaWFiaWxpdHknKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sIFZBUklBQkxFX01FQVNVUkVNRU5UU19USU1FT1VUKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoc2V0Zm9ydmFyaWFiaWxpdHknOiB7XG5cbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncHJlcGFyZXJlbmRlcicpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBhZGp1c3Qgc2Nyb2xsYmxvY2sgZm9yIHVwZGF0ZSB2YXJpYWJsZSBjb250ZW50IF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBjYXNlICdyZWZyZXNoRE9NdXBkYXRlZm9ydmFyaWFiaWxpdHknOiB7XG5cbiAgICAgICAgICAgICAgICAvLyBleHRyYSBjeWNsZSB0byBhbGxvdyBmb3IgRE9NIHN5bmNocm9uaXppb24gd2l0aCBncmlkIGNoYW5nZXNcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdhZGp1c3R1cGRhdGVmb3J2YXJpYWJpbGl0eScpXG5cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2FkanVzdHVwZGF0ZWZvcnZhcmlhYmlsaXR5Jzoge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHsgLy8gYWxsb3cgbW9yZSBET00gdXBkYXRlXG5cbiAgICAgICAgICAgICAgICAgICAgY29udGVudEhhbmRsZXIuYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSgndXBkYXRlY3JhZGxlJylcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgnZmluaXNodXBkYXRlZm9ydmFyaWFiaWxpdHknKVxuXG4gICAgICAgICAgICAgICAgfSwwKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2h1cGRhdGVmb3J2YXJpYWJpbGl0eSc6IHtcblxuICAgICAgICAgICAgICAgIC8vIHJlLWFjdGl2YXRlIHRyaWdnZXJzOyB0cmlnZ2VybGluZXMgd2lsbCBoYXZlIGJlZW4gYXNzaWduZWQgdG8gYSBuZXcgdHJpZ2dlckNlbGwgYnkgbm93LlxuICAgICAgICAgICAgICAgIGludGVycnVwdEhhbmRsZXIudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNvbm5lY3RFbGVtZW50cygpXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlci5zaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBmYWxzZVxuXG4gICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLVsgdXNlciByZXF1ZXN0cyBdLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBjYXNlICdjaGFubmVsY3JhZGxlcmVzZXRhZnRlcmluc2VydHJlbW92ZSc6IHtcblxuICAgICAgICAgICAgICAgIGNhY2hlQVBJLmFwcGx5UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0KClcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdjaGFuZ2VsaXN0c2l6ZWFmdGVyaW5zZXJ0cmVtb3ZlJylcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIHZhcmlvdXMgaG9zdCBzZXJ2aWNlIHJlcXVlc3RzOyBzeW5jcyBjcmFkbGUgY29udGVudCB3aXRoIGNhY2hlIGNoYW5nZXNcbiAgICAgICAgICAgIGNhc2UgJ2FwcGx5aW5zZXJ0cmVtb3ZlY2hhbmdlcyc6XG4gICAgICAgICAgICBjYXNlICdhcHBseXJlbWFwY2hhbmdlcyc6XG4gICAgICAgICAgICBjYXNlICdhcHBseW1vdmVjaGFuZ2VzJzoge1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBjcmFkbGVDb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50LnRhaWxEaXNwbGF5Q29tcG9uZW50cyA9IGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50c1xuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEkuYXBwbHlQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QoKVxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZVN0YXRlID09ICdhcHBseWluc2VydHJlbW92ZWNoYW5nZXMnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ2NoYW5nZWxpc3RzaXplYWZ0ZXJpbnNlcnRyZW1vdmUnKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnY2hhbmdlbGlzdHNpemVhZnRlcmluc2VydHJlbW92ZSc6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2xpc3RzaXplID0gc2VydmljZUhhbmRsZXIubmV3TGlzdFNpemVcbiAgICAgICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5uZXdMaXN0U2l6ZSA9IG51bGxcblxuICAgICAgICAgICAgICAgIHNldENyYWRsZVN0YXRlKCdyZWFkeScpXG5cbiAgICAgICAgICAgICAgICAvLyBzZXJ2aWNlIGhhbmRsZXIgY2FsbGVkIGJlY2F1c2UgdGhpcyBpcyBhIGZvbGxvd29uIG9mIGEgdXNlciBpbnRlcnZlbnRpb25cbiAgICAgICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5zZXRMaXN0U2l6ZShuZXdsaXN0c2l6ZSlcblxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NsZWFyY2FjaGUnOiB7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlci5jbGVhckNyYWRsZSgpXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5jbGVhckNhY2hlKClcbiAgICAgICAgICAgICAgICBzZXRDcmFkbGVTdGF0ZSgncmVhZHknKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9LFtjcmFkbGVTdGF0ZV0pXG5cbiAgICAvLyBzdGFuZGFyZCByZW5kZXJpbmcgc3RhdGVzICgyIHN0YXRlcylcbiAgICB1c2VFZmZlY3QoKCk9PiB7IFxuXG4gICAgICAgIHN3aXRjaCAoY3JhZGxlU3RhdGUpIHtcblxuICAgICAgICAgICAgLy8gcmVwb3NpdGlvbmluZ1JlbmRlciBhbmQgcmVwb3NpdGlvbmluZ0NvbnRpbnVhdGlvbiBhcmUgdG9nZ2xlZCB0byBnZW5lcmF0ZSBjb250aW51b3VzIFxuICAgICAgICAgICAgLy8gcmVwb3NpdGlvbmluZyByZW5kZXJzXG4gICAgICAgICAgICBjYXNlICdyZXBvc2l0aW9uaW5nUmVuZGVyJzogLy8gbm8tb3BcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlICdyZWFkeSc6XG5cbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0SGFuZGxlci5ib3VuZGFyeU5vdGlmaWNhdGlvbnNSZXF1aXJlZCgpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0Q3JhZGxlU3RhdGUoJ3RyaWdnZXJib3VuZGFyeW5vdGljYXRpb25zJylcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgfVxuXG4gICAgfSxbY3JhZGxlU3RhdGVdKVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFTkRFUiBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb25zdCBjcmFkbGVDb250ZW50ID0gY29udGVudEhhbmRsZXIuY29udGVudFxuXG4gICAgY29uc3QgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZXNSZWYgPSB1c2VSZWYobnVsbClcbiAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZi5jdXJyZW50ID0gdXNlTWVtbygoKT0+e1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5ID0gJ2hlYWQnXG4gICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2hlYWR0cmlnZ2VyJ1xuICAgICAgICAgICAgICAgIHN0eWxlID0ge3RyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkU3R5bGV9XG4gICAgICAgICAgICAgICAgcmVmID0ge3RyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkRWxlbWVudFJlZn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXkgPSAndGFpbCdcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbHRyaWdnZXInXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7dHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxTdHlsZX1cbiAgICAgICAgICAgICAgICByZWYgPSB7dHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxFbGVtZW50UmVmfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIF1cblxuICAgIH0sW1xuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlLFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlXG4gICAgXSlcblxuICAgIGNvbnN0IGNvbnRleHR2YWx1ZVJlZiA9IHVzZVJlZih7XG4gICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZiwgXG4gICAgICAgIGNhY2hlQVBJLCBcbiAgICAgICAgbnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSxcbiAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrOnNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrcy5pdGVtRXhjZXB0aW9uQ2FsbGJhY2ssXG4gICAgICAgIElETEVDQUxMQkFDS19USU1FT1VULFxuICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZixcbiAgICB9KVxuXG5cbiAgICAvLyBkaXNwbGF5IHRoZSBjcmFkbGUgY29tcG9uZW50cywgdGhlIFNjcm9sbFRyYWNrZXIsIG9yIG51bGxcbiAgICByZXR1cm4gPENyYWRsZUNvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7IGNvbnRleHR2YWx1ZVJlZi5jdXJyZW50IH0+XG5cbiAgICAgICAgeyhjcmFkbGVTdGF0ZSA9PSAncmVwb3NpdGlvbmluZ1JlbmRlcicpP251bGw6XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBkYXRhLXR5cGUgPSAnY3JhZGxlLWF4aXMnXG4gICAgICAgICAgICBzdHlsZSA9IHsgY3JhZGxlQXhpc1N0eWxlIH0gXG4gICAgICAgICAgICByZWYgPSB7IGF4aXNDcmFkbGVFbGVtZW50UmVmIH1cbiAgICAgICAgPlxuICAgICAgICAgICAgeyBzaG93QXhpcz8gLy8gZm9yIGRlYnVnXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2NyYWRsZS1kaXZpZGVyJyBcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZURpdmlkZXJTdHlsZSB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvZGl2PjpcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGF0YS10eXBlID0gJ2hlYWQnXG4gICAgICAgICAgICAgICAgcmVmID0geyBoZWFkQ3JhZGxlRWxlbWVudFJlZiB9XG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZUhlYWRTdHlsZSB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkYXRhLXR5cGUgPSAndGFpbCdcbiAgICAgICAgICAgICAgICByZWYgPSB7IHRhaWxDcmFkbGVFbGVtZW50UmVmIH0gXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7IGNyYWRsZVRhaWxTdHlsZSB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsoY3JhZGxlU3RhdGUgIT0gJ3NldHVwJyk/XG4gICAgICAgICAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzOlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICBcbiAgICA8L0NyYWRsZUNvbnRleHQuUHJvdmlkZXI+XG5cbn0gLy8gQ3JhZGxlXG5cbmV4cG9ydCBkZWZhdWx0IENyYWRsZVxuXG4vLyB1dGlsaXR5XG5cbmNvbnN0IGdldENyYWRsZUhhbmRsZXJzID0gKGNyYWRsZVBhcmFtZXRlcnMpID0+IHtcblxuICAgIGNvbnN0IGNyZWF0ZUhhbmRsZXIgPSBoYW5kbGVyID0+IG5ldyBoYW5kbGVyKGNyYWRsZVBhcmFtZXRlcnMpXG5cbiAgICBjb25zdCB7IGNhY2hlQVBJIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgY2FjaGVBUEkuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgY2FjaGVBUEksXG4gICAgICAgIGludGVycnVwdEhhbmRsZXI6Y3JlYXRlSGFuZGxlcihJbnRlcnJ1cHRIYW5kbGVyKSxcbiAgICAgICAgc2Nyb2xsSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNjcm9sbEhhbmRsZXIpLFxuICAgICAgICBzdGF0ZUhhbmRsZXI6Y3JlYXRlSGFuZGxlcihTdGF0ZUhhbmRsZXIpLFxuICAgICAgICBjb250ZW50SGFuZGxlcjpjcmVhdGVIYW5kbGVyKENvbnRlbnRIYW5kbGVyKSxcbiAgICAgICAgbGF5b3V0SGFuZGxlcjpjcmVhdGVIYW5kbGVyKExheW91dEhhbmRsZXIpLFxuICAgICAgICBzZXJ2aWNlSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFNlcnZpY2VIYW5kbGVyKSxcbiAgICAgICAgc3R5bGVzSGFuZGxlcjpjcmVhdGVIYW5kbGVyKFN0eWxlc0hhbmRsZXIpLFxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlIiwidSIsImEiLCJmIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJWaWV3cG9ydF8xIiwic2Nyb2xsaGFuZGxlcl8xIiwiX19pbXBvcnREZWZhdWx0Iiwic3RhdGVoYW5kbGVyXzEiLCJjb250ZW50aGFuZGxlcl8xIiwibGF5b3V0aGFuZGxlcl8xIiwiaW50ZXJydXB0aGFuZGxlcl8xIiwic2VydmljZWhhbmRsZXJfMSIsInN0eWxlc2hhbmRsZXJfMSIsImV4cG9ydHMiLCJDcmFkbGVDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIkNyYWRsZSIsIl9yZWYiLCJncmlkU3BlY3MiLCJwYWRkaW5nUHJvcHMiLCJnYXBQcm9wcyIsInJ1bndheVNpemUiLCJ2aXJ0dWFsTGlzdFNwZWNzIiwic2V0VmlydHVhbExpc3RTaXplIiwic2V0VmlydHVhbExpc3RSYW5nZSIsInN0YXJ0aW5nSW5kZXgiLCJnZXRJdGVtIiwiZ2V0RXhwYW5zaW9uQ291bnQiLCJwbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyTWVzc2FnZXMiLCJ1c2VyQ2FsbGJhY2tzIiwic3R5bGVzIiwidHJpZ2dlcmxpbmVPZmZzZXQiLCJjYWNoZSIsImNhY2hlTWF4Iiwic2Nyb2xsZXJJRCIsImNhY2hlQVBJIiwidXNlUGxhY2Vob2xkZXIiLCJzaG93QXhpcyIsIk9OQUZURVJTQ1JPTExfVElNRU9VVCIsIklETEVDQUxMQkFDS19USU1FT1VUIiwiTUFYX0NBQ0hFX09WRVJfUlVOIiwiVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQiLCJzY3JvbGxlclByb3BlcnRpZXMiLCJsaXN0c2l6ZSIsInNpemUiLCJsb3dpbmRleCIsImhpZ2hpbmRleCIsIm9yaWVudGF0aW9uIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImNlbGxNaW5IZWlnaHQiLCJjZWxsTWluV2lkdGgiLCJsYXlvdXQiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzIiwidXNlQ29udGV4dCIsIlZpZXdwb3J0Q29udGV4dCIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJ1c2VSZWYiLCJjdXJyZW50IiwiaXNNb3VudGVkUmVmIiwiaXNDYWNoZWRSZWYiLCJ3YXNDYWNoZWRSZWYiLCJoYXNCZWVuUmVuZGVyZWRSZWYiLCJ0cmlnZ2VySGlzdG9yeVJlZiIsInByZXZpb3VzVHJpZ2dlck5hbWVBdEJvcmRlciIsImdldFZpZXdwb3J0RGltZW5zaW9ucyIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiX2dldFZpZXdwb3J0RGltZW5zaW9uIiwidmlld3BvcnRoZWlnaHQiLCJ2aWV3cG9ydHdpZHRoIiwiaXNJblBvcnRhbCIsImlzQ2FjaGVDaGFuZ2UiLCJfcmVmMiIsInVzZVN0YXRlIiwiX3JlZjMiLCJjcmFkbGVTdGF0ZSIsInNldENyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJoZWFkQ3JhZGxlRWxlbWVudFJlZiIsInRhaWxDcmFkbGVFbGVtZW50UmVmIiwiYXhpc0NyYWRsZUVsZW1lbnRSZWYiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZEVsZW1lbnRSZWYiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbEVsZW1lbnRSZWYiLCJjcmFkbGVFbGVtZW50c1JlZiIsImhlYWRSZWYiLCJ0YWlsUmVmIiwiYXhpc1JlZiIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYiLCJjcm9zc2NvdW50IiwidXNlTWVtbyIsInZpZXdwb3J0Y3Jvc3NsZW5ndGgiLCJjcm9zc3BhZGRpbmciLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjcm9zc2dhcCIsImNvbHVtbiIsInJvdyIsInZpZXdwb3J0Y3Jvc3NsZW5ndGhmb3JjYWxjIiwiY2VsbGNyb3NzbGVuZ3RoIiwiY2VsbGNyb3NzbGVuZ3RoZm9yY2FsYyIsIk1hdGgiLCJtaW4iLCJmbG9vciIsIl9yZWY0IiwidW5kZWZpbmVkIiwiZW5kYWRqdXN0bWVudCIsImJhc2Vyb3dibGFua3MiLCJhYnMiLCJlbmRyb3dibGFua3MiLCJfcmVmNSIsIl9yZWY2Iiwidmlld3BvcnRMZW5ndGgiLCJnYXBsZW5ndGgiLCJiYXNlUm93TGVuZ3RoIiwidmlld3BvcnRSb3djb3VudCIsImNlaWwiLCJsaXN0Um93Y291bnQiLCJjYWxjdWxhdGVkQ3JhZGxlUm93Y291bnQiLCJjcmFkbGVSb3djb3VudCIsInJ1bndheVJvd2NvdW50IiwiZGlmZiIsIm1heCIsIml0ZW1jb3VudCIsIl9yZWY3IiwicmFuZ2Vyb3dzaGlmdCIsInZpcnR1YWxMaXN0UHJvcHMiLCJhc3NpZ24iLCJyb3djb3VudCIsInJvd3NoaWZ0IiwiY3JhZGxlQ29udGVudFByb3BzUmVmIiwiU09MIiwiRU9MIiwiY3JhZGxlQ29udGVudFByb3BzIiwiZXh0ZXJuYWxDYWxsYmFja3NSZWYiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwicmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayIsInJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrIiwiY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2siLCJpdGVtRXhjZXB0aW9uQ2FsbGJhY2siLCJib3VuZGFyeUNhbGxiYWNrIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsInNjcm9sbGVyUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImhhbmRsZXJzUmVmIiwiY3JhZGxlUGFyYW1ldGVycyIsImNyYWRsZVBhcmFtZXRlcnNSZWYiLCJnZXRDcmFkbGVIYW5kbGVycyIsIl9oYW5kbGVyc1JlZiRjdXJyZW50IiwiaW50ZXJydXB0SGFuZGxlciIsInNjcm9sbEhhbmRsZXIiLCJjb250ZW50SGFuZGxlciIsImxheW91dEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsInN0eWxlc0hhbmRsZXIiLCJyZXN0b3JlU2Nyb2xsUG9zIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidHJhY2tpbmdCbG9ja1Njcm9sbFBvcyIsInRyYWNraW5nWEJsb2NrU2Nyb2xsUG9zIiwic2Nyb2xsT3B0aW9ucyIsImJsb2NrU2Nyb2xsUHJvcGVydHkiLCJiZWhhdmlvciIsInNjcm9sbCIsInVzZUVmZmVjdCIsImZ1bmN0aW9uc0NhbGxiYWNrIiwic2Nyb2xsVG9JbmRleCIsInNjcm9sbFRvUGl4ZWwiLCJzY3JvbGxCeVBpeGVsIiwicmVsb2FkIiwic2V0TGlzdHNpemUiLCJzZXRMaXN0U2l6ZSIsInNldExpc3RSYW5nZSIsInByZXBlbmRJbmRleENvdW50IiwiYXBwZW5kSW5kZXhDb3VudCIsImNsZWFyQ2FjaGUiLCJnZXRDYWNoZUluZGV4TWFwIiwiZ2V0Q2FjaGVJdGVtTWFwIiwiZ2V0Q3JhZGxlSW5kZXhNYXAiLCJnZXRQcm9wZXJ0aWVzU25hcHNob3QiLCJyZW1hcEluZGV4ZXMiLCJtb3ZlSW5kZXgiLCJpbnNlcnRJbmRleCIsInJlbW92ZUluZGV4IiwiZnVuY3Rpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uU2Nyb2xsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNyYWRsZUludGVyc2VjdCIsInRyaWdnZXJsaW5lc0ludGVyc2VjdCIsImNyYWRsZWludGVyc2VjdG9ic2VydmVyIiwiY3JlYXRlT2JzZXJ2ZXIiLCJjb25uZWN0RWxlbWVudHMiLCJ0cmlnZ2Vyb2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwibnVsbEl0ZW1TZXRNYXhMaXN0c2l6ZSIsInVzZUNhbGxiYWNrIiwibWF4TGlzdHNpemUiLCJfc2VydmljZUhhbmRsZXIkY2FsbGIiLCJjYWxsYmFja3MiLCJkTGlzdENhbGxiYWNrIiwiZGVsZXRlTGlzdCIsInVwZGF0ZVZpcnR1YWxMaXN0U2l6ZSIsImNoYW5nZUNhY2hlTGlzdFNpemUiLCJtb2RlbEluZGV4TGlzdCIsImdldE1vZGVsSW5kZXhMaXN0IiwicGFyZUNhY2hlVG9NYXgiLCJyZW5kZXJQb3J0YWxMaXN0cyIsIl9kTGlzdENhbGxiYWNrIiwibWF0Y2hDYWNoZVRvQ3JhZGxlIiwiaXNSZXNpemluZyIsInBhdXNlSW50ZXJydXB0cyIsImJsb2NrWFNjcm9sbFByb3BlcnR5IiwiZ2FweGxlbmd0aCIsIl9jcmFkbGVJbmhlcml0ZWRQcm9wZSIsInByZXZpb3VzQ2VsbFBpeGVsTGVuZ3RoIiwicHJldmlvdXNQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQiLCJ0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQiLCJwcmV2aW91c3JhdGlvIiwicGl2b3RDZWxsUGl4ZWxMZW5ndGgiLCJwaXZvdEF4aXNPZmZzZXQiLCJyb3VuZCIsIl9yZWY4IiwiZ2V0Q3JhZGxlU3R5bGVzIiwidXNlcnN0eWxlcyIsIl9yZWY5IiwiY3JhZGxlSGVhZFN0eWxlIiwiY3JhZGxlVGFpbFN0eWxlIiwiY3JhZGxlQXhpc1N0eWxlIiwiY3JhZGxlRGl2aWRlclN0eWxlIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRTdHlsZSIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsU3R5bGUiLCJ1c2VMYXlvdXRFZmZlY3QiLCJmaW5hbENhbGxiYWNrIiwicHJlbG9hZCIsInNpZ25hbHMiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwicGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJlcG9zaXRpb25pbmdSZXF1aXJlZCIsImlzU2Nyb2xsaW5nIiwiX2NyYWRsZUludGVybmFsUHJvcGVyIiwic2Nyb2xsVHJhY2tlckFQSVJlZiIsInN0YXJ0UmVwb3NpdGlvbiIsInRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsImNyYWRsZUNvbnRlbnQiLCJjb250ZW50IiwiaGVhZE1vZGVsQ29tcG9uZW50cyIsInRhaWxNb2RlbENvbXBvbmVudHMiLCJyZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnIiwiZmluaXNoUmVwb3NpdGlvbiIsImNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEiLCJzZXRDcmFkbGVDb250ZW50IiwiaGVhZERpc3BsYXlDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwicmVzdG9yZUludGVycnVwdHMiLCJ0cmlnZ2VyQm91bmRhcnlDYWxsYmFja3MiLCJ1cGRhdGVDcmFkbGVDb250ZW50IiwiZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmciLCJzZXRUaW1lb3V0IiwiYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSIsImFwcGx5UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0IiwibmV3bGlzdHNpemUiLCJuZXdMaXN0U2l6ZSIsImNsZWFyQ3JhZGxlIiwiYm91bmRhcnlOb3RpZmljYXRpb25zUmVxdWlyZWQiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lc1JlZiIsImNyZWF0ZUVsZW1lbnQiLCJrZXkiLCJzdHlsZSIsInJlZiIsImNvbnRleHR2YWx1ZVJlZiIsIlByb3ZpZGVyIiwiY3JlYXRlSGFuZGxlciIsImhhbmRsZXIiLCJzdGF0ZUhhbmRsZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Cradle.tsx\n")},"./src/InfiniteGridScroller.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// InfiniteGridScroller.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.isSafariIOS = void 0;\n/*\n    react-infinite-grid-scroller = RIGS\n\n    The job of InfiniteGridScroller is to pass parameters to dependents.\n    Viewport contains the Scrollblock, which is full size for listsize of given cell height/width.\n    Scrollblock in turn contains the Cradle - a component that contains CellFrames, which contain\n    displayed user content (items) or transitional placeholders.\n\n    Host content is instantiated in a cache of React portals (via cacheAPI). Content is then\n    portal\'d to CellFrames. The cache can be configured to hold more items than the Cradle (limited by\n    device memory). Caching allows host content to maintain state.\n\n    Scrollblock represents the entirety of the list (and is sized accordingly). It is the component that is scrolled.\n\n    Cradle contains the list items, and is \'virtualized\' -- it appears as though it scrolls through a filled\n    scrollblock, but in fact it is only slightly larger than the viewport. Content is rotated in and out of the\n    cradle through the cache.\n    \n    Individual host items are framed by CellFrame, which are managed by Cradle.\n\n    Overall the InfiniteGridScroller as a package manages the asynchronous interactions of the\n    components of the mechanism. Most of the work occurs in the Cradle component.\n\n    The RIGS liner (the top level Viewport element) is set with \'display:absolute\' and \'inset:0\', so the user\n    containing block should be styled accordingly.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\n// defensive\nvar react_error_boundary_1 = __webpack_require__(/*! react-error-boundary */ "./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js"); // www.npmjs.com/package/react-error-boundary\nvar isSafariIOSFn = function isSafariIOSFn() {\n  var is_ios = /iP(ad|od|hone)/i.test(window.navigator.userAgent),\n    is_safari = !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/);\n  return is_ios && is_safari;\n};\nexports.isSafariIOS = isSafariIOSFn();\n// based on module template\nfunction ErrorFallback(_ref) {\n  var error = _ref.error,\n    resetErrorBoundary = _ref.resetErrorBoundary;\n  return react_1["default"].createElement("div", {\n    role: "alert",\n    style: {\n      margin: \'3px\'\n    }\n  }, react_1["default"].createElement("p", null, "Something went wrong inside react-infinite-grid-scroller. See the console for details."), react_1["default"].createElement("p", null, "Click to cancel the error and try to continue."), react_1["default"].createElement("button", {\n    style: {\n      border: \'1px solid black\',\n      margin: \'3px\',\n      padding: \'3px\'\n    },\n    onClick: resetErrorBoundary\n  }, "Cancel error"));\n}\n// scroller components\nvar Viewport_1 = __importDefault(__webpack_require__(/*! ./Viewport */ "./src/Viewport.tsx"));\nvar Scrollblock_1 = __importDefault(__webpack_require__(/*! ./Scrollblock */ "./src/Scrollblock.tsx"));\nvar Cradle_1 = __importDefault(__webpack_require__(/*! ./Cradle */ "./src/Cradle.tsx"));\n// loaded here to minimize redundant renders in Cradle\nvar PortalCache_1 = __importDefault(__webpack_require__(/*! ./PortalCache */ "./src/PortalCache.tsx"));\n// -------------------[ global session ID generator ]----------------\nvar globalScrollerID = 0;\n// ===================================[ INITIALIZE ]===========================\nvar InfiniteGridScroller = function InfiniteGridScroller(props) {\n  // state\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    scrollerState = _ref3[0],\n    setScrollerState = _ref3[1]; // setup, setlistprops, ready\n  // ------------------[ normalize properties ]--------------------\n  var cellHeight = props.cellHeight,\n    cellWidth = props.cellWidth,\n    _props$startingListSi = props.startingListSize,\n    startingListSize = _props$startingListSi === void 0 ? 0 : _props$startingListSi,\n    _props$startingListRa = props.startingListRange,\n    startingListRange = _props$startingListRa === void 0 ? [] : _props$startingListRa,\n    getItem = props.getItem,\n    _props$orientation = props.orientation,\n    orientation = _props$orientation === void 0 ? \'vertical\' : _props$orientation,\n    _props$gap = props.gap,\n    gap = _props$gap === void 0 ? 0 : _props$gap,\n    _props$padding = props.padding,\n    padding = _props$padding === void 0 ? 0 : _props$padding,\n    _props$layout = props.layout,\n    layout = _props$layout === void 0 ? \'uniform\' : _props$layout,\n    _props$cellMinHeight = props.cellMinHeight,\n    cellMinHeight = _props$cellMinHeight === void 0 ? 25 : _props$cellMinHeight,\n    _props$cellMinWidth = props.cellMinWidth,\n    cellMinWidth = _props$cellMinWidth === void 0 ? 25 : _props$cellMinWidth,\n    _props$runwaySize = props.runwaySize,\n    runwaySize = _props$runwaySize === void 0 ? 3 : _props$runwaySize,\n    _props$startingIndex = props.startingIndex,\n    startingIndex = _props$startingIndex === void 0 ? 0 : _props$startingIndex,\n    getExpansionCount = props.getExpansionCount,\n    _props$cache = props.cache,\n    cache = _props$cache === void 0 ? \'cradle\' : _props$cache,\n    _props$cacheMax = props.cacheMax,\n    cacheMax = _props$cacheMax === void 0 ? null : _props$cacheMax,\n    placeholder = props.placeholder,\n    _props$usePlaceholder = props.usePlaceholder,\n    usePlaceholder = _props$usePlaceholder === void 0 ? true : _props$usePlaceholder,\n    _props$useScrollTrack = props.useScrollTracker,\n    useScrollTracker = _props$useScrollTrack === void 0 ? true : _props$useScrollTrack,\n    _props$styles = props.styles,\n    styles = _props$styles === void 0 ? {} : _props$styles,\n    _props$placeholderMes = props.placeholderMessages,\n    placeholderMessages = _props$placeholderMes === void 0 ? {} : _props$placeholderMes,\n    _props$callbacks = props.callbacks,\n    callbacks = _props$callbacks === void 0 ? {} : _props$callbacks,\n    _props$technical = props.technical,\n    technical = _props$technical === void 0 ? {} : _props$technical,\n    _props$cacheAPI = props.cacheAPI,\n    cacheAPI = _props$cacheAPI === void 0 ? null : _props$cacheAPI,\n    dragdropProperties = props.dragdropProperties,\n    scrollerProperties = props.scrollerProperties;\n  var isMinimalPropsFail = false;\n  if (!(cellWidth && cellHeight && getItem)) {\n    console.log(\'RIGS: cellWidth, cellHeight, and getItem are required\');\n    isMinimalPropsFail = true;\n  }\n  // ---------------------[ Data setup ]----------------------\n  var originalValues = {\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    // gap,\n    startingIndex: startingIndex,\n    startingListSize: startingListSize,\n    runwaySize: runwaySize,\n    cacheMax: cacheMax\n  };\n  // avoid null/undefined\n  styles = styles !== null && styles !== void 0 ? styles : {};\n  callbacks = callbacks !== null && callbacks !== void 0 ? callbacks : {};\n  technical = technical !== null && technical !== void 0 ? technical : {};\n  startingIndex = startingIndex !== null && startingIndex !== void 0 ? startingIndex : 0;\n  startingListSize = startingListSize !== null && startingListSize !== void 0 ? startingListSize : 0;\n  runwaySize = runwaySize !== null && runwaySize !== void 0 ? runwaySize : 3;\n  usePlaceholder = usePlaceholder !== null && usePlaceholder !== void 0 ? usePlaceholder : true;\n  useScrollTracker = useScrollTracker !== null && useScrollTracker !== void 0 ? useScrollTracker : true;\n  cellMinHeight = cellMinHeight !== null && cellMinHeight !== void 0 ? cellMinHeight : 0;\n  cellMinWidth = cellMinWidth !== null && cellMinWidth !== void 0 ? cellMinWidth : 0;\n  cacheMax = cacheMax !== null && cacheMax !== void 0 ? cacheMax : 0;\n  cellHeight = +cellHeight;\n  cellWidth = +cellWidth;\n  cellMinHeight = +cellMinHeight;\n  cellMinWidth = +cellMinWidth;\n  // gap = +gap\n  var paddingPropsRef = (0, react_1.useRef)({\n    top: null,\n    right: null,\n    bottom: null,\n    left: null,\n    source: null,\n    original: null,\n    list: [],\n    CSS: \'\'\n  });\n  var paddingProps = paddingPropsRef.current;\n  if (String(props.padding) !== String(paddingProps.source)) {\n    paddingProps.source = props.padding;\n    if (!Array.isArray(padding)) {\n      padding = +padding;\n      if (!isNaN(padding)) {\n        paddingProps.original = [padding];\n      } else {\n        paddingProps.original = [0];\n      }\n    } else {\n      var isProblem = false;\n      if (padding.length > 4) {\n        isProblem = true;\n      }\n      if (!isProblem) padding.forEach(function (value, index, list) {\n        if (isNaN(value)) {\n          isProblem = true;\n        }\n      });\n      if (!isProblem) {\n        paddingProps.original = padding;\n      } else {\n        paddingProps.original = [0];\n      }\n    }\n    var list = _toConsumableArray(paddingProps.original);\n    paddingProps.CSS = list.join(\'px \') + \'px\';\n    var lgth = list.length;\n    var a, b, c;\n    switch (lgth) {\n      case 1:\n        // t/b/r/l\n        var _list = _slicedToArray(list, 1);\n        a = _list[0];\n        list.push(a, a, a); //r,b,l\n        break;\n      case 2:\n        // t/b, r/l\n        var _list2 = _slicedToArray(list, 2);\n        a = _list2[0];\n        b = _list2[1];\n        list.push(a, b);\n      //b,l\n      case 3:\n        // t, r/l, b\n        var _list3 = _slicedToArray(list, 2);\n        a = _list3[0];\n        b = _list3[1];\n        list.push(b);\n      //l\n    }\n\n    paddingProps.list = list;\n    var _list4 = _slicedToArray(list, 4),\n      top = _list4[0],\n      right = _list4[1],\n      bottom = _list4[2],\n      left = _list4[3];\n    Object.assign(paddingProps, {\n      top: +top,\n      right: +right,\n      bottom: +bottom,\n      left: +left\n    }); // assure numeric\n    paddingPropsRef.current = paddingProps = Object.assign({}, paddingProps); // signal change to React\n  }\n\n  var gapPropsRef = (0, react_1.useRef)({\n    column: null,\n    row: null,\n    source: null,\n    original: null,\n    list: [],\n    CSS: \'\'\n  });\n  var gapProps = gapPropsRef.current;\n  if (String(props.gap) !== String(gapProps.source)) {\n    gapProps.source = props.gap;\n    if (!Array.isArray(gap)) {\n      gap = +gap;\n      if (!isNaN(gap)) {\n        gapProps.original = [gap];\n      } else {\n        gapProps.original = [0];\n      }\n    } else {\n      var _isProblem = false;\n      if (gap.length > 2) {\n        _isProblem = true;\n      }\n      if (!_isProblem) gap.forEach(function (value, index, list) {\n        if (isNaN(value)) {\n          _isProblem = true;\n        }\n      });\n      if (!_isProblem) {\n        gapProps.original = gap;\n      } else {\n        gapProps.original = [0];\n      }\n    }\n    var _list5 = _toConsumableArray(gapProps.original);\n    gapProps.CSS = _list5.join(\'px \') + \'px\';\n    var _lgth = _list5.length;\n    var _a;\n    if (_lgth == 1) {\n      // t/b/r/l\n      var _list6 = _slicedToArray(_list5, 1);\n      _a = _list6[0];\n      _list5.push(_a); //r,b,l\n    }\n\n    gapProps.list = _list5;\n    var _list7 = _slicedToArray(_list5, 2),\n      column = _list7[0],\n      row = _list7[1];\n    Object.assign(gapProps, {\n      column: +column,\n      row: +row\n    }); // assure numeric\n    gapPropsRef.current = gapProps = Object.assign({}, gapProps); // signal change to React\n  }\n\n  startingIndex = +startingIndex;\n  startingListSize = +startingListSize;\n  runwaySize = +runwaySize;\n  cacheMax = +cacheMax;\n  var verifiedValues = {\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    // gap,\n    startingIndex: startingIndex,\n    startingListSize: startingListSize,\n    runwaySize: runwaySize,\n    cacheMax: cacheMax\n  };\n  cellMinHeight = Math.max(cellMinHeight, 25);\n  cellMinWidth = Math.max(cellMinWidth, 25);\n  cellMinHeight = Math.min(cellHeight, cellMinHeight);\n  cellMinWidth = Math.min(cellWidth, cellMinWidth);\n  // prop constraints - non-negative values\n  runwaySize = Math.max(1, runwaySize); // runwaysize must be at least 1\n  startingListSize = Math.max(0, startingListSize);\n  startingIndex = Math.max(0, startingIndex);\n  // package\n  var problems = 0;\n  for (var prop in verifiedValues) {\n    if (isNaN(verifiedValues[prop])) {\n      problems++;\n    }\n  }\n  if (problems) {\n    console.error(\'Error: invalid number - compare originalValues and verifiedValues\', originalValues, verifiedValues);\n  }\n  // rationalize startingListsize and startingListRange\n  if (!problems && scrollerState == \'setup\') {\n    var goodrange = true;\n    if (!startingListRange || !Array.isArray(startingListRange) || !(startingListRange.length == 2 || startingListRange.length == 0)) {\n      goodrange = false;\n    }\n    if (goodrange) {\n      if (startingListRange.length == 0) {\n        startingListSize = 0;\n      } else {\n        var _startingListRange = startingListRange,\n          _startingListRange2 = _slicedToArray(_startingListRange, 2),\n          lowindex = _startingListRange2[0],\n          highindex = _startingListRange2[1];\n        lowindex = +lowindex;\n        highindex = +highindex;\n        if (isNaN(lowindex) || isNaN(highindex)) {\n          goodrange = false;\n        } else if (lowindex > highindex) {\n          goodrange = false;\n        }\n        if (goodrange) {\n          startingListSize = highindex - lowindex + 1;\n        }\n      }\n    }\n    if (!goodrange) {\n      if (startingListSize && !isNaN(startingListSize)) {\n        startingListRange = [0, startingListSize - 1];\n      } else {\n        startingListRange = [];\n        startingListSize = 0;\n      }\n    }\n  }\n  // enums\n  if (![\'horizontal\', \'vertical\'].includes(orientation)) {\n    orientation = \'vertical\';\n  }\n  if (![\'preload\', \'keepload\', \'cradle\'].includes(cache)) {\n    cache = \'cradle\';\n  }\n  if (![\'uniform\', \'variable\'].includes(layout)) {\n    layout = \'uniform\';\n  }\n  var gridSpecs = {\n    orientation: orientation,\n    // gap,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    layout: layout\n  };\n  var gridSpecsRef = (0, react_1.useRef)(gridSpecs);\n  // system\n  var stylesRef = (0, react_1.useRef)(styles),\n    callbacksRef = (0, react_1.useRef)(callbacks),\n    placeholderMessagesRef = (0, react_1.useRef)(placeholderMessages);\n  var _technical = technical,\n    showAxis = _technical.showAxis,\n    triggerlineOffset = _technical.triggerlineOffset,\n    VIEWPORT_RESIZE_TIMEOUT = _technical.VIEWPORT_RESIZE_TIMEOUT,\n    ONAFTERSCROLL_TIMEOUT = _technical.ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT = _technical.IDLECALLBACK_TIMEOUT,\n    VARIABLE_MEASUREMENTS_TIMEOUT = _technical.VARIABLE_MEASUREMENTS_TIMEOUT,\n    MAX_CACHE_OVER_RUN = _technical.MAX_CACHE_OVER_RUN,\n    CACHE_PARTITION_SIZE = _technical.CACHE_PARTITION_SIZE;\n  VIEWPORT_RESIZE_TIMEOUT = VIEWPORT_RESIZE_TIMEOUT !== null && VIEWPORT_RESIZE_TIMEOUT !== void 0 ? VIEWPORT_RESIZE_TIMEOUT : 250;\n  ONAFTERSCROLL_TIMEOUT = ONAFTERSCROLL_TIMEOUT !== null && ONAFTERSCROLL_TIMEOUT !== void 0 ? ONAFTERSCROLL_TIMEOUT : 100;\n  IDLECALLBACK_TIMEOUT = IDLECALLBACK_TIMEOUT !== null && IDLECALLBACK_TIMEOUT !== void 0 ? IDLECALLBACK_TIMEOUT : 250;\n  VARIABLE_MEASUREMENTS_TIMEOUT = VARIABLE_MEASUREMENTS_TIMEOUT !== null && VARIABLE_MEASUREMENTS_TIMEOUT !== void 0 ? VARIABLE_MEASUREMENTS_TIMEOUT : 250;\n  MAX_CACHE_OVER_RUN = MAX_CACHE_OVER_RUN !== null && MAX_CACHE_OVER_RUN !== void 0 ? MAX_CACHE_OVER_RUN : 1.5;\n  CACHE_PARTITION_SIZE = CACHE_PARTITION_SIZE !== null && CACHE_PARTITION_SIZE !== void 0 ? CACHE_PARTITION_SIZE : 30;\n  if (typeof showAxis != \'boolean\') showAxis = false;\n  triggerlineOffset = triggerlineOffset !== null && triggerlineOffset !== void 0 ? triggerlineOffset : 10;\n  if (typeof usePlaceholder != \'boolean\') usePlaceholder = true;\n  if (typeof useScrollTracker != \'boolean\') useScrollTracker = true;\n  // for mount version\n  var scrollerSessionIDRef = (0, react_1.useRef)(null),\n    scrollerID = scrollerSessionIDRef.current,\n    cacheAPIRef = (0, react_1.useRef)(cacheAPI),\n    updateFunctionRef = (0, react_1.useRef)(null),\n    listSizeRef = (0, react_1.useRef)(startingListSize),\n    listRangeRef = (0, react_1.useRef)(startingListRange),\n    listsize = listSizeRef.current,\n    listrange = listRangeRef.current,\n    _listrange = _slicedToArray(listrange, 2),\n    lowlistrange = _listrange[0],\n    highlistrange = _listrange[1],\n    virtualListSpecs = {\n      size: listsize,\n      range: listrange,\n      lowindex: lowlistrange,\n      highindex: highlistrange\n    },\n    virtualListSpecsRef = (0, react_1.useRef)(virtualListSpecs);\n  if (!compareProps(virtualListSpecs, virtualListSpecsRef.current)) {\n    virtualListSpecsRef.current = virtualListSpecs;\n  }\n  // tests for React with Object.is for changed properties; avoid re-renders with no change\n  if (!compareProps(gridSpecs, gridSpecsRef.current)) {\n    gridSpecsRef.current = gridSpecs;\n  }\n  if (!compareProps(styles, stylesRef.current)) {\n    stylesRef.current = styles;\n  }\n  if (!compareProps(callbacks, callbacksRef.current)) {\n    callbacksRef.current = callbacks;\n  }\n  if (!compareProps(placeholderMessages, placeholderMessagesRef.current)) {\n    placeholderMessagesRef.current = placeholderMessages;\n  }\n  // -------------------------[ Initialization ]-------------------------------\n  var getCacheAPI = function getCacheAPI(cacheAPI) {\n    cacheAPIRef.current = cacheAPI;\n  };\n  var getUpdateFunction = function getUpdateFunction(fn) {\n    updateFunctionRef.current = fn;\n  };\n  var useLocalCache = !cacheAPI;\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (scrollerSessionIDRef.current === null) {\n      // defend against React.StrictMode double run\n      scrollerSessionIDRef.current = globalScrollerID++;\n    }\n  }, []);\n  var setVirtualListRange = (0, react_1.useCallback)(function (listrange) {\n    var listsize;\n    if (listrange.length == 0) {\n      listsize = 0;\n    } else {\n      var _listrange2 = _slicedToArray(listrange, 2),\n        lowrange = _listrange2[0],\n        highrange = _listrange2[1];\n      listsize = highrange - lowrange + 1;\n    }\n    listSizeRef.current = listsize;\n    listRangeRef.current = listrange;\n    // inform the user\n    callbacksRef.current.changeListRangeCallback && callbacksRef.current.changeListRangeCallback(listrange);\n    setScrollerState(\'setlistprops\');\n  }, []);\n  // called when getItem returns null, or direct call from user (see serviceHandler)\n  var setVirtualListSize = (0, react_1.useCallback)(function (listsize) {\n    var listrange = listRangeRef.current;\n    if (listsize == 0) {\n      listrange = [];\n    } else {\n      if (listrange.length == 0) {\n        listrange = [0, listsize - 1];\n      } else {\n        var _listRangeRef$current = _slicedToArray(listRangeRef.current, 1),\n          _lowindex /*,highindex*/ = _listRangeRef$current[0];\n        listrange = [_lowindex, _lowindex + listsize - 1];\n      }\n    }\n    listSizeRef.current = listsize;\n    listRangeRef.current = listrange;\n    // inform the user\n    callbacksRef.current.changeListSizeCallback && callbacksRef.current.changeListSizeCallback(listsize);\n    setScrollerState(\'setlistprops\');\n  }, []);\n  // ---------------------[ State handling ]------------------------\n  var itemSetRef = (0, react_1.useRef)(null);\n  (0, react_1.useEffect)(function () {\n    switch (scrollerState) {\n      case \'setup\':\n        // replace cacheAPI with facade which includes hidden scrollerID\n        cacheAPIRef.current = cacheAPIRef.current.registerScroller(scrollerSessionIDRef.current);\n        itemSetRef.current = cacheAPIRef.current.itemSet; // for unmount unRegisterScroller\n        if (updateFunctionRef.current) {\n          // obtained from PortalCache\n          cacheAPIRef.current.partitionRepoForceUpdate = updateFunctionRef.current;\n        }\n      case \'setlistprops\':\n        setScrollerState(\'ready\');\n    }\n    return function () {\n      if (!isMountedRef.current) {\n        cacheAPIRef.current.unRegisterScroller(itemSetRef.current);\n      }\n    };\n  }, [scrollerState]);\n  // --------------------[ Render ]---------------------\n  if (problems || isMinimalPropsFail) {\n    return react_1["default"].createElement("div", null, "error: see console.");\n  }\n  // component calls are deferred by scrollerState to give cacheAPI a chance to initialize\n  return react_1["default"].createElement(react_error_boundary_1.ErrorBoundary, {\n    FallbackComponent: ErrorFallback,\n    // elaboration TBD\n    onReset: function onReset() {},\n    onError: function onError() {}\n  }, scrollerState != \'setup\' && react_1["default"].createElement(Viewport_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    styles: stylesRef.current,\n    scrollerID: scrollerID,\n    VIEWPORT_RESIZE_TIMEOUT: VIEWPORT_RESIZE_TIMEOUT,\n    useScrollTracker: useScrollTracker\n  }, react_1["default"].createElement(Scrollblock_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    paddingProps: paddingProps,\n    gapProps: gapProps,\n    styles: stylesRef.current,\n    virtualListSpecs: virtualListSpecsRef.current,\n    scrollerID: scrollerID\n  }, react_1["default"].createElement(Cradle_1["default"], {\n    gridSpecs: gridSpecsRef.current,\n    paddingProps: paddingProps,\n    gapProps: gapProps,\n    styles: stylesRef.current,\n    virtualListSpecs: virtualListSpecsRef.current,\n    setVirtualListSize: setVirtualListSize,\n    setVirtualListRange: setVirtualListRange,\n    cache: cache,\n    cacheMax: cacheMax,\n    userCallbacks: callbacksRef.current,\n    startingIndex: startingIndex,\n    getItem: getItem,\n    getExpansionCount: getExpansionCount,\n    placeholder: placeholder,\n    placeholderMessages: placeholderMessagesRef.current,\n    runwaySize: runwaySize,\n    triggerlineOffset: triggerlineOffset,\n    scrollerProperties: scrollerProperties,\n    cacheAPI: cacheAPIRef.current,\n    usePlaceholder: usePlaceholder,\n    // useScrollTracker = { useScrollTracker }\n    showAxis: showAxis,\n    ONAFTERSCROLL_TIMEOUT: ONAFTERSCROLL_TIMEOUT,\n    IDLECALLBACK_TIMEOUT: IDLECALLBACK_TIMEOUT,\n    MAX_CACHE_OVER_RUN: MAX_CACHE_OVER_RUN,\n    VARIABLE_MEASUREMENTS_TIMEOUT: VARIABLE_MEASUREMENTS_TIMEOUT,\n    scrollerID: scrollerID\n  }))), react_1["default"].createElement("div", null, useLocalCache && react_1["default"].createElement("div", {\n    "data-type": \'cacheroot\',\n    style: cacherootstyle\n  }, react_1["default"].createElement(PortalCache_1["default"], {\n    getCacheAPI: getCacheAPI,\n    getUpdateFunction: getUpdateFunction,\n    CACHE_PARTITION_SIZE: CACHE_PARTITION_SIZE\n  }))));\n};\nexports["default"] = InfiniteGridScroller;\n// ----------------------------[ Support ]------------------------------\nvar cacherootstyle = {\n  display: \'none\'\n}; // as React.CSSProperties // static, out of view \n// utility\nfunction compareProps(obj1, obj2) {\n  if (!obj1 || !obj2) return false;\n  var keys = Object.keys(obj1);\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    if (!Object.is(obj1[key], obj2[key])) {\n      return false;\n    }\n  }\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSW5maW5pdGVHcmlkU2Nyb2xsZXIudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLG1CQUFBQyxHQUFBLFdBQUFDLGtCQUFBLENBQUFELEdBQUEsS0FBQUUsZ0JBQUEsQ0FBQUYsR0FBQSxLQUFBRywyQkFBQSxDQUFBSCxHQUFBLEtBQUFJLGtCQUFBO0FBQUEsU0FBQUEsbUJBQUEsY0FBQUMsU0FBQTtBQUFBLFNBQUFILGlCQUFBSSxJQUFBLGVBQUFDLE1BQUEsb0JBQUFELElBQUEsQ0FBQUMsTUFBQSxDQUFBQyxRQUFBLGFBQUFGLElBQUEsK0JBQUFHLEtBQUEsQ0FBQUMsSUFBQSxDQUFBSixJQUFBO0FBQUEsU0FBQUwsbUJBQUFELEdBQUEsUUFBQVMsS0FBQSxDQUFBRSxPQUFBLENBQUFYLEdBQUEsVUFBQVksaUJBQUEsQ0FBQVosR0FBQTtBQUFBLFNBQUFhLGVBQUFiLEdBQUEsRUFBQWMsQ0FBQSxXQUFBQyxlQUFBLENBQUFmLEdBQUEsS0FBQWdCLHFCQUFBLENBQUFoQixHQUFBLEVBQUFjLENBQUEsS0FBQVgsMkJBQUEsQ0FBQUgsR0FBQSxFQUFBYyxDQUFBLEtBQUFHLGdCQUFBO0FBQUEsU0FBQUEsaUJBQUEsY0FBQVosU0FBQTtBQUFBLFNBQUFGLDRCQUFBZSxDQUFBLEVBQUFDLE1BQUEsU0FBQUQsQ0FBQSxxQkFBQUEsQ0FBQSxzQkFBQU4saUJBQUEsQ0FBQU0sQ0FBQSxFQUFBQyxNQUFBLE9BQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxTQUFBLENBQUFDLFFBQUEsQ0FBQUMsSUFBQSxDQUFBTixDQUFBLEVBQUFPLEtBQUEsYUFBQUwsQ0FBQSxpQkFBQUYsQ0FBQSxDQUFBUSxXQUFBLEVBQUFOLENBQUEsR0FBQUYsQ0FBQSxDQUFBUSxXQUFBLENBQUFDLElBQUEsTUFBQVAsQ0FBQSxjQUFBQSxDQUFBLG1CQUFBWCxLQUFBLENBQUFDLElBQUEsQ0FBQVEsQ0FBQSxPQUFBRSxDQUFBLCtEQUFBUSxJQUFBLENBQUFSLENBQUEsVUFBQVIsaUJBQUEsQ0FBQU0sQ0FBQSxFQUFBQyxNQUFBO0FBQUEsU0FBQVAsa0JBQUFaLEdBQUEsRUFBQTZCLEdBQUEsUUFBQUEsR0FBQSxZQUFBQSxHQUFBLEdBQUE3QixHQUFBLENBQUE4QixNQUFBLEVBQUFELEdBQUEsR0FBQTdCLEdBQUEsQ0FBQThCLE1BQUEsV0FBQWhCLENBQUEsTUFBQWlCLElBQUEsT0FBQXRCLEtBQUEsQ0FBQW9CLEdBQUEsR0FBQWYsQ0FBQSxHQUFBZSxHQUFBLEVBQUFmLENBQUEsSUFBQWlCLElBQUEsQ0FBQWpCLENBQUEsSUFBQWQsR0FBQSxDQUFBYyxDQUFBLFVBQUFpQixJQUFBO0FBQUEsU0FBQWYsc0JBQUFnQixDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSxXQUFBRixDQUFBLGdDQUFBekIsTUFBQSxJQUFBeUIsQ0FBQSxDQUFBekIsTUFBQSxDQUFBQyxRQUFBLEtBQUF3QixDQUFBLDRCQUFBRSxDQUFBLFFBQUFDLENBQUEsRUFBQWYsQ0FBQSxFQUFBTixDQUFBLEVBQUFzQixDQUFBLEVBQUFDLENBQUEsT0FBQUMsQ0FBQSxPQUFBcEIsQ0FBQSxpQkFBQUosQ0FBQSxJQUFBb0IsQ0FBQSxHQUFBQSxDQUFBLENBQUFWLElBQUEsQ0FBQVEsQ0FBQSxHQUFBTyxJQUFBLFFBQUFOLENBQUEsUUFBQVosTUFBQSxDQUFBYSxDQUFBLE1BQUFBLENBQUEsVUFBQUksQ0FBQSx1QkFBQUEsQ0FBQSxJQUFBSCxDQUFBLEdBQUFyQixDQUFBLENBQUFVLElBQUEsQ0FBQVUsQ0FBQSxHQUFBTSxJQUFBLE1BQUFILENBQUEsQ0FBQUksSUFBQSxDQUFBTixDQUFBLENBQUFPLEtBQUEsR0FBQUwsQ0FBQSxDQUFBUCxNQUFBLEtBQUFHLENBQUEsR0FBQUssQ0FBQSxpQkFBQU4sQ0FBQSxJQUFBZCxDQUFBLE9BQUFFLENBQUEsR0FBQVksQ0FBQSx5QkFBQU0sQ0FBQSxZQUFBSixDQUFBLGVBQUFFLENBQUEsR0FBQUYsQ0FBQSxjQUFBYixNQUFBLENBQUFlLENBQUEsTUFBQUEsQ0FBQSwyQkFBQWxCLENBQUEsUUFBQUUsQ0FBQSxhQUFBaUIsQ0FBQTtBQUFBLFNBQUF0QixnQkFBQWYsR0FBQSxRQUFBUyxLQUFBLENBQUFFLE9BQUEsQ0FBQVgsR0FBQSxVQUFBQSxHQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJCQSxJQUFBMkMsT0FBQSxHQUFBQyxZQUFBLENBQUFDLG1CQUFBO0FBRUE7QUFDQSxJQUFBQyxzQkFBQSxHQUFBRCxtQkFBQSxpSEFBb0QsQ0FBQztBQUVyRCxJQUFNRSxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUEsRUFBUTtFQUN2QixJQUNJQyxNQUFNLEdBQUcsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixNQUFNLENBQUNDLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDO0lBQzNEQyxTQUFTLEdBQUcsQ0FBQyxDQUFDRixTQUFTLENBQUNDLFNBQVMsQ0FBQ0UsS0FBSyxDQUFDLDBCQUEwQixDQUFDO0VBQ3ZFLE9BQVNMLE1BQU0sSUFBSUksU0FBUztBQUNoQyxDQUFDO0FBRVlFLG1CQUFXLEdBQUdQLGFBQWEsRUFBRTtBQUUxQztBQUNBLFNBQVNTLGFBQWFBLENBQUFDLElBQUEsRUFBNEI7RUFBQSxJQUExQkMsS0FBSyxHQUFBRCxJQUFBLENBQUxDLEtBQUs7SUFBRUMsa0JBQWtCLEdBQUFGLElBQUEsQ0FBbEJFLGtCQUFrQjtFQUMvQyxPQUNFaEIsT0FBQSxZQUFBaUIsYUFBQTtJQUFLQyxJQUFJLEVBQUMsT0FBTztJQUFDQyxLQUFLLEVBQUk7TUFBQ0MsTUFBTSxFQUFDO0lBQUs7RUFBQyxHQUN2Q3BCLE9BQUEsWUFBQWlCLGFBQUEscUdBQTZGLEVBQzdGakIsT0FBQSxZQUFBaUIsYUFBQSw2REFBcUQsRUFDckRqQixPQUFBLFlBQUFpQixhQUFBO0lBQ0lFLEtBQUssRUFBSTtNQUFDRSxNQUFNLEVBQUMsaUJBQWlCO01BQUVELE1BQU0sRUFBQyxLQUFLO01BQUVFLE9BQU8sRUFBQztJQUFLLENBQUM7SUFDaEVDLE9BQU8sRUFBS1A7RUFBa0Isa0JBR3pCLENBQ0w7QUFFVjtBQUVBO0FBQ0EsSUFBQVEsVUFBQSxHQUFBQyxlQUFBLENBQUF2QixtQkFBQTtBQUNBLElBQUF3QixhQUFBLEdBQUFELGVBQUEsQ0FBQXZCLG1CQUFBO0FBQ0EsSUFBQXlCLFFBQUEsR0FBQUYsZUFBQSxDQUFBdkIsbUJBQUE7QUFFQTtBQUNBLElBQUEwQixhQUFBLEdBQUFILGVBQUEsQ0FBQXZCLG1CQUFBO0FBRUE7QUFFQSxJQUFJMkIsZ0JBQWdCLEdBQUcsQ0FBQztBQUV4QjtBQUVBLElBQU1DLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBb0JBLENBQUlDLEtBQUssRUFBSTtFQUVuQztFQUNBLElBQUFDLEtBQUEsR0FBMEMsSUFBQWhDLE9BQUEsQ0FBQWlDLFFBQVEsRUFBQyxPQUFPLENBQUM7SUFBQUMsS0FBQSxHQUFBaEUsY0FBQSxDQUFBOEQsS0FBQTtJQUFwREcsYUFBYSxHQUFBRCxLQUFBO0lBQUVFLGdCQUFnQixHQUFBRixLQUFBLElBQXFCLENBQUM7RUFFNUQ7RUFFQSxJQUdJRyxVQUFVLEdBZ0RWTixLQUFLLENBaERMTSxVQUFVO0lBRVZDLFNBQVMsR0E4Q1RQLEtBQUssQ0E5Q0xPLFNBQVM7SUFBQUMscUJBQUEsR0E4Q1RSLEtBQUssQ0E1Q0xTLGdCQUFnQjtJQUFoQkEsZ0JBQWdCLEdBQUFELHFCQUFBLGNBQUcsQ0FBQyxHQUFBQSxxQkFBQTtJQUFBRSxxQkFBQSxHQTRDcEJWLEtBQUssQ0EzQ0xXLGlCQUFpQjtJQUFqQkEsaUJBQWlCLEdBQUFELHFCQUFBLGNBQUcsRUFBRSxHQUFBQSxxQkFBQTtJQUN0QkUsT0FBTyxHQTBDUFosS0FBSyxDQTFDTFksT0FBTztJQUFBQyxrQkFBQSxHQTBDUGIsS0FBSyxDQXJDTGMsV0FBVztJQUFYQSxXQUFXLEdBQUFELGtCQUFBLGNBQUcsVUFBVSxHQUFBQSxrQkFBQTtJQUFBRSxVQUFBLEdBcUN4QmYsS0FBSyxDQXBDTGdCLEdBQUc7SUFBSEEsR0FBRyxHQUFBRCxVQUFBLGNBQUcsQ0FBQyxHQUFBQSxVQUFBO0lBQUFFLGNBQUEsR0FvQ1BqQixLQUFLLENBbkNMVCxPQUFPO0lBQVBBLE9BQU8sR0FBQTBCLGNBQUEsY0FBRyxDQUFDLEdBQUFBLGNBQUE7SUFBQUMsYUFBQSxHQW1DWGxCLEtBQUssQ0FsQ0xtQixNQUFNO0lBQU5BLE1BQU0sR0FBQUQsYUFBQSxjQUFHLFNBQVMsR0FBQUEsYUFBQTtJQUFBRSxvQkFBQSxHQWtDbEJwQixLQUFLLENBakNMcUIsYUFBYTtJQUFiQSxhQUFhLEdBQUFELG9CQUFBLGNBQUcsRUFBRSxHQUFBQSxvQkFBQTtJQUFBRSxtQkFBQSxHQWlDbEJ0QixLQUFLLENBaENMdUIsWUFBWTtJQUFaQSxZQUFZLEdBQUFELG1CQUFBLGNBQUcsRUFBRSxHQUFBQSxtQkFBQTtJQUFBRSxpQkFBQSxHQWdDakJ4QixLQUFLLENBN0JMeUIsVUFBVTtJQUFWQSxVQUFVLEdBQUFELGlCQUFBLGNBQUcsQ0FBQyxHQUFBQSxpQkFBQTtJQUFBRSxvQkFBQSxHQTZCZDFCLEtBQUssQ0EzQkwyQixhQUFhO0lBQWJBLGFBQWEsR0FBQUQsb0JBQUEsY0FBRyxDQUFDLEdBQUFBLG9CQUFBO0lBQ2pCRSxpQkFBaUIsR0EwQmpCNUIsS0FBSyxDQTFCTDRCLGlCQUFpQjtJQUFBQyxZQUFBLEdBMEJqQjdCLEtBQUssQ0F0Qkw4QixLQUFLO0lBQUxBLEtBQUssR0FBQUQsWUFBQSxjQUFHLFFBQVEsR0FBQUEsWUFBQTtJQUFBRSxlQUFBLEdBc0JoQi9CLEtBQUssQ0FyQkxnQyxRQUFRO0lBQVJBLFFBQVEsR0FBQUQsZUFBQSxjQUFHLElBQUksR0FBQUEsZUFBQTtJQUNmRSxXQUFXLEdBb0JYakMsS0FBSyxDQXBCTGlDLFdBQVc7SUFBQUMscUJBQUEsR0FvQlhsQyxLQUFLLENBbEJMbUMsY0FBYztJQUFkQSxjQUFjLEdBQUFELHFCQUFBLGNBQUcsSUFBSSxHQUFBQSxxQkFBQTtJQUFBRSxxQkFBQSxHQWtCckJwQyxLQUFLLENBakJMcUMsZ0JBQWdCO0lBQWhCQSxnQkFBZ0IsR0FBQUQscUJBQUEsY0FBRyxJQUFJLEdBQUFBLHFCQUFBO0lBQUFFLGFBQUEsR0FpQnZCdEMsS0FBSyxDQWRMdUMsTUFBTTtJQUFOQSxNQUFNLEdBQUFELGFBQUEsY0FBRyxFQUFFLEdBQUFBLGFBQUE7SUFBQUUscUJBQUEsR0FjWHhDLEtBQUssQ0FYTHlDLG1CQUFtQjtJQUFuQkEsbUJBQW1CLEdBQUFELHFCQUFBLGNBQUcsRUFBRSxHQUFBQSxxQkFBQTtJQUFBRSxnQkFBQSxHQVd4QjFDLEtBQUssQ0FWTDJDLFNBQVM7SUFBVEEsU0FBUyxHQUFBRCxnQkFBQSxjQUFHLEVBQUUsR0FBQUEsZ0JBQUE7SUFBQUUsZ0JBQUEsR0FVZDVDLEtBQUssQ0FQTDZDLFNBQVM7SUFBVEEsU0FBUyxHQUFBRCxnQkFBQSxjQUFHLEVBQUUsR0FBQUEsZ0JBQUE7SUFBQUUsZUFBQSxHQU9kOUMsS0FBSyxDQU5MK0MsUUFBUTtJQUFSQSxRQUFRLEdBQUFELGVBQUEsY0FBRyxJQUFJLEdBQUFBLGVBQUE7SUFDZkUsa0JBQWtCLEdBS2xCaEQsS0FBSyxDQUxMZ0Qsa0JBQWtCO0lBR2xCQyxrQkFBa0IsR0FFbEJqRCxLQUFLLENBRkxpRCxrQkFBa0I7RUFJdEIsSUFBSUMsa0JBQWtCLEdBQUcsS0FBSztFQUM5QixJQUFJLEVBQUUzQyxTQUFTLElBQUlELFVBQVUsSUFBSU0sT0FBTyxDQUFFLEVBQUU7SUFDeEN1QyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1REFBdUQsQ0FBQztJQUNwRUYsa0JBQWtCLEdBQUcsSUFBSTs7RUFHN0I7RUFFQSxJQUFNRyxjQUFjLEdBQUc7SUFDbkIvQyxVQUFVLEVBQVZBLFVBQVU7SUFDVkMsU0FBUyxFQUFUQSxTQUFTO0lBQ1RjLGFBQWEsRUFBYkEsYUFBYTtJQUNiRSxZQUFZLEVBQVpBLFlBQVk7SUFDWjtJQUNBSSxhQUFhLEVBQWJBLGFBQWE7SUFDYmxCLGdCQUFnQixFQUFoQkEsZ0JBQWdCO0lBQ2hCZ0IsVUFBVSxFQUFWQSxVQUFVO0lBQ1ZPLFFBQVEsRUFBUkE7R0FDSDtFQUVEO0VBQ0FPLE1BQU0sR0FBR0EsTUFBTSxhQUFOQSxNQUFNLGNBQU5BLE1BQU0sR0FBSSxFQUFFO0VBQ3JCSSxTQUFTLEdBQUdBLFNBQVMsYUFBVEEsU0FBUyxjQUFUQSxTQUFTLEdBQUksRUFBRTtFQUMzQkUsU0FBUyxHQUFHQSxTQUFTLGFBQVRBLFNBQVMsY0FBVEEsU0FBUyxHQUFJLEVBQUU7RUFDM0JsQixhQUFhLEdBQUdBLGFBQWEsYUFBYkEsYUFBYSxjQUFiQSxhQUFhLEdBQUksQ0FBQztFQUNsQ2xCLGdCQUFnQixHQUFHQSxnQkFBZ0IsYUFBaEJBLGdCQUFnQixjQUFoQkEsZ0JBQWdCLEdBQUksQ0FBQztFQUN4Q2dCLFVBQVUsR0FBR0EsVUFBVSxhQUFWQSxVQUFVLGNBQVZBLFVBQVUsR0FBSSxDQUFDO0VBQzVCVSxjQUFjLEdBQUdBLGNBQWMsYUFBZEEsY0FBYyxjQUFkQSxjQUFjLEdBQUksSUFBSTtFQUN2Q0UsZ0JBQWdCLEdBQUdBLGdCQUFnQixhQUFoQkEsZ0JBQWdCLGNBQWhCQSxnQkFBZ0IsR0FBSSxJQUFJO0VBQzNDaEIsYUFBYSxHQUFHQSxhQUFhLGFBQWJBLGFBQWEsY0FBYkEsYUFBYSxHQUFJLENBQUM7RUFDbENFLFlBQVksR0FBR0EsWUFBWSxhQUFaQSxZQUFZLGNBQVpBLFlBQVksR0FBSSxDQUFDO0VBQ2hDUyxRQUFRLEdBQUdBLFFBQVEsYUFBUkEsUUFBUSxjQUFSQSxRQUFRLEdBQUksQ0FBQztFQUV4QjFCLFVBQVUsR0FBRyxDQUFDQSxVQUFVO0VBQ3hCQyxTQUFTLEdBQUcsQ0FBQ0EsU0FBUztFQUN0QmMsYUFBYSxHQUFHLENBQUNBLGFBQWE7RUFDOUJFLFlBQVksR0FBRyxDQUFDQSxZQUFZO0VBQzVCO0VBQ0EsSUFBTStCLGVBQWUsR0FBRyxJQUFBckYsT0FBQSxDQUFBc0YsTUFBTSxFQUFDO0lBQzNCQyxHQUFHLEVBQUMsSUFBSTtJQUNSQyxLQUFLLEVBQUMsSUFBSTtJQUNWQyxNQUFNLEVBQUMsSUFBSTtJQUNYQyxJQUFJLEVBQUMsSUFBSTtJQUNUQyxNQUFNLEVBQUMsSUFBSTtJQUNYQyxRQUFRLEVBQUMsSUFBSTtJQUNiQyxJQUFJLEVBQUMsRUFBRTtJQUNQQyxHQUFHLEVBQUM7R0FDUCxDQUFDO0VBQ0YsSUFBSUMsWUFBWSxHQUFHVixlQUFlLENBQUNXLE9BQU87RUFDMUMsSUFBSUMsTUFBTSxDQUFDbEUsS0FBSyxDQUFDVCxPQUFPLENBQUMsS0FBSzJFLE1BQU0sQ0FBQ0YsWUFBWSxDQUFDSixNQUFNLENBQUMsRUFBRTtJQUN2REksWUFBWSxDQUFDSixNQUFNLEdBQUc1RCxLQUFLLENBQUNULE9BQU87SUFDbkMsSUFBSSxDQUFDeEQsS0FBSyxDQUFDRSxPQUFPLENBQUNzRCxPQUFPLENBQUMsRUFBRTtNQUN6QkEsT0FBTyxHQUFHLENBQUNBLE9BQU87TUFDbEIsSUFBSSxDQUFDNEUsS0FBSyxDQUFDNUUsT0FBTyxDQUFDLEVBQUU7UUFDakJ5RSxZQUFZLENBQUNILFFBQVEsR0FBRyxDQUFDdEUsT0FBTyxDQUFDO09BQ3BDLE1BQU07UUFDSHlFLFlBQVksQ0FBQ0gsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDOztLQUVsQyxNQUFNO01BQ0gsSUFBSU8sU0FBUyxHQUFHLEtBQUs7TUFDckIsSUFBSTdFLE9BQU8sQ0FBQ25DLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDcEJnSCxTQUFTLEdBQUcsSUFBSTs7TUFFcEIsSUFBSSxDQUFDQSxTQUFTLEVBQUU3RSxPQUFPLENBQUM4RSxPQUFPLENBQUMsVUFBQ3JHLEtBQUssRUFBQ3NHLEtBQUssRUFBQ1IsSUFBSSxFQUFJO1FBQ2pELElBQUlLLEtBQUssQ0FBQ25HLEtBQUssQ0FBQyxFQUFFO1VBQ2RvRyxTQUFTLEdBQUcsSUFBSTs7TUFFeEIsQ0FBQyxDQUFDO01BQ0YsSUFBSSxDQUFDQSxTQUFTLEVBQUU7UUFDWkosWUFBWSxDQUFDSCxRQUFRLEdBQUd0RSxPQUFPO09BQ2xDLE1BQU07UUFDSHlFLFlBQVksQ0FBQ0gsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDOzs7SUFHbkMsSUFBTUMsSUFBSSxHQUFBekksa0JBQUEsQ0FBTzJJLFlBQVksQ0FBQ0gsUUFBUSxDQUFDO0lBQ3ZDRyxZQUFZLENBQUNELEdBQUcsR0FBR0QsSUFBSSxDQUFDUyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSTtJQUMxQyxJQUFNQyxJQUFJLEdBQUdWLElBQUksQ0FBQzFHLE1BQU07SUFDeEIsSUFBSU8sQ0FBQyxFQUFDOEcsQ0FBQyxFQUFDQyxDQUFDO0lBQ1QsUUFBUUYsSUFBSTtNQUNaLEtBQUssQ0FBQztRQUNTO1FBQUEsSUFBQUcsS0FBQSxHQUFBeEksY0FBQSxDQUFMMkgsSUFBSTtRQUFUbkcsQ0FBQyxHQUFBZ0gsS0FBQTtRQUNGYixJQUFJLENBQUMvRixJQUFJLENBQUNKLENBQUMsRUFBQ0EsQ0FBQyxFQUFDQSxDQUFDLENBQUMsRUFBQztRQUNqQjtNQUNKLEtBQUssQ0FBQztRQUNXO1FBQUEsSUFBQWlILE1BQUEsR0FBQXpJLGNBQUEsQ0FBTDJILElBQUk7UUFBWG5HLENBQUMsR0FBQWlILE1BQUE7UUFBQ0gsQ0FBQyxHQUFBRyxNQUFBO1FBQ0pkLElBQUksQ0FBQy9GLElBQUksQ0FBQ0osQ0FBQyxFQUFDOEcsQ0FBQyxDQUFDO01BQUM7TUFDbkIsS0FBSyxDQUFDO1FBQ1c7UUFBQSxJQUFBSSxNQUFBLEdBQUExSSxjQUFBLENBQUwySCxJQUFJO1FBQVhuRyxDQUFDLEdBQUFrSCxNQUFBO1FBQUNKLENBQUMsR0FBQUksTUFBQTtRQUNKZixJQUFJLENBQUMvRixJQUFJLENBQUMwRyxDQUFDLENBQUM7TUFBQzs7O0lBRWpCVCxZQUFZLENBQUNGLElBQUksR0FBR0EsSUFBSTtJQUN4QixJQUFBZ0IsTUFBQSxHQUFBM0ksY0FBQSxDQUFtQzJILElBQUk7TUFBaENOLEdBQUcsR0FBQXNCLE1BQUE7TUFBRXJCLEtBQUssR0FBQXFCLE1BQUE7TUFBRXBCLE1BQU0sR0FBQW9CLE1BQUE7TUFBRW5CLElBQUksR0FBQW1CLE1BQUE7SUFDL0JuSSxNQUFNLENBQUNvSSxNQUFNLENBQUNmLFlBQVksRUFBQztNQUFDUixHQUFHLEVBQUMsQ0FBQ0EsR0FBRztNQUFDQyxLQUFLLEVBQUMsQ0FBQ0EsS0FBSztNQUFDQyxNQUFNLEVBQUMsQ0FBQ0EsTUFBTTtNQUFDQyxJQUFJLEVBQUMsQ0FBQ0E7SUFBSSxDQUFDLENBQUMsRUFBQztJQUM5RUwsZUFBZSxDQUFDVyxPQUFPLEdBQUdELFlBQVksR0FBQXJILE1BQUEsQ0FBQW9JLE1BQUEsS0FBT2YsWUFBWSxDQUFDLEVBQUM7OztFQUUvRCxJQUFNZ0IsV0FBVyxHQUFHLElBQUEvRyxPQUFBLENBQUFzRixNQUFNLEVBQUM7SUFDdkIwQixNQUFNLEVBQUMsSUFBSTtJQUNYQyxHQUFHLEVBQUMsSUFBSTtJQUNSdEIsTUFBTSxFQUFDLElBQUk7SUFDWEMsUUFBUSxFQUFDLElBQUk7SUFDYkMsSUFBSSxFQUFDLEVBQUU7SUFDUEMsR0FBRyxFQUFDO0dBQ1AsQ0FBQztFQUNGLElBQUlvQixRQUFRLEdBQUdILFdBQVcsQ0FBQ2YsT0FBTztFQUNsQyxJQUFJQyxNQUFNLENBQUNsRSxLQUFLLENBQUNnQixHQUFHLENBQUMsS0FBS2tELE1BQU0sQ0FBQ2lCLFFBQVEsQ0FBQ3ZCLE1BQU0sQ0FBQyxFQUFFO0lBQy9DdUIsUUFBUSxDQUFDdkIsTUFBTSxHQUFHNUQsS0FBSyxDQUFDZ0IsR0FBRztJQUMzQixJQUFJLENBQUNqRixLQUFLLENBQUNFLE9BQU8sQ0FBQytFLEdBQUcsQ0FBQyxFQUFFO01BQ3JCQSxHQUFHLEdBQUcsQ0FBQ0EsR0FBRztNQUNWLElBQUksQ0FBQ21ELEtBQUssQ0FBQ25ELEdBQUcsQ0FBQyxFQUFFO1FBQ2JtRSxRQUFRLENBQUN0QixRQUFRLEdBQUcsQ0FBQzdDLEdBQUcsQ0FBQztPQUM1QixNQUFNO1FBQ0htRSxRQUFRLENBQUN0QixRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0tBRTlCLE1BQU07TUFDSCxJQUFJTyxVQUFTLEdBQUcsS0FBSztNQUNyQixJQUFJcEQsR0FBRyxDQUFDNUQsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUNoQmdILFVBQVMsR0FBRyxJQUFJOztNQUVwQixJQUFJLENBQUNBLFVBQVMsRUFBRXBELEdBQUcsQ0FBQ3FELE9BQU8sQ0FBQyxVQUFDckcsS0FBSyxFQUFDc0csS0FBSyxFQUFDUixJQUFJLEVBQUk7UUFDN0MsSUFBSUssS0FBSyxDQUFDbkcsS0FBSyxDQUFDLEVBQUU7VUFDZG9HLFVBQVMsR0FBRyxJQUFJOztNQUV4QixDQUFDLENBQUM7TUFDRixJQUFJLENBQUNBLFVBQVMsRUFBRTtRQUNaZSxRQUFRLENBQUN0QixRQUFRLEdBQUc3QyxHQUFHO09BQzFCLE1BQU07UUFDSG1FLFFBQVEsQ0FBQ3RCLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQzs7O0lBRy9CLElBQU1DLE1BQUksR0FBQXpJLGtCQUFBLENBQU84SixRQUFRLENBQUN0QixRQUFRLENBQUM7SUFDbkNzQixRQUFRLENBQUNwQixHQUFHLEdBQUdELE1BQUksQ0FBQ1MsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUk7SUFDdEMsSUFBTUMsS0FBSSxHQUFHVixNQUFJLENBQUMxRyxNQUFNO0lBQ3hCLElBQUlPLEVBQUM7SUFDTCxJQUFJNkcsS0FBSSxJQUFJLENBQUMsRUFBRTtNQUNBO01BQUEsSUFBQVksTUFBQSxHQUFBakosY0FBQSxDQUFMMkgsTUFBSTtNQUFUbkcsRUFBQyxHQUFBeUgsTUFBQTtNQUNGdEIsTUFBSSxDQUFDL0YsSUFBSSxDQUFDSixFQUFDLENBQUMsRUFBQzs7O0lBRWpCd0gsUUFBUSxDQUFDckIsSUFBSSxHQUFHQSxNQUFJO0lBQ3BCLElBQUF1QixNQUFBLEdBQUFsSixjQUFBLENBQXNCMkgsTUFBSTtNQUFuQm1CLE1BQU0sR0FBQUksTUFBQTtNQUFFSCxHQUFHLEdBQUFHLE1BQUE7SUFDbEIxSSxNQUFNLENBQUNvSSxNQUFNLENBQUNJLFFBQVEsRUFBQztNQUFDRixNQUFNLEVBQUMsQ0FBQ0EsTUFBTTtNQUFDQyxHQUFHLEVBQUMsQ0FBQ0E7SUFBRyxDQUFDLENBQUMsRUFBQztJQUNsREYsV0FBVyxDQUFDZixPQUFPLEdBQUdrQixRQUFRLEdBQUF4SSxNQUFBLENBQUFvSSxNQUFBLEtBQU9JLFFBQVEsQ0FBQyxFQUFDOzs7RUFFbkR4RCxhQUFhLEdBQUcsQ0FBQ0EsYUFBYTtFQUM5QmxCLGdCQUFnQixHQUFHLENBQUNBLGdCQUFnQjtFQUNwQ2dCLFVBQVUsR0FBRyxDQUFDQSxVQUFVO0VBQ3hCTyxRQUFRLEdBQUcsQ0FBQ0EsUUFBUTtFQUVwQixJQUFNc0QsY0FBYyxHQUFHO0lBQ25CaEYsVUFBVSxFQUFWQSxVQUFVO0lBQ1ZDLFNBQVMsRUFBVEEsU0FBUztJQUNUYyxhQUFhLEVBQWJBLGFBQWE7SUFDYkUsWUFBWSxFQUFaQSxZQUFZO0lBQ1o7SUFDQUksYUFBYSxFQUFiQSxhQUFhO0lBQ2JsQixnQkFBZ0IsRUFBaEJBLGdCQUFnQjtJQUNoQmdCLFVBQVUsRUFBVkEsVUFBVTtJQUNWTyxRQUFRLEVBQVJBO0dBQ0g7RUFFRFgsYUFBYSxHQUFHa0UsSUFBSSxDQUFDQyxHQUFHLENBQUNuRSxhQUFhLEVBQUUsRUFBRSxDQUFDO0VBQzNDRSxZQUFZLEdBQUdnRSxJQUFJLENBQUNDLEdBQUcsQ0FBQ2pFLFlBQVksRUFBRSxFQUFFLENBQUM7RUFDekNGLGFBQWEsR0FBR2tFLElBQUksQ0FBQ0UsR0FBRyxDQUFDbkYsVUFBVSxFQUFFZSxhQUFhLENBQUM7RUFDbkRFLFlBQVksR0FBR2dFLElBQUksQ0FBQ0UsR0FBRyxDQUFDbEYsU0FBUyxFQUFFZ0IsWUFBWSxDQUFDO0VBRWhEO0VBQ0FFLFVBQVUsR0FBRzhELElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBQy9ELFVBQVUsQ0FBQyxFQUFDO0VBQ3BDaEIsZ0JBQWdCLEdBQUc4RSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUMvRSxnQkFBZ0IsQ0FBQztFQUMvQ2tCLGFBQWEsR0FBRzRELElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBQzdELGFBQWEsQ0FBQztFQUV6QztFQUNBLElBQUkrRCxRQUFRLEdBQUcsQ0FBQztFQUNoQixLQUFLLElBQU1DLElBQUksSUFBSUwsY0FBYyxFQUFFO0lBQy9CLElBQUluQixLQUFLLENBQUNtQixjQUFjLENBQUNLLElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDN0JELFFBQVEsRUFBRTs7O0VBSWxCLElBQUlBLFFBQVEsRUFBRTtJQUNWdkMsT0FBTyxDQUFDbkUsS0FBSyxDQUFDLG1FQUFtRSxFQUM3RXFFLGNBQWMsRUFBRWlDLGNBQWMsQ0FBQzs7RUFHdkM7RUFDQSxJQUFJLENBQUNJLFFBQVEsSUFBSXRGLGFBQWEsSUFBSSxPQUFPLEVBQUU7SUFFdkMsSUFBSXdGLFNBQVMsR0FBRyxJQUFJO0lBQ3BCLElBQUksQ0FBQ2pGLGlCQUFpQixJQUNsQixDQUFDNUUsS0FBSyxDQUFDRSxPQUFPLENBQUMwRSxpQkFBaUIsQ0FBQyxJQUNqQyxFQUFHQSxpQkFBaUIsQ0FBQ3ZELE1BQU0sSUFBSSxDQUFDLElBQU11RCxpQkFBaUIsQ0FBQ3ZELE1BQU0sSUFBSSxDQUFFLENBQUMsRUFBRTtNQUN2RXdJLFNBQVMsR0FBRyxLQUFLOztJQUVyQixJQUFJQSxTQUFTLEVBQUU7TUFDWCxJQUFJakYsaUJBQWlCLENBQUN2RCxNQUFNLElBQUksQ0FBQyxFQUFFO1FBQy9CcUQsZ0JBQWdCLEdBQUcsQ0FBQztPQUN2QixNQUFNO1FBQ0gsSUFBQW9GLGtCQUFBLEdBQTJCbEYsaUJBQWlCO1VBQUFtRixtQkFBQSxHQUFBM0osY0FBQSxDQUFBMEosa0JBQUE7VUFBdkNFLFFBQVEsR0FBQUQsbUJBQUE7VUFBQ0UsU0FBUyxHQUFBRixtQkFBQTtRQUN2QkMsUUFBUSxHQUFHLENBQUNBLFFBQVE7UUFDcEJDLFNBQVMsR0FBRyxDQUFDQSxTQUFTO1FBQ3RCLElBQUk3QixLQUFLLENBQUM0QixRQUFRLENBQUMsSUFBSTVCLEtBQUssQ0FBQzZCLFNBQVMsQ0FBQyxFQUFFO1VBQ3JDSixTQUFTLEdBQUcsS0FBSztTQUNwQixNQUFNLElBQUlHLFFBQVEsR0FBR0MsU0FBUyxFQUFFO1VBQzdCSixTQUFTLEdBQUcsS0FBSzs7UUFFckIsSUFBSUEsU0FBUyxFQUFFO1VBQ1huRixnQkFBZ0IsR0FBR3VGLFNBQVMsR0FBR0QsUUFBUSxHQUFHLENBQUM7Ozs7SUFJdkQsSUFBSSxDQUFDSCxTQUFTLEVBQUU7TUFDWixJQUFJbkYsZ0JBQWdCLElBQUssQ0FBQzBELEtBQUssQ0FBQzFELGdCQUFnQixDQUFFLEVBQUU7UUFDaERFLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxFQUFDRixnQkFBZ0IsR0FBRyxDQUFDLENBQUM7T0FDL0MsTUFBTTtRQUNIRSxpQkFBaUIsR0FBRyxFQUFFO1FBQ3RCRixnQkFBZ0IsR0FBRyxDQUFDOzs7O0VBS2hDO0VBQ0EsSUFBSSxDQUFDLENBQUMsWUFBWSxFQUFDLFVBQVUsQ0FBQyxDQUFDd0YsUUFBUSxDQUFDbkYsV0FBVyxDQUFDLEVBQUU7SUFDbERBLFdBQVcsR0FBRyxVQUFVOztFQUU1QixJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUMsVUFBVSxFQUFDLFFBQVEsQ0FBQyxDQUFDbUYsUUFBUSxDQUFDbkUsS0FBSyxDQUFDLEVBQUU7SUFDbERBLEtBQUssR0FBRyxRQUFROztFQUVwQixJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUNtRSxRQUFRLENBQUM5RSxNQUFNLENBQUMsRUFBRTtJQUMzQ0EsTUFBTSxHQUFHLFNBQVM7O0VBR3RCLElBQU0rRSxTQUFTLEdBQUc7SUFDZHBGLFdBQVcsRUFBWEEsV0FBVztJQUNYO0lBQ0FSLFVBQVUsRUFBVkEsVUFBVTtJQUNWQyxTQUFTLEVBQVRBLFNBQVM7SUFDVGMsYUFBYSxFQUFiQSxhQUFhO0lBQ2JFLFlBQVksRUFBWkEsWUFBWTtJQUNaSixNQUFNLEVBQU5BO0dBQ0g7RUFFRCxJQUFNZ0YsWUFBWSxHQUFHLElBQUFsSSxPQUFBLENBQUFzRixNQUFNLEVBQUMyQyxTQUFTLENBQUM7RUFFdEM7RUFDQSxJQUNJRSxTQUFTLEdBQUcsSUFBQW5JLE9BQUEsQ0FBQXNGLE1BQU0sRUFBQ2hCLE1BQU0sQ0FBQztJQUMxQjhELFlBQVksR0FBRyxJQUFBcEksT0FBQSxDQUFBc0YsTUFBTSxFQUFDWixTQUFTLENBQUM7SUFDaEMyRCxzQkFBc0IsR0FBRyxJQUFBckksT0FBQSxDQUFBc0YsTUFBTSxFQUFDZCxtQkFBbUIsQ0FBQztFQUV4RCxJQUFBOEQsVUFBQSxHQWFJMUQsU0FBUztJQVhUMkQsUUFBUSxHQUFBRCxVQUFBLENBQVJDLFFBQVE7SUFDUkMsaUJBQWlCLEdBQUFGLFVBQUEsQ0FBakJFLGlCQUFpQjtJQUVqQkMsdUJBQXVCLEdBQUFILFVBQUEsQ0FBdkJHLHVCQUF1QjtJQUN2QkMscUJBQXFCLEdBQUFKLFVBQUEsQ0FBckJJLHFCQUFxQjtJQUNyQkMsb0JBQW9CLEdBQUFMLFVBQUEsQ0FBcEJLLG9CQUFvQjtJQUNwQkMsNkJBQTZCLEdBQUFOLFVBQUEsQ0FBN0JNLDZCQUE2QjtJQUU3QkMsa0JBQWtCLEdBQUFQLFVBQUEsQ0FBbEJPLGtCQUFrQjtJQUNsQkMsb0JBQW9CLEdBQUFSLFVBQUEsQ0FBcEJRLG9CQUFvQjtFQUl4QkwsdUJBQXVCLEdBQUdBLHVCQUF1QixhQUF2QkEsdUJBQXVCLGNBQXZCQSx1QkFBdUIsR0FBSSxHQUFHO0VBQ3hEQyxxQkFBcUIsR0FBR0EscUJBQXFCLGFBQXJCQSxxQkFBcUIsY0FBckJBLHFCQUFxQixHQUFJLEdBQUc7RUFDcERDLG9CQUFvQixHQUFHQSxvQkFBb0IsYUFBcEJBLG9CQUFvQixjQUFwQkEsb0JBQW9CLEdBQUksR0FBRztFQUNsREMsNkJBQTZCLEdBQUdBLDZCQUE2QixhQUE3QkEsNkJBQTZCLGNBQTdCQSw2QkFBNkIsR0FBSSxHQUFHO0VBRXBFQyxrQkFBa0IsR0FBR0Esa0JBQWtCLGFBQWxCQSxrQkFBa0IsY0FBbEJBLGtCQUFrQixHQUFJLEdBQUc7RUFDOUNDLG9CQUFvQixHQUFHQSxvQkFBb0IsYUFBcEJBLG9CQUFvQixjQUFwQkEsb0JBQW9CLEdBQUksRUFBRTtFQUVqRCxJQUFJLE9BQU9QLFFBQVEsSUFBSSxTQUFTLEVBQUVBLFFBQVEsR0FBRyxLQUFLO0VBRWxEQyxpQkFBaUIsR0FBR0EsaUJBQWlCLGFBQWpCQSxpQkFBaUIsY0FBakJBLGlCQUFpQixHQUFJLEVBQUU7RUFFM0MsSUFBSSxPQUFPdEUsY0FBYyxJQUFJLFNBQVMsRUFBRUEsY0FBYyxHQUFHLElBQUk7RUFDN0QsSUFBSSxPQUFPRSxnQkFBZ0IsSUFBSSxTQUFTLEVBQUVBLGdCQUFnQixHQUFHLElBQUk7RUFFakU7RUFFSSxJQUFBMkUsb0JBQW9CLEdBQUcsSUFBQS9JLE9BQUEsQ0FBQXNGLE1BQU0sRUFBQyxJQUFJLENBQUM7SUFDbkMwRCxVQUFVLEdBQUdELG9CQUFvQixDQUFDL0MsT0FBTztJQUd6Q2lELFdBQVcsR0FBRyxJQUFBakosT0FBQSxDQUFBc0YsTUFBTSxFQUFDUixRQUFRLENBQUM7SUFFOUJvRSxpQkFBaUIsR0FBRyxJQUFBbEosT0FBQSxDQUFBc0YsTUFBTSxFQUFDLElBQUksQ0FBQztJQUVoQzZELFdBQVcsR0FBRyxJQUFBbkosT0FBQSxDQUFBc0YsTUFBTSxFQUFDOUMsZ0JBQWdCLENBQUM7SUFDdEM0RyxZQUFZLEdBQUcsSUFBQXBKLE9BQUEsQ0FBQXNGLE1BQU0sRUFBQzVDLGlCQUFpQixDQUFDO0lBRXhDMkcsUUFBUSxHQUFHRixXQUFXLENBQUNuRCxPQUFPO0lBQzlCc0QsU0FBUyxHQUFHRixZQUFZLENBQUNwRCxPQUFPO0lBQUF1RCxVQUFBLEdBQUFyTCxjQUFBLENBQ0FvTCxTQUFTO0lBQXhDRSxZQUFZLEdBQUFELFVBQUE7SUFBRUUsYUFBYSxHQUFBRixVQUFBO0lBRTVCRyxnQkFBZ0IsR0FBRztNQUNmQyxJQUFJLEVBQUNOLFFBQVE7TUFDYk8sS0FBSyxFQUFDTixTQUFTO01BQ2Z4QixRQUFRLEVBQUMwQixZQUFZO01BQ3JCekIsU0FBUyxFQUFDMEI7S0FDYjtJQUVESSxtQkFBbUIsR0FBRyxJQUFBN0osT0FBQSxDQUFBc0YsTUFBTSxFQUFDb0UsZ0JBQWdCLENBQUM7RUFFbEQsSUFBSSxDQUFDSSxZQUFZLENBQUNKLGdCQUFnQixFQUFFRyxtQkFBbUIsQ0FBQzdELE9BQU8sQ0FBQyxFQUFFO0lBQzlENkQsbUJBQW1CLENBQUM3RCxPQUFPLEdBQUcwRCxnQkFBZ0I7O0VBR2xEO0VBQ0EsSUFBSSxDQUFDSSxZQUFZLENBQUM3QixTQUFTLEVBQUVDLFlBQVksQ0FBQ2xDLE9BQU8sQ0FBQyxFQUFFO0lBQ2hEa0MsWUFBWSxDQUFDbEMsT0FBTyxHQUFHaUMsU0FBUzs7RUFHcEMsSUFBSSxDQUFDNkIsWUFBWSxDQUFDeEYsTUFBTSxFQUFFNkQsU0FBUyxDQUFDbkMsT0FBTyxDQUFDLEVBQUU7SUFDMUNtQyxTQUFTLENBQUNuQyxPQUFPLEdBQUcxQixNQUFNOztFQUU5QixJQUFJLENBQUN3RixZQUFZLENBQUNwRixTQUFTLEVBQUUwRCxZQUFZLENBQUNwQyxPQUFPLENBQUMsRUFBRTtJQUNoRG9DLFlBQVksQ0FBQ3BDLE9BQU8sR0FBR3RCLFNBQVM7O0VBRXBDLElBQUksQ0FBQ29GLFlBQVksQ0FBQ3RGLG1CQUFtQixFQUFFNkQsc0JBQXNCLENBQUNyQyxPQUFPLENBQUMsRUFBRTtJQUNwRXFDLHNCQUFzQixDQUFDckMsT0FBTyxHQUFHeEIsbUJBQW1COztFQUd4RDtFQUVBLElBQU11RixXQUFXLEdBQUcsU0FBZEEsV0FBV0EsQ0FBSWpGLFFBQVEsRUFBSTtJQUU3Qm1FLFdBQVcsQ0FBQ2pELE9BQU8sR0FBR2xCLFFBQVE7RUFFbEMsQ0FBQztFQUVELElBQU1rRixpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQWlCQSxDQUFJQyxFQUFFLEVBQUk7SUFFN0JmLGlCQUFpQixDQUFDbEQsT0FBTyxHQUFHaUUsRUFBRTtFQUVsQyxDQUFDO0VBRUQsSUFBTUMsYUFBYSxHQUFHLENBQUNwRixRQUFRO0VBRS9CLElBQU1xRixZQUFZLEdBQUcsSUFBQW5LLE9BQUEsQ0FBQXNGLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFFakMsSUFBQXRGLE9BQUEsQ0FBQW9LLFNBQVMsRUFBQyxZQUFJO0lBRVZELFlBQVksQ0FBQ25FLE9BQU8sR0FBRyxJQUFJO0lBRTNCLE9BQU8sWUFBSztNQUVSbUUsWUFBWSxDQUFDbkUsT0FBTyxHQUFHLEtBQUs7SUFFaEMsQ0FBQztFQUVMLENBQUMsRUFBQyxFQUFFLENBQUM7RUFFTCxJQUFBaEcsT0FBQSxDQUFBb0ssU0FBUyxFQUFFLFlBQUs7SUFFWixJQUFJckIsb0JBQW9CLENBQUMvQyxPQUFPLEtBQUssSUFBSSxFQUFFO01BQUU7TUFDekMrQyxvQkFBb0IsQ0FBQy9DLE9BQU8sR0FBR25FLGdCQUFnQixFQUFFOztFQUd6RCxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUwsSUFBTXdJLG1CQUFtQixHQUFHLElBQUFySyxPQUFBLENBQUFzSyxXQUFXLEVBQUMsVUFBQ2hCLFNBQVMsRUFBSTtJQUVsRCxJQUFJRCxRQUFRO0lBQ1osSUFBSUMsU0FBUyxDQUFDbkssTUFBTSxJQUFJLENBQUMsRUFBRTtNQUN2QmtLLFFBQVEsR0FBRyxDQUFDO0tBQ2YsTUFBTTtNQUNILElBQUFrQixXQUFBLEdBQUFyTSxjQUFBLENBQThCb0wsU0FBUztRQUFoQ2tCLFFBQVEsR0FBQUQsV0FBQTtRQUFFRSxTQUFTLEdBQUFGLFdBQUE7TUFDMUJsQixRQUFRLEdBQUdvQixTQUFTLEdBQUdELFFBQVEsR0FBRyxDQUFDOztJQUd2Q3JCLFdBQVcsQ0FBQ25ELE9BQU8sR0FBR3FELFFBQVE7SUFDOUJELFlBQVksQ0FBQ3BELE9BQU8sR0FBR3NELFNBQVM7SUFFaEM7SUFDQWxCLFlBQVksQ0FBQ3BDLE9BQU8sQ0FBQzBFLHVCQUF1QixJQUN4Q3RDLFlBQVksQ0FBQ3BDLE9BQU8sQ0FBQzBFLHVCQUF1QixDQUFDcEIsU0FBUyxDQUFDO0lBRTNEbEgsZ0JBQWdCLENBQUMsY0FBYyxDQUFDO0VBRXBDLENBQUMsRUFBQyxFQUFFLENBQUM7RUFFTDtFQUNBLElBQU11SSxrQkFBa0IsR0FBRyxJQUFBM0ssT0FBQSxDQUFBc0ssV0FBVyxFQUFDLFVBQUNqQixRQUFRLEVBQUk7SUFFaEQsSUFBSUMsU0FBUyxHQUFHRixZQUFZLENBQUNwRCxPQUFPO0lBQ3BDLElBQUlxRCxRQUFRLElBQUksQ0FBQyxFQUFFO01BQ2ZDLFNBQVMsR0FBRyxFQUFFO0tBQ2pCLE1BQU07TUFDSCxJQUFJQSxTQUFTLENBQUNuSyxNQUFNLElBQUksQ0FBQyxFQUFFO1FBQ3ZCbUssU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFDRCxRQUFRLEdBQUcsQ0FBQyxDQUFDO09BQy9CLE1BQU07UUFDSCxJQUFBdUIscUJBQUEsR0FBQTFNLGNBQUEsQ0FBaUNrTCxZQUFZLENBQUNwRCxPQUFPO1VBQTlDOEIsU0FBUSxrQkFBQThDLHFCQUFBO1FBQ2Z0QixTQUFTLEdBQUcsQ0FBQ3hCLFNBQVEsRUFBQ0EsU0FBUSxHQUFHdUIsUUFBUSxHQUFHLENBQUMsQ0FBQzs7O0lBSXRERixXQUFXLENBQUNuRCxPQUFPLEdBQUdxRCxRQUFRO0lBQzlCRCxZQUFZLENBQUNwRCxPQUFPLEdBQUdzRCxTQUFTO0lBRWhDO0lBQ0FsQixZQUFZLENBQUNwQyxPQUFPLENBQUM2RSxzQkFBc0IsSUFDdkN6QyxZQUFZLENBQUNwQyxPQUFPLENBQUM2RSxzQkFBc0IsQ0FBQ3hCLFFBQVEsQ0FBQztJQUV6RGpILGdCQUFnQixDQUFDLGNBQWMsQ0FBQztFQUVwQyxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUw7RUFFQSxJQUFNMEksVUFBVSxHQUFHLElBQUE5SyxPQUFBLENBQUFzRixNQUFNLEVBQUMsSUFBSSxDQUFDO0VBRS9CLElBQUF0RixPQUFBLENBQUFvSyxTQUFTLEVBQUMsWUFBSztJQUVYLFFBQVFqSSxhQUFhO01BRWpCLEtBQUssT0FBTztRQUNSO1FBQ0E4RyxXQUFXLENBQUNqRCxPQUFPLEdBQUdpRCxXQUFXLENBQUNqRCxPQUFPLENBQUMrRSxnQkFBZ0IsQ0FBQ2hDLG9CQUFvQixDQUFDL0MsT0FBTyxDQUFDO1FBQ3hGOEUsVUFBVSxDQUFDOUUsT0FBTyxHQUFHaUQsV0FBVyxDQUFDakQsT0FBTyxDQUFDZ0YsT0FBTyxFQUFDO1FBRWpELElBQUk5QixpQkFBaUIsQ0FBQ2xELE9BQU8sRUFBRTtVQUFFO1VBRTdCaUQsV0FBVyxDQUFDakQsT0FBTyxDQUFDaUYsd0JBQXdCLEdBQUcvQixpQkFBaUIsQ0FBQ2xELE9BQU87O01BSWhGLEtBQUssY0FBYztRQUNmNUQsZ0JBQWdCLENBQUMsT0FBTyxDQUFDOztJQUlqQyxPQUFPLFlBQUs7TUFFUixJQUFJLENBQUMrSCxZQUFZLENBQUNuRSxPQUFPLEVBQUU7UUFFdkJpRCxXQUFXLENBQUNqRCxPQUFPLENBQUNrRixrQkFBa0IsQ0FBQ0osVUFBVSxDQUFDOUUsT0FBTyxDQUFDOztJQUlsRSxDQUFDO0VBRUwsQ0FBQyxFQUFDLENBQUM3RCxhQUFhLENBQUMsQ0FBQztFQUVsQjtFQUVBLElBQUlzRixRQUFRLElBQUl4QyxrQkFBa0IsRUFBRTtJQUNoQyxPQUFPakYsT0FBQSxZQUFBaUIsYUFBQSxvQ0FBOEI7O0VBR3pDO0VBQ0EsT0FBT2pCLE9BQUEsWUFBQWlCLGFBQUEsQ0FBQ2Qsc0JBQUEsQ0FBQWdMLGFBQWE7SUFDakJDLGlCQUFpQixFQUFJdkssYUFBYTtJQUNsQztJQUNBd0ssT0FBTyxFQUFLLFNBQUFBLFFBQUEsRUFBSyxDQUFFLENBQUM7SUFDcEJDLE9BQU8sRUFBSyxTQUFBQSxRQUFBLEVBQUssQ0FBRTtFQUFDLEdBTWxCbkosYUFBYSxJQUFJLE9BQU8sSUFBS25DLE9BQUEsWUFBQWlCLGFBQUEsQ0FBQ08sVUFBQSxXQUFRO0lBRXBDeUcsU0FBUyxFQUFLQyxZQUFZLENBQUNsQyxPQUFPO0lBQ2xDMUIsTUFBTSxFQUFLNkQsU0FBUyxDQUFDbkMsT0FBTztJQUM1QmdELFVBQVUsRUFBS0EsVUFBVTtJQUN6QlAsdUJBQXVCLEVBQUtBLHVCQUF1QjtJQUNuRHJFLGdCQUFnQixFQUFLQTtFQUFnQixHQUlwQ3BFLE9BQUEsWUFBQWlCLGFBQUEsQ0FBQ1MsYUFBQSxXQUFXO0lBRVR1RyxTQUFTLEVBQUtDLFlBQVksQ0FBQ2xDLE9BQU87SUFDbENELFlBQVksRUFBSUEsWUFBWTtJQUM1Qm1CLFFBQVEsRUFBS0EsUUFBUTtJQUNyQjVDLE1BQU0sRUFBSzZELFNBQVMsQ0FBQ25DLE9BQU87SUFDNUIwRCxnQkFBZ0IsRUFBSUcsbUJBQW1CLENBQUM3RCxPQUFPO0lBQy9DZ0QsVUFBVSxFQUFLQTtFQUFVLEdBR3pCaEosT0FBQSxZQUFBaUIsYUFBQSxDQUFDVSxRQUFBLFdBQU07SUFFSHNHLFNBQVMsRUFBS0MsWUFBWSxDQUFDbEMsT0FBTztJQUNsQ0QsWUFBWSxFQUFLQSxZQUFZO0lBQzdCbUIsUUFBUSxFQUFLQSxRQUFRO0lBQ3JCNUMsTUFBTSxFQUFLNkQsU0FBUyxDQUFDbkMsT0FBTztJQUM1QjBELGdCQUFnQixFQUFJRyxtQkFBbUIsQ0FBQzdELE9BQU87SUFDL0MyRSxrQkFBa0IsRUFBS0Esa0JBQWtCO0lBQ3pDTixtQkFBbUIsRUFBS0EsbUJBQW1CO0lBQzNDeEcsS0FBSyxFQUFLQSxLQUFLO0lBQ2ZFLFFBQVEsRUFBS0EsUUFBUTtJQUNyQndILGFBQWEsRUFBS25ELFlBQVksQ0FBQ3BDLE9BQU87SUFDdEN0QyxhQUFhLEVBQUtBLGFBQWE7SUFDL0JmLE9BQU8sRUFBS0EsT0FBTztJQUNuQmdCLGlCQUFpQixFQUFLQSxpQkFBaUI7SUFDdkNLLFdBQVcsRUFBS0EsV0FBVztJQUMzQlEsbUJBQW1CLEVBQUs2RCxzQkFBc0IsQ0FBQ3JDLE9BQU87SUFDdER4QyxVQUFVLEVBQUtBLFVBQVU7SUFDekJnRixpQkFBaUIsRUFBS0EsaUJBQWlCO0lBQ3ZDeEQsa0JBQWtCLEVBQUtBLGtCQUFrQjtJQUV6Q0YsUUFBUSxFQUFLbUUsV0FBVyxDQUFDakQsT0FBTztJQUNoQzlCLGNBQWMsRUFBS0EsY0FBYztJQUNqQztJQUNBcUUsUUFBUSxFQUFLQSxRQUFRO0lBQ3JCRyxxQkFBcUIsRUFBS0EscUJBQXFCO0lBQy9DQyxvQkFBb0IsRUFBS0Esb0JBQW9CO0lBQzdDRSxrQkFBa0IsRUFBS0Esa0JBQWtCO0lBQ3pDRCw2QkFBNkIsRUFBS0EsNkJBQTZCO0lBQy9ESSxVQUFVLEVBQUtBO0VBQVUsRUFFM0IsQ0FDUSxDQUNQLEVBQ1hoSixPQUFBLFlBQUFpQixhQUFBLGNBQ0NpSixhQUFhLElBQUlsSyxPQUFBLFlBQUFpQixhQUFBO0lBQUEsYUFBaUIsV0FBVztJQUFDRSxLQUFLLEVBQUtxSztFQUFjLEdBQ25FeEwsT0FBQSxZQUFBaUIsYUFBQSxDQUFDVyxhQUFBLFdBQVc7SUFFUm1JLFdBQVcsRUFBS0EsV0FBVztJQUMzQkMsaUJBQWlCLEVBQUtBLGlCQUFpQjtJQUN2Q2xCLG9CQUFvQixFQUFLQTtFQUFvQixFQUFLLENBRXBELENBQ0EsQ0FDTTtBQUNwQixDQUFDO0FBRURuSSxrQkFBQSxHQUFlbUIsb0JBQW9CO0FBRW5DO0FBRUEsSUFBTTBKLGNBQWMsR0FBRztFQUFDQyxPQUFPLEVBQUM7QUFBTSxDQUFDO0FBRXZDO0FBQ0EsU0FBUzNCLFlBQVlBLENBQUU0QixJQUFJLEVBQUNDLElBQUk7RUFDNUIsSUFBSSxDQUFDRCxJQUFJLElBQUksQ0FBQ0MsSUFBSSxFQUFFLE9BQU8sS0FBSztFQUNoQyxJQUFNQyxJQUFJLEdBQUdsTixNQUFNLENBQUNrTixJQUFJLENBQUNGLElBQUksQ0FBQztFQUM5QixTQUFBRyxFQUFBLE1BQUFDLEtBQUEsR0FBa0JGLElBQUksRUFBQUMsRUFBQSxHQUFBQyxLQUFBLENBQUEzTSxNQUFBLEVBQUEwTSxFQUFBLElBQUU7SUFBbkIsSUFBTUUsR0FBRyxHQUFBRCxLQUFBLENBQUFELEVBQUE7SUFDVixJQUFJLENBQUNuTixNQUFNLENBQUNzTixFQUFFLENBQUNOLElBQUksQ0FBQ0ssR0FBRyxDQUFDLEVBQUNKLElBQUksQ0FBQ0ksR0FBRyxDQUFDLENBQUMsRUFBRTtNQUNqQyxPQUFPLEtBQUs7OztFQUdwQixPQUFPLElBQUk7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvSW5maW5pdGVHcmlkU2Nyb2xsZXIudHN4PzdmNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5maW5pdGVHcmlkU2Nyb2xsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIHJlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIgPSBSSUdTXG5cbiAgICBUaGUgam9iIG9mIEluZmluaXRlR3JpZFNjcm9sbGVyIGlzIHRvIHBhc3MgcGFyYW1ldGVycyB0byBkZXBlbmRlbnRzLlxuICAgIFZpZXdwb3J0IGNvbnRhaW5zIHRoZSBTY3JvbGxibG9jaywgd2hpY2ggaXMgZnVsbCBzaXplIGZvciBsaXN0c2l6ZSBvZiBnaXZlbiBjZWxsIGhlaWdodC93aWR0aC5cbiAgICBTY3JvbGxibG9jayBpbiB0dXJuIGNvbnRhaW5zIHRoZSBDcmFkbGUgLSBhIGNvbXBvbmVudCB0aGF0IGNvbnRhaW5zIENlbGxGcmFtZXMsIHdoaWNoIGNvbnRhaW4gXG4gICAgZGlzcGxheWVkIHVzZXIgY29udGVudCAoaXRlbXMpIG9yIHRyYW5zaXRpb25hbCBwbGFjZWhvbGRlcnMuIFxuXG4gICAgSG9zdCBjb250ZW50IGlzIGluc3RhbnRpYXRlZCBpbiBhIGNhY2hlIG9mIFJlYWN0IHBvcnRhbHMgKHZpYSBjYWNoZUFQSSkuIENvbnRlbnQgaXMgdGhlbiBcbiAgICBwb3J0YWwnZCB0byBDZWxsRnJhbWVzLiBUaGUgY2FjaGUgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gaG9sZCBtb3JlIGl0ZW1zIHRoYW4gdGhlIENyYWRsZSAobGltaXRlZCBieSBcbiAgICBkZXZpY2UgbWVtb3J5KS4gQ2FjaGluZyBhbGxvd3MgaG9zdCBjb250ZW50IHRvIG1haW50YWluIHN0YXRlLlxuXG4gICAgU2Nyb2xsYmxvY2sgcmVwcmVzZW50cyB0aGUgZW50aXJldHkgb2YgdGhlIGxpc3QgKGFuZCBpcyBzaXplZCBhY2NvcmRpbmdseSkuIEl0IGlzIHRoZSBjb21wb25lbnQgdGhhdCBpcyBzY3JvbGxlZC5cblxuICAgIENyYWRsZSBjb250YWlucyB0aGUgbGlzdCBpdGVtcywgYW5kIGlzICd2aXJ0dWFsaXplZCcgLS0gaXQgYXBwZWFycyBhcyB0aG91Z2ggaXQgc2Nyb2xscyB0aHJvdWdoIGEgZmlsbGVkIFxuICAgIHNjcm9sbGJsb2NrLCBidXQgaW4gZmFjdCBpdCBpcyBvbmx5IHNsaWdodGx5IGxhcmdlciB0aGFuIHRoZSB2aWV3cG9ydC4gQ29udGVudCBpcyByb3RhdGVkIGluIGFuZCBvdXQgb2YgdGhlIFxuICAgIGNyYWRsZSB0aHJvdWdoIHRoZSBjYWNoZS5cbiAgICBcbiAgICBJbmRpdmlkdWFsIGhvc3QgaXRlbXMgYXJlIGZyYW1lZCBieSBDZWxsRnJhbWUsIHdoaWNoIGFyZSBtYW5hZ2VkIGJ5IENyYWRsZS5cblxuICAgIE92ZXJhbGwgdGhlIEluZmluaXRlR3JpZFNjcm9sbGVyIGFzIGEgcGFja2FnZSBtYW5hZ2VzIHRoZSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIG9mIHRoZSBcbiAgICBjb21wb25lbnRzIG9mIHRoZSBtZWNoYW5pc20uIE1vc3Qgb2YgdGhlIHdvcmsgb2NjdXJzIGluIHRoZSBDcmFkbGUgY29tcG9uZW50LlxuXG4gICAgVGhlIFJJR1MgbGluZXIgKHRoZSB0b3AgbGV2ZWwgVmlld3BvcnQgZWxlbWVudCkgaXMgc2V0IHdpdGggJ2Rpc3BsYXk6YWJzb2x1dGUnIGFuZCAnaW5zZXQ6MCcsIHNvIHRoZSB1c2VyIFxuICAgIGNvbnRhaW5pbmcgYmxvY2sgc2hvdWxkIGJlIHN0eWxlZCBhY2NvcmRpbmdseS5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbi8vIGRlZmVuc2l2ZVxuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gJ3JlYWN0LWVycm9yLWJvdW5kYXJ5JyAvLyB3d3cubnBtanMuY29tL3BhY2thZ2UvcmVhY3QtZXJyb3ItYm91bmRhcnlcblxuY29uc3QgaXNTYWZhcmlJT1NGbiA9ICgpID0+IHtcbiAgICBjb25zdFxuICAgICAgICBpc19pb3MgPSAvaVAoYWR8b2R8aG9uZSkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgICAgaXNfc2FmYXJpID0gISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9WZXJzaW9uXFwvW1xcZFxcLl0rLipTYWZhcmkvKVxuICAgIHJldHVybiAoIGlzX2lvcyAmJiBpc19zYWZhcmkgKSBcbn1cblxuZXhwb3J0IGNvbnN0IGlzU2FmYXJpSU9TID0gaXNTYWZhcmlJT1NGbigpXG5cbi8vIGJhc2VkIG9uIG1vZHVsZSB0ZW1wbGF0ZVxuZnVuY3Rpb24gRXJyb3JGYWxsYmFjayh7ZXJyb3IsIHJlc2V0RXJyb3JCb3VuZGFyeX0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJvbGU9XCJhbGVydFwiIHN0eWxlID0ge3ttYXJnaW46JzNweCd9fT5cbiAgICAgIDxwPlNvbWV0aGluZyB3ZW50IHdyb25nIGluc2lkZSByZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLiBTZWUgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMuPC9wPlxuICAgICAgPHA+Q2xpY2sgdG8gY2FuY2VsIHRoZSBlcnJvciBhbmQgdHJ5IHRvIGNvbnRpbnVlLjwvcD5cbiAgICAgIDxidXR0b24gXG4gICAgICAgICAgc3R5bGUgPSB7e2JvcmRlcjonMXB4IHNvbGlkIGJsYWNrJywgbWFyZ2luOiczcHgnLCBwYWRkaW5nOiczcHgnfX0gXG4gICAgICAgICAgb25DbGljayA9IHsgcmVzZXRFcnJvckJvdW5kYXJ5IH1cbiAgICAgID5cbiAgICAgICAgICBDYW5jZWwgZXJyb3JcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbi8vIHNjcm9sbGVyIGNvbXBvbmVudHNcbmltcG9ydCBWaWV3cG9ydCBmcm9tICcuL1ZpZXdwb3J0J1xuaW1wb3J0IFNjcm9sbGJsb2NrIGZyb20gJy4vU2Nyb2xsYmxvY2snXG5pbXBvcnQgQ3JhZGxlIGZyb20gJy4vQ3JhZGxlJ1xuXG4vLyBsb2FkZWQgaGVyZSB0byBtaW5pbWl6ZSByZWR1bmRhbnQgcmVuZGVycyBpbiBDcmFkbGVcbmltcG9ydCBQb3J0YWxDYWNoZSBmcm9tICcuL1BvcnRhbENhY2hlJ1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tWyBnbG9iYWwgc2Vzc2lvbiBJRCBnZW5lcmF0b3IgXS0tLS0tLS0tLS0tLS0tLS1cblxubGV0IGdsb2JhbFNjcm9sbGVySUQgPSAwXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09WyBJTklUSUFMSVpFIF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgSW5maW5pdGVHcmlkU2Nyb2xsZXIgPSAocHJvcHMpID0+IHtcblxuICAgIC8vIHN0YXRlXG4gICAgY29uc3QgW3Njcm9sbGVyU3RhdGUsIHNldFNjcm9sbGVyU3RhdGVdID0gdXNlU3RhdGUoJ3NldHVwJykgLy8gc2V0dXAsIHNldGxpc3Rwcm9wcywgcmVhZHlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVsgbm9ybWFsaXplIHByb3BlcnRpZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBsZXQgeyBcblxuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICBjZWxsSGVpZ2h0LCAvLyByZXF1aXJlZC4gdGhlIG91dGVyIHBpeGVsIGhlaWdodCAtIGxpdGVyYWwgZm9yIHZlcnRpY2FsOyBhcHByb3hpbWF0ZSBmb3IgaG9yaXpvbnRhbFxuICAgICAgICAgICAgLy8gbWF4IGZvciB2YXJpYWJsZSBsYXlvdXRcbiAgICAgICAgY2VsbFdpZHRoLCAvLyByZXF1aXJlZC4gdGhlIG91dGVyIHBpeGVsIHdpZHRoIC0gbGl0ZXJhbCBmb3IgaG9yaXpvbnRhbDsgYXBwcm94aW1hdGUgZm9yIHZlcnRpY2FsXG4gICAgICAgICAgICAvLyBtYXggZm9yIHZhcmlhYmxlIGxheW91dFxuICAgICAgICBzdGFydGluZ0xpc3RTaXplID0gMCwgLy8gdGhlIHN0YXJnaW5nIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgdmlydHVhbCBsaXN0LiBjYW4gYmUgY2hhbmdlZFxuICAgICAgICBzdGFydGluZ0xpc3RSYW5nZSA9IFtdLCAvLyBzdXBlcmNlZGVzIHN0YXJ0aW5nTGlzdFNpemUgaWYgcHJlc2VudFxuICAgICAgICBnZXRJdGVtLCAvLyByZXF1aXJlZC4gZnVuY3Rpb24gcHJvdmlkZWQgYnkgaG9zdCAtIHBhcmFtZXRlcnMgc2V0IGJ5IHN5c3RlbSBhcmUgaW5kZXggbnVtYmVyXG4gICAgICAgICAgICAvLyBhbmQgc2Vzc2lvbiBpdGVtSUQgZm9yIHRyYWNraW5nIGFuZCBtYXRjaGluZzsgXG4gICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaG9zdC1zZWxlY3RlZCBjb21wb25lbnQgb3IgcHJvbWlzZSBvZiBhIGNvbXBvbmVudCwgb3IgbnVsbCBvciB1bmRlZmluZWRcblxuICAgICAgICAvLyBncmlkIHNwZWNzOlxuICAgICAgICBvcmllbnRhdGlvbiA9ICd2ZXJ0aWNhbCcsIC8vIHZlcnRpY2FsIG9yIGhvcml6b250YWxcbiAgICAgICAgZ2FwID0gMCwgLy8gc3BhY2UgYmV0d2VlbiBncmlkIGNlbGxzXG4gICAgICAgIHBhZGRpbmcgPSAwLCAvLyB0aGUgcGFkZGluZyBhcm91bmQgdGhlIFNjcm9sbGJsb2NrXG4gICAgICAgIGxheW91dCA9ICd1bmlmb3JtJywgLy8gdW5pZm9ybSwgdmFyaWFibGVcbiAgICAgICAgY2VsbE1pbkhlaWdodCA9IDI1LCAvLyBmb3IgbGF5b3V0ID09ICd2YXJpYWJsZScgJiYgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJ1xuICAgICAgICBjZWxsTWluV2lkdGggPSAyNSwgLy8gZm9yIGxheW91dCA9PSAndmFyaWFibGUnICYmIG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJ1xuXG4gICAgICAgIC8vIHNjcm9sbGVyIHNwZWNzOlxuICAgICAgICBydW53YXlTaXplID0gMywgLy8gdGhlIG51bWJlciBvZiByb3dzIG91dHNpZGUgdGhlIHZpZXcgb2YgZWFjaCBzaWRlIG9mIHRoZSB2aWV3cG9ydCBcbiAgICAgICAgICAgIC8vIC0tIGdpdmVzIHRpbWUgdG8gYXNzZW1ibGUgY2VsbEZyYW1lcyBiZWZvcmUgZGlzcGxheVxuICAgICAgICBzdGFydGluZ0luZGV4ID0gMCwgLy8gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBsaXN0LCB3aGVuIGZpcnN0IGxvYWRlZFxuICAgICAgICBnZXRFeHBhbnNpb25Db3VudCwgLy8gb3B0aW9uYWwsIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGhvc3QsIHJldHVybnMgdGhlIG51bWJlciBvZiBpbmRleGVzIHRvIGFkZCB0b1xuICAgICAgICAgICAgLy8gdGhlIHZpcnR1YWwgbGlzdCB3aGVuIHRoZSBzY3JvbGxlciBoaXRzIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGxpc3RcblxuICAgICAgICAvLyBzeXN0ZW0gc3BlY3M6XG4gICAgICAgIGNhY2hlID0gJ2NyYWRsZScsIC8vIFwicHJlbG9hZFwiLCBcImtlZXBsb2FkXCIgb3IgXCJjcmFkbGVcIlxuICAgICAgICBjYWNoZU1heCA9IG51bGwsIC8vIGFsd2F5cyBtaW5pbXVtIGNyYWRsZSBjb250ZW50IHNpemU7IGZhbHNleSBtZWFucyBsaW1pdGVkIGJ5IGxpc3RzaXplXG4gICAgICAgIHBsYWNlaG9sZGVyLCAvLyBvcHRpb25hbC4gYSBzcGFyc2UgY29tcG9uZW50IHRvIHN0YW5kIGluIGZvciBjb250ZW50IHVudGlsIHRoZSBjb250ZW50IGFycml2ZXM7IFxuICAgICAgICAgICAgLy8gcmVwbGFjZXMgZGVmYXVsdCBwbGFjZWhvbGRlciBpZiBwcmVzZW50XG4gICAgICAgIHVzZVBsYWNlaG9sZGVyID0gdHJ1ZSwgLy8gbm8gcGxhY2Vob2xkZXIgcmVuZGVyZWQgaWYgZmFsc2VcbiAgICAgICAgdXNlU2Nyb2xsVHJhY2tlciA9IHRydWUsIC8vIHRoZSBpbnRlcm5hbCBjb21wb25lbnQgdG8gZ2l2ZSBmZWVkYmFjayBmb3IgcmVwb3NpdGlvbmluZ1xuXG4gICAgICAgIC8vIGFkdmFuY2VkIG9iamVjdHNcbiAgICAgICAgc3R5bGVzID0ge30sIC8vIG9wdGlvbmFsLiBwYXNzaXZlIHN0eWxlIG92ZXItcmlkZXMgKGVnLiBjb2xvciwgb3BhY2l0eSk7IGhhcyBcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgdmlld3BvcnQsIHNjcm9sbGJsb2NrLCBjcmFkbGUsIHNjcm9sbHRyYWNrZXIsIHBsYWNlaG9sZGVyZnJhbWUsIFxuICAgICAgICAgICAgLy8gcGxhY2Vob2xkZXJlcnJvcmZyYW1lLCBwbGFjZWhvbGRlcmxpbmVyIG9yIHBsYWNlaG9sZGVyZXJyb3JsaW5lci4gRG8gbm90IG1ha2Ugc3RydWN0dXJhbCBjaGFuZ2VzIVxuICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzID0ge30sIC8vIG1lc3NhZ2VzIHByZXNlbnRlZCBieSBkZWZhdWx0IHBsYWNlaG9sZGVyLiBTZWUgZG9jdW1lbnRhdGlvblxuICAgICAgICBjYWxsYmFja3MgPSB7fSwgLy8gb3B0aW9uYWwuIGNsb3N1cmVzIHRvIGdldCBkaXJlY3QgaW5mb3JtYXRpb24gc3RyZWFtcyBvZiBzb21lIGNvbXBvbmVudCB1dGlsaXRlc1xuICAgICAgICAgICAgLy8gY2FuIGNvbnRhaW4gZnVuY3Rpb25zQ2FsbGJhY2ssIHdoaWNoIHByb3ZpZGVzIGFjY2VzcyB0byBpbnRlcm5hbCBzY3JvbGxlciBmdW5jdGlvbnMgXG4gICAgICAgICAgICAvLyhtb3N0bHkgY2FjaGUgbWFuYWdlbWVudClcbiAgICAgICAgdGVjaG5pY2FsID0ge30sIC8vIG9wdGlvbmFsLiB0ZWNobmljYWwgc2V0dGluZ3MgbGlrZSBWSUVXUE9SVF9SRVNJWkVfVElNRU9VVFxuICAgICAgICBjYWNoZUFQSSA9IG51bGwsXG4gICAgICAgIGRyYWdkcm9wUHJvcGVydGllcywgLy8gcGxhY2Vob2xkZXIhXG5cbiAgICAgICAgLy8gaW5mb3JtYXRpb24gZm9yIGhvc3QgY2VsbCBjb250ZW50XG4gICAgICAgIHNjcm9sbGVyUHJvcGVydGllcywgLy8gcmVxdWlyZWQgZm9yIGVtYmVkZGVkIHNjcm9sbGVyOyBzaGFyZXMgc2Nyb2xsZXIgc2V0dGluZ3Mgd2l0aCBjb250ZW50XG5cbiAgICB9ID0gcHJvcHNcblxuICAgIGxldCBpc01pbmltYWxQcm9wc0ZhaWwgPSBmYWxzZVxuICAgIGlmICghKGNlbGxXaWR0aCAmJiBjZWxsSGVpZ2h0ICYmIGdldEl0ZW0gKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnUklHUzogY2VsbFdpZHRoLCBjZWxsSGVpZ2h0LCBhbmQgZ2V0SXRlbSBhcmUgcmVxdWlyZWQnKVxuICAgICAgICBpc01pbmltYWxQcm9wc0ZhaWwgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBEYXRhIHNldHVwIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlcyA9IHtcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBjZWxsTWluSGVpZ2h0LFxuICAgICAgICBjZWxsTWluV2lkdGgsXG4gICAgICAgIC8vIGdhcCxcbiAgICAgICAgc3RhcnRpbmdJbmRleCxcbiAgICAgICAgc3RhcnRpbmdMaXN0U2l6ZSxcbiAgICAgICAgcnVud2F5U2l6ZSxcbiAgICAgICAgY2FjaGVNYXgsXG4gICAgfVxuXG4gICAgLy8gYXZvaWQgbnVsbC91bmRlZmluZWRcbiAgICBzdHlsZXMgPSBzdHlsZXMgPz8ge31cbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3MgPz8ge31cbiAgICB0ZWNobmljYWwgPSB0ZWNobmljYWwgPz8ge31cbiAgICBzdGFydGluZ0luZGV4ID0gc3RhcnRpbmdJbmRleCA/PyAwXG4gICAgc3RhcnRpbmdMaXN0U2l6ZSA9IHN0YXJ0aW5nTGlzdFNpemUgPz8gMFxuICAgIHJ1bndheVNpemUgPSBydW53YXlTaXplID8/IDNcbiAgICB1c2VQbGFjZWhvbGRlciA9IHVzZVBsYWNlaG9sZGVyID8/IHRydWVcbiAgICB1c2VTY3JvbGxUcmFja2VyID0gdXNlU2Nyb2xsVHJhY2tlciA/PyB0cnVlXG4gICAgY2VsbE1pbkhlaWdodCA9IGNlbGxNaW5IZWlnaHQgPz8gMFxuICAgIGNlbGxNaW5XaWR0aCA9IGNlbGxNaW5XaWR0aCA/PyAwXG4gICAgY2FjaGVNYXggPSBjYWNoZU1heCA/PyAwXG5cbiAgICBjZWxsSGVpZ2h0ID0gK2NlbGxIZWlnaHRcbiAgICBjZWxsV2lkdGggPSArY2VsbFdpZHRoXG4gICAgY2VsbE1pbkhlaWdodCA9ICtjZWxsTWluSGVpZ2h0XG4gICAgY2VsbE1pbldpZHRoID0gK2NlbGxNaW5XaWR0aFxuICAgIC8vIGdhcCA9ICtnYXBcbiAgICBjb25zdCBwYWRkaW5nUHJvcHNSZWYgPSB1c2VSZWYoe1xuICAgICAgICB0b3A6bnVsbCxcbiAgICAgICAgcmlnaHQ6bnVsbCxcbiAgICAgICAgYm90dG9tOm51bGwsXG4gICAgICAgIGxlZnQ6bnVsbCxcbiAgICAgICAgc291cmNlOm51bGwsXG4gICAgICAgIG9yaWdpbmFsOm51bGwsXG4gICAgICAgIGxpc3Q6W10sXG4gICAgICAgIENTUzonJyxcbiAgICB9KVxuICAgIGxldCBwYWRkaW5nUHJvcHMgPSBwYWRkaW5nUHJvcHNSZWYuY3VycmVudFxuICAgIGlmIChTdHJpbmcocHJvcHMucGFkZGluZykgIT09IFN0cmluZyhwYWRkaW5nUHJvcHMuc291cmNlKSkge1xuICAgICAgICBwYWRkaW5nUHJvcHMuc291cmNlID0gcHJvcHMucGFkZGluZ1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFkZGluZykpIHtcbiAgICAgICAgICAgIHBhZGRpbmcgPSArcGFkZGluZ1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYWRkaW5nKSkge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5vcmlnaW5hbCA9IFtwYWRkaW5nXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMub3JpZ2luYWwgPSBbMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpc1Byb2JsZW0gPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHBhZGRpbmcubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgIGlzUHJvYmxlbSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQcm9ibGVtKSBwYWRkaW5nLmZvckVhY2goKHZhbHVlLGluZGV4LGxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUHJvYmxlbSA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKCFpc1Byb2JsZW0pIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMub3JpZ2luYWwgPSBwYWRkaW5nXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5vcmlnaW5hbCA9IFswXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3QgPSBbLi4ucGFkZGluZ1Byb3BzLm9yaWdpbmFsXVxuICAgICAgICBwYWRkaW5nUHJvcHMuQ1NTID0gbGlzdC5qb2luKCdweCAnKSArICdweCdcbiAgICAgICAgY29uc3QgbGd0aCA9IGxpc3QubGVuZ3RoXG4gICAgICAgIGxldCBhLGIsY1xuICAgICAgICBzd2l0Y2ggKGxndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgW2FdID0gbGlzdCAvLyB0L2Ivci9sXG4gICAgICAgICAgICBsaXN0LnB1c2goYSxhLGEpIC8vcixiLGxcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIFthLGJdID0gbGlzdCAvLyB0L2IsIHIvbFxuICAgICAgICAgICAgbGlzdC5wdXNoKGEsYikgLy9iLGxcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgW2EsYl0gPSBsaXN0IC8vIHQsIHIvbCwgYlxuICAgICAgICAgICAgbGlzdC5wdXNoKGIpIC8vbFxuICAgICAgICB9XG4gICAgICAgIHBhZGRpbmdQcm9wcy5saXN0ID0gbGlzdFxuICAgICAgICBjb25zdCBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XSA9IGxpc3RcbiAgICAgICAgT2JqZWN0LmFzc2lnbihwYWRkaW5nUHJvcHMse3RvcDordG9wLHJpZ2h0OityaWdodCxib3R0b206K2JvdHRvbSxsZWZ0OitsZWZ0fSkgLy8gYXNzdXJlIG51bWVyaWNcbiAgICAgICAgcGFkZGluZ1Byb3BzUmVmLmN1cnJlbnQgPSBwYWRkaW5nUHJvcHMgPSB7Li4ucGFkZGluZ1Byb3BzfSAvLyBzaWduYWwgY2hhbmdlIHRvIFJlYWN0XG4gICAgfVxuICAgIGNvbnN0IGdhcFByb3BzUmVmID0gdXNlUmVmKHtcbiAgICAgICAgY29sdW1uOm51bGwsXG4gICAgICAgIHJvdzpudWxsLFxuICAgICAgICBzb3VyY2U6bnVsbCxcbiAgICAgICAgb3JpZ2luYWw6bnVsbCxcbiAgICAgICAgbGlzdDpbXSxcbiAgICAgICAgQ1NTOicnLFxuICAgIH0pXG4gICAgbGV0IGdhcFByb3BzID0gZ2FwUHJvcHNSZWYuY3VycmVudFxuICAgIGlmIChTdHJpbmcocHJvcHMuZ2FwKSAhPT0gU3RyaW5nKGdhcFByb3BzLnNvdXJjZSkpIHtcbiAgICAgICAgZ2FwUHJvcHMuc291cmNlID0gcHJvcHMuZ2FwXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShnYXApKSB7XG4gICAgICAgICAgICBnYXAgPSArZ2FwXG4gICAgICAgICAgICBpZiAoIWlzTmFOKGdhcCkpIHtcbiAgICAgICAgICAgICAgICBnYXBQcm9wcy5vcmlnaW5hbCA9IFtnYXBdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdhcFByb3BzLm9yaWdpbmFsID0gWzBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaXNQcm9ibGVtID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChnYXAubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIGlzUHJvYmxlbSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQcm9ibGVtKSBnYXAuZm9yRWFjaCgodmFsdWUsaW5kZXgsbGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNQcm9ibGVtID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAoIWlzUHJvYmxlbSkge1xuICAgICAgICAgICAgICAgIGdhcFByb3BzLm9yaWdpbmFsID0gZ2FwXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdhcFByb3BzLm9yaWdpbmFsID0gWzBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdCA9IFsuLi5nYXBQcm9wcy5vcmlnaW5hbF1cbiAgICAgICAgZ2FwUHJvcHMuQ1NTID0gbGlzdC5qb2luKCdweCAnKSArICdweCdcbiAgICAgICAgY29uc3QgbGd0aCA9IGxpc3QubGVuZ3RoXG4gICAgICAgIGxldCBhXG4gICAgICAgIGlmIChsZ3RoID09IDEpIHtcbiAgICAgICAgICAgIFthXSA9IGxpc3QgLy8gdC9iL3IvbFxuICAgICAgICAgICAgbGlzdC5wdXNoKGEpIC8vcixiLGxcbiAgICAgICAgfVxuICAgICAgICBnYXBQcm9wcy5saXN0ID0gbGlzdFxuICAgICAgICBjb25zdCBbY29sdW1uLCByb3ddID0gbGlzdFxuICAgICAgICBPYmplY3QuYXNzaWduKGdhcFByb3BzLHtjb2x1bW46K2NvbHVtbixyb3c6K3Jvd30pIC8vIGFzc3VyZSBudW1lcmljXG4gICAgICAgIGdhcFByb3BzUmVmLmN1cnJlbnQgPSBnYXBQcm9wcyA9IHsuLi5nYXBQcm9wc30gLy8gc2lnbmFsIGNoYW5nZSB0byBSZWFjdFxuICAgIH1cbiAgICBzdGFydGluZ0luZGV4ID0gK3N0YXJ0aW5nSW5kZXhcbiAgICBzdGFydGluZ0xpc3RTaXplID0gK3N0YXJ0aW5nTGlzdFNpemVcbiAgICBydW53YXlTaXplID0gK3J1bndheVNpemVcbiAgICBjYWNoZU1heCA9ICtjYWNoZU1heFxuXG4gICAgY29uc3QgdmVyaWZpZWRWYWx1ZXMgPSB7XG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICAvLyBnYXAsXG4gICAgICAgIHN0YXJ0aW5nSW5kZXgsXG4gICAgICAgIHN0YXJ0aW5nTGlzdFNpemUsXG4gICAgICAgIHJ1bndheVNpemUsXG4gICAgICAgIGNhY2hlTWF4LCAgICAgICAgXG4gICAgfVxuXG4gICAgY2VsbE1pbkhlaWdodCA9IE1hdGgubWF4KGNlbGxNaW5IZWlnaHQsIDI1KVxuICAgIGNlbGxNaW5XaWR0aCA9IE1hdGgubWF4KGNlbGxNaW5XaWR0aCwgMjUpXG4gICAgY2VsbE1pbkhlaWdodCA9IE1hdGgubWluKGNlbGxIZWlnaHQsIGNlbGxNaW5IZWlnaHQpXG4gICAgY2VsbE1pbldpZHRoID0gTWF0aC5taW4oY2VsbFdpZHRoLCBjZWxsTWluV2lkdGgpXG5cbiAgICAvLyBwcm9wIGNvbnN0cmFpbnRzIC0gbm9uLW5lZ2F0aXZlIHZhbHVlc1xuICAgIHJ1bndheVNpemUgPSBNYXRoLm1heCgxLHJ1bndheVNpemUpIC8vIHJ1bndheXNpemUgbXVzdCBiZSBhdCBsZWFzdCAxXG4gICAgc3RhcnRpbmdMaXN0U2l6ZSA9IE1hdGgubWF4KDAsc3RhcnRpbmdMaXN0U2l6ZSlcbiAgICBzdGFydGluZ0luZGV4ID0gTWF0aC5tYXgoMCxzdGFydGluZ0luZGV4KVxuXG4gICAgLy8gcGFja2FnZVxuICAgIGxldCBwcm9ibGVtcyA9IDBcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdmVyaWZpZWRWYWx1ZXMpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZlcmlmaWVkVmFsdWVzW3Byb3BdKSkge1xuICAgICAgICAgICAgcHJvYmxlbXMrK1xuICAgICAgICB9IFxuICAgIH1cblxuICAgIGlmIChwcm9ibGVtcykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjogaW52YWxpZCBudW1iZXIgLSBjb21wYXJlIG9yaWdpbmFsVmFsdWVzIGFuZCB2ZXJpZmllZFZhbHVlcycsIFxuICAgICAgICAgICAgb3JpZ2luYWxWYWx1ZXMsIHZlcmlmaWVkVmFsdWVzKVxuICAgIH1cblxuICAgIC8vIHJhdGlvbmFsaXplIHN0YXJ0aW5nTGlzdHNpemUgYW5kIHN0YXJ0aW5nTGlzdFJhbmdlXG4gICAgaWYgKCFwcm9ibGVtcyAmJiBzY3JvbGxlclN0YXRlID09ICdzZXR1cCcpIHtcblxuICAgICAgICBsZXQgZ29vZHJhbmdlID0gdHJ1ZVxuICAgICAgICBpZiAoIXN0YXJ0aW5nTGlzdFJhbmdlIHx8IFxuICAgICAgICAgICAgIUFycmF5LmlzQXJyYXkoc3RhcnRpbmdMaXN0UmFuZ2UpIHx8IFxuICAgICAgICAgICAgISgoc3RhcnRpbmdMaXN0UmFuZ2UubGVuZ3RoID09IDIpIHx8IChzdGFydGluZ0xpc3RSYW5nZS5sZW5ndGggPT0gMCkpKSB7XG4gICAgICAgICAgICBnb29kcmFuZ2UgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmIChnb29kcmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGluZ0xpc3RSYW5nZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGlzdFNpemUgPSAwXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBbbG93aW5kZXgsaGlnaGluZGV4XSA9IHN0YXJ0aW5nTGlzdFJhbmdlXG4gICAgICAgICAgICAgICAgbG93aW5kZXggPSArbG93aW5kZXhcbiAgICAgICAgICAgICAgICBoaWdoaW5kZXggPSAraGlnaGluZGV4XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGxvd2luZGV4KSB8fCBpc05hTihoaWdoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdvb2RyYW5nZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb3dpbmRleCA+IGhpZ2hpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBnb29kcmFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ29vZHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGlzdFNpemUgPSBoaWdoaW5kZXggLSBsb3dpbmRleCArIDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnb29kcmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGluZ0xpc3RTaXplICYmICghaXNOYU4oc3RhcnRpbmdMaXN0U2l6ZSkpKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRpbmdMaXN0UmFuZ2UgPSBbMCxzdGFydGluZ0xpc3RTaXplIC0gMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnRpbmdMaXN0UmFuZ2UgPSBbXVxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nTGlzdFNpemUgPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlbnVtc1xuICAgIGlmICghWydob3Jpem9udGFsJywndmVydGljYWwnXS5pbmNsdWRlcyhvcmllbnRhdGlvbikpIHsgXG4gICAgICAgIG9yaWVudGF0aW9uID0gJ3ZlcnRpY2FsJ1xuICAgIH1cbiAgICBpZiAoIVsncHJlbG9hZCcsJ2tlZXBsb2FkJywnY3JhZGxlJ10uaW5jbHVkZXMoY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlID0gJ2NyYWRsZSdcbiAgICB9XG4gICAgaWYgKCFbJ3VuaWZvcm0nLCAndmFyaWFibGUnXS5pbmNsdWRlcyhsYXlvdXQpKSB7XG4gICAgICAgIGxheW91dCA9ICd1bmlmb3JtJ1xuICAgIH1cblxuICAgIGNvbnN0IGdyaWRTcGVjcyA9IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIC8vIGdhcCxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBjZWxsTWluSGVpZ2h0LFxuICAgICAgICBjZWxsTWluV2lkdGgsXG4gICAgICAgIGxheW91dCxcbiAgICB9XG5cbiAgICBjb25zdCBncmlkU3BlY3NSZWYgPSB1c2VSZWYoZ3JpZFNwZWNzKVxuXG4gICAgLy8gc3lzdGVtXG4gICAgY29uc3QgXG4gICAgICAgIHN0eWxlc1JlZiA9IHVzZVJlZihzdHlsZXMpLFxuICAgICAgICBjYWxsYmFja3NSZWYgPSB1c2VSZWYoY2FsbGJhY2tzKSxcbiAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlc1JlZiA9IHVzZVJlZihwbGFjZWhvbGRlck1lc3NhZ2VzKVxuXG4gICAgbGV0IHtcblxuICAgICAgICBzaG93QXhpcywgLy8gYm9vbGVhbjsgYXhpcyBjYW4gYmUgbWFkZSB2aXNpYmxlIGZvciBkZWJ1Z1xuICAgICAgICB0cmlnZ2VybGluZU9mZnNldCwgLy8gZGlzdGFuY2UgZnJvbSBjZWxsIGhlYWQgb3IgdGFpbCBmb3IgY29udGVudCBzaGlmdHMgYWJvdmUvYmVsb3cgYXhpc1xuICAgICAgICAvLyB0aW1lb3V0c1xuICAgICAgICBWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCxcbiAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULFxuICAgICAgICBJRExFQ0FMTEJBQ0tfVElNRU9VVCxcbiAgICAgICAgVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQsXG4gICAgICAgIC8vIHJhdGlvczpcbiAgICAgICAgTUFYX0NBQ0hFX09WRVJfUlVOLCAvLyBtYXggc3RyZWFtaW5nIG92ZXItcnVuIGFzIHJhdGlvIHRvIGNhY2hlTWF4XG4gICAgICAgIENBQ0hFX1BBUlRJVElPTl9TSVpFLCBcblxuICAgIH0gPSB0ZWNobmljYWxcblxuICAgIFZJRVdQT1JUX1JFU0laRV9USU1FT1VUID0gVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQgPz8gMjUwXG4gICAgT05BRlRFUlNDUk9MTF9USU1FT1VUID0gT05BRlRFUlNDUk9MTF9USU1FT1VUID8/IDEwMFxuICAgIElETEVDQUxMQkFDS19USU1FT1VUID0gSURMRUNBTExCQUNLX1RJTUVPVVQgPz8gMjUwXG4gICAgVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQgPSBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCA/PyAyNTBcbiAgICBcbiAgICBNQVhfQ0FDSEVfT1ZFUl9SVU4gPSBNQVhfQ0FDSEVfT1ZFUl9SVU4gPz8gMS41XG4gICAgQ0FDSEVfUEFSVElUSU9OX1NJWkUgPSBDQUNIRV9QQVJUSVRJT05fU0laRSA/PyAzMFxuXG4gICAgaWYgKHR5cGVvZiBzaG93QXhpcyAhPSAnYm9vbGVhbicpIHNob3dBeGlzID0gZmFsc2VcblxuICAgIHRyaWdnZXJsaW5lT2Zmc2V0ID0gdHJpZ2dlcmxpbmVPZmZzZXQgPz8gMTBcblxuICAgIGlmICh0eXBlb2YgdXNlUGxhY2Vob2xkZXIgIT0gJ2Jvb2xlYW4nKSB1c2VQbGFjZWhvbGRlciA9IHRydWVcbiAgICBpZiAodHlwZW9mIHVzZVNjcm9sbFRyYWNrZXIgIT0gJ2Jvb2xlYW4nKSB1c2VTY3JvbGxUcmFja2VyID0gdHJ1ZVxuXG4gICAgLy8gZm9yIG1vdW50IHZlcnNpb25cbiAgICBjb25zdCBcbiAgICAgICAgc2Nyb2xsZXJTZXNzaW9uSURSZWYgPSB1c2VSZWYobnVsbCksXG4gICAgICAgIHNjcm9sbGVySUQgPSBzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50LFxuXG4gICAgICAgIC8vIGZvciBjaGlsZHJlblxuICAgICAgICBjYWNoZUFQSVJlZiA9IHVzZVJlZihjYWNoZUFQSSksXG5cbiAgICAgICAgdXBkYXRlRnVuY3Rpb25SZWYgPSB1c2VSZWYobnVsbCksXG5cbiAgICAgICAgbGlzdFNpemVSZWYgPSB1c2VSZWYoc3RhcnRpbmdMaXN0U2l6ZSksXG4gICAgICAgIGxpc3RSYW5nZVJlZiA9IHVzZVJlZihzdGFydGluZ0xpc3RSYW5nZSksXG5cbiAgICAgICAgbGlzdHNpemUgPSBsaXN0U2l6ZVJlZi5jdXJyZW50LFxuICAgICAgICBsaXN0cmFuZ2UgPSBsaXN0UmFuZ2VSZWYuY3VycmVudCxcbiAgICAgICAgW2xvd2xpc3RyYW5nZSwgaGlnaGxpc3RyYW5nZV0gPSBsaXN0cmFuZ2UsIC8vIHJhbmdlcyB1bmRlZmluZWQgaWYgbGlzdHJhbmdlIGxlbmd0aCBpcyAwXG5cbiAgICAgICAgdmlydHVhbExpc3RTcGVjcyA9IHtcbiAgICAgICAgICAgIHNpemU6bGlzdHNpemUsXG4gICAgICAgICAgICByYW5nZTpsaXN0cmFuZ2UsXG4gICAgICAgICAgICBsb3dpbmRleDpsb3dsaXN0cmFuZ2UsXG4gICAgICAgICAgICBoaWdoaW5kZXg6aGlnaGxpc3RyYW5nZSxcbiAgICAgICAgfSxcblxuICAgICAgICB2aXJ0dWFsTGlzdFNwZWNzUmVmID0gdXNlUmVmKHZpcnR1YWxMaXN0U3BlY3MpXG5cbiAgICBpZiAoIWNvbXBhcmVQcm9wcyh2aXJ0dWFsTGlzdFNwZWNzLCB2aXJ0dWFsTGlzdFNwZWNzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIHZpcnR1YWxMaXN0U3BlY3NSZWYuY3VycmVudCA9IHZpcnR1YWxMaXN0U3BlY3NcbiAgICB9XG5cbiAgICAvLyB0ZXN0cyBmb3IgUmVhY3Qgd2l0aCBPYmplY3QuaXMgZm9yIGNoYW5nZWQgcHJvcGVydGllczsgYXZvaWQgcmUtcmVuZGVycyB3aXRoIG5vIGNoYW5nZVxuICAgIGlmICghY29tcGFyZVByb3BzKGdyaWRTcGVjcywgZ3JpZFNwZWNzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgIGdyaWRTcGVjc1JlZi5jdXJyZW50ID0gZ3JpZFNwZWNzXG4gICAgfVxuXG4gICAgaWYgKCFjb21wYXJlUHJvcHMoc3R5bGVzLCBzdHlsZXNSZWYuY3VycmVudCkpIHtcbiAgICAgICAgc3R5bGVzUmVmLmN1cnJlbnQgPSBzdHlsZXNcbiAgICB9XG4gICAgaWYgKCFjb21wYXJlUHJvcHMoY2FsbGJhY2tzLCBjYWxsYmFja3NSZWYuY3VycmVudCkpIHtcbiAgICAgICAgY2FsbGJhY2tzUmVmLmN1cnJlbnQgPSBjYWxsYmFja3NcbiAgICB9XG4gICAgaWYgKCFjb21wYXJlUHJvcHMocGxhY2Vob2xkZXJNZXNzYWdlcywgcGxhY2Vob2xkZXJNZXNzYWdlc1JlZi5jdXJyZW50KSkge1xuICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzUmVmLmN1cnJlbnQgPSBwbGFjZWhvbGRlck1lc3NhZ2VzXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgSW5pdGlhbGl6YXRpb24gXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IGdldENhY2hlQVBJID0gKGNhY2hlQVBJKSA9PiB7XG5cbiAgICAgICAgY2FjaGVBUElSZWYuY3VycmVudCA9IGNhY2hlQVBJXG5cbiAgICB9XG5cbiAgICBjb25zdCBnZXRVcGRhdGVGdW5jdGlvbiA9IChmbikgPT4ge1xuXG4gICAgICAgIHVwZGF0ZUZ1bmN0aW9uUmVmLmN1cnJlbnQgPSBmblxuXG4gICAgfVxuXG4gICAgY29uc3QgdXNlTG9jYWxDYWNoZSA9ICFjYWNoZUFQSVxuXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWVcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIHVzZUVmZmVjdCAoKCkgPT4ge1xuXG4gICAgICAgIGlmIChzY3JvbGxlclNlc3Npb25JRFJlZi5jdXJyZW50ID09PSBudWxsKSB7IC8vIGRlZmVuZCBhZ2FpbnN0IFJlYWN0LlN0cmljdE1vZGUgZG91YmxlIHJ1blxuICAgICAgICAgICAgc2Nyb2xsZXJTZXNzaW9uSURSZWYuY3VycmVudCA9IGdsb2JhbFNjcm9sbGVySUQrK1xuICAgICAgICB9XG5cbiAgICB9LFtdKTtcblxuICAgIGNvbnN0IHNldFZpcnR1YWxMaXN0UmFuZ2UgPSB1c2VDYWxsYmFjaygobGlzdHJhbmdlKSA9PntcblxuICAgICAgICBsZXQgbGlzdHNpemVcbiAgICAgICAgaWYgKGxpc3RyYW5nZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgbGlzdHNpemUgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBbbG93cmFuZ2UsIGhpZ2hyYW5nZV0gPSBsaXN0cmFuZ2VcbiAgICAgICAgICAgIGxpc3RzaXplID0gaGlnaHJhbmdlIC0gbG93cmFuZ2UgKyAxXG4gICAgICAgIH1cblxuICAgICAgICBsaXN0U2l6ZVJlZi5jdXJyZW50ID0gbGlzdHNpemVcbiAgICAgICAgbGlzdFJhbmdlUmVmLmN1cnJlbnQgPSBsaXN0cmFuZ2VcblxuICAgICAgICAvLyBpbmZvcm0gdGhlIHVzZXJcbiAgICAgICAgY2FsbGJhY2tzUmVmLmN1cnJlbnQuY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2sgJiYgXG4gICAgICAgICAgICBjYWxsYmFja3NSZWYuY3VycmVudC5jaGFuZ2VMaXN0UmFuZ2VDYWxsYmFjayhsaXN0cmFuZ2UpXG5cbiAgICAgICAgc2V0U2Nyb2xsZXJTdGF0ZSgnc2V0bGlzdHByb3BzJylcblxuICAgIH0sW10pXG5cbiAgICAvLyBjYWxsZWQgd2hlbiBnZXRJdGVtIHJldHVybnMgbnVsbCwgb3IgZGlyZWN0IGNhbGwgZnJvbSB1c2VyIChzZWUgc2VydmljZUhhbmRsZXIpXG4gICAgY29uc3Qgc2V0VmlydHVhbExpc3RTaXplID0gdXNlQ2FsbGJhY2soKGxpc3RzaXplKSA9PntcblxuICAgICAgICBsZXQgbGlzdHJhbmdlID0gbGlzdFJhbmdlUmVmLmN1cnJlbnRcbiAgICAgICAgaWYgKGxpc3RzaXplID09IDApIHtcbiAgICAgICAgICAgIGxpc3RyYW5nZSA9IFtdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobGlzdHJhbmdlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGlzdHJhbmdlID0gWzAsbGlzdHNpemUgLSAxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbG93aW5kZXgvKixoaWdoaW5kZXgqL10gPSBsaXN0UmFuZ2VSZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIGxpc3RyYW5nZSA9IFtsb3dpbmRleCxsb3dpbmRleCArIGxpc3RzaXplIC0gMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3RTaXplUmVmLmN1cnJlbnQgPSBsaXN0c2l6ZVxuICAgICAgICBsaXN0UmFuZ2VSZWYuY3VycmVudCA9IGxpc3RyYW5nZVxuXG4gICAgICAgIC8vIGluZm9ybSB0aGUgdXNlclxuICAgICAgICBjYWxsYmFja3NSZWYuY3VycmVudC5jaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrICYmIFxuICAgICAgICAgICAgY2FsbGJhY2tzUmVmLmN1cnJlbnQuY2hhbmdlTGlzdFNpemVDYWxsYmFjayhsaXN0c2l6ZSlcblxuICAgICAgICBzZXRTY3JvbGxlclN0YXRlKCdzZXRsaXN0cHJvcHMnKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU3RhdGUgaGFuZGxpbmcgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgaXRlbVNldFJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgICAgICBzd2l0Y2ggKHNjcm9sbGVyU3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOlxuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgY2FjaGVBUEkgd2l0aCBmYWNhZGUgd2hpY2ggaW5jbHVkZXMgaGlkZGVuIHNjcm9sbGVySURcbiAgICAgICAgICAgICAgICBjYWNoZUFQSVJlZi5jdXJyZW50ID0gY2FjaGVBUElSZWYuY3VycmVudC5yZWdpc3RlclNjcm9sbGVyKHNjcm9sbGVyU2Vzc2lvbklEUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgaXRlbVNldFJlZi5jdXJyZW50ID0gY2FjaGVBUElSZWYuY3VycmVudC5pdGVtU2V0IC8vIGZvciB1bm1vdW50IHVuUmVnaXN0ZXJTY3JvbGxlclxuXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUZ1bmN0aW9uUmVmLmN1cnJlbnQpIHsgLy8gb2J0YWluZWQgZnJvbSBQb3J0YWxDYWNoZVxuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQVBJUmVmLmN1cnJlbnQucGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlID0gdXBkYXRlRnVuY3Rpb25SZWYuY3VycmVudFxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzZXRsaXN0cHJvcHMnOlxuICAgICAgICAgICAgICAgIHNldFNjcm9sbGVyU3RhdGUoJ3JlYWR5JylcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVBUElSZWYuY3VycmVudC51blJlZ2lzdGVyU2Nyb2xsZXIoaXRlbVNldFJlZi5jdXJyZW50KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfSxbc2Nyb2xsZXJTdGF0ZV0pXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVsgUmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGlmIChwcm9ibGVtcyB8fCBpc01pbmltYWxQcm9wc0ZhaWwpIHtcbiAgICAgICAgcmV0dXJuIDxkaXY+ZXJyb3I6IHNlZSBjb25zb2xlLjwvZGl2PiAgICAgICAgXG4gICAgfVxuXG4gICAgLy8gY29tcG9uZW50IGNhbGxzIGFyZSBkZWZlcnJlZCBieSBzY3JvbGxlclN0YXRlIHRvIGdpdmUgY2FjaGVBUEkgYSBjaGFuY2UgdG8gaW5pdGlhbGl6ZVxuICAgIHJldHVybiA8RXJyb3JCb3VuZGFyeVxuICAgICAgICBGYWxsYmFja0NvbXBvbmVudD0geyBFcnJvckZhbGxiYWNrIH1cbiAgICAgICAgLy8gZWxhYm9yYXRpb24gVEJEXG4gICAgICAgIG9uUmVzZXQgPSB7ICgpID0+IHt9IH1cbiAgICAgICAgb25FcnJvciA9IHsgKCkgPT4ge30gfVxuICAgICAgICAvLyBvbkVycm9yID0geyhlcnJvcjogRXJyb3IsIGluZm86IHtjb21wb25lbnRTdGFjazogc3RyaW5nfSkgPT4ge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIgY2FwdHVyZWQgZXJyb3InLCBlcnJvcilcbiAgICAgICAgLy8gfX1cbiAgICA+XG5cbiAgICAgICAgeyhzY3JvbGxlclN0YXRlICE9ICdzZXR1cCcpICYmIDxWaWV3cG9ydFxuXG4gICAgICAgICAgICBncmlkU3BlY3MgPSB7IGdyaWRTcGVjc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgICAgICAgICBWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCA9IHsgVklFV1BPUlRfUkVTSVpFX1RJTUVPVVQgfVxuICAgICAgICAgICAgdXNlU2Nyb2xsVHJhY2tlciA9IHsgdXNlU2Nyb2xsVHJhY2tlciB9XG5cbiAgICAgICAgPlxuICAgICAgICBcbiAgICAgICAgICAgIHs8U2Nyb2xsYmxvY2tcblxuICAgICAgICAgICAgICAgIGdyaWRTcGVjcyA9IHsgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcyA9IHtwYWRkaW5nUHJvcHN9XG4gICAgICAgICAgICAgICAgZ2FwUHJvcHMgPSB7IGdhcFByb3BzIH1cbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7IHN0eWxlc1JlZi5jdXJyZW50IH1cbiAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFNwZWNzID0ge3ZpcnR1YWxMaXN0U3BlY3NSZWYuY3VycmVudH1cbiAgICAgICAgICAgICAgICBzY3JvbGxlcklEID0geyBzY3JvbGxlcklEIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q3JhZGxlIFxuXG4gICAgICAgICAgICAgICAgICAgIGdyaWRTcGVjcyA9IHsgZ3JpZFNwZWNzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMgPSB7IHBhZGRpbmdQcm9wcyB9XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzID0geyBnYXBQcm9wcyB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHsgc3R5bGVzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFNwZWNzID0ge3ZpcnR1YWxMaXN0U3BlY3NSZWYuY3VycmVudH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VmlydHVhbExpc3RTaXplID0geyBzZXRWaXJ0dWFsTGlzdFNpemUgfVxuICAgICAgICAgICAgICAgICAgICBzZXRWaXJ0dWFsTGlzdFJhbmdlID0geyBzZXRWaXJ0dWFsTGlzdFJhbmdlIH1cbiAgICAgICAgICAgICAgICAgICAgY2FjaGUgPSB7IGNhY2hlIH1cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVNYXggPSB7IGNhY2hlTWF4IH1cbiAgICAgICAgICAgICAgICAgICAgdXNlckNhbGxiYWNrcyA9IHsgY2FsbGJhY2tzUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICBzdGFydGluZ0luZGV4ID0geyBzdGFydGluZ0luZGV4IH1cbiAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbSA9IHsgZ2V0SXRlbSB9XG4gICAgICAgICAgICAgICAgICAgIGdldEV4cGFuc2lvbkNvdW50ID0geyBnZXRFeHBhbnNpb25Db3VudCB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0geyBwbGFjZWhvbGRlciB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMgPSB7IHBsYWNlaG9sZGVyTWVzc2FnZXNSZWYuY3VycmVudCB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bndheVNpemUgPSB7IHJ1bndheVNpemUgfVxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VybGluZU9mZnNldCA9IHsgdHJpZ2dlcmxpbmVPZmZzZXQgfVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlclByb3BlcnRpZXMgPSB7IHNjcm9sbGVyUHJvcGVydGllcyB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVBUEkgPSB7IGNhY2hlQVBJUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgICAgICAgICB1c2VQbGFjZWhvbGRlciA9IHsgdXNlUGxhY2Vob2xkZXIgfVxuICAgICAgICAgICAgICAgICAgICAvLyB1c2VTY3JvbGxUcmFja2VyID0geyB1c2VTY3JvbGxUcmFja2VyIH1cbiAgICAgICAgICAgICAgICAgICAgc2hvd0F4aXMgPSB7IHNob3dBeGlzIH1cbiAgICAgICAgICAgICAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VUID0geyBPTkFGVEVSU0NST0xMX1RJTUVPVVQgfVxuICAgICAgICAgICAgICAgICAgICBJRExFQ0FMTEJBQ0tfVElNRU9VVCA9IHsgSURMRUNBTExCQUNLX1RJTUVPVVQgfVxuICAgICAgICAgICAgICAgICAgICBNQVhfQ0FDSEVfT1ZFUl9SVU4gPSB7IE1BWF9DQUNIRV9PVkVSX1JVTiB9XG4gICAgICAgICAgICAgICAgICAgIFZBUklBQkxFX01FQVNVUkVNRU5UU19USU1FT1VUID0geyBWQVJJQUJMRV9NRUFTVVJFTUVOVFNfVElNRU9VVCB9XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQgPSB7IHNjcm9sbGVySUQgfVxuXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvU2Nyb2xsYmxvY2s+fVxuICAgICAgICA8L1ZpZXdwb3J0Pn1cbiAgICAgICAgPGRpdj5cbiAgICAgICAge3VzZUxvY2FsQ2FjaGUgJiYgPGRpdiBkYXRhLXR5cGUgPSAnY2FjaGVyb290JyBzdHlsZSA9IHsgY2FjaGVyb290c3R5bGUgfT5cbiAgICAgICAgICAgIDxQb3J0YWxDYWNoZSBcblxuICAgICAgICAgICAgICAgIGdldENhY2hlQVBJID0geyBnZXRDYWNoZUFQSSB9IFxuICAgICAgICAgICAgICAgIGdldFVwZGF0ZUZ1bmN0aW9uID0geyBnZXRVcGRhdGVGdW5jdGlvbiB9XG4gICAgICAgICAgICAgICAgQ0FDSEVfUEFSVElUSU9OX1NJWkUgPSB7IENBQ0hFX1BBUlRJVElPTl9TSVpFIH0gLz5cblxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvRXJyb3JCb3VuZGFyeT5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU3VwcG9ydCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGNhY2hlcm9vdHN0eWxlID0ge2Rpc3BsYXk6J25vbmUnfS8vIGFzIFJlYWN0LkNTU1Byb3BlcnRpZXMgLy8gc3RhdGljLCBvdXQgb2YgdmlldyBcblxuLy8gdXRpbGl0eVxuZnVuY3Rpb24gY29tcGFyZVByb3BzIChvYmoxLG9iajIpIHtcbiAgICBpZiAoIW9iajEgfHwgIW9iajIpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmoxKVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXMob2JqMVtrZXldLG9iajJba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG4iXSwibmFtZXMiOlsiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiZnJvbSIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9zbGljZWRUb0FycmF5IiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJvIiwibWluTGVuIiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJyIiwibCIsInQiLCJlIiwidSIsImEiLCJmIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsInJlYWN0X2Vycm9yX2JvdW5kYXJ5XzEiLCJpc1NhZmFyaUlPU0ZuIiwiaXNfaW9zIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNfc2FmYXJpIiwibWF0Y2giLCJleHBvcnRzIiwiaXNTYWZhcmlJT1MiLCJFcnJvckZhbGxiYWNrIiwiX3JlZiIsImVycm9yIiwicmVzZXRFcnJvckJvdW5kYXJ5IiwiY3JlYXRlRWxlbWVudCIsInJvbGUiLCJzdHlsZSIsIm1hcmdpbiIsImJvcmRlciIsInBhZGRpbmciLCJvbkNsaWNrIiwiVmlld3BvcnRfMSIsIl9faW1wb3J0RGVmYXVsdCIsIlNjcm9sbGJsb2NrXzEiLCJDcmFkbGVfMSIsIlBvcnRhbENhY2hlXzEiLCJnbG9iYWxTY3JvbGxlcklEIiwiSW5maW5pdGVHcmlkU2Nyb2xsZXIiLCJwcm9wcyIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsInNjcm9sbGVyU3RhdGUiLCJzZXRTY3JvbGxlclN0YXRlIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsIl9wcm9wcyRzdGFydGluZ0xpc3RTaSIsInN0YXJ0aW5nTGlzdFNpemUiLCJfcHJvcHMkc3RhcnRpbmdMaXN0UmEiLCJzdGFydGluZ0xpc3RSYW5nZSIsImdldEl0ZW0iLCJfcHJvcHMkb3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiIsIl9wcm9wcyRnYXAiLCJnYXAiLCJfcHJvcHMkcGFkZGluZyIsIl9wcm9wcyRsYXlvdXQiLCJsYXlvdXQiLCJfcHJvcHMkY2VsbE1pbkhlaWdodCIsImNlbGxNaW5IZWlnaHQiLCJfcHJvcHMkY2VsbE1pbldpZHRoIiwiY2VsbE1pbldpZHRoIiwiX3Byb3BzJHJ1bndheVNpemUiLCJydW53YXlTaXplIiwiX3Byb3BzJHN0YXJ0aW5nSW5kZXgiLCJzdGFydGluZ0luZGV4IiwiZ2V0RXhwYW5zaW9uQ291bnQiLCJfcHJvcHMkY2FjaGUiLCJjYWNoZSIsIl9wcm9wcyRjYWNoZU1heCIsImNhY2hlTWF4IiwicGxhY2Vob2xkZXIiLCJfcHJvcHMkdXNlUGxhY2Vob2xkZXIiLCJ1c2VQbGFjZWhvbGRlciIsIl9wcm9wcyR1c2VTY3JvbGxUcmFjayIsInVzZVNjcm9sbFRyYWNrZXIiLCJfcHJvcHMkc3R5bGVzIiwic3R5bGVzIiwiX3Byb3BzJHBsYWNlaG9sZGVyTWVzIiwicGxhY2Vob2xkZXJNZXNzYWdlcyIsIl9wcm9wcyRjYWxsYmFja3MiLCJjYWxsYmFja3MiLCJfcHJvcHMkdGVjaG5pY2FsIiwidGVjaG5pY2FsIiwiX3Byb3BzJGNhY2hlQVBJIiwiY2FjaGVBUEkiLCJkcmFnZHJvcFByb3BlcnRpZXMiLCJzY3JvbGxlclByb3BlcnRpZXMiLCJpc01pbmltYWxQcm9wc0ZhaWwiLCJjb25zb2xlIiwibG9nIiwib3JpZ2luYWxWYWx1ZXMiLCJwYWRkaW5nUHJvcHNSZWYiLCJ1c2VSZWYiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJzb3VyY2UiLCJvcmlnaW5hbCIsImxpc3QiLCJDU1MiLCJwYWRkaW5nUHJvcHMiLCJjdXJyZW50IiwiU3RyaW5nIiwiaXNOYU4iLCJpc1Byb2JsZW0iLCJmb3JFYWNoIiwiaW5kZXgiLCJqb2luIiwibGd0aCIsImIiLCJjIiwiX2xpc3QiLCJfbGlzdDIiLCJfbGlzdDMiLCJfbGlzdDQiLCJhc3NpZ24iLCJnYXBQcm9wc1JlZiIsImNvbHVtbiIsInJvdyIsImdhcFByb3BzIiwiX2xpc3Q2IiwiX2xpc3Q3IiwidmVyaWZpZWRWYWx1ZXMiLCJNYXRoIiwibWF4IiwibWluIiwicHJvYmxlbXMiLCJwcm9wIiwiZ29vZHJhbmdlIiwiX3N0YXJ0aW5nTGlzdFJhbmdlIiwiX3N0YXJ0aW5nTGlzdFJhbmdlMiIsImxvd2luZGV4IiwiaGlnaGluZGV4IiwiaW5jbHVkZXMiLCJncmlkU3BlY3MiLCJncmlkU3BlY3NSZWYiLCJzdHlsZXNSZWYiLCJjYWxsYmFja3NSZWYiLCJwbGFjZWhvbGRlck1lc3NhZ2VzUmVmIiwiX3RlY2huaWNhbCIsInNob3dBeGlzIiwidHJpZ2dlcmxpbmVPZmZzZXQiLCJWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCIsIk9OQUZURVJTQ1JPTExfVElNRU9VVCIsIklETEVDQUxMQkFDS19USU1FT1VUIiwiVkFSSUFCTEVfTUVBU1VSRU1FTlRTX1RJTUVPVVQiLCJNQVhfQ0FDSEVfT1ZFUl9SVU4iLCJDQUNIRV9QQVJUSVRJT05fU0laRSIsInNjcm9sbGVyU2Vzc2lvbklEUmVmIiwic2Nyb2xsZXJJRCIsImNhY2hlQVBJUmVmIiwidXBkYXRlRnVuY3Rpb25SZWYiLCJsaXN0U2l6ZVJlZiIsImxpc3RSYW5nZVJlZiIsImxpc3RzaXplIiwibGlzdHJhbmdlIiwiX2xpc3RyYW5nZSIsImxvd2xpc3RyYW5nZSIsImhpZ2hsaXN0cmFuZ2UiLCJ2aXJ0dWFsTGlzdFNwZWNzIiwic2l6ZSIsInJhbmdlIiwidmlydHVhbExpc3RTcGVjc1JlZiIsImNvbXBhcmVQcm9wcyIsImdldENhY2hlQVBJIiwiZ2V0VXBkYXRlRnVuY3Rpb24iLCJmbiIsInVzZUxvY2FsQ2FjaGUiLCJpc01vdW50ZWRSZWYiLCJ1c2VFZmZlY3QiLCJzZXRWaXJ0dWFsTGlzdFJhbmdlIiwidXNlQ2FsbGJhY2siLCJfbGlzdHJhbmdlMiIsImxvd3JhbmdlIiwiaGlnaHJhbmdlIiwiY2hhbmdlTGlzdFJhbmdlQ2FsbGJhY2siLCJzZXRWaXJ0dWFsTGlzdFNpemUiLCJfbGlzdFJhbmdlUmVmJGN1cnJlbnQiLCJjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrIiwiaXRlbVNldFJlZiIsInJlZ2lzdGVyU2Nyb2xsZXIiLCJpdGVtU2V0IiwicGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlIiwidW5SZWdpc3RlclNjcm9sbGVyIiwiRXJyb3JCb3VuZGFyeSIsIkZhbGxiYWNrQ29tcG9uZW50Iiwib25SZXNldCIsIm9uRXJyb3IiLCJ1c2VyQ2FsbGJhY2tzIiwiY2FjaGVyb290c3R5bGUiLCJkaXNwbGF5Iiwib2JqMSIsIm9iajIiLCJrZXlzIiwiX2kiLCJfa2V5cyIsImtleSIsImlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/InfiniteGridScroller.tsx\n')},"./src/PortalCache.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// PortalCache.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of PortalCache is to hold the React portals in a cache.\n    The portals are actually held in an extendible series of CachePartition components, as controlled by cacheAPI.\n    Portals only exist in the React virtual DOM.\n    The cache can be shared among InfiniteGridScroller components.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar cacheAPI_1 = __importDefault(__webpack_require__(/*! ./portalcache/cacheAPI */ "./src/portalcache/cacheAPI.tsx"));\nvar PortalCache = function PortalCache(_ref) {\n  var CACHE_PARTITION_SIZE = _ref.CACHE_PARTITION_SIZE,\n    getCacheAPI = _ref.getCacheAPI,\n    getUpdateFunction = _ref.getUpdateFunction;\n  var cacheAPIRef = (0, react_1.useRef)(null);\n  var partitionArrayRef = (0, react_1.useRef)(null);\n  var partitionRepoForceUpdate = (0, react_1.useCallback)(function (partitionRenderList) {\n    partitionArrayRef.current = partitionRenderList;\n    isMountedRef.current && setPortalCacheCounter(++counterRef.current); // force render\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (cacheAPIRef.current) return;\n    var cacheAPI = new cacheAPI_1["default"](CACHE_PARTITION_SIZE);\n    cacheAPIRef.current = cacheAPI;\n    getCacheAPI(cacheAPI);\n    getUpdateFunction(partitionRepoForceUpdate);\n  }, []);\n  var _ref2 = (0, react_1.useState)(0),\n    _ref3 = _slicedToArray(_ref2, 2),\n    portalCacheCounter = _ref3[0],\n    setPortalCacheCounter = _ref3[1];\n  var counterRef = (0, react_1.useRef)(portalCacheCounter);\n  var _ref4 = (0, react_1.useState)(\'setup\'),\n    _ref5 = _slicedToArray(_ref4, 2),\n    masterState = _ref5[0],\n    setMasterState = _ref5[1];\n  var isMountedRef = (0, react_1.useRef)(true);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    switch (masterState) {\n      case \'setup\':\n        {\n          setMasterState(\'ready\');\n        }\n    }\n  }, [masterState]);\n  return react_1["default"].createElement("div", {\n    "data-type": \'portal-master\'\n  }, partitionArrayRef.current);\n};\nexports["default"] = PortalCache;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsT0FBTyxDQUFDO0lBQUFJLEtBQUEsR0FBQWxFLGNBQUEsQ0FBQWlFLEtBQUE7SUFBaERFLFdBQVcsR0FBQUQsS0FBQTtJQUFFRSxjQUFjLEdBQUFGLEtBQUE7RUFFbEMsSUFBTVYsWUFBWSxHQUFHLElBQUFqQixPQUFBLENBQUFXLE1BQU0sRUFBQyxJQUFJLENBQUM7RUFFakMsSUFBQVgsT0FBQSxDQUFBb0IsU0FBUyxFQUFDLFlBQUk7SUFFVkgsWUFBWSxDQUFDRCxPQUFPLEdBQUcsSUFBSTtJQUUzQixPQUFPLFlBQUs7TUFFUkMsWUFBWSxDQUFDRCxPQUFPLEdBQUcsS0FBSztJQUVoQyxDQUFDO0VBRUwsQ0FBQyxFQUFDLEVBQUUsQ0FBQztFQUVMLElBQUFoQixPQUFBLENBQUFvQixTQUFTLEVBQUMsWUFBSTtJQUVWLFFBQVFRLFdBQVc7TUFDZixLQUFLLE9BQU87UUFBRTtVQUNWQyxjQUFjLENBQUMsT0FBTyxDQUFDOzs7RUFJbkMsQ0FBQyxFQUFDLENBQUNELFdBQVcsQ0FBQyxDQUFDO0VBRWhCLE9BQU81QixPQUFBLFlBQUE4QixhQUFBO0lBQUEsYUFBaUI7RUFBZSxHQUFFbEIsaUJBQWlCLENBQUNJLE9BQU8sQ0FBTztBQUU3RSxDQUFDO0FBRURlLGtCQUFBLEdBQWUxQixXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9Qb3J0YWxDYWNoZS50c3g/YjIxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQb3J0YWxDYWNoZS50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhlIHJvbGUgb2YgUG9ydGFsQ2FjaGUgaXMgdG8gaG9sZCB0aGUgUmVhY3QgcG9ydGFscyBpbiBhIGNhY2hlLlxuICAgIFRoZSBwb3J0YWxzIGFyZSBhY3R1YWxseSBoZWxkIGluIGFuIGV4dGVuZGlibGUgc2VyaWVzIG9mIENhY2hlUGFydGl0aW9uIGNvbXBvbmVudHMsIGFzIGNvbnRyb2xsZWQgYnkgY2FjaGVBUEkuXG4gICAgUG9ydGFscyBvbmx5IGV4aXN0IGluIHRoZSBSZWFjdCB2aXJ0dWFsIERPTS5cbiAgICBUaGUgY2FjaGUgY2FuIGJlIHNoYXJlZCBhbW9uZyBJbmZpbml0ZUdyaWRTY3JvbGxlciBjb21wb25lbnRzLlxuKi9cblxuaW1wb3J0IFJlYWN0LCB7RkMsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2t9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgQ2FjaGVBUEkgZnJvbSAnLi9wb3J0YWxjYWNoZS9jYWNoZUFQSSdcblxuY29uc3QgUG9ydGFsQ2FjaGU6RkM8YW55PiA9ICh7Q0FDSEVfUEFSVElUSU9OX1NJWkUsIGdldENhY2hlQVBJLCBnZXRVcGRhdGVGdW5jdGlvbiB9KSA9PiB7XG5cbiAgICBjb25zdCBjYWNoZUFQSVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgY29uc3QgcGFydGl0aW9uQXJyYXlSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKChwYXJ0aXRpb25SZW5kZXJMaXN0OmFueSkgPT4ge1xuXG4gICAgICAgIHBhcnRpdGlvbkFycmF5UmVmLmN1cnJlbnQgPSBwYXJ0aXRpb25SZW5kZXJMaXN0XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgc2V0UG9ydGFsQ2FjaGVDb3VudGVyKCsrY291bnRlclJlZi5jdXJyZW50KSAvLyBmb3JjZSByZW5kZXJcblxuICAgIH0sW10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGlmIChjYWNoZUFQSVJlZi5jdXJyZW50KSByZXR1cm5cblxuICAgICAgICBjb25zdCBjYWNoZUFQSSA9IG5ldyBDYWNoZUFQSShDQUNIRV9QQVJUSVRJT05fU0laRSlcblxuICAgICAgICBjYWNoZUFQSVJlZi5jdXJyZW50ID0gY2FjaGVBUElcblxuICAgICAgICBnZXRDYWNoZUFQSShjYWNoZUFQSSlcbiAgICAgICAgZ2V0VXBkYXRlRnVuY3Rpb24ocGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlKVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IFtwb3J0YWxDYWNoZUNvdW50ZXIsIHNldFBvcnRhbENhY2hlQ291bnRlcl0gPSB1c2VTdGF0ZSgwKVxuICAgIGNvbnN0IGNvdW50ZXJSZWYgPSB1c2VSZWYocG9ydGFsQ2FjaGVDb3VudGVyKVxuXG4gICAgY29uc3QgW21hc3RlclN0YXRlLCBzZXRNYXN0ZXJTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuXG4gICAgY29uc3QgaXNNb3VudGVkUmVmID0gdXNlUmVmKHRydWUpXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWVcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuXG4gICAgICAgICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSkgXG5cbiAgICB1c2VFZmZlY3QoKCk9PntcblxuICAgICAgICBzd2l0Y2ggKG1hc3RlclN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzZXR1cCc6IHtcbiAgICAgICAgICAgICAgICBzZXRNYXN0ZXJTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFttYXN0ZXJTdGF0ZV0pXG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLXR5cGUgPSAncG9ydGFsLW1hc3Rlcic+e3BhcnRpdGlvbkFycmF5UmVmLmN1cnJlbnR9PC9kaXY+XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsQ2FjaGVcbiJdLCJuYW1lcyI6WyJfc2xpY2VkVG9BcnJheSIsImFyciIsImkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwidGVzdCIsImxlbiIsImxlbmd0aCIsImFycjIiLCJyIiwibCIsInQiLCJTeW1ib2wiLCJpdGVyYXRvciIsImUiLCJ1IiwiYSIsImYiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImlzQXJyYXkiLCJyZWFjdF8xIiwiX19pbXBvcnRTdGFyIiwicmVxdWlyZSIsImNhY2hlQVBJXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJQb3J0YWxDYWNoZSIsIl9yZWYiLCJDQUNIRV9QQVJUSVRJT05fU0laRSIsImdldENhY2hlQVBJIiwiZ2V0VXBkYXRlRnVuY3Rpb24iLCJjYWNoZUFQSVJlZiIsInVzZVJlZiIsInBhcnRpdGlvbkFycmF5UmVmIiwicGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJwYXJ0aXRpb25SZW5kZXJMaXN0IiwiY3VycmVudCIsImlzTW91bnRlZFJlZiIsInNldFBvcnRhbENhY2hlQ291bnRlciIsImNvdW50ZXJSZWYiLCJ1c2VFZmZlY3QiLCJjYWNoZUFQSSIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsInBvcnRhbENhY2hlQ291bnRlciIsIl9yZWY0IiwiX3JlZjUiLCJtYXN0ZXJTdGF0ZSIsInNldE1hc3RlclN0YXRlIiwiY3JlYXRlRWxlbWVudCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/PortalCache.tsx\n')},"./src/Scrollblock.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Scrollblock.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n\n    The scrollblock provides the scrollable element (scrolled by Viewport) of the infinite grid scroller.\n    It is sized according to the given cell size and row counts, adjusted for variable cradle content.\n    Its only state change is change of styles.\n\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar Viewport_1 = __webpack_require__(/*! ./Viewport */ "./src/Viewport.tsx");\nvar Scrollblock = function Scrollblock(_ref) {\n  var children = _ref.children,\n    virtualListSpecs = _ref.virtualListSpecs,\n    gridSpecs = _ref.gridSpecs,\n    paddingProps = _ref.paddingProps,\n    gapProps = _ref.gapProps,\n    styles = _ref.styles,\n    scrollerID = _ref.scrollerID;\n  var orientation = gridSpecs.orientation,\n    cellHeight = gridSpecs.cellHeight,\n    cellWidth = gridSpecs.cellWidth;\n  var listsize = virtualListSpecs.size,\n    ViewportContextProperties = (0, react_1.useContext)(Viewport_1.ViewportContext),\n    _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    blockState = _ref3[0],\n    setBlockState = _ref3[1],\n    baseScrollBlockLengthRef = (0, react_1.useRef)(null),\n    linerStyle = (0, react_1.useMemo)(function () {\n      return Object.assign(Object.assign({}, styles.scrollblock), {\n        position: \'relative\'\n      });\n    }, []),\n    divlinerstyleRef = (0, react_1.useRef)(linerStyle);\n  var getViewportDimensions = function getViewportDimensions() {\n    var viewportElement = ViewportContextProperties.elementRef.current;\n    return {\n      width: viewportElement.offsetWidth,\n      height: viewportElement.offsetHeight\n    };\n  };\n  var _getViewportDimension = getViewportDimensions(),\n    height = _getViewportDimension.height,\n    width = _getViewportDimension.width; // viewportDimensions\n  // reconfigure\n  (0, react_1.useLayoutEffect)(function () {\n    updateBaseBlockLength({\n      orientation: orientation,\n      viewportheight: height,\n      viewportwidth: width,\n      listsize: listsize,\n      cellHeight: cellHeight,\n      cellWidth: cellWidth,\n      gapProps: gapProps,\n      paddingProps: paddingProps\n    });\n    divlinerstyleRef.current = updateScrollblockStyles(orientation, divlinerstyleRef, baseScrollBlockLengthRef, cellWidth, cellHeight, paddingProps);\n    setBlockState(\'update\');\n  }, [orientation, height, width, listsize, cellHeight, cellWidth, gapProps, paddingProps]);\n  var updateBaseBlockLength = (0, react_1.useCallback)(function (layoutspecs) {\n    var basescrollblocklength = calcBaseScrollblockLength(layoutspecs);\n    baseScrollBlockLengthRef.current = basescrollblocklength;\n  }, []);\n  (0, react_1.useLayoutEffect)(function () {\n    switch (blockState) {\n      case \'setup\':\n      case \'update\':\n        {\n          setBlockState(\'ready\');\n        }\n    }\n  }, [blockState]);\n  return react_1["default"].createElement("div", {\n    "data-type": \'scrollblock\',\n    style: divlinerstyleRef.current\n  }, children);\n}; // Scrollblock\nexports["default"] = Scrollblock;\n// any of the parameters can affect the length\nvar calcBaseScrollblockLength = function calcBaseScrollblockLength(_ref4) {\n  var orientation = _ref4.orientation,\n    viewportheight = _ref4.viewportheight,\n    viewportwidth = _ref4.viewportwidth,\n    listsize = _ref4.listsize,\n    cellHeight = _ref4.cellHeight,\n    cellWidth = _ref4.cellWidth,\n    gapProps = _ref4.gapProps,\n    paddingProps = _ref4.paddingProps;\n  // ---------------[ calculate crosscount ]------------------\n  //crosscount is also calculated by Cradle\n  var crosslength, cellLength, viewportcrosslength;\n  var gaplength, gapxlength;\n  if (orientation == \'vertical\') {\n    gaplength = gapProps.column;\n    gapxlength = gapProps.row;\n    crosslength = cellWidth + gapxlength;\n    cellLength = cellHeight + gaplength;\n    viewportcrosslength = viewportwidth - paddingProps.left - paddingProps.right;\n  } else {\n    // \'horizontal\'\n    gaplength = gapProps.row;\n    gapxlength = gapProps.column;\n    crosslength = cellHeight + gaplength;\n    cellLength = cellWidth + gapxlength;\n    viewportcrosslength = viewportheight - paddingProps.top - paddingProps.bottom;\n  }\n  // adjustments to viewportcrosslength\n  viewportcrosslength += gapxlength; // to match crosslength\n  if (viewportcrosslength < crosslength) viewportcrosslength = crosslength; // must be at least one\n  var crosscount = Math.floor(viewportcrosslength / crosslength),\n    // -------------------[ calculate scrollblock length ]-----------------\n    listrowcount = Math.ceil(listsize / crosscount),\n    baselength = listrowcount * cellLength - (listrowcount > 0 ? gaplength :\n    // final cell has no trailing gap\n    0);\n  if (orientation == \'vertical\') {\n    baselength + paddingProps.top + paddingProps.bottom;\n  } else {\n    baselength + paddingProps.left + paddingProps.right;\n  }\n  return baselength;\n};\nvar updateScrollblockStyles = function updateScrollblockStyles(orientation, stylesRef, baseScrollblocklengthRef, cellWidth, cellHeight, paddingProps) {\n  var localstyles = Object.assign({}, stylesRef.current); // new object\n  var height, width, minHeight, minWidth;\n  if (orientation == \'vertical\') {\n    height = baseScrollblocklengthRef.current + \'px\';\n    width = \'100%\';\n    minWidth = cellWidth + (paddingProps.left + paddingProps.right) + \'px\';\n    minHeight = null;\n  } else {\n    // orientation == \'horizontal\'\n    height = \'100%\';\n    width = baseScrollblocklengthRef.current + \'px\';\n    minHeight = cellHeight + (paddingProps.top + paddingProps.bottom) + \'px\';\n    minWidth = null;\n  }\n  localstyles.height = height;\n  localstyles.width = width;\n  localstyles.minHeight = minHeight;\n  localstyles.minWidth = minWidth;\n  localstyles.padding = paddingProps.CSS;\n  return localstyles;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVMsRUFBRUMsd0JBQXdCLEVBQUUzRCxTQUFTLEVBQUVELFVBQVUsRUFBRUwsWUFBWSxFQUFJO0VBRXpGLElBQU1rRSxXQUFXLEdBQUF0RyxNQUFBLENBQUF5RCxNQUFBLEtBQU8yQyxTQUFTLENBQUNwQyxPQUFPLENBQUMsRUFBQztFQUUzQyxJQUFJRyxNQUFNLEVBQUVGLEtBQUssRUFBRXNDLFNBQVMsRUFBRUMsUUFBUTtFQUV0QyxJQUFJaEUsV0FBVyxJQUFJLFVBQVUsRUFBRTtJQUUzQjJCLE1BQU0sR0FBR2tDLHdCQUF3QixDQUFDckMsT0FBTyxHQUFHLElBQUk7SUFDaERDLEtBQUssR0FBRyxNQUFNO0lBQ2R1QyxRQUFRLEdBQUk5RCxTQUFTLElBQUlOLFlBQVksQ0FBQ3NELElBQUksR0FBR3RELFlBQVksQ0FBQ3VELEtBQUssQ0FBQyxHQUFJLElBQUk7SUFDeEVZLFNBQVMsR0FBRyxJQUFJO0dBRW5CLE1BQU07SUFBRTtJQUVMcEMsTUFBTSxHQUFHLE1BQU07SUFDZkYsS0FBSyxHQUFHb0Msd0JBQXdCLENBQUNyQyxPQUFPLEdBQUcsSUFBSTtJQUMvQ3VDLFNBQVMsR0FBSTlELFVBQVUsSUFBSUwsWUFBWSxDQUFDd0QsR0FBRyxHQUFHeEQsWUFBWSxDQUFDeUQsTUFBTSxDQUFDLEdBQUksSUFBSTtJQUMxRVcsUUFBUSxHQUFHLElBQUk7O0VBSW5CRixXQUFXLENBQUNuQyxNQUFNLEdBQUdBLE1BQU07RUFDM0JtQyxXQUFXLENBQUNyQyxLQUFLLEdBQUdBLEtBQUs7RUFDekJxQyxXQUFXLENBQUNDLFNBQVMsR0FBR0EsU0FBUztFQUNqQ0QsV0FBVyxDQUFDRSxRQUFRLEdBQUdBLFFBQVE7RUFDL0JGLFdBQVcsQ0FBQ0csT0FBTyxHQUFHckUsWUFBWSxDQUFDc0UsR0FBRztFQUV0QyxPQUFPSixXQUFXO0FBRXRCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL1Njcm9sbGJsb2NrLnRzeD8zYjY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNjcm9sbGJsb2NrLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcblxuICAgIFRoZSBzY3JvbGxibG9jayBwcm92aWRlcyB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50IChzY3JvbGxlZCBieSBWaWV3cG9ydCkgb2YgdGhlIGluZmluaXRlIGdyaWQgc2Nyb2xsZXIuXG4gICAgSXQgaXMgc2l6ZWQgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBjZWxsIHNpemUgYW5kIHJvdyBjb3VudHMsIGFkanVzdGVkIGZvciB2YXJpYWJsZSBjcmFkbGUgY29udGVudC5cbiAgICBJdHMgb25seSBzdGF0ZSBjaGFuZ2UgaXMgY2hhbmdlIG9mIHN0eWxlcy5cblxuKi9cblxuaW1wb3J0IFJlYWN0LCB7dXNlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0LCB1c2VTdGF0ZSwgdXNlTWVtb30gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFZpZXdwb3J0Q29udGV4dCB9IGZyb20gJy4vVmlld3BvcnQnXG5cbmNvbnN0IFNjcm9sbGJsb2NrID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICB2aXJ0dWFsTGlzdFNwZWNzLFxuICAgIGdyaWRTcGVjcyxcbiAgICBwYWRkaW5nUHJvcHMsXG4gICAgZ2FwUHJvcHMsXG4gICAgc3R5bGVzLFxuICAgIHNjcm9sbGVySUQsXG59KSA9PiB7XG5cbiAgICBjb25zdCB7XG5cbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIC8vIGdhcCxcbiAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgY2VsbFdpZHRoLFxuICAgICAgICBcbiAgICB9ID0gZ3JpZFNwZWNzXG5cbiAgICBjb25zdCBcbiAgICAgICAgeyBzaXplOmxpc3RzaXplIH0gPSB2aXJ0dWFsTGlzdFNwZWNzLFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNvbnRleHQgYW5kIHN0YXRlIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHVzZUNvbnRleHQoVmlld3BvcnRDb250ZXh0KSxcblxuICAgICAgICBbYmxvY2tTdGF0ZSxzZXRCbG9ja1N0YXRlXSA9IHVzZVN0YXRlKCdzZXR1cCcpLCAvLyB0byB0cmlnZ2VyIHJlbmRlclxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBkYXRhIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmID0gdXNlUmVmKG51bGwpLFxuXG4gICAgICAgIC8vIGp1c3QgZm9yIGluaXRcbiAgICAgICAgbGluZXJTdHlsZSA9IHVzZU1lbW8oKCkgPT57XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLnNjcm9sbGJsb2NrLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOidyZWxhdGl2ZScsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgW10pLFxuXG4gICAgICAgIGRpdmxpbmVyc3R5bGVSZWYgPSB1c2VSZWYobGluZXJTdHlsZSlcblxuICAgIGNvbnN0IGdldFZpZXdwb3J0RGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOnZpZXdwb3J0RWxlbWVudC5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDp2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IGdldFZpZXdwb3J0RGltZW5zaW9ucygpIC8vIHZpZXdwb3J0RGltZW5zaW9uc1xuXG4gICAgLy8gcmVjb25maWd1cmVcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIHVwZGF0ZUJhc2VCbG9ja0xlbmd0aChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICB2aWV3cG9ydGhlaWdodDpoZWlnaHQsXG4gICAgICAgICAgICAgICAgdmlld3BvcnR3aWR0aDp3aWR0aCxcbiAgICAgICAgICAgICAgICBsaXN0c2l6ZSxcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBnYXBQcm9wcyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50ID0gXG4gICAgICAgICAgICB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyhcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICBkaXZsaW5lcnN0eWxlUmVmLFxuICAgICAgICAgICAgICAgIGJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZixcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMsXG4gICAgICAgICAgICApXG4gICAgICAgIHNldEJsb2NrU3RhdGUoJ3VwZGF0ZScpXG5cbiAgICB9LFtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGxpc3RzaXplLFxuICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgIGdhcFByb3BzLFxuICAgICAgICBwYWRkaW5nUHJvcHMsXG4gICAgXSlcblxuICAgIGNvbnN0IHVwZGF0ZUJhc2VCbG9ja0xlbmd0aCA9IHVzZUNhbGxiYWNrKChsYXlvdXRzcGVjcykgPT4ge1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IGJhc2VzY3JvbGxibG9ja2xlbmd0aCA9IGNhbGNCYXNlU2Nyb2xsYmxvY2tMZW5ndGgobGF5b3V0c3BlY3MpXG5cbiAgICAgICAgYmFzZVNjcm9sbEJsb2NrTGVuZ3RoUmVmLmN1cnJlbnQgPSBiYXNlc2Nyb2xsYmxvY2tsZW5ndGhcblxuICAgIH0sW10pXG5cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcblxuICAgICAgICBzd2l0Y2ggKGJsb2NrU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3NldHVwJzpcbiAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6IHtcbiAgICAgICAgICAgICAgICBzZXRCbG9ja1N0YXRlKCdyZWFkeScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sW2Jsb2NrU3RhdGVdKVxuXG4gICAgcmV0dXJuIDxkaXYgZGF0YS10eXBlID0gJ3Njcm9sbGJsb2NrJyBzdHlsZT17ZGl2bGluZXJzdHlsZVJlZi5jdXJyZW50fT57Y2hpbGRyZW59PC9kaXY+XG5cbn0gLy8gU2Nyb2xsYmxvY2tcblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsYmxvY2tcblxuLy8gYW55IG9mIHRoZSBwYXJhbWV0ZXJzIGNhbiBhZmZlY3QgdGhlIGxlbmd0aFxuY29uc3QgY2FsY0Jhc2VTY3JvbGxibG9ja0xlbmd0aCA9ICh7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICB2aWV3cG9ydGhlaWdodCxcbiAgICAgICAgdmlld3BvcnR3aWR0aCxcbiAgICAgICAgbGlzdHNpemUsXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgZ2FwUHJvcHMsXG4gICAgICAgIHBhZGRpbmdQcm9wcyxcbiAgICB9KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS1bIGNhbGN1bGF0ZSBjcm9zc2NvdW50IF0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL2Nyb3NzY291bnQgaXMgYWxzbyBjYWxjdWxhdGVkIGJ5IENyYWRsZVxuICAgIGxldCBjcm9zc2xlbmd0aCwgY2VsbExlbmd0aCwgdmlld3BvcnRjcm9zc2xlbmd0aFxuXG4gICAgbGV0IGdhcGxlbmd0aCwgZ2FweGxlbmd0aFxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgZ2FwbGVuZ3RoID0gZ2FwUHJvcHMuY29sdW1uXG4gICAgICAgIGdhcHhsZW5ndGggPSBnYXBQcm9wcy5yb3dcbiAgICAgICAgY3Jvc3NsZW5ndGggPSBjZWxsV2lkdGggKyBnYXB4bGVuZ3RoXG4gICAgICAgIGNlbGxMZW5ndGggPSBjZWxsSGVpZ2h0ICsgZ2FwbGVuZ3RoXG4gICAgICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggPSB2aWV3cG9ydHdpZHRoIC0gcGFkZGluZ1Byb3BzLmxlZnQgLSBwYWRkaW5nUHJvcHMucmlnaHRcblxuICAgIH0gZWxzZSB7IC8vICdob3Jpem9udGFsJ1xuXG4gICAgICAgIGdhcGxlbmd0aCA9IGdhcFByb3BzLnJvd1xuICAgICAgICBnYXB4bGVuZ3RoID0gZ2FwUHJvcHMuY29sdW1uXG4gICAgICAgIGNyb3NzbGVuZ3RoID0gY2VsbEhlaWdodCArIGdhcGxlbmd0aFxuICAgICAgICBjZWxsTGVuZ3RoID0gY2VsbFdpZHRoICsgZ2FweGxlbmd0aFxuICAgICAgICB2aWV3cG9ydGNyb3NzbGVuZ3RoID0gdmlld3BvcnRoZWlnaHQgLSBwYWRkaW5nUHJvcHMudG9wIC0gcGFkZGluZ1Byb3BzLmJvdHRvbVxuXG4gICAgfVxuXG4gICAgLy8gYWRqdXN0bWVudHMgdG8gdmlld3BvcnRjcm9zc2xlbmd0aFxuICAgIHZpZXdwb3J0Y3Jvc3NsZW5ndGggKz0gZ2FweGxlbmd0aCAvLyB0byBtYXRjaCBjcm9zc2xlbmd0aFxuXG4gICAgaWYgKHZpZXdwb3J0Y3Jvc3NsZW5ndGggPCBjcm9zc2xlbmd0aCkgdmlld3BvcnRjcm9zc2xlbmd0aCA9IGNyb3NzbGVuZ3RoIC8vIG11c3QgYmUgYXQgbGVhc3Qgb25lXG5cbiAgICBjb25zdCBcbiAgICAgICAgY3Jvc3Njb3VudCA9IE1hdGguZmxvb3Iodmlld3BvcnRjcm9zc2xlbmd0aC9jcm9zc2xlbmd0aCksXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIHNjcm9sbGJsb2NrIGxlbmd0aCBdLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBsaXN0cm93Y291bnQgPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudCksXG5cbiAgICAgICAgYmFzZWxlbmd0aCA9IChsaXN0cm93Y291bnQgKiBjZWxsTGVuZ3RoKSAtIFxuICAgICAgICAgICAgKChsaXN0cm93Y291bnQgPiAwKT9cbiAgICAgICAgICAgICAgICBnYXBsZW5ndGg6IC8vIGZpbmFsIGNlbGwgaGFzIG5vIHRyYWlsaW5nIGdhcFxuICAgICAgICAgICAgICAgIDApXG4gICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgYmFzZWxlbmd0aCArIHBhZGRpbmdQcm9wcy50b3AgKyBwYWRkaW5nUHJvcHMuYm90dG9tXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZWxlbmd0aCArIHBhZGRpbmdQcm9wcy5sZWZ0ICsgcGFkZGluZ1Byb3BzLnJpZ2h0XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2VsZW5ndGhcblxufVxuXG5jb25zdCB1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyA9IChcbiAgICBvcmllbnRhdGlvbiwgc3R5bGVzUmVmLCBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYsIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgcGFkZGluZ1Byb3BzKSA9PiB7XG5cbiAgICBjb25zdCBsb2NhbHN0eWxlcyA9IHsuLi5zdHlsZXNSZWYuY3VycmVudH0gLy8gbmV3IG9iamVjdFxuXG4gICAgbGV0IGhlaWdodCwgd2lkdGgsIG1pbkhlaWdodCwgbWluV2lkdGhcblxuICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgXG4gICAgICAgIGhlaWdodCA9IGJhc2VTY3JvbGxibG9ja2xlbmd0aFJlZi5jdXJyZW50ICsgJ3B4J1xuICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICBtaW5XaWR0aCA9IChjZWxsV2lkdGggKyAocGFkZGluZ1Byb3BzLmxlZnQgKyBwYWRkaW5nUHJvcHMucmlnaHQpKSArICdweCdcbiAgICAgICAgbWluSGVpZ2h0ID0gbnVsbFxuICAgIFxuICAgIH0gZWxzZSB7IC8vIG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJ1xuICAgIFxuICAgICAgICBoZWlnaHQgPSAnMTAwJSdcbiAgICAgICAgd2lkdGggPSBiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYuY3VycmVudCArICdweCdcbiAgICAgICAgbWluSGVpZ2h0ID0gKGNlbGxIZWlnaHQgKyAocGFkZGluZ1Byb3BzLnRvcCArIHBhZGRpbmdQcm9wcy5ib3R0b20pKSArICdweCdcbiAgICAgICAgbWluV2lkdGggPSBudWxsXG4gICAgXG4gICAgfVxuICAgIFxuICAgIGxvY2Fsc3R5bGVzLmhlaWdodCA9IGhlaWdodFxuICAgIGxvY2Fsc3R5bGVzLndpZHRoID0gd2lkdGhcbiAgICBsb2NhbHN0eWxlcy5taW5IZWlnaHQgPSBtaW5IZWlnaHRcbiAgICBsb2NhbHN0eWxlcy5taW5XaWR0aCA9IG1pbldpZHRoXG4gICAgbG9jYWxzdHlsZXMucGFkZGluZyA9IHBhZGRpbmdQcm9wcy5DU1NcblxuICAgIHJldHVybiBsb2NhbHN0eWxlc1xuXG59XG4iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlIiwidSIsImEiLCJmIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJWaWV3cG9ydF8xIiwiU2Nyb2xsYmxvY2siLCJfcmVmIiwiY2hpbGRyZW4iLCJ2aXJ0dWFsTGlzdFNwZWNzIiwiZ3JpZFNwZWNzIiwicGFkZGluZ1Byb3BzIiwiZ2FwUHJvcHMiLCJzdHlsZXMiLCJzY3JvbGxlcklEIiwib3JpZW50YXRpb24iLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwibGlzdHNpemUiLCJzaXplIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsInVzZUNvbnRleHQiLCJWaWV3cG9ydENvbnRleHQiLCJfcmVmMiIsInVzZVN0YXRlIiwiX3JlZjMiLCJibG9ja1N0YXRlIiwic2V0QmxvY2tTdGF0ZSIsImJhc2VTY3JvbGxCbG9ja0xlbmd0aFJlZiIsInVzZVJlZiIsImxpbmVyU3R5bGUiLCJ1c2VNZW1vIiwiYXNzaWduIiwic2Nyb2xsYmxvY2siLCJwb3NpdGlvbiIsImRpdmxpbmVyc3R5bGVSZWYiLCJnZXRWaWV3cG9ydERpbWVuc2lvbnMiLCJ2aWV3cG9ydEVsZW1lbnQiLCJlbGVtZW50UmVmIiwiY3VycmVudCIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJfZ2V0Vmlld3BvcnREaW1lbnNpb24iLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1cGRhdGVCYXNlQmxvY2tMZW5ndGgiLCJ2aWV3cG9ydGhlaWdodCIsInZpZXdwb3J0d2lkdGgiLCJ1cGRhdGVTY3JvbGxibG9ja1N0eWxlcyIsInVzZUNhbGxiYWNrIiwibGF5b3V0c3BlY3MiLCJiYXNlc2Nyb2xsYmxvY2tsZW5ndGgiLCJjYWxjQmFzZVNjcm9sbGJsb2NrTGVuZ3RoIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZXhwb3J0cyIsIl9yZWY0IiwiY3Jvc3NsZW5ndGgiLCJjZWxsTGVuZ3RoIiwidmlld3BvcnRjcm9zc2xlbmd0aCIsImdhcGxlbmd0aCIsImdhcHhsZW5ndGgiLCJjb2x1bW4iLCJyb3ciLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjcm9zc2NvdW50IiwiTWF0aCIsImZsb29yIiwibGlzdHJvd2NvdW50IiwiY2VpbCIsImJhc2VsZW5ndGgiLCJzdHlsZXNSZWYiLCJiYXNlU2Nyb2xsYmxvY2tsZW5ndGhSZWYiLCJsb2NhbHN0eWxlcyIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwicGFkZGluZyIsIkNTUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Scrollblock.tsx\n')},"./src/Viewport.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Viewport.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.ViewportContext = void 0;\n/*\n    The role of viewport is to provide viewport data to its children (Scrollblock and Cradle) through the\n    ViewportContext object, and act as the visible screen portal of the list being shown.\n    If Viewport is resized, it notifies the Cradle to reconfigure.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\n// popup position tracker for repositioning\nvar ScrollTracker_1 = __importDefault(__webpack_require__(/*! ./cradle/ScrollTracker */ "./src/cradle/ScrollTracker.tsx"));\nexports.ViewportContext = react_1["default"].createContext(null); // for children\nvar Viewport = function Viewport(_ref) {\n  var children = _ref.children,\n    gridSpecs = _ref.gridSpecs,\n    styles = _ref.styles,\n    scrollerID = _ref.scrollerID,\n    VIEWPORT_RESIZE_TIMEOUT = _ref.VIEWPORT_RESIZE_TIMEOUT,\n    useScrollTracker = _ref.useScrollTracker;\n  // -----------------------[ initialize ]------------------\n  var orientation = gridSpecs.orientation;\n  var _ref2 = (0, react_1.useState)(\'setup\'),\n    _ref3 = _slicedToArray(_ref2, 2),\n    viewportState = _ref3[0],\n    setViewportState = _ref3[1]; // setup, resizing, resized, ready\n  var viewportStateRef = (0, react_1.useRef)(null); // for useCallback -> resizeCallback scope\n  viewportStateRef.current = viewportState;\n  var isMountedRef = (0, react_1.useRef)(true);\n  var viewportElementRef = (0, react_1.useRef)(null);\n  var scrollTrackerAPIRef = (0, react_1.useRef)(null);\n  // ViewportContextPropertiesRef is passed as a resizing interrupt (through context) to children\n  var ViewportContextPropertiesRef = (0, react_1.useRef)({\n    isResizing: false,\n    // viewportDimensions:null,\n    elementRef: null,\n    scrollTrackerAPIRef: scrollTrackerAPIRef\n  });\n  // mark as unmounted\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  // --------------------[ viewport resizer interrupt ]-----------------------\n  var resizeTimeridRef = (0, react_1.useRef)(null);\n  var isResizingRef = (0, react_1.useRef)(false);\n  var resizeObserverRef = (0, react_1.useRef)(null);\n  // set up resizeObserver\n  (0, react_1.useEffect)(function () {\n    // initialize\n    resizeObserverRef.current = new ResizeObserver(resizeCallback);\n    resizeObserverRef.current.observe(viewportElementRef.current);\n    // unmount\n    return function () {\n      resizeObserverRef.current.disconnect();\n    };\n  }, []);\n  // used by resizeObserver; generates interrupt\n  var resizeCallback = (0, react_1.useCallback)(function (entries) {\n    if (viewportStateRef.current == \'setup\') return;\n    var target = entries[0].target;\n    // no need to trigger interrupt on first resize notification\n    if (!target.dataset.initialized) {\n      target.dataset.initialized = \'true\';\n      return;\n    }\n    // generate interrupt response, if initiating resize\n    if (!isResizingRef.current) {\n      ViewportContextPropertiesRef.current.isResizing = isResizingRef.current = true;\n      // new object creation triggers a realtime interrupt message to cradle through context\n      ViewportContextPropertiesRef.current = Object.assign({}, ViewportContextPropertiesRef.current);\n      if (isMountedRef.current) setViewportState(\'resizing\');\n    }\n    // finalize resizing after timeout\n    clearTimeout(resizeTimeridRef.current);\n    resizeTimeridRef.current = setTimeout(function () {\n      isResizingRef.current = false;\n      if (isMountedRef.current) {\n        setViewportState(\'resized\');\n      }\n    }, VIEWPORT_RESIZE_TIMEOUT);\n  }, []);\n  // ----------------------------------[ calculate config values ]--------------------------------\n  // styles\n  var divlinerstyleRef = (0, react_1.useRef)(null);\n  // initialize with inherited styles\n  divlinerstyleRef.current = (0, react_1.useMemo)(function () {\n    return Object.assign(Object.assign({}, styles.viewport), {\n      position: \'absolute\',\n      inset: 0,\n      overflow: \'scroll\',\n      WebkitOverflowScrolling: \'touch\',\n      overflowAnchor: \'none\'\n    });\n  }, [styles.viewport]);\n  var divtrackerstyleRef = (0, react_1.useRef)(null);\n  // initialize with inherited styles\n  divtrackerstyleRef.current = (0, react_1.useMemo)(function () {\n    return {\n      // ...styles.viewport,\n      position: \'absolute\',\n      top: 0,\n      left: 0\n    };\n  }, [styles.viewport]);\n  // update ViewportContextPropertiesRef\n  ViewportContextPropertiesRef.current = (0, react_1.useMemo)(function () {\n    if (viewportState == \'setup\') return ViewportContextPropertiesRef.current;\n    var localViewportData = {\n      elementRef: viewportElementRef,\n      isResizing: isResizingRef.current\n    };\n    // trigger context change with new object\n    var viewportdataobject = Object.assign(Object.assign({}, ViewportContextPropertiesRef.current), localViewportData);\n    return viewportdataobject;\n  }, [orientation, isResizingRef.current, viewportState]);\n  // --------------------[ state processing ]---------------------------\n  (0, react_1.useLayoutEffect)(function () {\n    switch (viewportState) {\n      case \'resized\':\n      case \'setup\':\n        {\n          setViewportState(\'ready\');\n          break;\n        }\n    }\n  }, [viewportState]);\n  // ----------------------[ render ]--------------------------------\n  return react_1["default"].createElement(exports.ViewportContext.Provider, {\n    value: ViewportContextPropertiesRef.current\n  }, react_1["default"].createElement("div", {\n    "data-type": \'viewport\',\n    "data-scrollerid": scrollerID,\n    style: divlinerstyleRef.current,\n    ref: viewportElementRef\n  }, viewportState != \'setup\' && children), useScrollTracker && react_1["default"].createElement(ScrollTracker_1["default"], {\n    scrollTrackerAPIRef: scrollTrackerAPIRef,\n    styles: styles.scrolltracker\n  }));\n}; // Viewport\nexports["default"] = Viewport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEsWUFBQTZELGFBQUE7SUFBQSxhQUNnQixVQUFVO0lBQUEsbUJBQ0ZoRCxVQUFVO0lBQzlCa0QsS0FBSyxFQUFLaEIsZ0JBQWdCLENBQUN2QixPQUFPO0lBQ2xDd0MsR0FBRyxFQUFLdEM7RUFBa0IsR0FFdkJOLGFBQWEsSUFBSSxPQUFPLElBQUtWLFFBQVEsQ0FDdEMsRUFDTEssZ0JBQWdCLElBQUlmLE9BQUEsWUFBQTZELGFBQUEsQ0FBQzFELGVBQUEsV0FBYTtJQUMvQndCLG1CQUFtQixFQUFJQSxtQkFBbUI7SUFDMUNmLE1BQU0sRUFBS0EsTUFBTSxDQUFDcUQ7RUFBYSxFQUNqQyxDQUNxQjtBQUUvQixDQUFDLEVBQUM7QUFFRjVELGtCQUFBLEdBQWVHLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL1ZpZXdwb3J0LnRzeD9jODI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFZpZXdwb3J0LnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGUgcm9sZSBvZiB2aWV3cG9ydCBpcyB0byBwcm92aWRlIHZpZXdwb3J0IGRhdGEgdG8gaXRzIGNoaWxkcmVuIChTY3JvbGxibG9jayBhbmQgQ3JhZGxlKSB0aHJvdWdoIHRoZVxuICAgIFZpZXdwb3J0Q29udGV4dCBvYmplY3QsIGFuZCBhY3QgYXMgdGhlIHZpc2libGUgc2NyZWVuIHBvcnRhbCBvZiB0aGUgbGlzdCBiZWluZyBzaG93bi5cbiAgICBJZiBWaWV3cG9ydCBpcyByZXNpemVkLCBpdCBub3RpZmllcyB0aGUgQ3JhZGxlIHRvIHJlY29uZmlndXJlLlxuKi9cblxuaW1wb3J0IFJlYWN0LCB7XG5cbiAgICB1c2VTdGF0ZSwgXG4gICAgdXNlUmVmLCBcbiAgICB1c2VFZmZlY3QsIFxuICAgIHVzZUxheW91dEVmZmVjdCwgXG4gICAgdXNlTWVtbywgXG4gICAgdXNlQ2FsbGJhY2ssIFxuXG59IGZyb20gJ3JlYWN0J1xuXG4vLyBwb3B1cCBwb3NpdGlvbiB0cmFja2VyIGZvciByZXBvc2l0aW9uaW5nXG5pbXBvcnQgU2Nyb2xsVHJhY2tlciBmcm9tICcuL2NyYWRsZS9TY3JvbGxUcmFja2VyJ1xuXG5leHBvcnQgY29uc3QgVmlld3BvcnRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKSAvLyBmb3IgY2hpbGRyZW5cblxuY29uc3QgVmlld3BvcnQgPSAoe1xuXG4gICAgY2hpbGRyZW4sIFxuICAgIGdyaWRTcGVjcyxcbiAgICBzdHlsZXMsXG4gICAgc2Nyb2xsZXJJRCxcbiAgICBWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCxcbiAgICB1c2VTY3JvbGxUcmFja2VyLFxuICAgIFxufSkgPT4ge1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3Qge1xuXG4gICAgICAgIG9yaWVudGF0aW9uLFxuXG4gICAgfSA9IGdyaWRTcGVjc1xuXG4gICAgY29uc3QgW3ZpZXdwb3J0U3RhdGUsc2V0Vmlld3BvcnRTdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKSAvLyBzZXR1cCwgcmVzaXppbmcsIHJlc2l6ZWQsIHJlYWR5XG5cbiAgICBjb25zdCB2aWV3cG9ydFN0YXRlUmVmID0gdXNlUmVmKG51bGwpIC8vIGZvciB1c2VDYWxsYmFjayAtPiByZXNpemVDYWxsYmFjayBzY29wZVxuICAgIHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9IHZpZXdwb3J0U3RhdGVcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuXG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBjb25zdCBzY3JvbGxUcmFja2VyQVBJUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmIGlzIHBhc3NlZCBhcyBhIHJlc2l6aW5nIGludGVycnVwdCAodGhyb3VnaCBjb250ZXh0KSB0byBjaGlsZHJlblxuICAgIGNvbnN0IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYgPSB1c2VSZWYoXG4gICAgICAgIHtcblxuICAgICAgICAgICAgaXNSZXNpemluZzpmYWxzZSwgXG4gICAgICAgICAgICAvLyB2aWV3cG9ydERpbWVuc2lvbnM6bnVsbCxcbiAgICAgICAgICAgIGVsZW1lbnRSZWY6bnVsbCxcbiAgICAgICAgICAgIHNjcm9sbFRyYWNrZXJBUElSZWYsXG5cbiAgICAgICAgfVxuICAgIClcblxuICAgIC8vIG1hcmsgYXMgdW5tb3VudGVkXG4gICAgdXNlRWZmZWN0KCgpID0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2VcblxuICAgICAgICB9XG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyB2aWV3cG9ydCByZXNpemVyIGludGVycnVwdCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IHJlc2l6ZVRpbWVyaWRSZWYgPSB1c2VSZWYobnVsbClcbiAgICBjb25zdCBpc1Jlc2l6aW5nUmVmID0gdXNlUmVmKGZhbHNlKVxuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyUmVmID0gdXNlUmVmKG51bGwpOyAgICBcblxuICAgIC8vIHNldCB1cCByZXNpemVPYnNlcnZlclxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBSZXNpemVPYnNlcnZlcihyZXNpemVDYWxsYmFjaylcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKHZpZXdwb3J0RWxlbWVudFJlZi5jdXJyZW50KVxuXG4gICAgICAgIC8vIHVubW91bnRcbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudC5kaXNjb25uZWN0KClcblxuICAgICAgICB9XG5cbiAgICB9LFtdKVxuXG4gICAgLy8gdXNlZCBieSByZXNpemVPYnNlcnZlcjsgZ2VuZXJhdGVzIGludGVycnVwdFxuICAgIGNvbnN0IHJlc2l6ZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKGVudHJpZXMpPT57XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGVSZWYuY3VycmVudCA9PSAnc2V0dXAnKSByZXR1cm5cblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbnRyaWVzWzBdLnRhcmdldFxuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gdHJpZ2dlciBpbnRlcnJ1cHQgb24gZmlyc3QgcmVzaXplIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAoIXRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkKSB7XG5cbiAgICAgICAgICAgIHRhcmdldC5kYXRhc2V0LmluaXRpYWxpemVkID0gJ3RydWUnXG5cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGludGVycnVwdCByZXNwb25zZSwgaWYgaW5pdGlhdGluZyByZXNpemVcbiAgICAgICAgaWYgKCFpc1Jlc2l6aW5nUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmlzUmVzaXppbmcgPSBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSB0cnVlIFxuXG4gICAgICAgICAgICAvLyBuZXcgb2JqZWN0IGNyZWF0aW9uIHRyaWdnZXJzIGEgcmVhbHRpbWUgaW50ZXJydXB0IG1lc3NhZ2UgdG8gY3JhZGxlIHRocm91Z2ggY29udGV4dFxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gey4uLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudH1cblxuICAgICAgICAgICAgaWYgKGlzTW91bnRlZFJlZi5jdXJyZW50KSBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemluZycpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsaXplIHJlc2l6aW5nIGFmdGVyIHRpbWVvdXRcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyaWRSZWYuY3VycmVudClcbiAgICAgICAgcmVzaXplVGltZXJpZFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIGlzUmVzaXppbmdSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRWaWV3cG9ydFN0YXRlKCdyZXNpemVkJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFZJRVdQT1JUX1JFU0laRV9USU1FT1VUKVxuXG4gICAgfSxbXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGN1bGF0ZSBjb25maWcgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gc3R5bGVzXG4gICAgY29uc3QgZGl2bGluZXJzdHlsZVJlZiA9IHVzZVJlZihudWxsKVxuXG4gICAgLy8gaW5pdGlhbGl6ZSB3aXRoIGluaGVyaXRlZCBzdHlsZXNcbiAgICBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgPSB1c2VNZW1vKCgpID0+IHtcblxuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgICAuLi5zdHlsZXMudmlld3BvcnQsXG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgaW5zZXQ6MCxcbiAgICAgICAgICAgIG92ZXJmbG93OidzY3JvbGwnLC8vJ2F1dG8nLCAnc2Nyb2xsJyBmb3IgaU9TIFNhZmFyaVxuICAgICAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsLy8gZm9yIGlPUyBTYWZhcmlcbiAgICAgICAgICAgIG92ZXJmbG93QW5jaG9yOidub25lJywgLy8gY3J1Y2lhbCFcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICB9LFtzdHlsZXMudmlld3BvcnRdKVxuXG4gICAgY29uc3QgZGl2dHJhY2tlcnN0eWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICAvLyBpbml0aWFsaXplIHdpdGggaW5oZXJpdGVkIHN0eWxlc1xuICAgIGRpdnRyYWNrZXJzdHlsZVJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgLy8gLi4uc3R5bGVzLnZpZXdwb3J0LFxuICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDowLFxuICAgICAgICAgICAgbGVmdDowXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgfSxbc3R5bGVzLnZpZXdwb3J0XSlcblxuICAgIC8vIHVwZGF0ZSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmXG4gICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiB7XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0U3RhdGUgPT0gJ3NldHVwJykgcmV0dXJuIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGNvbnN0IGxvY2FsVmlld3BvcnREYXRhID0ge1xuICAgICAgICAgICAgZWxlbWVudFJlZjp2aWV3cG9ydEVsZW1lbnRSZWYsXG4gICAgICAgICAgICBpc1Jlc2l6aW5nOmlzUmVzaXppbmdSZWYuY3VycmVudCxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaWdnZXIgY29udGV4dCBjaGFuZ2Ugd2l0aCBuZXcgb2JqZWN0XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ZGF0YW9iamVjdCA9IHsuLi5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsIC4uLmxvY2FsVmlld3BvcnREYXRhfVxuXG4gICAgICAgIHJldHVybiAgdmlld3BvcnRkYXRhb2JqZWN0XG5cbiAgICB9LFtvcmllbnRhdGlvbiwgaXNSZXNpemluZ1JlZi5jdXJyZW50LCB2aWV3cG9ydFN0YXRlXSlcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzdGF0ZSBwcm9jZXNzaW5nIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCk9PntcbiAgICAgICAgc3dpdGNoICh2aWV3cG9ydFN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZWQnOlxuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7XG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnRTdGF0ZSgncmVhZHknKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0sW3ZpZXdwb3J0U3RhdGVdKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcmVuZGVyIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgcmV0dXJuIDxWaWV3cG9ydENvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCB9PlxuICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgZGF0YS10eXBlID0gJ3ZpZXdwb3J0J1xuICAgICAgICAgICAgZGF0YS1zY3JvbGxlcmlkID0geyBzY3JvbGxlcklEIH1cbiAgICAgICAgICAgIHN0eWxlID0geyBkaXZsaW5lcnN0eWxlUmVmLmN1cnJlbnQgfVxuICAgICAgICAgICAgcmVmID0geyB2aWV3cG9ydEVsZW1lbnRSZWYgfVxuICAgICAgICA+XG4gICAgICAgICAgICB7ICh2aWV3cG9ydFN0YXRlICE9ICdzZXR1cCcpICYmIGNoaWxkcmVuIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt1c2VTY3JvbGxUcmFja2VyICYmIDxTY3JvbGxUcmFja2VyIFxuICAgICAgICAgICAgc2Nyb2xsVHJhY2tlckFQSVJlZiA9IHtzY3JvbGxUcmFja2VyQVBJUmVmfVxuICAgICAgICAgICAgc3R5bGVzID0geyBzdHlsZXMuc2Nyb2xsdHJhY2tlciB9XG4gICAgICAgIC8+fVxuICAgIDwvVmlld3BvcnRDb250ZXh0LlByb3ZpZGVyPlxuICAgIFxufSAvLyBWaWV3cG9ydFxuXG5leHBvcnQgZGVmYXVsdCBWaWV3cG9ydFxuIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsInIiLCJsIiwidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsInJlYWN0XzEiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwiU2Nyb2xsVHJhY2tlcl8xIiwiX19pbXBvcnREZWZhdWx0IiwiZXhwb3J0cyIsIlZpZXdwb3J0Q29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJWaWV3cG9ydCIsIl9yZWYiLCJjaGlsZHJlbiIsImdyaWRTcGVjcyIsInN0eWxlcyIsInNjcm9sbGVySUQiLCJWSUVXUE9SVF9SRVNJWkVfVElNRU9VVCIsInVzZVNjcm9sbFRyYWNrZXIiLCJvcmllbnRhdGlvbiIsIl9yZWYyIiwidXNlU3RhdGUiLCJfcmVmMyIsInZpZXdwb3J0U3RhdGUiLCJzZXRWaWV3cG9ydFN0YXRlIiwidmlld3BvcnRTdGF0ZVJlZiIsInVzZVJlZiIsImN1cnJlbnQiLCJpc01vdW50ZWRSZWYiLCJ2aWV3cG9ydEVsZW1lbnRSZWYiLCJzY3JvbGxUcmFja2VyQVBJUmVmIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZiIsImlzUmVzaXppbmciLCJlbGVtZW50UmVmIiwidXNlRWZmZWN0IiwicmVzaXplVGltZXJpZFJlZiIsImlzUmVzaXppbmdSZWYiLCJyZXNpemVPYnNlcnZlclJlZiIsIlJlc2l6ZU9ic2VydmVyIiwicmVzaXplQ2FsbGJhY2siLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsInVzZUNhbGxiYWNrIiwiZW50cmllcyIsInRhcmdldCIsImRhdGFzZXQiLCJpbml0aWFsaXplZCIsImFzc2lnbiIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkaXZsaW5lcnN0eWxlUmVmIiwidXNlTWVtbyIsInZpZXdwb3J0IiwicG9zaXRpb24iLCJpbnNldCIsIm92ZXJmbG93IiwiV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCJvdmVyZmxvd0FuY2hvciIsImRpdnRyYWNrZXJzdHlsZVJlZiIsInRvcCIsImxlZnQiLCJsb2NhbFZpZXdwb3J0RGF0YSIsInZpZXdwb3J0ZGF0YW9iamVjdCIsInVzZUxheW91dEVmZmVjdCIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsInN0eWxlIiwicmVmIiwic2Nyb2xsdHJhY2tlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Viewport.tsx\n')},"./src/cellframe/Placeholder.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// Placeholder.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of the default PlaceHolder is to hold the content display until the host content\n    is received. The placeholder presents a waiting message, or an error message if the load\n    of the host content failed.\n\n    The default placeholder can be replaced by a placeholder provided by the host.\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar Placeholder = function Placeholder(_ref) {\n  var index = _ref.index,\n    listsize = _ref.listsize,\n    message = _ref.message,\n    error = _ref.error,\n    userFrameStyles = _ref.userFrameStyles,\n    userLinerStyles = _ref.userLinerStyles,\n    userErrorFrameStyles = _ref.userErrorFrameStyles,\n    userErrorLinerStyles = _ref.userErrorLinerStyles;\n  var _ref2 = (0, react_1.useMemo)(function () {\n      var uFrameStyles = !error ? userFrameStyles : userErrorFrameStyles;\n      var uLinerStyles = !error ? userLinerStyles : userErrorLinerStyles;\n      var frameStyles = Object.assign(Object.assign({\n        border: \'2px solid black\',\n        backgroundColor: \'cyan\'\n      }, uFrameStyles), {\n        position: \'relative\',\n        boxSizing: \'border-box\',\n        height: \'100%\',\n        width: \'100%\',\n        overflow: \'hidden\'\n      });\n      var linerStyles = Object.assign({\n        position: \'absolute\',\n        top: 0,\n        left: 0,\n        padding: \'3px\',\n        margin: \'3px\',\n        fontSize: \'smaller\'\n      }, uLinerStyles);\n      return [frameStyles, linerStyles];\n    }, [error, userFrameStyles, userLinerStyles, userErrorFrameStyles, userErrorLinerStyles]),\n    _ref3 = _slicedToArray(_ref2, 2),\n    frameStyles = _ref3[0],\n    linerStyles = _ref3[1];\n  message = message !== null && message !== void 0 ? message : \'(loading...)\';\n  return react_1["default"].createElement("div", {\n    "data-type": \'placeholderframe\',\n    style: frameStyles\n  }, !error ? react_1["default"].createElement("div", {\n    "data-type": \'placeholderliner\',\n    style: linerStyles\n  }, index + 1, "/", listsize, " ", message) : react_1["default"].createElement("div", {\n    "data-type": \'placeholderliner\',\n    style: linerStyles\n  }, "item is not available (", error.message, ")"));\n};\nexports["default"] = Placeholder;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQ3ZCLENBQUM7SUFBQW9CLEtBQUEsR0FBQXZFLGNBQUEsQ0FBQW9ELEtBQUE7SUF4Q0tJLFdBQVcsR0FBQWUsS0FBQTtJQUFFTixXQUFXLEdBQUFNLEtBQUE7RUEyQy9CekIsT0FBTyxHQUFHQSxPQUFPLGFBQVBBLE9BQU8sY0FBUEEsT0FBTyxHQUFJLGNBQWM7RUFFbkMsT0FBT1AsT0FBQSxZQUFBaUMsYUFBQTtJQUFBLGFBQWlCLGtCQUFrQjtJQUFDQyxLQUFLLEVBQUlqQjtFQUFXLEdBQ3pELENBQUNULEtBQUssR0FDSlIsT0FBQSxZQUFBaUMsYUFBQTtJQUFBLGFBQWlCLGtCQUFrQjtJQUFDQyxLQUFLLEVBQUtSO0VBQVcsR0FBSXJCLEtBQUssR0FBRyxDQUFDLEUsS0FBR0MsUUFBUSxFLEtBQUdDLE9BQU8sQ0FBTyxHQUNsR1AsT0FBQSxZQUFBaUMsYUFBQTtJQUFBLGFBQWlCLGtCQUFrQjtJQUFDQyxLQUFLLEVBQUtSO0VBQVcsRywyQkFBMkJsQixLQUFLLENBQUNELE9BQU8sRSxJQUFRLENBRzNHO0FBQ1YsQ0FBQztBQUVENEIsa0JBQUEsR0FBZWhDLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NlbGxmcmFtZS9QbGFjZWhvbGRlci50c3g/YmIzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQbGFjZWhvbGRlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhlIHJvbGUgb2YgdGhlIGRlZmF1bHQgUGxhY2VIb2xkZXIgaXMgdG8gaG9sZCB0aGUgY29udGVudCBkaXNwbGF5IHVudGlsIHRoZSBob3N0IGNvbnRlbnRcbiAgICBpcyByZWNlaXZlZC4gVGhlIHBsYWNlaG9sZGVyIHByZXNlbnRzIGEgd2FpdGluZyBtZXNzYWdlLCBvciBhbiBlcnJvciBtZXNzYWdlIGlmIHRoZSBsb2FkXG4gICAgb2YgdGhlIGhvc3QgY29udGVudCBmYWlsZWQuXG5cbiAgICBUaGUgZGVmYXVsdCBwbGFjZWhvbGRlciBjYW4gYmUgcmVwbGFjZWQgYnkgYSBwbGFjZWhvbGRlciBwcm92aWRlZCBieSB0aGUgaG9zdC5cbiovXG5cbmltcG9ydCBSZWFjdCwge3VzZU1lbW99IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBQbGFjZWhvbGRlciA9ICh7XG4gICAgaW5kZXgsIFxuICAgIGxpc3RzaXplLCBcbiAgICBtZXNzYWdlLCBcbiAgICBlcnJvciwgXG4gICAgdXNlckZyYW1lU3R5bGVzLCBcbiAgICB1c2VyTGluZXJTdHlsZXMsXG4gICAgdXNlckVycm9yRnJhbWVTdHlsZXMsIFxuICAgIHVzZXJFcnJvckxpbmVyU3R5bGVzXG59KSA9PiB7XG5cbiAgICBjb25zdCBbZnJhbWVTdHlsZXMsIGxpbmVyU3R5bGVzXSA9IHVzZU1lbW8oKCk9PntcblxuICAgICAgICBjb25zdCB1RnJhbWVTdHlsZXMgPSBcbiAgICAgICAgICAgICghZXJyb3IpP1xuICAgICAgICAgICAgICAgIHVzZXJGcmFtZVN0eWxlczpcbiAgICAgICAgICAgICAgICB1c2VyRXJyb3JGcmFtZVN0eWxlc1xuXG4gICAgICAgIGNvbnN0IHVMaW5lclN0eWxlcyA9IFxuICAgICAgICAgICAgKCFlcnJvcik/XG4gICAgICAgICAgICAgICAgdXNlckxpbmVyU3R5bGVzOlxuICAgICAgICAgICAgICAgIHVzZXJFcnJvckxpbmVyU3R5bGVzXG5cbiAgICAgICAgY29uc3QgZnJhbWVTdHlsZXMgPSB7XG4gICAgICAgICAgICBib3JkZXI6JzJweCBzb2xpZCBibGFjaycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6J2N5YW4nLFxuICAgICAgICAgICAgLi4udUZyYW1lU3R5bGVzLFxuICAgICAgICAgICAgcG9zaXRpb246J3JlbGF0aXZlJyxcbiAgICAgICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6J2hpZGRlbicsXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZXJTdHlsZXMgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjonYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOjAsXG4gICAgICAgICAgICBsZWZ0OjAsXG4gICAgICAgICAgICBwYWRkaW5nOiczcHgnLFxuICAgICAgICAgICAgbWFyZ2luOiczcHgnLFxuICAgICAgICAgICAgZm9udFNpemU6J3NtYWxsZXInLFxuICAgICAgICAgICAgLi4udUxpbmVyU3R5bGVzLFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtmcmFtZVN0eWxlcywgbGluZXJTdHlsZXNdXG5cbiAgICB9LCBbXG4gICAgICAgIGVycm9yLFxuICAgICAgICB1c2VyRnJhbWVTdHlsZXMsIFxuICAgICAgICB1c2VyTGluZXJTdHlsZXMsXG4gICAgICAgIHVzZXJFcnJvckZyYW1lU3R5bGVzLCBcbiAgICAgICAgdXNlckVycm9yTGluZXJTdHlsZXMsXG4gICAgXSlcblxuXG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgPz8gJyhsb2FkaW5nLi4uKSdcblxuICAgIHJldHVybiA8ZGl2IGRhdGEtdHlwZSA9ICdwbGFjZWhvbGRlcmZyYW1lJyBzdHlsZSA9IHtmcmFtZVN0eWxlc30+XG4gICAgICAgIHsgIWVycm9yP1xuICAgICAgICAgICAgPGRpdiBkYXRhLXR5cGUgPSAncGxhY2Vob2xkZXJsaW5lcicgc3R5bGUgPSB7IGxpbmVyU3R5bGVzIH0+e2luZGV4ICsgMX0ve2xpc3RzaXplfSB7bWVzc2FnZX08L2Rpdj46XG4gICAgICAgICAgICA8ZGl2IGRhdGEtdHlwZSA9ICdwbGFjZWhvbGRlcmxpbmVyJyBzdHlsZSA9IHsgbGluZXJTdHlsZXMgfT5pdGVtIGlzIG5vdCBhdmFpbGFibGUgKHtlcnJvci5tZXNzYWdlfSk8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICA8L2Rpdj5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxhY2Vob2xkZXIiXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm8iLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlIiwidSIsImEiLCJmIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJpc0FycmF5IiwicmVhY3RfMSIsIl9faW1wb3J0U3RhciIsInJlcXVpcmUiLCJQbGFjZWhvbGRlciIsIl9yZWYiLCJpbmRleCIsImxpc3RzaXplIiwibWVzc2FnZSIsImVycm9yIiwidXNlckZyYW1lU3R5bGVzIiwidXNlckxpbmVyU3R5bGVzIiwidXNlckVycm9yRnJhbWVTdHlsZXMiLCJ1c2VyRXJyb3JMaW5lclN0eWxlcyIsIl9yZWYyIiwidXNlTWVtbyIsInVGcmFtZVN0eWxlcyIsInVMaW5lclN0eWxlcyIsImZyYW1lU3R5bGVzIiwiYXNzaWduIiwiYm9yZGVyIiwiYmFja2dyb3VuZENvbG9yIiwicG9zaXRpb24iLCJib3hTaXppbmciLCJoZWlnaHQiLCJ3aWR0aCIsIm92ZXJmbG93IiwibGluZXJTdHlsZXMiLCJ0b3AiLCJsZWZ0IiwicGFkZGluZyIsIm1hcmdpbiIsImZvbnRTaXplIiwiX3JlZjMiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cellframe/Placeholder.tsx\n')},"./src/cradle/ScrollTracker.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// ScrollTracker.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    The role of ScrollTracker is to provide feedback to the user of the relative position in the\n    virtual list during repositiong.\n\n    ScrollTracker can be suppressed by the host (in favour of the host\'s own location feedback)\n*/\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar ScrollTracker = function ScrollTracker(_ref) {\n  var scrollTrackerAPIRef = _ref.scrollTrackerAPIRef,\n    styles = _ref.styles;\n  var _ref2 = (0, react_1.useState)(null),\n    _ref3 = _slicedToArray(_ref2, 2),\n    index = _ref3[0],\n    setIndex = _ref3[1];\n  var indexRef = (0, react_1.useRef)(null);\n  indexRef.current = index;\n  var lowindexRef = (0, react_1.useRef)(null);\n  var listSizeRef = (0, react_1.useRef)(null);\n  var tracktext = "".concat(index, " (").concat(index - lowindexRef.current + 1, "/").concat(listSizeRef.current, ")");\n  var stylesRef = (0, react_1.useRef)(Object.assign({\n    top: \'3px\',\n    left: \'3px\',\n    position: \'absolute\',\n    zIndex: 3,\n    backgroundColor: \'white\',\n    border: \'1px solid gray\',\n    borderRadius: \'10px\',\n    fontSize: \'smaller\',\n    padding: \'3px\',\n    visibility: \'hidden\'\n  }, styles));\n  (0, react_1.useEffect)(function () {\n    scrollTrackerAPIRef.current = {\n      startReposition: startReposition,\n      updateReposition: updateReposition,\n      finishReposition: finishReposition\n    };\n  }, []);\n  var startReposition = (0, react_1.useCallback)(function (position, lowindex, listsize) {\n    setIndex(position + lowindex);\n    lowindexRef.current = lowindex;\n    listSizeRef.current = listsize;\n    stylesRef.current = Object.assign(Object.assign({}, stylesRef.current), {\n      visibility: \'visible\'\n    });\n  }, []);\n  var updateReposition = (0, react_1.useCallback)(function (position) {\n    var currentindex = position + lowindexRef.current;\n    indexRef.current != currentindex && setIndex(currentindex);\n  }, []);\n  var finishReposition = (0, react_1.useCallback)(function () {\n    stylesRef.current = Object.assign(Object.assign({}, stylesRef.current), {\n      visibility: \'hidden\'\n    });\n    setIndex(null);\n  }, []);\n  return react_1["default"].createElement("div", {\n    "data-name": \'scrolltracker\',\n    style: stylesRef.current\n  }, tracktext);\n};\nexports["default"] = ScrollTracker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckIsU0FBUyxDQUFDTDtFQUFPLEdBQUlHLFNBQVMsQ0FBTztBQUMxRixDQUFDO0FBRUR3QixrQkFBQSxHQUFldEMsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL1Njcm9sbFRyYWNrZXIudHN4PzBiM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2Nyb2xsVHJhY2tlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhlIHJvbGUgb2YgU2Nyb2xsVHJhY2tlciBpcyB0byBwcm92aWRlIGZlZWRiYWNrIHRvIHRoZSB1c2VyIG9mIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBpbiB0aGVcbiAgICB2aXJ0dWFsIGxpc3QgZHVyaW5nIHJlcG9zaXRpb25nLlxuXG4gICAgU2Nyb2xsVHJhY2tlciBjYW4gYmUgc3VwcHJlc3NlZCBieSB0aGUgaG9zdCAoaW4gZmF2b3VyIG9mIHRoZSBob3N0J3Mgb3duIGxvY2F0aW9uIGZlZWRiYWNrKVxuKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuY29uc3QgU2Nyb2xsVHJhY2tlciA9ICh7IHNjcm9sbFRyYWNrZXJBUElSZWYsIHN0eWxlcyB9KSA9PiB7XG5cbiAgICBjb25zdCBbaW5kZXgsIHNldEluZGV4XSA9IHVzZVN0YXRlKG51bGwpXG4gICAgY29uc3QgaW5kZXhSZWYgPSB1c2VSZWYobnVsbClcbiAgICBpbmRleFJlZi5jdXJyZW50ID0gaW5kZXhcbiAgICBjb25zdCBsb3dpbmRleFJlZiA9IHVzZVJlZihudWxsKVxuICAgIGNvbnN0IGxpc3RTaXplUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgICBjb25zdCB0cmFja3RleHQgPSBgJHtpbmRleH0gKCR7aW5kZXggLSBsb3dpbmRleFJlZi5jdXJyZW50ICsgMX0vJHtsaXN0U2l6ZVJlZi5jdXJyZW50fSlgXG5cbiAgICBjb25zdCBzdHlsZXNSZWYgPSB1c2VSZWYoe1xuICAgICAgICB0b3A6ICczcHgnLFxuICAgICAgICBsZWZ0OiAnM3B4JyxcbiAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgekluZGV4OjMsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjond2hpdGUnLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgZ3JheScsXG4gICAgICAgIGJvcmRlclJhZGl1czonMTBweCcsXG4gICAgICAgIGZvbnRTaXplOidzbWFsbGVyJyxcbiAgICAgICAgcGFkZGluZzonM3B4JyxcbiAgICAgICAgdmlzaWJpbGl0eTonaGlkZGVuJyxcbiAgICAgICAgLi4uc3R5bGVzXG4gICAgfSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIHNjcm9sbFRyYWNrZXJBUElSZWYuY3VycmVudCA9IHtcblxuICAgICAgICAgICAgc3RhcnRSZXBvc2l0aW9uLFxuICAgICAgICAgICAgdXBkYXRlUmVwb3NpdGlvbixcbiAgICAgICAgICAgIGZpbmlzaFJlcG9zaXRpb24sXG5cbiAgICAgICAgfVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IHN0YXJ0UmVwb3NpdGlvbiA9IHVzZUNhbGxiYWNrKChwb3NpdGlvbiwgbG93aW5kZXgsIGxpc3RzaXplKT0+IHtcblxuICAgICAgICBzZXRJbmRleChwb3NpdGlvbiArIGxvd2luZGV4KVxuICAgICAgICBsb3dpbmRleFJlZi5jdXJyZW50ID0gbG93aW5kZXhcbiAgICAgICAgbGlzdFNpemVSZWYuY3VycmVudCA9IGxpc3RzaXplXG4gICAgICAgIHN0eWxlc1JlZi5jdXJyZW50ID0gey4uLnN0eWxlc1JlZi5jdXJyZW50LHZpc2liaWxpdHk6J3Zpc2libGUnfVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IHVwZGF0ZVJlcG9zaXRpb24gPSB1c2VDYWxsYmFjaygocG9zaXRpb24pPT57XG5cbiAgICAgICAgY29uc3QgY3VycmVudGluZGV4ID0gcG9zaXRpb24gKyBsb3dpbmRleFJlZi5jdXJyZW50O1xuXG4gICAgICAgIChpbmRleFJlZi5jdXJyZW50ICE9IGN1cnJlbnRpbmRleCkgJiYgc2V0SW5kZXgoY3VycmVudGluZGV4KVxuXG4gICAgfSxbXSlcblxuICAgIGNvbnN0IGZpbmlzaFJlcG9zaXRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG5cbiAgICAgICAgc3R5bGVzUmVmLmN1cnJlbnQgPSB7Li4uc3R5bGVzUmVmLmN1cnJlbnQsdmlzaWJpbGl0eTonaGlkZGVuJ31cbiAgICAgICAgc2V0SW5kZXgobnVsbClcblxuICAgIH0sW10pXG5cbiAgICByZXR1cm4gPGRpdiBkYXRhLW5hbWUgPSAnc2Nyb2xsdHJhY2tlcicgc3R5bGUgPSB7c3R5bGVzUmVmLmN1cnJlbnR9ID57dHJhY2t0ZXh0fTwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxUcmFja2VyIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsInIiLCJsIiwidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsInJlYWN0XzEiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwiU2Nyb2xsVHJhY2tlciIsIl9yZWYiLCJzY3JvbGxUcmFja2VyQVBJUmVmIiwic3R5bGVzIiwiX3JlZjIiLCJ1c2VTdGF0ZSIsIl9yZWYzIiwiaW5kZXgiLCJzZXRJbmRleCIsImluZGV4UmVmIiwidXNlUmVmIiwiY3VycmVudCIsImxvd2luZGV4UmVmIiwibGlzdFNpemVSZWYiLCJ0cmFja3RleHQiLCJjb25jYXQiLCJzdHlsZXNSZWYiLCJhc3NpZ24iLCJ0b3AiLCJsZWZ0IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJ2aXNpYmlsaXR5IiwidXNlRWZmZWN0Iiwic3RhcnRSZXBvc2l0aW9uIiwidXBkYXRlUmVwb3NpdGlvbiIsImZpbmlzaFJlcG9zaXRpb24iLCJ1c2VDYWxsYmFjayIsImxvd2luZGV4IiwibGlzdHNpemUiLCJjdXJyZW50aW5kZXgiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/ScrollTracker.tsx\n')},"./src/cradle/contentfunctions.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\n// contentfunctions.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.deletePortals = exports.allocateContentList = exports.getCellFrameComponentList = exports.calculateShiftSpecs = exports.generateShiftInstruction = exports.calculateContentListRequirements = void 0;\n/*\n    This module supports the contenthandler module. The functions in this module perform\n    the detailed calculations and processes required by the contenthandler.\n\n    calculateContentListRequirements is called by the contenthandler's setCradleContent function.\n\n    generateShiftInstruction and calcContentShift are called by contentHandler's updateCradleContent\n    function.\n    \n    getCellFrameComponentList, allocateContentList, and deletePortals functions are shared by both.\n\n    createCellFrame is called internally by getCellFrameComponentList as needed.\n*/\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\nvar CellFrame_1 = __importDefault(__webpack_require__(/*! ../CellFrame */ \"./src/CellFrame.tsx\"));\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ../InfiniteGridScroller */ \"./src/InfiniteGridScroller.tsx\");\n// ======================[ for setCradleContent ]===========================\nvar calculateContentListRequirements = function calculateContentListRequirements(_ref) {\n  var targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n    baseRowPixelLength = _ref.baseRowPixelLength,\n    targetPixelOffsetAxisFromViewport = _ref.targetPixelOffsetAxisFromViewport,\n    cradleInheritedProperties = _ref.cradleInheritedProperties,\n    cradleInternalProperties = _ref.cradleInternalProperties;\n  var orientation = cradleInheritedProperties.orientation,\n    cradleContentProps = cradleInternalProperties.cradleContentProps,\n    virtualListProps = cradleInternalProperties.virtualListProps,\n    paddingProps = cradleInternalProperties.paddingProps,\n    cradleRowcount = cradleContentProps.cradleRowcount,\n    runwayRowcount = cradleContentProps.runwayRowcount,\n    listlowindex = virtualListProps.lowindex,\n    listhighindex = virtualListProps.highindex,\n    crosscount = virtualListProps.crosscount,\n    listRowcount = virtualListProps.rowcount,\n    baserowblanks = virtualListProps.baserowblanks,\n    endrowblanks = virtualListProps.endrowblanks,\n    rangerowshift = virtualListProps.rowshift;\n\n  // align axis reference to list scope\n  targetAxisReferenceIndex = Math.min(targetAxisReferenceIndex, listhighindex);\n  targetAxisReferenceIndex = Math.max(targetAxisReferenceIndex, listlowindex);\n  // derive target row\n  var targetAxisReferenceRow = Math.floor(targetAxisReferenceIndex / crosscount);\n  // -----------------------[ calc cradleReferenceRow & Index ]------------------------\n  // leading edge\n  var targetCradleReferenceRow = Math.max(rangerowshift, targetAxisReferenceRow - runwayRowcount),\n    // trailing edge\n    targetCradleEndRow = targetCradleReferenceRow + (cradleRowcount - 1);\n  var listEndRowOffset = listRowcount - 1 + rangerowshift;\n  if (targetCradleEndRow > listEndRowOffset) {\n    var diff = targetCradleEndRow - listEndRowOffset;\n    targetCradleReferenceRow -= diff;\n    targetCradleEndRow -= diff;\n  }\n  var targetCradleReferenceIndex = targetCradleReferenceRow * crosscount;\n  targetCradleReferenceIndex = Math.max(targetCradleReferenceIndex, listlowindex);\n  // ---------------------[ calc cradle content count ]---------------------\n  var newCradleContentCount = cradleRowcount * crosscount;\n  if (targetCradleEndRow == listEndRowOffset) {\n    if (endrowblanks) {\n      newCradleContentCount -= endrowblanks; // endRowRemainderCount)\n    }\n  }\n\n  if (targetCradleReferenceRow == rangerowshift) {\n    // first row\n    if (baserowblanks) {\n      newCradleContentCount -= baserowblanks;\n    }\n  }\n  // --------------------[ calc css positioning ]-----------------------\n  var paddingOffset = orientation == 'vertical' ? paddingProps.top : paddingProps.left,\n    targetPixelOffsetViewportFromScrollblock = (targetAxisReferenceRow - rangerowshift) * baseRowPixelLength + paddingOffset - targetPixelOffsetAxisFromViewport;\n  // ----------------------[ return required values ]---------------------\n  return {\n    targetCradleReferenceIndex: targetCradleReferenceIndex,\n    targetAxisReferenceIndex: targetAxisReferenceIndex,\n    targetPixelOffsetViewportFromScrollblock: targetPixelOffsetViewportFromScrollblock,\n    newCradleContentCount: newCradleContentCount\n  };\n};\nexports.calculateContentListRequirements = calculateContentListRequirements;\n// ======================[ for updateCradleContent ]===========================\n/*\n    the two triggerlines must straddle the head of the viewport (top or left) so that\n    cradle motion can be detected. Motion is most often caused by scrolling, but\n    can also occur with change of size of cradle content rows.\n\n    generateShiftInstruction determines whether the axis should be moved toward the head or tail\n        to restore the straddling position of the two trigger lines. Lots of relative motion.\n\n    'moveaxisheadward' (scrolling down or right) means moving the axis up or left, adjacent items down\n         or right to the tail, dropping trailing tail items, and adding leading head items as necessary\n         to maintain number of cradle rows of content constant.\n\n    'moveaxistailward' (scrolling up or left) means moving the axis down or right, adjacent items up\n         or left to the head, dropping trailing head items, and adding leading tail items as necessary\n         to maintain number of cradle rows of content constant.\n\n    'none' means no shift is required\n*/\nvar generateShiftInstruction = function generateShiftInstruction(_ref2) {\n  var orientation = _ref2.orientation,\n    triggerlineEntries = _ref2.triggerlineEntries,\n    triggerlineSpan = _ref2.triggerlineSpan,\n    scrollerID = _ref2.scrollerID,\n    isFirstRowTriggerConfig = _ref2.isFirstRowTriggerConfig,\n    viewportBoundingRect = _ref2.viewportBoundingRect,\n    triggerHistoryRef = _ref2.triggerHistoryRef;\n  // ---------------------[ collect resources ]----------------\n  var triggerConfigData = {\n      headOffset: null,\n      tailOffset: null,\n      span: triggerlineSpan,\n      isFirstRowTriggerConfig: isFirstRowTriggerConfig\n    },\n    // most recent observer record; either triggerline will do\n    entry = triggerlineEntries[triggerlineEntries.length - 1],\n    //.at(-1) at not available in iOS 15\n    referencename = entry.target.dataset.type,\n    // headtrigger or tailtrigger\n    span = triggerlineSpan,\n    // current pixel distance between triggers\n    // --- identify viewportpos...\n    intersectrootpos =\n    // the viewport measured by the observer\n    orientation == 'vertical' ? Math.trunc(entry.rootBounds.y) : Math.trunc(entry.rootBounds.x),\n    boundingrootpos =\n    // the viewport measured directly\n    orientation == 'vertical' ? Math.trunc(viewportBoundingRect.y) : Math.trunc(viewportBoundingRect.x),\n    // this selection is redundant, but documents what's going on\n    viewportpos =\n    // the viewportpos selection, to accommodate Safari zooming anomaly\n    intersectrootpos == boundingrootpos ? intersectrootpos : boundingrootpos,\n    // we're in Safari, zoomed\n    // --- end of identify viewportpos\n    triggerpos = orientation == 'vertical' ? Math.trunc(entry.boundingClientRect.y) : Math.trunc(entry.boundingClientRect.x),\n    // get the triggeroffset, which controls the determination of the shift instruction\n    triggerOffset = triggerpos - viewportpos,\n    triggerHistory = triggerHistoryRef.current;\n  entry.referencename = referencename; // for debug\n  // -------------- [ set the offset data for both triggers ] ------------\n  if (referencename == 'headtrigger') {\n    triggerConfigData.headOffset = triggerOffset;\n    triggerConfigData.tailOffset = triggerOffset + span;\n  } else {\n    // tailtrigger\n    triggerConfigData.headOffset = triggerOffset - span;\n    triggerConfigData.tailOffset = triggerOffset;\n  }\n  // -------------------[ calculate shift instruction ]--------------\n  var shiftinstruction;\n  // --------------[ FILTER OUT INFINITE RECURSION ]--------------\n  // since triggers are moved and can share the 0 (zero) offset, an infinite loop can occur\n  // between the head and tail triggers. The following short-circuits that.\n  // Identify case of trigger at border\n  if (InfiniteGridScroller_1.isSafariIOS && (\n  // either trigger offset is exactly 0\n  triggerConfigData.headOffset == 0 || triggerConfigData.tailOffset == 0) || !InfiniteGridScroller_1.isSafariIOS && (\n  // either trigger offset is within range of 0\n  triggerConfigData.headOffset >= -1 && triggerConfigData.headOffset <= 1 || triggerConfigData.tailOffset >= -1 && triggerConfigData.tailOffset <= 1)) {\n    // some browsers do an infinite loop with the same previousTriggerNameAtBorder;\n    // usually alternates\n    // so if this is a repeat of the same at-border, short-circuit and cancel\n    if (triggerHistory.previousTriggerNameAtBorder) {\n      triggerHistory.previousTriggerNameAtBorder = null;\n      shiftinstruction = 'none';\n    } else {\n      // record this instance, to prevent a repeat next time\n      if (triggerConfigData.headOffset >= -1 && triggerConfigData.headOffset <= 1) {\n        triggerHistory.previousTriggerNameAtBorder = 'headtrigger';\n      } else {\n        triggerHistory.previousTriggerNameAtBorder = 'tailtrigger';\n      }\n    }\n  } else {\n    // otherwise if not at-border clear record of previous trigger at border\n    if (triggerHistory.previousTriggerNameAtBorder) {\n      triggerHistory.previousTriggerNameAtBorder = null;\n    }\n  }\n  if (shiftinstruction) {\n    // will be 'none', owing to repeat of trigger at border\n    return [shiftinstruction, 0];\n  }\n  // --------------[ END OF FILTER OUT INFINITE RECURSION ]--------------\n  // now safely calculate the shift instruction\n  // the head offset should always be placed above the border; the tail below\n  if (isFirstRowTriggerConfig) {\n    if (triggerConfigData.headOffset <= 0) {\n      shiftinstruction = 'moveaxistailward';\n    } else {\n      shiftinstruction = 'none';\n    }\n  } else {\n    if (triggerConfigData.tailOffset <= 0) {\n      shiftinstruction = 'moveaxistailward';\n    } else if (triggerConfigData.headOffset >= 0) {\n      shiftinstruction = 'moveaxisheadward';\n    } else {\n      shiftinstruction = 'none';\n    }\n  }\n  var triggerViewportReferencePixelPos =\n  // used to calculate required pixel shift\n  shiftinstruction == 'moveaxistailward' ?\n  // block is scrolling up or left\n  triggerConfigData.tailOffset :\n  // needs to move up or left toward head\n  triggerConfigData.headOffset; // needs to move down or right toward tail\n  return [shiftinstruction, triggerViewportReferencePixelPos];\n};\nexports.generateShiftInstruction = generateShiftInstruction;\n/*\n    The basic goal of calculateShiftSpecs is to determine the number and direction of rows to shift between\n    the head and tail grids (which determines the new location of the axis), and also to\n    calculate the rolling addition and deletion of cradle content to accommodate the changes.\n\n    The number of rows to shift is determined by the pixel shift required to restore the\n    triggerlines to their straddle configuration around the head (top or left) of the viewport.\n\n    Adjustments are made to accommodate special requirements at the start and end of the virtual list.\n\n    DOM measurements are used where available (to accommodate variable dimension rows), and standard\n    units (cellHeight, cellWidth) used for estimates where necessary.\n*/\n// rowshift is at least 1 by the time this function is reached\n// ie. a shiftinstruction of 'moveaxisheadward' or 'moveaxistailward'\nvar calculateShiftSpecs = function calculateShiftSpecs(_ref3) {\n  var shiftinstruction = _ref3.shiftinstruction,\n    triggerViewportReferencePixelPos = _ref3.triggerViewportReferencePixelPos,\n    currentScrollPos = _ref3.currentScrollPos,\n    scrollblockElement = _ref3.scrollblockElement,\n    cradleInheritedProperties = _ref3.cradleInheritedProperties,\n    cradleInternalProperties = _ref3.cradleInternalProperties,\n    cradleContentProps = _ref3.cradleContentProps,\n    virtualListProps = _ref3.virtualListProps,\n    cradleContent = _ref3.cradleContent,\n    cradleElements = _ref3.cradleElements;\n  // ------------------------[ 1. initialize ]-----------------------\n  var _a, _b;\n  // cradle elements\n  var axisElement = cradleElements.axisRef.current,\n    headGridElement = cradleElements.headRef.current,\n    tailGridElement = cradleElements.tailRef.current,\n    orientation = cradleInheritedProperties.orientation,\n    cellHeight = cradleInheritedProperties.cellHeight,\n    cellWidth = cradleInheritedProperties.cellWidth,\n    layout = cradleInheritedProperties.layout,\n    scrollerID = cradleInheritedProperties.scrollerID,\n    paddingProps = cradleInternalProperties.paddingProps,\n    gapProps = cradleInternalProperties.gapProps,\n    cradlecontentlist = cradleContent.cradleModelComponents,\n    tailcontentlist = cradleContent.tailModelComponents,\n    cradleRowcount = cradleContentProps.cradleRowcount,\n    viewportRowcount = cradleContentProps.viewportRowcount,\n    runwayRowcount = cradleContentProps.runwayRowcount,\n    crosscount = virtualListProps.crosscount,\n    listRowcount = virtualListProps.rowcount,\n    listlowindex = virtualListProps.lowindex,\n    baserowblanks = virtualListProps.baserowblanks,\n    endrowblanks = virtualListProps.endrowblanks,\n    rangerowshift = virtualListProps.rowshift,\n    previousCradleReferenceIndex = ((_a = cradlecontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0,\n    previousCradleReferenceRow = Math.floor(previousCradleReferenceIndex / crosscount),\n    previousAxisReferenceIndex = ((_b = tailcontentlist[0]) === null || _b === void 0 ? void 0 : _b.props.index) || 0,\n    previousAxisReferenceRow = Math.floor(previousAxisReferenceIndex / crosscount),\n    listEndRow = listRowcount - 1 + rangerowshift,\n    gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row,\n    baseRowPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gaplength;\n  var foundGridSpanRowShiftIncrement,\n    gridSpanAxisPixelShift = 0,\n    // in relation to viewport head boundary\n    byPixelMeasureGridRowShiftCount = 0,\n    isListBoundary = false,\n    totalPixelShift,\n    finalVariableRowLength; // special case\n  // ----------------------------[ 2. calculate base row shift ]--------------------------\n  // measure exising variable rows for pixel length\n  if (layout == 'variable') {\n    var engagedGridElement =\n      // moving axis (and triggers) toward the reference grid element\n      shiftinstruction == 'moveaxistailward' ?\n      // scrolling up or left\n      tailGridElement : headGridElement,\n      gridRowPixelLengthsList = getGridRowLengths(engagedGridElement, orientation, crosscount, gapProps);\n    if (shiftinstruction == 'moveaxisheadward') {\n      // scrolling down or right; move triggerlines up or left\n      gridRowPixelLengthsList.reverse(); // head grid row lengths listed from axis toward head\n    }\n\n    var gridRowCumulativePixelLengthsList = getGridRowAggregateSpans(gridRowPixelLengthsList); // count pixels where available\n    // first try to find position based on known (instantiated) rows\n    if (shiftinstruction == 'moveaxistailward') {\n      // scroll up\n      // tail trigger needs to move down or right until position relative to viewport top or left is positive\n      foundGridSpanRowShiftIncrement = gridRowCumulativePixelLengthsList.findIndex(function (cumulativepixellength) {\n        return triggerViewportReferencePixelPos + cumulativepixellength >= 0;\n      });\n    } else {\n      // 'moveaxisheadward', scrolldown\n      // head trigger needs to move up or left until position relative to viewport top or left is negative\n      foundGridSpanRowShiftIncrement = gridRowCumulativePixelLengthsList.findIndex(function (cumulativepixellength) {\n        return triggerViewportReferencePixelPos - cumulativepixellength <= 0;\n      });\n    }\n    if (foundGridSpanRowShiftIncrement != -1) {\n      // found measureed row for shift\n      gridSpanAxisPixelShift = shiftinstruction == 'moveaxistailward' ? gridRowCumulativePixelLengthsList[foundGridSpanRowShiftIncrement] :\n      // move axis toward tail from viewport boundary (positive)\n      -gridRowCumulativePixelLengthsList[foundGridSpanRowShiftIncrement]; // move axis toward head from viewport boundary (negative)\n    } else {\n      // no foundGridSpanRowShiftIncrement; either in boundary, or shy of target\n      isListBoundary = gridRowCumulativePixelLengthsList.length == 0; // boundary at head of list\n      if (!isListBoundary) {\n        // interim working result\n        byPixelMeasureGridRowShiftCount = gridRowCumulativePixelLengthsList.length - 1; // base: failed measured row ptr\n        totalPixelShift = gridRowCumulativePixelLengthsList[byPixelMeasureGridRowShiftCount]; // set base of working overshoot\n        finalVariableRowLength = gridRowPixelLengthsList.at(-1); // for oversize cell adjustment below\n      } else {\n        // else if isListBoundary row and pixel shifts remain at default of 0 each\n        byPixelMeasureGridRowShiftCount = 0;\n        totalPixelShift = 0;\n      }\n    }\n  } else {\n    // layout == 'uniform'; use only defined lengths\n    foundGridSpanRowShiftIncrement = -1; // \"not found\", ie not applicable\n    // these are the defaults\n    byPixelMeasureGridRowShiftCount = 0;\n    totalPixelShift = 0;\n  }\n  // uniform layout, or overshoot of instantiated rows; continue with virtual base rows\n  if (foundGridSpanRowShiftIncrement == -1) {\n    if (!isListBoundary) {\n      if (shiftinstruction == 'moveaxistailward') {\n        // scrolling up/left\n        do {\n          totalPixelShift += baseRowPixelLength;\n          byPixelMeasureGridRowShiftCount++;\n        } while (triggerViewportReferencePixelPos + totalPixelShift < 0);\n        gridSpanAxisPixelShift = totalPixelShift;\n      } else {\n        // moveaxisheadward; scrolling down/right\n        do {\n          totalPixelShift += baseRowPixelLength;\n          byPixelMeasureGridRowShiftCount++;\n          if (previousAxisReferenceRow - rangerowshift - byPixelMeasureGridRowShiftCount == 0) {\n            // stop cycling at head limit\n            break;\n          }\n        } while (triggerViewportReferencePixelPos - totalPixelShift > 0);\n        gridSpanAxisPixelShift = -totalPixelShift;\n      }\n    }\n    // byPixelMeasureGridRowCount is one greater than foundGridSpanRowIncrement with actual measurements above\n    // this -1 makes them compatible for span conversion (next step)\n    foundGridSpanRowShiftIncrement = byPixelMeasureGridRowShiftCount - 1;\n  }\n  var gridSpanRowShift =\n  // pick up row shift with or without overshoot\n  shiftinstruction == 'moveaxistailward' ? foundGridSpanRowShiftIncrement + 1 : -(foundGridSpanRowShiftIncrement + 1);\n  // the following two values (axisReferenceRowShift & axisPixelShift), and no other calcs, \n  //     are carried forward in this function.\n  // for axisReferenceRowshift:\n  // negative for moving rows out of head into tail;\n  // positive for moving rows out of tail into head\n  var axisReferenceRowShift = gridSpanRowShift,\n    axisPixelShift = gridSpanAxisPixelShift;\n  // this can only happen with oversized cellLength (ie > viewportLength)\n  //     and only using measured length\n  // axis must be no farther than 1 back of the last row end position\n  if (previousAxisReferenceRow + axisReferenceRowShift > listEndRow) {\n    axisReferenceRowShift -= 1;\n    if (layout == 'variable') {\n      axisPixelShift -= finalVariableRowLength;\n    } else {\n      axisPixelShift -= baseRowPixelLength;\n    }\n  }\n  // -----------[ 3. calculate current viewport axis pixel offset ]-------------------\n  // gaps beyond rendered rows can be caused by rapid scrolling\n  var scrollblockAxisPixelOffset = orientation == 'vertical' ? axisElement.offsetTop : axisElement.offsetLeft,\n    scrollblockPixelOffset =\n    // to capture current top/left adjustment to viewport for variable layout\n    orientation == 'vertical' ? scrollblockElement.offsetTop : scrollblockElement.offsetLeft,\n    // currentViewportAxisOffset will be negative (above viewport edge) for scroll block headward \n    //     and positive for scroll block tailward\n    // the pixel distance between the viewport frame and the axis, toward the head\n    currentViewportAxisPixelOffset = scrollblockAxisPixelOffset + scrollblockPixelOffset - currentScrollPos;\n  // -------------[ 4. calculate new axis pixel position ]------------------\n  var newPixelOffsetAxisFromViewport = currentViewportAxisPixelOffset + axisPixelShift;\n  // Note: sections 5, 6 and 7 deal entirely with row calculations; no pixels\n  // ------------[ 5. calc new cradle and axis reference row offsets ]-------------\n  // base value for cradle reference shift; may change if beyond list bounds\n  var cradleReferenceRowshift = axisReferenceRowShift;\n  // base values\n  var newCradleReferenceRow = previousCradleReferenceRow + cradleReferenceRowshift;\n  var newAxisReferenceRow = previousAxisReferenceRow + axisReferenceRowShift;\n  // --------[ 6. adjust cradle contents for start and end of list ]-------\n  // ...to maintain constant number of cradle rows\n  if (shiftinstruction == 'moveaxistailward') {\n    // scrolling up/left\n    // a. if scrolling the block headward near the start of the list, new cradle row offset and\n    // cradle row shift count has to be adjusted to accommodate the leading runway\n    // b. if scrolling the block headward (revealing tail of list), as the cradle last row offset \n    // approaches max listrow, new cradle offset and cradle row shift have to be adjusted to prevent \n    // shortening of cradle content.\n    // --- start of list adjustment\n    var targetCradleReferenceRow = Math.max(rangerowshift, newAxisReferenceRow - runwayRowcount - 1),\n      // extra row for visibility\n      headrowDiff = newCradleReferenceRow - targetCradleReferenceRow;\n    if (headrowDiff > 0) {\n      newCradleReferenceRow -= headrowDiff;\n      cradleReferenceRowshift -= headrowDiff;\n    }\n    // --- end of list adjustment: case of being in bounds of trailing runway (end of list)\n    var targetCradleEndrow = newCradleReferenceRow + (cradleRowcount - 1),\n      tailrowdiff = targetCradleEndrow - listEndRow;\n    if (tailrowdiff > 0) {\n      cradleReferenceRowshift -= tailrowdiff;\n      newCradleReferenceRow -= tailrowdiff;\n    }\n  } else {\n    // shiftinstruction == 'moveaxisheadward'; scrolling down/right\n    // c. if scrolling the block down or right (toward revealing head of list), as the cradlerowoffset \n    // hits 0, cradle changes have to be adjusted to prevent shortening of cradle content\n    // d. if scrolling headward near the end of the list, cradle changes have to be adjusted to \n    // accomodate the trailing runway\n    // --- start of list adjustment\n    if (newCradleReferenceRow < rangerowshift) {\n      var diff = rangerowshift - newCradleReferenceRow;\n      cradleReferenceRowshift += diff;\n      newCradleReferenceRow += diff;\n    }\n    // const paddingOffset = \n    //     orientation == 'vertical'?\n    //         paddingProps.top:\n    //         paddingProps.left\n    if (layout == 'variable' && newAxisReferenceRow == rangerowshift) {\n      // start of list\n      newPixelOffsetAxisFromViewport = 0; // paddingOffset\n    }\n    // --- end of list adjustment; case of in bounds of trailing runway\n    var computedNextCradleEndRow = previousCradleReferenceRow + (cradleRowcount - 1) + cradleReferenceRowshift,\n      targetCradleEndRow = newAxisReferenceRow + (viewportRowcount - 1) + (runwayRowcount - 1);\n    var _tailrowdiff = computedNextCradleEndRow - targetCradleEndRow;\n    if (_tailrowdiff < 0) {\n      _tailrowdiff = Math.max(_tailrowdiff, cradleReferenceRowshift);\n      cradleReferenceRowshift -= _tailrowdiff;\n      newCradleReferenceRow -= _tailrowdiff;\n    }\n  }\n  // ----------------------[ 7. map rows to item references ]----------------------\n  var newCradleReferenceIndex = Math.max(listlowindex, newCradleReferenceRow * crosscount),\n    cradleReferenceItemShift = newCradleReferenceIndex - previousCradleReferenceIndex,\n    newAxisReferenceIndex = Math.max(listlowindex, newAxisReferenceRow * crosscount),\n    axisReferenceItemShift = newAxisReferenceIndex - previousAxisReferenceIndex,\n    includesLastRow = newCradleReferenceRow + cradleRowcount - rangerowshift >= listRowcount,\n    includesFirstRow = newCradleReferenceRow == rangerowshift;\n  var newCradleContentCount = cradleRowcount * crosscount; // base count\n  if (includesLastRow) {\n    newCradleContentCount -= endrowblanks;\n  }\n  if (includesFirstRow) {\n    newCradleContentCount -= baserowblanks;\n  }\n  // create head and tail change counts\n  var changeOfCradleContentCount = cradlecontentlist.length - newCradleContentCount,\n    listStartChangeCount = -cradleReferenceItemShift,\n    listEndChangeCount = -listStartChangeCount - changeOfCradleContentCount;\n  // ---------------------[ 8. return required values ]-------------------\n  return {\n    // newCradleReferenceIndex, \n    cradleReferenceItemShift: cradleReferenceItemShift,\n    newAxisReferenceIndex: newAxisReferenceIndex,\n    axisReferenceItemShift: axisReferenceItemShift,\n    newPixelOffsetAxisFromViewport: newPixelOffsetAxisFromViewport,\n    newCradleContentCount: newCradleContentCount,\n    listStartChangeCount: listStartChangeCount,\n    listEndChangeCount: listEndChangeCount\n  };\n};\nexports.calculateShiftSpecs = calculateShiftSpecs;\n// supports calcContentShift above\nvar getGridRowLengths = function getGridRowLengths(grid, orientation, crosscount, gapProps) {\n  var rowLengths = [],\n    elementList = grid.childNodes;\n  var elementPtr = 0,\n    element = elementList[elementPtr];\n  while (element) {\n    var rowlength = orientation == 'vertical' ? element.offsetHeight + gapProps.column : element.offsetWidth + gapProps.row;\n    rowLengths.push(rowlength);\n    elementPtr += crosscount;\n    element = elementList[elementPtr];\n  }\n  return rowLengths;\n};\n// supports calcContentShift above\nvar getGridRowAggregateSpans = function getGridRowAggregateSpans(rowLengths) {\n  var rowSpans = [];\n  var span = 0;\n  rowLengths.forEach(function (value) {\n    span += value;\n    rowSpans.push(span);\n  });\n  return rowSpans;\n};\n// =====================[ shared by both setCradleContent and updateCradleContent ]====================\n// update content\n// adds CellFrames at end of contentlist according to headindexcount and tailindexcount,\n// or if indexcount values are <0 removes them.\nvar getCellFrameComponentList = function getCellFrameComponentList(_ref4) {\n  var cradleInheritedProperties = _ref4.cradleInheritedProperties,\n    cradleInternalProperties = _ref4.cradleInternalProperties,\n    cacheAPI = _ref4.cacheAPI,\n    cradleContentCount = _ref4.cradleContentCount,\n    cradleReferenceIndex = _ref4.cradleReferenceIndex,\n    listStartChangeCount = _ref4.listStartChangeCount,\n    listEndChangeCount = _ref4.listEndChangeCount,\n    contentlist = _ref4.workingContentList,\n    instanceIdCounterRef = _ref4.instanceIdCounterRef,\n    styles = _ref4.styles,\n    placeholderMessages = _ref4.placeholderMessages;\n  var localContentlist = _toConsumableArray(contentlist),\n    lastindexoffset = cradleReferenceIndex + localContentlist.length - 1,\n    headContentlist = [],\n    tailContentlist = [];\n  var deletedtailitems = [],\n    deletedheaditems = [];\n  if (listStartChangeCount >= 0) {\n    // acquire new items\n    var referenceIndex = cradleReferenceIndex,\n      changeCount = listStartChangeCount;\n    if (listStartChangeCount > cradleContentCount) {\n      referenceIndex = cradleReferenceIndex - (listStartChangeCount - cradleContentCount);\n      changeCount = cradleContentCount;\n    }\n    for (var newindex = referenceIndex - changeCount; newindex < referenceIndex; newindex++) {\n      headContentlist.push(createCellFrame({\n        index: newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheAPI: cacheAPI,\n        placeholderFrameStyles: styles.placeholderframe,\n        placeholderLinerStyles: styles.placeholderliner,\n        placeholderErrorFrameStyles: styles.placeholdererrorframe,\n        placeholderErrorLinerStyles: styles.placeholdererrorliner,\n        placeholderMessages: placeholderMessages\n      }));\n    }\n  } else {\n    deletedheaditems = localContentlist.splice(0, -listStartChangeCount);\n  }\n  if (listEndChangeCount >= 0) {\n    // acquire new items\n    var _referenceIndex = lastindexoffset,\n      _changeCount = listEndChangeCount;\n    if (listEndChangeCount > cradleContentCount) {\n      _referenceIndex = lastindexoffset + (listEndChangeCount - cradleContentCount);\n      _changeCount = cradleContentCount;\n    }\n    for (var _newindex = _referenceIndex + 1; _newindex < _referenceIndex + 1 + _changeCount; _newindex++) {\n      tailContentlist.push(createCellFrame({\n        index: _newindex,\n        cradleInheritedProperties: cradleInheritedProperties,\n        cradleInternalProperties: cradleInternalProperties,\n        instanceIdCounterRef: instanceIdCounterRef,\n        cacheAPI: cacheAPI,\n        placeholderFrameStyles: styles.placeholderframe,\n        placeholderLinerStyles: styles.placeholderliner,\n        placeholderErrorFrameStyles: styles.placeholdererrorframe,\n        placeholderErrorLinerStyles: styles.placeholdererrorliner,\n        placeholderMessages: placeholderMessages\n      }));\n    }\n  } else {\n    deletedtailitems = localContentlist.splice(listEndChangeCount, -listEndChangeCount);\n  }\n  var deletedItems = [].concat(_toConsumableArray(deletedheaditems), _toConsumableArray(deletedtailitems)),\n    componentList = [].concat(headContentlist, _toConsumableArray(localContentlist), tailContentlist);\n  return [componentList, deletedItems];\n};\nexports.getCellFrameComponentList = getCellFrameComponentList;\n// Leading (head) all or partially hidden; tail, visible plus trailing hidden\nvar allocateContentList = function allocateContentList(_ref5) {\n  var contentlist = _ref5.contentlist,\n    axisReferenceIndex = _ref5.axisReferenceIndex,\n    layoutHandler = _ref5.layoutHandler;\n  var _a;\n  var triggercellIndex = layoutHandler.triggercellIndex,\n    lowcontentindex = (_a = contentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index,\n    highcontentindex = lowcontentindex + contentlist.length,\n    headitemcount = axisReferenceIndex - lowcontentindex,\n    targetTriggercellIndex = headitemcount == 0 ? axisReferenceIndex : axisReferenceIndex - 1;\n  layoutHandler.triggercellIsInTail = headitemcount == 0 ? true : false;\n  if (triggercellIndex !== undefined && lowcontentindex !== undefined) {\n    //&& \n    if (triggercellIndex >= lowcontentindex && triggercellIndex <= highcontentindex) {\n      var _triggercellPtr = triggercellIndex - lowcontentindex,\n        _triggercellComponent = contentlist[_triggercellPtr];\n      if (_triggercellComponent) {\n        // otherwise has been asynchronously cleared\n        contentlist[_triggercellPtr] = react_1[\"default\"].cloneElement(_triggercellComponent, {\n          isTriggercell: false\n        });\n      }\n    }\n  }\n  var triggercellPtr = targetTriggercellIndex - lowcontentindex,\n    triggercellComponent = contentlist[triggercellPtr];\n  if (triggercellComponent) {\n    contentlist[triggercellPtr] = react_1[\"default\"].cloneElement(triggercellComponent, {\n      isTriggercell: true\n    });\n    layoutHandler.triggercellIndex = targetTriggercellIndex;\n  } else {\n    // defensive; shouldn't happen\n    console.log('FAILURE TO REGISTER TRIGGERCELL:scrollerID', '-' + layoutHandler.scrollerID + '-');\n    console.log('axisReferenceIndex, triggercellIndex, lowcontentindex, highcontentindex, headitemcount, targetTriggercellIndex\\n', axisReferenceIndex, triggercellIndex, lowcontentindex, highcontentindex, headitemcount, targetTriggercellIndex);\n    console.log('triggercellPtr, triggercellComponent, triggercellComponent?.props.isTriggecell, contentlist\\n', triggercellPtr, triggercellComponent, triggercellComponent === null || triggercellComponent === void 0 ? void 0 : triggercellComponent.props.isTriggecell, Object.assign({}, contentlist));\n  }\n  var headlist = contentlist.slice(0, headitemcount),\n    taillist = contentlist.slice(headitemcount);\n  return [headlist, taillist];\n};\nexports.allocateContentList = allocateContentList;\nvar deletePortals = function deletePortals(cacheAPI, deleteList, deleteListCallback) {\n  var dlist = deleteList.map(function (item) {\n    return item.props.index;\n  });\n  cacheAPI.deletePortalByIndex(dlist, deleteListCallback);\n};\nexports.deletePortals = deletePortals;\n// =====================[ internal, acquire item ]======================\nvar createCellFrame = function createCellFrame(_ref6) {\n  var index = _ref6.index,\n    cradleInheritedProperties = _ref6.cradleInheritedProperties,\n    cradleInternalProperties = _ref6.cradleInternalProperties,\n    instanceIdCounterRef = _ref6.instanceIdCounterRef,\n    cacheAPI = _ref6.cacheAPI,\n    placeholderFrameStyles = _ref6.placeholderFrameStyles,\n    placeholderLinerStyles = _ref6.placeholderLinerStyles,\n    placeholderErrorFrameStyles = _ref6.placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles = _ref6.placeholderErrorLinerStyles,\n    placeholderMessages = _ref6.placeholderMessages;\n  var instanceID = instanceIdCounterRef.current++;\n  var orientation = cradleInheritedProperties.orientation,\n    cellHeight = cradleInheritedProperties.cellHeight,\n    cellWidth = cradleInheritedProperties.cellWidth,\n    cellMinHeight = cradleInheritedProperties.cellMinHeight,\n    cellMinWidth = cradleInheritedProperties.cellMinWidth,\n    getItem = cradleInheritedProperties.getItem,\n    placeholder = cradleInheritedProperties.placeholder,\n    scrollerID = cradleInheritedProperties.scrollerID,\n    layout = cradleInheritedProperties.layout,\n    usePlaceholder = cradleInheritedProperties.usePlaceholder;\n  var listsize = cradleInternalProperties.virtualListProps.size,\n    // get new or existing itemID\n    itemID = cacheAPI.getNewOrExistingItemID(index);\n  return react_1[\"default\"].createElement(CellFrame_1[\"default\"], {\n    key: instanceID,\n    orientation: orientation,\n    cellHeight: cellHeight,\n    cellWidth: cellWidth,\n    cellMinHeight: cellMinHeight,\n    cellMinWidth: cellMinWidth,\n    layout: layout,\n    index: index,\n    getItem: getItem,\n    listsize: listsize,\n    placeholder: placeholder,\n    itemID: itemID,\n    instanceID: instanceID,\n    scrollerID: scrollerID,\n    isTriggercell: false,\n    usePlaceholder: usePlaceholder,\n    placeholderFrameStyles: placeholderFrameStyles,\n    placeholderLinerStyles: placeholderLinerStyles,\n    placeholderErrorFrameStyles: placeholderErrorFrameStyles,\n    placeholderErrorLinerStyles: placeholderErrorLinerStyles,\n    placeholderMessages: placeholderMessages,\n    gridstartstyle: null\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLG1CQUFBQyxHQUFBLFdBQUFDLGtCQUFBLENBQUFELEdBQUEsS0FBQUUsZ0JBQUEsQ0FBQUYsR0FBQSxLQUFBRywyQkFBQSxDQUFBSCxHQUFBLEtBQUFJLGtCQUFBO0FBQUEsU0FBQUEsbUJBQUEsY0FBQUMsU0FBQTtBQUFBLFNBQUFGLDRCQUFBRyxDQUFBLEVBQUFDLE1BQUEsU0FBQUQsQ0FBQSxxQkFBQUEsQ0FBQSxzQkFBQUUsaUJBQUEsQ0FBQUYsQ0FBQSxFQUFBQyxNQUFBLE9BQUFFLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxTQUFBLENBQUFDLFFBQUEsQ0FBQUMsSUFBQSxDQUFBUCxDQUFBLEVBQUFRLEtBQUEsYUFBQUwsQ0FBQSxpQkFBQUgsQ0FBQSxDQUFBUyxXQUFBLEVBQUFOLENBQUEsR0FBQUgsQ0FBQSxDQUFBUyxXQUFBLENBQUFDLElBQUEsTUFBQVAsQ0FBQSxjQUFBQSxDQUFBLG1CQUFBUSxLQUFBLENBQUFDLElBQUEsQ0FBQVosQ0FBQSxPQUFBRyxDQUFBLCtEQUFBVSxJQUFBLENBQUFWLENBQUEsVUFBQUQsaUJBQUEsQ0FBQUYsQ0FBQSxFQUFBQyxNQUFBO0FBQUEsU0FBQUwsaUJBQUFrQixJQUFBLGVBQUFDLE1BQUEsb0JBQUFELElBQUEsQ0FBQUMsTUFBQSxDQUFBQyxRQUFBLGFBQUFGLElBQUEsK0JBQUFILEtBQUEsQ0FBQUMsSUFBQSxDQUFBRSxJQUFBO0FBQUEsU0FBQW5CLG1CQUFBRCxHQUFBLFFBQUFpQixLQUFBLENBQUFNLE9BQUEsQ0FBQXZCLEdBQUEsVUFBQVEsaUJBQUEsQ0FBQVIsR0FBQTtBQUFBLFNBQUFRLGtCQUFBUixHQUFBLEVBQUF3QixHQUFBLFFBQUFBLEdBQUEsWUFBQUEsR0FBQSxHQUFBeEIsR0FBQSxDQUFBeUIsTUFBQSxFQUFBRCxHQUFBLEdBQUF4QixHQUFBLENBQUF5QixNQUFBLFdBQUFDLENBQUEsTUFBQUMsSUFBQSxPQUFBVixLQUFBLENBQUFPLEdBQUEsR0FBQUUsQ0FBQSxHQUFBRixHQUFBLEVBQUFFLENBQUEsSUFBQUMsSUFBQSxDQUFBRCxDQUFBLElBQUExQixHQUFBLENBQUEwQixDQUFBLFVBQUFDLElBQUE7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7OztBQWNBLElBQUFDLE9BQUEsR0FBQUMsZUFBQSxDQUFBQyxtQkFBQTtBQUVBLElBQUFDLFdBQUEsR0FBQUYsZUFBQSxDQUFBQyxtQkFBQTtBQUVBLElBQUFFLHNCQUFBLEdBQUFGLG1CQUFBO0FBRUE7QUFFTyxJQUFNRyxnQ0FBZ0MsR0FBRyxTQUFuQ0EsZ0NBQWdDQSxDQUFBQyxJQUFBLEVBV3BDO0VBQUEsSUFSREMsd0JBQXdCLEdBQUFELElBQUEsQ0FBeEJDLHdCQUF3QjtJQUV4QkMsa0JBQWtCLEdBQUFGLElBQUEsQ0FBbEJFLGtCQUFrQjtJQUNsQkMsaUNBQWlDLEdBQUFILElBQUEsQ0FBakNHLGlDQUFpQztJQUVqQ0MseUJBQXlCLEdBQUFKLElBQUEsQ0FBekJJLHlCQUF5QjtJQUN6QkMsd0JBQXdCLEdBQUFMLElBQUEsQ0FBeEJLLHdCQUF3QjtFQUt4QixJQUVJQyxXQUFXLEdBRVhGLHlCQUF5QixDQUZ6QkUsV0FBVztJQU1YQyxrQkFBa0IsR0FJbEJGLHdCQUF3QixDQUp4QkUsa0JBQWtCO0lBQ2xCQyxnQkFBZ0IsR0FHaEJILHdCQUF3QixDQUh4QkcsZ0JBQWdCO0lBQ2hCQyxZQUFZLEdBRVpKLHdCQUF3QixDQUZ4QkksWUFBWTtJQU1aQyxjQUFjLEdBR2RILGtCQUFrQixDQUhsQkcsY0FBYztJQUNkQyxjQUFjLEdBRWRKLGtCQUFrQixDQUZsQkksY0FBYztJQU1MQyxZQUFZLEdBU3JCSixnQkFBZ0IsQ0FUaEJLLFFBQVE7SUFDRUMsYUFBYSxHQVF2Qk4sZ0JBQWdCLENBUmhCTyxTQUFTO0lBRVRDLFVBQVUsR0FNVlIsZ0JBQWdCLENBTmhCUSxVQUFVO0lBQ0RDLFlBQVksR0FLckJULGdCQUFnQixDQUxoQlUsUUFBUTtJQUNSQyxhQUFhLEdBSWJYLGdCQUFnQixDQUpoQlcsYUFBYTtJQUNiQyxZQUFZLEdBR1paLGdCQUFnQixDQUhoQlksWUFBWTtJQUNIQyxhQUFhLEdBRXRCYixnQkFBZ0IsQ0FGaEJjLFFBQVE7O0VBSWhCO0VBQ0FyQix3QkFBd0IsR0FBR3NCLElBQUksQ0FBQ0MsR0FBRyxDQUFDdkIsd0JBQXdCLEVBQUVhLGFBQWEsQ0FBQztFQUM1RWIsd0JBQXdCLEdBQUdzQixJQUFJLENBQUNFLEdBQUcsQ0FBQ3hCLHdCQUF3QixFQUFFVyxZQUFZLENBQUM7RUFFM0U7RUFDQSxJQUFNYyxzQkFBc0IsR0FBR0gsSUFBSSxDQUFDSSxLQUFLLENBQUMxQix3QkFBd0IsR0FBQ2UsVUFBVSxDQUFDO0VBRTlFO0VBRUE7RUFDQSxJQUNJWSx3QkFBd0IsR0FBR0wsSUFBSSxDQUFDRSxHQUFHLENBQUNKLGFBQWEsRUFBQ0ssc0JBQXNCLEdBQUdmLGNBQWMsQ0FBQztJQUMxRjtJQUNBa0Isa0JBQWtCLEdBQUdELHdCQUF3QixJQUFJbEIsY0FBYyxHQUFHLENBQUMsQ0FBQztFQUV4RSxJQUFNb0IsZ0JBQWdCLEdBQUliLFlBQVksR0FBRyxDQUFDLEdBQUlJLGFBQWE7RUFFM0QsSUFBSVEsa0JBQWtCLEdBQUlDLGdCQUFpQixFQUFFO0lBQ3pDLElBQU1DLElBQUksR0FBSUYsa0JBQWtCLEdBQUdDLGdCQUFpQjtJQUNwREYsd0JBQXdCLElBQUlHLElBQUk7SUFDaENGLGtCQUFrQixJQUFJRSxJQUFJOztFQUc5QixJQUFJQywwQkFBMEIsR0FBSUosd0JBQXdCLEdBQUdaLFVBQVc7RUFDeEVnQiwwQkFBMEIsR0FBR1QsSUFBSSxDQUFDRSxHQUFHLENBQUNPLDBCQUEwQixFQUFDcEIsWUFBWSxDQUFDO0VBRTlFO0VBRUEsSUFBSXFCLHFCQUFxQixHQUFHdkIsY0FBYyxHQUFHTSxVQUFVO0VBQ3ZELElBQUlhLGtCQUFrQixJQUFJQyxnQkFBZ0IsRUFBRTtJQUN4QyxJQUFJVixZQUFZLEVBQUU7TUFDZGEscUJBQXFCLElBQUliLFlBQVk7Ozs7RUFHN0MsSUFBSVEsd0JBQXdCLElBQUlQLGFBQWEsRUFBRTtJQUFFO0lBQzdDLElBQUlGLGFBQWEsRUFBRTtNQUNmYyxxQkFBcUIsSUFBSWQsYUFBYTs7O0VBSTlDO0VBRUEsSUFDSWUsYUFBYSxHQUNUNUIsV0FBVyxJQUFJLFVBQVUsR0FDckJHLFlBQVksQ0FBQzBCLEdBQUcsR0FDaEIxQixZQUFZLENBQUMyQixJQUFJO0lBRXpCQyx3Q0FBd0MsR0FDbkMsQ0FBQ1gsc0JBQXNCLEdBQUdMLGFBQWEsSUFBSW5CLGtCQUFrQixHQUFJZ0MsYUFBYSxHQUN6RS9CLGlDQUFpQztFQUUvQztFQUVBLE9BQU87SUFDSDZCLDBCQUEwQixFQUExQkEsMEJBQTBCO0lBQzFCL0Isd0JBQXdCLEVBQXhCQSx3QkFBd0I7SUFDeEJvQyx3Q0FBd0MsRUFBeENBLHdDQUF3QztJQUN4Q0oscUJBQXFCLEVBQXJCQTtHQUNIO0FBRUwsQ0FBQztBQTdHWUssd0NBQWdDLEdBQUF2QyxnQ0FBQTtBQStHN0M7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJPLElBQU13Qyx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQXdCQSxDQUFBQyxLQUFBLEVBZWhDO0VBQUEsSUFiRGxDLFdBQVcsR0FBQWtDLEtBQUEsQ0FBWGxDLFdBQVc7SUFDWG1DLGtCQUFrQixHQUFBRCxLQUFBLENBQWxCQyxrQkFBa0I7SUFDbEJDLGVBQWUsR0FBQUYsS0FBQSxDQUFmRSxlQUFlO0lBQ2ZDLFVBQVUsR0FBQUgsS0FBQSxDQUFWRyxVQUFVO0lBSVZDLHVCQUF1QixHQUFBSixLQUFBLENBQXZCSSx1QkFBdUI7SUFHdkJDLG9CQUFvQixHQUFBTCxLQUFBLENBQXBCSyxvQkFBb0I7SUFDcEJDLGlCQUFpQixHQUFBTixLQUFBLENBQWpCTSxpQkFBaUI7RUFJakI7RUFDQSxJQUNJQyxpQkFBaUIsR0FBRztNQUNoQkMsVUFBVSxFQUFDLElBQUk7TUFDZkMsVUFBVSxFQUFDLElBQUk7TUFDZkMsSUFBSSxFQUFDUixlQUFlO01BQ3BCRSx1QkFBdUIsRUFBdkJBO0tBQ0g7SUFFRDtJQUNBTyxLQUFLLEdBQUdWLGtCQUFrQixDQUFDQSxrQkFBa0IsQ0FBQ2xELE1BQU0sR0FBRyxDQUFDLENBQUM7SUFBRTtJQUMzRDZELGFBQWEsR0FBR0QsS0FBSyxDQUFDRSxNQUFNLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSTtJQUFFO0lBRTNDTCxJQUFJLEdBQUdSLGVBQWU7SUFBRTtJQUV4QjtJQUNBYyxnQkFBZ0I7SUFBRztJQUNkbEQsV0FBVyxJQUFJLFVBQVUsR0FDdEJpQixJQUFJLENBQUNrQyxLQUFLLENBQUNOLEtBQUssQ0FBQ08sVUFBVSxDQUFDQyxDQUFDLENBQUMsR0FDOUJwQyxJQUFJLENBQUNrQyxLQUFLLENBQUNOLEtBQUssQ0FBQ08sVUFBVSxDQUFDRSxDQUFDLENBQUM7SUFFdENDLGVBQWU7SUFBRztJQUNidkQsV0FBVyxJQUFJLFVBQVUsR0FDdEJpQixJQUFJLENBQUNrQyxLQUFLLENBQUNaLG9CQUFvQixDQUFDYyxDQUFDLENBQUMsR0FDbENwQyxJQUFJLENBQUNrQyxLQUFLLENBQUNaLG9CQUFvQixDQUFDZSxDQUFDLENBQUM7SUFFMUM7SUFDQUUsV0FBVztJQUFHO0lBQ1ROLGdCQUFnQixJQUFJSyxlQUFlLEdBQ3BDTCxnQkFBZ0IsR0FDaEJLLGVBQWU7SUFBRTtJQUNyQjtJQUdBRSxVQUFVLEdBQ0x6RCxXQUFXLElBQUksVUFBVSxHQUN0QmlCLElBQUksQ0FBQ2tDLEtBQUssQ0FBQ04sS0FBSyxDQUFDYSxrQkFBa0IsQ0FBQ0wsQ0FBQyxDQUFDLEdBQ3RDcEMsSUFBSSxDQUFDa0MsS0FBSyxDQUFDTixLQUFLLENBQUNhLGtCQUFrQixDQUFDSixDQUFDLENBQUM7SUFFOUM7SUFDQUssYUFBYSxHQUFHRixVQUFVLEdBQUdELFdBQVc7SUFFeENJLGNBQWMsR0FBR3BCLGlCQUFpQixDQUFDcUIsT0FBTztFQUU5Q2hCLEtBQUssQ0FBQ0MsYUFBYSxHQUFHQSxhQUFhLEVBQUM7RUFFcEM7RUFFQSxJQUFJQSxhQUFhLElBQUksYUFBYSxFQUFFO0lBRWhDTCxpQkFBaUIsQ0FBQ0MsVUFBVSxHQUFHaUIsYUFBYTtJQUM1Q2xCLGlCQUFpQixDQUFDRSxVQUFVLEdBQUdnQixhQUFhLEdBQUdmLElBQUk7R0FFdEQsTUFBTTtJQUFFO0lBRUxILGlCQUFpQixDQUFDQyxVQUFVLEdBQUdpQixhQUFhLEdBQUdmLElBQUk7SUFDbkRILGlCQUFpQixDQUFDRSxVQUFVLEdBQUdnQixhQUFhOztFQUloRDtFQUVBLElBQUlHLGdCQUFnQjtFQUVwQjtFQUVBO0VBQ0E7RUFFQTtFQUNBLElBQ1N0RSxzQkFBQSxDQUFBdUUsV0FBVztFQUFJO0VBRVh0QixpQkFBaUIsQ0FBQ0MsVUFBVSxJQUFJLENBQUMsSUFBSUQsaUJBQWlCLENBQUNFLFVBQVUsSUFBSSxDQUFDLENBQUMsSUFNM0UsQ0FBQ25ELHNCQUFBLENBQUF1RSxXQUFXO0VBQUk7RUFHUnRCLGlCQUFpQixDQUFDQyxVQUFVLElBQUksQ0FBQyxDQUFDLElBQUlELGlCQUFpQixDQUFDQyxVQUFVLElBQUksQ0FBQyxJQUl2RUQsaUJBQWlCLENBQUNFLFVBQVUsSUFBSSxDQUFDLENBQUMsSUFBSUYsaUJBQWlCLENBQUNFLFVBQVUsSUFBSSxDQUFFLENBR2hGLEVBRUg7SUFFRjtJQUNBO0lBQ0E7SUFDQSxJQUFJaUIsY0FBYyxDQUFDSSwyQkFBMkIsRUFBRTtNQUU1Q0osY0FBYyxDQUFDSSwyQkFBMkIsR0FBRyxJQUFJO01BRWpERixnQkFBZ0IsR0FBRyxNQUFNO0tBRTVCLE1BQU07TUFBRTtNQUVMLElBQUtyQixpQkFBaUIsQ0FBQ0MsVUFBVSxJQUFJLENBQUMsQ0FBQyxJQUFNRCxpQkFBaUIsQ0FBQ0MsVUFBVSxJQUFJLENBQUUsRUFBRTtRQUU3RWtCLGNBQWMsQ0FBQ0ksMkJBQTJCLEdBQUcsYUFBYTtPQUU3RCxNQUFNO1FBRUhKLGNBQWMsQ0FBQ0ksMkJBQTJCLEdBQUcsYUFBYTs7O0dBTXJFLE1BQU07SUFBRTtJQUVMLElBQUlKLGNBQWMsQ0FBQ0ksMkJBQTJCLEVBQUU7TUFFNUNKLGNBQWMsQ0FBQ0ksMkJBQTJCLEdBQUcsSUFBSTs7O0VBS3pELElBQUlGLGdCQUFnQixFQUFFO0lBQUU7SUFFcEIsT0FBTyxDQUFDQSxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7O0VBSWhDO0VBRUE7RUFDQTtFQUNBLElBQUl4Qix1QkFBdUIsRUFBRTtJQUV6QixJQUFJRyxpQkFBaUIsQ0FBQ0MsVUFBVSxJQUFJLENBQUMsRUFBRTtNQUVuQ29CLGdCQUFnQixHQUFHLGtCQUFrQjtLQUV4QyxNQUFNO01BRUhBLGdCQUFnQixHQUFHLE1BQU07O0dBSWhDLE1BQU07SUFFSCxJQUFJckIsaUJBQWlCLENBQUNFLFVBQVUsSUFBSSxDQUFDLEVBQUU7TUFFbkNtQixnQkFBZ0IsR0FBRyxrQkFBa0I7S0FFeEMsTUFBTSxJQUFJckIsaUJBQWlCLENBQUNDLFVBQVUsSUFBSSxDQUFDLEVBQUU7TUFFMUNvQixnQkFBZ0IsR0FBRyxrQkFBa0I7S0FFeEMsTUFBTTtNQUVIQSxnQkFBZ0IsR0FBRyxNQUFNOzs7RUFNakMsSUFBTUcsZ0NBQWdDO0VBQUc7RUFDcENILGdCQUFnQixJQUFJLGtCQUFrQjtFQUFHO0VBQ3RDckIsaUJBQWlCLENBQUNFLFVBQVU7RUFBRTtFQUM5QkYsaUJBQWlCLENBQUNDLFVBQVUsRUFBQztFQUVyQyxPQUFPLENBQUNvQixnQkFBZ0IsRUFBRUcsZ0NBQWdDLENBQUM7QUFFL0QsQ0FBQztBQTdMWWpDLGdDQUF3QixHQUFBQyx3QkFBQTtBQStMckM7Ozs7Ozs7Ozs7Ozs7QUFjQTtBQUNBO0FBQ08sSUFBTWlDLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBbUJBLENBQUFDLEtBQUEsRUFvQjNCO0VBQUEsSUFqQkRMLGdCQUFnQixHQUFBSyxLQUFBLENBQWhCTCxnQkFBZ0I7SUFDaEJHLGdDQUFnQyxHQUFBRSxLQUFBLENBQWhDRixnQ0FBZ0M7SUFHaENHLGdCQUFnQixHQUFBRCxLQUFBLENBQWhCQyxnQkFBZ0I7SUFDaEJDLGtCQUFrQixHQUFBRixLQUFBLENBQWxCRSxrQkFBa0I7SUFHbEJ2RSx5QkFBeUIsR0FBQXFFLEtBQUEsQ0FBekJyRSx5QkFBeUI7SUFDekJDLHdCQUF3QixHQUFBb0UsS0FBQSxDQUF4QnBFLHdCQUF3QjtJQUN4QkUsa0JBQWtCLEdBQUFrRSxLQUFBLENBQWxCbEUsa0JBQWtCO0lBQ2xCQyxnQkFBZ0IsR0FBQWlFLEtBQUEsQ0FBaEJqRSxnQkFBZ0I7SUFHaEJvRSxhQUFhLEdBQUFILEtBQUEsQ0FBYkcsYUFBYTtJQUNiQyxjQUFjLEdBQUFKLEtBQUEsQ0FBZEksY0FBYztFQUlkOztFQUVBO0VBRUksSUFBQUMsV0FBVyxHQUFHRCxjQUFjLENBQUNFLE9BQU8sQ0FBQ1osT0FBTztJQUM1Q2EsZUFBZSxHQUFHSCxjQUFjLENBQUNJLE9BQU8sQ0FBQ2QsT0FBTztJQUNoRGUsZUFBZSxHQUFHTCxjQUFjLENBQUNNLE9BQU8sQ0FBQ2hCLE9BQU87SUFNNUM3RCxXQUFXLEdBTVhGLHlCQUF5QixDQU56QkUsV0FBVztJQUNYOEUsVUFBVSxHQUtWaEYseUJBQXlCLENBTHpCZ0YsVUFBVTtJQUNWQyxTQUFTLEdBSVRqRix5QkFBeUIsQ0FKekJpRixTQUFTO0lBQ1RDLE1BQU0sR0FHTmxGLHlCQUF5QixDQUh6QmtGLE1BQU07SUFDTjNDLFVBQVUsR0FFVnZDLHlCQUF5QixDQUZ6QnVDLFVBQVU7SUFNVmxDLFlBQVksR0FHWkosd0JBQXdCLENBSHhCSSxZQUFZO0lBQ1o4RSxRQUFRLEdBRVJsRix3QkFBd0IsQ0FGeEJrRixRQUFRO0lBT2NDLGlCQUFpQixHQUd2Q1osYUFBYSxDQUhiYSxxQkFBcUI7SUFDREMsZUFBZSxHQUVuQ2QsYUFBYSxDQUZiZSxtQkFBbUI7SUFNbkJqRixjQUFjLEdBSWRILGtCQUFrQixDQUpsQkcsY0FBYztJQUNka0YsZ0JBQWdCLEdBR2hCckYsa0JBQWtCLENBSGxCcUYsZ0JBQWdCO0lBQ2hCakYsY0FBYyxHQUVkSixrQkFBa0IsQ0FGbEJJLGNBQWM7SUFNZEssVUFBVSxHQVFWUixnQkFBZ0IsQ0FSaEJRLFVBQVU7SUFDREMsWUFBWSxHQU9yQlQsZ0JBQWdCLENBUGhCVSxRQUFRO0lBRUNOLFlBQVksR0FLckJKLGdCQUFnQixDQUxoQkssUUFBUTtJQUNSTSxhQUFhLEdBSWJYLGdCQUFnQixDQUpoQlcsYUFBYTtJQUNiQyxZQUFZLEdBR1paLGdCQUFnQixDQUhoQlksWUFBWTtJQUNIQyxhQUFhLEdBRXRCYixnQkFBZ0IsQ0FGaEJjLFFBQVE7SUFLWnVFLDRCQUE0QixHQUFJLEVBQUFDLEVBQUEsR0FBQU4saUJBQWlCLENBQUMsQ0FBQyxDQUFDLGNBQUFNLEVBQUEsdUJBQUFBLEVBQUEsQ0FBRUMsS0FBSyxDQUFDQyxLQUFLLEtBQUksQ0FBQztJQUN0RUMsMEJBQTBCLEdBQUcxRSxJQUFJLENBQUNJLEtBQUssQ0FBQ2tFLDRCQUE0QixHQUFDN0UsVUFBVSxDQUFDO0lBRWhGa0YsMEJBQTBCLEdBQUksRUFBQUMsRUFBQSxHQUFBVCxlQUFlLENBQUMsQ0FBQyxDQUFDLGNBQUFTLEVBQUEsdUJBQUFBLEVBQUEsQ0FBRUosS0FBSyxDQUFDQyxLQUFLLEtBQUksQ0FBQztJQUNsRUksd0JBQXdCLEdBQUc3RSxJQUFJLENBQUNJLEtBQUssQ0FBQ3VFLDBCQUEwQixHQUFDbEYsVUFBVSxDQUFDO0lBRTVFcUYsVUFBVSxHQUFJcEYsWUFBWSxHQUFHLENBQUMsR0FBSUksYUFBYTtJQUUvQ2lGLFNBQVMsR0FDTGhHLFdBQVcsSUFBSSxVQUFVLEdBQ3JCaUYsUUFBUSxDQUFDZ0IsTUFBTSxHQUNmaEIsUUFBUSxDQUFDaUIsR0FBRztJQUVwQnRHLGtCQUFrQixHQUNkLENBQUVJLFdBQVcsSUFBSSxVQUFVLEdBQ3ZCOEUsVUFBVSxHQUNWQyxTQUFTLElBQ1hpQixTQUFTO0VBRW5CLElBQ0lHLDhCQUE4QjtJQUM5QkMsc0JBQXNCLEdBQUcsQ0FBQztJQUFFO0lBQzVCQywrQkFBK0IsR0FBRyxDQUFDO0lBQ25DQyxjQUFjLEdBQUcsS0FBSztJQUN0QkMsZUFBZTtJQUNmQyxzQkFBc0IsRUFBQztFQUUzQjtFQUVBO0VBQ0EsSUFBSXhCLE1BQU0sSUFBSSxVQUFVLEVBQUU7SUFFdEIsSUFDSXlCLGtCQUFrQjtNQUFHO01BQ2hCM0MsZ0JBQWdCLElBQUksa0JBQWtCO01BQUc7TUFDdENjLGVBQWUsR0FDZkYsZUFBZTtNQUV2QmdDLHVCQUF1QixHQUFHQyxpQkFBaUIsQ0FBQ0Ysa0JBQWtCLEVBQUV6RyxXQUFXLEVBQUVVLFVBQVUsRUFBRXVFLFFBQVEsQ0FBQztJQUV0RyxJQUFJbkIsZ0JBQWdCLElBQUksa0JBQWtCLEVBQUU7TUFBRTtNQUUxQzRDLHVCQUF1QixDQUFDRSxPQUFPLEVBQUUsRUFBQzs7O0lBSXRDLElBQU1DLGlDQUFpQyxHQUFHQyx3QkFBd0IsQ0FBQ0osdUJBQXVCLENBQUMsRUFBQztJQUU1RjtJQUNBLElBQUk1QyxnQkFBZ0IsSUFBSSxrQkFBa0IsRUFBRTtNQUFFO01BRTFDO01BQ0FxQyw4QkFBOEIsR0FBR1UsaUNBQWlDLENBQUNFLFNBQVMsQ0FBQyxVQUFDQyxxQkFBcUI7UUFBQSxPQUM5Ri9DLGdDQUFnQyxHQUFHK0MscUJBQXFCLElBQUssQ0FBQztNQUFBLEVBQUU7S0FFeEUsTUFBTTtNQUFFO01BRUw7TUFDQWIsOEJBQThCLEdBQUdVLGlDQUFpQyxDQUFDRSxTQUFTLENBQUMsVUFBQ0MscUJBQXFCO1FBQUEsT0FDOUYvQyxnQ0FBZ0MsR0FBRytDLHFCQUFxQixJQUFLLENBQUM7TUFBQSxFQUFDOztJQUl4RSxJQUFJYiw4QkFBOEIsSUFBSSxDQUFDLENBQUMsRUFBRTtNQUFFO01BRXhDQyxzQkFBc0IsR0FDakJ0QyxnQkFBZ0IsSUFBSSxrQkFBa0IsR0FDbkMrQyxpQ0FBaUMsQ0FBQ1YsOEJBQThCLENBQUM7TUFBRTtNQUNuRSxDQUFDVSxpQ0FBaUMsQ0FBQ1YsOEJBQThCLENBQUMsRUFBQztLQUU5RSxNQUFNO01BQUU7TUFFTEcsY0FBYyxHQUFJTyxpQ0FBaUMsQ0FBQzVILE1BQU0sSUFBSSxDQUFFLEVBQUM7TUFFakUsSUFBSSxDQUFDcUgsY0FBYyxFQUFFO1FBQUU7UUFFbkJELCtCQUErQixHQUFHUSxpQ0FBaUMsQ0FBQzVILE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDL0VzSCxlQUFlLEdBQUdNLGlDQUFpQyxDQUFDUiwrQkFBK0IsQ0FBQyxFQUFDO1FBQ3JGRyxzQkFBc0IsR0FBR0UsdUJBQXVCLENBQUNPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDO09BRTNELE1BQU07UUFBRTtRQUVMWiwrQkFBK0IsR0FBRyxDQUFDO1FBQ25DRSxlQUFlLEdBQUcsQ0FBQzs7O0dBTTlCLE1BQU07SUFBRTtJQUVMSiw4QkFBOEIsR0FBRyxDQUFDLENBQUMsRUFBQztJQUVwQztJQUNBRSwrQkFBK0IsR0FBRyxDQUFDO0lBQ25DRSxlQUFlLEdBQUcsQ0FBQzs7RUFJdkI7RUFDQSxJQUFJSiw4QkFBOEIsSUFBSSxDQUFDLENBQUMsRUFBRztJQUV2QyxJQUFJLENBQUNHLGNBQWMsRUFBRTtNQUVqQixJQUFJeEMsZ0JBQWdCLElBQUksa0JBQWtCLEVBQUU7UUFBRTtRQUUxQyxHQUFHO1VBRUN5QyxlQUFlLElBQUkzRyxrQkFBa0I7VUFDckN5RywrQkFBK0IsRUFBRTtTQUVwQyxRQUFTcEMsZ0NBQWdDLEdBQUdzQyxlQUFlLEdBQUksQ0FBQztRQUVqRUgsc0JBQXNCLEdBQUdHLGVBQWU7T0FFM0MsTUFBTTtRQUFFO1FBRUwsR0FBRztVQUVDQSxlQUFlLElBQUkzRyxrQkFBa0I7VUFDckN5RywrQkFBK0IsRUFBRTtVQUVqQyxJQUFLUCx3QkFBd0IsR0FBRy9FLGFBQWEsR0FBR3NGLCtCQUErQixJQUFLLENBQUMsRUFBRTtZQUFFO1lBRXJGOztTQUdQLFFBQVNwQyxnQ0FBZ0MsR0FBR3NDLGVBQWUsR0FBSSxDQUFDO1FBRWpFSCxzQkFBc0IsR0FBRyxDQUFDRyxlQUFlOzs7SUFNakQ7SUFDQTtJQUNBSiw4QkFBOEIsR0FBR0UsK0JBQStCLEdBQUcsQ0FBQzs7RUFJeEUsSUFBTWEsZ0JBQWdCO0VBQUc7RUFDcEJwRCxnQkFBZ0IsSUFBSSxrQkFBa0IsR0FDbkNxQyw4QkFBOEIsR0FBRyxDQUFDLEdBQ2xDLEVBQUVBLDhCQUE4QixHQUFHLENBQUMsQ0FBQztFQUU3QztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsSUFBSWdCLHFCQUFxQixHQUFHRCxnQkFBZ0I7SUFDeENFLGNBQWMsR0FBR2hCLHNCQUFzQjtFQUUzQztFQUNBO0VBQ0E7RUFDQSxJQUFLTix3QkFBd0IsR0FBR3FCLHFCQUFxQixHQUFJcEIsVUFBVSxFQUFFO0lBRWpFb0IscUJBQXFCLElBQUksQ0FBQztJQUMxQixJQUFJbkMsTUFBTSxJQUFJLFVBQVUsRUFBRTtNQUN0Qm9DLGNBQWMsSUFBSVosc0JBQXNCO0tBQzNDLE1BQU07TUFDSFksY0FBYyxJQUFJeEgsa0JBQWtCOzs7RUFLNUM7RUFDQTtFQUVBLElBQ0l5SCwwQkFBMEIsR0FDckJySCxXQUFXLElBQUksVUFBVSxHQUN0QndFLFdBQVcsQ0FBQzhDLFNBQVMsR0FDckI5QyxXQUFXLENBQUMrQyxVQUFVO0lBRTlCQyxzQkFBc0I7SUFBRztJQUNwQnhILFdBQVcsSUFBSSxVQUFVLEdBQ3RCcUUsa0JBQWtCLENBQUNpRCxTQUFTLEdBQzVCakQsa0JBQWtCLENBQUNrRCxVQUFVO0lBRXJDO0lBQ0E7SUFDQTtJQUNBRSw4QkFBOEIsR0FDMUJKLDBCQUEwQixHQUFHRyxzQkFBc0IsR0FBR3BELGdCQUFnQjtFQUU5RTtFQUVBLElBQUlzRCw4QkFBOEIsR0FBR0QsOEJBQThCLEdBQUdMLGNBQWM7RUFFcEY7RUFFQTtFQUVBO0VBQ0EsSUFBSU8sdUJBQXVCLEdBQUdSLHFCQUFxQjtFQUVuRDtFQUNBLElBQUlTLHFCQUFxQixHQUFHakMsMEJBQTBCLEdBQUdnQyx1QkFBdUI7RUFDaEYsSUFBTUUsbUJBQW1CLEdBQUcvQix3QkFBd0IsR0FBR3FCLHFCQUFxQjtFQUc1RTtFQUNBO0VBRUEsSUFBSXJELGdCQUFnQixJQUFJLGtCQUFrQixFQUFFO0lBQUU7SUFFMUM7SUFDQTtJQUVBO0lBQ0E7SUFDQTtJQUVBO0lBQ0EsSUFDSXhDLHdCQUF3QixHQUNwQkwsSUFBSSxDQUFDRSxHQUFHLENBQUNKLGFBQWEsRUFBRzhHLG1CQUFtQixHQUFHeEgsY0FBYyxHQUFHLENBQUUsQ0FBQztNQUFFO01BQ3pFeUgsV0FBVyxHQUFHRixxQkFBcUIsR0FBR3RHLHdCQUF3QjtJQUVsRSxJQUFJd0csV0FBVyxHQUFHLENBQUMsRUFBRTtNQUVqQkYscUJBQXFCLElBQUlFLFdBQVc7TUFDcENILHVCQUF1QixJQUFJRyxXQUFXOztJQUkxQztJQUNBLElBQ0lDLGtCQUFrQixHQUFHSCxxQkFBcUIsSUFBSXhILGNBQWMsR0FBRyxDQUFDLENBQUM7TUFDakU0SCxXQUFXLEdBQUdELGtCQUFrQixHQUFHaEMsVUFBVTtJQUVqRCxJQUFJaUMsV0FBVyxHQUFHLENBQUMsRUFBRTtNQUVqQkwsdUJBQXVCLElBQUlLLFdBQVc7TUFDdENKLHFCQUFxQixJQUFJSSxXQUFXOztHQUkzQyxNQUFNO0lBQUU7SUFFTDtJQUNBO0lBRUE7SUFDQTtJQUVBO0lBRUEsSUFBSUoscUJBQXFCLEdBQUc3RyxhQUFhLEVBQUU7TUFFdkMsSUFBTVUsSUFBSSxHQUFHVixhQUFhLEdBQUc2RyxxQkFBcUI7TUFDbERELHVCQUF1QixJQUFJbEcsSUFBSTtNQUMvQm1HLHFCQUFxQixJQUFJbkcsSUFBSTs7SUFJakM7SUFDQTtJQUNBO0lBQ0E7SUFFQSxJQUFJdUQsTUFBTSxJQUFJLFVBQVUsSUFBSTZDLG1CQUFtQixJQUFJOUcsYUFBYSxFQUFFO01BQUU7TUFDaEUyRyw4QkFBOEIsR0FBRyxDQUFDLEVBQUM7O0lBR3ZDO0lBRUEsSUFDSU8sd0JBQXdCLEdBQ25CdEMsMEJBQTBCLElBQUl2RixjQUFjLEdBQUUsQ0FBQyxDQUFDLEdBQUd1SCx1QkFBd0I7TUFDaEZwRyxrQkFBa0IsR0FDZHNHLG1CQUFtQixJQUFJdkMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLElBQUlqRixjQUFjLEdBQUcsQ0FBQyxDQUFDO0lBRTNFLElBQUkySCxZQUFXLEdBQUlDLHdCQUF3QixHQUFHMUcsa0JBQWtCO0lBRWhFLElBQUl5RyxZQUFXLEdBQUcsQ0FBQyxFQUFFO01BRWpCQSxZQUFXLEdBQUcvRyxJQUFJLENBQUNFLEdBQUcsQ0FBQzZHLFlBQVcsRUFBRUwsdUJBQXVCLENBQUM7TUFFNURBLHVCQUF1QixJQUFJSyxZQUFXO01BQ3RDSixxQkFBcUIsSUFBSUksWUFBVzs7O0VBTTVDO0VBRUEsSUFDSUUsdUJBQXVCLEdBQUdqSCxJQUFJLENBQUNFLEdBQUcsQ0FBQ2IsWUFBWSxFQUFFc0gscUJBQXFCLEdBQUdsSCxVQUFVLENBQUM7SUFDcEZ5SCx3QkFBd0IsR0FBR0QsdUJBQXVCLEdBQUczQyw0QkFBNEI7SUFFakY2QyxxQkFBcUIsR0FBR25ILElBQUksQ0FBQ0UsR0FBRyxDQUFDYixZQUFZLEVBQUV1SCxtQkFBbUIsR0FBR25ILFVBQVUsQ0FBQztJQUNoRjJILHNCQUFzQixHQUFHRCxxQkFBcUIsR0FBR3hDLDBCQUEwQjtJQUUzRTBDLGVBQWUsR0FBS1YscUJBQXFCLEdBQUd4SCxjQUFjLEdBQUdXLGFBQWEsSUFBS0osWUFBYTtJQUU1RjRILGdCQUFnQixHQUFJWCxxQkFBcUIsSUFBSTdHLGFBQWM7RUFFL0QsSUFBSVkscUJBQXFCLEdBQUd2QixjQUFjLEdBQUdNLFVBQVUsRUFBQztFQUV4RCxJQUFJNEgsZUFBZSxFQUFFO0lBRWpCM0cscUJBQXFCLElBQUliLFlBQVk7O0VBSXpDLElBQUl5SCxnQkFBZ0IsRUFBRTtJQUVsQjVHLHFCQUFxQixJQUFJZCxhQUFhOztFQUkxQztFQUNBLElBQ0kySCwwQkFBMEIsR0FBR3RELGlCQUFpQixDQUFDakcsTUFBTSxHQUFHMEMscUJBQXFCO0lBQzdFOEcsb0JBQW9CLEdBQUcsQ0FBRU4sd0JBQXlCO0lBQ2xETyxrQkFBa0IsR0FBRyxDQUFDRCxvQkFBb0IsR0FBR0QsMEJBQTBCO0VBRTNFO0VBRUEsT0FBTztJQUVIO0lBQ0FMLHdCQUF3QixFQUF4QkEsd0JBQXdCO0lBQ3hCQyxxQkFBcUIsRUFBckJBLHFCQUFxQjtJQUNyQkMsc0JBQXNCLEVBQXRCQSxzQkFBc0I7SUFFdEJYLDhCQUE4QixFQUE5QkEsOEJBQThCO0lBRTlCL0YscUJBQXFCLEVBQXJCQSxxQkFBcUI7SUFDckI4RyxvQkFBb0IsRUFBcEJBLG9CQUFvQjtJQUNwQkMsa0JBQWtCLEVBQWxCQTtHQUNIO0FBRUwsQ0FBQztBQWhhWTFHLDJCQUFtQixHQUFBa0MsbUJBQUE7QUFrYWhDO0FBQ0EsSUFBTXlDLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBaUJBLENBQUlnQyxJQUFJLEVBQUUzSSxXQUFXLEVBQUVVLFVBQVUsRUFBRXVFLFFBQVEsRUFBSTtFQUVsRSxJQUNJMkQsVUFBVSxHQUFHLEVBQUU7SUFDZkMsV0FBVyxHQUFHRixJQUFJLENBQUNHLFVBQVU7RUFFakMsSUFDSUMsVUFBVSxHQUFHLENBQUM7SUFDZEMsT0FBTyxHQUFHSCxXQUFXLENBQUNFLFVBQVUsQ0FBQztFQUVyQyxPQUFPQyxPQUFPLEVBQUU7SUFDWixJQUFNQyxTQUFTLEdBQ1RqSixXQUFXLElBQUksVUFBVSxHQUN2QmdKLE9BQU8sQ0FBQ0UsWUFBWSxHQUFHakUsUUFBUSxDQUFDZ0IsTUFBTSxHQUN0QytDLE9BQU8sQ0FBQ0csV0FBVyxHQUFHbEUsUUFBUSxDQUFDaUIsR0FBSTtJQUUzQzBDLFVBQVUsQ0FBQ1EsSUFBSSxDQUFDSCxTQUFTLENBQUM7SUFDMUJGLFVBQVUsSUFBSXJJLFVBQVU7SUFDeEJzSSxPQUFPLEdBQUdILFdBQVcsQ0FBQ0UsVUFBVSxDQUFDOztFQUdyQyxPQUFPSCxVQUFVO0FBQ3JCLENBQUM7QUFFRDtBQUNBLElBQU05Qix3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQXdCQSxDQUFJOEIsVUFBVSxFQUFJO0VBRTVDLElBQU1TLFFBQVEsR0FBRyxFQUFFO0VBQ25CLElBQUl6RyxJQUFJLEdBQUcsQ0FBQztFQUNaZ0csVUFBVSxDQUFDVSxPQUFPLENBQUMsVUFBQ0MsS0FBSyxFQUFJO0lBQ3pCM0csSUFBSSxJQUFJMkcsS0FBSztJQUNiRixRQUFRLENBQUNELElBQUksQ0FBQ3hHLElBQUksQ0FBQztFQUN2QixDQUFDLENBQUM7RUFFRixPQUFPeUcsUUFBUTtBQUNuQixDQUFDO0FBRUQ7QUFFQTtBQUNBO0FBQ0E7QUFDTyxJQUFNRyx5QkFBeUIsR0FBRyxTQUE1QkEseUJBQXlCQSxDQUFBQyxLQUFBLEVBYzdCO0VBQUEsSUFaRDNKLHlCQUF5QixHQUFBMkosS0FBQSxDQUF6QjNKLHlCQUF5QjtJQUN6QkMsd0JBQXdCLEdBQUEwSixLQUFBLENBQXhCMUosd0JBQXdCO0lBQ3hCMkosUUFBUSxHQUFBRCxLQUFBLENBQVJDLFFBQVE7SUFDUkMsa0JBQWtCLEdBQUFGLEtBQUEsQ0FBbEJFLGtCQUFrQjtJQUNsQkMsb0JBQW9CLEdBQUFILEtBQUEsQ0FBcEJHLG9CQUFvQjtJQUNwQm5CLG9CQUFvQixHQUFBZ0IsS0FBQSxDQUFwQmhCLG9CQUFvQjtJQUNwQkMsa0JBQWtCLEdBQUFlLEtBQUEsQ0FBbEJmLGtCQUFrQjtJQUNDbUIsV0FBVyxHQUFBSixLQUFBLENBQTlCSyxrQkFBa0I7SUFDbEJDLG9CQUFvQixHQUFBTixLQUFBLENBQXBCTSxvQkFBb0I7SUFDcEJDLE1BQU0sR0FBQVAsS0FBQSxDQUFOTyxNQUFNO0lBQ05DLG1CQUFtQixHQUFBUixLQUFBLENBQW5CUSxtQkFBbUI7RUFJdkIsSUFDSUMsZ0JBQWdCLEdBQUEzTSxrQkFBQSxDQUFPc00sV0FBVyxDQUFDO0lBQ25DTSxlQUFlLEdBQUdQLG9CQUFvQixHQUFHTSxnQkFBZ0IsQ0FBQ2pMLE1BQU0sR0FBRyxDQUFDO0lBRXBFbUwsZUFBZSxHQUFHLEVBQUU7SUFBRUMsZUFBZSxHQUFHLEVBQUU7RUFFOUMsSUFBSUMsZ0JBQWdCLEdBQUcsRUFBRTtJQUFFQyxnQkFBZ0IsR0FBRyxFQUFFO0VBRWhELElBQUk5QixvQkFBb0IsSUFBSSxDQUFDLEVBQUU7SUFBRTtJQUU3QixJQUNJK0IsY0FBYyxHQUFHWixvQkFBb0I7TUFDckNhLFdBQVcsR0FBR2hDLG9CQUFvQjtJQUV0QyxJQUFJQSxvQkFBb0IsR0FBR2tCLGtCQUFrQixFQUFFO01BQzNDYSxjQUFjLEdBQUdaLG9CQUFvQixJQUFJbkIsb0JBQW9CLEdBQUdrQixrQkFBa0IsQ0FBQztNQUNuRmMsV0FBVyxHQUFHZCxrQkFBa0I7O0lBR3BDLEtBQUssSUFBSWUsUUFBUSxHQUFHRixjQUFjLEdBQUdDLFdBQVcsRUFBRUMsUUFBUSxHQUFHRixjQUFjLEVBQUVFLFFBQVEsRUFBRSxFQUFFO01BRXJGTixlQUFlLENBQUNoQixJQUFJLENBQ2hCdUIsZUFBZSxDQUNYO1FBQ0lqRixLQUFLLEVBQUNnRixRQUFRO1FBQ2Q1Syx5QkFBeUIsRUFBekJBLHlCQUF5QjtRQUN6QkMsd0JBQXdCLEVBQXhCQSx3QkFBd0I7UUFDeEJnSyxvQkFBb0IsRUFBcEJBLG9CQUFvQjtRQUNwQkwsUUFBUSxFQUFSQSxRQUFRO1FBQ1JrQixzQkFBc0IsRUFBQ1osTUFBTSxDQUFDYSxnQkFBZ0I7UUFDOUNDLHNCQUFzQixFQUFDZCxNQUFNLENBQUNlLGdCQUFnQjtRQUM5Q0MsMkJBQTJCLEVBQUNoQixNQUFNLENBQUNpQixxQkFBcUI7UUFDeERDLDJCQUEyQixFQUFDbEIsTUFBTSxDQUFDbUIscUJBQXFCO1FBQ3hEbEIsbUJBQW1CLEVBQW5CQTtPQUNILENBQ0osQ0FDSjs7R0FJUixNQUFNO0lBRUhNLGdCQUFnQixHQUFHTCxnQkFBZ0IsQ0FBQ2tCLE1BQU0sQ0FBRSxDQUFDLEVBQUUsQ0FBQzNDLG9CQUFvQixDQUFFOztFQUkxRSxJQUFJQyxrQkFBa0IsSUFBSSxDQUFDLEVBQUU7SUFBRTtJQUUzQixJQUNJOEIsZUFBYyxHQUFHTCxlQUFlO01BQ2hDTSxZQUFXLEdBQUcvQixrQkFBa0I7SUFFcEMsSUFBSUEsa0JBQWtCLEdBQUdpQixrQkFBa0IsRUFBRTtNQUN6Q2EsZUFBYyxHQUFHTCxlQUFlLElBQUl6QixrQkFBa0IsR0FBR2lCLGtCQUFrQixDQUFDO01BQzVFYyxZQUFXLEdBQUdkLGtCQUFrQjs7SUFHcEMsS0FBSyxJQUFJZSxTQUFRLEdBQUdGLGVBQWMsR0FBRyxDQUFDLEVBQUVFLFNBQVEsR0FBSUYsZUFBYyxHQUFHLENBQUMsR0FBR0MsWUFBWSxFQUFFQyxTQUFRLEVBQUUsRUFBRTtNQUUvRkwsZUFBZSxDQUFDakIsSUFBSSxDQUNoQnVCLGVBQWUsQ0FDWDtRQUNJakYsS0FBSyxFQUFDZ0YsU0FBUTtRQUNkNUsseUJBQXlCLEVBQXpCQSx5QkFBeUI7UUFDekJDLHdCQUF3QixFQUF4QkEsd0JBQXdCO1FBQ3hCZ0ssb0JBQW9CLEVBQXBCQSxvQkFBb0I7UUFDcEJMLFFBQVEsRUFBUkEsUUFBUTtRQUNSa0Isc0JBQXNCLEVBQUNaLE1BQU0sQ0FBQ2EsZ0JBQWdCO1FBQzlDQyxzQkFBc0IsRUFBQ2QsTUFBTSxDQUFDZSxnQkFBZ0I7UUFDOUNDLDJCQUEyQixFQUFDaEIsTUFBTSxDQUFDaUIscUJBQXFCO1FBQ3hEQywyQkFBMkIsRUFBQ2xCLE1BQU0sQ0FBQ21CLHFCQUFxQjtRQUN4RGxCLG1CQUFtQixFQUFuQkE7T0FDSCxDQUNKLENBQ0o7O0dBSVIsTUFBTTtJQUVISyxnQkFBZ0IsR0FBR0osZ0JBQWdCLENBQUNrQixNQUFNLENBQUMxQyxrQkFBa0IsRUFBQyxDQUFDQSxrQkFBa0IsQ0FBQzs7RUFJdEYsSUFDSTJDLFlBQVksTUFBQUMsTUFBQSxDQUFBL04sa0JBQUEsQ0FBT2dOLGdCQUFnQixHQUFBaE4sa0JBQUEsQ0FBSStNLGdCQUFnQixFQUFDO0lBQ3hEaUIsYUFBYSxNQUFBRCxNQUFBLENBQU9sQixlQUFlLEVBQUE3TSxrQkFBQSxDQUFJMk0sZ0JBQWdCLEdBQUlHLGVBQWUsQ0FBQztFQUUvRSxPQUFPLENBQUNrQixhQUFhLEVBQUNGLFlBQVksQ0FBQztBQUV2QyxDQUFDO0FBMUdZckosaUNBQXlCLEdBQUF3SCx5QkFBQTtBQTRHdEM7QUFDTyxJQUFNZ0MsbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFtQkEsQ0FBQUMsS0FBQSxFQVE1QjtFQUFBLElBTEk1QixXQUFXLEdBQUE0QixLQUFBLENBQVg1QixXQUFXO0lBQ1g2QixrQkFBa0IsR0FBQUQsS0FBQSxDQUFsQkMsa0JBQWtCO0lBQ2xCQyxhQUFhLEdBQUFGLEtBQUEsQ0FBYkUsYUFBYTs7RUFNYixJQUFFQyxnQkFBZ0IsR0FBS0QsYUFBYSxDQUFsQ0MsZ0JBQWdCO0lBRWxCQyxlQUFlLEdBQUcsQ0FBQXJHLEVBQUEsR0FBQXFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsY0FBQXJFLEVBQUEsdUJBQUFBLEVBQUEsQ0FBRUMsS0FBSyxDQUFDQyxLQUFLO0lBQzdDb0csZ0JBQWdCLEdBQUdELGVBQWUsR0FBR2hDLFdBQVcsQ0FBQzVLLE1BQU07SUFFdkQ4TSxhQUFhLEdBQUlMLGtCQUFrQixHQUFHRyxlQUFlO0lBRXJERyxzQkFBc0IsR0FDakJELGFBQWEsSUFBSSxDQUFDLEdBQ2ZMLGtCQUFrQixHQUNsQkEsa0JBQWtCLEdBQUcsQ0FBQztFQUVsQ0MsYUFBYSxDQUFDTSxtQkFBbUIsR0FDNUJGLGFBQWEsSUFBSSxDQUFDLEdBQ2YsSUFBSSxHQUNKLEtBQUs7RUFFYixJQUFLSCxnQkFBZ0IsS0FBS00sU0FBUyxJQUFNTCxlQUFlLEtBQUtLLFNBQVUsRUFBRTtJQUFFO0lBQ3ZFLElBQUtOLGdCQUFnQixJQUFJQyxlQUFlLElBQU1ELGdCQUFnQixJQUFJRSxnQkFBaUIsRUFBRTtNQUNqRixJQUNJSyxlQUFjLEdBQUdQLGdCQUFnQixHQUFHQyxlQUFlO1FBQ25ETyxxQkFBb0IsR0FBR3ZDLFdBQVcsQ0FBQ3NDLGVBQWMsQ0FBQztNQUN0RCxJQUFJQyxxQkFBb0IsRUFBRTtRQUFFO1FBQ3hCdkMsV0FBVyxDQUFDc0MsZUFBYyxDQUFDLEdBQUcvTSxPQUFBLFdBQUssQ0FBQ2lOLFlBQVksQ0FBQ0QscUJBQW9CLEVBQUU7VUFBQ0UsYUFBYSxFQUFDO1FBQUssQ0FBQyxDQUFDOzs7O0VBS3pHLElBQ0lILGNBQWMsR0FBR0gsc0JBQXNCLEdBQUdILGVBQWU7SUFDekRPLG9CQUFvQixHQUFHdkMsV0FBVyxDQUFDc0MsY0FBYyxDQUFDO0VBRXRELElBQUlDLG9CQUFvQixFQUFFO0lBRXRCdkMsV0FBVyxDQUFDc0MsY0FBYyxDQUFDLEdBQUcvTSxPQUFBLFdBQUssQ0FBQ2lOLFlBQVksQ0FBQ0Qsb0JBQW9CLEVBQUU7TUFBQ0UsYUFBYSxFQUFDO0lBQUksQ0FBQyxDQUFDO0lBQzVGWCxhQUFhLENBQUNDLGdCQUFnQixHQUFHSSxzQkFBc0I7R0FFMUQsTUFBTTtJQUFFO0lBRUxPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDRDQUE0QyxFQUFDLEdBQUcsR0FBQ2IsYUFBYSxDQUFDdEosVUFBVSxHQUFDLEdBQUcsQ0FBQztJQUMxRmtLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtIQUFrSCxFQUMxSGQsa0JBQWtCLEVBQUVFLGdCQUFnQixFQUFFQyxlQUFlLEVBQUVDLGdCQUFnQixFQUFFQyxhQUFhLEVBQUVDLHNCQUFzQixDQUFDO0lBQ25ITyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrRkFBK0YsRUFDdkdMLGNBQWMsRUFBRUMsb0JBQW9CLEVBQUVBLG9CQUFvQixhQUFwQkEsb0JBQW9CLHVCQUFwQkEsb0JBQW9CLENBQUUzRyxLQUFLLENBQUNnSCxZQUFZLEVBQUF2TyxNQUFBLENBQUF3TyxNQUFBLEtBQ3RFN0MsV0FBVyxFQUFFOztFQUk3QixJQUNJOEMsUUFBUSxHQUFHOUMsV0FBVyxDQUFDdkwsS0FBSyxDQUFDLENBQUMsRUFBQ3lOLGFBQWEsQ0FBQztJQUM3Q2EsUUFBUSxHQUFHL0MsV0FBVyxDQUFDdkwsS0FBSyxDQUFDeU4sYUFBYSxDQUFDO0VBRS9DLE9BQU8sQ0FBRVksUUFBUSxFQUFFQyxRQUFRLENBQUU7QUFFakMsQ0FBQztBQWpFWTVLLDJCQUFtQixHQUFBd0osbUJBQUE7QUFtRXpCLElBQU1xQixhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUluRCxRQUFRLEVBQUVvRCxVQUFVLEVBQUVDLGtCQUFrQixFQUFJO0VBRXRFLElBQU1DLEtBQUssR0FBR0YsVUFBVSxDQUFDRyxHQUFHLENBQUMsVUFBQ0MsSUFBSSxFQUFHO0lBRWpDLE9BQU9BLElBQUksQ0FBQ3pILEtBQUssQ0FBQ0MsS0FBSztFQUUzQixDQUFDLENBQUM7RUFFRmdFLFFBQVEsQ0FBQ3lELG1CQUFtQixDQUFDSCxLQUFLLEVBQUVELGtCQUFrQixDQUFDO0FBQzNELENBQUM7QUFUWS9LLHFCQUFhLEdBQUE2SyxhQUFBO0FBVzFCO0FBRUEsSUFBTWxDLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBQXlDLEtBQUEsRUFXaEI7RUFBQSxJQVZEMUgsS0FBSyxHQUFBMEgsS0FBQSxDQUFMMUgsS0FBSztJQUNMNUYseUJBQXlCLEdBQUFzTixLQUFBLENBQXpCdE4seUJBQXlCO0lBQ3pCQyx3QkFBd0IsR0FBQXFOLEtBQUEsQ0FBeEJyTix3QkFBd0I7SUFDeEJnSyxvQkFBb0IsR0FBQXFELEtBQUEsQ0FBcEJyRCxvQkFBb0I7SUFDcEJMLFFBQVEsR0FBQTBELEtBQUEsQ0FBUjFELFFBQVE7SUFDUmtCLHNCQUFzQixHQUFBd0MsS0FBQSxDQUF0QnhDLHNCQUFzQjtJQUN0QkUsc0JBQXNCLEdBQUFzQyxLQUFBLENBQXRCdEMsc0JBQXNCO0lBQ3RCRSwyQkFBMkIsR0FBQW9DLEtBQUEsQ0FBM0JwQywyQkFBMkI7SUFDM0JFLDJCQUEyQixHQUFBa0MsS0FBQSxDQUEzQmxDLDJCQUEyQjtJQUMzQmpCLG1CQUFtQixHQUFBbUQsS0FBQSxDQUFuQm5ELG1CQUFtQjtFQUVuQixJQUFNb0QsVUFBVSxHQUFHdEQsb0JBQW9CLENBQUNsRyxPQUFPLEVBQUU7RUFFakQsSUFFSTdELFdBQVcsR0FXWEYseUJBQXlCLENBWHpCRSxXQUFXO0lBQ1g4RSxVQUFVLEdBVVZoRix5QkFBeUIsQ0FWekJnRixVQUFVO0lBQ1ZDLFNBQVMsR0FTVGpGLHlCQUF5QixDQVR6QmlGLFNBQVM7SUFDVHVJLGFBQWEsR0FRYnhOLHlCQUF5QixDQVJ6QndOLGFBQWE7SUFDYkMsWUFBWSxHQU9aek4seUJBQXlCLENBUHpCeU4sWUFBWTtJQUNaQyxPQUFPLEdBTVAxTix5QkFBeUIsQ0FOekIwTixPQUFPO0lBQ1BDLFdBQVcsR0FLWDNOLHlCQUF5QixDQUx6QjJOLFdBQVc7SUFDWHBMLFVBQVUsR0FJVnZDLHlCQUF5QixDQUp6QnVDLFVBQVU7SUFDVjJDLE1BQU0sR0FHTmxGLHlCQUF5QixDQUh6QmtGLE1BQU07SUFDTjBJLGNBQWMsR0FFZDVOLHlCQUF5QixDQUZ6QjROLGNBQWM7RUFJbEIsSUFDSUMsUUFBUSxHQUFHNU4sd0JBQXdCLENBQUNHLGdCQUFnQixDQUFDME4sSUFBSTtJQUN6RDtJQUNBQyxNQUFNLEdBQUduRSxRQUFRLENBQUNvRSxzQkFBc0IsQ0FBQ3BJLEtBQUssQ0FBQztFQUVuRCxPQUFPdEcsT0FBQSxZQUFBMk8sYUFBQSxDQUFDeE8sV0FBQSxXQUFTO0lBQ2J5TyxHQUFHLEVBQUtYLFVBQVU7SUFDbEJyTixXQUFXLEVBQUtBLFdBQVc7SUFDM0I4RSxVQUFVLEVBQUtBLFVBQVU7SUFDekJDLFNBQVMsRUFBS0EsU0FBUztJQUN2QnVJLGFBQWEsRUFBS0EsYUFBYTtJQUMvQkMsWUFBWSxFQUFLQSxZQUFZO0lBQzdCdkksTUFBTSxFQUFLQSxNQUFNO0lBQ2pCVSxLQUFLLEVBQUtBLEtBQUs7SUFDZjhILE9BQU8sRUFBS0EsT0FBTztJQUNuQkcsUUFBUSxFQUFLQSxRQUFRO0lBQ3JCRixXQUFXLEVBQUtBLFdBQVc7SUFDM0JJLE1BQU0sRUFBS0EsTUFBTTtJQUNqQlIsVUFBVSxFQUFLQSxVQUFVO0lBQ3pCaEwsVUFBVSxFQUFLQSxVQUFVO0lBQ3pCaUssYUFBYSxFQUFLLEtBQUs7SUFDdkJvQixjQUFjLEVBQUtBLGNBQWM7SUFDakM5QyxzQkFBc0IsRUFBS0Esc0JBQXNCO0lBQ2pERSxzQkFBc0IsRUFBS0Esc0JBQXNCO0lBQ2pERSwyQkFBMkIsRUFBS0EsMkJBQTJCO0lBQzNERSwyQkFBMkIsRUFBS0EsMkJBQTJCO0lBQzNEakIsbUJBQW1CLEVBQUtBLG1CQUFtQjtJQUMzQ2dFLGNBQWMsRUFBSTtFQUFJLEVBQ3hCO0FBRU4sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2NvbnRlbnRmdW5jdGlvbnMudHN4P2QyZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29udGVudGZ1bmN0aW9ucy50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgc3VwcG9ydHMgdGhlIGNvbnRlbnRoYW5kbGVyIG1vZHVsZS4gVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSBwZXJmb3JtXG4gICAgdGhlIGRldGFpbGVkIGNhbGN1bGF0aW9ucyBhbmQgcHJvY2Vzc2VzIHJlcXVpcmVkIGJ5IHRoZSBjb250ZW50aGFuZGxlci5cblxuICAgIGNhbGN1bGF0ZUNvbnRlbnRMaXN0UmVxdWlyZW1lbnRzIGlzIGNhbGxlZCBieSB0aGUgY29udGVudGhhbmRsZXIncyBzZXRDcmFkbGVDb250ZW50IGZ1bmN0aW9uLlxuXG4gICAgZ2VuZXJhdGVTaGlmdEluc3RydWN0aW9uIGFuZCBjYWxjQ29udGVudFNoaWZ0IGFyZSBjYWxsZWQgYnkgY29udGVudEhhbmRsZXIncyB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgZnVuY3Rpb24uIFxuICAgIFxuICAgIGdldENlbGxGcmFtZUNvbXBvbmVudExpc3QsIGFsbG9jYXRlQ29udGVudExpc3QsIGFuZCBkZWxldGVQb3J0YWxzIGZ1bmN0aW9ucyBhcmUgc2hhcmVkIGJ5IGJvdGguIFxuXG4gICAgY3JlYXRlQ2VsbEZyYW1lIGlzIGNhbGxlZCBpbnRlcm5hbGx5IGJ5IGdldENlbGxGcmFtZUNvbXBvbmVudExpc3QgYXMgbmVlZGVkLlxuKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgQ2VsbEZyYW1lIGZyb20gJy4uL0NlbGxGcmFtZSdcblxuaW1wb3J0IHsgaXNTYWZhcmlJT1MgfSBmcm9tICcuLi9JbmZpbml0ZUdyaWRTY3JvbGxlcidcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PVsgZm9yIHNldENyYWRsZUNvbnRlbnQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMgPSAoeyAvLyBjYWxsZWQgZnJvbSBzZXRDcmFkbGVDb250ZW50IG9ubHlcblxuICAgICAgICAvLyBpbmRleFxuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZyb20gdXNlciwgb3IgZnJvbSBwaXZvdFxuICAgICAgICAvLyBwaXhlbHNcbiAgICAgICAgYmFzZVJvd1BpeGVsTGVuZ3RoLFxuICAgICAgICB0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQsXG4gICAgICAgIC8vIHJlc291cmNlc1xuICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICB9KSA9PiB7XG5cbiAgICBjb25zdCBcbiAgICAgICAgeyBcblxuICAgICAgICAgICAgb3JpZW50YXRpb24sXG5cbiAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLFxuICAgICAgICAgICAgcGFkZGluZ1Byb3BzLFxuXG4gICAgICAgIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgICAgIHJ1bndheVJvd2NvdW50LFxuXG4gICAgICAgIH0gPSBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBsb3dpbmRleDpsaXN0bG93aW5kZXgsIFxuICAgICAgICAgICAgaGlnaGluZGV4Omxpc3RoaWdoaW5kZXgsIFxuICAgICAgICAgICAgLy8gc2l6ZTpsaXN0c2l6ZSwgXG4gICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgIHJvd2NvdW50Omxpc3RSb3djb3VudCxcbiAgICAgICAgICAgIGJhc2Vyb3dibGFua3MsXG4gICAgICAgICAgICBlbmRyb3dibGFua3MsXG4gICAgICAgICAgICByb3dzaGlmdDpyYW5nZXJvd3NoaWZ0LFxuXG4gICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAvLyBhbGlnbiBheGlzIHJlZmVyZW5jZSB0byBsaXN0IHNjb3BlXG4gICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5taW4odGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LCBsaXN0aGlnaGluZGV4KVxuICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCA9IE1hdGgubWF4KHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCwgbGlzdGxvd2luZGV4KVxuXG4gICAgLy8gZGVyaXZlIHRhcmdldCByb3dcbiAgICBjb25zdCB0YXJnZXRBeGlzUmVmZXJlbmNlUm93ID0gTWF0aC5mbG9vcih0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgvY3Jvc3Njb3VudClcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjIGNyYWRsZVJlZmVyZW5jZVJvdyAmIEluZGV4IF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGxlYWRpbmcgZWRnZVxuICAgIGxldCBcbiAgICAgICAgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93ID0gTWF0aC5tYXgocmFuZ2Vyb3dzaGlmdCx0YXJnZXRBeGlzUmVmZXJlbmNlUm93IC0gcnVud2F5Um93Y291bnQpLFxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlXG4gICAgICAgIHRhcmdldENyYWRsZUVuZFJvdyA9IHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyArIChjcmFkbGVSb3djb3VudCAtIDEpXG5cbiAgICBjb25zdCBsaXN0RW5kUm93T2Zmc2V0ID0gKGxpc3RSb3djb3VudCAtIDEpICsgcmFuZ2Vyb3dzaGlmdFxuXG4gICAgaWYgKHRhcmdldENyYWRsZUVuZFJvdyA+IChsaXN0RW5kUm93T2Zmc2V0KSkge1xuICAgICAgICBjb25zdCBkaWZmID0gKHRhcmdldENyYWRsZUVuZFJvdyAtIGxpc3RFbmRSb3dPZmZzZXQpXG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyAtPSBkaWZmXG4gICAgICAgIHRhcmdldENyYWRsZUVuZFJvdyAtPSBkaWZmXG4gICAgfVxuXG4gICAgbGV0IHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4ID0gKHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyAqIGNyb3NzY291bnQpXG4gICAgdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1heCh0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCxsaXN0bG93aW5kZXgpXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNhbGMgY3JhZGxlIGNvbnRlbnQgY291bnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IG5ld0NyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudFxuICAgIGlmICh0YXJnZXRDcmFkbGVFbmRSb3cgPT0gbGlzdEVuZFJvd09mZnNldCkge1xuICAgICAgICBpZiAoZW5kcm93YmxhbmtzKSB7XG4gICAgICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQgLT0gZW5kcm93YmxhbmtzLy8gZW5kUm93UmVtYWluZGVyQ291bnQpXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhcmdldENyYWRsZVJlZmVyZW5jZVJvdyA9PSByYW5nZXJvd3NoaWZ0KSB7IC8vIGZpcnN0IHJvd1xuICAgICAgICBpZiAoYmFzZXJvd2JsYW5rcykge1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IGJhc2Vyb3dibGFua3NcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjIGNzcyBwb3NpdGlvbmluZyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IFxuICAgICAgICBwYWRkaW5nT2Zmc2V0ID0gXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3A6XG4gICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLmxlZnQsXG5cbiAgICAgICAgdGFyZ2V0UGl4ZWxPZmZzZXRWaWV3cG9ydEZyb21TY3JvbGxibG9jayA9IFxuICAgICAgICAgICAgKCh0YXJnZXRBeGlzUmVmZXJlbmNlUm93IC0gcmFuZ2Vyb3dzaGlmdCkgKiBiYXNlUm93UGl4ZWxMZW5ndGgpICsgcGFkZGluZ09mZnNldFxuICAgICAgICAgICAgICAgIC0gdGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyByZXR1cm4gcmVxdWlyZWQgdmFsdWVzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldENyYWRsZVJlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICB0YXJnZXRQaXhlbE9mZnNldFZpZXdwb3J0RnJvbVNjcm9sbGJsb2NrLCBcbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LCBcbiAgICB9IFxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT1bIGZvciB1cGRhdGVDcmFkbGVDb250ZW50IF09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLypcbiAgICB0aGUgdHdvIHRyaWdnZXJsaW5lcyBtdXN0IHN0cmFkZGxlIHRoZSBoZWFkIG9mIHRoZSB2aWV3cG9ydCAodG9wIG9yIGxlZnQpIHNvIHRoYXRcbiAgICBjcmFkbGUgbW90aW9uIGNhbiBiZSBkZXRlY3RlZC4gTW90aW9uIGlzIG1vc3Qgb2Z0ZW4gY2F1c2VkIGJ5IHNjcm9sbGluZywgYnV0XG4gICAgY2FuIGFsc28gb2NjdXIgd2l0aCBjaGFuZ2Ugb2Ygc2l6ZSBvZiBjcmFkbGUgY29udGVudCByb3dzLlxuXG4gICAgZ2VuZXJhdGVTaGlmdEluc3RydWN0aW9uIGRldGVybWluZXMgd2hldGhlciB0aGUgYXhpcyBzaG91bGQgYmUgbW92ZWQgdG93YXJkIHRoZSBoZWFkIG9yIHRhaWxcbiAgICAgICAgdG8gcmVzdG9yZSB0aGUgc3RyYWRkbGluZyBwb3NpdGlvbiBvZiB0aGUgdHdvIHRyaWdnZXIgbGluZXMuIExvdHMgb2YgcmVsYXRpdmUgbW90aW9uLlxuXG4gICAgJ21vdmVheGlzaGVhZHdhcmQnIChzY3JvbGxpbmcgZG93biBvciByaWdodCkgbWVhbnMgbW92aW5nIHRoZSBheGlzIHVwIG9yIGxlZnQsIGFkamFjZW50IGl0ZW1zIGRvd25cbiAgICAgICAgIG9yIHJpZ2h0IHRvIHRoZSB0YWlsLCBkcm9wcGluZyB0cmFpbGluZyB0YWlsIGl0ZW1zLCBhbmQgYWRkaW5nIGxlYWRpbmcgaGVhZCBpdGVtcyBhcyBuZWNlc3NhcnlcbiAgICAgICAgIHRvIG1haW50YWluIG51bWJlciBvZiBjcmFkbGUgcm93cyBvZiBjb250ZW50IGNvbnN0YW50LlxuXG4gICAgJ21vdmVheGlzdGFpbHdhcmQnIChzY3JvbGxpbmcgdXAgb3IgbGVmdCkgbWVhbnMgbW92aW5nIHRoZSBheGlzIGRvd24gb3IgcmlnaHQsIGFkamFjZW50IGl0ZW1zIHVwXG4gICAgICAgICBvciBsZWZ0IHRvIHRoZSBoZWFkLCBkcm9wcGluZyB0cmFpbGluZyBoZWFkIGl0ZW1zLCBhbmQgYWRkaW5nIGxlYWRpbmcgdGFpbCBpdGVtcyBhcyBuZWNlc3NhcnlcbiAgICAgICAgIHRvIG1haW50YWluIG51bWJlciBvZiBjcmFkbGUgcm93cyBvZiBjb250ZW50IGNvbnN0YW50LlxuXG4gICAgJ25vbmUnIG1lYW5zIG5vIHNoaWZ0IGlzIHJlcXVpcmVkXG4qL1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVTaGlmdEluc3RydWN0aW9uID0gKHtcblxuICAgIG9yaWVudGF0aW9uLFxuICAgIHRyaWdnZXJsaW5lRW50cmllcyxcbiAgICB0cmlnZ2VybGluZVNwYW4sXG4gICAgc2Nyb2xsZXJJRCwgLy8gZm9yIGRlYnVnXG4gICAgXG4gICAgLy8gaXNGaXJzdFJvd1RyaWdnZXJDb25maWcgaXMgdHJ1ZSBpZiB0aGUgdHJpZ2dlcmxpbmVzIGFyZSB3aXRoIHRoZSBmaXJzdCB0YWlsIHJvdyBpbnN0ZWFkIG9mIHRoZVxuICAgIC8vIGxhc3QgaGVhZHJvdy4gVGhhdCBoYXBwZW5zICh3b3JrYXJvdW5kKSB3aGVuIHRoZXJlIGFyZSBubyBoZWFkIHJvd3NcbiAgICBpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZywgLy8gYm9vbGVhblxuXG4gICAgLy8gU2FmYXJpIGRvZXNuJ3QgbWVhc3VyZSB6b29tZWQgdmFsdWVzIGZvciByb290Ym91bmRzIGluIHRyaWdnZXJsaW5lRW50cmllcywgc28gd2UgdGFrZSBhIGRpcmVjdCByZWFkaW5nXG4gICAgdmlld3BvcnRCb3VuZGluZ1JlY3QsIFxuICAgIHRyaWdnZXJIaXN0b3J5UmVmLFxuXG59KSA9PiB7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIGNvbGxlY3QgcmVzb3VyY2VzIF0tLS0tLS0tLS0tLS0tLS0tXG4gICAgY29uc3QgXG4gICAgICAgIHRyaWdnZXJDb25maWdEYXRhID0ge1xuICAgICAgICAgICAgaGVhZE9mZnNldDpudWxsLFxuICAgICAgICAgICAgdGFpbE9mZnNldDpudWxsLFxuICAgICAgICAgICAgc3Bhbjp0cmlnZ2VybGluZVNwYW4sXG4gICAgICAgICAgICBpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZ1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIG1vc3QgcmVjZW50IG9ic2VydmVyIHJlY29yZDsgZWl0aGVyIHRyaWdnZXJsaW5lIHdpbGwgZG9cbiAgICAgICAgZW50cnkgPSB0cmlnZ2VybGluZUVudHJpZXNbdHJpZ2dlcmxpbmVFbnRyaWVzLmxlbmd0aCAtIDFdLCAvLy5hdCgtMSkgYXQgbm90IGF2YWlsYWJsZSBpbiBpT1MgMTVcbiAgICAgICAgcmVmZXJlbmNlbmFtZSA9IGVudHJ5LnRhcmdldC5kYXRhc2V0LnR5cGUsIC8vIGhlYWR0cmlnZ2VyIG9yIHRhaWx0cmlnZ2VyXG5cbiAgICAgICAgc3BhbiA9IHRyaWdnZXJsaW5lU3BhbiwgLy8gY3VycmVudCBwaXhlbCBkaXN0YW5jZSBiZXR3ZWVuIHRyaWdnZXJzXG5cbiAgICAgICAgLy8gLS0tIGlkZW50aWZ5IHZpZXdwb3J0cG9zLi4uXG4gICAgICAgIGludGVyc2VjdHJvb3Rwb3MgPSAvLyB0aGUgdmlld3BvcnQgbWVhc3VyZWQgYnkgdGhlIG9ic2VydmVyXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgTWF0aC50cnVuYyhlbnRyeS5yb290Qm91bmRzLnkpOlxuICAgICAgICAgICAgICAgIE1hdGgudHJ1bmMoZW50cnkucm9vdEJvdW5kcy54KSxcblxuICAgICAgICBib3VuZGluZ3Jvb3Rwb3MgPSAvLyB0aGUgdmlld3BvcnQgbWVhc3VyZWQgZGlyZWN0bHlcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBNYXRoLnRydW5jKHZpZXdwb3J0Qm91bmRpbmdSZWN0LnkpOlxuICAgICAgICAgICAgICAgIE1hdGgudHJ1bmModmlld3BvcnRCb3VuZGluZ1JlY3QueCksXG5cbiAgICAgICAgLy8gdGhpcyBzZWxlY3Rpb24gaXMgcmVkdW5kYW50LCBidXQgZG9jdW1lbnRzIHdoYXQncyBnb2luZyBvblxuICAgICAgICB2aWV3cG9ydHBvcyA9IC8vIHRoZSB2aWV3cG9ydHBvcyBzZWxlY3Rpb24sIHRvIGFjY29tbW9kYXRlIFNhZmFyaSB6b29taW5nIGFub21hbHlcbiAgICAgICAgICAgIChpbnRlcnNlY3Ryb290cG9zID09IGJvdW5kaW5ncm9vdHBvcyk/XG4gICAgICAgICAgICBpbnRlcnNlY3Ryb290cG9zOlxuICAgICAgICAgICAgYm91bmRpbmdyb290cG9zLCAvLyB3ZSdyZSBpbiBTYWZhcmksIHpvb21lZFxuICAgICAgICAvLyAtLS0gZW5kIG9mIGlkZW50aWZ5IHZpZXdwb3J0cG9zXG5cblxuICAgICAgICB0cmlnZ2VycG9zID0gXG4gICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgTWF0aC50cnVuYyhlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueSk6XG4gICAgICAgICAgICAgICAgTWF0aC50cnVuYyhlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QueCksXG5cbiAgICAgICAgLy8gZ2V0IHRoZSB0cmlnZ2Vyb2Zmc2V0LCB3aGljaCBjb250cm9scyB0aGUgZGV0ZXJtaW5hdGlvbiBvZiB0aGUgc2hpZnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgdHJpZ2dlck9mZnNldCA9IHRyaWdnZXJwb3MgLSB2aWV3cG9ydHBvcyxcblxuICAgICAgICB0cmlnZ2VySGlzdG9yeSA9IHRyaWdnZXJIaXN0b3J5UmVmLmN1cnJlbnRcblxuICAgIGVudHJ5LnJlZmVyZW5jZW5hbWUgPSByZWZlcmVuY2VuYW1lIC8vIGZvciBkZWJ1Z1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0gWyBzZXQgdGhlIG9mZnNldCBkYXRhIGZvciBib3RoIHRyaWdnZXJzIF0gLS0tLS0tLS0tLS0tXG5cbiAgICBpZiAocmVmZXJlbmNlbmFtZSA9PSAnaGVhZHRyaWdnZXInKSB7XG5cbiAgICAgICAgdHJpZ2dlckNvbmZpZ0RhdGEuaGVhZE9mZnNldCA9IHRyaWdnZXJPZmZzZXRcbiAgICAgICAgdHJpZ2dlckNvbmZpZ0RhdGEudGFpbE9mZnNldCA9IHRyaWdnZXJPZmZzZXQgKyBzcGFuXG5cbiAgICB9IGVsc2UgeyAvLyB0YWlsdHJpZ2dlclxuXG4gICAgICAgIHRyaWdnZXJDb25maWdEYXRhLmhlYWRPZmZzZXQgPSB0cmlnZ2VyT2Zmc2V0IC0gc3BhblxuICAgICAgICB0cmlnZ2VyQ29uZmlnRGF0YS50YWlsT2Zmc2V0ID0gdHJpZ2dlck9mZnNldFxuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FsY3VsYXRlIHNoaWZ0IGluc3RydWN0aW9uIF0tLS0tLS0tLS0tLS0tLVxuXG4gICAgbGV0IHNoaWZ0aW5zdHJ1Y3Rpb25cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tWyBGSUxURVIgT1VUIElORklOSVRFIFJFQ1VSU0lPTiBdLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICAvLyBzaW5jZSB0cmlnZ2VycyBhcmUgbW92ZWQgYW5kIGNhbiBzaGFyZSB0aGUgMCAoemVybykgb2Zmc2V0LCBhbiBpbmZpbml0ZSBsb29wIGNhbiBvY2N1clxuICAgIC8vIGJldHdlZW4gdGhlIGhlYWQgYW5kIHRhaWwgdHJpZ2dlcnMuIFRoZSBmb2xsb3dpbmcgc2hvcnQtY2lyY3VpdHMgdGhhdC5cbiAgICBcbiAgICAvLyBJZGVudGlmeSBjYXNlIG9mIHRyaWdnZXIgYXQgYm9yZGVyXG4gICAgaWYgKFxuICAgICAgICAgICAgKGlzU2FmYXJpSU9TICYmIC8vIGVpdGhlciB0cmlnZ2VyIG9mZnNldCBpcyBleGFjdGx5IDBcblxuICAgICAgICAgICAgICAgICh0cmlnZ2VyQ29uZmlnRGF0YS5oZWFkT2Zmc2V0ID09IDAgfHwgdHJpZ2dlckNvbmZpZ0RhdGEudGFpbE9mZnNldCA9PSAwKVxuXG4gICAgICAgICAgICApIFxuXG4gICAgICAgIHx8XG5cbiAgICAgICAgICAgICghaXNTYWZhcmlJT1MgJiYgLy8gZWl0aGVyIHRyaWdnZXIgb2Zmc2V0IGlzIHdpdGhpbiByYW5nZSBvZiAwXG5cbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICh0cmlnZ2VyQ29uZmlnRGF0YS5oZWFkT2Zmc2V0ID49IC0xICYmIHRyaWdnZXJDb25maWdEYXRhLmhlYWRPZmZzZXQgPD0gMSkgXG5cbiAgICAgICAgICAgICAgICAgICAgfHwgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAodHJpZ2dlckNvbmZpZ0RhdGEudGFpbE9mZnNldCA+PSAtMSAmJiB0cmlnZ2VyQ29uZmlnRGF0YS50YWlsT2Zmc2V0IDw9IDEpXG5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG5cbiAgICAgICAgKSB7XG5cbiAgICAgICAgLy8gc29tZSBicm93c2VycyBkbyBhbiBpbmZpbml0ZSBsb29wIHdpdGggdGhlIHNhbWUgcHJldmlvdXNUcmlnZ2VyTmFtZUF0Qm9yZGVyO1xuICAgICAgICAvLyB1c3VhbGx5IGFsdGVybmF0ZXNcbiAgICAgICAgLy8gc28gaWYgdGhpcyBpcyBhIHJlcGVhdCBvZiB0aGUgc2FtZSBhdC1ib3JkZXIsIHNob3J0LWNpcmN1aXQgYW5kIGNhbmNlbFxuICAgICAgICBpZiAodHJpZ2dlckhpc3RvcnkucHJldmlvdXNUcmlnZ2VyTmFtZUF0Qm9yZGVyKSB7XG5cbiAgICAgICAgICAgIHRyaWdnZXJIaXN0b3J5LnByZXZpb3VzVHJpZ2dlck5hbWVBdEJvcmRlciA9IG51bGxcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbiA9ICdub25lJ1xuICAgICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7IC8vIHJlY29yZCB0aGlzIGluc3RhbmNlLCB0byBwcmV2ZW50IGEgcmVwZWF0IG5leHQgdGltZVxuXG4gICAgICAgICAgICBpZiAoKHRyaWdnZXJDb25maWdEYXRhLmhlYWRPZmZzZXQgPj0gLTEpICYmICh0cmlnZ2VyQ29uZmlnRGF0YS5oZWFkT2Zmc2V0IDw9IDEpKSB7XG5cbiAgICAgICAgICAgICAgICB0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1RyaWdnZXJOYW1lQXRCb3JkZXIgPSAnaGVhZHRyaWdnZXInXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0cmlnZ2VySGlzdG9yeS5wcmV2aW91c1RyaWdnZXJOYW1lQXRCb3JkZXIgPSAndGFpbHRyaWdnZXInXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgaWYgbm90IGF0LWJvcmRlciBjbGVhciByZWNvcmQgb2YgcHJldmlvdXMgdHJpZ2dlciBhdCBib3JkZXJcblxuICAgICAgICBpZiAodHJpZ2dlckhpc3RvcnkucHJldmlvdXNUcmlnZ2VyTmFtZUF0Qm9yZGVyKSB7XG5cbiAgICAgICAgICAgIHRyaWdnZXJIaXN0b3J5LnByZXZpb3VzVHJpZ2dlck5hbWVBdEJvcmRlciA9IG51bGxcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24pIHsgLy8gd2lsbCBiZSAnbm9uZScsIG93aW5nIHRvIHJlcGVhdCBvZiB0cmlnZ2VyIGF0IGJvcmRlclxuXG4gICAgICAgIHJldHVybiBbc2hpZnRpbnN0cnVjdGlvbiwgMF1cblxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tWyBFTkQgT0YgRklMVEVSIE9VVCBJTkZJTklURSBSRUNVUlNJT04gXS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBub3cgc2FmZWx5IGNhbGN1bGF0ZSB0aGUgc2hpZnQgaW5zdHJ1Y3Rpb25cbiAgICAvLyB0aGUgaGVhZCBvZmZzZXQgc2hvdWxkIGFsd2F5cyBiZSBwbGFjZWQgYWJvdmUgdGhlIGJvcmRlcjsgdGhlIHRhaWwgYmVsb3dcbiAgICBpZiAoaXNGaXJzdFJvd1RyaWdnZXJDb25maWcpIHtcblxuICAgICAgICBpZiAodHJpZ2dlckNvbmZpZ0RhdGEuaGVhZE9mZnNldCA8PSAwKSB7XG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24gPSAnbW92ZWF4aXN0YWlsd2FyZCdcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzaGlmdGluc3RydWN0aW9uID0gJ25vbmUnXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAodHJpZ2dlckNvbmZpZ0RhdGEudGFpbE9mZnNldCA8PSAwKSB7XG5cbiAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24gPSAnbW92ZWF4aXN0YWlsd2FyZCdcblxuICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXJDb25maWdEYXRhLmhlYWRPZmZzZXQgPj0gMCkge1xuXG4gICAgICAgICAgICBzaGlmdGluc3RydWN0aW9uID0gJ21vdmVheGlzaGVhZHdhcmQnXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbiA9ICdub25lJ1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zID0gLy8gdXNlZCB0byBjYWxjdWxhdGUgcmVxdWlyZWQgcGl4ZWwgc2hpZnRcbiAgICAgICAgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzdGFpbHdhcmQnKT8gLy8gYmxvY2sgaXMgc2Nyb2xsaW5nIHVwIG9yIGxlZnRcbiAgICAgICAgICAgIHRyaWdnZXJDb25maWdEYXRhLnRhaWxPZmZzZXQ6IC8vIG5lZWRzIHRvIG1vdmUgdXAgb3IgbGVmdCB0b3dhcmQgaGVhZFxuICAgICAgICAgICAgdHJpZ2dlckNvbmZpZ0RhdGEuaGVhZE9mZnNldCAvLyBuZWVkcyB0byBtb3ZlIGRvd24gb3IgcmlnaHQgdG93YXJkIHRhaWxcblxuICAgIHJldHVybiBbc2hpZnRpbnN0cnVjdGlvbiwgdHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3NdXG5cbn1cblxuLypcbiAgICBUaGUgYmFzaWMgZ29hbCBvZiBjYWxjdWxhdGVTaGlmdFNwZWNzIGlzIHRvIGRldGVybWluZSB0aGUgbnVtYmVyIGFuZCBkaXJlY3Rpb24gb2Ygcm93cyB0byBzaGlmdCBiZXR3ZWVuXG4gICAgdGhlIGhlYWQgYW5kIHRhaWwgZ3JpZHMgKHdoaWNoIGRldGVybWluZXMgdGhlIG5ldyBsb2NhdGlvbiBvZiB0aGUgYXhpcyksIGFuZCBhbHNvIHRvXG4gICAgY2FsY3VsYXRlIHRoZSByb2xsaW5nIGFkZGl0aW9uIGFuZCBkZWxldGlvbiBvZiBjcmFkbGUgY29udGVudCB0byBhY2NvbW1vZGF0ZSB0aGUgY2hhbmdlcy5cblxuICAgIFRoZSBudW1iZXIgb2Ygcm93cyB0byBzaGlmdCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBwaXhlbCBzaGlmdCByZXF1aXJlZCB0byByZXN0b3JlIHRoZSBcbiAgICB0cmlnZ2VybGluZXMgdG8gdGhlaXIgc3RyYWRkbGUgY29uZmlndXJhdGlvbiBhcm91bmQgdGhlIGhlYWQgKHRvcCBvciBsZWZ0KSBvZiB0aGUgdmlld3BvcnQuXG5cbiAgICBBZGp1c3RtZW50cyBhcmUgbWFkZSB0byBhY2NvbW1vZGF0ZSBzcGVjaWFsIHJlcXVpcmVtZW50cyBhdCB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgdmlydHVhbCBsaXN0LlxuXG4gICAgRE9NIG1lYXN1cmVtZW50cyBhcmUgdXNlZCB3aGVyZSBhdmFpbGFibGUgKHRvIGFjY29tbW9kYXRlIHZhcmlhYmxlIGRpbWVuc2lvbiByb3dzKSwgYW5kIHN0YW5kYXJkXG4gICAgdW5pdHMgKGNlbGxIZWlnaHQsIGNlbGxXaWR0aCkgdXNlZCBmb3IgZXN0aW1hdGVzIHdoZXJlIG5lY2Vzc2FyeS5cbiovXG5cbi8vIHJvd3NoaWZ0IGlzIGF0IGxlYXN0IDEgYnkgdGhlIHRpbWUgdGhpcyBmdW5jdGlvbiBpcyByZWFjaGVkXG4vLyBpZS4gYSBzaGlmdGluc3RydWN0aW9uIG9mICdtb3ZlYXhpc2hlYWR3YXJkJyBvciAnbW92ZWF4aXN0YWlsd2FyZCdcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVTaGlmdFNwZWNzID0gKHtcblxuICAgIC8vIGRpcmVjdGlvbiBvZiBjaGFuZ2VcbiAgICBzaGlmdGluc3RydWN0aW9uLFxuICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zLFxuXG4gICAgLy8gcG9zaXRpb25hbFxuICAgIGN1cnJlbnRTY3JvbGxQb3MsXG4gICAgc2Nyb2xsYmxvY2tFbGVtZW50LFxuXG4gICAgLy8gcHJvcGVydHkgcmVwb3NcbiAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgdmlydHVhbExpc3RQcm9wcyxcblxuICAgIC8vIGNyYWRsZSByZXBvc1xuICAgIGNyYWRsZUNvbnRlbnQsXG4gICAgY3JhZGxlRWxlbWVudHMsXG5cbn0pID0+IHtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMS4gaW5pdGlhbGl6ZSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGNyYWRsZSBlbGVtZW50c1xuICAgIGNvbnN0IFxuICAgICAgICBheGlzRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmF4aXNSZWYuY3VycmVudCxcbiAgICAgICAgaGVhZEdyaWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuaGVhZFJlZi5jdXJyZW50LFxuICAgICAgICB0YWlsR3JpZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy50YWlsUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgLy8gY29uZmlndXJhdGlvbiBkYXRhXG4gICAgICAgIHsgXG5cbiAgICAgICAgICAgIC8vIGdhcCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIHNjcm9sbGVySUQsIC8vIGRlYnVnXG5cbiAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAge1xuXG4gICAgICAgICAgICBwYWRkaW5nUHJvcHMsXG4gICAgICAgICAgICBnYXBQcm9wcyxcblxuICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgIC8vIGNyYWRsZSBjb250ZW50c1xuICAgICAgICB7XG5cbiAgICAgICAgICAgIGNyYWRsZU1vZGVsQ29tcG9uZW50czpjcmFkbGVjb250ZW50bGlzdCwgXG4gICAgICAgICAgICB0YWlsTW9kZWxDb21wb25lbnRzOnRhaWxjb250ZW50bGlzdCxcblxuICAgICAgICB9ID0gY3JhZGxlQ29udGVudCxcblxuICAgICAgICB7IFxuXG4gICAgICAgICAgICBjcmFkbGVSb3djb3VudCxcbiAgICAgICAgICAgIHZpZXdwb3J0Um93Y291bnQsXG4gICAgICAgICAgICBydW53YXlSb3djb3VudCxcblxuICAgICAgICB9ID0gY3JhZGxlQ29udGVudFByb3BzLFxuXG4gICAgICAgIHtcblxuICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICByb3djb3VudDpsaXN0Um93Y291bnQsIFxuICAgICAgICAgICAgLy8gc2l6ZTpsaXN0c2l6ZSxcbiAgICAgICAgICAgIGxvd2luZGV4Omxpc3Rsb3dpbmRleCxcbiAgICAgICAgICAgIGJhc2Vyb3dibGFua3MsXG4gICAgICAgICAgICBlbmRyb3dibGFua3MsXG4gICAgICAgICAgICByb3dzaGlmdDpyYW5nZXJvd3NoaWZ0LFxuICAgICAgICAgICAgXG4gICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzLFxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZVxuICAgICAgICBwcmV2aW91c0NyYWRsZVJlZmVyZW5jZUluZGV4ID0gKGNyYWRsZWNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCB8fCAwKSxcbiAgICAgICAgcHJldmlvdXNDcmFkbGVSZWZlcmVuY2VSb3cgPSBNYXRoLmZsb29yKHByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgvY3Jvc3Njb3VudCksXG5cbiAgICAgICAgcHJldmlvdXNBeGlzUmVmZXJlbmNlSW5kZXggPSAodGFpbGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCB8fCAwKSxcbiAgICAgICAgcHJldmlvdXNBeGlzUmVmZXJlbmNlUm93ID0gTWF0aC5mbG9vcihwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleC9jcm9zc2NvdW50KSxcblxuICAgICAgICBsaXN0RW5kUm93ID0gKGxpc3RSb3djb3VudCAtIDEpICsgcmFuZ2Vyb3dzaGlmdCxcblxuICAgICAgICBnYXBsZW5ndGggPSBcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgZ2FwUHJvcHMuY29sdW1uOlxuICAgICAgICAgICAgICAgIGdhcFByb3BzLnJvdyxcblxuICAgICAgICBiYXNlUm93UGl4ZWxMZW5ndGggPVxuICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aCkgXG4gICAgICAgICAgICArIGdhcGxlbmd0aFxuXG4gICAgbGV0IFxuICAgICAgICBmb3VuZEdyaWRTcGFuUm93U2hpZnRJbmNyZW1lbnQsXG4gICAgICAgIGdyaWRTcGFuQXhpc1BpeGVsU2hpZnQgPSAwLCAvLyBpbiByZWxhdGlvbiB0byB2aWV3cG9ydCBoZWFkIGJvdW5kYXJ5XG4gICAgICAgIGJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQgPSAwLFxuICAgICAgICBpc0xpc3RCb3VuZGFyeSA9IGZhbHNlLFxuICAgICAgICB0b3RhbFBpeGVsU2hpZnQsXG4gICAgICAgIGZpbmFsVmFyaWFibGVSb3dMZW5ndGggLy8gc3BlY2lhbCBjYXNlXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBjYWxjdWxhdGUgYmFzZSByb3cgc2hpZnQgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyBtZWFzdXJlIGV4aXNpbmcgdmFyaWFibGUgcm93cyBmb3IgcGl4ZWwgbGVuZ3RoXG4gICAgaWYgKGxheW91dCA9PSAndmFyaWFibGUnKSB7IFxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgZW5nYWdlZEdyaWRFbGVtZW50ID0gLy8gbW92aW5nIGF4aXMgKGFuZCB0cmlnZ2VycykgdG93YXJkIHRoZSByZWZlcmVuY2UgZ3JpZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzdGFpbHdhcmQnKT8gLy8gc2Nyb2xsaW5nIHVwIG9yIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgdGFpbEdyaWRFbGVtZW50OlxuICAgICAgICAgICAgICAgICAgICBoZWFkR3JpZEVsZW1lbnQsXG5cbiAgICAgICAgICAgIGdyaWRSb3dQaXhlbExlbmd0aHNMaXN0ID0gZ2V0R3JpZFJvd0xlbmd0aHMoZW5nYWdlZEdyaWRFbGVtZW50LCBvcmllbnRhdGlvbiwgY3Jvc3Njb3VudCwgZ2FwUHJvcHMpXG5cbiAgICAgICAgaWYgKHNoaWZ0aW5zdHJ1Y3Rpb24gPT0gJ21vdmVheGlzaGVhZHdhcmQnKSB7IC8vIHNjcm9sbGluZyBkb3duIG9yIHJpZ2h0OyBtb3ZlIHRyaWdnZXJsaW5lcyB1cCBvciBsZWZ0XG5cbiAgICAgICAgICAgIGdyaWRSb3dQaXhlbExlbmd0aHNMaXN0LnJldmVyc2UoKSAvLyBoZWFkIGdyaWQgcm93IGxlbmd0aHMgbGlzdGVkIGZyb20gYXhpcyB0b3dhcmQgaGVhZFxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncmlkUm93Q3VtdWxhdGl2ZVBpeGVsTGVuZ3Roc0xpc3QgPSBnZXRHcmlkUm93QWdncmVnYXRlU3BhbnMoZ3JpZFJvd1BpeGVsTGVuZ3Roc0xpc3QpIC8vIGNvdW50IHBpeGVscyB3aGVyZSBhdmFpbGFibGVcblxuICAgICAgICAvLyBmaXJzdCB0cnkgdG8gZmluZCBwb3NpdGlvbiBiYXNlZCBvbiBrbm93biAoaW5zdGFudGlhdGVkKSByb3dzXG4gICAgICAgIGlmIChzaGlmdGluc3RydWN0aW9uID09ICdtb3ZlYXhpc3RhaWx3YXJkJykgeyAvLyBzY3JvbGwgdXBcblxuICAgICAgICAgICAgLy8gdGFpbCB0cmlnZ2VyIG5lZWRzIHRvIG1vdmUgZG93biBvciByaWdodCB1bnRpbCBwb3NpdGlvbiByZWxhdGl2ZSB0byB2aWV3cG9ydCB0b3Agb3IgbGVmdCBpcyBwb3NpdGl2ZVxuICAgICAgICAgICAgZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ID0gZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0LmZpbmRJbmRleCgoY3VtdWxhdGl2ZXBpeGVsbGVuZ3RoKSA9PiBcbiAgICAgICAgICAgICAgICAodHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgKyBjdW11bGF0aXZlcGl4ZWxsZW5ndGgpID49IDAgKVxuICAgICAgICBcbiAgICAgICAgfSBlbHNlIHsgLy8gJ21vdmVheGlzaGVhZHdhcmQnLCBzY3JvbGxkb3duXG5cbiAgICAgICAgICAgIC8vIGhlYWQgdHJpZ2dlciBuZWVkcyB0byBtb3ZlIHVwIG9yIGxlZnQgdW50aWwgcG9zaXRpb24gcmVsYXRpdmUgdG8gdmlld3BvcnQgdG9wIG9yIGxlZnQgaXMgbmVnYXRpdmVcbiAgICAgICAgICAgIGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudCA9IGdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdC5maW5kSW5kZXgoKGN1bXVsYXRpdmVwaXhlbGxlbmd0aCkgPT4gXG4gICAgICAgICAgICAgICAgKHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIC0gY3VtdWxhdGl2ZXBpeGVsbGVuZ3RoKSA8PSAwKVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ICE9IC0xKSB7IC8vIGZvdW5kIG1lYXN1cmVlZCByb3cgZm9yIHNoaWZ0XG5cbiAgICAgICAgICAgIGdyaWRTcGFuQXhpc1BpeGVsU2hpZnQgPSBcbiAgICAgICAgICAgICAgICAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpP1xuICAgICAgICAgICAgICAgICAgICBncmlkUm93Q3VtdWxhdGl2ZVBpeGVsTGVuZ3Roc0xpc3RbZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50XTogLy8gbW92ZSBheGlzIHRvd2FyZCB0YWlsIGZyb20gdmlld3BvcnQgYm91bmRhcnkgKHBvc2l0aXZlKVxuICAgICAgICAgICAgICAgICAgICAtZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0W2ZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudF0gLy8gbW92ZSBheGlzIHRvd2FyZCBoZWFkIGZyb20gdmlld3BvcnQgYm91bmRhcnkgKG5lZ2F0aXZlKVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIG5vIGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudDsgZWl0aGVyIGluIGJvdW5kYXJ5LCBvciBzaHkgb2YgdGFyZ2V0XG5cbiAgICAgICAgICAgIGlzTGlzdEJvdW5kYXJ5ID0gKGdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdC5sZW5ndGggPT0gMCkgLy8gYm91bmRhcnkgYXQgaGVhZCBvZiBsaXN0XG5cbiAgICAgICAgICAgIGlmICghaXNMaXN0Qm91bmRhcnkpIHsgLy8gaW50ZXJpbSB3b3JraW5nIHJlc3VsdFxuXG4gICAgICAgICAgICAgICAgYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCA9IGdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdC5sZW5ndGggLSAxIC8vIGJhc2U6IGZhaWxlZCBtZWFzdXJlZCByb3cgcHRyXG4gICAgICAgICAgICAgICAgdG90YWxQaXhlbFNoaWZ0ID0gZ3JpZFJvd0N1bXVsYXRpdmVQaXhlbExlbmd0aHNMaXN0W2J5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnRdIC8vIHNldCBiYXNlIG9mIHdvcmtpbmcgb3ZlcnNob290XG4gICAgICAgICAgICAgICAgZmluYWxWYXJpYWJsZVJvd0xlbmd0aCA9IGdyaWRSb3dQaXhlbExlbmd0aHNMaXN0LmF0KC0xKSAvLyBmb3Igb3ZlcnNpemUgY2VsbCBhZGp1c3RtZW50IGJlbG93XG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGVsc2UgaWYgaXNMaXN0Qm91bmRhcnkgcm93IGFuZCBwaXhlbCBzaGlmdHMgcmVtYWluIGF0IGRlZmF1bHQgb2YgMCBlYWNoXG5cbiAgICAgICAgICAgICAgICBieVBpeGVsTWVhc3VyZUdyaWRSb3dTaGlmdENvdW50ID0gMFxuICAgICAgICAgICAgICAgIHRvdGFsUGl4ZWxTaGlmdCA9IDBcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7IC8vIGxheW91dCA9PSAndW5pZm9ybSc7IHVzZSBvbmx5IGRlZmluZWQgbGVuZ3Roc1xuXG4gICAgICAgIGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudCA9IC0xIC8vIFwibm90IGZvdW5kXCIsIGllIG5vdCBhcHBsaWNhYmxlXG5cbiAgICAgICAgLy8gdGhlc2UgYXJlIHRoZSBkZWZhdWx0c1xuICAgICAgICBieVBpeGVsTWVhc3VyZUdyaWRSb3dTaGlmdENvdW50ID0gMFxuICAgICAgICB0b3RhbFBpeGVsU2hpZnQgPSAwXG5cbiAgICB9XG5cbiAgICAvLyB1bmlmb3JtIGxheW91dCwgb3Igb3ZlcnNob290IG9mIGluc3RhbnRpYXRlZCByb3dzOyBjb250aW51ZSB3aXRoIHZpcnR1YWwgYmFzZSByb3dzXG4gICAgaWYgKGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudCA9PSAtMSApIHsgXG5cbiAgICAgICAgaWYgKCFpc0xpc3RCb3VuZGFyeSkge1xuXG4gICAgICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpIHsgLy8gc2Nyb2xsaW5nIHVwL2xlZnRcblxuICAgICAgICAgICAgICAgIGRvIHtcblxuICAgICAgICAgICAgICAgICAgICB0b3RhbFBpeGVsU2hpZnQgKz0gYmFzZVJvd1BpeGVsTGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIGJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQrK1xuXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoKHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zICsgdG90YWxQaXhlbFNoaWZ0KSA8IDApIFxuXG4gICAgICAgICAgICAgICAgZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCA9IHRvdGFsUGl4ZWxTaGlmdFxuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBtb3ZlYXhpc2hlYWR3YXJkOyBzY3JvbGxpbmcgZG93bi9yaWdodFxuXG4gICAgICAgICAgICAgICAgZG8ge1xuXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUGl4ZWxTaGlmdCArPSBiYXNlUm93UGl4ZWxMZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCsrXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcmV2aW91c0F4aXNSZWZlcmVuY2VSb3cgLSByYW5nZXJvd3NoaWZ0IC0gYnlQaXhlbE1lYXN1cmVHcmlkUm93U2hpZnRDb3VudCkgPT0gMCkgeyAvLyBzdG9wIGN5Y2xpbmcgYXQgaGVhZCBsaW1pdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IHdoaWxlICgodHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgLSB0b3RhbFBpeGVsU2hpZnQpID4gMClcblxuICAgICAgICAgICAgICAgIGdyaWRTcGFuQXhpc1BpeGVsU2hpZnQgPSAtdG90YWxQaXhlbFNoaWZ0XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnlQaXhlbE1lYXN1cmVHcmlkUm93Q291bnQgaXMgb25lIGdyZWF0ZXIgdGhhbiBmb3VuZEdyaWRTcGFuUm93SW5jcmVtZW50IHdpdGggYWN0dWFsIG1lYXN1cmVtZW50cyBhYm92ZVxuICAgICAgICAvLyB0aGlzIC0xIG1ha2VzIHRoZW0gY29tcGF0aWJsZSBmb3Igc3BhbiBjb252ZXJzaW9uIChuZXh0IHN0ZXApXG4gICAgICAgIGZvdW5kR3JpZFNwYW5Sb3dTaGlmdEluY3JlbWVudCA9IGJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQgLSAxXG5cbiAgICB9XG5cbiAgICBjb25zdCBncmlkU3BhblJvd1NoaWZ0ID0gLy8gcGljayB1cCByb3cgc2hpZnQgd2l0aCBvciB3aXRob3V0IG92ZXJzaG9vdFxuICAgICAgICAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpP1xuICAgICAgICAgICAgZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ICsgMTpcbiAgICAgICAgICAgIC0oZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50ICsgMSlcblxuICAgIC8vIHRoZSBmb2xsb3dpbmcgdHdvIHZhbHVlcyAoYXhpc1JlZmVyZW5jZVJvd1NoaWZ0ICYgYXhpc1BpeGVsU2hpZnQpLCBhbmQgbm8gb3RoZXIgY2FsY3MsIFxuICAgIC8vICAgICBhcmUgY2FycmllZCBmb3J3YXJkIGluIHRoaXMgZnVuY3Rpb24uXG4gICAgLy8gZm9yIGF4aXNSZWZlcmVuY2VSb3dzaGlmdDpcbiAgICAvLyBuZWdhdGl2ZSBmb3IgbW92aW5nIHJvd3Mgb3V0IG9mIGhlYWQgaW50byB0YWlsO1xuICAgIC8vIHBvc2l0aXZlIGZvciBtb3Zpbmcgcm93cyBvdXQgb2YgdGFpbCBpbnRvIGhlYWRcbiAgICBsZXQgYXhpc1JlZmVyZW5jZVJvd1NoaWZ0ID0gZ3JpZFNwYW5Sb3dTaGlmdCxcbiAgICAgICAgYXhpc1BpeGVsU2hpZnQgPSBncmlkU3BhbkF4aXNQaXhlbFNoaWZ0IFxuXG4gICAgLy8gdGhpcyBjYW4gb25seSBoYXBwZW4gd2l0aCBvdmVyc2l6ZWQgY2VsbExlbmd0aCAoaWUgPiB2aWV3cG9ydExlbmd0aClcbiAgICAvLyAgICAgYW5kIG9ubHkgdXNpbmcgbWVhc3VyZWQgbGVuZ3RoXG4gICAgLy8gYXhpcyBtdXN0IGJlIG5vIGZhcnRoZXIgdGhhbiAxIGJhY2sgb2YgdGhlIGxhc3Qgcm93IGVuZCBwb3NpdGlvblxuICAgIGlmICgocHJldmlvdXNBeGlzUmVmZXJlbmNlUm93ICsgYXhpc1JlZmVyZW5jZVJvd1NoaWZ0KSA+IGxpc3RFbmRSb3cpIHtcblxuICAgICAgICBheGlzUmVmZXJlbmNlUm93U2hpZnQgLT0gMVxuICAgICAgICBpZiAobGF5b3V0ID09ICd2YXJpYWJsZScpIHtcbiAgICAgICAgICAgIGF4aXNQaXhlbFNoaWZ0IC09IGZpbmFsVmFyaWFibGVSb3dMZW5ndGhcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF4aXNQaXhlbFNoaWZ0IC09IGJhc2VSb3dQaXhlbExlbmd0aFxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLVsgMy4gY2FsY3VsYXRlIGN1cnJlbnQgdmlld3BvcnQgYXhpcyBwaXhlbCBvZmZzZXQgXS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBnYXBzIGJleW9uZCByZW5kZXJlZCByb3dzIGNhbiBiZSBjYXVzZWQgYnkgcmFwaWQgc2Nyb2xsaW5nXG5cbiAgICBjb25zdCBcbiAgICAgICAgc2Nyb2xsYmxvY2tBeGlzUGl4ZWxPZmZzZXQgPSBcbiAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICBheGlzRWxlbWVudC5vZmZzZXRUb3A6XG4gICAgICAgICAgICAgICAgYXhpc0VsZW1lbnQub2Zmc2V0TGVmdCxcblxuICAgICAgICBzY3JvbGxibG9ja1BpeGVsT2Zmc2V0ID0gLy8gdG8gY2FwdHVyZSBjdXJyZW50IHRvcC9sZWZ0IGFkanVzdG1lbnQgdG8gdmlld3BvcnQgZm9yIHZhcmlhYmxlIGxheW91dFxuICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3A6XG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldExlZnQsXG5cbiAgICAgICAgLy8gY3VycmVudFZpZXdwb3J0QXhpc09mZnNldCB3aWxsIGJlIG5lZ2F0aXZlIChhYm92ZSB2aWV3cG9ydCBlZGdlKSBmb3Igc2Nyb2xsIGJsb2NrIGhlYWR3YXJkIFxuICAgICAgICAvLyAgICAgYW5kIHBvc2l0aXZlIGZvciBzY3JvbGwgYmxvY2sgdGFpbHdhcmRcbiAgICAgICAgLy8gdGhlIHBpeGVsIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZpZXdwb3J0IGZyYW1lIGFuZCB0aGUgYXhpcywgdG93YXJkIHRoZSBoZWFkXG4gICAgICAgIGN1cnJlbnRWaWV3cG9ydEF4aXNQaXhlbE9mZnNldCA9IFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tBeGlzUGl4ZWxPZmZzZXQgKyBzY3JvbGxibG9ja1BpeGVsT2Zmc2V0IC0gY3VycmVudFNjcm9sbFBvc1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLVsgNC4gY2FsY3VsYXRlIG5ldyBheGlzIHBpeGVsIHBvc2l0aW9uIF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGxldCBuZXdQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgPSBjdXJyZW50Vmlld3BvcnRBeGlzUGl4ZWxPZmZzZXQgKyBheGlzUGl4ZWxTaGlmdFxuXG4gICAgLy8gTm90ZTogc2VjdGlvbnMgNSwgNiBhbmQgNyBkZWFsIGVudGlyZWx5IHdpdGggcm93IGNhbGN1bGF0aW9uczsgbm8gcGl4ZWxzXG5cbiAgICAvLyAtLS0tLS0tLS0tLS1bIDUuIGNhbGMgbmV3IGNyYWRsZSBhbmQgYXhpcyByZWZlcmVuY2Ugcm93IG9mZnNldHMgXS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGJhc2UgdmFsdWUgZm9yIGNyYWRsZSByZWZlcmVuY2Ugc2hpZnQ7IG1heSBjaGFuZ2UgaWYgYmV5b25kIGxpc3QgYm91bmRzXG4gICAgbGV0IGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0ID0gYXhpc1JlZmVyZW5jZVJvd1NoaWZ0XG5cbiAgICAvLyBiYXNlIHZhbHVlc1xuICAgIGxldCBuZXdDcmFkbGVSZWZlcmVuY2VSb3cgPSBwcmV2aW91c0NyYWRsZVJlZmVyZW5jZVJvdyArIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0XG4gICAgY29uc3QgbmV3QXhpc1JlZmVyZW5jZVJvdyA9IHByZXZpb3VzQXhpc1JlZmVyZW5jZVJvdyArIGF4aXNSZWZlcmVuY2VSb3dTaGlmdFxuXG5cbiAgICAvLyAtLS0tLS0tLVsgNi4gYWRqdXN0IGNyYWRsZSBjb250ZW50cyBmb3Igc3RhcnQgYW5kIGVuZCBvZiBsaXN0IF0tLS0tLS0tXG4gICAgLy8gLi4udG8gbWFpbnRhaW4gY29uc3RhbnQgbnVtYmVyIG9mIGNyYWRsZSByb3dzXG5cbiAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpIHsgLy8gc2Nyb2xsaW5nIHVwL2xlZnRcblxuICAgICAgICAvLyBhLiBpZiBzY3JvbGxpbmcgdGhlIGJsb2NrIGhlYWR3YXJkIG5lYXIgdGhlIHN0YXJ0IG9mIHRoZSBsaXN0LCBuZXcgY3JhZGxlIHJvdyBvZmZzZXQgYW5kXG4gICAgICAgIC8vIGNyYWRsZSByb3cgc2hpZnQgY291bnQgaGFzIHRvIGJlIGFkanVzdGVkIHRvIGFjY29tbW9kYXRlIHRoZSBsZWFkaW5nIHJ1bndheVxuXG4gICAgICAgIC8vIGIuIGlmIHNjcm9sbGluZyB0aGUgYmxvY2sgaGVhZHdhcmQgKHJldmVhbGluZyB0YWlsIG9mIGxpc3QpLCBhcyB0aGUgY3JhZGxlIGxhc3Qgcm93IG9mZnNldCBcbiAgICAgICAgLy8gYXBwcm9hY2hlcyBtYXggbGlzdHJvdywgbmV3IGNyYWRsZSBvZmZzZXQgYW5kIGNyYWRsZSByb3cgc2hpZnQgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IFxuICAgICAgICAvLyBzaG9ydGVuaW5nIG9mIGNyYWRsZSBjb250ZW50LlxuXG4gICAgICAgIC8vIC0tLSBzdGFydCBvZiBsaXN0IGFkanVzdG1lbnRcbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB0YXJnZXRDcmFkbGVSZWZlcmVuY2VSb3cgPSBcbiAgICAgICAgICAgICAgICBNYXRoLm1heChyYW5nZXJvd3NoaWZ0LCAobmV3QXhpc1JlZmVyZW5jZVJvdyAtIHJ1bndheVJvd2NvdW50IC0gMSkpLCAvLyBleHRyYSByb3cgZm9yIHZpc2liaWxpdHlcbiAgICAgICAgICAgIGhlYWRyb3dEaWZmID0gbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC0gdGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93XG5cbiAgICAgICAgaWYgKGhlYWRyb3dEaWZmID4gMCkge1xuXG4gICAgICAgICAgICBuZXdDcmFkbGVSZWZlcmVuY2VSb3cgLT0gaGVhZHJvd0RpZmZcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IC09IGhlYWRyb3dEaWZmXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLSBlbmQgb2YgbGlzdCBhZGp1c3RtZW50OiBjYXNlIG9mIGJlaW5nIGluIGJvdW5kcyBvZiB0cmFpbGluZyBydW53YXkgKGVuZCBvZiBsaXN0KVxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHRhcmdldENyYWRsZUVuZHJvdyA9IG5ld0NyYWRsZVJlZmVyZW5jZVJvdyArIChjcmFkbGVSb3djb3VudCAtIDEpLFxuICAgICAgICAgICAgdGFpbHJvd2RpZmYgPSB0YXJnZXRDcmFkbGVFbmRyb3cgLSBsaXN0RW5kUm93XG5cbiAgICAgICAgaWYgKHRhaWxyb3dkaWZmID4gMCkge1xuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC09IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHsgLy8gc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXNoZWFkd2FyZCc7IHNjcm9sbGluZyBkb3duL3JpZ2h0XG5cbiAgICAgICAgLy8gYy4gaWYgc2Nyb2xsaW5nIHRoZSBibG9jayBkb3duIG9yIHJpZ2h0ICh0b3dhcmQgcmV2ZWFsaW5nIGhlYWQgb2YgbGlzdCksIGFzIHRoZSBjcmFkbGVyb3dvZmZzZXQgXG4gICAgICAgIC8vIGhpdHMgMCwgY3JhZGxlIGNoYW5nZXMgaGF2ZSB0byBiZSBhZGp1c3RlZCB0byBwcmV2ZW50IHNob3J0ZW5pbmcgb2YgY3JhZGxlIGNvbnRlbnRcblxuICAgICAgICAvLyBkLiBpZiBzY3JvbGxpbmcgaGVhZHdhcmQgbmVhciB0aGUgZW5kIG9mIHRoZSBsaXN0LCBjcmFkbGUgY2hhbmdlcyBoYXZlIHRvIGJlIGFkanVzdGVkIHRvIFxuICAgICAgICAvLyBhY2NvbW9kYXRlIHRoZSB0cmFpbGluZyBydW53YXlcblxuICAgICAgICAvLyAtLS0gc3RhcnQgb2YgbGlzdCBhZGp1c3RtZW50XG5cbiAgICAgICAgaWYgKG5ld0NyYWRsZVJlZmVyZW5jZVJvdyA8IHJhbmdlcm93c2hpZnQpIHtcblxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IHJhbmdlcm93c2hpZnQgLSBuZXdDcmFkbGVSZWZlcmVuY2VSb3dcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0ICs9IGRpZmZcbiAgICAgICAgICAgIG5ld0NyYWRsZVJlZmVyZW5jZVJvdyArPSBkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSBcbiAgICAgICAgLy8gICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgIC8vICAgICAgICAgcGFkZGluZ1Byb3BzLnRvcDpcbiAgICAgICAgLy8gICAgICAgICBwYWRkaW5nUHJvcHMubGVmdFxuXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3ZhcmlhYmxlJyAmJiBuZXdBeGlzUmVmZXJlbmNlUm93ID09IHJhbmdlcm93c2hpZnQpIHsgLy8gc3RhcnQgb2YgbGlzdFxuICAgICAgICAgICAgbmV3UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0ID0gMCAvLyBwYWRkaW5nT2Zmc2V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0gZW5kIG9mIGxpc3QgYWRqdXN0bWVudDsgY2FzZSBvZiBpbiBib3VuZHMgb2YgdHJhaWxpbmcgcnVud2F5XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICBjb21wdXRlZE5leHRDcmFkbGVFbmRSb3cgPSBcbiAgICAgICAgICAgICAgICAocHJldmlvdXNDcmFkbGVSZWZlcmVuY2VSb3cgKyAoY3JhZGxlUm93Y291bnQgLTEpICsgY3JhZGxlUmVmZXJlbmNlUm93c2hpZnQpLFxuICAgICAgICAgICAgdGFyZ2V0Q3JhZGxlRW5kUm93ID0gXG4gICAgICAgICAgICAgICAgbmV3QXhpc1JlZmVyZW5jZVJvdyArICh2aWV3cG9ydFJvd2NvdW50IC0gMSkgKyAocnVud2F5Um93Y291bnQgLSAxKVxuXG4gICAgICAgIGxldCB0YWlscm93ZGlmZiA9ICBjb21wdXRlZE5leHRDcmFkbGVFbmRSb3cgLSB0YXJnZXRDcmFkbGVFbmRSb3dcblxuICAgICAgICBpZiAodGFpbHJvd2RpZmYgPCAwKSB7XG5cbiAgICAgICAgICAgIHRhaWxyb3dkaWZmID0gTWF0aC5tYXgodGFpbHJvd2RpZmYsIGNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0KVxuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3dzaGlmdCAtPSB0YWlscm93ZGlmZlxuICAgICAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlUm93IC09IHRhaWxyb3dkaWZmXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNy4gbWFwIHJvd3MgdG8gaXRlbSByZWZlcmVuY2VzIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBcbiAgICAgICAgbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsIG5ld0NyYWRsZVJlZmVyZW5jZVJvdyAqIGNyb3NzY291bnQpLFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQgPSBuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCAtIHByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgsXG5cbiAgICAgICAgbmV3QXhpc1JlZmVyZW5jZUluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LCBuZXdBeGlzUmVmZXJlbmNlUm93ICogY3Jvc3Njb3VudCksXG4gICAgICAgIGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQgPSBuZXdBeGlzUmVmZXJlbmNlSW5kZXggLSBwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCxcblxuICAgICAgICBpbmNsdWRlc0xhc3RSb3cgPSAoKG5ld0NyYWRsZVJlZmVyZW5jZVJvdyArIGNyYWRsZVJvd2NvdW50IC0gcmFuZ2Vyb3dzaGlmdCkgPj0gbGlzdFJvd2NvdW50KSxcblxuICAgICAgICBpbmNsdWRlc0ZpcnN0Um93ID0gKG5ld0NyYWRsZVJlZmVyZW5jZVJvdyA9PSByYW5nZXJvd3NoaWZ0KVxuXG4gICAgbGV0IG5ld0NyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudCAvLyBiYXNlIGNvdW50XG5cbiAgICBpZiAoaW5jbHVkZXNMYXN0Um93KSB7XG5cbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50IC09IGVuZHJvd2JsYW5rc1xuXG4gICAgfVxuXG4gICAgaWYgKGluY2x1ZGVzRmlyc3RSb3cpIHtcblxuICAgICAgICBuZXdDcmFkbGVDb250ZW50Q291bnQgLT0gYmFzZXJvd2JsYW5rc1xuXG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGhlYWQgYW5kIHRhaWwgY2hhbmdlIGNvdW50c1xuICAgIGNvbnN0IFxuICAgICAgICBjaGFuZ2VPZkNyYWRsZUNvbnRlbnRDb3VudCA9IGNyYWRsZWNvbnRlbnRsaXN0Lmxlbmd0aCAtIG5ld0NyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQgPSAtKGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCksXG4gICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCA9IC1saXN0U3RhcnRDaGFuZ2VDb3VudCAtIGNoYW5nZU9mQ3JhZGxlQ29udGVudENvdW50XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDguIHJldHVybiByZXF1aXJlZCB2YWx1ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgLy8gbmV3Q3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQsIFxuICAgICAgICBuZXdBeGlzUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBheGlzUmVmZXJlbmNlSXRlbVNoaWZ0LCBcblxuICAgICAgICBuZXdQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQsXG5cbiAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCxcbiAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50XG4gICAgfVxuXG59XG5cbi8vIHN1cHBvcnRzIGNhbGNDb250ZW50U2hpZnQgYWJvdmVcbmNvbnN0IGdldEdyaWRSb3dMZW5ndGhzID0gKGdyaWQsIG9yaWVudGF0aW9uLCBjcm9zc2NvdW50LCBnYXBQcm9wcykgPT4ge1xuXG4gICAgY29uc3QgXG4gICAgICAgIHJvd0xlbmd0aHMgPSBbXSxcbiAgICAgICAgZWxlbWVudExpc3QgPSBncmlkLmNoaWxkTm9kZXNcblxuICAgIGxldCBcbiAgICAgICAgZWxlbWVudFB0ciA9IDAsXG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50TGlzdFtlbGVtZW50UHRyXVxuXG4gICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgcm93bGVuZ3RoID0gXG4gICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgZ2FwUHJvcHMuY29sdW1uOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0V2lkdGggKyBnYXBQcm9wcy5yb3cpXG5cbiAgICAgICAgcm93TGVuZ3Rocy5wdXNoKHJvd2xlbmd0aClcbiAgICAgICAgZWxlbWVudFB0ciArPSBjcm9zc2NvdW50XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50TGlzdFtlbGVtZW50UHRyXVxuICAgIH1cblxuICAgIHJldHVybiByb3dMZW5ndGhzXG59XG5cbi8vIHN1cHBvcnRzIGNhbGNDb250ZW50U2hpZnQgYWJvdmVcbmNvbnN0IGdldEdyaWRSb3dBZ2dyZWdhdGVTcGFucyA9IChyb3dMZW5ndGhzKSA9PiB7XG5cbiAgICBjb25zdCByb3dTcGFucyA9IFtdXG4gICAgbGV0IHNwYW4gPSAwXG4gICAgcm93TGVuZ3Rocy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICBzcGFuICs9IHZhbHVlXG4gICAgICAgIHJvd1NwYW5zLnB1c2goc3BhbilcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJvd1NwYW5zXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PVsgc2hhcmVkIGJ5IGJvdGggc2V0Q3JhZGxlQ29udGVudCBhbmQgdXBkYXRlQ3JhZGxlQ29udGVudCBdPT09PT09PT09PT09PT09PT09PT1cblxuLy8gdXBkYXRlIGNvbnRlbnRcbi8vIGFkZHMgQ2VsbEZyYW1lcyBhdCBlbmQgb2YgY29udGVudGxpc3QgYWNjb3JkaW5nIHRvIGhlYWRpbmRleGNvdW50IGFuZCB0YWlsaW5kZXhjb3VudCxcbi8vIG9yIGlmIGluZGV4Y291bnQgdmFsdWVzIGFyZSA8MCByZW1vdmVzIHRoZW0uXG5leHBvcnQgY29uc3QgZ2V0Q2VsbEZyYW1lQ29tcG9uZW50TGlzdCA9ICh7IFxuXG4gICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgY2FjaGVBUEksXG4gICAgICAgIGNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXgsIFxuICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudCwgXG4gICAgICAgIGxpc3RFbmRDaGFuZ2VDb3VudCwgXG4gICAgICAgIHdvcmtpbmdDb250ZW50TGlzdDpjb250ZW50bGlzdCxcbiAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcblxuICAgIH0pID0+IHtcblxuICAgIGNvbnN0IFxuICAgICAgICBsb2NhbENvbnRlbnRsaXN0ID0gWy4uLmNvbnRlbnRsaXN0XSxcbiAgICAgICAgbGFzdGluZGV4b2Zmc2V0ID0gY3JhZGxlUmVmZXJlbmNlSW5kZXggKyBsb2NhbENvbnRlbnRsaXN0Lmxlbmd0aCAtIDEsXG5cbiAgICAgICAgaGVhZENvbnRlbnRsaXN0ID0gW10sIHRhaWxDb250ZW50bGlzdCA9IFtdXG5cbiAgICBsZXQgZGVsZXRlZHRhaWxpdGVtcyA9IFtdLCBkZWxldGVkaGVhZGl0ZW1zID0gW11cblxuICAgIGlmIChsaXN0U3RhcnRDaGFuZ2VDb3VudCA+PSAwKSB7IC8vIGFjcXVpcmUgbmV3IGl0ZW1zXG5cbiAgICAgICAgbGV0IFxuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleCxcbiAgICAgICAgICAgIGNoYW5nZUNvdW50ID0gbGlzdFN0YXJ0Q2hhbmdlQ291bnRcbiAgICAgICAgXG4gICAgICAgIGlmIChsaXN0U3RhcnRDaGFuZ2VDb3VudCA+IGNyYWRsZUNvbnRlbnRDb3VudCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggPSBjcmFkbGVSZWZlcmVuY2VJbmRleCAtIChsaXN0U3RhcnRDaGFuZ2VDb3VudCAtIGNyYWRsZUNvbnRlbnRDb3VudClcbiAgICAgICAgICAgIGNoYW5nZUNvdW50ID0gY3JhZGxlQ29udGVudENvdW50XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBuZXdpbmRleCA9IHJlZmVyZW5jZUluZGV4IC0gY2hhbmdlQ291bnQ7IG5ld2luZGV4IDwgcmVmZXJlbmNlSW5kZXg7IG5ld2luZGV4KyspIHtcblxuICAgICAgICAgICAgaGVhZENvbnRlbnRsaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2VsbEZyYW1lKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDpuZXdpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyRnJhbWVTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVyZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmxpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmVycm9yZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVyZXJyb3JsaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG5cbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBkZWxldGVkaGVhZGl0ZW1zID0gbG9jYWxDb250ZW50bGlzdC5zcGxpY2UoIDAsIC1saXN0U3RhcnRDaGFuZ2VDb3VudCApXG5cbiAgICB9XG5cbiAgICBpZiAobGlzdEVuZENoYW5nZUNvdW50ID49IDApIHsgLy8gYWNxdWlyZSBuZXcgaXRlbXNcblxuICAgICAgICBsZXQgXG4gICAgICAgICAgICByZWZlcmVuY2VJbmRleCA9IGxhc3RpbmRleG9mZnNldCxcbiAgICAgICAgICAgIGNoYW5nZUNvdW50ID0gbGlzdEVuZENoYW5nZUNvdW50XG5cbiAgICAgICAgaWYgKGxpc3RFbmRDaGFuZ2VDb3VudCA+IGNyYWRsZUNvbnRlbnRDb3VudCkge1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggPSBsYXN0aW5kZXhvZmZzZXQgKyAobGlzdEVuZENoYW5nZUNvdW50IC0gY3JhZGxlQ29udGVudENvdW50KVxuICAgICAgICAgICAgY2hhbmdlQ291bnQgPSBjcmFkbGVDb250ZW50Q291bnRcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IG5ld2luZGV4ID0gcmVmZXJlbmNlSW5kZXggKyAxOyBuZXdpbmRleCA8IChyZWZlcmVuY2VJbmRleCArIDEgKyBjaGFuZ2VDb3VudCk7IG5ld2luZGV4KyspIHtcblxuICAgICAgICAgICAgdGFpbENvbnRlbnRsaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2VsbEZyYW1lKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDpuZXdpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUFQSSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyRnJhbWVTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVyZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmxpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJFcnJvckZyYW1lU3R5bGVzOnN0eWxlcy5wbGFjZWhvbGRlcmVycm9yZnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXM6c3R5bGVzLnBsYWNlaG9sZGVyZXJyb3JsaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBkZWxldGVkdGFpbGl0ZW1zID0gbG9jYWxDb250ZW50bGlzdC5zcGxpY2UobGlzdEVuZENoYW5nZUNvdW50LC1saXN0RW5kQ2hhbmdlQ291bnQpXG5cbiAgICB9XG5cbiAgICBjb25zdCBcbiAgICAgICAgZGVsZXRlZEl0ZW1zID0gWy4uLmRlbGV0ZWRoZWFkaXRlbXMsLi4uZGVsZXRlZHRhaWxpdGVtc10sXG4gICAgICAgIGNvbXBvbmVudExpc3QgPSBbLi4uaGVhZENvbnRlbnRsaXN0LC4uLmxvY2FsQ29udGVudGxpc3QsLi4udGFpbENvbnRlbnRsaXN0XVxuXG4gICAgcmV0dXJuIFtjb21wb25lbnRMaXN0LGRlbGV0ZWRJdGVtc11cblxufVxuXG4vLyBMZWFkaW5nIChoZWFkKSBhbGwgb3IgcGFydGlhbGx5IGhpZGRlbjsgdGFpbCwgdmlzaWJsZSBwbHVzIHRyYWlsaW5nIGhpZGRlblxuZXhwb3J0IGNvbnN0IGFsbG9jYXRlQ29udGVudExpc3QgPSAoXG4gICAge1xuXG4gICAgICAgIGNvbnRlbnRsaXN0LCAvLyBvZiBjcmFkbGUsIGluIGl0ZW1zIChSZWFjdCBjb21wb25lbnRzKVxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIC8vIGZpcnN0IHRhaWwgaXRlbVxuICAgICAgICBsYXlvdXRIYW5kbGVyLFxuXG4gICAgfVxuKSA9PiB7XG5cbiAgICBjb25zdCBcbiAgICAgICAgeyB0cmlnZ2VyY2VsbEluZGV4IH0gPSBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgIGxvd2NvbnRlbnRpbmRleCA9IGNvbnRlbnRsaXN0WzBdPy5wcm9wcy5pbmRleCxcbiAgICAgICAgaGlnaGNvbnRlbnRpbmRleCA9IGxvd2NvbnRlbnRpbmRleCArIGNvbnRlbnRsaXN0Lmxlbmd0aCxcblxuICAgICAgICBoZWFkaXRlbWNvdW50ID0gKGF4aXNSZWZlcmVuY2VJbmRleCAtIGxvd2NvbnRlbnRpbmRleCksXG5cbiAgICAgICAgdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleCA9IFxuICAgICAgICAgICAgKGhlYWRpdGVtY291bnQgPT0gMCk/XG4gICAgICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4OlxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCAtIDFcblxuICAgIGxheW91dEhhbmRsZXIudHJpZ2dlcmNlbGxJc0luVGFpbCA9IFxuICAgICAgICAoaGVhZGl0ZW1jb3VudCA9PSAwKT9cbiAgICAgICAgICAgIHRydWU6XG4gICAgICAgICAgICBmYWxzZVxuXG4gICAgaWYgKCh0cmlnZ2VyY2VsbEluZGV4ICE9PSB1bmRlZmluZWQpICYmIChsb3djb250ZW50aW5kZXggIT09IHVuZGVmaW5lZCkpIHsgLy8mJiBcbiAgICAgICAgaWYgKCh0cmlnZ2VyY2VsbEluZGV4ID49IGxvd2NvbnRlbnRpbmRleCkgJiYgKHRyaWdnZXJjZWxsSW5kZXggPD0gaGlnaGNvbnRlbnRpbmRleCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIHRyaWdnZXJjZWxsUHRyID0gdHJpZ2dlcmNlbGxJbmRleCAtIGxvd2NvbnRlbnRpbmRleCxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyY2VsbENvbXBvbmVudCA9IGNvbnRlbnRsaXN0W3RyaWdnZXJjZWxsUHRyXVxuICAgICAgICAgICAgaWYgKHRyaWdnZXJjZWxsQ29tcG9uZW50KSB7IC8vIG90aGVyd2lzZSBoYXMgYmVlbiBhc3luY2hyb25vdXNseSBjbGVhcmVkXG4gICAgICAgICAgICAgICAgY29udGVudGxpc3RbdHJpZ2dlcmNlbGxQdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KHRyaWdnZXJjZWxsQ29tcG9uZW50LCB7aXNUcmlnZ2VyY2VsbDpmYWxzZX0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBcbiAgICAgICAgdHJpZ2dlcmNlbGxQdHIgPSB0YXJnZXRUcmlnZ2VyY2VsbEluZGV4IC0gbG93Y29udGVudGluZGV4LFxuICAgICAgICB0cmlnZ2VyY2VsbENvbXBvbmVudCA9IGNvbnRlbnRsaXN0W3RyaWdnZXJjZWxsUHRyXVxuXG4gICAgaWYgKHRyaWdnZXJjZWxsQ29tcG9uZW50KSB7XG5cbiAgICAgICAgY29udGVudGxpc3RbdHJpZ2dlcmNlbGxQdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KHRyaWdnZXJjZWxsQ29tcG9uZW50LCB7aXNUcmlnZ2VyY2VsbDp0cnVlfSlcbiAgICAgICAgbGF5b3V0SGFuZGxlci50cmlnZ2VyY2VsbEluZGV4ID0gdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleFxuXG4gICAgfSBlbHNlIHsgLy8gZGVmZW5zaXZlOyBzaG91bGRuJ3QgaGFwcGVuXG5cbiAgICAgICAgY29uc29sZS5sb2coJ0ZBSUxVUkUgVE8gUkVHSVNURVIgVFJJR0dFUkNFTEw6c2Nyb2xsZXJJRCcsJy0nK2xheW91dEhhbmRsZXIuc2Nyb2xsZXJJRCsnLScpXG4gICAgICAgIGNvbnNvbGUubG9nKCdheGlzUmVmZXJlbmNlSW5kZXgsIHRyaWdnZXJjZWxsSW5kZXgsIGxvd2NvbnRlbnRpbmRleCwgaGlnaGNvbnRlbnRpbmRleCwgaGVhZGl0ZW1jb3VudCwgdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleFxcbicsXG4gICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIHRyaWdnZXJjZWxsSW5kZXgsIGxvd2NvbnRlbnRpbmRleCwgaGlnaGNvbnRlbnRpbmRleCwgaGVhZGl0ZW1jb3VudCwgdGFyZ2V0VHJpZ2dlcmNlbGxJbmRleClcbiAgICAgICAgY29uc29sZS5sb2coJ3RyaWdnZXJjZWxsUHRyLCB0cmlnZ2VyY2VsbENvbXBvbmVudCwgdHJpZ2dlcmNlbGxDb21wb25lbnQ/LnByb3BzLmlzVHJpZ2dlY2VsbCwgY29udGVudGxpc3RcXG4nLCBcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsUHRyLCB0cmlnZ2VyY2VsbENvbXBvbmVudCwgdHJpZ2dlcmNlbGxDb21wb25lbnQ/LnByb3BzLmlzVHJpZ2dlY2VsbCwgXG4gICAgICAgICAgICAgICAgey4uLmNvbnRlbnRsaXN0fSlcblxuICAgIH1cblxuICAgIGNvbnN0IFxuICAgICAgICBoZWFkbGlzdCA9IGNvbnRlbnRsaXN0LnNsaWNlKDAsaGVhZGl0ZW1jb3VudCksXG4gICAgICAgIHRhaWxsaXN0ID0gY29udGVudGxpc3Quc2xpY2UoaGVhZGl0ZW1jb3VudClcblxuICAgIHJldHVybiBbIGhlYWRsaXN0LCB0YWlsbGlzdCBdXG5cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcnRhbHMgPSAoY2FjaGVBUEksIGRlbGV0ZUxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgY29uc3QgZGxpc3QgPSBkZWxldGVMaXN0Lm1hcCgoaXRlbSk9PntcblxuICAgICAgICByZXR1cm4gaXRlbS5wcm9wcy5pbmRleFxuICAgICAgICBcbiAgICB9KVxuXG4gICAgY2FjaGVBUEkuZGVsZXRlUG9ydGFsQnlJbmRleChkbGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT1bIGludGVybmFsLCBhY3F1aXJlIGl0ZW0gXT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgY3JlYXRlQ2VsbEZyYW1lID0gKHtcbiAgICBpbmRleCwgXG4gICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgY2FjaGVBUEksXG4gICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckxpbmVyU3R5bGVzLFxuICAgIHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyxcbiAgICBwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMsXG4gICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbn0pID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZUlEID0gaW5zdGFuY2VJZENvdW50ZXJSZWYuY3VycmVudCsrXG5cbiAgICBjb25zdCB7IFxuICAgICAgICBcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIGNlbGxIZWlnaHQsXG4gICAgICAgIGNlbGxXaWR0aCxcbiAgICAgICAgY2VsbE1pbkhlaWdodCxcbiAgICAgICAgY2VsbE1pbldpZHRoLFxuICAgICAgICBnZXRJdGVtLFxuICAgICAgICBwbGFjZWhvbGRlcixcbiAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgbGF5b3V0LCBcbiAgICAgICAgdXNlUGxhY2Vob2xkZXIsXG5cbiAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1xuXG4gICAgY29uc3QgXG4gICAgICAgIGxpc3RzaXplID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLnZpcnR1YWxMaXN0UHJvcHMuc2l6ZSxcbiAgICAgICAgLy8gZ2V0IG5ldyBvciBleGlzdGluZyBpdGVtSURcbiAgICAgICAgaXRlbUlEID0gY2FjaGVBUEkuZ2V0TmV3T3JFeGlzdGluZ0l0ZW1JRChpbmRleClcblxuICAgIHJldHVybiA8Q2VsbEZyYW1lIFxuICAgICAgICBrZXkgPSB7IGluc3RhbmNlSUQgfSBcbiAgICAgICAgb3JpZW50YXRpb24gPSB7IG9yaWVudGF0aW9uIH1cbiAgICAgICAgY2VsbEhlaWdodCA9IHsgY2VsbEhlaWdodCB9XG4gICAgICAgIGNlbGxXaWR0aCA9IHsgY2VsbFdpZHRoIH1cbiAgICAgICAgY2VsbE1pbkhlaWdodCA9IHsgY2VsbE1pbkhlaWdodCB9XG4gICAgICAgIGNlbGxNaW5XaWR0aCA9IHsgY2VsbE1pbldpZHRoIH1cbiAgICAgICAgbGF5b3V0ID0geyBsYXlvdXQgfVxuICAgICAgICBpbmRleCA9IHsgaW5kZXggfVxuICAgICAgICBnZXRJdGVtID0geyBnZXRJdGVtIH1cbiAgICAgICAgbGlzdHNpemUgPSB7IGxpc3RzaXplIH1cbiAgICAgICAgcGxhY2Vob2xkZXIgPSB7IHBsYWNlaG9sZGVyIH1cbiAgICAgICAgaXRlbUlEID0geyBpdGVtSUQgfVxuICAgICAgICBpbnN0YW5jZUlEID0geyBpbnN0YW5jZUlEIH1cbiAgICAgICAgc2Nyb2xsZXJJRCA9IHsgc2Nyb2xsZXJJRCB9XG4gICAgICAgIGlzVHJpZ2dlcmNlbGwgPSB7IGZhbHNlIH1cbiAgICAgICAgdXNlUGxhY2Vob2xkZXIgPSB7IHVzZVBsYWNlaG9sZGVyIH1cbiAgICAgICAgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyA9IHsgcGxhY2Vob2xkZXJGcmFtZVN0eWxlcyB9XG4gICAgICAgIHBsYWNlaG9sZGVyTGluZXJTdHlsZXMgPSB7IHBsYWNlaG9sZGVyTGluZXJTdHlsZXMgfVxuICAgICAgICBwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXMgPSB7IHBsYWNlaG9sZGVyRXJyb3JGcmFtZVN0eWxlcyB9XG4gICAgICAgIHBsYWNlaG9sZGVyRXJyb3JMaW5lclN0eWxlcyA9IHsgcGxhY2Vob2xkZXJFcnJvckxpbmVyU3R5bGVzIH1cbiAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyA9IHsgcGxhY2Vob2xkZXJNZXNzYWdlcyB9XG4gICAgICAgIGdyaWRzdGFydHN0eWxlID0ge251bGx9XG4gICAgLz5cblxufVxuIl0sIm5hbWVzIjpbIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiaXNBcnJheSIsImxlbiIsImxlbmd0aCIsImkiLCJhcnIyIiwicmVhY3RfMSIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJDZWxsRnJhbWVfMSIsIkluZmluaXRlR3JpZFNjcm9sbGVyXzEiLCJjYWxjdWxhdGVDb250ZW50TGlzdFJlcXVpcmVtZW50cyIsIl9yZWYiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJiYXNlUm93UGl4ZWxMZW5ndGgiLCJ0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwib3JpZW50YXRpb24iLCJjcmFkbGVDb250ZW50UHJvcHMiLCJ2aXJ0dWFsTGlzdFByb3BzIiwicGFkZGluZ1Byb3BzIiwiY3JhZGxlUm93Y291bnQiLCJydW53YXlSb3djb3VudCIsImxpc3Rsb3dpbmRleCIsImxvd2luZGV4IiwibGlzdGhpZ2hpbmRleCIsImhpZ2hpbmRleCIsImNyb3NzY291bnQiLCJsaXN0Um93Y291bnQiLCJyb3djb3VudCIsImJhc2Vyb3dibGFua3MiLCJlbmRyb3dibGFua3MiLCJyYW5nZXJvd3NoaWZ0Iiwicm93c2hpZnQiLCJNYXRoIiwibWluIiwibWF4IiwidGFyZ2V0QXhpc1JlZmVyZW5jZVJvdyIsImZsb29yIiwidGFyZ2V0Q3JhZGxlUmVmZXJlbmNlUm93IiwidGFyZ2V0Q3JhZGxlRW5kUm93IiwibGlzdEVuZFJvd09mZnNldCIsImRpZmYiLCJ0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCIsIm5ld0NyYWRsZUNvbnRlbnRDb3VudCIsInBhZGRpbmdPZmZzZXQiLCJ0b3AiLCJsZWZ0IiwidGFyZ2V0UGl4ZWxPZmZzZXRWaWV3cG9ydEZyb21TY3JvbGxibG9jayIsImV4cG9ydHMiLCJnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24iLCJfcmVmMiIsInRyaWdnZXJsaW5lRW50cmllcyIsInRyaWdnZXJsaW5lU3BhbiIsInNjcm9sbGVySUQiLCJpc0ZpcnN0Um93VHJpZ2dlckNvbmZpZyIsInZpZXdwb3J0Qm91bmRpbmdSZWN0IiwidHJpZ2dlckhpc3RvcnlSZWYiLCJ0cmlnZ2VyQ29uZmlnRGF0YSIsImhlYWRPZmZzZXQiLCJ0YWlsT2Zmc2V0Iiwic3BhbiIsImVudHJ5IiwicmVmZXJlbmNlbmFtZSIsInRhcmdldCIsImRhdGFzZXQiLCJ0eXBlIiwiaW50ZXJzZWN0cm9vdHBvcyIsInRydW5jIiwicm9vdEJvdW5kcyIsInkiLCJ4IiwiYm91bmRpbmdyb290cG9zIiwidmlld3BvcnRwb3MiLCJ0cmlnZ2VycG9zIiwiYm91bmRpbmdDbGllbnRSZWN0IiwidHJpZ2dlck9mZnNldCIsInRyaWdnZXJIaXN0b3J5IiwiY3VycmVudCIsInNoaWZ0aW5zdHJ1Y3Rpb24iLCJpc1NhZmFyaUlPUyIsInByZXZpb3VzVHJpZ2dlck5hbWVBdEJvcmRlciIsInRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIiwiY2FsY3VsYXRlU2hpZnRTcGVjcyIsIl9yZWYzIiwiY3VycmVudFNjcm9sbFBvcyIsInNjcm9sbGJsb2NrRWxlbWVudCIsImNyYWRsZUNvbnRlbnQiLCJjcmFkbGVFbGVtZW50cyIsImF4aXNFbGVtZW50IiwiYXhpc1JlZiIsImhlYWRHcmlkRWxlbWVudCIsImhlYWRSZWYiLCJ0YWlsR3JpZEVsZW1lbnQiLCJ0YWlsUmVmIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsImdhcFByb3BzIiwiY3JhZGxlY29udGVudGxpc3QiLCJjcmFkbGVNb2RlbENvbXBvbmVudHMiLCJ0YWlsY29udGVudGxpc3QiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwidmlld3BvcnRSb3djb3VudCIsInByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJfYSIsInByb3BzIiwiaW5kZXgiLCJwcmV2aW91c0NyYWRsZVJlZmVyZW5jZVJvdyIsInByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4IiwiX2IiLCJwcmV2aW91c0F4aXNSZWZlcmVuY2VSb3ciLCJsaXN0RW5kUm93IiwiZ2FwbGVuZ3RoIiwiY29sdW1uIiwicm93IiwiZm91bmRHcmlkU3BhblJvd1NoaWZ0SW5jcmVtZW50IiwiZ3JpZFNwYW5BeGlzUGl4ZWxTaGlmdCIsImJ5UGl4ZWxNZWFzdXJlR3JpZFJvd1NoaWZ0Q291bnQiLCJpc0xpc3RCb3VuZGFyeSIsInRvdGFsUGl4ZWxTaGlmdCIsImZpbmFsVmFyaWFibGVSb3dMZW5ndGgiLCJlbmdhZ2VkR3JpZEVsZW1lbnQiLCJncmlkUm93UGl4ZWxMZW5ndGhzTGlzdCIsImdldEdyaWRSb3dMZW5ndGhzIiwicmV2ZXJzZSIsImdyaWRSb3dDdW11bGF0aXZlUGl4ZWxMZW5ndGhzTGlzdCIsImdldEdyaWRSb3dBZ2dyZWdhdGVTcGFucyIsImZpbmRJbmRleCIsImN1bXVsYXRpdmVwaXhlbGxlbmd0aCIsImF0IiwiZ3JpZFNwYW5Sb3dTaGlmdCIsImF4aXNSZWZlcmVuY2VSb3dTaGlmdCIsImF4aXNQaXhlbFNoaWZ0Iiwic2Nyb2xsYmxvY2tBeGlzUGl4ZWxPZmZzZXQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwic2Nyb2xsYmxvY2tQaXhlbE9mZnNldCIsImN1cnJlbnRWaWV3cG9ydEF4aXNQaXhlbE9mZnNldCIsIm5ld1BpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCIsImNyYWRsZVJlZmVyZW5jZVJvd3NoaWZ0IiwibmV3Q3JhZGxlUmVmZXJlbmNlUm93IiwibmV3QXhpc1JlZmVyZW5jZVJvdyIsImhlYWRyb3dEaWZmIiwidGFyZ2V0Q3JhZGxlRW5kcm93IiwidGFpbHJvd2RpZmYiLCJjb21wdXRlZE5leHRDcmFkbGVFbmRSb3ciLCJuZXdDcmFkbGVSZWZlcmVuY2VJbmRleCIsImNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld0F4aXNSZWZlcmVuY2VJbmRleCIsImF4aXNSZWZlcmVuY2VJdGVtU2hpZnQiLCJpbmNsdWRlc0xhc3RSb3ciLCJpbmNsdWRlc0ZpcnN0Um93IiwiY2hhbmdlT2ZDcmFkbGVDb250ZW50Q291bnQiLCJsaXN0U3RhcnRDaGFuZ2VDb3VudCIsImxpc3RFbmRDaGFuZ2VDb3VudCIsImdyaWQiLCJyb3dMZW5ndGhzIiwiZWxlbWVudExpc3QiLCJjaGlsZE5vZGVzIiwiZWxlbWVudFB0ciIsImVsZW1lbnQiLCJyb3dsZW5ndGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsInB1c2giLCJyb3dTcGFucyIsImZvckVhY2giLCJ2YWx1ZSIsImdldENlbGxGcmFtZUNvbXBvbmVudExpc3QiLCJfcmVmNCIsImNhY2hlQVBJIiwiY3JhZGxlQ29udGVudENvdW50IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJjb250ZW50bGlzdCIsIndvcmtpbmdDb250ZW50TGlzdCIsImluc3RhbmNlSWRDb3VudGVyUmVmIiwic3R5bGVzIiwicGxhY2Vob2xkZXJNZXNzYWdlcyIsImxvY2FsQ29udGVudGxpc3QiLCJsYXN0aW5kZXhvZmZzZXQiLCJoZWFkQ29udGVudGxpc3QiLCJ0YWlsQ29udGVudGxpc3QiLCJkZWxldGVkdGFpbGl0ZW1zIiwiZGVsZXRlZGhlYWRpdGVtcyIsInJlZmVyZW5jZUluZGV4IiwiY2hhbmdlQ291bnQiLCJuZXdpbmRleCIsImNyZWF0ZUNlbGxGcmFtZSIsInBsYWNlaG9sZGVyRnJhbWVTdHlsZXMiLCJwbGFjZWhvbGRlcmZyYW1lIiwicGxhY2Vob2xkZXJMaW5lclN0eWxlcyIsInBsYWNlaG9sZGVybGluZXIiLCJwbGFjZWhvbGRlckVycm9yRnJhbWVTdHlsZXMiLCJwbGFjZWhvbGRlcmVycm9yZnJhbWUiLCJwbGFjZWhvbGRlckVycm9yTGluZXJTdHlsZXMiLCJwbGFjZWhvbGRlcmVycm9ybGluZXIiLCJzcGxpY2UiLCJkZWxldGVkSXRlbXMiLCJjb25jYXQiLCJjb21wb25lbnRMaXN0IiwiYWxsb2NhdGVDb250ZW50TGlzdCIsIl9yZWY1IiwiYXhpc1JlZmVyZW5jZUluZGV4IiwibGF5b3V0SGFuZGxlciIsInRyaWdnZXJjZWxsSW5kZXgiLCJsb3djb250ZW50aW5kZXgiLCJoaWdoY29udGVudGluZGV4IiwiaGVhZGl0ZW1jb3VudCIsInRhcmdldFRyaWdnZXJjZWxsSW5kZXgiLCJ0cmlnZ2VyY2VsbElzSW5UYWlsIiwidW5kZWZpbmVkIiwidHJpZ2dlcmNlbGxQdHIiLCJ0cmlnZ2VyY2VsbENvbXBvbmVudCIsImNsb25lRWxlbWVudCIsImlzVHJpZ2dlcmNlbGwiLCJjb25zb2xlIiwibG9nIiwiaXNUcmlnZ2VjZWxsIiwiYXNzaWduIiwiaGVhZGxpc3QiLCJ0YWlsbGlzdCIsImRlbGV0ZVBvcnRhbHMiLCJkZWxldGVMaXN0IiwiZGVsZXRlTGlzdENhbGxiYWNrIiwiZGxpc3QiLCJtYXAiLCJpdGVtIiwiZGVsZXRlUG9ydGFsQnlJbmRleCIsIl9yZWY2IiwiaW5zdGFuY2VJRCIsImNlbGxNaW5IZWlnaHQiLCJjZWxsTWluV2lkdGgiLCJnZXRJdGVtIiwicGxhY2Vob2xkZXIiLCJ1c2VQbGFjZWhvbGRlciIsImxpc3RzaXplIiwic2l6ZSIsIml0ZW1JRCIsImdldE5ld09yRXhpc3RpbmdJdGVtSUQiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwiZ3JpZHN0YXJ0c3R5bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contentfunctions.tsx\n")},"./src/cradle/contenthandler.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\n// contenthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module supports the setup, rollover and positioning of content in the Cradle.\n\n    There are three key functions in this module: setCradleContent, updateCradleContent, and\n    adjustScrollblockForVariability.\n\n    There are also a few functions which support synchronization of Cradle content with cache\n    content (see internal and external services below).\n\n    setCradleContent is called directly from Cradle (in the state manager), and instantiates new Cradle\n    content in response to the scroller setup, or changes to its configuration. setCradleContent\n    creates a list of Cradle content CellFrames, and allocates those to the two Cradle grids. This\n    process occurs in response to many state changes, such as finishreposition, pivot, a host scrollto\n    request, and more.\n\n    updateCradleContent rolls over the Cradle content in response to user scrolling. When scrolling\n    down (or right), content is removed from the Cradle tail and added to the Cradle head (thus moving the\n    Cradle axis), while new content is added to the tail. When scrolling up (or left), the reverse occurs.\n\n    adjustScrollblockForVariability reconfigures the scrollblock to accommodate variable sized grid rows.\n\n    The Cradle (through the contentfunctions module) delegates fetching content items to the CellFrame.\n\n    This module is supported primarily by the contentfunctions module.\n\n*/\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ \"./src/cradle/contentfunctions.tsx\");\n// import { isSafariIOS } from '../InfiniteGridScroller'\nvar ContentHandler = /*#__PURE__*/function () {\n  function ContentHandler(cradleParameters) {\n    var _this = this;\n    _classCallCheck(this, ContentHandler);\n    this.content = {\n      cradleModelComponents: null,\n      headModelComponents: null,\n      tailModelComponents: null,\n      // the following two only used in cradle for render\n      headDisplayComponents: [],\n      tailDisplayComponents: []\n    };\n    this.instanceIdCounterRef = {\n      current: 0\n    };\n    // =============================[ UPDATE VIRTUAL LIST SIZE OR RANGE ]==========================\n    // these are utilities\n    // reset the cradle with new content, including allocation between head and tail parts of the cradle\n    // - called only from the Cradle state handler\n    this.updateVirtualListSize = function (newlistsize) {\n      var cradleParameters = _this.cradleParameters,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        setVirtualListSize = cradleInternalProperties.setVirtualListSize;\n      if (newlistsize == 0) {\n        var cradleContent = _this.content,\n          cradleHandlers = cradleParameters.handlersRef.current,\n          layoutHandler = cradleHandlers.layoutHandler,\n          cradlePositionData = layoutHandler.cradlePositionData;\n        _this.clearCradle();\n        cradleContent.headDisplayComponents = [];\n        cradleContent.tailDisplayComponents = [];\n        Object.assign(cradleContentProps, {\n          SOL: undefined,\n          EOL: undefined,\n          highindex: undefined,\n          lowindex: undefined,\n          axisReferenceIndex: undefined,\n          size: 0\n        });\n        cradlePositionData.targetAxisReferencePosition = 0;\n        cradlePositionData.targetPixelOffsetAxisFromViewport = 0;\n      }\n      setVirtualListSize(newlistsize);\n    };\n    this.updateVirtualListRange = function (newlistrange) {\n      var cradleParameters = _this.cradleParameters,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        layoutHandler = cradleHandlers.layoutHandler,\n        _this$cradleParameter = _this.cradleParameters.cradleInternalPropertiesRef.current,\n        setVirtualListRange = _this$cradleParameter.setVirtualListRange,\n        virtualListProps = _this$cradleParameter.virtualListProps,\n        cradleContentProps = _this$cradleParameter.cradleContentProps,\n        cradlePositionData = layoutHandler.cradlePositionData;\n      var newlistsize;\n      if (newlistrange.length == 0) {\n        newlistsize = 0;\n        cradlePositionData.targetAxisReferencePosition = 0;\n        cradlePositionData.targetPixelOffsetAxisFromViewport = 0;\n      } else {\n        var _newlistrange = _slicedToArray(newlistrange, 2),\n          newlowindex = _newlistrange[0],\n          newhighindex = _newlistrange[1];\n        if (virtualListProps.range.length) {\n          var previouslowindex = virtualListProps.lowindex;\n          var lowindexchange = newlowindex - previouslowindex;\n          cradlePositionData.targetAxisReferencePosition -= lowindexchange;\n        }\n        newlistsize = newhighindex - newlowindex + 1;\n      }\n      if (newlistsize == 0) {\n        var cradleContent = _this.content;\n        _this.clearCradle();\n        cradleContent.headDisplayComponents = [];\n        cradleContent.tailDisplayComponents = [];\n        Object.assign(cradleContentProps, {\n          SOL: undefined,\n          EOL: undefined,\n          highindex: undefined,\n          lowindex: undefined,\n          axisReferenceIndex: undefined,\n          size: 0\n        });\n      }\n      setVirtualListRange(newlistrange);\n    };\n    // Three main public methods - setCradleContent, updateCradleContent, and adjustScrollblockForVariability\n    // ==========================[ SET CONTENT ]===========================\n    this.setCradleContent = function (cradleState) {\n      // ------------------------------[ 1. initialize ]---------------------------\n      var cradleParameters = _this.cradleParameters,\n        ViewportContextProperties = cradleParameters.ViewportContextPropertiesRef.current,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        viewportElement = ViewportContextProperties.elementRef.current,\n        cacheAPI = cradleHandlers.cacheAPI,\n        layoutHandler = cradleHandlers.layoutHandler,\n        serviceHandler = cradleHandlers.serviceHandler,\n        scrollHandler = cradleHandlers.scrollHandler,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        requestedAxisReferencePosition = cradlePositionData.targetAxisReferencePosition,\n        orientation = cradleInheritedProperties.orientation,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        styles = cradleInheritedProperties.styles,\n        placeholderMessages = cradleInheritedProperties.placeholderMessages,\n        scrollerID = cradleInheritedProperties.scrollerID,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        paddingProps = cradleInternalProperties.paddingProps,\n        gapProps = cradleInternalProperties.gapProps,\n        listlowindex = virtualListProps.lowindex,\n        listsize = virtualListProps.size,\n        crosscount = virtualListProps.crosscount,\n        listRowcount = virtualListProps.rowcount,\n        paddingOffset = orientation == 'vertical' ? paddingProps.top : paddingProps.left,\n        cradleContent = _this.content,\n        gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row;\n      var targetPixelOffsetAxisFromViewport = cradlePositionData.targetPixelOffsetAxisFromViewport;\n      // ----------------------[ 2. normalize data ]--------------------------\n      // in bounds\n      var workingAxisReferencePosition = Math.min(requestedAxisReferencePosition, listsize - 1);\n      workingAxisReferencePosition = Math.max(workingAxisReferencePosition, 0);\n      // shifted by virtual list low range\n      var workingAxisReferenceIndex = workingAxisReferencePosition + listlowindex;\n      // calculate axis reference base index\n      workingAxisReferenceIndex -= workingAxisReferenceIndex < 0 ? workingAxisReferenceIndex % crosscount ? crosscount - Math.abs(workingAxisReferenceIndex % crosscount) : 0 : workingAxisReferenceIndex % crosscount;\n      // reposition at row boundary\n      if (['firstrender', 'firstrenderfromcache', 'finishreposition', 'reconfigure', 'scrollto'].includes(cradleState)) {\n        targetPixelOffsetAxisFromViewport = workingAxisReferenceIndex == listlowindex ? paddingOffset : gaplength; // default\n      }\n\n      var workingContentList = [],\n        // ----------------------[ 3. get content requirements ]----------------------\n        baseRowPixelLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gaplength;\n      var _ref = (0, contentfunctions_1.calculateContentListRequirements)({\n          // pixel\n          baseRowPixelLength: baseRowPixelLength,\n          targetPixelOffsetAxisFromViewport: targetPixelOffsetAxisFromViewport,\n          // index\n          targetAxisReferenceIndex: workingAxisReferenceIndex,\n          // resources\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties\n        }),\n        targetCradleReferenceIndex = _ref.targetCradleReferenceIndex,\n        targetAxisReferenceIndex = _ref.targetAxisReferenceIndex,\n        cradleContentCount = _ref.newCradleContentCount,\n        pixelOffsetViewportFromScrollblock = _ref.targetPixelOffsetViewportFromScrollblock;\n      var pixelOffsetAxisFromViewport = targetPixelOffsetAxisFromViewport; // semantics\n      // ----------------------[ 4. get and config content ]----------------------\n      // returns content constrained by cradleRowcount\n      var _ref2 = (0, contentfunctions_1.getCellFrameComponentList)({\n          cacheAPI: cacheAPI,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          cradleReferenceIndex: targetCradleReferenceIndex,\n          listStartChangeCount: 0,\n          listEndChangeCount: cradleContentCount,\n          workingContentList: workingContentList,\n          instanceIdCounterRef: _this.instanceIdCounterRef,\n          styles: styles,\n          placeholderMessages: placeholderMessages\n        }),\n        _ref3 = _slicedToArray(_ref2, 1),\n        newcontentlist = _ref3[0];\n      // update cradleContentProps from newcontentlist\n      cradleContentProps.size = newcontentlist.length;\n      if (cradleContentProps.size) {\n        var lowindex = newcontentlist[0].props.index,\n          highindex = lowindex + cradleContentProps.size - 1;\n        Object.assign(cradleContentProps, {\n          lowindex: lowindex,\n          highindex: highindex,\n          axisReferenceIndex: targetAxisReferenceIndex,\n          SOL: virtualListProps.lowindex == lowindex,\n          EOL: virtualListProps.highindex == highindex\n        });\n        if (cradleContentProps.SOL && !layoutHandler.SOLSignal) {\n          layoutHandler.SOLSignal = true;\n        }\n        if (cradleContentProps.EOL && !layoutHandler.EOLSignal) {\n          layoutHandler.EOLSignal = true;\n        }\n      } else {\n        Object.assign(cradleContentProps, {\n          lowindex: undefined,\n          highindex: undefined,\n          axisReferenceIndex: undefined,\n          SOL: undefined,\n          EOL: undefined\n        });\n      }\n      // set or cancel first row offset if within cradle\n      var gridstart;\n      if (cradleContentProps.SOL === true && !(virtualListProps.baserowblanks === undefined || virtualListProps.baserowblanks === 0)) {\n        gridstart = \"\".concat(virtualListProps.baserowblanks + 1);\n      } else {\n        gridstart = 'unset';\n      }\n      var firstcomponent = newcontentlist[0];\n      if (!firstcomponent) return; // possible child dismounts with nested scrollers\n      var gridstartstyle;\n      if (orientation == 'vertical') {\n        gridstartstyle = {\n          gridColumnStart: gridstart\n        };\n      } else {\n        gridstartstyle = {\n          gridRowStart: gridstart\n        };\n      }\n      var revisedcomponent = react_1[\"default\"].cloneElement(firstcomponent, {\n        gridstartstyle: gridstartstyle\n      });\n      newcontentlist[0] = revisedcomponent;\n      var _ref4 = (0, contentfunctions_1.allocateContentList)({\n          contentlist: newcontentlist,\n          axisReferenceIndex: targetAxisReferenceIndex,\n          layoutHandler: layoutHandler\n          // listlowindex,\n        }),\n        _ref5 = _slicedToArray(_ref4, 2),\n        headcontentlist = _ref5[0],\n        tailcontentlist = _ref5[1];\n      cradleContent.cradleModelComponents = newcontentlist;\n      cradleContent.headModelComponents = headcontentlist;\n      cradleContent.tailModelComponents = tailcontentlist;\n      cradlePositionData.targetAxisReferencePosition = targetAxisReferenceIndex - listlowindex;\n      cradlePositionData.targetPixelOffsetAxisFromViewport = pixelOffsetAxisFromViewport;\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = cradleState;\n        serviceHandler.callbacks.referenceIndexCallback(targetAxisReferenceIndex, 'setCradleContent', cstate);\n      }\n      //  ----------------------[ 5. set CSS ]-----------------------\n      // reset scrollblock Offset and length\n      var totalpaddinglength = orientation == 'vertical' ? paddingProps.top + paddingProps.bottom : paddingProps.left + paddingProps.right,\n        scrollblockElement = viewportElement.firstChild,\n        blocknewlength = listRowcount * baseRowPixelLength - gaplength // final cell has no trailing gap\n        + totalpaddinglength; // leading and trailing padding\n      if (cradleState == 'pivot') {\n        if (orientation == 'vertical') {\n          scrollblockElement.style.left = null;\n        } else {\n          scrollblockElement.style.top = null;\n        }\n      }\n      if (orientation == 'vertical') {\n        scrollblockElement.style.top = null;\n        scrollblockElement.style.height = blocknewlength + 'px';\n      } else {\n        scrollblockElement.style.left = null;\n        scrollblockElement.style.width = blocknewlength + 'px';\n      }\n      cradlePositionData.trackingBlockScrollPos = pixelOffsetViewportFromScrollblock;\n      // avoid bogus call to updateCradleContent\n      scrollHandler.resetScrollData(pixelOffsetViewportFromScrollblock);\n      var scrollTop = viewportElement.scrollTop,\n        scrollLeft = viewportElement.scrollLeft;\n      var scrollOptions;\n      if (cradlePositionData.blockScrollProperty == 'scrollTop') {\n        scrollOptions = {\n          top: cradlePositionData.trackingBlockScrollPos,\n          left: scrollLeft,\n          behavior: 'instant'\n        };\n      } else {\n        scrollOptions = {\n          left: cradlePositionData.trackingBlockScrollPos,\n          top: scrollTop,\n          behavior: 'instant'\n        };\n      }\n      viewportElement.scroll(scrollOptions);\n      var cradleElements = layoutHandler.elements,\n        axisElement = cradleElements.axisRef.current,\n        headElement = cradleElements.headRef.current,\n        pixelOffsetAxisFromScrollblock = pixelOffsetViewportFromScrollblock + pixelOffsetAxisFromViewport;\n      if (orientation == 'vertical') {\n        var top = pixelOffsetAxisFromScrollblock - paddingProps.top;\n        axisElement.style.top = top + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.padding = headcontentlist.length ? \"0px 0px \".concat(gapProps.column, \"px 0px\") : \"0px\";\n      } else {\n        // orientation = 'horizontal'\n        var left = pixelOffsetAxisFromScrollblock - paddingProps.left;\n        axisElement.style.top = 'auto';\n        axisElement.style.left = left + 'px';\n        headElement.style.padding = headcontentlist.length ? \"0px \".concat(gapProps.row, \"px 0px 0px\") : \"0px\";\n      }\n    };\n    // ==================[ UPDATE CONTENT through scroll ]========================\n    // updateCradleContent does not touch the viewport element's scroll position for the scrollblock\n    // instead it reconfigures elements within the cradle. It is called solely from\n    // axisTriggerlinesObserverCallback of interruptHandler.\n    // typically called for scroll action, but can also be called if the triggerLineCell changes\n    // size with variant layout.\n    this.updateCradleContent = function () {\n      // ----------------------[ 1. initialize ]-------------------------\n      var _a;\n      var cradleParameters = _this.cradleParameters,\n        cradleContent = _this.content,\n        viewportElement = cradleParameters.ViewportContextPropertiesRef.current.elementRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        cacheAPI = cradleHandlers.cacheAPI,\n        layoutHandler = cradleHandlers.layoutHandler,\n        stateHandler = cradleHandlers.stateHandler,\n        interruptHandler = cradleHandlers.interruptHandler,\n        serviceHandler = cradleHandlers.serviceHandler,\n        shiftinstruction = interruptHandler.shiftinstruction,\n        triggerViewportReferencePixelPos = interruptHandler.triggerViewportReferencePixelPos,\n        cradleElements = layoutHandler.elements,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        orientation = cradleInheritedProperties.orientation,\n        cache = cradleInheritedProperties.cache,\n        styles = cradleInheritedProperties.styles,\n        placeholderMessages = cradleInheritedProperties.placeholderMessages,\n        layout = cradleInheritedProperties.layout,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        scrollerID = cradleInheritedProperties.scrollerID,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        cradleContentProps = cradleInternalProperties.cradleContentProps,\n        paddingProps = cradleInternalProperties.paddingProps,\n        gapProps = cradleInternalProperties.gapProps,\n        crosscount = virtualListProps.crosscount,\n        listlowindex = virtualListProps.lowindex,\n        currentScrollPos = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n        modelcontentlist = cradleContent.cradleModelComponents || [],\n        previousCradleReferenceIndex = ((_a = modelcontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0;\n      // --------------------------------[ 3. Calculate shifts ]-------------------------------\n      // cradle properties\n      var _ref6 = (0, contentfunctions_1.calculateShiftSpecs)({\n          shiftinstruction: shiftinstruction,\n          triggerViewportReferencePixelPos: triggerViewportReferencePixelPos,\n          currentScrollPos: currentScrollPos,\n          scrollblockElement: viewportElement.firstChild,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentProps: cradleContentProps,\n          virtualListProps: virtualListProps,\n          cradleContent: cradleContent,\n          cradleElements: cradleElements\n        }),\n        cradleItemShift = _ref6.cradleReferenceItemShift,\n        axisReferenceIndex = _ref6.newAxisReferenceIndex,\n        axisItemShift = _ref6.axisReferenceItemShift,\n        cradleContentCount = _ref6.newCradleContentCount,\n        listStartChangeCount = _ref6.listStartChangeCount,\n        listEndChangeCount = _ref6.listEndChangeCount,\n        newPixelOffsetAxisFromViewport = _ref6.newPixelOffsetAxisFromViewport;\n      var pixelOffsetAxisFromViewport = newPixelOffsetAxisFromViewport,\n        isShift = !(axisItemShift == 0 && cradleItemShift == 0),\n        axisElement = cradleElements.axisRef.current,\n        headElement = cradleElements.headRef.current;\n      // the triggerlines will be moved, so disconnect them from their observer.\n      // they are reconnected with 'renderupdatedcontent' state in cradle.tsx, or at 'finishupdateforvariability'\n      //    for variable content\n      interruptHandler.triggerlinesIntersect.disconnect();\n      // abandon option; nothing to do but reposition\n      if (!isShift) {\n        // can happen first row; oversized last row\n        if (layout == 'uniform') {\n          // there's a separate routine for variable adjustments and css\n          cradlePositionData.targetPixelOffsetAxisFromViewport = _this.applyStyling({\n            layout: layout,\n            orientation: orientation,\n            paddingProps: paddingProps,\n            gapProps: gapProps,\n            cellHeight: cellHeight,\n            cellWidth: cellWidth,\n            crosscount: crosscount,\n            axisReferenceIndex: axisReferenceIndex,\n            pixelOffsetAxisFromViewport: pixelOffsetAxisFromViewport,\n            currentScrollPos: currentScrollPos,\n            headcontent: cradleContent.headModelComponents,\n            axisElement: axisElement,\n            headElement: headElement,\n            listlowindex: listlowindex\n          });\n        } else {\n          cradlePositionData.targetPixelOffsetAxisFromViewport = pixelOffsetAxisFromViewport;\n        }\n        return;\n      }\n      // ----------------------------------[ 4. reconfigure cradle content ]--------------------------\n      // collect changed content\n      var updatedContentList,\n        deletedContentItems = [];\n      if (listStartChangeCount || listEndChangeCount) {\n        // if either is non-0 then modify content\n        var _ref7 = (0, contentfunctions_1.getCellFrameComponentList)({\n          cacheAPI: cacheAPI,\n          cradleInheritedProperties: cradleInheritedProperties,\n          cradleInternalProperties: cradleInternalProperties,\n          cradleContentCount: cradleContentCount,\n          workingContentList: modelcontentlist,\n          listStartChangeCount: listStartChangeCount,\n          listEndChangeCount: listEndChangeCount,\n          cradleReferenceIndex: previousCradleReferenceIndex,\n          instanceIdCounterRef: _this.instanceIdCounterRef,\n          styles: styles,\n          placeholderMessages: placeholderMessages\n        });\n        var _ref8 = _slicedToArray(_ref7, 2);\n        updatedContentList = _ref8[0];\n        deletedContentItems = _ref8[1];\n        cradleContentProps.size = updatedContentList.length;\n        if (cradleContentProps.size) {\n          var lowindex = updatedContentList[0].props.index,\n            highindex = lowindex + cradleContentProps.size - 1;\n          Object.assign(cradleContentProps, {\n            lowindex: lowindex,\n            highindex: highindex,\n            axisReferenceIndex: axisReferenceIndex,\n            SOL: virtualListProps.lowindex == lowindex,\n            EOL: virtualListProps.highindex == highindex\n          });\n          if (cradleContentProps.SOL && !layoutHandler.SOLSignal) {\n            layoutHandler.SOLSignal = true;\n          }\n          if (cradleContentProps.EOL && !layoutHandler.EOLSignal) {\n            layoutHandler.EOLSignal = true;\n          }\n        } else {\n          Object.assign(cradleContentProps, {\n            lowindex: undefined,\n            highindex: undefined,\n            axisReferenceIndex: undefined,\n            SOL: undefined,\n            EOL: undefined\n          });\n        }\n        var gridstart;\n        if (cradleContentProps.SOL === true && !(virtualListProps.baserowblanks === undefined || virtualListProps.baserowblanks === 0)) {\n          gridstart = \"\".concat(virtualListProps.baserowblanks + 1);\n        } else {\n          gridstart = 'unset';\n        }\n        var firstcomponent = updatedContentList[0],\n          gridstartstyle = orientation == 'vertical' ? {\n            gridColumnStart: gridstart\n          } : {\n            gridRowStart: gridstart\n          },\n          revisedcomponent = react_1[\"default\"].cloneElement(firstcomponent, {\n            gridstartstyle: gridstartstyle\n          });\n        updatedContentList[0] = revisedcomponent;\n      } else {\n        updatedContentList = modelcontentlist;\n        Object.assign(cradleContentProps, {\n          axisReferenceIndex: axisReferenceIndex\n        });\n      }\n      if (deletedContentItems.length && cache == 'cradle') {\n        var deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n        var dListCallback;\n        if (deleteListCallback) {\n          dListCallback = function dListCallback(deleteList) {\n            deleteListCallback('pare cache to cradle', deleteList);\n          };\n        }\n        (0, contentfunctions_1.deletePortals)(cacheAPI, deletedContentItems, dListCallback);\n      }\n      // ----------------------------------[ 5. allocate cradle content ]--------------------------\n      var _ref9 = (0, contentfunctions_1.allocateContentList)({\n          contentlist: updatedContentList,\n          axisReferenceIndex: axisReferenceIndex,\n          layoutHandler: layoutHandler\n          // listlowindex,\n        }),\n        _ref10 = _slicedToArray(_ref9, 2),\n        headcontent = _ref10[0],\n        tailcontent = _ref10[1];\n      cradleContent.cradleModelComponents = updatedContentList;\n      cradleContent.headModelComponents = headcontent;\n      cradleContent.tailModelComponents = tailcontent;\n      if (serviceHandler.callbacks.referenceIndexCallback) {\n        var cstate = stateHandler.cradleStateRef.current;\n        serviceHandler.callbacks.referenceIndexCallback(axisReferenceIndex, 'updateCradleContent', cstate);\n      }\n      // -------------------------------[ 6. css changes ]-------------------------\n      cradlePositionData.targetAxisReferencePosition = axisReferenceIndex - listlowindex;\n      cradlePositionData.targetPixelOffsetAxisFromViewport = pixelOffsetAxisFromViewport;\n      if (isShift) cacheAPI.renderPortalLists();\n      if (layout == 'uniform') {\n        // there's a separate routine for variable adjustments and css\n        cradlePositionData.targetPixelOffsetAxisFromViewport = _this.applyStyling({\n          layout: layout,\n          orientation: orientation,\n          paddingProps: paddingProps,\n          gapProps: gapProps,\n          cellHeight: cellHeight,\n          cellWidth: cellWidth,\n          crosscount: crosscount,\n          axisReferenceIndex: axisReferenceIndex,\n          pixelOffsetAxisFromViewport: pixelOffsetAxisFromViewport,\n          currentScrollPos: currentScrollPos,\n          headcontent: headcontent,\n          axisElement: axisElement,\n          headElement: headElement,\n          listlowindex: listlowindex\n        });\n      }\n      // load new display data\n      cradleContent.headDisplayComponents = cradleContent.headModelComponents;\n      cradleContent.tailDisplayComponents = cradleContent.tailModelComponents;\n    };\n    // move the offset of the axis\n    this.applyStyling = function (_ref11) {\n      var layout = _ref11.layout,\n        orientation = _ref11.orientation,\n        paddingProps = _ref11.paddingProps,\n        gapProps = _ref11.gapProps,\n        cellHeight = _ref11.cellHeight,\n        cellWidth = _ref11.cellWidth,\n        crosscount = _ref11.crosscount,\n        axisReferenceIndex = _ref11.axisReferenceIndex,\n        pixelOffsetAxisFromViewport = _ref11.pixelOffsetAxisFromViewport,\n        currentScrollPos = _ref11.currentScrollPos,\n        headcontent = _ref11.headcontent,\n        axisElement = _ref11.axisElement,\n        headElement = _ref11.headElement,\n        listlowindex = _ref11.listlowindex;\n      var preAxisVirtualRows = Math.ceil((axisReferenceIndex - listlowindex) / crosscount),\n        gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row,\n        baseCellLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gaplength,\n        paddingOffset = orientation == 'vertical' ? paddingProps.top : paddingProps.left,\n        testScrollPos = baseCellLength * preAxisVirtualRows + paddingOffset - pixelOffsetAxisFromViewport,\n        scrollDiff = testScrollPos - currentScrollPos;\n      if (scrollDiff) {\n        pixelOffsetAxisFromViewport += scrollDiff;\n      }\n      // move the axis to accomodate change of content\n      var topAxisPos, leftAxisPos;\n      if (orientation == 'vertical') {\n        topAxisPos = currentScrollPos + pixelOffsetAxisFromViewport - paddingProps.top;\n        axisElement.style.top = topAxisPos + 'px';\n        axisElement.style.left = 'auto';\n        headElement.style.padding = headcontent.length ? \"0px 0px \".concat(gapProps.column, \"px 0px\") : \"0px\";\n      } else {\n        // 'horizontal'\n        leftAxisPos = currentScrollPos + pixelOffsetAxisFromViewport - paddingProps.left;\n        axisElement.style.top = 'auto';\n        axisElement.style.left = leftAxisPos + 'px';\n        headElement.style.padding = headcontent.length ? \"0px \".concat(gapProps.row, \"px 0px 0px\") : \"0px\";\n      }\n      return pixelOffsetAxisFromViewport;\n    };\n    this.adjustScrollblockForVariability = function (source) {\n      // acquire repositories\n      // ----------------------[ setup base values and references ]------------------------\n      // resources...\n\n      var cradleParameters = _this.cradleParameters,\n        cradleHandlers = cradleParameters.handlersRef.current,\n        ViewportContextProperties = cradleParameters.ViewportContextPropertiesRef.current,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n        layoutHandler = cradleHandlers.layoutHandler,\n        scrollHandler = cradleHandlers.scrollHandler,\n        interruptHandler = cradleHandlers.interruptHandler,\n        cradleElements = layoutHandler.elements,\n        cradlePositionData = layoutHandler.cradlePositionData,\n        axisReferencePosition = cradlePositionData.targetAxisReferencePosition,\n        pixelOffsetAxisFromViewport = cradlePositionData.targetPixelOffsetAxisFromViewport,\n        viewportElement = ViewportContextProperties.elementRef.current,\n        scrollblockElement = viewportElement.firstChild,\n        headGridElement = cradleElements.headRef.current,\n        tailGridElement = cradleElements.tailRef.current,\n        axisElement = cradleElements.axisRef.current,\n        orientation = cradleInheritedProperties.orientation,\n        cellHeight = cradleInheritedProperties.cellHeight,\n        cellWidth = cradleInheritedProperties.cellWidth,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        paddingProps = cradleInternalProperties.paddingProps,\n        gapProps = cradleInternalProperties.gapProps,\n        crosscount = virtualListProps.crosscount,\n        listRowcount = virtualListProps.rowcount,\n        listlowindex = virtualListProps.lowindex,\n        listrowshift = virtualListProps.rowshift;\n\n      // console.log('var cradlePositionData', {...cradlePositionData})\n      // cancel end of list reconciliation if scrolling re-starts\n      if (scrollHandler.isScrolling && _this.gridResizeObserver) {\n        _this.gridResizeObserver.disconnect();\n        _this.gridResizeObserver = undefined;\n        clearTimeout(_this.resizeTimeoutID);\n      }\n      // ------------------------[ calculations ]------------------------\n      var axisReferenceIndex = axisReferencePosition + listlowindex,\n        // rowcounts and row offsets for positioning\n        // listRowcount taken from internal properties above\n        headRowCount = Math.ceil(headGridElement.childNodes.length / crosscount),\n        tailRowCount = Math.ceil(tailGridElement.childNodes.length / crosscount),\n        // reference rows - cradle first/last; axis; list end\n        axisReferenceRow = Math.floor(axisReferenceIndex / crosscount),\n        cradleReferenceRow = axisReferenceRow - headRowCount,\n        cradleLastRow = axisReferenceRow + (tailRowCount - 1),\n        listLastRow = listRowcount - 1 + listrowshift,\n        preCradleRowCount = cradleReferenceRow - listrowshift,\n        postCradleRowCount = listLastRow - cradleLastRow,\n        gaplength = orientation == 'vertical' ? gapProps.column : gapProps.row,\n        // base pixel values\n        baseCellLength = (orientation == 'vertical' ? cellHeight : cellWidth) + gaplength,\n        measuredTailPixelLength = orientation == 'vertical' ? tailGridElement.offsetHeight : tailGridElement.offsetWidth,\n        postCradleRowsPixelLength = postCradleRowCount * baseCellLength,\n        paddingTailOffset = orientation == 'vertical' ? paddingProps.bottom : paddingProps.right,\n        totalPostAxisScrollblockPixelLength = postCradleRowsPixelLength + measuredTailPixelLength + paddingTailOffset,\n        paddingHeadOffset = orientation == 'vertical' ? paddingProps.top : paddingProps.left,\n        // base figures used for preAxis #s for compatibility with repositioning, which uses base figures\n        totalPreAxisScrollblockPixelLength = (preCradleRowCount + headRowCount) * baseCellLength + paddingHeadOffset;\n      _this.latestAxisReferenceIndex = axisReferenceIndex;\n      // ------------------------[ layout adjustments ]----------------------\n      interruptHandler.signals.pauseCradleIntersectionObserver = true;\n      var totalScrollblockPixelLength = totalPreAxisScrollblockPixelLength + totalPostAxisScrollblockPixelLength,\n        trackingBlockScrollPos = totalPreAxisScrollblockPixelLength - pixelOffsetAxisFromViewport,\n        newPixelOffsetAxisFromScrollblock = trackingBlockScrollPos + pixelOffsetAxisFromViewport; // ie. totalPreAxisPixelLength, but semantics\n      if (orientation == 'vertical') {\n        axisElement.style.top = newPixelOffsetAxisFromScrollblock - paddingProps.top + 'px';\n        scrollblockElement.style.height = totalScrollblockPixelLength + 'px';\n      } else {\n        // 'horizontal'\n        axisElement.style.left = newPixelOffsetAxisFromScrollblock - paddingProps.left + 'px';\n        scrollblockElement.style.width = totalScrollblockPixelLength + 'px';\n      }\n      // -----------------------[ scrollPos adjustment ]-------------------------\n      if (orientation == 'vertical') {\n        headGridElement.style.padding = headRowCount ? \"0px 0px \".concat(gapProps.column, \"px 0px\") : \"0px\";\n      } else {\n        headGridElement.style.padding = headRowCount ? \"0px \".concat(gapProps.row, \"px 0px 0px\") : \"0px\";\n      }\n      // temporarily adjust scrollblockElement offset; onAfterScrollForVariable transfers shift to trackingBlockScrollPos\n      var startingScrollPos = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n        scrollDiff = trackingBlockScrollPos - startingScrollPos;\n      if (orientation == 'vertical') {\n        scrollblockElement.style.top = -scrollDiff + 'px';\n      } else {\n        scrollblockElement.style.left = -scrollDiff + 'px';\n      }\n      // check for gotoIndex or resize overshoot\n      if (source == 'setcradle' && !postCradleRowCount) {\n        var _tailGridElement = cradleElements.tailRef.current;\n        _this.gridResizeObserver = new ResizeObserver(_this.resizeObserverCallback);\n        _this.gridResizeObserver.observe(_tailGridElement);\n      }\n    };\n    this.resizeObserverCallback = function () {\n      clearTimeout(_this.resizeTimeoutID);\n      _this.resizeTimeoutID = setTimeout(function () {\n        clearTimeout(_this.resizeTimeoutID); // run once\n        var cradleParameters = _this.cradleParameters,\n          ViewportContextProperties = cradleParameters.ViewportContextPropertiesRef.current,\n          viewportElement = ViewportContextProperties.elementRef.current,\n          scrollblockElement = viewportElement.firstChild,\n          cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n          orientation = cradleInheritedProperties.orientation,\n          scrollblockLength = orientation == 'vertical' ? scrollblockElement.offsetHeight : scrollblockElement.offsetWidth,\n          scrollblockOffset = orientation == 'vertical' ? scrollblockElement.offsetTop : scrollblockElement.offsetLeft,\n          viewportLength = orientation == 'vertical' ? viewportElement.offsetHeight : viewportElement.offsetWidth,\n          scrollTop = viewportElement.scrollTop,\n          scrollLeft = viewportElement.scrollLeft,\n          viewportScrollPos = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n\n        // check for overshoot\n        if (scrollblockLength + scrollblockOffset - viewportScrollPos < viewportLength) {\n          // overshoot\n          if (scrollblockOffset) {\n            if (orientation == 'vertical') {\n              scrollblockElement.style.top = 0;\n            } else {\n              scrollblockElement.style.left = 0;\n            }\n          }\n          var options;\n          if (orientation == 'vertical') {\n            options = {\n              top: scrollblockLength - viewportLength,\n              left: scrollLeft,\n              behavior: 'smooth'\n            };\n          } else {\n            options = {\n              top: scrollTop,\n              left: scrollblockLength - viewportLength,\n              behavior: 'smooth'\n            };\n          }\n          viewportElement.scroll(options);\n        }\n        if (_this.gridResizeObserver) {\n          _this.gridResizeObserver.disconnect();\n          _this.gridResizeObserver = null;\n        }\n      }, 500);\n    };\n    // ========================= [ INTERNAL CONTENT MANAGEMENT SERVICES ]=====================\n    this.guardAgainstRunawayCaching = function () {\n      var _this$cradleParameter2 = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        cacheMax = _this$cradleParameter2.cacheMax,\n        MAX_CACHE_OVER_RUN = _this$cradleParameter2.MAX_CACHE_OVER_RUN,\n        cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI,\n        modelComponentList = _this.content.cradleModelComponents;\n      if (cacheAPI.guardAgainstRunawayCaching(cacheMax, modelComponentList.length, MAX_CACHE_OVER_RUN)) {\n        _this.pareCacheToMax();\n      }\n    };\n    this.pareCacheToMax = function () {\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        cache = cradleInheritedProperties.cache,\n        scrollerID = cradleInheritedProperties.scrollerID;\n      if (cache == 'keepload') {\n        var cradleHandlers = _this.cradleParameters.handlersRef.current,\n          cacheAPI = cradleHandlers.cacheAPI,\n          serviceHandler = cradleHandlers.serviceHandler,\n          modelIndexList = _this.getModelIndexList(),\n          deleteListCallback = serviceHandler.callbacks.deleteListCallback;\n        var dListCallback;\n        if (deleteListCallback) {\n          dListCallback = function dListCallback(deleteList) {\n            deleteListCallback('pare cache to cacheMax', deleteList);\n          };\n        }\n        if (cacheAPI.pareCacheToMax(cradleInheritedProperties.cacheMax, modelIndexList, dListCallback)) {\n          cacheAPI.renderPortalLists();\n        }\n      }\n    };\n    // ==========================[ EXTERNAL SERVICE SUPPORT ]=======================\n    // supports clearCache\n    this.clearCradle = function () {\n      var cradleContent = _this.content;\n      // const { cacheAPI } = this.cradleParameters.handlersRef.current\n      cradleContent.cradleModelComponents = [];\n      cradleContent.headModelComponents = [];\n      cradleContent.tailModelComponents = [];\n    };\n    this.cradleParameters = cradleParameters;\n  }\n  // called from serviceHandler getCradleIndexMap\n  // also supports pareCacheToMax, matchCacheToCradle\n  _createClass(ContentHandler, [{\n    key: \"getModelIndexList\",\n    value: function getModelIndexList() {\n      var cradleModelComponents = this.content.cradleModelComponents;\n      if (!cradleModelComponents) {\n        return [];\n      } else {\n        return cradleModelComponents.map(function (item) {\n          return item.props.index;\n        });\n      }\n    }\n    // supports moveIndex and insertRemoveIndex, \n    // updates cradle contiguous items from startChangeIndex or start of cradle\n  }, {\n    key: \"synchronizeCradleItemIDsToCache\",\n    value: function synchronizeCradleItemIDsToCache(updatedIndexList) {\n      var isInsertRemove = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var startChangeIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      // asssemble resources\n      var cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI,\n        indexToItemIDMap = cacheAPI.indexToItemIDMap,\n        cradleModelComponents = this.content.cradleModelComponents,\n        cradleContentProps = this.cradleParameters.cradleInternalPropertiesRef.current.cradleContentProps;\n      if (cradleContentProps.size == 0) return;\n      var lowSpan = cradleContentProps.lowindex,\n        highSpan = cradleContentProps.highindex;\n      var startIndex, endIndex;\n      if (isInsertRemove) {\n        if (startChangeIndex > highSpan) return;\n        startIndex = startChangeIndex;\n        endIndex = highSpan;\n      } else {\n        // move\n        if (updatedIndexList.length == 0) return;\n        startIndex = updatedIndexList[0];\n        endIndex = updatedIndexList.at(-1);\n      }\n      var updatedSpan = endIndex - startIndex + 1;\n      var firstIndex = startIndex;\n      if (firstIndex > highSpan) return;\n      if (firstIndex < lowSpan) firstIndex = lowSpan;\n      var lowPtr = firstIndex - lowSpan,\n        highPtr = isInsertRemove ? cradleModelComponents.length - 1 : Math.min(cradleModelComponents.length - 1, lowPtr + updatedSpan - 1);\n      // function to update individual cradle components to cache changes\n      function processcomponentFn(component, componentptr, componentarray) {\n        var index = component.props.index,\n          cacheItemID = indexToItemIDMap.get(index);\n        // if cache has no component for cradle item, then get one\n        if (cacheItemID === undefined) {\n          var newItemID = cacheAPI.getNewItemID();\n          componentarray[componentptr] = react_1[\"default\"].cloneElement(component, {\n            itemID: newItemID\n          });\n          return;\n        } else {\n          // match cache itemID to cradle component itemID\n          var cradleItemID = component.props.itemID,\n            updateptr = updatedIndexList.indexOf(index); // TODO verify need for updatelist\n          if (updateptr != -1) {\n            // update list confirms there is a cache item for this index\n            if (cacheItemID == cradleItemID) return;\n            componentarray[componentptr] = react_1[\"default\"].cloneElement(component, {\n              itemID: cacheItemID\n            });\n          } else {\n            var _newItemID = cacheAPI.getNewItemID();\n            componentarray[componentptr] = react_1[\"default\"].cloneElement(component, {\n              itemID: _newItemID\n            });\n          }\n        }\n      }\n      for (var ptr = lowPtr; ptr <= highPtr; ptr++) {\n        processcomponentFn(cradleModelComponents[ptr], ptr, cradleModelComponents);\n      }\n    }\n    // supports remapIndexes\n  }, {\n    key: \"createNewItemIDs\",\n    value: function createNewItemIDs(newList) {\n      if (!newList.length) return;\n      var cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI,\n        cradleModelComponents = this.content.cradleModelComponents,\n        cradleContentProps = this.cradleParameters.cradleInternalPropertiesRef.current.cradleContentProps;\n      if (cradleContentProps.size == 0) return;\n      var lowSpan = cradleContentProps.lowindex,\n        highSpan = cradleContentProps.highindex;\n      function processcomponentFn(newlistindex) {\n        if (newlistindex < lowSpan || newlistindex > highSpan) return; // defensive\n        var cradlePtr = newlistindex - lowSpan,\n          component = cradleModelComponents[cradlePtr],\n          newItemID = cacheAPI.getNewItemID();\n        cradleModelComponents[cradlePtr] = react_1[\"default\"].cloneElement(component, {\n          itemID: newItemID\n        });\n      }\n      newList.forEach(processcomponentFn);\n    }\n    // called from service handler's remapIndexes, as last step\n  }, {\n    key: \"reconcileCellFrames\",\n    value: function reconcileCellFrames(modifiedIndexesList) {\n      if (!modifiedIndexesList.length) return;\n      var cradleModelComponents = this.content.cradleModelComponents,\n        cacheAPI = this.cradleParameters.handlersRef.current.cacheAPI,\n        indexToItemIDMap = cacheAPI.indexToItemIDMap;\n      function processComponentFn(component, i, array) {\n        var _component$props = component.props,\n          index = _component$props.index,\n          itemID = _component$props.itemID;\n        if (modifiedIndexesList.includes(index)) {\n          var newItemID = indexToItemIDMap.has(index) ? indexToItemIDMap.get(index) : cacheAPI.getNewItemID();\n          if (newItemID != itemID) {\n            // defensive; shouldn't happen\n            array[i] = react_1[\"default\"].cloneElement(component, {\n              itemID: newItemID\n            });\n          }\n        }\n      }\n      cradleModelComponents.forEach(processComponentFn);\n      this.content.headModelComponents = cradleModelComponents.slice(0, this.content.headModelComponents.length);\n      this.content.tailModelComponents = cradleModelComponents.slice(this.content.headModelComponents.length);\n    }\n  }]);\n  return ContentHandler;\n}();\nexports[\"default\"] = ContentHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL2NvbnRlbnRoYW5kbGVyLnRzeCIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQSxTQUFBQSxRQUFBQyxDQUFBLHNDQUFBRCxPQUFBLHdCQUFBRSxNQUFBLHVCQUFBQSxNQUFBLENBQUFDLFFBQUEsYUFBQUYsQ0FBQSxrQkFBQUEsQ0FBQSxnQkFBQUEsQ0FBQSxXQUFBQSxDQUFBLHlCQUFBQyxNQUFBLElBQUFELENBQUEsQ0FBQUcsV0FBQSxLQUFBRixNQUFBLElBQUFELENBQUEsS0FBQUMsTUFBQSxDQUFBRyxTQUFBLHFCQUFBSixDQUFBLEtBQUFELE9BQUEsQ0FBQUMsQ0FBQTtBQUFBLFNBQUFLLGVBQUFDLEdBQUEsRUFBQUMsQ0FBQSxXQUFBQyxlQUFBLENBQUFGLEdBQUEsS0FBQUcscUJBQUEsQ0FBQUgsR0FBQSxFQUFBQyxDQUFBLEtBQUFHLDJCQUFBLENBQUFKLEdBQUEsRUFBQUMsQ0FBQSxLQUFBSSxnQkFBQTtBQUFBLFNBQUFBLGlCQUFBLGNBQUFDLFNBQUE7QUFBQSxTQUFBRiw0QkFBQVYsQ0FBQSxFQUFBYSxNQUFBLFNBQUFiLENBQUEscUJBQUFBLENBQUEsc0JBQUFjLGlCQUFBLENBQUFkLENBQUEsRUFBQWEsTUFBQSxPQUFBRSxDQUFBLEdBQUFDLE1BQUEsQ0FBQVosU0FBQSxDQUFBYSxRQUFBLENBQUFDLElBQUEsQ0FBQWxCLENBQUEsRUFBQW1CLEtBQUEsYUFBQUosQ0FBQSxpQkFBQWYsQ0FBQSxDQUFBRyxXQUFBLEVBQUFZLENBQUEsR0FBQWYsQ0FBQSxDQUFBRyxXQUFBLENBQUFpQixJQUFBLE1BQUFMLENBQUEsY0FBQUEsQ0FBQSxtQkFBQU0sS0FBQSxDQUFBQyxJQUFBLENBQUF0QixDQUFBLE9BQUFlLENBQUEsK0RBQUFRLElBQUEsQ0FBQVIsQ0FBQSxVQUFBRCxpQkFBQSxDQUFBZCxDQUFBLEVBQUFhLE1BQUE7QUFBQSxTQUFBQyxrQkFBQVIsR0FBQSxFQUFBa0IsR0FBQSxRQUFBQSxHQUFBLFlBQUFBLEdBQUEsR0FBQWxCLEdBQUEsQ0FBQW1CLE1BQUEsRUFBQUQsR0FBQSxHQUFBbEIsR0FBQSxDQUFBbUIsTUFBQSxXQUFBbEIsQ0FBQSxNQUFBbUIsSUFBQSxPQUFBTCxLQUFBLENBQUFHLEdBQUEsR0FBQWpCLENBQUEsR0FBQWlCLEdBQUEsRUFBQWpCLENBQUEsSUFBQW1CLElBQUEsQ0FBQW5CLENBQUEsSUFBQUQsR0FBQSxDQUFBQyxDQUFBLFVBQUFtQixJQUFBO0FBQUEsU0FBQWpCLHNCQUFBa0IsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsV0FBQUYsQ0FBQSxnQ0FBQTFCLE1BQUEsSUFBQTBCLENBQUEsQ0FBQTFCLE1BQUEsQ0FBQUMsUUFBQSxLQUFBeUIsQ0FBQSw0QkFBQUUsQ0FBQSxRQUFBQyxDQUFBLEVBQUFmLENBQUEsRUFBQVIsQ0FBQSxFQUFBd0IsQ0FBQSxFQUFBQyxDQUFBLE9BQUFDLENBQUEsT0FBQWpDLENBQUEsaUJBQUFPLENBQUEsSUFBQXNCLENBQUEsR0FBQUEsQ0FBQSxDQUFBWCxJQUFBLENBQUFTLENBQUEsR0FBQU8sSUFBQSxRQUFBTixDQUFBLFFBQUFaLE1BQUEsQ0FBQWEsQ0FBQSxNQUFBQSxDQUFBLFVBQUFJLENBQUEsdUJBQUFBLENBQUEsSUFBQUgsQ0FBQSxHQUFBdkIsQ0FBQSxDQUFBVyxJQUFBLENBQUFXLENBQUEsR0FBQU0sSUFBQSxNQUFBSCxDQUFBLENBQUFJLElBQUEsQ0FBQU4sQ0FBQSxDQUFBTyxLQUFBLEdBQUFMLENBQUEsQ0FBQVAsTUFBQSxLQUFBRyxDQUFBLEdBQUFLLENBQUEsaUJBQUFOLENBQUEsSUFBQTNCLENBQUEsT0FBQWUsQ0FBQSxHQUFBWSxDQUFBLHlCQUFBTSxDQUFBLFlBQUFKLENBQUEsZUFBQUUsQ0FBQSxHQUFBRixDQUFBLGNBQUFiLE1BQUEsQ0FBQWUsQ0FBQSxNQUFBQSxDQUFBLDJCQUFBL0IsQ0FBQSxRQUFBZSxDQUFBLGFBQUFpQixDQUFBO0FBQUEsU0FBQXhCLGdCQUFBRixHQUFBLFFBQUFlLEtBQUEsQ0FBQWlCLE9BQUEsQ0FBQWhDLEdBQUEsVUFBQUEsR0FBQTtBQUFBLFNBQUFpQyxnQkFBQUMsUUFBQSxFQUFBQyxXQUFBLFVBQUFELFFBQUEsWUFBQUMsV0FBQSxlQUFBN0IsU0FBQTtBQUFBLFNBQUE4QixrQkFBQUMsTUFBQSxFQUFBQyxLQUFBLGFBQUFyQyxDQUFBLE1BQUFBLENBQUEsR0FBQXFDLEtBQUEsQ0FBQW5CLE1BQUEsRUFBQWxCLENBQUEsVUFBQXNDLFVBQUEsR0FBQUQsS0FBQSxDQUFBckMsQ0FBQSxHQUFBc0MsVUFBQSxDQUFBQyxVQUFBLEdBQUFELFVBQUEsQ0FBQUMsVUFBQSxXQUFBRCxVQUFBLENBQUFFLFlBQUEsd0JBQUFGLFVBQUEsRUFBQUEsVUFBQSxDQUFBRyxRQUFBLFNBQUFoQyxNQUFBLENBQUFpQyxjQUFBLENBQUFOLE1BQUEsRUFBQU8sY0FBQSxDQUFBTCxVQUFBLENBQUFNLEdBQUEsR0FBQU4sVUFBQTtBQUFBLFNBQUFPLGFBQUFYLFdBQUEsRUFBQVksVUFBQSxFQUFBQyxXQUFBLFFBQUFELFVBQUEsRUFBQVgsaUJBQUEsQ0FBQUQsV0FBQSxDQUFBckMsU0FBQSxFQUFBaUQsVUFBQSxPQUFBQyxXQUFBLEVBQUFaLGlCQUFBLENBQUFELFdBQUEsRUFBQWEsV0FBQSxHQUFBdEMsTUFBQSxDQUFBaUMsY0FBQSxDQUFBUixXQUFBLGlCQUFBTyxRQUFBLG1CQUFBUCxXQUFBO0FBQUEsU0FBQVMsZUFBQUssR0FBQSxRQUFBSixHQUFBLEdBQUFLLFlBQUEsQ0FBQUQsR0FBQSxvQkFBQXhELE9BQUEsQ0FBQW9ELEdBQUEsaUJBQUFBLEdBQUEsR0FBQU0sTUFBQSxDQUFBTixHQUFBO0FBQUEsU0FBQUssYUFBQUUsS0FBQSxFQUFBQyxJQUFBLFFBQUE1RCxPQUFBLENBQUEyRCxLQUFBLGtCQUFBQSxLQUFBLGtCQUFBQSxLQUFBLE1BQUFFLElBQUEsR0FBQUYsS0FBQSxDQUFBekQsTUFBQSxDQUFBNEQsV0FBQSxPQUFBRCxJQUFBLEtBQUFFLFNBQUEsUUFBQUMsR0FBQSxHQUFBSCxJQUFBLENBQUExQyxJQUFBLENBQUF3QyxLQUFBLEVBQUFDLElBQUEsb0JBQUE1RCxPQUFBLENBQUFnRSxHQUFBLHVCQUFBQSxHQUFBLFlBQUFuRCxTQUFBLDREQUFBK0MsSUFBQSxnQkFBQUYsTUFBQSxHQUFBTyxNQUFBLEVBQUFOLEtBQUE7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJCQSxJQUFBTyxPQUFBLEdBQUFDLGVBQUEsQ0FBQUMsbUJBQUE7QUFFQSxJQUFBQyxrQkFBQSxHQUFBRCxtQkFBQTtBQVNBO0FBQUEsSUFFcUJFLGNBQWM7RUFFaEMsU0FBQUEsZUFBWUMsZ0JBQWdCO0lBQUEsSUFBQUMsS0FBQTtJQUFBaEMsZUFBQSxPQUFBOEIsY0FBQTtJQVFyQixLQUFBRyxPQUFPLEdBQUc7TUFFZEMscUJBQXFCLEVBQUUsSUFBSTtNQUMzQkMsbUJBQW1CLEVBQUUsSUFBSTtNQUN6QkMsbUJBQW1CLEVBQUUsSUFBSTtNQUN6QjtNQUNBQyxxQkFBcUIsRUFBRSxFQUFFO01BQ3pCQyxxQkFBcUIsRUFBRTtLQUV4QjtJQUlPLEtBQUFDLG9CQUFvQixHQUFHO01BRTVCQyxPQUFPLEVBQUM7S0FFVjtJQUVEO0lBQ0E7SUFFQTtJQUNBO0lBQ08sS0FBQUMscUJBQXFCLEdBQUcsVUFBQ0MsV0FBVyxFQUFJO01BR3ZDLElBQUVYLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7UUFDbEJZLHdCQUF3QixHQUFHWixnQkFBZ0IsQ0FBQ2EsMkJBQTJCLENBQUNKLE9BQU87UUFHM0VLLGtCQUFrQixHQUdsQkYsd0JBQXdCLENBSHhCRSxrQkFBa0I7UUFDbEJDLGtCQUFrQixHQUVsQkgsd0JBQXdCLENBRnhCRyxrQkFBa0I7TUFJMUIsSUFBSUosV0FBVyxJQUFJLENBQUMsRUFBRTtRQUdkLElBQUFLLGFBQWEsR0FBR2YsS0FBSSxDQUFDQyxPQUFPO1VBQzVCZSxjQUFjLEdBQUdqQixnQkFBZ0IsQ0FBQ2tCLFdBQVcsQ0FBQ1QsT0FBTztVQUNuRFUsYUFBYSxHQUFLRixjQUFjLENBQWhDRSxhQUFhO1VBQ2JDLGtCQUFrQixHQUFLRCxhQUFhLENBQXBDQyxrQkFBa0I7UUFFeEJuQixLQUFJLENBQUNvQixXQUFXLEVBQUU7UUFDbEJMLGFBQWEsQ0FBQ1YscUJBQXFCLEdBQUcsRUFBRTtRQUN4Q1UsYUFBYSxDQUFDVCxxQkFBcUIsR0FBRyxFQUFFO1FBQ3hDN0QsTUFBTSxDQUFDNEUsTUFBTSxDQUFDUixrQkFBa0IsRUFDNUI7VUFDSVMsR0FBRyxFQUFDL0IsU0FBUztVQUNiZ0MsR0FBRyxFQUFDaEMsU0FBUztVQUNiaUMsU0FBUyxFQUFDakMsU0FBUztVQUNuQmtDLFFBQVEsRUFBQ2xDLFNBQVM7VUFDbEJtQyxrQkFBa0IsRUFBQ25DLFNBQVM7VUFDNUJvQyxJQUFJLEVBQUM7U0FDUixDQUNKO1FBRURSLGtCQUFrQixDQUFDUywyQkFBMkIsR0FBRyxDQUFDO1FBQ2xEVCxrQkFBa0IsQ0FBQ1UsaUNBQWlDLEdBQUcsQ0FBQzs7TUFJNURmLGtCQUFrQixDQUFDSixXQUFXLENBQUM7SUFFbkMsQ0FBQztJQUVNLEtBQUFvQixzQkFBc0IsR0FBRyxVQUFDQyxZQUFZLEVBQUk7TUFHekMsSUFBRWhDLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7UUFFbEJpQixjQUFjLEdBQUdqQixnQkFBZ0IsQ0FBQ2tCLFdBQVcsQ0FBQ1QsT0FBTztRQUdqRFUsYUFBYSxHQUViRixjQUFjLENBRmRFLGFBQWE7UUFBQWMscUJBQUEsR0FVYmhDLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNhLDJCQUEyQixDQUFDSixPQUFPO1FBSnpEeUIsbUJBQW1CLEdBQUFELHFCQUFBLENBQW5CQyxtQkFBbUI7UUFDbkJDLGdCQUFnQixHQUFBRixxQkFBQSxDQUFoQkUsZ0JBQWdCO1FBQ2hCckIsa0JBQWtCLEdBQUFtQixxQkFBQSxDQUFsQm5CLGtCQUFrQjtRQU1sQk0sa0JBQWtCLEdBRWxCRCxhQUFhLENBRmJDLGtCQUFrQjtNQUkxQixJQUFJVCxXQUFXO01BQ2YsSUFBSXFCLFlBQVksQ0FBQzdFLE1BQU0sSUFBSSxDQUFDLEVBQUU7UUFFMUJ3RCxXQUFXLEdBQUcsQ0FBQztRQUNmUyxrQkFBa0IsQ0FBQ1MsMkJBQTJCLEdBQUcsQ0FBQztRQUNsRFQsa0JBQWtCLENBQUNVLGlDQUFpQyxHQUFHLENBQUM7T0FFM0QsTUFBTTtRQUVILElBQUFNLGFBQUEsR0FBQXJHLGNBQUEsQ0FBb0NpRyxZQUFZO1VBQXpDSyxXQUFXLEdBQUFELGFBQUE7VUFBRUUsWUFBWSxHQUFBRixhQUFBO1FBRWhDLElBQUlELGdCQUFnQixDQUFDSSxLQUFLLENBQUNwRixNQUFNLEVBQUU7VUFFL0IsSUFBZ0JxRixnQkFBZ0IsR0FBSUwsZ0JBQWdCLENBQTdDVCxRQUFRO1VBRWYsSUFBTWUsY0FBYyxHQUFHSixXQUFXLEdBQUdHLGdCQUFnQjtVQUVyRHBCLGtCQUFrQixDQUFDUywyQkFBMkIsSUFBSVksY0FBYzs7UUFJcEU5QixXQUFXLEdBQUcyQixZQUFZLEdBQUdELFdBQVcsR0FBRyxDQUFDOztNQUloRCxJQUFJMUIsV0FBVyxJQUFJLENBQUMsRUFBRTtRQUVsQixJQUFNSyxhQUFhLEdBQUdmLEtBQUksQ0FBQ0MsT0FBTztRQUVsQ0QsS0FBSSxDQUFDb0IsV0FBVyxFQUFFO1FBQ2xCTCxhQUFhLENBQUNWLHFCQUFxQixHQUFHLEVBQUU7UUFDeENVLGFBQWEsQ0FBQ1QscUJBQXFCLEdBQUcsRUFBRTtRQUN4QzdELE1BQU0sQ0FBQzRFLE1BQU0sQ0FBQ1Isa0JBQWtCLEVBQzVCO1VBQ0lTLEdBQUcsRUFBQy9CLFNBQVM7VUFDYmdDLEdBQUcsRUFBQ2hDLFNBQVM7VUFDYmlDLFNBQVMsRUFBQ2pDLFNBQVM7VUFDbkJrQyxRQUFRLEVBQUNsQyxTQUFTO1VBQ2xCbUMsa0JBQWtCLEVBQUNuQyxTQUFTO1VBQzVCb0MsSUFBSSxFQUFDO1NBQ1IsQ0FDSjs7TUFJTE0sbUJBQW1CLENBQUNGLFlBQVksQ0FBQztJQUVyQyxDQUFDO0lBRUQ7SUFFQTtJQUVPLEtBQUFVLGdCQUFnQixHQUFHLFVBQUVDLFdBQVcsRUFBSztNQUV4QztNQUlJLElBQUUzQyxnQkFBZ0IsR0FBS0MsS0FBSSxDQUF6QkQsZ0JBQWdCO1FBRWxCNEMseUJBQXlCLEdBQUc1QyxnQkFBZ0IsQ0FBQzZDLDRCQUE0QixDQUFDcEMsT0FBTztRQUNqRlEsY0FBYyxHQUFHakIsZ0JBQWdCLENBQUNrQixXQUFXLENBQUNULE9BQU87UUFDckRxQyx5QkFBeUIsR0FBRzlDLGdCQUFnQixDQUFDK0MsNEJBQTRCLENBQUN0QyxPQUFPO1FBQ2pGRyx3QkFBd0IsR0FBR1osZ0JBQWdCLENBQUNhLDJCQUEyQixDQUFDSixPQUFPO1FBRS9FdUMsZUFBZSxHQUFHSix5QkFBeUIsQ0FBQ0ssVUFBVSxDQUFDeEMsT0FBTztRQUkxRHlDLFFBQVEsR0FLUmpDLGNBQWMsQ0FMZGlDLFFBQVE7UUFDUi9CLGFBQWEsR0FJYkYsY0FBYyxDQUpkRSxhQUFhO1FBQ2JnQyxjQUFjLEdBR2RsQyxjQUFjLENBSGRrQyxjQUFjO1FBQ2RDLGFBQWEsR0FFYm5DLGNBQWMsQ0FGZG1DLGFBQWE7UUFNYmhDLGtCQUFrQixHQUVsQkQsYUFBYSxDQUZiQyxrQkFBa0I7UUFNVWlDLDhCQUE4QixHQUUxRGpDLGtCQUFrQixDQUZsQlMsMkJBQTJCO1FBTTNCeUIsV0FBVyxHQVFYUix5QkFBeUIsQ0FSekJRLFdBQVc7UUFFWEMsVUFBVSxHQU1WVCx5QkFBeUIsQ0FOekJTLFVBQVU7UUFDVkMsU0FBUyxHQUtUVix5QkFBeUIsQ0FMekJVLFNBQVM7UUFDVEMsTUFBTSxHQUlOWCx5QkFBeUIsQ0FKekJXLE1BQU07UUFDTkMsbUJBQW1CLEdBR25CWix5QkFBeUIsQ0FIekJZLG1CQUFtQjtRQUNuQkMsVUFBVSxHQUVWYix5QkFBeUIsQ0FGekJhLFVBQVU7UUFNVnhCLGdCQUFnQixHQUtoQnZCLHdCQUF3QixDQUx4QnVCLGdCQUFnQjtRQUNoQnJCLGtCQUFrQixHQUlsQkYsd0JBQXdCLENBSnhCRSxrQkFBa0I7UUFDbEI4QyxZQUFZLEdBR1poRCx3QkFBd0IsQ0FIeEJnRCxZQUFZO1FBQ1pDLFFBQVEsR0FFUmpELHdCQUF3QixDQUZ4QmlELFFBQVE7UUFNQ0MsWUFBWSxHQVFyQjNCLGdCQUFnQixDQVJoQlQsUUFBUTtRQUVIcUMsUUFBUSxHQU1iNUIsZ0JBQWdCLENBTmhCUCxJQUFJO1FBQ0pvQyxVQUFVLEdBS1Y3QixnQkFBZ0IsQ0FMaEI2QixVQUFVO1FBQ0RDLFlBQVksR0FJckI5QixnQkFBZ0IsQ0FKaEIrQixRQUFRO1FBTVpDLGFBQWEsR0FDVGIsV0FBVyxJQUFJLFVBQVUsR0FDckJNLFlBQVksQ0FBQ1EsR0FBRyxHQUNoQlIsWUFBWSxDQUFDUyxJQUFJO1FBRXpCckQsYUFBYSxHQUFHZixLQUFJLENBQUNDLE9BQU87UUFFNUJvRSxTQUFTLEdBQ0xoQixXQUFXLElBQUksVUFBVSxHQUNyQk8sUUFBUSxDQUFDVSxNQUFNLEdBQ2ZWLFFBQVEsQ0FBQ1csR0FBRztNQUV4QixJQUFNMUMsaUNBQWlDLEdBQU1WLGtCQUFrQixDQUF6RFUsaUNBQWlDO01BRXZDO01BRUE7TUFDQSxJQUFJMkMsNEJBQTRCLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDdEIsOEJBQThCLEVBQUNVLFFBQVEsR0FBRyxDQUFDLENBQUM7TUFDeEZVLDRCQUE0QixHQUFHQyxJQUFJLENBQUNFLEdBQUcsQ0FBQ0gsNEJBQTRCLEVBQUUsQ0FBQyxDQUFDO01BRXhFO01BQ0EsSUFBSUkseUJBQXlCLEdBQUlKLDRCQUE0QixHQUFHWCxZQUFZO01BRTVFO01BQ0FlLHlCQUF5QixJQUNyQkEseUJBQXlCLEdBQUcsQ0FBQyxHQUN4QkEseUJBQXlCLEdBQUdiLFVBQVUsR0FDbENBLFVBQVUsR0FBR1UsSUFBSSxDQUFDSSxHQUFHLENBQUNELHlCQUF5QixHQUFHYixVQUFVLENBQUMsR0FDOUQsQ0FBQyxHQUNMYSx5QkFBeUIsR0FBR2IsVUFBVTtNQUU5QztNQUNBLElBQUksQ0FDQSxhQUFhLEVBQ2Isc0JBQXNCLEVBQ3RCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsVUFBVSxDQUNiLENBQUNlLFFBQVEsQ0FBQ3BDLFdBQVcsQ0FBQyxFQUFFO1FBRXJCYixpQ0FBaUMsR0FDNUIrQyx5QkFBeUIsSUFBSWYsWUFBWSxHQUN0Q0ssYUFBYSxHQUNiRyxTQUFTLEVBQUM7OztNQUl0QixJQUNJVSxrQkFBa0IsR0FBRyxFQUFFO1FBRXZCO1FBRUFDLGtCQUFrQixHQUNkLENBQUUzQixXQUFXLElBQUksVUFBVSxHQUN2QkMsVUFBVSxHQUNWQyxTQUFTLElBQ1hjLFNBQVM7TUFFbkIsSUFBQVksSUFBQSxHQVlJLElBQUFwRixrQkFBQSxDQUFBcUYsZ0NBQWdDLEVBQUM7VUFFN0I7VUFDQUYsa0JBQWtCLEVBQWxCQSxrQkFBa0I7VUFDbEJuRCxpQ0FBaUMsRUFBakNBLGlDQUFpQztVQUVqQztVQUNBc0Qsd0JBQXdCLEVBQUNQLHlCQUF5QjtVQUVsRDtVQUNBL0IseUJBQXlCLEVBQXpCQSx5QkFBeUI7VUFDekJsQyx3QkFBd0IsRUFBeEJBO1NBRUgsQ0FBQztRQXRCRnlFLDBCQUEwQixHQUFBSCxJQUFBLENBQTFCRywwQkFBMEI7UUFDMUJELHdCQUF3QixHQUFBRixJQUFBLENBQXhCRSx3QkFBd0I7UUFHRkUsa0JBQWtCLEdBQUFKLElBQUEsQ0FBeENLLHFCQUFxQjtRQUdvQkMsa0NBQWtDLEdBQUFOLElBQUEsQ0FBM0VPLHdDQUF3QztNQWlCNUMsSUFBTUMsMkJBQTJCLEdBQUc1RCxpQ0FBaUMsRUFBQztNQUV0RTtNQUVBO01BQ0EsSUFBQTZELEtBQUEsR0FBeUIsSUFBQTdGLGtCQUFBLENBQUE4Rix5QkFBeUIsRUFBQztVQUUvQzFDLFFBQVEsRUFBUkEsUUFBUTtVQUNSSix5QkFBeUIsRUFBekJBLHlCQUF5QjtVQUN6QmxDLHdCQUF3QixFQUF4QkEsd0JBQXdCO1VBQ3hCMEUsa0JBQWtCLEVBQWxCQSxrQkFBa0I7VUFDbEJPLG9CQUFvQixFQUFDUiwwQkFBMEI7VUFDL0NTLG9CQUFvQixFQUFDLENBQUM7VUFDdEJDLGtCQUFrQixFQUFDVCxrQkFBa0I7VUFDckNOLGtCQUFrQixFQUFsQkEsa0JBQWtCO1VBQ2xCeEUsb0JBQW9CLEVBQUNQLEtBQUksQ0FBQ08sb0JBQW9CO1VBQzlDaUQsTUFBTSxFQUFOQSxNQUFNO1VBQ05DLG1CQUFtQixFQUFuQkE7U0FFSCxDQUFDO1FBQUFzQyxLQUFBLEdBQUFqSyxjQUFBLENBQUE0SixLQUFBO1FBZEtNLGNBQWMsR0FBQUQsS0FBQTtNQWdCckI7TUFDQWxGLGtCQUFrQixDQUFDYyxJQUFJLEdBQUdxRSxjQUFjLENBQUM5SSxNQUFNO01BQy9DLElBQUkyRCxrQkFBa0IsQ0FBQ2MsSUFBSSxFQUFFO1FBRXpCLElBQ0lGLFFBQVEsR0FBR3VFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQzNILEtBQUssQ0FBQzRILEtBQUs7VUFDeEN6RSxTQUFTLEdBQUdDLFFBQVEsR0FBR1osa0JBQWtCLENBQUNjLElBQUksR0FBRyxDQUFDO1FBRXREbEYsTUFBTSxDQUFDNEUsTUFBTSxDQUFDUixrQkFBa0IsRUFDaEM7VUFDSVksUUFBUSxFQUFSQSxRQUFRO1VBQ1JELFNBQVMsRUFBVEEsU0FBUztVQUNURSxrQkFBa0IsRUFBQ3lELHdCQUF3QjtVQUMzQzdELEdBQUcsRUFBRVksZ0JBQWdCLENBQUNULFFBQVEsSUFBSUEsUUFBUztVQUMzQ0YsR0FBRyxFQUFFVyxnQkFBZ0IsQ0FBQ1YsU0FBUyxJQUFJQTtTQUN0QyxDQUFDO1FBRUYsSUFBSVgsa0JBQWtCLENBQUNTLEdBQUcsSUFBSSxDQUFDSixhQUFhLENBQUNnRixTQUFTLEVBQUU7VUFDcERoRixhQUFhLENBQUNnRixTQUFTLEdBQUcsSUFBSTs7UUFFbEMsSUFBSXJGLGtCQUFrQixDQUFDVSxHQUFHLElBQUksQ0FBQ0wsYUFBYSxDQUFDaUYsU0FBUyxFQUFFO1VBQ3BEakYsYUFBYSxDQUFDaUYsU0FBUyxHQUFHLElBQUk7O09BR3JDLE1BQU07UUFFSDFKLE1BQU0sQ0FBQzRFLE1BQU0sQ0FBQ1Isa0JBQWtCLEVBQ2hDO1VBQ0lZLFFBQVEsRUFBQ2xDLFNBQVM7VUFDbEJpQyxTQUFTLEVBQUNqQyxTQUFTO1VBQ25CbUMsa0JBQWtCLEVBQUNuQyxTQUFTO1VBQzVCK0IsR0FBRyxFQUFDL0IsU0FBUztVQUNiZ0MsR0FBRyxFQUFDaEM7U0FDUCxDQUFDOztNQUlOO01BQ0EsSUFBSTZHLFNBQVM7TUFDYixJQUFJdkYsa0JBQWtCLENBQUNTLEdBQUcsS0FBSyxJQUFJLElBQy9CLEVBQUVZLGdCQUFnQixDQUFDbUUsYUFBYSxLQUFLOUcsU0FBUyxJQUM5QzJDLGdCQUFnQixDQUFDbUUsYUFBYSxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ3ZDRCxTQUFTLE1BQUFFLE1BQUEsQ0FBTXBFLGdCQUFnQixDQUFDbUUsYUFBYSxHQUFHLENBQUMsQ0FBRTtPQUN0RCxNQUFNO1FBQ0hELFNBQVMsR0FBRyxPQUFPOztNQUd2QixJQUFNRyxjQUFjLEdBQUdQLGNBQWMsQ0FBQyxDQUFDLENBQUM7TUFFeEMsSUFBSSxDQUFDTyxjQUFjLEVBQUUsT0FBTSxDQUFDO01BRTVCLElBQUlDLGNBQWM7TUFDbEIsSUFBSW5ELFdBQVcsSUFBSSxVQUFVLEVBQUU7UUFDM0JtRCxjQUFjLEdBQUc7VUFBQ0MsZUFBZSxFQUFDTDtRQUFTLENBQUM7T0FDL0MsTUFBTTtRQUNISSxjQUFjLEdBQUc7VUFBQ0UsWUFBWSxFQUFDTjtRQUFTLENBQUM7O01BRTdDLElBQU1PLGdCQUFnQixHQUFHakgsT0FBQSxXQUFLLENBQUNrSCxZQUFZLENBQUNMLGNBQWMsRUFBQztRQUFDQyxjQUFjLEVBQWRBO01BQWMsQ0FBQyxDQUFDO01BQzVFUixjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUdXLGdCQUFnQjtNQUVwQyxJQUFBRSxLQUFBLEdBQTJDLElBQUFoSCxrQkFBQSxDQUFBaUgsbUJBQW1CLEVBQUM7VUFFM0RDLFdBQVcsRUFBQ2YsY0FBYztVQUMxQnRFLGtCQUFrQixFQUFDeUQsd0JBQXdCO1VBQzNDakUsYUFBYSxFQUFiQTtVQUNBO1NBRUgsQ0FBQztRQUFBOEYsS0FBQSxHQUFBbEwsY0FBQSxDQUFBK0ssS0FBQTtRQVBLSSxlQUFlLEdBQUFELEtBQUE7UUFBRUUsZUFBZSxHQUFBRixLQUFBO01BU3ZDakcsYUFBYSxDQUFDYixxQkFBcUIsR0FBRzhGLGNBQWM7TUFDcERqRixhQUFhLENBQUNaLG1CQUFtQixHQUFHOEcsZUFBZTtNQUNuRGxHLGFBQWEsQ0FBQ1gsbUJBQW1CLEdBQUc4RyxlQUFlO01BRW5EL0Ysa0JBQWtCLENBQUNTLDJCQUEyQixHQUFHdUQsd0JBQXdCLEdBQUd0QixZQUFZO01BQ3hGMUMsa0JBQWtCLENBQUNVLGlDQUFpQyxHQUFHNEQsMkJBQTJCO01BRWxGLElBQUl2QyxjQUFjLENBQUNpRSxTQUFTLENBQUNDLHNCQUFzQixFQUFFO1FBRWpELElBQU1DLE1BQU0sR0FBRzNFLFdBQVc7UUFFMUJRLGNBQWMsQ0FBQ2lFLFNBQVMsQ0FBQ0Msc0JBQXNCLENBRTNDakMsd0JBQXdCLEVBQUMsa0JBQWtCLEVBQUVrQyxNQUFNLENBQUM7O01BSTVEO01BRUE7TUFDQSxJQUNJQyxrQkFBa0IsR0FDZGpFLFdBQVcsSUFBSSxVQUFVLEdBQ3JCTSxZQUFZLENBQUNRLEdBQUcsR0FBR1IsWUFBWSxDQUFDNEQsTUFBTSxHQUN0QzVELFlBQVksQ0FBQ1MsSUFBSSxHQUFHVCxZQUFZLENBQUM2RCxLQUFLO1FBRTlDQyxrQkFBa0IsR0FBRzFFLGVBQWUsQ0FBQzJFLFVBQVU7UUFDL0NDLGNBQWMsR0FBSTNELFlBQVksR0FBR2dCLGtCQUFrQixHQUFJWCxTQUFTLENBQUM7UUFBQSxFQUMzRGlELGtCQUFrQixFQUFDO01BRTdCLElBQUk1RSxXQUFXLElBQUksT0FBTyxFQUFFO1FBRXhCLElBQUlXLFdBQVcsSUFBSSxVQUFVLEVBQUU7VUFFM0JvRSxrQkFBa0IsQ0FBQ0csS0FBSyxDQUFDeEQsSUFBSSxHQUFHLElBQUk7U0FFdkMsTUFBTTtVQUVIcUQsa0JBQWtCLENBQUNHLEtBQUssQ0FBQ3pELEdBQUcsR0FBRyxJQUFJOzs7TUFNM0MsSUFBSWQsV0FBVyxJQUFJLFVBQVUsRUFBRTtRQUUzQm9FLGtCQUFrQixDQUFDRyxLQUFLLENBQUN6RCxHQUFHLEdBQUcsSUFBSTtRQUNuQ3NELGtCQUFrQixDQUFDRyxLQUFLLENBQUNDLE1BQU0sR0FBR0YsY0FBYyxHQUFHLElBQUk7T0FFMUQsTUFBTTtRQUVIRixrQkFBa0IsQ0FBQ0csS0FBSyxDQUFDeEQsSUFBSSxHQUFHLElBQUk7UUFDcENxRCxrQkFBa0IsQ0FBQ0csS0FBSyxDQUFDRSxLQUFLLEdBQUdILGNBQWMsR0FBRyxJQUFJOztNQUkxRHhHLGtCQUFrQixDQUFDNEcsc0JBQXNCLEdBQUd4QyxrQ0FBa0M7TUFFOUU7TUFDQXBDLGFBQWEsQ0FBQzZFLGVBQWUsQ0FBQ3pDLGtDQUFrQyxDQUFDO01BRWpFLElBQ0kwQyxTQUFTLEdBQUdsRixlQUFlLENBQUNrRixTQUFTO1FBQ3JDQyxVQUFVLEdBQUduRixlQUFlLENBQUNtRixVQUFVO01BRTNDLElBQUlDLGFBQWE7TUFDakIsSUFBSWhILGtCQUFrQixDQUFDaUgsbUJBQW1CLElBQUksV0FBVyxFQUFFO1FBQ3ZERCxhQUFhLEdBQUc7VUFDWmhFLEdBQUcsRUFBQ2hELGtCQUFrQixDQUFDNEcsc0JBQXNCO1VBQzdDM0QsSUFBSSxFQUFDOEQsVUFBVTtVQUNmRyxRQUFRLEVBQUM7U0FDWjtPQUNKLE1BQU07UUFDSEYsYUFBYSxHQUFHO1VBQ1ovRCxJQUFJLEVBQUNqRCxrQkFBa0IsQ0FBQzRHLHNCQUFzQjtVQUM5QzVELEdBQUcsRUFBQzhELFNBQVM7VUFDYkksUUFBUSxFQUFDO1NBQ1o7O01BR0x0RixlQUFlLENBQUN1RixNQUFNLENBQUNILGFBQWEsQ0FBQztNQUVyQyxJQUNJSSxjQUFjLEdBQUdySCxhQUFhLENBQUNzSCxRQUFRO1FBRXZDQyxXQUFXLEdBQUdGLGNBQWMsQ0FBQ0csT0FBTyxDQUFDbEksT0FBTztRQUM1Q21JLFdBQVcsR0FBR0osY0FBYyxDQUFDSyxPQUFPLENBQUNwSSxPQUFPO1FBRTVDcUksOEJBQThCLEdBQzFCdEQsa0NBQWtDLEdBQUdFLDJCQUEyQjtNQUV4RSxJQUFJcEMsV0FBVyxJQUFJLFVBQVUsRUFBRTtRQUUzQixJQUFNYyxHQUFHLEdBQUcwRSw4QkFBOEIsR0FBR2xGLFlBQVksQ0FBQ1EsR0FBRztRQUU3RHNFLFdBQVcsQ0FBQ2IsS0FBSyxDQUFDekQsR0FBRyxHQUFHQSxHQUFHLEdBQUcsSUFBSTtRQUNsQ3NFLFdBQVcsQ0FBQ2IsS0FBSyxDQUFDeEQsSUFBSSxHQUFHLE1BQU07UUFFL0J1RSxXQUFXLENBQUNmLEtBQUssQ0FBQ2tCLE9BQU8sR0FDckI3QixlQUFlLENBQUMvSixNQUFNLGNBQUFvSixNQUFBLENBQ1AxQyxRQUFRLENBQUNVLE1BQU0sbUJBQ3JCO09BRWhCLE1BQU07UUFBRTtRQUVMLElBQU1GLElBQUksR0FBR3lFLDhCQUE4QixHQUFHbEYsWUFBWSxDQUFDUyxJQUFJO1FBRS9EcUUsV0FBVyxDQUFDYixLQUFLLENBQUN6RCxHQUFHLEdBQUcsTUFBTTtRQUM5QnNFLFdBQVcsQ0FBQ2IsS0FBSyxDQUFDeEQsSUFBSSxHQUFHQSxJQUFJLEdBQUcsSUFBSTtRQUVwQ3VFLFdBQVcsQ0FBQ2YsS0FBSyxDQUFDa0IsT0FBTyxHQUNyQjdCLGVBQWUsQ0FBQy9KLE1BQU0sVUFBQW9KLE1BQUEsQ0FDWDFDLFFBQVEsQ0FBQ1csR0FBRyx1QkFDZDs7SUFJckIsQ0FBQztJQUVEO0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUVPLEtBQUF3RSxtQkFBbUIsR0FBRyxZQUFLO01BRTlCOztNQUVBLElBR1FoSixnQkFBZ0IsR0FHaEJDLEtBQUksQ0FISkQsZ0JBQWdCO1FBQ1JnQixhQUFhLEdBRXJCZixLQUFJLENBRkpDLE9BQU87UUFJWDhDLGVBQWUsR0FBR2hELGdCQUFnQixDQUFDNkMsNEJBQTRCLENBQUNwQyxPQUFPLENBQUN3QyxVQUFVLENBQUN4QyxPQUFPO1FBQzFGcUMseUJBQXlCLEdBQUc5QyxnQkFBZ0IsQ0FBQytDLDRCQUE0QixDQUFDdEMsT0FBTztRQUNqRkcsd0JBQXdCLEdBQUdaLGdCQUFnQixDQUFDYSwyQkFBMkIsQ0FBQ0osT0FBTztRQUMvRVEsY0FBYyxHQUFHakIsZ0JBQWdCLENBQUNrQixXQUFXLENBQUNULE9BQU87UUFJakR5QyxRQUFRLEdBTVJqQyxjQUFjLENBTmRpQyxRQUFRO1FBQ1IvQixhQUFhLEdBS2JGLGNBQWMsQ0FMZEUsYUFBYTtRQUNiOEgsWUFBWSxHQUlaaEksY0FBYyxDQUpkZ0ksWUFBWTtRQUNaQyxnQkFBZ0IsR0FHaEJqSSxjQUFjLENBSGRpSSxnQkFBZ0I7UUFDaEIvRixjQUFjLEdBRWRsQyxjQUFjLENBRmRrQyxjQUFjO1FBTWRnRyxnQkFBZ0IsR0FHaEJELGdCQUFnQixDQUhoQkMsZ0JBQWdCO1FBQ2hCQyxnQ0FBZ0MsR0FFaENGLGdCQUFnQixDQUZoQkUsZ0NBQWdDO1FBTXRCWixjQUFjLEdBR3hCckgsYUFBYSxDQUhic0gsUUFBUTtRQUNSckgsa0JBQWtCLEdBRWxCRCxhQUFhLENBRmJDLGtCQUFrQjtRQU1sQmtDLFdBQVcsR0FVWFIseUJBQXlCLENBVnpCUSxXQUFXO1FBQ1grRixLQUFLLEdBU0x2Ryx5QkFBeUIsQ0FUekJ1RyxLQUFLO1FBQ0w1RixNQUFNLEdBUU5YLHlCQUF5QixDQVJ6QlcsTUFBTTtRQUNOQyxtQkFBbUIsR0FPbkJaLHlCQUF5QixDQVB6QlksbUJBQW1CO1FBQ25CNEYsTUFBTSxHQU1OeEcseUJBQXlCLENBTnpCd0csTUFBTTtRQUNOL0YsVUFBVSxHQUtWVCx5QkFBeUIsQ0FMekJTLFVBQVU7UUFDVkMsU0FBUyxHQUlUVix5QkFBeUIsQ0FKekJVLFNBQVM7UUFFVEcsVUFBVSxHQUVWYix5QkFBeUIsQ0FGekJhLFVBQVU7UUFNVnhCLGdCQUFnQixHQUtoQnZCLHdCQUF3QixDQUx4QnVCLGdCQUFnQjtRQUNoQnJCLGtCQUFrQixHQUlsQkYsd0JBQXdCLENBSnhCRSxrQkFBa0I7UUFDbEI4QyxZQUFZLEdBR1poRCx3QkFBd0IsQ0FIeEJnRCxZQUFZO1FBQ1pDLFFBQVEsR0FFUmpELHdCQUF3QixDQUZ4QmlELFFBQVE7UUFNUkcsVUFBVSxHQUdWN0IsZ0JBQWdCLENBSGhCNkIsVUFBVTtRQUNERixZQUFZLEdBRXJCM0IsZ0JBQWdCLENBRmhCVCxRQUFRO1FBS1o2SCxnQkFBZ0IsR0FDWGpHLFdBQVcsSUFBSSxVQUFVLEdBQ3RCTixlQUFlLENBQUNrRixTQUFTLEdBQ3pCbEYsZUFBZSxDQUFDbUYsVUFBVTtRQUVsQ3FCLGdCQUFnQixHQUFHeEksYUFBYSxDQUFDYixxQkFBcUIsSUFBSSxFQUFFO1FBRTVEc0osNEJBQTRCLEdBQUksRUFBQUMsRUFBQSxHQUFBRixnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsY0FBQUUsRUFBQSx1QkFBQUEsRUFBQSxDQUFFcEwsS0FBSyxDQUFDNEgsS0FBSyxLQUFJLENBQUM7TUFFekU7TUFFQTtNQUNBLElBQUF5RCxLQUFBLEdBZUksSUFBQTdKLGtCQUFBLENBQUE4SixtQkFBbUIsRUFBQztVQUVwQlQsZ0JBQWdCLEVBQWhCQSxnQkFBZ0I7VUFDaEJDLGdDQUFnQyxFQUFoQ0EsZ0NBQWdDO1VBQ2hDRyxnQkFBZ0IsRUFBaEJBLGdCQUFnQjtVQUNoQjdCLGtCQUFrQixFQUFFMUUsZUFBZSxDQUFDMkUsVUFBVTtVQUU5QzdFLHlCQUF5QixFQUF6QkEseUJBQXlCO1VBQ3pCbEMsd0JBQXdCLEVBQXhCQSx3QkFBd0I7VUFDeEJFLGtCQUFrQixFQUFsQkEsa0JBQWtCO1VBQ2xCcUIsZ0JBQWdCLEVBQWhCQSxnQkFBZ0I7VUFDaEJuQixhQUFhLEVBQWJBLGFBQWE7VUFDYndILGNBQWMsRUFBZEE7U0FFSCxDQUFDO1FBMUI0QnFCLGVBQWUsR0FBQUYsS0FBQSxDQUF6Q0csd0JBQXdCO1FBQ0RuSSxrQkFBa0IsR0FBQWdJLEtBQUEsQ0FBekNJLHFCQUFxQjtRQUNHQyxhQUFhLEdBQUFMLEtBQUEsQ0FBckNNLHNCQUFzQjtRQUdDM0Usa0JBQWtCLEdBQUFxRSxLQUFBLENBQXpDcEUscUJBQXFCO1FBQ3JCTyxvQkFBb0IsR0FBQTZELEtBQUEsQ0FBcEI3RCxvQkFBb0I7UUFDcEJDLGtCQUFrQixHQUFBNEQsS0FBQSxDQUFsQjVELGtCQUFrQjtRQUdsQm1FLDhCQUE4QixHQUFBUCxLQUFBLENBQTlCTyw4QkFBOEI7TUFrQmxDLElBQ0l4RSwyQkFBMkIsR0FBR3dFLDhCQUE4QjtRQUM1REMsT0FBTyxHQUFHLEVBQUdILGFBQWEsSUFBSSxDQUFDLElBQU1ILGVBQWUsSUFBSSxDQUFFLENBQUM7UUFDM0RuQixXQUFXLEdBQUdGLGNBQWMsQ0FBQ0csT0FBTyxDQUFDbEksT0FBTztRQUM1Q21JLFdBQVcsR0FBR0osY0FBYyxDQUFDSyxPQUFPLENBQUNwSSxPQUFPO01BRWhEO01BQ0E7TUFDQTtNQUNBeUksZ0JBQWdCLENBQUNrQixxQkFBcUIsQ0FBQ0MsVUFBVSxFQUFFO01BRW5EO01BQ0EsSUFBSSxDQUFDRixPQUFPLEVBQUU7UUFBRTtRQUVaLElBQUliLE1BQU0sSUFBSSxTQUFTLEVBQUU7VUFBQztVQUV0QmxJLGtCQUFrQixDQUFDVSxpQ0FBaUMsR0FBRzdCLEtBQUksQ0FBQ3FLLFlBQVksQ0FBQztZQUNyRWhCLE1BQU0sRUFBTkEsTUFBTTtZQUFFaEcsV0FBVyxFQUFYQSxXQUFXO1lBQUVNLFlBQVksRUFBWkEsWUFBWTtZQUFFQyxRQUFRLEVBQVJBLFFBQVE7WUFBRU4sVUFBVSxFQUFWQSxVQUFVO1lBQUVDLFNBQVMsRUFBVEEsU0FBUztZQUNsRVEsVUFBVSxFQUFWQSxVQUFVO1lBQ1ZyQyxrQkFBa0IsRUFBbEJBLGtCQUFrQjtZQUFFK0QsMkJBQTJCLEVBQTNCQSwyQkFBMkI7WUFBRTZELGdCQUFnQixFQUFoQkEsZ0JBQWdCO1lBQ2pFZ0IsV0FBVyxFQUFDdkosYUFBYSxDQUFDWixtQkFBbUI7WUFDN0NzSSxXQUFXLEVBQVhBLFdBQVc7WUFBRUUsV0FBVyxFQUFYQSxXQUFXO1lBQUU5RSxZQUFZLEVBQVpBO1dBQzdCLENBQUM7U0FFTCxNQUFNO1VBRUgxQyxrQkFBa0IsQ0FBQ1UsaUNBQWlDLEdBQUc0RCwyQkFBMkI7O1FBSXRGOztNQUlKO01BRUE7TUFDQSxJQUFJOEUsa0JBQWtCO1FBQUVDLG1CQUFtQixHQUFHLEVBQUU7TUFFaEQsSUFBSTNFLG9CQUFvQixJQUFJQyxrQkFBa0IsRUFBRTtRQUFFO1FBQUEsSUFBQTJFLEtBQUEsR0FFQSxJQUFBNUssa0JBQUEsQ0FBQThGLHlCQUF5QixFQUFDO1VBQ3BFMUMsUUFBUSxFQUFSQSxRQUFRO1VBQ1JKLHlCQUF5QixFQUF6QkEseUJBQXlCO1VBQ3pCbEMsd0JBQXdCLEVBQXhCQSx3QkFBd0I7VUFDeEIwRSxrQkFBa0IsRUFBbEJBLGtCQUFrQjtVQUNsQk4sa0JBQWtCLEVBQUN3RSxnQkFBZ0I7VUFDbkMxRCxvQkFBb0IsRUFBcEJBLG9CQUFvQjtVQUNwQkMsa0JBQWtCLEVBQWxCQSxrQkFBa0I7VUFDbEJGLG9CQUFvQixFQUFDNEQsNEJBQTRCO1VBQ2pEakosb0JBQW9CLEVBQUNQLEtBQUksQ0FBQ08sb0JBQW9CO1VBQzlDaUQsTUFBTSxFQUFOQSxNQUFNO1VBQ05DLG1CQUFtQixFQUFuQkE7U0FDSCxDQUFDO1FBQUEsSUFBQWlILEtBQUEsR0FBQTVPLGNBQUEsQ0FBQTJPLEtBQUE7UUFaQUYsa0JBQWtCLEdBQUFHLEtBQUE7UUFBRUYsbUJBQW1CLEdBQUFFLEtBQUE7UUFjekM3SixrQkFBa0IsQ0FBQ2MsSUFBSSxHQUFHNEksa0JBQWtCLENBQUNyTixNQUFNO1FBRW5ELElBQUkyRCxrQkFBa0IsQ0FBQ2MsSUFBSSxFQUFFO1VBRXpCLElBQ0lGLFFBQVEsR0FBRzhJLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDbE0sS0FBSyxDQUFDNEgsS0FBSztZQUM1Q3pFLFNBQVMsR0FBR0MsUUFBUSxHQUFHWixrQkFBa0IsQ0FBQ2MsSUFBSSxHQUFHLENBQUM7VUFFdERsRixNQUFNLENBQUM0RSxNQUFNLENBQUNSLGtCQUFrQixFQUNoQztZQUNJWSxRQUFRLEVBQVJBLFFBQVE7WUFDUkQsU0FBUyxFQUFUQSxTQUFTO1lBQ1RFLGtCQUFrQixFQUFsQkEsa0JBQWtCO1lBQ2xCSixHQUFHLEVBQUVZLGdCQUFnQixDQUFDVCxRQUFRLElBQUlBLFFBQVM7WUFDM0NGLEdBQUcsRUFBRVcsZ0JBQWdCLENBQUNWLFNBQVMsSUFBSUE7V0FDdEMsQ0FBQztVQUdGLElBQUlYLGtCQUFrQixDQUFDUyxHQUFHLElBQUksQ0FBQ0osYUFBYSxDQUFDZ0YsU0FBUyxFQUFFO1lBQ3BEaEYsYUFBYSxDQUFDZ0YsU0FBUyxHQUFHLElBQUk7O1VBRWxDLElBQUlyRixrQkFBa0IsQ0FBQ1UsR0FBRyxJQUFJLENBQUNMLGFBQWEsQ0FBQ2lGLFNBQVMsRUFBRTtZQUNwRGpGLGFBQWEsQ0FBQ2lGLFNBQVMsR0FBRyxJQUFJOztTQUdyQyxNQUFNO1VBRUgxSixNQUFNLENBQUM0RSxNQUFNLENBQUNSLGtCQUFrQixFQUNoQztZQUNJWSxRQUFRLEVBQUNsQyxTQUFTO1lBQ2xCaUMsU0FBUyxFQUFDakMsU0FBUztZQUNuQm1DLGtCQUFrQixFQUFDbkMsU0FBUztZQUM1QitCLEdBQUcsRUFBQy9CLFNBQVM7WUFDYmdDLEdBQUcsRUFBQ2hDO1dBQ1AsQ0FBQzs7UUFJTixJQUFJNkcsU0FBUztRQUNiLElBQUl2RixrQkFBa0IsQ0FBQ1MsR0FBRyxLQUFLLElBQUksSUFDL0IsRUFBRVksZ0JBQWdCLENBQUNtRSxhQUFhLEtBQUs5RyxTQUFTLElBQzlDMkMsZ0JBQWdCLENBQUNtRSxhQUFhLEtBQUssQ0FBQyxDQUFDLEVBQUU7VUFDdkNELFNBQVMsTUFBQUUsTUFBQSxDQUFNcEUsZ0JBQWdCLENBQUNtRSxhQUFhLEdBQUcsQ0FBQyxDQUFFO1NBQ3RELE1BQU07VUFDSEQsU0FBUyxHQUFHLE9BQU87O1FBR3ZCLElBQ0lHLGNBQWMsR0FBR2dFLGtCQUFrQixDQUFDLENBQUMsQ0FBQztVQUN0Qy9ELGNBQWMsR0FDVG5ELFdBQVcsSUFBSSxVQUFVLEdBQ3RCO1lBQUVvRCxlQUFlLEVBQUNMO1VBQVMsQ0FBRSxHQUM3QjtZQUFFTSxZQUFZLEVBQUNOO1VBQVMsQ0FBRTtVQUNsQ08sZ0JBQWdCLEdBQUdqSCxPQUFBLFdBQUssQ0FBQ2tILFlBQVksQ0FBQ0wsY0FBYyxFQUFDO1lBQUNDLGNBQWMsRUFBZEE7VUFBYyxDQUFDLENBQUM7UUFFMUUrRCxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsR0FBRzVELGdCQUFnQjtPQUUzQyxNQUFNO1FBRUg0RCxrQkFBa0IsR0FBR2hCLGdCQUFnQjtRQUNyQzlNLE1BQU0sQ0FBQzRFLE1BQU0sQ0FBQ1Isa0JBQWtCLEVBQUU7VUFBRWEsa0JBQWtCLEVBQWxCQTtRQUFrQixDQUFFLENBQUM7O01BSTdELElBQUk4SSxtQkFBbUIsQ0FBQ3ROLE1BQU0sSUFBS2tNLEtBQUssSUFBSSxRQUFTLEVBQUU7UUFFbkQsSUFBUXVCLGtCQUFrQixHQUFLekgsY0FBYyxDQUFDaUUsU0FBUyxDQUEvQ3dELGtCQUFrQjtRQUUxQixJQUFJQyxhQUFhO1FBQ2pCLElBQUlELGtCQUFrQixFQUFFO1VBQ3BCQyxhQUFhLEdBQUcsU0FBQUEsY0FBQ0MsVUFBVSxFQUFJO1lBRTNCRixrQkFBa0IsQ0FBQyxzQkFBc0IsRUFBQ0UsVUFBVSxDQUFDO1VBRXpELENBQUM7O1FBSUwsSUFBQWhMLGtCQUFBLENBQUFpTCxhQUFhLEVBQUM3SCxRQUFRLEVBQUV1SCxtQkFBbUIsRUFBRUksYUFBYSxDQUFDOztNQUkvRDtNQUVBLElBQUFHLEtBQUEsR0FBcUMsSUFBQWxMLGtCQUFBLENBQUFpSCxtQkFBbUIsRUFDcEQ7VUFDSUMsV0FBVyxFQUFDd0Qsa0JBQWtCO1VBQzlCN0ksa0JBQWtCLEVBQWxCQSxrQkFBa0I7VUFDbEJSLGFBQWEsRUFBYkE7VUFDQTtTQUNILENBQ0o7UUFBQThKLE1BQUEsR0FBQWxQLGNBQUEsQ0FBQWlQLEtBQUE7UUFQT1QsV0FBVyxHQUFBVSxNQUFBO1FBQUVDLFdBQVcsR0FBQUQsTUFBQTtNQVNoQ2pLLGFBQWEsQ0FBQ2IscUJBQXFCLEdBQUdxSyxrQkFBa0I7TUFDeER4SixhQUFhLENBQUNaLG1CQUFtQixHQUFHbUssV0FBVztNQUMvQ3ZKLGFBQWEsQ0FBQ1gsbUJBQW1CLEdBQUc2SyxXQUFXO01BRS9DLElBQUkvSCxjQUFjLENBQUNpRSxTQUFTLENBQUNDLHNCQUFzQixFQUFFO1FBRWpELElBQU1DLE1BQU0sR0FBRzJCLFlBQVksQ0FBQ2tDLGNBQWMsQ0FBQzFLLE9BQU87UUFFbEQwQyxjQUFjLENBQUNpRSxTQUFTLENBQUNDLHNCQUFzQixDQUUzQzFGLGtCQUFrQixFQUFDLHFCQUFxQixFQUFFMkYsTUFBTSxDQUFDOztNQUl6RDtNQUVBbEcsa0JBQWtCLENBQUNTLDJCQUEyQixHQUFHRixrQkFBa0IsR0FBR21DLFlBQVk7TUFDbEYxQyxrQkFBa0IsQ0FBQ1UsaUNBQWlDLEdBQUc0RCwyQkFBMkI7TUFFbEYsSUFBSXlFLE9BQU8sRUFBRWpILFFBQVEsQ0FBQ2tJLGlCQUFpQixFQUFFO01BRXpDLElBQUk5QixNQUFNLElBQUksU0FBUyxFQUFFO1FBQUM7UUFFdEJsSSxrQkFBa0IsQ0FBQ1UsaUNBQWlDLEdBQUc3QixLQUFJLENBQUNxSyxZQUFZLENBQUM7VUFDckVoQixNQUFNLEVBQU5BLE1BQU07VUFBRWhHLFdBQVcsRUFBWEEsV0FBVztVQUFFTSxZQUFZLEVBQVpBLFlBQVk7VUFBRUMsUUFBUSxFQUFSQSxRQUFRO1VBQUVOLFVBQVUsRUFBVkEsVUFBVTtVQUFFQyxTQUFTLEVBQVRBLFNBQVM7VUFDbEVRLFVBQVUsRUFBVkEsVUFBVTtVQUNWckMsa0JBQWtCLEVBQWxCQSxrQkFBa0I7VUFBRStELDJCQUEyQixFQUEzQkEsMkJBQTJCO1VBQUU2RCxnQkFBZ0IsRUFBaEJBLGdCQUFnQjtVQUNqRWdCLFdBQVcsRUFBWEEsV0FBVztVQUNYN0IsV0FBVyxFQUFYQSxXQUFXO1VBQUVFLFdBQVcsRUFBWEEsV0FBVztVQUFFOUUsWUFBWSxFQUFaQTtTQUM3QixDQUFDOztNQUlOO01BQ0E5QyxhQUFhLENBQUNWLHFCQUFxQixHQUFHVSxhQUFhLENBQUNaLG1CQUFtQjtNQUN2RVksYUFBYSxDQUFDVCxxQkFBcUIsR0FBR1MsYUFBYSxDQUFDWCxtQkFBbUI7SUFFM0UsQ0FBQztJQUVEO0lBQ1EsS0FBQWlLLFlBQVksR0FBRyxVQUFBZSxNQUFBLEVBTWxCO01BQUEsSUFMRC9CLE1BQU0sR0FBQStCLE1BQUEsQ0FBTi9CLE1BQU07UUFBRWhHLFdBQVcsR0FBQStILE1BQUEsQ0FBWC9ILFdBQVc7UUFBRU0sWUFBWSxHQUFBeUgsTUFBQSxDQUFaekgsWUFBWTtRQUFFQyxRQUFRLEdBQUF3SCxNQUFBLENBQVJ4SCxRQUFRO1FBQUVOLFVBQVUsR0FBQThILE1BQUEsQ0FBVjlILFVBQVU7UUFBRUMsU0FBUyxHQUFBNkgsTUFBQSxDQUFUN0gsU0FBUztRQUNsRVEsVUFBVSxHQUFBcUgsTUFBQSxDQUFWckgsVUFBVTtRQUNWckMsa0JBQWtCLEdBQUEwSixNQUFBLENBQWxCMUosa0JBQWtCO1FBQUUrRCwyQkFBMkIsR0FBQTJGLE1BQUEsQ0FBM0IzRiwyQkFBMkI7UUFBRTZELGdCQUFnQixHQUFBOEIsTUFBQSxDQUFoQjlCLGdCQUFnQjtRQUNqRWdCLFdBQVcsR0FBQWMsTUFBQSxDQUFYZCxXQUFXO1FBQ1g3QixXQUFXLEdBQUEyQyxNQUFBLENBQVgzQyxXQUFXO1FBQUVFLFdBQVcsR0FBQXlDLE1BQUEsQ0FBWHpDLFdBQVc7UUFBRTlFLFlBQVksR0FBQXVILE1BQUEsQ0FBWnZILFlBQVk7TUFHdEMsSUFDSXdILGtCQUFrQixHQUFHNUcsSUFBSSxDQUFDNkcsSUFBSSxDQUFFLENBQUU1SixrQkFBa0IsR0FBR21DLFlBQVksSUFBR0UsVUFBVSxDQUFFO1FBRWxGTSxTQUFTLEdBQ0xoQixXQUFXLElBQUksVUFBVSxHQUNyQk8sUUFBUSxDQUFDVSxNQUFNLEdBQ2ZWLFFBQVEsQ0FBQ1csR0FBRztRQUVwQmdILGNBQWMsR0FDVixDQUFFbEksV0FBVyxJQUFJLFVBQVUsR0FDdkJDLFVBQVUsR0FDVkMsU0FBUyxJQUNYYyxTQUFTO1FBRWZILGFBQWEsR0FDVGIsV0FBVyxJQUFJLFVBQVUsR0FDckJNLFlBQVksQ0FBQ1EsR0FBRyxHQUNoQlIsWUFBWSxDQUFDUyxJQUFJO1FBRXpCb0gsYUFBYSxHQUFJRCxjQUFjLEdBQUdGLGtCQUFrQixHQUFJbkgsYUFBYSxHQUFHdUIsMkJBQTJCO1FBRW5HZ0csVUFBVSxHQUFHRCxhQUFhLEdBQUdsQyxnQkFBZ0I7TUFFakQsSUFBSW1DLFVBQVUsRUFBRTtRQUVaaEcsMkJBQTJCLElBQUlnRyxVQUFVOztNQUk3QztNQUNBLElBQUlDLFVBQVUsRUFBRUMsV0FBVztNQUMzQixJQUFJdEksV0FBVyxJQUFJLFVBQVUsRUFBRTtRQUUzQnFJLFVBQVUsR0FBR3BDLGdCQUFnQixHQUFHN0QsMkJBQTJCLEdBQUc5QixZQUFZLENBQUNRLEdBQUc7UUFFOUVzRSxXQUFXLENBQUNiLEtBQUssQ0FBQ3pELEdBQUcsR0FBR3VILFVBQVUsR0FBRyxJQUFJO1FBQ3pDakQsV0FBVyxDQUFDYixLQUFLLENBQUN4RCxJQUFJLEdBQUcsTUFBTTtRQUUvQnVFLFdBQVcsQ0FBQ2YsS0FBSyxDQUFDa0IsT0FBTyxHQUNyQndCLFdBQVcsQ0FBQ3BOLE1BQU0sY0FBQW9KLE1BQUEsQ0FDSDFDLFFBQVEsQ0FBQ1UsTUFBTSxtQkFDckI7T0FFaEIsTUFBTTtRQUFFO1FBRUxxSCxXQUFXLEdBQUdyQyxnQkFBZ0IsR0FBRzdELDJCQUEyQixHQUFHOUIsWUFBWSxDQUFDUyxJQUFJO1FBRWhGcUUsV0FBVyxDQUFDYixLQUFLLENBQUN6RCxHQUFHLEdBQUcsTUFBTTtRQUM5QnNFLFdBQVcsQ0FBQ2IsS0FBSyxDQUFDeEQsSUFBSSxHQUFHdUgsV0FBVyxHQUFHLElBQUk7UUFFM0NoRCxXQUFXLENBQUNmLEtBQUssQ0FBQ2tCLE9BQU8sR0FDckJ3QixXQUFXLENBQUNwTixNQUFNLFVBQUFvSixNQUFBLENBQ1AxQyxRQUFRLENBQUNXLEdBQUcsdUJBQ2Q7O01BR2pCLE9BQU9rQiwyQkFBMkI7SUFFdEMsQ0FBQztJQW1CTSxLQUFBbUcsK0JBQStCLEdBQUcsVUFBQ0MsTUFBTSxFQUFJO01BTTVDO01BSko7TUFFQTs7TUFHSSxJQUFFOUwsZ0JBQWdCLEdBQUtDLEtBQUksQ0FBekJELGdCQUFnQjtRQUNsQmlCLGNBQWMsR0FBR2pCLGdCQUFnQixDQUFDa0IsV0FBVyxDQUFDVCxPQUFPO1FBQ3JEbUMseUJBQXlCLEdBQUc1QyxnQkFBZ0IsQ0FBQzZDLDRCQUE0QixDQUFDcEMsT0FBTztRQUNqRnFDLHlCQUF5QixHQUFHOUMsZ0JBQWdCLENBQUMrQyw0QkFBNEIsQ0FBQ3RDLE9BQU87UUFDakZHLHdCQUF3QixHQUFHWixnQkFBZ0IsQ0FBQ2EsMkJBQTJCLENBQUNKLE9BQU87UUFJM0VVLGFBQWEsR0FJYkYsY0FBYyxDQUpkRSxhQUFhO1FBQ2JpQyxhQUFhLEdBR2JuQyxjQUFjLENBSGRtQyxhQUFhO1FBQ2I4RixnQkFBZ0IsR0FFaEJqSSxjQUFjLENBRmRpSSxnQkFBZ0I7UUFPTlYsY0FBYyxHQUd4QnJILGFBQWEsQ0FIYnNILFFBQVE7UUFDUnJILGtCQUFrQixHQUVsQkQsYUFBYSxDQUZiQyxrQkFBa0I7UUFPVzJLLHFCQUFxQixHQUdsRDNLLGtCQUFrQixDQUhsQlMsMkJBQTJCO1FBQ1E2RCwyQkFBMkIsR0FFOUR0RSxrQkFBa0IsQ0FGbEJVLGlDQUFpQztRQUtyQ2tCLGVBQWUsR0FBR0oseUJBQXlCLENBQUNLLFVBQVUsQ0FBQ3hDLE9BQU87UUFDOURpSCxrQkFBa0IsR0FBRzFFLGVBQWUsQ0FBQzJFLFVBQVU7UUFDL0NxRSxlQUFlLEdBQUd4RCxjQUFjLENBQUNLLE9BQU8sQ0FBQ3BJLE9BQU87UUFDaER3TCxlQUFlLEdBQUd6RCxjQUFjLENBQUMwRCxPQUFPLENBQUN6TCxPQUFPO1FBQ2hEaUksV0FBVyxHQUFHRixjQUFjLENBQUNHLE9BQU8sQ0FBQ2xJLE9BQU87UUFLeEM2QyxXQUFXLEdBS1hSLHlCQUF5QixDQUx6QlEsV0FBVztRQUVYQyxVQUFVLEdBR1ZULHlCQUF5QixDQUh6QlMsVUFBVTtRQUNWQyxTQUFTLEdBRVRWLHlCQUF5QixDQUZ6QlUsU0FBUztRQU1UckIsZ0JBQWdCLEdBSWhCdkIsd0JBQXdCLENBSnhCdUIsZ0JBQWdCO1FBQ2hCeUIsWUFBWSxHQUdaaEQsd0JBQXdCLENBSHhCZ0QsWUFBWTtRQUNaQyxRQUFRLEdBRVJqRCx3QkFBd0IsQ0FGeEJpRCxRQUFRO1FBTVJHLFVBQVUsR0FLVjdCLGdCQUFnQixDQUxoQjZCLFVBQVU7UUFDREMsWUFBWSxHQUlyQjlCLGdCQUFnQixDQUpoQitCLFFBQVE7UUFDQ0osWUFBWSxHQUdyQjNCLGdCQUFnQixDQUhoQlQsUUFBUTtRQUNDeUssWUFBWSxHQUVyQmhLLGdCQUFnQixDQUZoQmlLLFFBQVE7O01BSWhCO01BRUE7TUFDQSxJQUFJaEosYUFBYSxDQUFDaUosV0FBVyxJQUFJcE0sS0FBSSxDQUFDcU0sa0JBQWtCLEVBQUU7UUFDdERyTSxLQUFJLENBQUNxTSxrQkFBa0IsQ0FBQ2pDLFVBQVUsRUFBRTtRQUNwQ3BLLEtBQUksQ0FBQ3FNLGtCQUFrQixHQUFHOU0sU0FBUztRQUNuQytNLFlBQVksQ0FBQ3RNLEtBQUksQ0FBQ3VNLGVBQWUsQ0FBQzs7TUFHdEM7TUFFQSxJQUNJN0ssa0JBQWtCLEdBQUdvSyxxQkFBcUIsR0FBR2pJLFlBQVk7UUFDekQ7UUFDQTtRQUNBMkksWUFBWSxHQUFHL0gsSUFBSSxDQUFDNkcsSUFBSSxDQUFDUyxlQUFlLENBQUNVLFVBQVUsQ0FBQ3ZQLE1BQU0sR0FBQzZHLFVBQVUsQ0FBQztRQUN0RTJJLFlBQVksR0FBR2pJLElBQUksQ0FBQzZHLElBQUksQ0FBQ1UsZUFBZSxDQUFDUyxVQUFVLENBQUN2UCxNQUFNLEdBQUM2RyxVQUFVLENBQUM7UUFFdEU7UUFDQTRJLGdCQUFnQixHQUFHbEksSUFBSSxDQUFDbUksS0FBSyxDQUFDbEwsa0JBQWtCLEdBQUNxQyxVQUFVLENBQUM7UUFFNUQ4SSxrQkFBa0IsR0FBR0YsZ0JBQWdCLEdBQUdILFlBQVk7UUFDcERNLGFBQWEsR0FBR0gsZ0JBQWdCLElBQUlELFlBQVksR0FBRyxDQUFDLENBQUM7UUFDckRLLFdBQVcsR0FBRy9JLFlBQVksR0FBRyxDQUFDLEdBQUdrSSxZQUFZO1FBRTdDYyxpQkFBaUIsR0FBR0gsa0JBQWtCLEdBQUdYLFlBQVk7UUFDckRlLGtCQUFrQixHQUFHRixXQUFXLEdBQUdELGFBQWE7UUFFaER6SSxTQUFTLEdBQ0xoQixXQUFXLElBQUksVUFBVSxHQUNyQk8sUUFBUSxDQUFDVSxNQUFNLEdBQ2ZWLFFBQVEsQ0FBQ1csR0FBRztRQUVwQjtRQUNBZ0gsY0FBYyxHQUNWLENBQUVsSSxXQUFXLElBQUksVUFBVSxHQUN2QkMsVUFBVSxHQUNWQyxTQUFTLElBQ1RjLFNBQVM7UUFFakI2SSx1QkFBdUIsR0FDbEI3SixXQUFXLElBQUksVUFBVSxHQUN0QjJJLGVBQWUsQ0FBQ21CLFlBQVksR0FDNUJuQixlQUFlLENBQUNvQixXQUFXO1FBRW5DQyx5QkFBeUIsR0FBSUosa0JBQWtCLEdBQUcxQixjQUFlO1FBRWpFK0IsaUJBQWlCLEdBQ2JqSyxXQUFXLElBQUksVUFBVSxHQUNyQk0sWUFBWSxDQUFDNEQsTUFBTSxHQUNuQjVELFlBQVksQ0FBQzZELEtBQUs7UUFFMUIrRixtQ0FBbUMsR0FDL0JGLHlCQUF5QixHQUFHSCx1QkFBdUIsR0FBR0ksaUJBQWlCO1FBRTNFRSxpQkFBaUIsR0FDYm5LLFdBQVcsSUFBSSxVQUFVLEdBQ3JCTSxZQUFZLENBQUNRLEdBQUcsR0FDaEJSLFlBQVksQ0FBQ1MsSUFBSTtRQUV6QjtRQUNBcUosa0NBQWtDLEdBQzdCLENBQUNULGlCQUFpQixHQUFHUixZQUFZLElBQUlqQixjQUFjLEdBQUlpQyxpQkFBaUI7TUFFakZ4TixLQUFJLENBQUMwTix3QkFBd0IsR0FBR2hNLGtCQUFrQjtNQUVsRDtNQUVBdUgsZ0JBQWdCLENBQUMwRSxPQUFPLENBQUNDLCtCQUErQixHQUFHLElBQUk7TUFFL0QsSUFDSUMsMkJBQTJCLEdBQUdKLGtDQUFrQyxHQUFHRixtQ0FBbUM7UUFDdEd4RixzQkFBc0IsR0FBRzBGLGtDQUFrQyxHQUFHaEksMkJBQTJCO1FBQ3pGcUksaUNBQWlDLEdBQUcvRixzQkFBc0IsR0FBR3RDLDJCQUEyQixFQUFDO01BRTdGLElBQUlwQyxXQUFXLElBQUksVUFBVSxFQUFFO1FBRTNCb0YsV0FBVyxDQUFDYixLQUFLLENBQUN6RCxHQUFHLEdBQUkySixpQ0FBaUMsR0FBR25LLFlBQVksQ0FBQ1EsR0FBRyxHQUFJLElBQUk7UUFFckZzRCxrQkFBa0IsQ0FBQ0csS0FBSyxDQUFDQyxNQUFNLEdBQUlnRywyQkFBMkIsR0FBSSxJQUFJO09BRXpFLE1BQU07UUFBRTtRQUVMcEYsV0FBVyxDQUFDYixLQUFLLENBQUN4RCxJQUFJLEdBQUkwSixpQ0FBaUMsR0FBR25LLFlBQVksQ0FBQ1MsSUFBSSxHQUFJLElBQUk7UUFFdkZxRCxrQkFBa0IsQ0FBQ0csS0FBSyxDQUFDRSxLQUFLLEdBQUcrRiwyQkFBMkIsR0FBRyxJQUFJOztNQUd2RTtNQUVBLElBQUl4SyxXQUFXLElBQUksVUFBVSxFQUFFO1FBRTNCMEksZUFBZSxDQUFDbkUsS0FBSyxDQUFDa0IsT0FBTyxHQUN6QjBELFlBQVksY0FBQWxHLE1BQUEsQ0FDRzFDLFFBQVEsQ0FBQ1UsTUFBTSxtQkFDckI7T0FFaEIsTUFBTTtRQUVIeUgsZUFBZSxDQUFDbkUsS0FBSyxDQUFDa0IsT0FBTyxHQUN6QjBELFlBQVksVUFBQWxHLE1BQUEsQ0FDRDFDLFFBQVEsQ0FBQ1csR0FBRyx1QkFDZDs7TUFJakI7TUFDQSxJQUNJd0osaUJBQWlCLEdBQ1oxSyxXQUFXLElBQUksVUFBVSxHQUN0Qk4sZUFBZSxDQUFDa0YsU0FBUyxHQUN6QmxGLGVBQWUsQ0FBQ21GLFVBQVU7UUFFbEN1RCxVQUFVLEdBQUcxRCxzQkFBc0IsR0FBR2dHLGlCQUFpQjtNQUUzRCxJQUFJMUssV0FBVyxJQUFJLFVBQVUsRUFBRTtRQUUzQm9FLGtCQUFrQixDQUFDRyxLQUFLLENBQUN6RCxHQUFHLEdBQUcsQ0FBQ3NILFVBQVUsR0FBRyxJQUFJO09BRXBELE1BQU07UUFFSGhFLGtCQUFrQixDQUFDRyxLQUFLLENBQUN4RCxJQUFJLEdBQUcsQ0FBQ3FILFVBQVUsR0FBRyxJQUFJOztNQUl0RDtNQUNBLElBQUtJLE1BQU0sSUFBSSxXQUFXLElBQUssQ0FBQ29CLGtCQUFrQixFQUFFO1FBRWhELElBQU1qQixnQkFBZSxHQUFHekQsY0FBYyxDQUFDMEQsT0FBTyxDQUFDekwsT0FBTztRQUV0RFIsS0FBSSxDQUFDcU0sa0JBQWtCLEdBQUcsSUFBSTJCLGNBQWMsQ0FBQ2hPLEtBQUksQ0FBQ2lPLHNCQUFzQixDQUFDO1FBRXpFak8sS0FBSSxDQUFDcU0sa0JBQWtCLENBQUM2QixPQUFPLENBQUNsQyxnQkFBZSxDQUFDOztJQUl4RCxDQUFDO0lBSU8sS0FBQWlDLHNCQUFzQixHQUFHLFlBQUs7TUFFbEMzQixZQUFZLENBQUN0TSxLQUFJLENBQUN1TSxlQUFlLENBQUM7TUFFbEN2TSxLQUFJLENBQUN1TSxlQUFlLEdBQUc0QixVQUFVLENBQUMsWUFBSztRQUVuQzdCLFlBQVksQ0FBQ3RNLEtBQUksQ0FBQ3VNLGVBQWUsQ0FBQyxFQUFDO1FBRy9CLElBQUV4TSxnQkFBZ0IsR0FBS0MsS0FBSSxDQUF6QkQsZ0JBQWdCO1VBRWxCNEMseUJBQXlCLEdBQUc1QyxnQkFBZ0IsQ0FBQzZDLDRCQUE0QixDQUFDcEMsT0FBTztVQUVqRnVDLGVBQWUsR0FBR0oseUJBQXlCLENBQUNLLFVBQVUsQ0FBQ3hDLE9BQU87VUFDOURpSCxrQkFBa0IsR0FBRzFFLGVBQWUsQ0FBQzJFLFVBQVU7VUFDL0M3RSx5QkFBeUIsR0FBRzlDLGdCQUFnQixDQUFDK0MsNEJBQTRCLENBQUN0QyxPQUFPO1VBRS9FNkMsV0FBVyxHQUFLUix5QkFBeUIsQ0FBekNRLFdBQVc7VUFFYitLLGlCQUFpQixHQUNiL0ssV0FBVyxJQUFJLFVBQVUsR0FDckJvRSxrQkFBa0IsQ0FBQzBGLFlBQVksR0FDL0IxRixrQkFBa0IsQ0FBQzJGLFdBQVc7VUFFdENpQixpQkFBaUIsR0FDYmhMLFdBQVcsSUFBSSxVQUFVLEdBQ3JCb0Usa0JBQWtCLENBQUM2RyxTQUFTLEdBQzVCN0csa0JBQWtCLENBQUM4RyxVQUFVO1VBRXJDQyxjQUFjLEdBQ1ZuTCxXQUFXLElBQUksVUFBVSxHQUNyQk4sZUFBZSxDQUFDb0ssWUFBWSxHQUM1QnBLLGVBQWUsQ0FBQ3FLLFdBQVc7VUFFbkNuRixTQUFTLEdBQUdsRixlQUFlLENBQUNrRixTQUFTO1VBQ3JDQyxVQUFVLEdBQUduRixlQUFlLENBQUNtRixVQUFVO1VBRXZDdUcsaUJBQWlCLEdBQ2JwTCxXQUFXLElBQUksVUFBVSxHQUNyQk4sZUFBZSxDQUFDa0YsU0FBUyxHQUN6QmxGLGVBQWUsQ0FBQ21GLFVBQVU7O1FBRXRDO1FBQ0EsSUFBS2tHLGlCQUFpQixHQUFHQyxpQkFBaUIsR0FBR0ksaUJBQWlCLEdBQUlELGNBQWMsRUFBRTtVQUFFO1VBRWhGLElBQUlILGlCQUFpQixFQUFFO1lBQ25CLElBQUloTCxXQUFXLElBQUksVUFBVSxFQUFFO2NBQzNCb0Usa0JBQWtCLENBQUNHLEtBQUssQ0FBQ3pELEdBQUcsR0FBRyxDQUFDO2FBQ25DLE1BQU07Y0FDSHNELGtCQUFrQixDQUFDRyxLQUFLLENBQUN4RCxJQUFJLEdBQUcsQ0FBQzs7O1VBSXpDLElBQUlzSyxPQUFPO1VBQ1gsSUFBSXJMLFdBQVcsSUFBSSxVQUFVLEVBQUU7WUFFM0JxTCxPQUFPLEdBQUc7Y0FDTnZLLEdBQUcsRUFBQ2lLLGlCQUFpQixHQUFHSSxjQUFjO2NBQ3RDcEssSUFBSSxFQUFDOEQsVUFBVTtjQUNmRyxRQUFRLEVBQUM7YUFDWjtXQUVKLE1BQU07WUFFSHFHLE9BQU8sR0FBRztjQUNOdkssR0FBRyxFQUFDOEQsU0FBUztjQUNiN0QsSUFBSSxFQUFDZ0ssaUJBQWlCLEdBQUdJLGNBQWM7Y0FDdkNuRyxRQUFRLEVBQUM7YUFDWjs7VUFJTHRGLGVBQWUsQ0FBQ3VGLE1BQU0sQ0FBQ29HLE9BQU8sQ0FBQzs7UUFHbkMsSUFBSTFPLEtBQUksQ0FBQ3FNLGtCQUFrQixFQUFFO1VBQ3pCck0sS0FBSSxDQUFDcU0sa0JBQWtCLENBQUNqQyxVQUFVLEVBQUU7VUFDcENwSyxLQUFJLENBQUNxTSxrQkFBa0IsR0FBRyxJQUFJOztNQUd0QyxDQUFDLEVBQUUsR0FBRyxDQUFDO0lBQ1gsQ0FBQztJQUVEO0lBRU8sS0FBQXNDLDBCQUEwQixHQUFHLFlBQUs7TUFFckMsSUFBQUMsc0JBQUEsR0FDdUM1TyxLQUFJLENBQUNELGdCQUFnQixDQUFDK0MsNEJBQTRCLENBQUN0QyxPQUFPO1FBQTNGcU8sUUFBUSxHQUFBRCxzQkFBQSxDQUFSQyxRQUFRO1FBQUVDLGtCQUFrQixHQUFBRixzQkFBQSxDQUFsQkUsa0JBQWtCO1FBRTVCN0wsUUFBUSxHQUFLakQsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ2tCLFdBQVcsQ0FBQ1QsT0FBTyxDQUF0RHlDLFFBQVE7UUFFVjhMLGtCQUFrQixHQUFHL08sS0FBSSxDQUFDQyxPQUFPLENBQUNDLHFCQUFxQjtNQUUzRCxJQUFJK0MsUUFBUSxDQUFDMEwsMEJBQTBCLENBQUNFLFFBQVEsRUFBRUUsa0JBQWtCLENBQUM3UixNQUFNLEVBQUU0UixrQkFBa0IsQ0FBRSxFQUFFO1FBRS9GOU8sS0FBSSxDQUFDZ1AsY0FBYyxFQUFFOztJQUc3QixDQUFDO0lBRU0sS0FBQUEsY0FBYyxHQUFHLFlBQUs7TUFHckIsSUFBQW5NLHlCQUF5QixHQUFHN0MsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQytDLDRCQUE0QixDQUFDdEMsT0FBTztRQUVwRjRJLEtBQUssR0FBaUJ2Ryx5QkFBeUIsQ0FBL0N1RyxLQUFLO1FBQUUxRixVQUFVLEdBQUtiLHlCQUF5QixDQUF4Q2EsVUFBVTtNQUV2QixJQUFJMEYsS0FBSyxJQUFJLFVBQVUsRUFBRTtRQUdqQixJQUFBcEksY0FBYyxHQUFHaEIsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ2tCLFdBQVcsQ0FBQ1QsT0FBTztVQUN4RHlDLFFBQVEsR0FBcUJqQyxjQUFjLENBQTNDaUMsUUFBUTtVQUFFQyxjQUFjLEdBQUtsQyxjQUFjLENBQWpDa0MsY0FBYztVQUUxQitMLGNBQWMsR0FBR2pQLEtBQUksQ0FBQ2tQLGlCQUFpQixFQUFFO1VBRXZDdkUsa0JBQWtCLEdBQUt6SCxjQUFjLENBQUNpRSxTQUFTLENBQS9Dd0Qsa0JBQWtCO1FBRXhCLElBQUlDLGFBQWE7UUFDakIsSUFBSUQsa0JBQWtCLEVBQUU7VUFDcEJDLGFBQWEsR0FBRyxTQUFBQSxjQUFDQyxVQUFVLEVBQUk7WUFFM0JGLGtCQUFrQixDQUFDLHdCQUF3QixFQUFDRSxVQUFVLENBQUM7VUFFM0QsQ0FBQzs7UUFJTCxJQUFJNUgsUUFBUSxDQUFDK0wsY0FBYyxDQUN2Qm5NLHlCQUF5QixDQUFDZ00sUUFBUSxFQUFFSSxjQUFjLEVBQUVyRSxhQUFhLENBQUMsRUFBRTtVQUVwRTNILFFBQVEsQ0FBQ2tJLGlCQUFpQixFQUFFOzs7SUFNeEMsQ0FBQztJQUVEO0lBRUE7SUFDTyxLQUFBL0osV0FBVyxHQUFHLFlBQUs7TUFFdEIsSUFBTUwsYUFBYSxHQUFHZixLQUFJLENBQUNDLE9BQU87TUFDbEM7TUFFQWMsYUFBYSxDQUFDYixxQkFBcUIsR0FBRyxFQUFFO01BRXhDYSxhQUFhLENBQUNaLG1CQUFtQixHQUFHLEVBQUU7TUFDdENZLGFBQWEsQ0FBQ1gsbUJBQW1CLEdBQUcsRUFBRTtJQUUxQyxDQUFDO0lBMXZDQyxJQUFJLENBQUNMLGdCQUFnQixHQUFHQSxnQkFBZ0I7RUFFM0M7RUEwdkNDO0VBQ0E7RUFBQWxCLFlBQUEsQ0FBQWlCLGNBQUE7SUFBQWxCLEdBQUE7SUFBQWQsS0FBQSxFQUNPLFNBQUFvUixrQkFBQSxFQUFpQjtNQUVwQixJQUFRaFAscUJBQXFCLEdBQUssSUFBSSxDQUFDRCxPQUFPLENBQXRDQyxxQkFBcUI7TUFFN0IsSUFBSSxDQUFDQSxxQkFBcUIsRUFBRTtRQUV4QixPQUFPLEVBQUU7T0FFWixNQUFNO1FBRUgsT0FBT0EscUJBQXFCLENBQUNpUCxHQUFHLENBQUMsVUFBQ0MsSUFBSTtVQUFBLE9BQUdBLElBQUksQ0FBQy9RLEtBQUssQ0FBQzRILEtBQUs7UUFBQSxFQUFDOztJQUlsRTtJQUVBO0lBQ0E7RUFBQTtJQUFBckgsR0FBQTtJQUFBZCxLQUFBLEVBQ08sU0FBQXVSLGdDQUFnQ0MsZ0JBQWdCLEVBQTZDO01BQUEsSUFBM0NDLGNBQWMsR0FBQUMsU0FBQSxDQUFBdFMsTUFBQSxRQUFBc1MsU0FBQSxRQUFBalEsU0FBQSxHQUFBaVEsU0FBQSxNQUFHLENBQUM7TUFBQSxJQUFFQyxnQkFBZ0IsR0FBQUQsU0FBQSxDQUFBdFMsTUFBQSxRQUFBc1MsU0FBQSxRQUFBalEsU0FBQSxHQUFBaVEsU0FBQSxNQUFHLElBQUk7TUFFaEc7TUFFSSxJQUFFdk0sUUFBUSxHQUFLLElBQUksQ0FBQ2xELGdCQUFnQixDQUFDa0IsV0FBVyxDQUFDVCxPQUFPLENBQXREeUMsUUFBUTtRQUVSeU0sZ0JBQWdCLEdBQUt6TSxRQUFRLENBQTdCeU0sZ0JBQWdCO1FBRWhCeFAscUJBQXFCLEdBQUssSUFBSSxDQUFDRCxPQUFPLENBQXRDQyxxQkFBcUI7UUFFckJXLGtCQUFrQixHQUFLLElBQUksQ0FBQ2QsZ0JBQWdCLENBQUNhLDJCQUEyQixDQUFDSixPQUFPLENBQWhGSyxrQkFBa0I7TUFFeEIsSUFBSUEsa0JBQWtCLENBQUNjLElBQUksSUFBSSxDQUFDLEVBQUU7TUFFbEMsSUFBaUJnTyxPQUFPLEdBQXlCOU8sa0JBQWtCLENBQTNEWSxRQUFRO1FBQW9CbU8sUUFBUSxHQUFLL08sa0JBQWtCLENBQXpDVyxTQUFTO01BRW5DLElBQUlxTyxVQUFVLEVBQUVDLFFBQVE7TUFDeEIsSUFBSVAsY0FBYyxFQUFFO1FBRWhCLElBQUlFLGdCQUFnQixHQUFHRyxRQUFRLEVBQUU7UUFFakNDLFVBQVUsR0FBR0osZ0JBQWdCO1FBQzdCSyxRQUFRLEdBQUdGLFFBQVE7T0FFdEIsTUFBTTtRQUFFO1FBRUwsSUFBSU4sZ0JBQWdCLENBQUNwUyxNQUFNLElBQUksQ0FBQyxFQUFFO1FBRWxDMlMsVUFBVSxHQUFHUCxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7UUFDaENRLFFBQVEsR0FBR1IsZ0JBQWdCLENBQUNTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7TUFJdEMsSUFBTUMsV0FBVyxHQUFHRixRQUFRLEdBQUdELFVBQVUsR0FBRyxDQUFDO01BRTdDLElBQUlJLFVBQVUsR0FBR0osVUFBVTtNQUUzQixJQUFJSSxVQUFVLEdBQUdMLFFBQVEsRUFBRTtNQUUzQixJQUFJSyxVQUFVLEdBQUdOLE9BQU8sRUFBRU0sVUFBVSxHQUFHTixPQUFPO01BRTlDLElBQ0lPLE1BQU0sR0FBR0QsVUFBVSxHQUFHTixPQUFPO1FBRTdCUSxPQUFPLEdBQUdaLGNBQWMsR0FDcEJyUCxxQkFBcUIsQ0FBQ2hELE1BQU0sR0FBRyxDQUFDLEdBQ2hDdUgsSUFBSSxDQUFDQyxHQUFHLENBQUN4RSxxQkFBcUIsQ0FBQ2hELE1BQU0sR0FBRyxDQUFDLEVBQUNnVCxNQUFNLEdBQUdGLFdBQVcsR0FBRyxDQUFDLENBQUM7TUFFM0U7TUFDQSxTQUFTSSxrQkFBa0JBLENBQUNDLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxjQUFjO1FBRS9ELElBQ0l0SyxLQUFLLEdBQUdvSyxTQUFTLENBQUNoUyxLQUFLLENBQUM0SCxLQUFLO1VBQzdCdUssV0FBVyxHQUFHZCxnQkFBZ0IsQ0FBQ2UsR0FBRyxDQUFDeEssS0FBSyxDQUFDO1FBRTdDO1FBQ0EsSUFBSXVLLFdBQVcsS0FBS2pSLFNBQVMsRUFBRTtVQUUzQixJQUFNbVIsU0FBUyxHQUFHek4sUUFBUSxDQUFDME4sWUFBWSxFQUFFO1VBQ3pDSixjQUFjLENBQUNELFlBQVksQ0FBQyxHQUFHNVEsT0FBQSxXQUFLLENBQUNrSCxZQUFZLENBQUN5SixTQUFTLEVBQUU7WUFBQ08sTUFBTSxFQUFDRjtVQUFTLENBQUMsQ0FBQztVQUNoRjtTQUVILE1BQU07VUFBRTtVQUVMLElBQ0lHLFlBQVksR0FBR1IsU0FBUyxDQUFDaFMsS0FBSyxDQUFDdVMsTUFBTTtZQUNyQ0UsU0FBUyxHQUFHeEIsZ0JBQWdCLENBQUN5QixPQUFPLENBQUM5SyxLQUFLLENBQUMsRUFBQztVQUVoRCxJQUFJNkssU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQUU7WUFFbkIsSUFBSU4sV0FBVyxJQUFJSyxZQUFZLEVBQUU7WUFFakNOLGNBQWMsQ0FBQ0QsWUFBWSxDQUFDLEdBQUc1USxPQUFBLFdBQUssQ0FBQ2tILFlBQVksQ0FBQ3lKLFNBQVMsRUFBRTtjQUFDTyxNQUFNLEVBQUNKO1lBQVcsQ0FBQyxDQUFDO1dBRXJGLE1BQU07WUFFSCxJQUFNRSxVQUFTLEdBQUd6TixRQUFRLENBQUMwTixZQUFZLEVBQUU7WUFDekNKLGNBQWMsQ0FBQ0QsWUFBWSxDQUFDLEdBQUc1USxPQUFBLFdBQUssQ0FBQ2tILFlBQVksQ0FBQ3lKLFNBQVMsRUFBRTtjQUFDTyxNQUFNLEVBQUNGO1lBQVMsQ0FBQyxDQUFDOzs7TUFNNUY7TUFFQSxLQUFLLElBQUlNLEdBQUcsR0FBR2QsTUFBTSxFQUFFYyxHQUFHLElBQUliLE9BQU8sRUFBRWEsR0FBRyxFQUFFLEVBQUU7UUFDMUNaLGtCQUFrQixDQUFDbFEscUJBQXFCLENBQUM4USxHQUFHLENBQUMsRUFBRUEsR0FBRyxFQUFFOVEscUJBQXFCLENBQUM7O0lBR2xGO0lBRUE7RUFBQTtJQUFBdEIsR0FBQTtJQUFBZCxLQUFBLEVBQ08sU0FBQW1ULGlCQUFpQkMsT0FBTztNQUUzQixJQUFJLENBQUNBLE9BQU8sQ0FBQ2hVLE1BQU0sRUFBRTtNQUdqQixJQUFFK0YsUUFBUSxHQUFLLElBQUksQ0FBQ2xELGdCQUFnQixDQUFDa0IsV0FBVyxDQUFDVCxPQUFPLENBQXREeUMsUUFBUTtRQUNSL0MscUJBQXFCLEdBQUssSUFBSSxDQUFDRCxPQUFPLENBQXRDQyxxQkFBcUI7UUFDckJXLGtCQUFrQixHQUFLLElBQUksQ0FBQ2QsZ0JBQWdCLENBQUNhLDJCQUEyQixDQUFDSixPQUFPLENBQWhGSyxrQkFBa0I7TUFFeEIsSUFBSUEsa0JBQWtCLENBQUNjLElBQUksSUFBSSxDQUFDLEVBQUU7TUFFbEMsSUFBaUJnTyxPQUFPLEdBQXlCOU8sa0JBQWtCLENBQTNEWSxRQUFRO1FBQW9CbU8sUUFBUSxHQUFLL08sa0JBQWtCLENBQXpDVyxTQUFTO01BRW5DLFNBQVM0TyxrQkFBa0JBLENBQUNlLFlBQVk7UUFFcEMsSUFBSUEsWUFBWSxHQUFHeEIsT0FBTyxJQUFJd0IsWUFBWSxHQUFHdkIsUUFBUSxFQUFFLE9BQU0sQ0FBQztRQUU5RCxJQUNJd0IsU0FBUyxHQUFHRCxZQUFZLEdBQUd4QixPQUFPO1VBQ2xDVSxTQUFTLEdBQUduUSxxQkFBcUIsQ0FBQ2tSLFNBQVMsQ0FBQztVQUM1Q1YsU0FBUyxHQUFHek4sUUFBUSxDQUFDME4sWUFBWSxFQUFFO1FBRXZDelEscUJBQXFCLENBQUNrUixTQUFTLENBQUMsR0FBRzFSLE9BQUEsV0FBSyxDQUFDa0gsWUFBWSxDQUFDeUosU0FBUyxFQUFFO1VBQUNPLE1BQU0sRUFBQ0Y7UUFBUyxDQUFDLENBQUM7TUFFeEY7TUFFQVEsT0FBTyxDQUFDRyxPQUFPLENBQUNqQixrQkFBa0IsQ0FBQztJQUV2QztJQUVBO0VBQUE7SUFBQXhSLEdBQUE7SUFBQWQsS0FBQSxFQUNPLFNBQUF3VCxvQkFBb0JDLG1CQUFtQjtNQUUxQyxJQUFJLENBQUNBLG1CQUFtQixDQUFDclUsTUFBTSxFQUFFO01BRzdCLElBQUVnRCxxQkFBcUIsR0FBSyxJQUFJLENBQUNELE9BQU8sQ0FBdENDLHFCQUFxQjtRQUNyQitDLFFBQVEsR0FBSyxJQUFJLENBQUNsRCxnQkFBZ0IsQ0FBQ2tCLFdBQVcsQ0FBQ1QsT0FBTyxDQUF0RHlDLFFBQVE7UUFDUnlNLGdCQUFnQixHQUFLek0sUUFBUSxDQUE3QnlNLGdCQUFnQjtNQUV0QixTQUFTOEIsa0JBQWtCQSxDQUFFbkIsU0FBUyxFQUFFclUsQ0FBQyxFQUFFeVYsS0FBSztRQUM1QyxJQUFBQyxnQkFBQSxHQUEwQnJCLFNBQVMsQ0FBQ2hTLEtBQUs7VUFBakM0SCxLQUFLLEdBQUF5TCxnQkFBQSxDQUFMekwsS0FBSztVQUFFMkssTUFBTSxHQUFBYyxnQkFBQSxDQUFOZCxNQUFNO1FBQ3JCLElBQUlXLG1CQUFtQixDQUFDek0sUUFBUSxDQUFDbUIsS0FBSyxDQUFDLEVBQUU7VUFFckMsSUFBTXlLLFNBQVMsR0FDWGhCLGdCQUFnQixDQUFDaUMsR0FBRyxDQUFDMUwsS0FBSyxDQUFDLEdBQ3ZCeUosZ0JBQWdCLENBQUNlLEdBQUcsQ0FBQ3hLLEtBQUssQ0FBQyxHQUMzQmhELFFBQVEsQ0FBQzBOLFlBQVksRUFBRTtVQUUvQixJQUFJRCxTQUFTLElBQUlFLE1BQU0sRUFBRTtZQUFFO1lBRXZCYSxLQUFLLENBQUN6VixDQUFDLENBQUMsR0FBRzBELE9BQUEsV0FBSyxDQUFDa0gsWUFBWSxDQUFDeUosU0FBUyxFQUFFO2NBQUNPLE1BQU0sRUFBQ0Y7WUFBUyxDQUFDLENBQUM7OztNQUl4RTtNQUVBeFEscUJBQXFCLENBQUNtUixPQUFPLENBQUNHLGtCQUFrQixDQUFDO01BRWpELElBQUksQ0FBQ3ZSLE9BQU8sQ0FBQ0UsbUJBQW1CLEdBQUdELHFCQUFxQixDQUFDdEQsS0FBSyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUNxRCxPQUFPLENBQUNFLG1CQUFtQixDQUFDakQsTUFBTSxDQUFDO01BQ3pHLElBQUksQ0FBQytDLE9BQU8sQ0FBQ0csbUJBQW1CLEdBQUdGLHFCQUFxQixDQUFDdEQsS0FBSyxDQUFDLElBQUksQ0FBQ3FELE9BQU8sQ0FBQ0UsbUJBQW1CLENBQUNqRCxNQUFNLENBQUM7SUFFM0c7RUFBQztFQUFBLE9BQUE0QyxjQUFBO0FBQUE7QUE5NkNMOFIsa0JBQUEsR0FBQTlSLGNBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9jb250ZW50aGFuZGxlci50c3g/YTg5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb250ZW50aGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgc3VwcG9ydHMgdGhlIHNldHVwLCByb2xsb3ZlciBhbmQgcG9zaXRpb25pbmcgb2YgY29udGVudCBpbiB0aGUgQ3JhZGxlLiBcblxuICAgIFRoZXJlIGFyZSB0aHJlZSBrZXkgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlOiBzZXRDcmFkbGVDb250ZW50LCB1cGRhdGVDcmFkbGVDb250ZW50LCBhbmRcbiAgICBhZGp1c3RTY3JvbGxibG9ja0ZvclZhcmlhYmlsaXR5LlxuXG4gICAgVGhlcmUgYXJlIGFsc28gYSBmZXcgZnVuY3Rpb25zIHdoaWNoIHN1cHBvcnQgc3luY2hyb25pemF0aW9uIG9mIENyYWRsZSBjb250ZW50IHdpdGggY2FjaGUgXG4gICAgY29udGVudCAoc2VlIGludGVybmFsIGFuZCBleHRlcm5hbCBzZXJ2aWNlcyBiZWxvdykuXG5cbiAgICBzZXRDcmFkbGVDb250ZW50IGlzIGNhbGxlZCBkaXJlY3RseSBmcm9tIENyYWRsZSAoaW4gdGhlIHN0YXRlIG1hbmFnZXIpLCBhbmQgaW5zdGFudGlhdGVzIG5ldyBDcmFkbGVcbiAgICBjb250ZW50IGluIHJlc3BvbnNlIHRvIHRoZSBzY3JvbGxlciBzZXR1cCwgb3IgY2hhbmdlcyB0byBpdHMgY29uZmlndXJhdGlvbi4gc2V0Q3JhZGxlQ29udGVudFxuICAgIGNyZWF0ZXMgYSBsaXN0IG9mIENyYWRsZSBjb250ZW50IENlbGxGcmFtZXMsIGFuZCBhbGxvY2F0ZXMgdGhvc2UgdG8gdGhlIHR3byBDcmFkbGUgZ3JpZHMuIFRoaXMgXG4gICAgcHJvY2VzcyBvY2N1cnMgaW4gcmVzcG9uc2UgdG8gbWFueSBzdGF0ZSBjaGFuZ2VzLCBzdWNoIGFzIGZpbmlzaHJlcG9zaXRpb24sIHBpdm90LCBhIGhvc3Qgc2Nyb2xsdG9cbiAgICByZXF1ZXN0LCBhbmQgbW9yZS5cblxuICAgIHVwZGF0ZUNyYWRsZUNvbnRlbnQgcm9sbHMgb3ZlciB0aGUgQ3JhZGxlIGNvbnRlbnQgaW4gcmVzcG9uc2UgdG8gdXNlciBzY3JvbGxpbmcuIFdoZW4gc2Nyb2xsaW5nIFxuICAgIGRvd24gKG9yIHJpZ2h0KSwgY29udGVudCBpcyByZW1vdmVkIGZyb20gdGhlIENyYWRsZSB0YWlsIGFuZCBhZGRlZCB0byB0aGUgQ3JhZGxlIGhlYWQgKHRodXMgbW92aW5nIHRoZSBcbiAgICBDcmFkbGUgYXhpcyksIHdoaWxlIG5ldyBjb250ZW50IGlzIGFkZGVkIHRvIHRoZSB0YWlsLiBXaGVuIHNjcm9sbGluZyB1cCAob3IgbGVmdCksIHRoZSByZXZlcnNlIG9jY3Vycy5cblxuICAgIGFkanVzdFNjcm9sbGJsb2NrRm9yVmFyaWFiaWxpdHkgcmVjb25maWd1cmVzIHRoZSBzY3JvbGxibG9jayB0byBhY2NvbW1vZGF0ZSB2YXJpYWJsZSBzaXplZCBncmlkIHJvd3MuXG5cbiAgICBUaGUgQ3JhZGxlICh0aHJvdWdoIHRoZSBjb250ZW50ZnVuY3Rpb25zIG1vZHVsZSkgZGVsZWdhdGVzIGZldGNoaW5nIGNvbnRlbnQgaXRlbXMgdG8gdGhlIENlbGxGcmFtZS5cblxuICAgIFRoaXMgbW9kdWxlIGlzIHN1cHBvcnRlZCBwcmltYXJpbHkgYnkgdGhlIGNvbnRlbnRmdW5jdGlvbnMgbW9kdWxlLlxuXG4qL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFxuICAgIGNhbGN1bGF0ZUNvbnRlbnRMaXN0UmVxdWlyZW1lbnRzLFxuICAgIGNhbGN1bGF0ZVNoaWZ0U3BlY3MsXG4gICAgYWxsb2NhdGVDb250ZW50TGlzdCxcbiAgICBkZWxldGVQb3J0YWxzLFxuICAgIGdldENlbGxGcmFtZUNvbXBvbmVudExpc3QsIFxuXG59IGZyb20gJy4vY29udGVudGZ1bmN0aW9ucydcblxuLy8gaW1wb3J0IHsgaXNTYWZhcmlJT1MgfSBmcm9tICcuLi9JbmZpbml0ZUdyaWRTY3JvbGxlcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGVudEhhbmRsZXIge1xuXG4gICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgfVxuXG4gICBwcml2YXRlIGdyaWRSZXNpemVPYnNlcnZlclxuXG4gICBwdWJsaWMgY29udGVudCA9IHtcblxuICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzOiBudWxsLFxuICAgICAgaGVhZE1vZGVsQ29tcG9uZW50czogbnVsbCxcbiAgICAgIHRhaWxNb2RlbENvbXBvbmVudHM6IG51bGwsXG4gICAgICAvLyB0aGUgZm9sbG93aW5nIHR3byBvbmx5IHVzZWQgaW4gY3JhZGxlIGZvciByZW5kZXJcbiAgICAgIGhlYWREaXNwbGF5Q29tcG9uZW50czogW10sXG4gICAgICB0YWlsRGlzcGxheUNvbXBvbmVudHM6IFtdLFxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwcml2YXRlIGluc3RhbmNlSWRDb3VudGVyUmVmID0ge1xuXG4gICAgICAgY3VycmVudDowXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVsgVVBEQVRFIFZJUlRVQUwgTElTVCBTSVpFIE9SIFJBTkdFIF09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIHRoZXNlIGFyZSB1dGlsaXRpZXNcblxuICAgIC8vIHJlc2V0IHRoZSBjcmFkbGUgd2l0aCBuZXcgY29udGVudCwgaW5jbHVkaW5nIGFsbG9jYXRpb24gYmV0d2VlbiBoZWFkIGFuZCB0YWlsIHBhcnRzIG9mIHRoZSBjcmFkbGVcbiAgICAvLyAtIGNhbGxlZCBvbmx5IGZyb20gdGhlIENyYWRsZSBzdGF0ZSBoYW5kbGVyXG4gICAgcHVibGljIHVwZGF0ZVZpcnR1YWxMaXN0U2l6ZSA9IChuZXdsaXN0c2l6ZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICAgICAgc2V0VmlydHVhbExpc3RTaXplLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKG5ld2xpc3RzaXplID09IDApIHtcblxuICAgICAgICAgICAgY29uc3QgXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudCA9IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgICAgICBjcmFkbGVIYW5kbGVycyA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICB7IGxheW91dEhhbmRsZXIgfSA9IGNyYWRsZUhhbmRsZXJzLFxuICAgICAgICAgICAgICAgIHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBsYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgICAgIHRoaXMuY2xlYXJDcmFkbGUoKVxuICAgICAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgY3JhZGxlQ29udGVudC50YWlsRGlzcGxheUNvbXBvbmVudHMgPSBbXVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjcmFkbGVDb250ZW50UHJvcHMsIFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgU09MOnVuZGVmaW5lZCwgXG4gICAgICAgICAgICAgICAgICAgIEVPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hpbmRleDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXg6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzaXplOjAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gMFxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IDBcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VmlydHVhbExpc3RTaXplKG5ld2xpc3RzaXplKVxuXG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVZpcnR1YWxMaXN0UmFuZ2UgPSAobmV3bGlzdHJhbmdlKSA9PiB7XG5cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgY3JhZGxlSGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnMsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHNldFZpcnR1YWxMaXN0UmFuZ2UsXG4gICAgICAgICAgICAgICAgdmlydHVhbExpc3RQcm9wcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEsXG5cbiAgICAgICAgICAgIH0gPSBsYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgbGV0IG5ld2xpc3RzaXplXG4gICAgICAgIGlmIChuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDApIHtcblxuICAgICAgICAgICAgbmV3bGlzdHNpemUgPSAwXG4gICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gMFxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IDBcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBjb25zdCBbbmV3bG93aW5kZXgsIG5ld2hpZ2hpbmRleF0gPSBuZXdsaXN0cmFuZ2VcblxuICAgICAgICAgICAgaWYgKHZpcnR1YWxMaXN0UHJvcHMucmFuZ2UubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7bG93aW5kZXg6cHJldmlvdXNsb3dpbmRleH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb3dpbmRleGNoYW5nZSA9IG5ld2xvd2luZGV4IC0gcHJldmlvdXNsb3dpbmRleFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiAtPSBsb3dpbmRleGNoYW5nZVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld2xpc3RzaXplID0gbmV3aGlnaGluZGV4IC0gbmV3bG93aW5kZXggKyAxXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdsaXN0c2l6ZSA9PSAwKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnQgICAgICAgIFxuXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ3JhZGxlKClcbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gW11cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLCBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFNPTDp1bmRlZmluZWQsIFxuICAgICAgICAgICAgICAgICAgICBFT0w6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaWdoaW5kZXg6dW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICAgICAgbG93aW5kZXg6dW5kZWZpbmVkLCBcbiAgICAgICAgICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4OnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTowIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VmlydHVhbExpc3RSYW5nZShuZXdsaXN0cmFuZ2UpXG5cbiAgICB9XG5cbiAgICAvLyBUaHJlZSBtYWluIHB1YmxpYyBtZXRob2RzIC0gc2V0Q3JhZGxlQ29udGVudCwgdXBkYXRlQ3JhZGxlQ29udGVudCwgYW5kIGFkanVzdFNjcm9sbGJsb2NrRm9yVmFyaWFiaWxpdHlcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBTRVQgQ09OVEVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwdWJsaWMgc2V0Q3JhZGxlQ29udGVudCA9ICggY3JhZGxlU3RhdGUgKSA9PiB7IC8vIGNyYWRsZVN0YXRlIGluZmx1ZW5jZXMgc29tZSBiZWhhdmlvdXJcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDEuIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUhhbmRsZXJzID0gY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIGNhY2hlQVBJLFxuICAgICAgICAgICAgICAgIGxheW91dEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgc2VydmljZUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSGFuZGxlcixcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUhhbmRsZXJzLFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhIFxuXG4gICAgICAgICAgICB9ID0gbGF5b3V0SGFuZGxlcixcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uOnJlcXVlc3RlZEF4aXNSZWZlcmVuY2VQb3NpdGlvbixcblxuICAgICAgICAgICAgfSA9IGNyYWRsZVBvc2l0aW9uRGF0YSxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgICAgIC8vIGdhcCwgXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgc3R5bGVzLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCwgLy8gZGVidWdcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLCBcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgIGdhcFByb3BzLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICBsb3dpbmRleDpsaXN0bG93aW5kZXgsIFxuICAgICAgICAgICAgICAgIC8vIGhpZ2hpbmRleDpsaXN0aGlnaGluZGV4LCBcbiAgICAgICAgICAgICAgICBzaXplOmxpc3RzaXplLCBcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgICAgICByb3djb3VudDpsaXN0Um93Y291bnQsXG4gICAgICAgICAgICAgICAgLy8gYmFzZXJvd2JsYW5rcyxcbiAgICAgICAgICAgICAgICAvLyBlbmRyb3dibGFua3MsXG5cbiAgICAgICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzLFxuXG4gICAgICAgICAgICBwYWRkaW5nT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLnRvcDpcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLmxlZnQsXG5cbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnQsXG5cbiAgICAgICAgICAgIGdhcGxlbmd0aCA9XG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMuY29sdW1uOlxuICAgICAgICAgICAgICAgICAgICBnYXBQcm9wcy5yb3dcblxuICAgICAgICBsZXQgeyB0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgfSA9ICBjcmFkbGVQb3NpdGlvbkRhdGFcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyAyLiBub3JtYWxpemUgZGF0YSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBpbiBib3VuZHNcbiAgICAgICAgbGV0IHdvcmtpbmdBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBNYXRoLm1pbihyZXF1ZXN0ZWRBeGlzUmVmZXJlbmNlUG9zaXRpb24sbGlzdHNpemUgLSAxKVxuICAgICAgICB3b3JraW5nQXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gTWF0aC5tYXgod29ya2luZ0F4aXNSZWZlcmVuY2VQb3NpdGlvbiwgMClcblxuICAgICAgICAvLyBzaGlmdGVkIGJ5IHZpcnR1YWwgbGlzdCBsb3cgcmFuZ2VcbiAgICAgICAgbGV0IHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggID0gd29ya2luZ0F4aXNSZWZlcmVuY2VQb3NpdGlvbiArIGxpc3Rsb3dpbmRleFxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBheGlzIHJlZmVyZW5jZSBiYXNlIGluZGV4XG4gICAgICAgIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggLT1cbiAgICAgICAgICAgIHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggPCAwPyBcbiAgICAgICAgICAgICAgICAod29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnQpP1xuICAgICAgICAgICAgICAgICAgICAoY3Jvc3Njb3VudCAtIE1hdGguYWJzKHdvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXggJSBjcm9zc2NvdW50KSk6XG4gICAgICAgICAgICAgICAgICAgIDA6XG4gICAgICAgICAgICAgICAgd29ya2luZ0F4aXNSZWZlcmVuY2VJbmRleCAlIGNyb3NzY291bnRcblxuICAgICAgICAvLyByZXBvc2l0aW9uIGF0IHJvdyBib3VuZGFyeVxuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ2ZpcnN0cmVuZGVyJywgXG4gICAgICAgICAgICAnZmlyc3RyZW5kZXJmcm9tY2FjaGUnLFxuICAgICAgICAgICAgJ2ZpbmlzaHJlcG9zaXRpb24nLCBcbiAgICAgICAgICAgICdyZWNvbmZpZ3VyZScsIFxuICAgICAgICAgICAgJ3Njcm9sbHRvJywgXG4gICAgICAgIF0uaW5jbHVkZXMoY3JhZGxlU3RhdGUpKSB7XG5cbiAgICAgICAgICAgIHRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IFxuICAgICAgICAgICAgICAgICh3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4ID09IGxpc3Rsb3dpbmRleCk/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdPZmZzZXQ6XG4gICAgICAgICAgICAgICAgICAgIGdhcGxlbmd0aCAvLyBkZWZhdWx0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0ID0gW10sXG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDMuIGdldCBjb250ZW50IHJlcXVpcmVtZW50cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBiYXNlUm93UGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAoKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICBjZWxsV2lkdGgpXG4gICAgICAgICAgICAgICAgKyBnYXBsZW5ndGhcblxuICAgICAgICBjb25zdCB7XG5cbiAgICAgICAgICAgIC8vIGJ5IGluZGV4XG4gICAgICAgICAgICB0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCwgXG4gICAgICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG5cbiAgICAgICAgICAgIC8vIGNvdW50c1xuICAgICAgICAgICAgbmV3Q3JhZGxlQ29udGVudENvdW50OmNyYWRsZUNvbnRlbnRDb3VudCwgXG5cbiAgICAgICAgICAgIC8vIHRhcmdldCBzY3JvbGxQb3MgYnkgcGl4ZWxzXG4gICAgICAgICAgICB0YXJnZXRQaXhlbE9mZnNldFZpZXdwb3J0RnJvbVNjcm9sbGJsb2NrOnBpeGVsT2Zmc2V0Vmlld3BvcnRGcm9tU2Nyb2xsYmxvY2ssXG5cbiAgICAgICAgfSA9IGNhbGN1bGF0ZUNvbnRlbnRMaXN0UmVxdWlyZW1lbnRzKHtcblxuICAgICAgICAgICAgICAgIC8vIHBpeGVsXG4gICAgICAgICAgICAgICAgYmFzZVJvd1BpeGVsTGVuZ3RoLFxuICAgICAgICAgICAgICAgIHRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCxcblxuICAgICAgICAgICAgICAgIC8vIGluZGV4XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4OndvcmtpbmdBeGlzUmVmZXJlbmNlSW5kZXgsXG5cbiAgICAgICAgICAgICAgICAvLyByZXNvdXJjZXNcbiAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgPSB0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgLy8gc2VtYW50aWNzXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNC4gZ2V0IGFuZCBjb25maWcgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBcbiAgICAgICAgLy8gcmV0dXJucyBjb250ZW50IGNvbnN0cmFpbmVkIGJ5IGNyYWRsZVJvd2NvdW50XG4gICAgICAgIGNvbnN0IFtuZXdjb250ZW50bGlzdF0gPSBnZXRDZWxsRnJhbWVDb21wb25lbnRMaXN0KHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FjaGVBUEksICAgICAgICAgICAgXG4gICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgY3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgY3JhZGxlUmVmZXJlbmNlSW5kZXg6dGFyZ2V0Q3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBsaXN0U3RhcnRDaGFuZ2VDb3VudDowLFxuICAgICAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50OmNyYWRsZUNvbnRlbnRDb3VudCxcbiAgICAgICAgICAgIHdvcmtpbmdDb250ZW50TGlzdCxcbiAgICAgICAgICAgIGluc3RhbmNlSWRDb3VudGVyUmVmOnRoaXMuaW5zdGFuY2VJZENvdW50ZXJSZWYsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gdXBkYXRlIGNyYWRsZUNvbnRlbnRQcm9wcyBmcm9tIG5ld2NvbnRlbnRsaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wcy5zaXplID0gbmV3Y29udGVudGxpc3QubGVuZ3RoXG4gICAgICAgIGlmIChjcmFkbGVDb250ZW50UHJvcHMuc2l6ZSkge1xuXG4gICAgICAgICAgICBjb25zdCBcbiAgICAgICAgICAgICAgICBsb3dpbmRleCA9IG5ld2NvbnRlbnRsaXN0WzBdLnByb3BzLmluZGV4LFxuICAgICAgICAgICAgICAgIGhpZ2hpbmRleCA9IGxvd2luZGV4ICsgY3JhZGxlQ29udGVudFByb3BzLnNpemUgLSAxXG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxvd2luZGV4LFxuICAgICAgICAgICAgICAgIGhpZ2hpbmRleCxcbiAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXg6dGFyZ2V0QXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgICAgIFNPTDoodmlydHVhbExpc3RQcm9wcy5sb3dpbmRleCA9PSBsb3dpbmRleCksXG4gICAgICAgICAgICAgICAgRU9MOih2aXJ0dWFsTGlzdFByb3BzLmhpZ2hpbmRleCA9PSBoaWdoaW5kZXgpLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5TT0wgJiYgIWxheW91dEhhbmRsZXIuU09MU2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5TT0xTaWduYWwgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLkVPTCAmJiAhbGF5b3V0SGFuZGxlci5FT0xTaWduYWwpIHtcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLkVPTFNpZ25hbCA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNyYWRsZUNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb3dpbmRleDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaGlnaGluZGV4OnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXg6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIFNPTDp1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgRU9MOnVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBvciBjYW5jZWwgZmlyc3Qgcm93IG9mZnNldCBpZiB3aXRoaW4gY3JhZGxlXG4gICAgICAgIGxldCBncmlkc3RhcnRcbiAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5TT0wgPT09IHRydWUgJiYgXG4gICAgICAgICAgICAhKHZpcnR1YWxMaXN0UHJvcHMuYmFzZXJvd2JsYW5rcyA9PT0gdW5kZWZpbmVkIHx8IFxuICAgICAgICAgICAgdmlydHVhbExpc3RQcm9wcy5iYXNlcm93YmxhbmtzID09PSAwKSkge1xuICAgICAgICAgICAgZ3JpZHN0YXJ0ID0gYCR7dmlydHVhbExpc3RQcm9wcy5iYXNlcm93YmxhbmtzICsgMX1gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncmlkc3RhcnQgPSAndW5zZXQnXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdGNvbXBvbmVudCA9IG5ld2NvbnRlbnRsaXN0WzBdXG5cbiAgICAgICAgaWYgKCFmaXJzdGNvbXBvbmVudCkgcmV0dXJuIC8vIHBvc3NpYmxlIGNoaWxkIGRpc21vdW50cyB3aXRoIG5lc3RlZCBzY3JvbGxlcnNcblxuICAgICAgICBsZXQgZ3JpZHN0YXJ0c3R5bGVcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGdyaWRzdGFydHN0eWxlID0ge2dyaWRDb2x1bW5TdGFydDpncmlkc3RhcnR9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncmlkc3RhcnRzdHlsZSA9IHtncmlkUm93U3RhcnQ6Z3JpZHN0YXJ0fVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJldmlzZWRjb21wb25lbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoZmlyc3Rjb21wb25lbnQse2dyaWRzdGFydHN0eWxlfSlcbiAgICAgICAgbmV3Y29udGVudGxpc3RbMF0gPSByZXZpc2VkY29tcG9uZW50XG5cbiAgICAgICAgY29uc3QgW2hlYWRjb250ZW50bGlzdCwgdGFpbGNvbnRlbnRsaXN0XSA9IGFsbG9jYXRlQ29udGVudExpc3Qoe1xuXG4gICAgICAgICAgICBjb250ZW50bGlzdDpuZXdjb250ZW50bGlzdCxcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleDp0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICBsYXlvdXRIYW5kbGVyLFxuICAgICAgICAgICAgLy8gbGlzdGxvd2luZGV4LFxuICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzID0gbmV3Y29udGVudGxpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gaGVhZGNvbnRlbnRsaXN0XG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IHRhaWxjb250ZW50bGlzdFxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSB0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXggLSBsaXN0bG93aW5kZXhcbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydFxuXG4gICAgICAgIGlmIChzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjaykge1xuXG4gICAgICAgICAgICBjb25zdCBjc3RhdGUgPSBjcmFkbGVTdGF0ZVxuXG4gICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3MucmVmZXJlbmNlSW5kZXhDYWxsYmFjayhcblxuICAgICAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VJbmRleCwnc2V0Q3JhZGxlQ29udGVudCcsIGNzdGF0ZSlcbiAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNS4gc2V0IENTUyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyByZXNldCBzY3JvbGxibG9jayBPZmZzZXQgYW5kIGxlbmd0aFxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHRvdGFscGFkZGluZ2xlbmd0aCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3AgKyBwYWRkaW5nUHJvcHMuYm90dG9tOlxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMubGVmdCArIHBhZGRpbmdQcm9wcy5yaWdodCxcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBibG9ja25ld2xlbmd0aCA9IChsaXN0Um93Y291bnQgKiBiYXNlUm93UGl4ZWxMZW5ndGgpIC0gZ2FwbGVuZ3RoIC8vIGZpbmFsIGNlbGwgaGFzIG5vIHRyYWlsaW5nIGdhcFxuICAgICAgICAgICAgICAgICsgdG90YWxwYWRkaW5nbGVuZ3RoIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHBhZGRpbmdcblxuICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3Bpdm90Jykge1xuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gbnVsbFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS50b3AgPSBudWxsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYmxvY2tuZXdsZW5ndGggKyAncHgnXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUud2lkdGggPSBibG9ja25ld2xlbmd0aCArICdweCdcblxuICAgICAgICB9XG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nQmxvY2tTY3JvbGxQb3MgPSBwaXhlbE9mZnNldFZpZXdwb3J0RnJvbVNjcm9sbGJsb2NrXG5cbiAgICAgICAgLy8gYXZvaWQgYm9ndXMgY2FsbCB0byB1cGRhdGVDcmFkbGVDb250ZW50XG4gICAgICAgIHNjcm9sbEhhbmRsZXIucmVzZXRTY3JvbGxEYXRhKHBpeGVsT2Zmc2V0Vmlld3BvcnRGcm9tU2Nyb2xsYmxvY2spIFxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIGxldCBzY3JvbGxPcHRpb25zXG4gICAgICAgIGlmIChjcmFkbGVQb3NpdGlvbkRhdGEuYmxvY2tTY3JvbGxQcm9wZXJ0eSA9PSAnc2Nyb2xsVG9wJykge1xuICAgICAgICAgICAgc2Nyb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB0b3A6Y3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nQmxvY2tTY3JvbGxQb3MsXG4gICAgICAgICAgICAgICAgbGVmdDpzY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOidpbnN0YW50JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjcm9sbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbGVmdDpjcmFkbGVQb3NpdGlvbkRhdGEudHJhY2tpbmdCbG9ja1Njcm9sbFBvcyxcbiAgICAgICAgICAgICAgICB0b3A6c2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOidpbnN0YW50JyxcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGwoc2Nyb2xsT3B0aW9ucylcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzID0gbGF5b3V0SGFuZGxlci5lbGVtZW50cyxcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5heGlzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBoZWFkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgcGl4ZWxPZmZzZXRBeGlzRnJvbVNjcm9sbGJsb2NrID0gXG4gICAgICAgICAgICAgICAgcGl4ZWxPZmZzZXRWaWV3cG9ydEZyb21TY3JvbGxibG9jayArIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IHBpeGVsT2Zmc2V0QXhpc0Zyb21TY3JvbGxibG9jayAtIHBhZGRpbmdQcm9wcy50b3BcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gdG9wICsgJ3B4J1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUubGVmdCA9ICdhdXRvJ1xuXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnRsaXN0Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICAgICAgYDBweCAwcHggJHtnYXBQcm9wcy5jb2x1bW59cHggMHB4YDpcbiAgICAgICAgICAgICAgICAgICAgYDBweGBcblxuICAgICAgICB9IGVsc2UgeyAvLyBvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJ1xuXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gcGl4ZWxPZmZzZXRBeGlzRnJvbVNjcm9sbGJsb2NrIC0gcGFkZGluZ1Byb3BzLmxlZnRcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUudG9wID0gJ2F1dG8nXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCdcblxuICAgICAgICAgICAgaGVhZEVsZW1lbnQuc3R5bGUucGFkZGluZyA9IFxuICAgICAgICAgICAgICAgIGhlYWRjb250ZW50bGlzdC5sZW5ndGg/XG4gICAgICAgICAgICAgICAgICAgIGAwcHggJHtnYXBQcm9wcy5yb3d9cHggMHB4IDBweGA6XG4gICAgICAgICAgICAgICAgICAgIGAwcHhgXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09WyBVUERBVEUgQ09OVEVOVCB0aHJvdWdoIHNjcm9sbCBdPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB1cGRhdGVDcmFkbGVDb250ZW50IGRvZXMgbm90IHRvdWNoIHRoZSB2aWV3cG9ydCBlbGVtZW50J3Mgc2Nyb2xsIHBvc2l0aW9uIGZvciB0aGUgc2Nyb2xsYmxvY2tcbiAgICAvLyBpbnN0ZWFkIGl0IHJlY29uZmlndXJlcyBlbGVtZW50cyB3aXRoaW4gdGhlIGNyYWRsZS4gSXQgaXMgY2FsbGVkIHNvbGVseSBmcm9tXG4gICAgLy8gYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2sgb2YgaW50ZXJydXB0SGFuZGxlci5cbiAgICAvLyB0eXBpY2FsbHkgY2FsbGVkIGZvciBzY3JvbGwgYWN0aW9uLCBidXQgY2FuIGFsc28gYmUgY2FsbGVkIGlmIHRoZSB0cmlnZ2VyTGluZUNlbGwgY2hhbmdlc1xuICAgIC8vIHNpemUgd2l0aCB2YXJpYW50IGxheW91dC5cblxuICAgIHB1YmxpYyB1cGRhdGVDcmFkbGVDb250ZW50ID0gKCkgPT4ge1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIDEuIGluaXRpYWxpemUgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcmFkbGVQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6Y3JhZGxlQ29udGVudCxcblxuICAgICAgICAgICAgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IGNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVIYW5kbGVycyA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEksIFxuICAgICAgICAgICAgICAgIGxheW91dEhhbmRsZXIsIFxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlciwgXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBzZXJ2aWNlSGFuZGxlcixcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gPSBjcmFkbGVIYW5kbGVycyxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIHNoaWZ0aW5zdHJ1Y3Rpb24sIFxuICAgICAgICAgICAgICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIC8vIHRyaWdnZXIgQ2VsbEZyYW1lXG5cbiAgICAgICAgICAgIH0gPSBpbnRlcnJ1cHRIYW5kbGVyLFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZWxlbWVudHM6IGNyYWRsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YVxuXG4gICAgICAgICAgICB9ID0gbGF5b3V0SGFuZGxlcixcbiAgICAgICAgXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24sIFxuICAgICAgICAgICAgICAgIGNhY2hlLFxuICAgICAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlck1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGxheW91dCwgXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCwgXG4gICAgICAgICAgICAgICAgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgICAgICAvLyBnYXAsXG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCwgLy8gZGVidWdcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICBnYXBQcm9wcyxcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIGNyb3NzY291bnQsXG4gICAgICAgICAgICAgICAgbG93aW5kZXg6bGlzdGxvd2luZGV4LFxuXG4gICAgICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wcyxcblxuICAgICAgICAgICAgLy8gbmV3IHZhcnNcbiAgICAgICAgICAgIGN1cnJlbnRTY3JvbGxQb3MgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0LFxuXG4gICAgICAgICAgICBtb2RlbGNvbnRlbnRsaXN0ID0gY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMgfHwgW10sXG5cbiAgICAgICAgICAgIHByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXggPSAobW9kZWxjb250ZW50bGlzdFswXT8ucHJvcHMuaW5kZXggfHwgMClcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgMy4gQ2FsY3VsYXRlIHNoaWZ0cyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNyYWRsZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgLy8gYnkgaW5kZXhcbiAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZUl0ZW1TaGlmdDogY3JhZGxlSXRlbVNoaWZ0LCBcbiAgICAgICAgICAgIG5ld0F4aXNSZWZlcmVuY2VJbmRleDogYXhpc1JlZmVyZW5jZUluZGV4LCBcbiAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJdGVtU2hpZnQ6IGF4aXNJdGVtU2hpZnQsIFxuXG4gICAgICAgICAgICAvLyBjb3VudHNcbiAgICAgICAgICAgIG5ld0NyYWRsZUNvbnRlbnRDb3VudDogY3JhZGxlQ29udGVudENvdW50LFxuICAgICAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsXG4gICAgICAgICAgICBsaXN0RW5kQ2hhbmdlQ291bnQsXG5cbiAgICAgICAgICAgIC8vIHBpeGVsc1xuICAgICAgICAgICAgbmV3UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0LFxuXG4gICAgICAgIH0gPSBjYWxjdWxhdGVTaGlmdFNwZWNzKHtcblxuICAgICAgICAgICAgc2hpZnRpbnN0cnVjdGlvbixcbiAgICAgICAgICAgIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zLFxuICAgICAgICAgICAgY3VycmVudFNjcm9sbFBvcyxcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudDogdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG5cbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICBjcmFkbGVDb250ZW50UHJvcHMsXG4gICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLFxuICAgICAgICAgICAgY3JhZGxlQ29udGVudCxcbiAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLFxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgPSBuZXdQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQsXG4gICAgICAgICAgICBpc1NoaWZ0ID0gISgoYXhpc0l0ZW1TaGlmdCA9PSAwKSAmJiAoY3JhZGxlSXRlbVNoaWZ0ID09IDApKSxcbiAgICAgICAgICAgIGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgaGVhZEVsZW1lbnQgPSBjcmFkbGVFbGVtZW50cy5oZWFkUmVmLmN1cnJlbnRcblxuICAgICAgICAvLyB0aGUgdHJpZ2dlcmxpbmVzIHdpbGwgYmUgbW92ZWQsIHNvIGRpc2Nvbm5lY3QgdGhlbSBmcm9tIHRoZWlyIG9ic2VydmVyLlxuICAgICAgICAvLyB0aGV5IGFyZSByZWNvbm5lY3RlZCB3aXRoICdyZW5kZXJ1cGRhdGVkY29udGVudCcgc3RhdGUgaW4gY3JhZGxlLnRzeCwgb3IgYXQgJ2ZpbmlzaHVwZGF0ZWZvcnZhcmlhYmlsaXR5J1xuICAgICAgICAvLyAgICBmb3IgdmFyaWFibGUgY29udGVudFxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5kaXNjb25uZWN0KClcblxuICAgICAgICAvLyBhYmFuZG9uIG9wdGlvbjsgbm90aGluZyB0byBkbyBidXQgcmVwb3NpdGlvblxuICAgICAgICBpZiAoIWlzU2hpZnQpIHsgLy8gY2FuIGhhcHBlbiBmaXJzdCByb3c7IG92ZXJzaXplZCBsYXN0IHJvd1xuICAgIFxuICAgICAgICAgICAgaWYgKGxheW91dCA9PSAndW5pZm9ybScpIHsvLyB0aGVyZSdzIGEgc2VwYXJhdGUgcm91dGluZSBmb3IgdmFyaWFibGUgYWRqdXN0bWVudHMgYW5kIGNzc1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IHRoaXMuYXBwbHlTdHlsaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0LCBvcmllbnRhdGlvbiwgcGFkZGluZ1Byb3BzLCBnYXBQcm9wcywgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCwgcGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0LCBjdXJyZW50U2Nyb2xsUG9zLCBcbiAgICAgICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQ6Y3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICBheGlzRWxlbWVudCwgaGVhZEVsZW1lbnQsIGxpc3Rsb3dpbmRleCxcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA0LiByZWNvbmZpZ3VyZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBjb2xsZWN0IGNoYW5nZWQgY29udGVudFxuICAgICAgICBsZXQgdXBkYXRlZENvbnRlbnRMaXN0LCBkZWxldGVkQ29udGVudEl0ZW1zID0gW11cblxuICAgICAgICBpZiAobGlzdFN0YXJ0Q2hhbmdlQ291bnQgfHwgbGlzdEVuZENoYW5nZUNvdW50KSB7IC8vIGlmIGVpdGhlciBpcyBub24tMCB0aGVuIG1vZGlmeSBjb250ZW50XG5cbiAgICAgICAgICAgIFsgdXBkYXRlZENvbnRlbnRMaXN0LCBkZWxldGVkQ29udGVudEl0ZW1zIF0gPSBnZXRDZWxsRnJhbWVDb21wb25lbnRMaXN0KHtcbiAgICAgICAgICAgICAgICBjYWNoZUFQSSxcbiAgICAgICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBjcmFkbGVDb250ZW50Q291bnQsXG4gICAgICAgICAgICAgICAgd29ya2luZ0NvbnRlbnRMaXN0Om1vZGVsY29udGVudGxpc3QsXG4gICAgICAgICAgICAgICAgbGlzdFN0YXJ0Q2hhbmdlQ291bnQsXG4gICAgICAgICAgICAgICAgbGlzdEVuZENoYW5nZUNvdW50LFxuICAgICAgICAgICAgICAgIGNyYWRsZVJlZmVyZW5jZUluZGV4OnByZXZpb3VzQ3JhZGxlUmVmZXJlbmNlSW5kZXgsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZENvdW50ZXJSZWY6dGhpcy5pbnN0YW5jZUlkQ291bnRlclJlZixcbiAgICAgICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJNZXNzYWdlcyxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNyYWRsZUNvbnRlbnRQcm9wcy5zaXplID0gdXBkYXRlZENvbnRlbnRMaXN0Lmxlbmd0aFxuXG4gICAgICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLnNpemUpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgICAgICBsb3dpbmRleCA9IHVwZGF0ZWRDb250ZW50TGlzdFswXS5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaGlnaGluZGV4ID0gbG93aW5kZXggKyBjcmFkbGVDb250ZW50UHJvcHMuc2l6ZSAtIDFcblxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbG93aW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBTT0w6KHZpcnR1YWxMaXN0UHJvcHMubG93aW5kZXggPT0gbG93aW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICBFT0w6KHZpcnR1YWxMaXN0UHJvcHMuaGlnaGluZGV4ID09IGhpZ2hpbmRleCksXG4gICAgICAgICAgICAgICAgfSlcblxuXG4gICAgICAgICAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5TT0wgJiYgIWxheW91dEhhbmRsZXIuU09MU2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dEhhbmRsZXIuU09MU2lnbmFsID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLkVPTCAmJiAhbGF5b3V0SGFuZGxlci5FT0xTaWduYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5FT0xTaWduYWwgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbG93aW5kZXg6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBoaWdoaW5kZXg6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXg6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBTT0w6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBFT0w6dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGdyaWRzdGFydFxuICAgICAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5TT0wgPT09IHRydWUgJiYgXG4gICAgICAgICAgICAgICAgISh2aXJ0dWFsTGlzdFByb3BzLmJhc2Vyb3dibGFua3MgPT09IHVuZGVmaW5lZCB8fCBcbiAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLmJhc2Vyb3dibGFua3MgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgZ3JpZHN0YXJ0ID0gYCR7dmlydHVhbExpc3RQcm9wcy5iYXNlcm93YmxhbmtzICsgMX1gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyaWRzdGFydCA9ICd1bnNldCdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgXG4gICAgICAgICAgICAgICAgZmlyc3Rjb21wb25lbnQgPSB1cGRhdGVkQ29udGVudExpc3RbMF0sXG4gICAgICAgICAgICAgICAgZ3JpZHN0YXJ0c3R5bGUgPVxuICAgICAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgICAgICB7IGdyaWRDb2x1bW5TdGFydDpncmlkc3RhcnQgfTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgZ3JpZFJvd1N0YXJ0OmdyaWRzdGFydCB9LFxuICAgICAgICAgICAgICAgIHJldmlzZWRjb21wb25lbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoZmlyc3Rjb21wb25lbnQse2dyaWRzdGFydHN0eWxlfSlcblxuICAgICAgICAgICAgdXBkYXRlZENvbnRlbnRMaXN0WzBdID0gcmV2aXNlZGNvbXBvbmVudFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHVwZGF0ZWRDb250ZW50TGlzdCA9IG1vZGVsY29udGVudGxpc3RcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3JhZGxlQ29udGVudFByb3BzLCB7IGF4aXNSZWZlcmVuY2VJbmRleCB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsZXRlZENvbnRlbnRJdGVtcy5sZW5ndGggJiYgKGNhY2hlID09ICdjcmFkbGUnKSkge1xuXG4gICAgICAgICAgICBjb25zdCB7IGRlbGV0ZUxpc3RDYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgICAgIGxldCBkTGlzdENhbGxiYWNrXG4gICAgICAgICAgICBpZiAoZGVsZXRlTGlzdENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrKCdwYXJlIGNhY2hlIHRvIGNyYWRsZScsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGVQb3J0YWxzKGNhY2hlQVBJLCBkZWxldGVkQ29udGVudEl0ZW1zLCBkTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyA1LiBhbGxvY2F0ZSBjcmFkbGUgY29udGVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBbIGhlYWRjb250ZW50LCB0YWlsY29udGVudCBdID0gYWxsb2NhdGVDb250ZW50TGlzdChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250ZW50bGlzdDp1cGRhdGVkQ29udGVudExpc3QsXG4gICAgICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4LFxuICAgICAgICAgICAgICAgIGxheW91dEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgLy8gbGlzdGxvd2luZGV4LFxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMgPSB1cGRhdGVkQ29udGVudExpc3RcbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gaGVhZGNvbnRlbnRcbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gdGFpbGNvbnRlbnRcblxuICAgICAgICBpZiAoc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2spIHtcblxuICAgICAgICAgICAgY29uc3QgY3N0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzLnJlZmVyZW5jZUluZGV4Q2FsbGJhY2soXG5cbiAgICAgICAgICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsJ3VwZGF0ZUNyYWRsZUNvbnRlbnQnLCBjc3RhdGUpXG4gICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgNi4gY3NzIGNoYW5nZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gYXhpc1JlZmVyZW5jZUluZGV4IC0gbGlzdGxvd2luZGV4XG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgPSBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnRcblxuICAgICAgICBpZiAoaXNTaGlmdCkgY2FjaGVBUEkucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG4gICAgICAgIGlmIChsYXlvdXQgPT0gJ3VuaWZvcm0nKSB7Ly8gdGhlcmUncyBhIHNlcGFyYXRlIHJvdXRpbmUgZm9yIHZhcmlhYmxlIGFkanVzdG1lbnRzIGFuZCBjc3NcblxuICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IHRoaXMuYXBwbHlTdHlsaW5nKHtcbiAgICAgICAgICAgICAgICBsYXlvdXQsIG9yaWVudGF0aW9uLCBwYWRkaW5nUHJvcHMsIGdhcFByb3BzLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIFxuICAgICAgICAgICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICAgICAgICAgIGF4aXNSZWZlcmVuY2VJbmRleCwgcGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0LCBjdXJyZW50U2Nyb2xsUG9zLCBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudCxcbiAgICAgICAgICAgICAgICBheGlzRWxlbWVudCwgaGVhZEVsZW1lbnQsIGxpc3Rsb3dpbmRleFxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbG9hZCBuZXcgZGlzcGxheSBkYXRhXG4gICAgICAgIGNyYWRsZUNvbnRlbnQuaGVhZERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzXG4gICAgICAgIGNyYWRsZUNvbnRlbnQudGFpbERpc3BsYXlDb21wb25lbnRzID0gY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzXG5cbiAgICB9XG5cbiAgICAvLyBtb3ZlIHRoZSBvZmZzZXQgb2YgdGhlIGF4aXNcbiAgICBwcml2YXRlIGFwcGx5U3R5bGluZyA9ICh7XG4gICAgICAgIGxheW91dCwgb3JpZW50YXRpb24sIHBhZGRpbmdQcm9wcywgZ2FwUHJvcHMsIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgXG4gICAgICAgIGNyb3NzY291bnQsIFxuICAgICAgICBheGlzUmVmZXJlbmNlSW5kZXgsIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCwgY3VycmVudFNjcm9sbFBvcywgXG4gICAgICAgIGhlYWRjb250ZW50LFxuICAgICAgICBheGlzRWxlbWVudCwgaGVhZEVsZW1lbnQsIGxpc3Rsb3dpbmRleFxuICAgIH0pID0+IHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgcHJlQXhpc1ZpcnR1YWxSb3dzID0gTWF0aC5jZWlsKCAoIGF4aXNSZWZlcmVuY2VJbmRleCAtIGxpc3Rsb3dpbmRleCApL2Nyb3NzY291bnQgKSxcblxuICAgICAgICAgICAgZ2FwbGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMuY29sdW1uOlxuICAgICAgICAgICAgICAgICAgICBnYXBQcm9wcy5yb3csXG4gICAgXG4gICAgICAgICAgICBiYXNlQ2VsbExlbmd0aCA9IFxuICAgICAgICAgICAgICAgICgob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIGNlbGxXaWR0aClcbiAgICAgICAgICAgICAgICArIGdhcGxlbmd0aCxcblxuICAgICAgICAgICAgcGFkZGluZ09mZnNldCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3A6XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5sZWZ0LFxuXG4gICAgICAgICAgICB0ZXN0U2Nyb2xsUG9zID0gKGJhc2VDZWxsTGVuZ3RoICogcHJlQXhpc1ZpcnR1YWxSb3dzKSArIHBhZGRpbmdPZmZzZXQgLSBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNjcm9sbERpZmYgPSB0ZXN0U2Nyb2xsUG9zIC0gY3VycmVudFNjcm9sbFBvc1xuXG4gICAgICAgIGlmIChzY3JvbGxEaWZmKSB7XG5cbiAgICAgICAgICAgIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCArPSBzY3JvbGxEaWZmXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgdGhlIGF4aXMgdG8gYWNjb21vZGF0ZSBjaGFuZ2Ugb2YgY29udGVudFxuICAgICAgICBsZXQgdG9wQXhpc1BvcywgbGVmdEF4aXNQb3NcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgdG9wQXhpc1BvcyA9IGN1cnJlbnRTY3JvbGxQb3MgKyBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQgLSBwYWRkaW5nUHJvcHMudG9wXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9IHRvcEF4aXNQb3MgKyAncHgnXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGhlYWRFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcbiAgICAgICAgICAgICAgICBoZWFkY29udGVudC5sZW5ndGg/XG4gICAgICAgICAgICAgICAgICAgIGAwcHggMHB4ICR7Z2FwUHJvcHMuY29sdW1ufXB4IDBweGA6XG4gICAgICAgICAgICAgICAgICAgIGAwcHhgXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIGxlZnRBeGlzUG9zID0gY3VycmVudFNjcm9sbFBvcyArIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCAtIHBhZGRpbmdQcm9wcy5sZWZ0XG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50LnN0eWxlLnRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnRBeGlzUG9zICsgJ3B4J1xuXG4gICAgICAgICAgICBoZWFkRWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXG4gICAgICAgICAgICAgICAgaGVhZGNvbnRlbnQubGVuZ3RoP1xuICAgICAgICAgICAgICAgICAgICBgMHB4ICR7Z2FwUHJvcHMucm93fXB4IDBweCAwcHhgOlxuICAgICAgICAgICAgICAgICAgICBgMHB4YFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydFxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PVsgUkVDT05GSUdVUkUgVEhFIFNDUk9MTEJMT0NLIEZPUiBWQVJJQUJMRSBDT05URU5UIF09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiAgXG4gICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyBpcyB0aGUgYW1vdW50IHRoZSBzY3JvbGxCbG9jayBpcyBzY3JvbGxlZCB0byByZXZlYWwgdGhlIGNlbnRyZSBvZiB0aGUgQ3JhZGxlXG4gICAgICAgIGF0IHRoZSBlZGdlIG9mIHRoZSBWaWV3cG9ydFxuICAgIFxuICAgIHRoZSBsZW5ndGggb2YgdGhlIFNjcm9sbGJsb2NrIGlzIHNob3J0ZW5lZCBieSB0aGUgYW1vdW50IHRoZSBtZWFzdXJlZCB0YWlsIGxlbmd0aCBkaWZmZXJzIGZyb20gdGhlIFxuICAgICAgICBiYXNlIHRhaWwgbGVuZ3RoXG5cbiAgICBDYWxsZWQgZm9yIHZhcmlhYmxlIGxheW91dCBvbmx5LiBBbGwgRE9NIGVsZW1lbnRzIHNob3VsZCBoYXZlIChpZGVhbGx5KSBiZWVuIHJlbmRlcmVkIGF0IHRoaXMgcG9pbnQsXG4gICAgICAgIGJ1dCB0aGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB3aGF0IGl0IGZpbmRzXG4gICAgc2V0cyBDU1M6IHNjcm9sbGJsb2NrRWxlbWVudCB0b3AgYW5kIGhlaWdodCAob3IgbGVmdCBhbmQgd2lkdGgpLCBhbmQgYXhpc0VsZW1lbnQgdG9wIChvciBsZWZ0KVxuICAgIHRvIGdldCBjbG9zZXIgdG8gbmF0dXJhbCBwcm9wb3J0aW9uc1xuKi9cblxuICAgIHByaXZhdGUgbGF0ZXN0QXhpc1JlZmVyZW5jZUluZGV4XG5cbiAgICBwdWJsaWMgYWRqdXN0U2Nyb2xsYmxvY2tGb3JWYXJpYWJpbGl0eSA9IChzb3VyY2UpID0+IHtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzZXR1cCBiYXNlIHZhbHVlcyBhbmQgcmVmZXJlbmNlcyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gcmVzb3VyY2VzLi4uXG4gICAgICAgIGNvbnN0XG4gICAgICAgICAgICAvLyBhY3F1aXJlIHJlcG9zaXRvcmllc1xuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuICAgICAgICAgICAgY3JhZGxlSGFuZGxlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBzY3JvbGxIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyIFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSGFuZGxlcnMsXG5cbiAgICAgICAgICAgIC8vIGV4dHJhY3QgcmVzb3VyY2VzIGZyb20gcmVwb3NpdG9yaWVzXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgZWxlbWVudHM6IGNyYWRsZUVsZW1lbnRzLCBcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEgXG5cbiAgICAgICAgICAgIH0gPSBsYXlvdXRIYW5kbGVyLFxuXG4gICAgICAgICAgICAvLyBjdXJyZW50IGNvbmZpZ3VyYXRpb25zLi4uXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uOiBheGlzUmVmZXJlbmNlUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0OiBwaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnQsXG5cbiAgICAgICAgICAgIH0gPSBjcmFkbGVQb3NpdGlvbkRhdGEsXG5cbiAgICAgICAgICAgIC8vIGVsZW1lbnQgcmVmZXJlbmNlcy4uLlxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIGhlYWRHcmlkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHRhaWxHcmlkRWxlbWVudCA9IGNyYWRsZUVsZW1lbnRzLnRhaWxSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICAvLyBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgICAgICAgICAgLy8gZ2FwLCBcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aCxcblxuICAgICAgICAgICAgfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgIGdhcFByb3BzLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICAgICAgcm93Y291bnQ6bGlzdFJvd2NvdW50LFxuICAgICAgICAgICAgICAgIGxvd2luZGV4Omxpc3Rsb3dpbmRleCxcbiAgICAgICAgICAgICAgICByb3dzaGlmdDpsaXN0cm93c2hpZnQsXG5cbiAgICAgICAgICAgIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3ZhciBjcmFkbGVQb3NpdGlvbkRhdGEnLCB7Li4uY3JhZGxlUG9zaXRpb25EYXRhfSlcblxuICAgICAgICAvLyBjYW5jZWwgZW5kIG9mIGxpc3QgcmVjb25jaWxpYXRpb24gaWYgc2Nyb2xsaW5nIHJlLXN0YXJ0c1xuICAgICAgICBpZiAoc2Nyb2xsSGFuZGxlci5pc1Njcm9sbGluZyAmJiB0aGlzLmdyaWRSZXNpemVPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5ncmlkUmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICB0aGlzLmdyaWRSZXNpemVPYnNlcnZlciA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dElEKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBjYWxjdWxhdGlvbnMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZUluZGV4ID0gYXhpc1JlZmVyZW5jZVBvc2l0aW9uICsgbGlzdGxvd2luZGV4LFxuICAgICAgICAgICAgLy8gcm93Y291bnRzIGFuZCByb3cgb2Zmc2V0cyBmb3IgcG9zaXRpb25pbmdcbiAgICAgICAgICAgIC8vIGxpc3RSb3djb3VudCB0YWtlbiBmcm9tIGludGVybmFsIHByb3BlcnRpZXMgYWJvdmVcbiAgICAgICAgICAgIGhlYWRSb3dDb3VudCA9IE1hdGguY2VpbChoZWFkR3JpZEVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgvY3Jvc3Njb3VudCksXG4gICAgICAgICAgICB0YWlsUm93Q291bnQgPSBNYXRoLmNlaWwodGFpbEdyaWRFbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoL2Nyb3NzY291bnQpLFxuXG4gICAgICAgICAgICAvLyByZWZlcmVuY2Ugcm93cyAtIGNyYWRsZSBmaXJzdC9sYXN0OyBheGlzOyBsaXN0IGVuZFxuICAgICAgICAgICAgYXhpc1JlZmVyZW5jZVJvdyA9IE1hdGguZmxvb3IoYXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpLFxuXG4gICAgICAgICAgICBjcmFkbGVSZWZlcmVuY2VSb3cgPSBheGlzUmVmZXJlbmNlUm93IC0gaGVhZFJvd0NvdW50LFxuICAgICAgICAgICAgY3JhZGxlTGFzdFJvdyA9IGF4aXNSZWZlcmVuY2VSb3cgKyAodGFpbFJvd0NvdW50IC0gMSksXG4gICAgICAgICAgICBsaXN0TGFzdFJvdyA9IGxpc3RSb3djb3VudCAtIDEgKyBsaXN0cm93c2hpZnQsXG5cbiAgICAgICAgICAgIHByZUNyYWRsZVJvd0NvdW50ID0gY3JhZGxlUmVmZXJlbmNlUm93IC0gbGlzdHJvd3NoaWZ0LFxuICAgICAgICAgICAgcG9zdENyYWRsZVJvd0NvdW50ID0gbGlzdExhc3RSb3cgLSBjcmFkbGVMYXN0Um93LFxuXG4gICAgICAgICAgICBnYXBsZW5ndGggPSBcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgICAgICBnYXBQcm9wcy5jb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLnJvdyxcblxuICAgICAgICAgICAgLy8gYmFzZSBwaXhlbCB2YWx1ZXNcbiAgICAgICAgICAgIGJhc2VDZWxsTGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgY2VsbFdpZHRoXG4gICAgICAgICAgICAgICAgKSArIGdhcGxlbmd0aCxcblxuICAgICAgICAgICAgbWVhc3VyZWRUYWlsUGl4ZWxMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHRhaWxHcmlkRWxlbWVudC5vZmZzZXRIZWlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIHRhaWxHcmlkRWxlbWVudC5vZmZzZXRXaWR0aCxcblxuICAgICAgICAgICAgcG9zdENyYWRsZVJvd3NQaXhlbExlbmd0aCA9IChwb3N0Q3JhZGxlUm93Q291bnQgKiBiYXNlQ2VsbExlbmd0aCksXG5cbiAgICAgICAgICAgIHBhZGRpbmdUYWlsT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLmJvdHRvbTpcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLnJpZ2h0LFxuXG4gICAgICAgICAgICB0b3RhbFBvc3RBeGlzU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCA9IFxuICAgICAgICAgICAgICAgIHBvc3RDcmFkbGVSb3dzUGl4ZWxMZW5ndGggKyBtZWFzdXJlZFRhaWxQaXhlbExlbmd0aCArIHBhZGRpbmdUYWlsT2Zmc2V0LFxuXG4gICAgICAgICAgICBwYWRkaW5nSGVhZE9mZnNldCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3A6XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5sZWZ0LFxuXG4gICAgICAgICAgICAvLyBiYXNlIGZpZ3VyZXMgdXNlZCBmb3IgcHJlQXhpcyAjcyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlcG9zaXRpb25pbmcsIHdoaWNoIHVzZXMgYmFzZSBmaWd1cmVzXG4gICAgICAgICAgICB0b3RhbFByZUF4aXNTY3JvbGxibG9ja1BpeGVsTGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKChwcmVDcmFkbGVSb3dDb3VudCArIGhlYWRSb3dDb3VudCkgKiBiYXNlQ2VsbExlbmd0aCkgKyBwYWRkaW5nSGVhZE9mZnNldFxuXG4gICAgICAgIHRoaXMubGF0ZXN0QXhpc1JlZmVyZW5jZUluZGV4ID0gYXhpc1JlZmVyZW5jZUluZGV4XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBsYXlvdXQgYWRqdXN0bWVudHMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBpbnRlcnJ1cHRIYW5kbGVyLnNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHRvdGFsU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCA9IHRvdGFsUHJlQXhpc1Njcm9sbGJsb2NrUGl4ZWxMZW5ndGggKyB0b3RhbFBvc3RBeGlzU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCxcbiAgICAgICAgICAgIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MgPSB0b3RhbFByZUF4aXNTY3JvbGxibG9ja1BpeGVsTGVuZ3RoIC0gcGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0LFxuICAgICAgICAgICAgbmV3UGl4ZWxPZmZzZXRBeGlzRnJvbVNjcm9sbGJsb2NrID0gdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyArIHBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCAvLyBpZS4gdG90YWxQcmVBeGlzUGl4ZWxMZW5ndGgsIGJ1dCBzZW1hbnRpY3NcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBheGlzRWxlbWVudC5zdHlsZS50b3AgPSAobmV3UGl4ZWxPZmZzZXRBeGlzRnJvbVNjcm9sbGJsb2NrIC0gcGFkZGluZ1Byb3BzLnRvcCkgKyAncHgnXG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAodG90YWxTY3JvbGxibG9ja1BpeGVsTGVuZ3RoKSArICdweCdcblxuICAgICAgICB9IGVsc2UgeyAvLyAnaG9yaXpvbnRhbCdcblxuICAgICAgICAgICAgYXhpc0VsZW1lbnQuc3R5bGUubGVmdCA9IChuZXdQaXhlbE9mZnNldEF4aXNGcm9tU2Nyb2xsYmxvY2sgLSBwYWRkaW5nUHJvcHMubGVmdCkgKyAncHgnXG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS53aWR0aCA9IHRvdGFsU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCArICdweCdcblxuICAgICAgICB9XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBzY3JvbGxQb3MgYWRqdXN0bWVudCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGhlYWRHcmlkRWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXG4gICAgICAgICAgICAgICAgaGVhZFJvd0NvdW50P1xuICAgICAgICAgICAgICAgICAgICBgMHB4IDBweCAke2dhcFByb3BzLmNvbHVtbn1weCAwcHhgOlxuICAgICAgICAgICAgICAgICAgICBgMHB4YFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGhlYWRHcmlkRWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXG4gICAgICAgICAgICAgICAgaGVhZFJvd0NvdW50P1xuICAgICAgICAgICAgICAgICAgICBgMHB4ICR7Z2FwUHJvcHMucm93fXB4IDBweCAwcHhgOlxuICAgICAgICAgICAgICAgICAgICBgMHB4YFxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZW1wb3JhcmlseSBhZGp1c3Qgc2Nyb2xsYmxvY2tFbGVtZW50IG9mZnNldDsgb25BZnRlclNjcm9sbEZvclZhcmlhYmxlIHRyYW5zZmVycyBzaGlmdCB0byB0cmFja2luZ0Jsb2NrU2Nyb2xsUG9zXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgc3RhcnRpbmdTY3JvbGxQb3MgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0LFxuXG4gICAgICAgICAgICBzY3JvbGxEaWZmID0gdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyAtIHN0YXJ0aW5nU2Nyb2xsUG9zXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLnRvcCA9IC1zY3JvbGxEaWZmICsgJ3B4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5sZWZ0ID0gLXNjcm9sbERpZmYgKyAncHgnXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBnb3RvSW5kZXggb3IgcmVzaXplIG92ZXJzaG9vdFxuICAgICAgICBpZiAoKHNvdXJjZSA9PSAnc2V0Y3JhZGxlJykgJiYgIXBvc3RDcmFkbGVSb3dDb3VudCkgeyBcblxuICAgICAgICAgICAgY29uc3QgdGFpbEdyaWRFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgIHRoaXMuZ3JpZFJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMucmVzaXplT2JzZXJ2ZXJDYWxsYmFjaylcblxuICAgICAgICAgICAgdGhpcy5ncmlkUmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0YWlsR3JpZEVsZW1lbnQpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemVUaW1lb3V0SURcblxuICAgIHByaXZhdGUgcmVzaXplT2JzZXJ2ZXJDYWxsYmFjayA9ICgpID0+IHtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0SUQpXG5cbiAgICAgICAgdGhpcy5yZXNpemVUaW1lb3V0SUQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dElEKSAvLyBydW4gb25jZVxuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAvLyBjcmFkbGVIYW5kbGVycyA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgLy8geyBzZXJ2aWNlSGFuZGxlciB9ID0gY3JhZGxlSGFuZGxlcnMsXG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICAgICAgeyBvcmllbnRhdGlvbiB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrTGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50Lm9mZnNldFdpZHRoLFxuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0TGVmdCxcblxuICAgICAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnQsXG5cbiAgICAgICAgICAgICAgICB2aWV3cG9ydFNjcm9sbFBvcyA9IFxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvdmVyc2hvb3RcbiAgICAgICAgICAgIGlmICgoc2Nyb2xsYmxvY2tMZW5ndGggKyBzY3JvbGxibG9ja09mZnNldCAtIHZpZXdwb3J0U2Nyb2xsUG9zKSA8IHZpZXdwb3J0TGVuZ3RoKSB7IC8vIG92ZXJzaG9vdFxuXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbGJsb2NrT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gMFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSAwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDpzY3JvbGxibG9ja0xlbmd0aCAtIHZpZXdwb3J0TGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDpzY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6J3Ntb290aCdcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6c2Nyb2xsYmxvY2tMZW5ndGggLSB2aWV3cG9ydExlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOidzbW9vdGgnXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGwob3B0aW9ucylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZFJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkUmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkUmVzaXplT2JzZXJ2ZXIgPSBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgNTAwKVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gWyBJTlRFUk5BTCBDT05URU5UIE1BTkFHRU1FTlQgU0VSVklDRVMgXT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIGd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nID0gKCkgPT4geyBcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgY2FjaGVNYXgsIE1BWF9DQUNIRV9PVkVSX1JVTiB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIG1vZGVsQ29tcG9uZW50TGlzdCA9IHRoaXMuY29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHNcbiBcbiAgICAgICAgaWYgKGNhY2hlQVBJLmd1YXJkQWdhaW5zdFJ1bmF3YXlDYWNoaW5nKGNhY2hlTWF4LCBtb2RlbENvbXBvbmVudExpc3QubGVuZ3RoLCBNQVhfQ0FDSEVfT1ZFUl9SVU4gKSkge1xuXG4gICAgICAgICAgICB0aGlzLnBhcmVDYWNoZVRvTWF4KClcblxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBwYXJlQ2FjaGVUb01heCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IGNhY2hlLCBzY3JvbGxlcklEIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG4gICAgICAgIFxuICAgICAgICBpZiAoY2FjaGUgPT0gJ2tlZXBsb2FkJykge1xuXG4gICAgICAgICAgICBjb25zdCBcbiAgICAgICAgICAgICAgICBjcmFkbGVIYW5kbGVycyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIHsgY2FjaGVBUEksIHNlcnZpY2VIYW5kbGVyIH0gPSBjcmFkbGVIYW5kbGVycyxcblxuICAgICAgICAgICAgICAgIG1vZGVsSW5kZXhMaXN0ID0gdGhpcy5nZXRNb2RlbEluZGV4TGlzdCgpLFxuXG4gICAgICAgICAgICAgICAgeyBkZWxldGVMaXN0Q2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuXG4gICAgICAgICAgICBsZXQgZExpc3RDYWxsYmFja1xuICAgICAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaygncGFyZSBjYWNoZSB0byBjYWNoZU1heCcsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FjaGVBUEkucGFyZUNhY2hlVG9NYXgoXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5jYWNoZU1heCwgbW9kZWxJbmRleExpc3QsIGRMaXN0Q2FsbGJhY2spKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYWNoZUFQSS5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBFWFRFUk5BTCBTRVJWSUNFIFNVUFBPUlQgXT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBzdXBwb3J0cyBjbGVhckNhY2hlXG4gICAgcHVibGljIGNsZWFyQ3JhZGxlID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZUNvbnRlbnQgPSB0aGlzLmNvbnRlbnRcbiAgICAgICAgLy8gY29uc3QgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjcmFkbGVDb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cyA9IFtdXG5cbiAgICAgICAgY3JhZGxlQ29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gW11cbiAgICAgICAgY3JhZGxlQ29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gW11cblxuICAgIH1cblxuICAgIC8vIGNhbGxlZCBmcm9tIHNlcnZpY2VIYW5kbGVyIGdldENyYWRsZUluZGV4TWFwXG4gICAgLy8gYWxzbyBzdXBwb3J0cyBwYXJlQ2FjaGVUb01heCwgbWF0Y2hDYWNoZVRvQ3JhZGxlXG4gICAgcHVibGljIGdldE1vZGVsSW5kZXhMaXN0KCkge1xuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlTW9kZWxDb21wb25lbnRzIH0gPSB0aGlzLmNvbnRlbnRcblxuICAgICAgICBpZiAoIWNyYWRsZU1vZGVsQ29tcG9uZW50cykge1xuXG4gICAgICAgICAgICByZXR1cm4gW10gXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIGNyYWRsZU1vZGVsQ29tcG9uZW50cy5tYXAoKGl0ZW0pPT5pdGVtLnByb3BzLmluZGV4KVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG1vdmVJbmRleCBhbmQgaW5zZXJ0UmVtb3ZlSW5kZXgsIFxuICAgIC8vIHVwZGF0ZXMgY3JhZGxlIGNvbnRpZ3VvdXMgaXRlbXMgZnJvbSBzdGFydENoYW5nZUluZGV4IG9yIHN0YXJ0IG9mIGNyYWRsZVxuICAgIHB1YmxpYyBzeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlKHVwZGF0ZWRJbmRleExpc3QsIGlzSW5zZXJ0UmVtb3ZlID0gMCwgc3RhcnRDaGFuZ2VJbmRleCA9IG51bGwpIHsgLy8gMCA9IG1vdmVcblxuICAgICAgICAvLyBhc3NzZW1ibGUgcmVzb3VyY2VzXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsgaW5kZXhUb0l0ZW1JRE1hcCB9ID0gY2FjaGVBUEksXG5cbiAgICAgICAgICAgIHsgY3JhZGxlTW9kZWxDb21wb25lbnRzIH0gPSB0aGlzLmNvbnRlbnQsXG5cbiAgICAgICAgICAgIHsgY3JhZGxlQ29udGVudFByb3BzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoY3JhZGxlQ29udGVudFByb3BzLnNpemUgPT0gMCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgeyBsb3dpbmRleDpsb3dTcGFuLCBoaWdoaW5kZXg6aGlnaFNwYW4gfSA9IGNyYWRsZUNvbnRlbnRQcm9wc1xuXG4gICAgICAgIGxldCBzdGFydEluZGV4LCBlbmRJbmRleFxuICAgICAgICBpZiAoaXNJbnNlcnRSZW1vdmUpIHtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0Q2hhbmdlSW5kZXggPiBoaWdoU3BhbikgcmV0dXJuXG5cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydENoYW5nZUluZGV4XG4gICAgICAgICAgICBlbmRJbmRleCA9IGhpZ2hTcGFuXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gbW92ZVxuXG4gICAgICAgICAgICBpZiAodXBkYXRlZEluZGV4TGlzdC5sZW5ndGggPT0gMCkgcmV0dXJuXG5cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSB1cGRhdGVkSW5kZXhMaXN0WzBdXG4gICAgICAgICAgICBlbmRJbmRleCA9IHVwZGF0ZWRJbmRleExpc3QuYXQoLTEpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTcGFuID0gZW5kSW5kZXggLSBzdGFydEluZGV4ICsgMVxuXG4gICAgICAgIGxldCBmaXJzdEluZGV4ID0gc3RhcnRJbmRleFxuXG4gICAgICAgIGlmIChmaXJzdEluZGV4ID4gaGlnaFNwYW4pIHJldHVyblxuXG4gICAgICAgIGlmIChmaXJzdEluZGV4IDwgbG93U3BhbikgZmlyc3RJbmRleCA9IGxvd1NwYW5cblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIGxvd1B0ciA9IGZpcnN0SW5kZXggLSBsb3dTcGFuLFxuXG4gICAgICAgICAgICBoaWdoUHRyID0gaXNJbnNlcnRSZW1vdmU/XG4gICAgICAgICAgICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzLmxlbmd0aCAtIDE6XG4gICAgICAgICAgICAgICAgTWF0aC5taW4oY3JhZGxlTW9kZWxDb21wb25lbnRzLmxlbmd0aCAtIDEsbG93UHRyICsgdXBkYXRlZFNwYW4gLSAxKVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uIHRvIHVwZGF0ZSBpbmRpdmlkdWFsIGNyYWRsZSBjb21wb25lbnRzIHRvIGNhY2hlIGNoYW5nZXNcbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc2NvbXBvbmVudEZuKGNvbXBvbmVudCwgY29tcG9uZW50cHRyLCBjb21wb25lbnRhcnJheSkge1xuXG4gICAgICAgICAgICBjb25zdCBcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvbXBvbmVudC5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgICAgICBjYWNoZUl0ZW1JRCA9IGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KVxuXG4gICAgICAgICAgICAvLyBpZiBjYWNoZSBoYXMgbm8gY29tcG9uZW50IGZvciBjcmFkbGUgaXRlbSwgdGhlbiBnZXQgb25lXG4gICAgICAgICAgICBpZiAoY2FjaGVJdGVtSUQgPT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbUlEID0gY2FjaGVBUEkuZ2V0TmV3SXRlbUlEKClcbiAgICAgICAgICAgICAgICBjb21wb25lbnRhcnJheVtjb21wb25lbnRwdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpuZXdJdGVtSUR9KVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBtYXRjaCBjYWNoZSBpdGVtSUQgdG8gY3JhZGxlIGNvbXBvbmVudCBpdGVtSURcblxuICAgICAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgICAgICBjcmFkbGVJdGVtSUQgPSBjb21wb25lbnQucHJvcHMuaXRlbUlELFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVwdHIgPSB1cGRhdGVkSW5kZXhMaXN0LmluZGV4T2YoaW5kZXgpIC8vIFRPRE8gdmVyaWZ5IG5lZWQgZm9yIHVwZGF0ZWxpc3RcblxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVwdHIgIT0gLTEpIHsgLy8gdXBkYXRlIGxpc3QgY29uZmlybXMgdGhlcmUgaXMgYSBjYWNoZSBpdGVtIGZvciB0aGlzIGluZGV4XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlSXRlbUlEID09IGNyYWRsZUl0ZW1JRCkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50YXJyYXlbY29tcG9uZW50cHRyXSA9IFJlYWN0LmNsb25lRWxlbWVudChjb21wb25lbnQsIHtpdGVtSUQ6Y2FjaGVJdGVtSUR9KVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtSUQgPSBjYWNoZUFQSS5nZXROZXdJdGVtSUQoKVxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRhcnJheVtjb21wb25lbnRwdHJdID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpuZXdJdGVtSUR9KVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHB0ciA9IGxvd1B0cjsgcHRyIDw9IGhpZ2hQdHI7IHB0cisrKSB7XG4gICAgICAgICAgICBwcm9jZXNzY29tcG9uZW50Rm4oY3JhZGxlTW9kZWxDb21wb25lbnRzW3B0cl0sIHB0ciwgY3JhZGxlTW9kZWxDb21wb25lbnRzKVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyByZW1hcEluZGV4ZXNcbiAgICBwdWJsaWMgY3JlYXRlTmV3SXRlbUlEcyhuZXdMaXN0KSB7XG5cbiAgICAgICAgaWYgKCFuZXdMaXN0Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IGNhY2hlQVBJIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgY3JhZGxlTW9kZWxDb21wb25lbnRzIH0gPSB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICB7IGNyYWRsZUNvbnRlbnRQcm9wcyB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKGNyYWRsZUNvbnRlbnRQcm9wcy5zaXplID09IDApIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHsgbG93aW5kZXg6bG93U3BhbiwgaGlnaGluZGV4OmhpZ2hTcGFuIH0gPSBjcmFkbGVDb250ZW50UHJvcHNcblxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzY29tcG9uZW50Rm4obmV3bGlzdGluZGV4KSB7XG5cbiAgICAgICAgICAgIGlmIChuZXdsaXN0aW5kZXggPCBsb3dTcGFuIHx8IG5ld2xpc3RpbmRleCA+IGhpZ2hTcGFuKSByZXR1cm4gLy8gZGVmZW5zaXZlXG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIGNyYWRsZVB0ciA9IG5ld2xpc3RpbmRleCAtIGxvd1NwYW4sXG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gY3JhZGxlTW9kZWxDb21wb25lbnRzW2NyYWRsZVB0cl0sXG4gICAgICAgICAgICAgICAgbmV3SXRlbUlEID0gY2FjaGVBUEkuZ2V0TmV3SXRlbUlEKClcblxuICAgICAgICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzW2NyYWRsZVB0cl0gPSBSZWFjdC5jbG9uZUVsZW1lbnQoY29tcG9uZW50LCB7aXRlbUlEOm5ld0l0ZW1JRH0pXG5cbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0xpc3QuZm9yRWFjaChwcm9jZXNzY29tcG9uZW50Rm4pXG5cbiAgICB9XG5cbiAgICAvLyBjYWxsZWQgZnJvbSBzZXJ2aWNlIGhhbmRsZXIncyByZW1hcEluZGV4ZXMsIGFzIGxhc3Qgc3RlcFxuICAgIHB1YmxpYyByZWNvbmNpbGVDZWxsRnJhbWVzKG1vZGlmaWVkSW5kZXhlc0xpc3QpIHtcblxuICAgICAgICBpZiAoIW1vZGlmaWVkSW5kZXhlc0xpc3QubGVuZ3RoKSByZXR1cm5cblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgY3JhZGxlTW9kZWxDb21wb25lbnRzIH0gPSB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICB7IGNhY2hlQVBJIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgaW5kZXhUb0l0ZW1JRE1hcCB9ID0gY2FjaGVBUElcblxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzQ29tcG9uZW50Rm4gKGNvbXBvbmVudCwgaSwgYXJyYXkgKSB7XG4gICAgICAgICAgICBjb25zdCB7IGluZGV4LCBpdGVtSUQgfSA9IGNvbXBvbmVudC5wcm9wc1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVkSW5kZXhlc0xpc3QuaW5jbHVkZXMoaW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtSUQgPSBcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5oYXMoaW5kZXgpP1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVBUEkuZ2V0TmV3SXRlbUlEKClcblxuICAgICAgICAgICAgICAgIGlmIChuZXdJdGVtSUQgIT0gaXRlbUlEKSB7IC8vIGRlZmVuc2l2ZTsgc2hvdWxkbid0IGhhcHBlblxuXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldID0gUmVhY3QuY2xvbmVFbGVtZW50KGNvbXBvbmVudCwge2l0ZW1JRDpuZXdJdGVtSUR9KVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY3JhZGxlTW9kZWxDb21wb25lbnRzLmZvckVhY2gocHJvY2Vzc0NvbXBvbmVudEZuKVxuXG4gICAgICAgIHRoaXMuY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gY3JhZGxlTW9kZWxDb21wb25lbnRzLnNsaWNlKDAsdGhpcy5jb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMubGVuZ3RoKVxuICAgICAgICB0aGlzLmNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IGNyYWRsZU1vZGVsQ29tcG9uZW50cy5zbGljZSh0aGlzLmNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cy5sZW5ndGgpXG5cbiAgICB9XG5cbn0iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJOdW1iZXIiLCJyZWFjdF8xIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsImNvbnRlbnRmdW5jdGlvbnNfMSIsIkNvbnRlbnRIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwiY29udGVudCIsImNyYWRsZU1vZGVsQ29tcG9uZW50cyIsImhlYWRNb2RlbENvbXBvbmVudHMiLCJ0YWlsTW9kZWxDb21wb25lbnRzIiwiaGVhZERpc3BsYXlDb21wb25lbnRzIiwidGFpbERpc3BsYXlDb21wb25lbnRzIiwiaW5zdGFuY2VJZENvdW50ZXJSZWYiLCJjdXJyZW50IiwidXBkYXRlVmlydHVhbExpc3RTaXplIiwibmV3bGlzdHNpemUiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjcmFkbGVDb250ZW50UHJvcHMiLCJzZXRWaXJ0dWFsTGlzdFNpemUiLCJjcmFkbGVDb250ZW50IiwiY3JhZGxlSGFuZGxlcnMiLCJoYW5kbGVyc1JlZiIsImxheW91dEhhbmRsZXIiLCJjcmFkbGVQb3NpdGlvbkRhdGEiLCJjbGVhckNyYWRsZSIsImFzc2lnbiIsIlNPTCIsIkVPTCIsImhpZ2hpbmRleCIsImxvd2luZGV4IiwiYXhpc1JlZmVyZW5jZUluZGV4Iiwic2l6ZSIsInRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsInRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCIsInVwZGF0ZVZpcnR1YWxMaXN0UmFuZ2UiLCJuZXdsaXN0cmFuZ2UiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIiLCJzZXRWaXJ0dWFsTGlzdFJhbmdlIiwidmlydHVhbExpc3RQcm9wcyIsIl9uZXdsaXN0cmFuZ2UiLCJuZXdsb3dpbmRleCIsIm5ld2hpZ2hpbmRleCIsInJhbmdlIiwicHJldmlvdXNsb3dpbmRleCIsImxvd2luZGV4Y2hhbmdlIiwic2V0Q3JhZGxlQ29udGVudCIsImNyYWRsZVN0YXRlIiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJjYWNoZUFQSSIsInNlcnZpY2VIYW5kbGVyIiwic2Nyb2xsSGFuZGxlciIsInJlcXVlc3RlZEF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsIm9yaWVudGF0aW9uIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsInN0eWxlcyIsInBsYWNlaG9sZGVyTWVzc2FnZXMiLCJzY3JvbGxlcklEIiwicGFkZGluZ1Byb3BzIiwiZ2FwUHJvcHMiLCJsaXN0bG93aW5kZXgiLCJsaXN0c2l6ZSIsImNyb3NzY291bnQiLCJsaXN0Um93Y291bnQiLCJyb3djb3VudCIsInBhZGRpbmdPZmZzZXQiLCJ0b3AiLCJsZWZ0IiwiZ2FwbGVuZ3RoIiwiY29sdW1uIiwicm93Iiwid29ya2luZ0F4aXNSZWZlcmVuY2VQb3NpdGlvbiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ3b3JraW5nQXhpc1JlZmVyZW5jZUluZGV4IiwiYWJzIiwiaW5jbHVkZXMiLCJ3b3JraW5nQ29udGVudExpc3QiLCJiYXNlUm93UGl4ZWxMZW5ndGgiLCJfcmVmIiwiY2FsY3VsYXRlQ29udGVudExpc3RSZXF1aXJlbWVudHMiLCJ0YXJnZXRBeGlzUmVmZXJlbmNlSW5kZXgiLCJ0YXJnZXRDcmFkbGVSZWZlcmVuY2VJbmRleCIsImNyYWRsZUNvbnRlbnRDb3VudCIsIm5ld0NyYWRsZUNvbnRlbnRDb3VudCIsInBpeGVsT2Zmc2V0Vmlld3BvcnRGcm9tU2Nyb2xsYmxvY2siLCJ0YXJnZXRQaXhlbE9mZnNldFZpZXdwb3J0RnJvbVNjcm9sbGJsb2NrIiwicGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0IiwiX3JlZjIiLCJnZXRDZWxsRnJhbWVDb21wb25lbnRMaXN0IiwiY3JhZGxlUmVmZXJlbmNlSW5kZXgiLCJsaXN0U3RhcnRDaGFuZ2VDb3VudCIsImxpc3RFbmRDaGFuZ2VDb3VudCIsIl9yZWYzIiwibmV3Y29udGVudGxpc3QiLCJpbmRleCIsIlNPTFNpZ25hbCIsIkVPTFNpZ25hbCIsImdyaWRzdGFydCIsImJhc2Vyb3dibGFua3MiLCJjb25jYXQiLCJmaXJzdGNvbXBvbmVudCIsImdyaWRzdGFydHN0eWxlIiwiZ3JpZENvbHVtblN0YXJ0IiwiZ3JpZFJvd1N0YXJ0IiwicmV2aXNlZGNvbXBvbmVudCIsImNsb25lRWxlbWVudCIsIl9yZWY0IiwiYWxsb2NhdGVDb250ZW50TGlzdCIsImNvbnRlbnRsaXN0IiwiX3JlZjUiLCJoZWFkY29udGVudGxpc3QiLCJ0YWlsY29udGVudGxpc3QiLCJjYWxsYmFja3MiLCJyZWZlcmVuY2VJbmRleENhbGxiYWNrIiwiY3N0YXRlIiwidG90YWxwYWRkaW5nbGVuZ3RoIiwiYm90dG9tIiwicmlnaHQiLCJzY3JvbGxibG9ja0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiYmxvY2tuZXdsZW5ndGgiLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwidHJhY2tpbmdCbG9ja1Njcm9sbFBvcyIsInJlc2V0U2Nyb2xsRGF0YSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxPcHRpb25zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsImJlaGF2aW9yIiwic2Nyb2xsIiwiY3JhZGxlRWxlbWVudHMiLCJlbGVtZW50cyIsImF4aXNFbGVtZW50IiwiYXhpc1JlZiIsImhlYWRFbGVtZW50IiwiaGVhZFJlZiIsInBpeGVsT2Zmc2V0QXhpc0Zyb21TY3JvbGxibG9jayIsInBhZGRpbmciLCJ1cGRhdGVDcmFkbGVDb250ZW50Iiwic3RhdGVIYW5kbGVyIiwiaW50ZXJydXB0SGFuZGxlciIsInNoaWZ0aW5zdHJ1Y3Rpb24iLCJ0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvcyIsImNhY2hlIiwibGF5b3V0IiwiY3VycmVudFNjcm9sbFBvcyIsIm1vZGVsY29udGVudGxpc3QiLCJwcmV2aW91c0NyYWRsZVJlZmVyZW5jZUluZGV4IiwiX2EiLCJfcmVmNiIsImNhbGN1bGF0ZVNoaWZ0U3BlY3MiLCJjcmFkbGVJdGVtU2hpZnQiLCJjcmFkbGVSZWZlcmVuY2VJdGVtU2hpZnQiLCJuZXdBeGlzUmVmZXJlbmNlSW5kZXgiLCJheGlzSXRlbVNoaWZ0IiwiYXhpc1JlZmVyZW5jZUl0ZW1TaGlmdCIsIm5ld1BpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCIsImlzU2hpZnQiLCJ0cmlnZ2VybGluZXNJbnRlcnNlY3QiLCJkaXNjb25uZWN0IiwiYXBwbHlTdHlsaW5nIiwiaGVhZGNvbnRlbnQiLCJ1cGRhdGVkQ29udGVudExpc3QiLCJkZWxldGVkQ29udGVudEl0ZW1zIiwiX3JlZjciLCJfcmVmOCIsImRlbGV0ZUxpc3RDYWxsYmFjayIsImRMaXN0Q2FsbGJhY2siLCJkZWxldGVMaXN0IiwiZGVsZXRlUG9ydGFscyIsIl9yZWY5IiwiX3JlZjEwIiwidGFpbGNvbnRlbnQiLCJjcmFkbGVTdGF0ZVJlZiIsInJlbmRlclBvcnRhbExpc3RzIiwiX3JlZjExIiwicHJlQXhpc1ZpcnR1YWxSb3dzIiwiY2VpbCIsImJhc2VDZWxsTGVuZ3RoIiwidGVzdFNjcm9sbFBvcyIsInNjcm9sbERpZmYiLCJ0b3BBeGlzUG9zIiwibGVmdEF4aXNQb3MiLCJhZGp1c3RTY3JvbGxibG9ja0ZvclZhcmlhYmlsaXR5Iiwic291cmNlIiwiYXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwiaGVhZEdyaWRFbGVtZW50IiwidGFpbEdyaWRFbGVtZW50IiwidGFpbFJlZiIsImxpc3Ryb3dzaGlmdCIsInJvd3NoaWZ0IiwiaXNTY3JvbGxpbmciLCJncmlkUmVzaXplT2JzZXJ2ZXIiLCJjbGVhclRpbWVvdXQiLCJyZXNpemVUaW1lb3V0SUQiLCJoZWFkUm93Q291bnQiLCJjaGlsZE5vZGVzIiwidGFpbFJvd0NvdW50IiwiYXhpc1JlZmVyZW5jZVJvdyIsImZsb29yIiwiY3JhZGxlUmVmZXJlbmNlUm93IiwiY3JhZGxlTGFzdFJvdyIsImxpc3RMYXN0Um93IiwicHJlQ3JhZGxlUm93Q291bnQiLCJwb3N0Q3JhZGxlUm93Q291bnQiLCJtZWFzdXJlZFRhaWxQaXhlbExlbmd0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwicG9zdENyYWRsZVJvd3NQaXhlbExlbmd0aCIsInBhZGRpbmdUYWlsT2Zmc2V0IiwidG90YWxQb3N0QXhpc1Njcm9sbGJsb2NrUGl4ZWxMZW5ndGgiLCJwYWRkaW5nSGVhZE9mZnNldCIsInRvdGFsUHJlQXhpc1Njcm9sbGJsb2NrUGl4ZWxMZW5ndGgiLCJsYXRlc3RBeGlzUmVmZXJlbmNlSW5kZXgiLCJzaWduYWxzIiwicGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciIsInRvdGFsU2Nyb2xsYmxvY2tQaXhlbExlbmd0aCIsIm5ld1BpeGVsT2Zmc2V0QXhpc0Zyb21TY3JvbGxibG9jayIsInN0YXJ0aW5nU2Nyb2xsUG9zIiwiUmVzaXplT2JzZXJ2ZXIiLCJyZXNpemVPYnNlcnZlckNhbGxiYWNrIiwib2JzZXJ2ZSIsInNldFRpbWVvdXQiLCJzY3JvbGxibG9ja0xlbmd0aCIsInNjcm9sbGJsb2NrT2Zmc2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsInZpZXdwb3J0TGVuZ3RoIiwidmlld3BvcnRTY3JvbGxQb3MiLCJvcHRpb25zIiwiZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmciLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIyIiwiY2FjaGVNYXgiLCJNQVhfQ0FDSEVfT1ZFUl9SVU4iLCJtb2RlbENvbXBvbmVudExpc3QiLCJwYXJlQ2FjaGVUb01heCIsIm1vZGVsSW5kZXhMaXN0IiwiZ2V0TW9kZWxJbmRleExpc3QiLCJtYXAiLCJpdGVtIiwic3luY2hyb25pemVDcmFkbGVJdGVtSURzVG9DYWNoZSIsInVwZGF0ZWRJbmRleExpc3QiLCJpc0luc2VydFJlbW92ZSIsImFyZ3VtZW50cyIsInN0YXJ0Q2hhbmdlSW5kZXgiLCJpbmRleFRvSXRlbUlETWFwIiwibG93U3BhbiIsImhpZ2hTcGFuIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiYXQiLCJ1cGRhdGVkU3BhbiIsImZpcnN0SW5kZXgiLCJsb3dQdHIiLCJoaWdoUHRyIiwicHJvY2Vzc2NvbXBvbmVudEZuIiwiY29tcG9uZW50IiwiY29tcG9uZW50cHRyIiwiY29tcG9uZW50YXJyYXkiLCJjYWNoZUl0ZW1JRCIsImdldCIsIm5ld0l0ZW1JRCIsImdldE5ld0l0ZW1JRCIsIml0ZW1JRCIsImNyYWRsZUl0ZW1JRCIsInVwZGF0ZXB0ciIsImluZGV4T2YiLCJwdHIiLCJjcmVhdGVOZXdJdGVtSURzIiwibmV3TGlzdCIsIm5ld2xpc3RpbmRleCIsImNyYWRsZVB0ciIsImZvckVhY2giLCJyZWNvbmNpbGVDZWxsRnJhbWVzIiwibW9kaWZpZWRJbmRleGVzTGlzdCIsInByb2Nlc3NDb21wb25lbnRGbiIsImFycmF5IiwiX2NvbXBvbmVudCRwcm9wcyIsImhhcyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/contenthandler.tsx\n")},"./src/cradle/interrupthandler.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\n// interrupthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module holds the callbacks for the Cradle structure listeners:\n    - cradleIntersectionObserverCallback: responds to the move of both cradle grids outside viewport\n        this initiates the repositioning protocol\n    - axisTriggerlinesObserverCallback: responds to crossing of tailward or headward triggerlines\n        in relation to the viewport, and triggers rollover and re-allocation of cradle content\n\n    viewportResizing interrupts are handled by viewport\n*/\nvar contentfunctions_1 = __webpack_require__(/*! ./contentfunctions */ "./src/cradle/contentfunctions.tsx");\nvar InterruptHandler = /*#__PURE__*/_createClass(function InterruptHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, InterruptHandler);\n  this.isHeadCradleInView = true;\n  this.isTailCradleInView = true;\n  this.axisTriggerlinesObserverCallback = function (entries) {\n    var _a;\n    if (_this.signals.pauseTriggerlinesObserver) {\n      return;\n    }\n    var viewportElement = _this.cradleParameters.ViewportContextPropertiesRef.current.elementRef.current,\n      viewportBoundingRect = viewportElement.getBoundingClientRect();\n    if (viewportBoundingRect.width == 0 && viewportBoundingRect.height == 0) {\n      // reparenting or pivoting\n      return;\n    }\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n      contentHandler = _this$cradleParameter.contentHandler,\n      stateHandler = _this$cradleParameter.stateHandler,\n      scrollHandler = _this$cradleParameter.scrollHandler,\n      layoutHandler = _this$cradleParameter.layoutHandler;\n    if (stateHandler.isMountedRef.current) {\n      var scrollData = scrollHandler.scrollData;\n      scrollData.previousupdate = scrollData.currentupdate;\n      scrollData.currentupdate = scrollData.current;\n      var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = _this.cradleParameters.cradleInternalPropertiesRef.current,\n        orientation = cradleInheritedProperties.orientation,\n        triggerHistoryRef = cradleInternalProperties.triggerHistoryRef,\n        virtualListProps = cradleInternalProperties.virtualListProps,\n        crosscount = virtualListProps.crosscount,\n        listsize = virtualListProps.size,\n        rowshift = virtualListProps.rowshift,\n        scrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n        contentLength = orientation == \'vertical\' ? viewportElement.scrollHeight : viewportElement.scrollWidth,\n        viewportLength = orientation == \'vertical\' ? viewportElement.offsetHeight : viewportElement.offsetWidth;\n\n      // for browser top or bottom bounce\n      // fractional pixels can cause this to fail, hence Math.floor)\n      if (scrollPos >= 0 || Math.floor(scrollPos + viewportLength) <= contentLength) {\n        var _ref = (0, contentfunctions_1.generateShiftInstruction)({\n            scrollerID: cradleInheritedProperties.scrollerID,\n            orientation: orientation,\n            triggerlineEntries: entries,\n            triggerlineSpan: layoutHandler.triggerlineSpan,\n            isFirstRowTriggerConfig: layoutHandler.triggercellIsInTail,\n            viewportBoundingRect: viewportBoundingRect,\n            triggerHistoryRef: triggerHistoryRef\n          }),\n          _ref2 = _slicedToArray(_ref, 2),\n          shiftinstruction = _ref2[0],\n          triggerViewportReferencePixelPos = _ref2[1];\n        if (shiftinstruction == \'moveaxistailward\') {\n          // filter out oversize last row\n          var lastListRowOffset = Math.ceil(listsize / crosscount) - 1 + rowshift,\n            tailcontentlist = contentHandler.content.tailModelComponents,\n            previousAxisReferenceIndex = ((_a = tailcontentlist[0]) === null || _a === void 0 ? void 0 : _a.props.index) || 0,\n            previousAxisRowOffset = Math.ceil(previousAxisReferenceIndex / crosscount);\n          if (lastListRowOffset == previousAxisRowOffset) return;\n        }\n        // none == nothing to do\n        if (shiftinstruction != \'none\') {\n          _this.shiftinstruction = shiftinstruction;\n          _this.triggerViewportReferencePixelPos = triggerViewportReferencePixelPos;\n          stateHandler.setCradleState(\'renderupdatedcontent\');\n        }\n      }\n    }\n  };\n  this.cradleIntersectionObserverCallback = function (entries) {\n    var signals = _this.signals;\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      serviceHandler = _this$cradleParameter2.serviceHandler,\n      scrollHandler = _this$cradleParameter2.scrollHandler,\n      layoutHandler = _this$cradleParameter2.layoutHandler;\n    if (signals.pauseCradleIntersectionObserver) {\n      _this.isHeadCradleInView = _this.isTailCradleInView = true; // experimental\n      return;\n    }\n    var _this$cradleParameter3 = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      scrollerID = _this$cradleParameter3.scrollerID,\n      layout = _this$cradleParameter3.layout;\n    for (var i = 0; i < entries.length; i++) {\n      var entry = entries[i];\n      if (entry.target.dataset.type == \'head\') {\n        _this.isHeadCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      } else {\n        _this.isTailCradleInView = entry.isIntersecting || entry.rootBounds.width == 0 && entry.rootBounds.height == 0 // reparenting\n        ;\n      }\n    }\n\n    _this.signals.repositioningRequired = !_this.isHeadCradleInView && !_this.isTailCradleInView;\n    // console.log(\'repositioningRequired\',this.signals.repositioningRequired)\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n    if (_this.signals.repositioningRequired)\n      // start reposition if no other interrupts are underway\n      {\n        _this.isHeadCradleInView = _this.isTailCradleInView = true;\n        var cradleState = stateHandler.cradleStateRef.current;\n        if (![\'repositioningRender\', \'finishreposition\', \'renderupdatedcontent\', \'finishupdatedcontent\', \'finishviewportresize\'].includes(cradleState) && !ViewportContextProperties.isResizing) {\n          var viewportElement = ViewportContextProperties.elementRef.current;\n          if (!viewportElement) {\n            // defensive; shouldn\'t happen\n            console.log(\'SYSTEM: viewport element not set in cradleIntersectionObserverCallback (scrollerID)\', scrollerID, ViewportContextProperties);\n            return;\n          }\n          var repositioningFlagCallback = serviceHandler.callbacks.repositioningFlagCallback;\n          repositioningFlagCallback && repositioningFlagCallback(true);\n          if (layout == \'variable\') {\n            // restore base config to scrollblock\n            layoutHandler.restoreBaseScrollblockConfig();\n            scrollHandler.calcImpliedRepositioningData(\'restoreBaseScrollblockConfig\');\n          }\n          _this.signals.pauseTriggerlinesObserver = true;\n          if (stateHandler.isMountedRef.current) {\n            stateHandler.setCradleState(\'startreposition\');\n          }\n        } else {\n          _this.signals.repositioningRequired = false;\n        }\n      }\n  };\n  this.cradleIntersect = {\n    observer: null,\n    callback: this.cradleIntersectionObserverCallback,\n    disconnected: true,\n    connectElements: function connectElements() {\n      if (!_this.cradleIntersect.disconnected) {\n        return;\n      }\n      var observer = _this.cradleIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.layoutHandler.elements;\n      observer.observe(cradleElements.headRef.current);\n      observer.observe(cradleElements.tailRef.current);\n      _this.cradleIntersect.disconnected = false;\n    },\n    disconnect: function disconnect() {\n      _this.cradleIntersect.observer.disconnect();\n      _this.cradleIntersect.disconnected = true;\n    },\n    createObserver: function createObserver() {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n      _this.cradleIntersect.observer = new IntersectionObserver(_this.cradleIntersect.callback, {\n        root: ViewportContextProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.cradleIntersect.observer;\n    }\n  };\n  this.triggerlinesIntersect = {\n    observer: null,\n    callback: this.axisTriggerlinesObserverCallback,\n    disconnected: true,\n    connectElements: function connectElements() {\n      if (!_this.triggerlinesIntersect.disconnected) {\n        return;\n      }\n      var observer = _this.triggerlinesIntersect.observer;\n      var cradleElements = _this.cradleParameters.handlersRef.current.layoutHandler.elements;\n      if (cradleElements.triggercellTriggerlineHeadRef.current && cradleElements.triggercellTriggerlineTailRef.current) {\n        observer.observe(cradleElements.triggercellTriggerlineHeadRef.current);\n        observer.observe(cradleElements.triggercellTriggerlineTailRef.current);\n      }\n      _this.triggerlinesIntersect.disconnected = false;\n    },\n    disconnect: function disconnect() {\n      _this.triggerlinesIntersect.observer.disconnect();\n      _this.triggerlinesIntersect.disconnected = true;\n    },\n    createObserver: function createObserver() {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current;\n      _this.triggerlinesIntersect.observer = new IntersectionObserver(_this.triggerlinesIntersect.callback, {\n        root: ViewportContextProperties.elementRef.current,\n        threshold: 0\n      });\n      return _this.triggerlinesIntersect.observer;\n    }\n  };\n  this.signals = {\n    repositioningRequired: false,\n    pauseTriggerlinesObserver: false,\n    pauseCradleIntersectionObserver: false,\n    pauseCradleResizeObserver: false,\n    pauseScrollingEffects: false\n  };\n  /*\n      invoked for\n      cradle:\n      - change into cache\n      - trigger cradleresizing\n      - trigger reconfiguration\n      - trigger pivot\n      servicehandler:\n      - call reload\n  */\n  this.pauseInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = true;\n    signals.pauseCradleIntersectionObserver = true;\n    signals.pauseCradleResizeObserver = true;\n    signals.pauseScrollingEffects = true;\n  };\n  /*\n      invoked for\n      cradle:\n      - restoreinterrupts\n  */\n  this.restoreInterrupts = function () {\n    var signals = _this.signals;\n    signals.pauseTriggerlinesObserver = false;\n    signals.pauseCradleIntersectionObserver = false;\n    signals.pauseCradleResizeObserver = false;\n    signals.pauseScrollingEffects = false;\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports["default"] = InterruptHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUN3RyxxQkFBcUIsR0FBRyxJQUFJO0VBQ3hDLENBQUM7RUFDRDs7Ozs7RUFLTyxLQUFBRSxpQkFBaUIsR0FBRyxZQUFLO0lBQzVCLElBQVExRyxPQUFPLEdBQUtMLEtBQUksQ0FBaEJLLE9BQU87SUFDZkEsT0FBTyxDQUFDQyx5QkFBeUIsR0FBRyxLQUFLO0lBQ3pDRCxPQUFPLENBQUNpRSwrQkFBK0IsR0FBRyxLQUFLO0lBQy9DakUsT0FBTyxDQUFDdUcseUJBQXlCLEdBQUcsS0FBSztJQUN6Q3ZHLE9BQU8sQ0FBQ3dHLHFCQUFxQixHQUFHLEtBQUs7RUFDekMsQ0FBQztFQXpVRSxJQUFJLENBQUM5RyxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0FBRTNDLENBQUM7QUFOTGlILGtCQUFBLEdBQUFsSCxnQkFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2ludGVycnVwdGhhbmRsZXIudHN4P2E5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW50ZXJydXB0aGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgaG9sZHMgdGhlIGNhbGxiYWNrcyBmb3IgdGhlIENyYWRsZSBzdHJ1Y3R1cmUgbGlzdGVuZXJzOlxuICAgIC0gY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjazogcmVzcG9uZHMgdG8gdGhlIG1vdmUgb2YgYm90aCBjcmFkbGUgZ3JpZHMgb3V0c2lkZSB2aWV3cG9ydFxuICAgICAgICB0aGlzIGluaXRpYXRlcyB0aGUgcmVwb3NpdGlvbmluZyBwcm90b2NvbFxuICAgIC0gYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2s6IHJlc3BvbmRzIHRvIGNyb3NzaW5nIG9mIHRhaWx3YXJkIG9yIGhlYWR3YXJkIHRyaWdnZXJsaW5lc1xuICAgICAgICBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnQsIGFuZCB0cmlnZ2VycyByb2xsb3ZlciBhbmQgcmUtYWxsb2NhdGlvbiBvZiBjcmFkbGUgY29udGVudFxuXG4gICAgdmlld3BvcnRSZXNpemluZyBpbnRlcnJ1cHRzIGFyZSBoYW5kbGVkIGJ5IHZpZXdwb3J0XG4qL1xuXG5pbXBvcnQgeyBnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24gfSBmcm9tICcuL2NvbnRlbnRmdW5jdGlvbnMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVycnVwdEhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwcml2YXRlIGlzSGVhZENyYWRsZUluVmlldyA9IHRydWVcbiAgICBwcml2YXRlIGlzVGFpbENyYWRsZUluVmlldyA9IHRydWVcblxuICAgIHByaXZhdGUgYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgIGlmICh0aGlzLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlcikgeyBcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudC5lbGVtZW50UmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0Qm91bmRpbmdSZWN0ID0gdmlld3BvcnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICAgICAgaWYgKHZpZXdwb3J0Qm91bmRpbmdSZWN0LndpZHRoID09IDAgJiYgdmlld3BvcnRCb3VuZGluZ1JlY3QuaGVpZ2h0ID09IDApIHsgLy8gcmVwYXJlbnRpbmcgb3IgcGl2b3RpbmdcblxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgY29udGVudEhhbmRsZXIsXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIsXG4gICAgICAgICAgICBzY3JvbGxIYW5kbGVyLFxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlcixcblxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsRGF0YSB9ID0gc2Nyb2xsSGFuZGxlclxuXG4gICAgICAgICAgICBzY3JvbGxEYXRhLnByZXZpb3VzdXBkYXRlID0gc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlXG4gICAgICAgICAgICBzY3JvbGxEYXRhLmN1cnJlbnR1cGRhdGUgPSBzY3JvbGxEYXRhLmN1cnJlbnRcblxuICAgICAgICAgICAgY29uc3QgXG4gICAgICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiwgXG5cbiAgICAgICAgICAgICAgICB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckhpc3RvcnlSZWYsXG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgICAgICAgICAgICAgIHNpemU6bGlzdHNpemUsXG4gICAgICAgICAgICAgICAgICAgIHJvd3NoaWZ0LFxuXG4gICAgICAgICAgICAgICAgfSA9IHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgICAgICBzY3JvbGxQb3MgPSBcbiAgICAgICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0LFxuXG4gICAgICAgICAgICAgICAgY29udGVudExlbmd0aCA9IFxuICAgICAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsSGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFdpZHRoLFxuXG4gICAgICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSBcbiAgICAgICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5vZmZzZXRXaWR0aFxuXG4gICAgICAgICAgICAvLyBmb3IgYnJvd3NlciB0b3Agb3IgYm90dG9tIGJvdW5jZVxuICAgICAgICAgICAgLy8gZnJhY3Rpb25hbCBwaXhlbHMgY2FuIGNhdXNlIHRoaXMgdG8gZmFpbCwgaGVuY2UgTWF0aC5mbG9vcilcblxuICAgICAgICAgICAgaWYgKCAoc2Nyb2xsUG9zID49IDApIHx8IChNYXRoLmZsb29yKHNjcm9sbFBvcyArIHZpZXdwb3J0TGVuZ3RoKSA8PSBjb250ZW50TGVuZ3RoKSkgeyBcblxuICAgICAgICAgICAgICAgIGNvbnN0IFtzaGlmdGluc3RydWN0aW9uLCB0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvc10gPSBnZW5lcmF0ZVNoaWZ0SW5zdHJ1Y3Rpb24oe1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQ6IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuc2Nyb2xsZXJJRCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJsaW5lRW50cmllczplbnRyaWVzLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VybGluZVNwYW46IGxheW91dEhhbmRsZXIudHJpZ2dlcmxpbmVTcGFuLFxuXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RSb3dUcmlnZ2VyQ29uZmlnOmxheW91dEhhbmRsZXIudHJpZ2dlcmNlbGxJc0luVGFpbCxcblxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEJvdW5kaW5nUmVjdCwgLy8gU2FmYXJpIGRvZXNuJ3QgY29ycmVjdGx5IG1lYXN1cmUgem9vbSBmb3Igcm9vdGJvdW5kcyBpbiB0cmlnZ2VybGluZUVudHJpZXNcblxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VySGlzdG9yeVJlZixcblxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiA9PSAnbW92ZWF4aXN0YWlsd2FyZCcpIHsgLy8gZmlsdGVyIG91dCBvdmVyc2l6ZSBsYXN0IHJvd1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdExpc3RSb3dPZmZzZXQgPSBNYXRoLmNlaWwobGlzdHNpemUvY3Jvc3Njb3VudCkgLSAxICsgcm93c2hpZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWlsY29udGVudGxpc3QgPSBjb250ZW50SGFuZGxlci5jb250ZW50LnRhaWxNb2RlbENvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCA9ICh0YWlsY29udGVudGxpc3RbMF0/LnByb3BzLmluZGV4IHx8IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNBeGlzUm93T2Zmc2V0ID0gTWF0aC5jZWlsKHByZXZpb3VzQXhpc1JlZmVyZW5jZUluZGV4L2Nyb3NzY291bnQpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RMaXN0Um93T2Zmc2V0ID09IHByZXZpb3VzQXhpc1Jvd09mZnNldCkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBub25lID09IG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgICAgICBpZiAoc2hpZnRpbnN0cnVjdGlvbiAhPSAnbm9uZScpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaWZ0aW5zdHJ1Y3Rpb24gPSBzaGlmdGluc3RydWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclZpZXdwb3J0UmVmZXJlbmNlUGl4ZWxQb3MgPSB0cmlnZ2VyVmlld3BvcnRSZWZlcmVuY2VQaXhlbFBvc1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgncmVuZGVydXBkYXRlZGNvbnRlbnQnKVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRhIHRyYW5zZmVyIHRvIHVwZGF0ZUNyYWRsZUNvbnRlbnQgdHJpZ2dlcmVkIGJ5IGNsb3NpbmcgYXhpc1RyaWdnZXJsaW5lc09ic2VydmVyQ2FsbGJhY2sgc2V0Q3JhZGxlU3RhdGUgY2FsbFxuICAgIHB1YmxpYyBzaGlmdGluc3RydWN0aW9uXG4gICAgcHVibGljIHRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zXG5cbiAgICBwcml2YXRlIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNcbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLCBcbiAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLCBcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIsIFxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlciBcblxuICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoc2lnbmFscy5wYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyKSB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcgPSB0cnVlIC8vIGV4cGVyaW1lbnRhbFxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgc2Nyb2xsZXJJRCwgXG4gICAgICAgICAgICBsYXlvdXQgXG5cbiAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbaV1cbiAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQuZGF0YXNldC50eXBlID09ICdoZWFkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gKFxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZW50cnkucm9vdEJvdW5kcy53aWR0aCA9PSAwKSAmJiAoZW50cnkucm9vdEJvdW5kcy5oZWlnaHQgPT0gMCkpIC8vIHJlcGFyZW50aW5nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVGFpbENyYWRsZUluVmlldyA9IChcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgKChlbnRyeS5yb290Qm91bmRzLndpZHRoID09IDApICYmIChlbnRyeS5yb290Qm91bmRzLmhlaWdodCA9PSAwKSkgLy8gcmVwYXJlbnRpbmdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gKCEodGhpcy5pc0hlYWRDcmFkbGVJblZpZXcpICYmICEodGhpcy5pc1RhaWxDcmFkbGVJblZpZXcpKVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXBvc2l0aW9uaW5nUmVxdWlyZWQnLHRoaXMuc2lnbmFscy5yZXBvc2l0aW9uaW5nUmVxdWlyZWQpXG5cbiAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAodGhpcy5zaWduYWxzLnJlcG9zaXRpb25pbmdSZXF1aXJlZCkgLy8gc3RhcnQgcmVwb3NpdGlvbiBpZiBubyBvdGhlciBpbnRlcnJ1cHRzIGFyZSB1bmRlcndheVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIHRoaXMuaXNIZWFkQ3JhZGxlSW5WaWV3ID0gdGhpcy5pc1RhaWxDcmFkbGVJblZpZXcgPSB0cnVlXG5cbiAgICAgICAgICAgIGNvbnN0IGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuICAgICAgICAgICAgaWYgKFxuXG4gICAgICAgICAgICAgICAgICAgICFbJ3JlcG9zaXRpb25pbmdSZW5kZXInLCdmaW5pc2hyZXBvc2l0aW9uJywvLydyZXBvc2l0aW9uaW5nQ29udGludWF0aW9uJywnZmluaXNocmVwb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVuZGVydXBkYXRlZGNvbnRlbnQnLCdmaW5pc2h1cGRhdGVkY29udGVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmluaXNodmlld3BvcnRyZXNpemUnXS5pbmNsdWRlcyhjcmFkbGVTdGF0ZSkgJiZcblxuICAgICAgICAgICAgICAgICAgICAhVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5pc1Jlc2l6aW5nXG5cbiAgICAgICAgICAgICAgICApIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZpZXdwb3J0RWxlbWVudCkgeyAvLyBkZWZlbnNpdmU7IHNob3VsZG4ndCBoYXBwZW5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NZU1RFTTogdmlld3BvcnQgZWxlbWVudCBub3Qgc2V0IGluIGNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgKHNjcm9sbGVySUQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVySUQsVmlld3BvcnRDb250ZXh0UHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcbiAgICAgICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrICYmIHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2sodHJ1ZSlcblxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT0gJ3ZhcmlhYmxlJykgeyAvLyByZXN0b3JlIGJhc2UgY29uZmlnIHRvIHNjcm9sbGJsb2NrXG5cbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5yZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnKClcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGFuZGxlci5jYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhKCdyZXN0b3JlQmFzZVNjcm9sbGJsb2NrQ29uZmlnJylcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbHMucGF1c2VUcmlnZ2VybGluZXNPYnNlcnZlciA9IHRydWVcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cmVwb3NpdGlvbicpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbHMucmVwb3NpdGlvbmluZ1JlcXVpcmVkID0gZmFsc2VcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICBwdWJsaWMgY3JhZGxlSW50ZXJzZWN0ID0geyAgICBcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCwgICAgXG4gICAgICAgIGNhbGxiYWNrOnRoaXMuY3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjayxcbiAgICAgICAgZGlzY29ubmVjdGVkOnRydWUsXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3JhZGxlSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5sYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLmhlYWRSZWYuY3VycmVudClcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoY3JhZGxlRWxlbWVudHMudGFpbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgdGhpcy5jcmFkbGVJbnRlcnNlY3QuZGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdDooKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyYWRsZUludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMuY3JhZGxlSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LCB0aHJlc2hvbGQ6MH1cbiAgICAgICAgICAgICkgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmFkbGVJbnRlcnNlY3Qub2JzZXJ2ZXJcbiAgICAgICAgfVxuICAgIH1cblxuICAgcHVibGljIHRyaWdnZXJsaW5lc0ludGVyc2VjdCA9IHtcbiAgICAgICAgb2JzZXJ2ZXI6bnVsbCxcbiAgICAgICAgY2FsbGJhY2s6dGhpcy5heGlzVHJpZ2dlcmxpbmVzT2JzZXJ2ZXJDYWxsYmFjayxcbiAgICAgICAgZGlzY29ubmVjdGVkOnRydWUsXG4gICAgICAgIGNvbm5lY3RFbGVtZW50czooKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICAgICAgY29uc3QgY3JhZGxlRWxlbWVudHMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5sYXlvdXRIYW5kbGVyLmVsZW1lbnRzXG4gICAgICAgICAgICBpZiAoY3JhZGxlRWxlbWVudHMudHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIGNyYWRsZUVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGNyYWRsZUVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjcmFkbGVFbGVtZW50cy50cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VybGluZXNJbnRlcnNlY3QuZGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdDooKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmRpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT2JzZXJ2ZXI6KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0Lm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcmxpbmVzSW50ZXJzZWN0LmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHtyb290OlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LCB0aHJlc2hvbGQ6MH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXJsaW5lc0ludGVyc2VjdC5vYnNlcnZlclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNpZ25hbHMgPSB7XG4gICAgICAgIHJlcG9zaXRpb25pbmdSZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXI6IGZhbHNlLCBcbiAgICAgICAgcGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlcjpmYWxzZSxcbiAgICAgICAgcGF1c2VDcmFkbGVSZXNpemVPYnNlcnZlcjogZmFsc2UsXG4gICAgICAgIHBhdXNlU2Nyb2xsaW5nRWZmZWN0czogZmFsc2UsXG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgaW52b2tlZCBmb3IgXG4gICAgICAgIGNyYWRsZTpcbiAgICAgICAgLSBjaGFuZ2UgaW50byBjYWNoZVxuICAgICAgICAtIHRyaWdnZXIgY3JhZGxlcmVzaXppbmdcbiAgICAgICAgLSB0cmlnZ2VyIHJlY29uZmlndXJhdGlvblxuICAgICAgICAtIHRyaWdnZXIgcGl2b3RcbiAgICAgICAgc2VydmljZWhhbmRsZXI6XG4gICAgICAgIC0gY2FsbCByZWxvYWRcbiAgICAqL1xuICAgIHB1YmxpYyBwYXVzZUludGVycnVwdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gdGhpc1xuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSB0cnVlXG4gICAgICAgIHNpZ25hbHMucGF1c2VDcmFkbGVJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRydWVcbiAgICAgICAgc2lnbmFscy5wYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyID0gdHJ1ZVxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IHRydWVcbiAgICB9XG4gICAgLypcbiAgICAgICAgaW52b2tlZCBmb3JcbiAgICAgICAgY3JhZGxlOlxuICAgICAgICAtIHJlc3RvcmVpbnRlcnJ1cHRzXG4gICAgKi9cbiAgICBwdWJsaWMgcmVzdG9yZUludGVycnVwdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmFscyB9ID0gdGhpc1xuICAgICAgICBzaWduYWxzLnBhdXNlVHJpZ2dlcmxpbmVzT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlQ3JhZGxlUmVzaXplT2JzZXJ2ZXIgPSBmYWxzZVxuICAgICAgICBzaWduYWxzLnBhdXNlU2Nyb2xsaW5nRWZmZWN0cyA9IGZhbHNlXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiTnVtYmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJjb250ZW50ZnVuY3Rpb25zXzEiLCJyZXF1aXJlIiwiSW50ZXJydXB0SGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsImlzSGVhZENyYWRsZUluVmlldyIsImlzVGFpbENyYWRsZUluVmlldyIsImF4aXNUcmlnZ2VybGluZXNPYnNlcnZlckNhbGxiYWNrIiwiZW50cmllcyIsInNpZ25hbHMiLCJwYXVzZVRyaWdnZXJsaW5lc09ic2VydmVyIiwidmlld3BvcnRFbGVtZW50IiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZiIsImN1cnJlbnQiLCJlbGVtZW50UmVmIiwidmlld3BvcnRCb3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlciIsImhhbmRsZXJzUmVmIiwiY29udGVudEhhbmRsZXIiLCJzdGF0ZUhhbmRsZXIiLCJzY3JvbGxIYW5kbGVyIiwibGF5b3V0SGFuZGxlciIsImlzTW91bnRlZFJlZiIsInNjcm9sbERhdGEiLCJwcmV2aW91c3VwZGF0ZSIsImN1cnJlbnR1cGRhdGUiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsIm9yaWVudGF0aW9uIiwidHJpZ2dlckhpc3RvcnlSZWYiLCJ2aXJ0dWFsTGlzdFByb3BzIiwiY3Jvc3Njb3VudCIsImxpc3RzaXplIiwic2l6ZSIsInJvd3NoaWZ0Iiwic2Nyb2xsUG9zIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImNvbnRlbnRMZW5ndGgiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxXaWR0aCIsInZpZXdwb3J0TGVuZ3RoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJNYXRoIiwiZmxvb3IiLCJfcmVmIiwiZ2VuZXJhdGVTaGlmdEluc3RydWN0aW9uIiwic2Nyb2xsZXJJRCIsInRyaWdnZXJsaW5lRW50cmllcyIsInRyaWdnZXJsaW5lU3BhbiIsImlzRmlyc3RSb3dUcmlnZ2VyQ29uZmlnIiwidHJpZ2dlcmNlbGxJc0luVGFpbCIsIl9yZWYyIiwic2hpZnRpbnN0cnVjdGlvbiIsInRyaWdnZXJWaWV3cG9ydFJlZmVyZW5jZVBpeGVsUG9zIiwibGFzdExpc3RSb3dPZmZzZXQiLCJjZWlsIiwidGFpbGNvbnRlbnRsaXN0IiwiY29udGVudCIsInRhaWxNb2RlbENvbXBvbmVudHMiLCJwcmV2aW91c0F4aXNSZWZlcmVuY2VJbmRleCIsIl9hIiwiaW5kZXgiLCJwcmV2aW91c0F4aXNSb3dPZmZzZXQiLCJzZXRDcmFkbGVTdGF0ZSIsImNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2siLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIyIiwic2VydmljZUhhbmRsZXIiLCJwYXVzZUNyYWRsZUludGVyc2VjdGlvbk9ic2VydmVyIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyMyIsImxheW91dCIsImVudHJ5IiwiZGF0YXNldCIsInR5cGUiLCJpc0ludGVyc2VjdGluZyIsInJvb3RCb3VuZHMiLCJyZXBvc2l0aW9uaW5nUmVxdWlyZWQiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzIiwiY3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImluY2x1ZGVzIiwiaXNSZXNpemluZyIsImNvbnNvbGUiLCJsb2ciLCJyZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrIiwiY2FsbGJhY2tzIiwicmVzdG9yZUJhc2VTY3JvbGxibG9ja0NvbmZpZyIsImNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEiLCJjcmFkbGVJbnRlcnNlY3QiLCJvYnNlcnZlciIsImNhbGxiYWNrIiwiZGlzY29ubmVjdGVkIiwiY29ubmVjdEVsZW1lbnRzIiwiY3JhZGxlRWxlbWVudHMiLCJlbGVtZW50cyIsIm9ic2VydmUiLCJoZWFkUmVmIiwidGFpbFJlZiIsImRpc2Nvbm5lY3QiLCJjcmVhdGVPYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInRocmVzaG9sZCIsInRyaWdnZXJsaW5lc0ludGVyc2VjdCIsInRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYiLCJwYXVzZUNyYWRsZVJlc2l6ZU9ic2VydmVyIiwicGF1c2VTY3JvbGxpbmdFZmZlY3RzIiwicGF1c2VJbnRlcnJ1cHRzIiwicmVzdG9yZUludGVycnVwdHMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cradle/interrupthandler.tsx\n')},"./src/cradle/layouthandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval('\n\n// layouthandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module holds references to\n    - the structural elements of the cradle\n    - the key control values of the cradle\n\n    The structural elements are the axis, head (grid), tail (grid),\n        and the head and tail triggerlines\n    The key control values are the trackingBlockScrollPos & trackingXBlockScrollPos (scrollTop or scrollLeft), the block scroll\n        property ("scrollTop" or "scrollLeft"), the targetAxisReferencePosition (first index of the\n        tail block), and the targetPixelOffsetAxisFromViewport (pixels offset from the edge of the\n        viewport)\n*/\n// import { isSafariIOS } from \'../InfiniteGridScroller\'\nvar LayoutHandler = /*#__PURE__*/function () {\n  function LayoutHandler(cradleParameters) {\n    var _this = this;\n    _classCallCheck(this, LayoutHandler);\n    this.SOLSignal = false;\n    this.EOLSignal = false;\n    this.boundaryNotificationsRequired = function () {\n      var trigger = false;\n      if (_this.SOLSignal || _this.EOLSignal) {\n        trigger = true;\n      }\n      return trigger;\n    };\n    this.cancelBoundaryNotifications = function () {\n      _this.SOLSignal = false;\n      _this.EOLSignal = false;\n    };\n    // cradlePositionData controls the relative positions of the scaffold elements\n    this.cradlePositionData = {\n      /*\n          "block" = cradleblock, which is the element that is scrolled\n               trackingBlockScrollPos is set by scrollHandler during and after scrolling,\n          and by setCradleContent in contentHandler, which repositions the cradle.\n               trackingBlockScrollPos is used by\n              - cradle initialization in response to reparenting interrupt\n              - setCradleContent\n           */\n      trackingBlockScrollPos: null,\n      trackingXBlockScrollPos: null,\n      /*\n          values can be "scrollTop" or "scrollLeft" (of the viewport element) depending on orientation\n               blockScrollProperty is set by the orientation reconfiguration effect in cradle module.\n               it is used where trackingBlockScrollPos is used above.\n      */\n      blockScrollProperty: null,\n      blockXScrollProperty: null,\n      /*\n          targetAxisReferencePosition is set by\n              - setCradleContent\n              - updateCradleContent\n              - layoutHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - host scrollToIndex call\n               targetAxisReferencePosition is used by\n              - scrollTrackerArgs in cradle module\n              - requestedAxisReferenceIndex in setCradleContent\n      */\n      targetAxisReferencePosition: null,\n      /*\n          targetPixelOffsetAxisFromViewport is set by\n              - setCradleContent\n              - updateCradleContent\n              - layoutHandler (initialization)\n              - scrollHandler (during and after scroll)\n              - pivot effect (change of orientation) in cradle module\n               targetPixelOffsetAxisFromViewport is used by\n              - previousAxisOffset in pivot effect\n              - setCradleContent\n           */\n      targetPixelOffsetAxisFromViewport: null // pixels into the viewport\n    };\n    // called by interruptHandler\n    this.restoreBaseScrollblockConfig = function () {\n      var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n        viewportElement = ViewportContextProperties.elementRef.current,\n        scrollblockElement = viewportElement.firstChild,\n        _this$cradleParameter = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n        orientation = _this$cradleParameter.orientation,\n        cellHeight = _this$cradleParameter.cellHeight,\n        cellWidth = _this$cradleParameter.cellWidth,\n        layout = _this$cradleParameter.layout,\n        _this$cradleParameter2 = _this.cradleParameters.cradleInternalPropertiesRef.current,\n        virtualListProps = _this$cradleParameter2.virtualListProps,\n        paddingProps = _this$cradleParameter2.paddingProps,\n        gapProps = _this$cradleParameter2.gapProps,\n        listRowcount = virtualListProps.rowcount,\n        crosscount = virtualListProps.crosscount,\n        _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n        scrollHandler = _this$cradleParameter3.scrollHandler,\n        layoutHandler = _this$cradleParameter3.layoutHandler,\n        gaplength = orientation == \'vertical\' ? gapProps.column : gapProps.row,\n        cellLength = (orientation == \'vertical\' ? cellHeight : cellWidth) + gaplength,\n        paddingLength = orientation == \'vertical\' ? paddingProps.top + paddingProps.bottom : paddingProps.left + paddingProps.right,\n        blocklength = listRowcount * cellLength - gaplength // final cell has no trailing gap\n        + paddingLength;\n\n      // leading and trailing padding\n      if (orientation == \'vertical\') {\n        scrollblockElement.style.top = null;\n        scrollblockElement.style.height = blocklength + \'px\';\n      } else {\n        scrollblockElement.style.left = null;\n        scrollblockElement.style.width = blocklength + \'px\';\n      }\n      var cradlePositionData = layoutHandler.cradlePositionData,\n        axisReferencePosition = cradlePositionData.targetAxisReferencePosition,\n        rowReferencePosition = Math.ceil(axisReferencePosition / crosscount),\n        paddingOffset = orientation == \'vertical\' ? paddingProps.top : paddingProps.left,\n        calculatedBlockScrollPos = rowReferencePosition * cellLength + paddingOffset;\n      if (layout == \'variable\') {\n        // scrollPos overwritten by Safari iOS momentum engine\n        var originalScrollPos = orientation == \'vertical\' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n          scrollShift = calculatedBlockScrollPos - originalScrollPos;\n        if (orientation == \'vertical\') {\n          scrollblockElement.style.top = scrollShift;\n        } else {\n          scrollblockElement.style.left = scrollShift;\n        }\n      } else {\n        var scrollTop = viewportElement.scrollTop,\n          scrollLeft = viewportElement.scrollLeft;\n        var scrollOptions;\n        if (cradlePositionData.blockScrollProperty == \'scrollTop\') {\n          scrollOptions = {\n            top: cradlePositionData.trackingBlockScrollPos,\n            left: scrollLeft,\n            behavior: \'instant\'\n          };\n        } else {\n          scrollOptions = {\n            left: cradlePositionData.trackingBlockScrollPos,\n            top: scrollTop,\n            behavior: \'instant\'\n          };\n        }\n        viewportElement.scroll(scrollOptions);\n      }\n      cradlePositionData.trackingBlockScrollPos = calculatedBlockScrollPos;\n      scrollHandler.resetScrollData(calculatedBlockScrollPos);\n    };\n    this.cradleParameters = cradleParameters;\n    var _cradleParameters$cra = cradleParameters.cradleInternalPropertiesRef.current.cradleElementsRef.current,\n      axisRef = _cradleParameters$cra.axisRef,\n      headRef = _cradleParameters$cra.headRef,\n      tailRef = _cradleParameters$cra.tailRef,\n      triggercellTriggerlineHeadRef = _cradleParameters$cra.triggercellTriggerlineHeadRef,\n      triggercellTriggerlineTailRef = _cradleParameters$cra.triggercellTriggerlineTailRef;\n    this.elements = {\n      axisRef: axisRef,\n      headRef: headRef,\n      tailRef: tailRef,\n      triggercellTriggerlineHeadRef: triggercellTriggerlineHeadRef,\n      triggercellTriggerlineTailRef: triggercellTriggerlineTailRef\n    };\n    var _this$cradleParameter4 = this.cradleParameters.cradleInheritedPropertiesRef.current,\n      startingIndex = _this$cradleParameter4.startingIndex,\n      orientation = _this$cradleParameter4.orientation;\n    var virtualListProps = this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps,\n      listsize = virtualListProps.size,\n      lowindex = virtualListProps.lowindex,\n      highindex = virtualListProps.highindex;\n    if (listsize) {\n      startingIndex = Math.max(startingIndex, lowindex);\n      startingIndex = Math.min(startingIndex, highindex);\n      this.cradlePositionData.targetAxisReferencePosition = startingIndex - lowindex;\n    } else {\n      this.cradlePositionData.targetAxisReferencePosition = 0;\n    }\n    this.cradlePositionData.targetPixelOffsetAxisFromViewport = 0;\n  }\n  _createClass(LayoutHandler, [{\n    key: "scrollerID",\n    get: function get() {\n      return this.cradleParameters.cradleInheritedPropertiesRef.current.scrollerID;\n    }\n  }, {\n    key: "triggerlineSpan",\n    get: function get() {\n      var orientation = this.cradleParameters.cradleInheritedPropertiesRef.current.orientation,\n        span = orientation == \'vertical\' ? this.elements.triggercellTriggerlineTailRef.current.offsetTop - this.elements.triggercellTriggerlineHeadRef.current.offsetTop :\n        // horizontal\n        this.elements.triggercellTriggerlineTailRef.current.offsetLeft - this.elements.triggercellTriggerlineHeadRef.current.offsetLeft;\n      return span;\n    }\n  }]);\n  return LayoutHandler;\n}();\nexports["default"] = LayoutHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEsR0FBR0csUUFBUTtLQUVqRixNQUFNO01BRUgsSUFBSSxDQUFDeEUsa0JBQWtCLENBQUNLLDJCQUEyQixHQUFHLENBQUM7O0lBRzNELElBQUksQ0FBQ0wsa0JBQWtCLENBQUNNLGlDQUFpQyxHQUFHLENBQUM7RUFFakU7RUFBQzVCLFlBQUEsQ0FBQWMsYUFBQTtJQUFBZixHQUFBO0lBQUFtRyxHQUFBLEVBRUQsU0FBQUEsSUFBQSxFQUFxQjtNQUNqQixPQUFPLElBQUksQ0FBQ25GLGdCQUFnQixDQUFDdUIsNEJBQTRCLENBQUNOLE9BQU8sQ0FBQ21FLFVBQVU7SUFDaEY7RUFBQztJQUFBcEcsR0FBQTtJQUFBbUcsR0FBQSxFQXNCRCxTQUFBQSxJQUFBLEVBQTBCO01BR2xCLElBQ0kzRCxXQUFXLEdBQ1gsSUFBSSxDQUFDeEIsZ0JBQWdCLENBQUN1Qiw0QkFBNEIsQ0FBQ04sT0FBTyxDQUQxRE8sV0FBVztRQUdmNkQsSUFBSSxHQUFJN0QsV0FBVyxJQUFJLFVBQVUsR0FDN0IsSUFBSSxDQUFDa0QsUUFBUSxDQUFDRCw2QkFBNkIsQ0FBQ3hELE9BQU8sQ0FBQ3FFLFNBQVMsR0FDN0QsSUFBSSxDQUFDWixRQUFRLENBQUNGLDZCQUE2QixDQUFDdkQsT0FBTyxDQUFDcUUsU0FBUztRQUM3RDtRQUNBLElBQUksQ0FBQ1osUUFBUSxDQUFDRCw2QkFBNkIsQ0FBQ3hELE9BQU8sQ0FBQ3NFLFVBQVUsR0FDOUQsSUFBSSxDQUFDYixRQUFRLENBQUNGLDZCQUE2QixDQUFDdkQsT0FBTyxDQUFDc0UsVUFBVTtNQUV0RSxPQUFPRixJQUFJO0lBQ2Y7RUFBQztFQUFBLE9BQUF0RixhQUFBO0FBQUE7QUFyR0x5RixrQkFBQSxHQUFBekYsYUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL2xheW91dGhhbmRsZXIudHN4PzA3YmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGF5b3V0aGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgaG9sZHMgcmVmZXJlbmNlcyB0byBcbiAgICAtIHRoZSBzdHJ1Y3R1cmFsIGVsZW1lbnRzIG9mIHRoZSBjcmFkbGVcbiAgICAtIHRoZSBrZXkgY29udHJvbCB2YWx1ZXMgb2YgdGhlIGNyYWRsZVxuXG4gICAgVGhlIHN0cnVjdHVyYWwgZWxlbWVudHMgYXJlIHRoZSBheGlzLCBoZWFkIChncmlkKSwgdGFpbCAoZ3JpZCksIFxuICAgICAgICBhbmQgdGhlIGhlYWQgYW5kIHRhaWwgdHJpZ2dlcmxpbmVzXG4gICAgVGhlIGtleSBjb250cm9sIHZhbHVlcyBhcmUgdGhlIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MgJiB0cmFja2luZ1hCbG9ja1Njcm9sbFBvcyAoc2Nyb2xsVG9wIG9yIHNjcm9sbExlZnQpLCB0aGUgYmxvY2sgc2Nyb2xsXG4gICAgICAgIHByb3BlcnR5IChcInNjcm9sbFRvcFwiIG9yIFwic2Nyb2xsTGVmdFwiKSwgdGhlIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiAoZmlyc3QgaW5kZXggb2YgdGhlXG4gICAgICAgIHRhaWwgYmxvY2spLCBhbmQgdGhlIHRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCAocGl4ZWxzIG9mZnNldCBmcm9tIHRoZSBlZGdlIG9mIHRoZSBcbiAgICAgICAgdmlld3BvcnQpXG4qL1xuXG4vLyBpbXBvcnQgeyBpc1NhZmFyaUlPUyB9IGZyb20gJy4uL0luZmluaXRlR3JpZFNjcm9sbGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXRIYW5kbGVyIHsgXG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgIGNvbnN0IHtcblxuICAgICAgICAgICAgYXhpc1JlZiwgXG4gICAgICAgICAgICBoZWFkUmVmLCBcbiAgICAgICAgICAgIHRhaWxSZWYsXG4gICAgICAgICAgICB0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFJlZixcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmLFxuXG4gICAgICAgIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LmNyYWRsZUVsZW1lbnRzUmVmLmN1cnJlbnRcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7XG5cbiAgICAgICAgICAgIGF4aXNSZWYsXG4gICAgICAgICAgICBoZWFkUmVmLFxuICAgICAgICAgICAgdGFpbFJlZixcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLFxuICAgICAgICAgICAgdHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYsXG4gICAgICAgIH1cblxuICAgICAgICBsZXQge1xuXG4gICAgICAgICAgICBzdGFydGluZ0luZGV4LCBcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuXG4gICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmlydHVhbExpc3RQcm9wcyxcblxuICAgICAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICBzaXplOmxpc3RzaXplLFxuICAgICAgICAgICAgICAgIGxvd2luZGV4LFxuICAgICAgICAgICAgICAgIGhpZ2hpbmRleCxcblxuICAgICAgICAgICAgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBpZiAobGlzdHNpemUpIHtcblxuICAgICAgICAgICAgc3RhcnRpbmdJbmRleCA9IE1hdGgubWF4KHN0YXJ0aW5nSW5kZXgsIGxvd2luZGV4KVxuICAgICAgICAgICAgc3RhcnRpbmdJbmRleCA9IE1hdGgubWluKHN0YXJ0aW5nSW5kZXgsIGhpZ2hpbmRleClcblxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gc3RhcnRpbmdJbmRleCAtIGxvd2luZGV4XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdGhpcy5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0ID0gMFxuXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzY3JvbGxlcklEKCkgeyAvLyBmb3IgZGVidWdcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQuc2Nyb2xsZXJJRFxuICAgIH1cblxuICAgIHB1YmxpYyBTT0xTaWduYWwgPSBmYWxzZVxuICAgIHB1YmxpYyBFT0xTaWduYWwgPSBmYWxzZVxuXG4gICAgcHVibGljIGJvdW5kYXJ5Tm90aWZpY2F0aW9uc1JlcXVpcmVkID0gKCkgPT4ge1xuICAgICAgICBsZXQgdHJpZ2dlciA9IGZhbHNlXG4gICAgICAgIGlmICh0aGlzLlNPTFNpZ25hbCB8fCB0aGlzLkVPTFNpZ25hbCkge1xuICAgICAgICAgICAgdHJpZ2dlciA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJpZ2dlclxuICAgIH1cblxuICAgIHB1YmxpYyBjYW5jZWxCb3VuZGFyeU5vdGlmaWNhdGlvbnMgPSAoKSA9PiB7XG5cbiAgICAgICAgdGhpcy5TT0xTaWduYWwgPSBmYWxzZVxuICAgICAgICB0aGlzLkVPTFNpZ25hbCA9IGZhbHNlXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBnZXQgdHJpZ2dlcmxpbmVTcGFuKCkge1xuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICBzcGFuID0gKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMudHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxSZWYuY3VycmVudC5vZmZzZXRUb3AgLSBcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkUmVmLmN1cnJlbnQub2Zmc2V0VG9wOlxuICAgICAgICAgICAgICAgIC8vIGhvcml6b250YWxcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsUmVmLmN1cnJlbnQub2Zmc2V0TGVmdCAtIFxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMudHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWYuY3VycmVudC5vZmZzZXRMZWZ0XG5cbiAgICAgICAgcmV0dXJuIHNwYW5cbiAgICB9XG5cbiAgICBwdWJsaWMgdHJpZ2dlcmNlbGxJbmRleFxuICAgIHB1YmxpYyB0cmlnZ2VyY2VsbElzSW5UYWlsIC8vID0gZmFsc2VcblxuICAgIC8vIGNyYWRsZVBvc2l0aW9uRGF0YSBjb250cm9scyB0aGUgcmVsYXRpdmUgcG9zaXRpb25zIG9mIHRoZSBzY2FmZm9sZCBlbGVtZW50c1xuICAgIHB1YmxpYyBjcmFkbGVQb3NpdGlvbkRhdGEgPSB7XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIFwiYmxvY2tcIiA9IGNyYWRsZWJsb2NrLCB3aGljaCBpcyB0aGUgZWxlbWVudCB0aGF0IGlzIHNjcm9sbGVkXG5cbiAgICAgICAgICAgIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MgaXMgc2V0IGJ5IHNjcm9sbEhhbmRsZXIgZHVyaW5nIGFuZCBhZnRlciBzY3JvbGxpbmcsXG4gICAgICAgICAgICBhbmQgYnkgc2V0Q3JhZGxlQ29udGVudCBpbiBjb250ZW50SGFuZGxlciwgd2hpY2ggcmVwb3NpdGlvbnMgdGhlIGNyYWRsZS5cblxuICAgICAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBjcmFkbGUgaW5pdGlhbGl6YXRpb24gaW4gcmVzcG9uc2UgdG8gcmVwYXJlbnRpbmcgaW50ZXJydXB0XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG5cbiAgICAgICAgKi9cbiAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvczpudWxsLCAvLyB0aGUgZWRnZSBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgdHJhY2tpbmdYQmxvY2tTY3JvbGxQb3M6bnVsbCwgLy8gdGhlIGNyb3NzIHBvc2l0aW9uIGZvciBvdmVyc2l6ZWQgc2Nyb2xsQmxvY2tcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdmFsdWVzIGNhbiBiZSBcInNjcm9sbFRvcFwiIG9yIFwic2Nyb2xsTGVmdFwiIChvZiB0aGUgdmlld3BvcnQgZWxlbWVudCkgZGVwZW5kaW5nIG9uIG9yaWVudGF0aW9uXG5cbiAgICAgICAgICAgIGJsb2NrU2Nyb2xsUHJvcGVydHkgaXMgc2V0IGJ5IHRoZSBvcmllbnRhdGlvbiByZWNvbmZpZ3VyYXRpb24gZWZmZWN0IGluIGNyYWRsZSBtb2R1bGUuXG5cbiAgICAgICAgICAgIGl0IGlzIHVzZWQgd2hlcmUgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyBpcyB1c2VkIGFib3ZlLlxuICAgICAgICAqL1xuICAgICAgICBibG9ja1Njcm9sbFByb3BlcnR5OiBudWxsLFxuICAgICAgICBibG9ja1hTY3JvbGxQcm9wZXJ0eTogbnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIGlzIHNldCBieVxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gbGF5b3V0SGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIGhvc3Qgc2Nyb2xsVG9JbmRleCBjYWxsXG5cbiAgICAgICAgICAgIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBzY3JvbGxUcmFja2VyQXJncyBpbiBjcmFkbGUgbW9kdWxlXG4gICAgICAgICAgICAgICAgLSByZXF1ZXN0ZWRBeGlzUmVmZXJlbmNlSW5kZXggaW4gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAqL1xuICAgICAgICB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb246bnVsbCxcblxuICAgICAgICAvKlxuICAgICAgICAgICAgdGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0IGlzIHNldCBieVxuICAgICAgICAgICAgICAgIC0gc2V0Q3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICAgICAgICAgIC0gbGF5b3V0SGFuZGxlciAoaW5pdGlhbGl6YXRpb24pXG4gICAgICAgICAgICAgICAgLSBzY3JvbGxIYW5kbGVyIChkdXJpbmcgYW5kIGFmdGVyIHNjcm9sbClcbiAgICAgICAgICAgICAgICAtIHBpdm90IGVmZmVjdCAoY2hhbmdlIG9mIG9yaWVudGF0aW9uKSBpbiBjcmFkbGUgbW9kdWxlXG5cbiAgICAgICAgICAgIHRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCBpcyB1c2VkIGJ5XG4gICAgICAgICAgICAgICAgLSBwcmV2aW91c0F4aXNPZmZzZXQgaW4gcGl2b3QgZWZmZWN0XG4gICAgICAgICAgICAgICAgLSBzZXRDcmFkbGVDb250ZW50XG5cbiAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0Om51bGwsIC8vIHBpeGVscyBpbnRvIHRoZSB2aWV3cG9ydFxuXG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGJ5IGludGVycnVwdEhhbmRsZXJcbiAgICBwdWJsaWMgcmVzdG9yZUJhc2VTY3JvbGxibG9ja0NvbmZpZyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZCxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIC8vIHNjcm9sbGVySUQsIFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uLCBcbiAgICAgICAgICAgICAgICAvLyBnYXAsXG4gICAgICAgICAgICAgICAgY2VsbEhlaWdodCxcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGgsXG4gICAgICAgICAgICAgICAgbGF5b3V0IFxuXG4gICAgICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpcnR1YWxMaXN0UHJvcHMsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgIGdhcFByb3BzLFxuXG4gICAgICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICByb3djb3VudDpsaXN0Um93Y291bnQsXG4gICAgICAgICAgICAgICAgY3Jvc3Njb3VudCxcblxuICAgICAgICAgICAgfSA9IHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgIHsgXG5cbiAgICAgICAgICAgICAgICAvLyBzdGF0ZUhhbmRsZXIsIFxuICAgICAgICAgICAgICAgIC8vIHNlcnZpY2VIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBzY3JvbGxIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyIFxuXG4gICAgICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIGdhcGxlbmd0aCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIGdhcFByb3BzLmNvbHVtbjpcbiAgICAgICAgICAgICAgICAgICAgZ2FwUHJvcHMucm93LFxuXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgKChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgY2VsbEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgY2VsbFdpZHRoKSBcbiAgICAgICAgICAgICAgICArIGdhcGxlbmd0aCxcblxuICAgICAgICAgICAgcGFkZGluZ0xlbmd0aCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3AgKyBwYWRkaW5nUHJvcHMuYm90dG9tOlxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMubGVmdCArIHBhZGRpbmdQcm9wcy5yaWdodCxcblxuICAgICAgICAgICAgYmxvY2tsZW5ndGggPSAobGlzdFJvd2NvdW50ICogY2VsbExlbmd0aCkgLSBnYXBsZW5ndGggLy8gZmluYWwgY2VsbCBoYXMgbm8gdHJhaWxpbmcgZ2FwXG4gICAgICAgICAgICAgICAgKyBwYWRkaW5nTGVuZ3RoIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHBhZGRpbmdcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQuc3R5bGUudG9wID0gbnVsbFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmhlaWdodCA9IGJsb2NrbGVuZ3RoICsgJ3B4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS5sZWZ0ID0gbnVsbFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLndpZHRoID0gYmxvY2tsZW5ndGggKyAncHgnXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IGxheW91dEhhbmRsZXIsXG4gICAgICAgICAgICBheGlzUmVmZXJlbmNlUG9zaXRpb24gPSBjcmFkbGVQb3NpdGlvbkRhdGEudGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uLFxuICAgICAgICAgICAgcm93UmVmZXJlbmNlUG9zaXRpb24gPSBNYXRoLmNlaWwoYXhpc1JlZmVyZW5jZVBvc2l0aW9uL2Nyb3NzY291bnQpLFxuICAgICAgICAgICAgcGFkZGluZ09mZnNldCA9IFxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy50b3A6XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdQcm9wcy5sZWZ0LFxuICAgICAgICAgICAgY2FsY3VsYXRlZEJsb2NrU2Nyb2xsUG9zID0gXG4gICAgICAgICAgICAgICAgKHJvd1JlZmVyZW5jZVBvc2l0aW9uICogY2VsbExlbmd0aCkgKyBwYWRkaW5nT2Zmc2V0XG5cblxuICAgICAgICBpZiAobGF5b3V0ID09ICd2YXJpYWJsZScpIHsgLy8gc2Nyb2xsUG9zIG92ZXJ3cml0dGVuIGJ5IFNhZmFyaSBpT1MgbW9tZW50dW0gZW5naW5lXG5cbiAgICAgICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsU2Nyb2xsUG9zID0gXG4gICAgICAgICAgICAgICAgICAgIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCxcblxuICAgICAgICAgICAgICAgIHNjcm9sbFNoaWZ0ID0gY2FsY3VsYXRlZEJsb2NrU2Nyb2xsUG9zIC0gb3JpZ2luYWxTY3JvbGxQb3NcblxuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudC5zdHlsZS50b3AgPSBzY3JvbGxTaGlmdFxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBzY3JvbGxTaGlmdFxuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBjb25zdCBcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgICAgICBsZXQgc2Nyb2xsT3B0aW9uc1xuICAgICAgICAgICAgaWYgKGNyYWRsZVBvc2l0aW9uRGF0YS5ibG9ja1Njcm9sbFByb3BlcnR5ID09ICdzY3JvbGxUb3AnKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOmNyYWRsZVBvc2l0aW9uRGF0YS50cmFja2luZ0Jsb2NrU2Nyb2xsUG9zLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOidpbnN0YW50JyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcm9sbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6Y3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nQmxvY2tTY3JvbGxQb3MsXG4gICAgICAgICAgICAgICAgICAgIHRvcDpzY3JvbGxUb3AsXG4gICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOidpbnN0YW50JyxcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGwoc2Nyb2xsT3B0aW9ucylcblxuICAgICAgICB9XG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50cmFja2luZ0Jsb2NrU2Nyb2xsUG9zID0gY2FsY3VsYXRlZEJsb2NrU2Nyb2xsUG9zXG4gICAgICAgIHNjcm9sbEhhbmRsZXIucmVzZXRTY3JvbGxEYXRhKGNhbGN1bGF0ZWRCbG9ja1Njcm9sbFBvcylcblxuICAgIH1cblxuICAgIHB1YmxpYyBlbGVtZW50c1xuXG59XG5cbiJdLCJuYW1lcyI6WyJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJOdW1iZXIiLCJMYXlvdXRIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwiU09MU2lnbmFsIiwiRU9MU2lnbmFsIiwiYm91bmRhcnlOb3RpZmljYXRpb25zUmVxdWlyZWQiLCJ0cmlnZ2VyIiwiY2FuY2VsQm91bmRhcnlOb3RpZmljYXRpb25zIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidHJhY2tpbmdCbG9ja1Njcm9sbFBvcyIsInRyYWNraW5nWEJsb2NrU2Nyb2xsUG9zIiwiYmxvY2tTY3JvbGxQcm9wZXJ0eSIsImJsb2NrWFNjcm9sbFByb3BlcnR5IiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwidGFyZ2V0UGl4ZWxPZmZzZXRBeGlzRnJvbVZpZXdwb3J0IiwicmVzdG9yZUJhc2VTY3JvbGxibG9ja0NvbmZpZyIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMiLCJWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmIiwiY3VycmVudCIsInZpZXdwb3J0RWxlbWVudCIsImVsZW1lbnRSZWYiLCJzY3JvbGxibG9ja0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsIm9yaWVudGF0aW9uIiwiY2VsbEhlaWdodCIsImNlbGxXaWR0aCIsImxheW91dCIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjIiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJ2aXJ0dWFsTGlzdFByb3BzIiwicGFkZGluZ1Byb3BzIiwiZ2FwUHJvcHMiLCJsaXN0Um93Y291bnQiLCJyb3djb3VudCIsImNyb3NzY291bnQiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIzIiwiaGFuZGxlcnNSZWYiLCJzY3JvbGxIYW5kbGVyIiwibGF5b3V0SGFuZGxlciIsImdhcGxlbmd0aCIsImNvbHVtbiIsInJvdyIsImNlbGxMZW5ndGgiLCJwYWRkaW5nTGVuZ3RoIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiYmxvY2tsZW5ndGgiLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwiYXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwicm93UmVmZXJlbmNlUG9zaXRpb24iLCJNYXRoIiwiY2VpbCIsInBhZGRpbmdPZmZzZXQiLCJjYWxjdWxhdGVkQmxvY2tTY3JvbGxQb3MiLCJvcmlnaW5hbFNjcm9sbFBvcyIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxTaGlmdCIsInNjcm9sbE9wdGlvbnMiLCJiZWhhdmlvciIsInNjcm9sbCIsInJlc2V0U2Nyb2xsRGF0YSIsIl9jcmFkbGVQYXJhbWV0ZXJzJGNyYSIsImNyYWRsZUVsZW1lbnRzUmVmIiwiYXhpc1JlZiIsImhlYWRSZWYiLCJ0YWlsUmVmIiwidHJpZ2dlcmNlbGxUcmlnZ2VybGluZUhlYWRSZWYiLCJ0cmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFJlZiIsImVsZW1lbnRzIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyNCIsInN0YXJ0aW5nSW5kZXgiLCJsaXN0c2l6ZSIsInNpemUiLCJsb3dpbmRleCIsImhpZ2hpbmRleCIsIm1heCIsIm1pbiIsImdldCIsInNjcm9sbGVySUQiLCJzcGFuIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/layouthandler.tsx\n')},"./src/cradle/scrollhandler.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\n// scrollhandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module holds the response to scrolling. It also triggers an onAfterScroll event (after a timeout)\n    It's main job is to maintain records of scrollPos, targetAxisReferencePosition, and\n        targetPixelOffsetAxisFromViewport\n*/\nvar InfiniteGridScroller_1 = __webpack_require__(/*! ../InfiniteGridScroller */ \"./src/InfiniteGridScroller.tsx\");\nvar ScrollHandler = /*#__PURE__*/_createClass(function ScrollHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, ScrollHandler);\n  this.scrollData = {\n    start: 0,\n    current: 0,\n    previous: 0,\n    previousupdate: 0,\n    currentupdate: 0\n  };\n  this._scrolltimerid = null;\n  this.isScrolling = false;\n  this.resetScrollData = function (scrollPosition) {\n    var scrollData = _this.scrollData;\n    scrollData.start = scrollData.current = scrollData.previous = scrollData.previousupdate = scrollData.currentupdate = scrollPosition;\n  };\n  /*\n           onScroll is responsible for tracking current positioning data, for use elsewhere.\n      It also triggers after scroll operations, one for normal scrolling, and a second for variable content\n       */\n  this.onScroll = function (e) {\n    var _this$cradleParameter = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      scrollerID = _this$cradleParameter.scrollerID,\n      ONAFTERSCROLL_TIMEOUT = _this$cradleParameter.ONAFTERSCROLL_TIMEOUT,\n      layout = _this$cradleParameter.layout,\n      ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      viewportElement = e.currentTarget,\n      scrollblockElement = viewportElement.firstChild,\n      orientation = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation,\n      scrollPositionCurrent = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n      scrollXPositionCurrent = orientation == 'horizontal' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n    clearTimeout(_this._scrolltimerid);\n    // filters...\n    if (viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0) {\n      // in cache\n      return;\n    }\n    if (scrollPositionCurrent < 0) {\n      // for Safari\n      return;\n    }\n    var signals = _this.cradleParameters.handlersRef.current.interruptHandler.signals;\n    if (signals.pauseScrollingEffects) {\n      return;\n    }\n    if (!_this.isScrolling) {\n      // started scrolling; set start position\n      _this.isScrolling = true;\n      if (InfiniteGridScroller_1.isSafariIOS) {\n        _this._onAfterScrollTimeout = 1000; // iOS sometimes likes to pause before commencing scrolling\n        clearTimeout(_this._iOSsetTimeoutTimerid);\n        _this._iOSsetTimeoutTimerid = setTimeout(function () {\n          _this._onAfterScrollTimeout = ONAFTERSCROLL_TIMEOUT; // back to more responsive once underway\n        }, 900);\n      } else {\n        _this._onAfterScrollTimeout = ONAFTERSCROLL_TIMEOUT;\n      }\n      _this.scrollData.start = scrollPositionCurrent;\n      _this.scrollData.currentupdate = scrollPositionCurrent;\n    }\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      layoutHandler = _this$cradleParameter2.layoutHandler,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      cradlePositionData = layoutHandler.cradlePositionData,\n      cradleState = stateHandler.cradleStateRef.current;\n    // keep up to date in case of reparenting interrupt\n    cradlePositionData.trackingBlockScrollPos = scrollPositionCurrent;\n    cradlePositionData.trackingXBlockScrollPos = scrollXPositionCurrent;\n    _this.scrollData.previous = _this.scrollData.current;\n    _this.scrollData.current = scrollPositionCurrent;\n    if (!ViewportContextProperties.isResizing) {\n      if (cradleState == 'repositioningRender') {\n        _this.calcImpliedRepositioningData('onScroll');\n      }\n    }\n    _this._scrolltimerid = setTimeout(function () {\n      if (stateHandler.isMountedRef.current) {\n        _this.onAfterScroll();\n      }\n    }, _this._onAfterScrollTimeout);\n    if (layout == 'variable') {\n      var scrollblockLength, viewportLength, trackingBlockScrollPos, scrollblockOffset;\n      if (orientation == 'vertical') {\n        scrollblockLength = viewportElement.scrollHeight;\n        viewportLength = viewportElement.offsetHeight;\n        trackingBlockScrollPos = viewportElement.scrollTop;\n        scrollblockOffset = scrollblockElement.offsetTop;\n      } else {\n        scrollblockLength = viewportElement.scrollWidth;\n        viewportLength = viewportElement.offsetWidth;\n        trackingBlockScrollPos = viewportElement.scrollLeft;\n        scrollblockOffset = scrollblockElement.offsetLeft;\n      }\n      clearTimeout(_this._scrollforvariabletimerid);\n      // immediate interrupt halt and adjustment for overshoot at start of end of scrollblock\n      if (trackingBlockScrollPos - scrollblockOffset < 0 ||\n      // overshoot start\n      scrollblockLength < trackingBlockScrollPos - scrollblockOffset + viewportLength) {\n        // overshoot end\n        _this.onAfterScrollForVariable(); // immediate halt and adjust\n      } else {\n        // normal timed adjustment for variable content\n        _this._scrollforvariabletimerid = setTimeout(function () {\n          if (stateHandler.isMountedRef.current) {\n            _this.onAfterScrollForVariable(); // deferred halt and adjust\n          }\n        }, _this._onAfterScrollTimeout);\n      }\n    }\n    return false;\n  };\n  /*\n           onAfterScroll finishes reposition if that is running, or\n      updates reference data, and\n      pares cache data for keepload\n       */\n  this.onAfterScroll = function () {\n    _this.isScrolling = false;\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter3.stateHandler,\n      contentHandler = _this$cradleParameter3.contentHandler,\n      serviceHandler = _this$cradleParameter3.serviceHandler,\n      cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      cradleState = stateHandler.cradleStateRef.current;\n    switch (cradleState) {\n      case 'repositioningRender':\n        {\n          _this.updateBlockScrollPos();\n          var repositioningFlagCallback = serviceHandler.callbacks.repositioningFlagCallback;\n          repositioningFlagCallback && repositioningFlagCallback(false);\n          stateHandler.setCradleState('finishreposition');\n          break;\n        }\n      default:\n        {\n          if (_this.scrollData.start != _this.scrollData.current || _this.scrollData.current != _this.scrollData.previous) {\n            if (stateHandler.isMountedRef.current) {\n              _this.updateReferenceData();\n            }\n          }\n          break;\n        }\n    }\n    var cache = cradleInheritedProperties.cache;\n    if (cache == 'keepload') {\n      contentHandler.pareCacheToMax();\n    }\n  };\n  /*\n      onAfterScrollForVariable stops scrolling in its tracks for variable content if an overshoot occurs\n      in any case it moves the scrollblock to its final position in relation to the viewport\n  */\n  this.onAfterScrollForVariable = function () {\n    _this.isScrolling = false;\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      viewportElement = ViewportContextProperties.elementRef.current,\n      scrollblockElement = viewportElement.firstChild,\n      orientation = _this.cradleParameters.cradleInheritedPropertiesRef.current.orientation,\n      scrollblockOffset = orientation == 'vertical' ? scrollblockElement.offsetTop : scrollblockElement.offsetLeft,\n      trackingBlockScrollPos = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft,\n      scrollTop = viewportElement.scrollTop,\n      scrollLeft = viewportElement.scrollLeft;\n    viewportElement.style.overflow = 'hidden';\n    var scrollOptions;\n    if (orientation == 'vertical') {\n      scrollOptions = {\n        top: trackingBlockScrollPos - scrollblockOffset,\n        left: scrollLeft,\n        behavior: 'instant'\n      };\n      scrollblockElement.style.top = null;\n    } else {\n      // orientation == horizontal\n      scrollOptions = {\n        top: scrollTop,\n        left: trackingBlockScrollPos - scrollblockOffset,\n        behavior: 'instant'\n      };\n      scrollblockElement.style.left = null;\n    }\n    viewportElement.scroll(scrollOptions);\n    viewportElement.style.overflow = 'scroll';\n  };\n  // after scroll, but not after repositioning\n  this.updateReferenceData = function () {\n    var _this$cradleParameter4 = _this.cradleParameters.handlersRef.current,\n      stateHandler = _this$cradleParameter4.stateHandler,\n      layoutHandler = _this$cradleParameter4.layoutHandler;\n    if (!stateHandler.isMountedRef.current) return;\n    var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      cradleElements = layoutHandler.elements,\n      axisElement = cradleElements.axisRef.current,\n      viewportElement = ViewportContextProperties.elementRef.current,\n      scrollblockElement = viewportElement.firstChild;\n    var axisViewportPixelOffset;\n    if (cradleInheritedProperties.orientation == 'vertical') {\n      axisViewportPixelOffset = axisElement.offsetTop + scrollblockElement.offsetTop - viewportElement.scrollTop;\n    } else {\n      axisViewportPixelOffset = axisElement.offsetLeft + scrollblockElement.offsetLeft - viewportElement.scrollLeft;\n    }\n    var cradlePositionData = layoutHandler.cradlePositionData;\n    cradlePositionData.targetPixelOffsetAxisFromViewport = axisViewportPixelOffset;\n    if (!ViewportContextProperties.isResizing) {\n      _this.updateBlockScrollPos();\n    }\n  };\n  // called from finishreposition state change call above\n  // called from updateReferenceData\n  this.updateBlockScrollPos = function () {\n    var cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      layoutHandler = _this.cradleParameters.handlersRef.current.layoutHandler,\n      cradlePositionData = layoutHandler.cradlePositionData,\n      viewportElement = ViewportContextProperties.elementRef.current;\n    if (!(viewportElement.clientWidth == 0 && viewportElement.clientHeight == 0)) {\n      // in cache\n      if (cradleInheritedProperties.orientation == 'vertical') {\n        cradlePositionData.trackingBlockScrollPos = viewportElement.scrollTop;\n        cradlePositionData.trackingXBlockScrollPos = viewportElement.scrollLeft;\n      } else {\n        cradlePositionData.trackingBlockScrollPos = viewportElement.scrollLeft;\n        cradlePositionData.trackingXBlockScrollPos = viewportElement.scrollTop;\n      }\n    }\n  };\n  // sets cradlePositionData targetAxisReferencePosition and targetPixelOffsetAxisFromViewport\n  this.calcImpliedRepositioningData = function (source) {\n    var ViewportContextProperties = _this.cradleParameters.ViewportContextPropertiesRef.current,\n      cradleInheritedProperties = _this.cradleParameters.cradleInheritedPropertiesRef.current,\n      _this$cradleParameter5 = _this.cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = _this$cradleParameter5.virtualListProps,\n      paddingProps = _this$cradleParameter5.paddingProps,\n      gapProps = _this$cradleParameter5.gapProps,\n      viewportElement = ViewportContextProperties.elementRef.current,\n      scrollblockElement = viewportElement.firstChild,\n      orientation = cradleInheritedProperties.orientation,\n      crosscount = virtualListProps.crosscount,\n      listsize = virtualListProps.size,\n      lowindex = virtualListProps.lowindex,\n      serviceHandler = _this.cradleParameters.handlersRef.current.serviceHandler,\n      repositioningIndexCallback = serviceHandler.callbacks.repositioningIndexCallback;\n    var scrollPos, cellLength, scrollblockOffset;\n    if (orientation == 'vertical') {\n      scrollPos = viewportElement.scrollTop;\n      cellLength = cradleInheritedProperties.cellHeight + gapProps.column;\n      scrollblockOffset = scrollblockElement.offsetTop;\n    } else {\n      scrollPos = viewportElement.scrollLeft;\n      cellLength = cradleInheritedProperties.cellWidth + gapProps.row;\n      scrollblockOffset = scrollblockElement.offsetLeft;\n    }\n    var axisPixelOffset = cellLength - (scrollPos + scrollblockOffset) % cellLength;\n    var paddingOffset = orientation == 'vertical' ? paddingProps.top : paddingProps.left;\n    if (axisPixelOffset == cellLength) {\n      // + paddingOffset)) {\n      axisPixelOffset = 0;\n    }\n    var axisRowPosition = Math.ceil((scrollPos - paddingOffset) / cellLength);\n    var axisReferencePosition = axisRowPosition * crosscount;\n    axisReferencePosition = Math.min(axisReferencePosition, listsize - 1);\n    var diff = axisReferencePosition % crosscount;\n    axisReferencePosition -= diff;\n    if (axisReferencePosition == 0) axisPixelOffset = 0; // defensive\n    var cradlePositionData = _this.cradleParameters.handlersRef.current.layoutHandler.cradlePositionData;\n    cradlePositionData.targetAxisReferencePosition = axisReferencePosition;\n    cradlePositionData.targetPixelOffsetAxisFromViewport = axisPixelOffset;\n    if (source == 'onScroll') {\n      repositioningIndexCallback && repositioningIndexCallback(axisReferencePosition + lowindex);\n      ViewportContextProperties.scrollTrackerAPIRef.current.updateReposition(axisReferencePosition);\n    }\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports[\"default\"] = ScrollHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJBQXFCLEdBQUdoQixVQUFVO0lBQy9DZ0IscUJBQXFCLElBQUlFLElBQUk7SUFFN0IsSUFBSUYscUJBQXFCLElBQUksQ0FBQyxFQUFFTCxlQUFlLEdBQUcsQ0FBQyxFQUFDO0lBRXBELElBQVEvRCxrQkFBa0IsR0FBSzNDLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNrQyxXQUFXLENBQUM5QixPQUFPLENBQUNzQyxhQUFhLENBQTlFRSxrQkFBa0I7SUFFMUJBLGtCQUFrQixDQUFDdUUsMkJBQTJCLEdBQUdILHFCQUFxQjtJQUN0RXBFLGtCQUFrQixDQUFDNkMsaUNBQWlDLEdBQUdrQixlQUFlO0lBRXRFLElBQUlqQixNQUFNLElBQUksVUFBVSxFQUFFO01BQ3RCVSwwQkFBMEIsSUFBSUEsMEJBQTBCLENBQUNZLHFCQUFxQixHQUFHYixRQUFRLENBQUM7TUFDMUZoRix5QkFBeUIsQ0FBQ2lHLG1CQUFtQixDQUFDaEgsT0FBTyxDQUFDaUgsZ0JBQWdCLENBQUNMLHFCQUFxQixDQUFDOztFQUdyRyxDQUFDO0VBcGNHLElBQUksQ0FBQ2hILGdCQUFnQixHQUFHQSxnQkFBZ0I7QUFFNUMsQ0FBQztBQU5Mc0gsa0JBQUEsR0FBQXZILGFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL2NyYWRsZS9zY3JvbGxoYW5kbGVyLnRzeD9jZWY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNjcm9sbGhhbmRsZXIudHN4XG4vLyBjb3B5cmlnaHQgKGMpIDIwMTktMjAyMyBIZW5yaWsgQmVjaG1hbm4sIFRvcm9udG8sIExpY2VuY2U6IE1JVFxuXG4vKlxuICAgIFRoaXMgbW9kdWxlIGhvbGRzIHRoZSByZXNwb25zZSB0byBzY3JvbGxpbmcuIEl0IGFsc28gdHJpZ2dlcnMgYW4gb25BZnRlclNjcm9sbCBldmVudCAoYWZ0ZXIgYSB0aW1lb3V0KVxuICAgIEl0J3MgbWFpbiBqb2IgaXMgdG8gbWFpbnRhaW4gcmVjb3JkcyBvZiBzY3JvbGxQb3MsIHRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiwgYW5kIFxuICAgICAgICB0YXJnZXRQaXhlbE9mZnNldEF4aXNGcm9tVmlld3BvcnRcbiovXG5cbmltcG9ydCB7IGlzU2FmYXJpSU9TIH0gZnJvbSAnLi4vSW5maW5pdGVHcmlkU2Nyb2xsZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbEhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycyA9IGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIH1cblxuICAgIHByaXZhdGUgX3Njcm9sbGZvcnZhcmlhYmxldGltZXJpZFxuICAgIHByaXZhdGUgX2lPU3NldFRpbWVvdXRUaW1lcmlkIC8vIHNwZWNpYWwgY2FzZSBmb3IgaU9TIGluaXRpYWwgc2Nyb2xsIGRlbGF5XG5cbiAgICBwcml2YXRlIF9vbkFmdGVyU2Nyb2xsRm9yVmFyaWFibGVUaW1lb3V0XG4gICAgcHJpdmF0ZSBfb25BZnRlclNjcm9sbFRpbWVvdXRcblxuICAgIHByaXZhdGUgY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgcHVibGljIHNjcm9sbERhdGEgPSB7c3RhcnQ6MCwgY3VycmVudDowLCBwcmV2aW91czowLCBwcmV2aW91c3VwZGF0ZTowLCBjdXJyZW50dXBkYXRlOjB9XG5cbiAgICBwcml2YXRlIF9zY3JvbGx0aW1lcmlkID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBpc1Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICBwdWJsaWMgcmVzZXRTY3JvbGxEYXRhID0gKHNjcm9sbFBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsRGF0YSB9ID0gdGhpc1xuICAgICAgICBzY3JvbGxEYXRhLnN0YXJ0ID0gXG4gICAgICAgIHNjcm9sbERhdGEuY3VycmVudCA9IFxuICAgICAgICBzY3JvbGxEYXRhLnByZXZpb3VzID0gXG4gICAgICAgIHNjcm9sbERhdGEucHJldmlvdXN1cGRhdGUgPSBcbiAgICAgICAgc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlID0gc2Nyb2xsUG9zaXRpb25cbiAgICB9XG5cbiAgICAvKlxuXG4gICAgICAgIG9uU2Nyb2xsIGlzIHJlc3BvbnNpYmxlIGZvciB0cmFja2luZyBjdXJyZW50IHBvc2l0aW9uaW5nIGRhdGEsIGZvciB1c2UgZWxzZXdoZXJlLlxuICAgICAgICBJdCBhbHNvIHRyaWdnZXJzIGFmdGVyIHNjcm9sbCBvcGVyYXRpb25zLCBvbmUgZm9yIG5vcm1hbCBzY3JvbGxpbmcsIGFuZCBhIHNlY29uZCBmb3IgdmFyaWFibGUgY29udGVudFxuXG4gICAgKi9cbiAgICBwdWJsaWMgb25TY3JvbGwgPSAoZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIHNjcm9sbGVySUQsIC8vIGRlYnVnXG4gICAgICAgICAgICAgICAgT05BRlRFUlNDUk9MTF9USU1FT1VULFxuICAgICAgICAgICAgICAgIGxheW91dFxuXG4gICAgICAgICAgICB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IGUuY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudCA9IHZpZXdwb3J0RWxlbWVudC5maXJzdENoaWxkLFxuXG4gICAgICAgICAgICB7IG9yaWVudGF0aW9uIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzY3JvbGxQb3NpdGlvbkN1cnJlbnQgPSBcbiAgICAgICAgICAgICAgICAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0LFxuXG4gICAgICAgICAgICBzY3JvbGxYUG9zaXRpb25DdXJyZW50ID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICdob3Jpem9udGFsJyk/XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A6XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbHRpbWVyaWQpXG5cblxuICAgICAgICAvLyBmaWx0ZXJzLi4uXG5cbiAgICAgICAgaWYgKCh2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGggPT0gMCAgJiYgdmlld3BvcnRFbGVtZW50LmNsaWVudEhlaWdodCA9PSAwKSkgey8vIGluIGNhY2hlXG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb25DdXJyZW50IDwgMCkgeyAvLyBmb3IgU2FmYXJpXG5cbiAgICAgICAgICAgIHJldHVybiBcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBzaWduYWxzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudC5pbnRlcnJ1cHRIYW5kbGVyXG5cbiAgICAgICAgaWYgKHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzKSB7XG5cbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNTY3JvbGxpbmcpIHsgLy8gc3RhcnRlZCBzY3JvbGxpbmc7IHNldCBzdGFydCBwb3NpdGlvblxuXG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gdHJ1ZVxuXG4gICAgICAgICAgICBpZiAoaXNTYWZhcmlJT1MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkFmdGVyU2Nyb2xsVGltZW91dCA9IDEwMDAgLy8gaU9TIHNvbWV0aW1lcyBsaWtlcyB0byBwYXVzZSBiZWZvcmUgY29tbWVuY2luZyBzY3JvbGxpbmdcblxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9pT1NzZXRUaW1lb3V0VGltZXJpZClcblxuICAgICAgICAgICAgICAgIHRoaXMuX2lPU3NldFRpbWVvdXRUaW1lcmlkID0gc2V0VGltZW91dCgoKT0+e1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQWZ0ZXJTY3JvbGxUaW1lb3V0ID0gT05BRlRFUlNDUk9MTF9USU1FT1VUIC8vIGJhY2sgdG8gbW9yZSByZXNwb25zaXZlIG9uY2UgdW5kZXJ3YXlcblxuICAgICAgICAgICAgICAgIH0sOTAwKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fb25BZnRlclNjcm9sbFRpbWVvdXQgPSBPTkFGVEVSU0NST0xMX1RJTUVPVVRcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbERhdGEuc3RhcnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGF0YS5jdXJyZW50dXBkYXRlID0gc2Nyb2xsUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlclxuICAgICAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gbGF5b3V0SGFuZGxlcixcbiAgICAgICAgICAgIGNyYWRsZVN0YXRlID0gc3RhdGVIYW5kbGVyLmNyYWRsZVN0YXRlUmVmLmN1cnJlbnRcblxuXG4gICAgICAgIC8vIGtlZXAgdXAgdG8gZGF0ZSBpbiBjYXNlIG9mIHJlcGFyZW50aW5nIGludGVycnVwdFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudHJhY2tpbmdCbG9ja1Njcm9sbFBvcyA9IHNjcm9sbFBvc2l0aW9uQ3VycmVudFxuICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudHJhY2tpbmdYQmxvY2tTY3JvbGxQb3MgPSBzY3JvbGxYUG9zaXRpb25DdXJyZW50XG5cbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzID0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnRcbiAgICAgICAgdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgPSBzY3JvbGxQb3NpdGlvbkN1cnJlbnRcblxuICAgICAgICBpZiAoIVZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuaXNSZXNpemluZykge1xuXG4gICAgICAgICAgICBpZiAoY3JhZGxlU3RhdGUgPT0gJ3JlcG9zaXRpb25pbmdSZW5kZXInKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNhbGNJbXBsaWVkUmVwb3NpdGlvbmluZ0RhdGEoJ29uU2Nyb2xsJylcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zY3JvbGx0aW1lcmlkID0gc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmICggc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50ICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vbkFmdGVyU2Nyb2xsKClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sdGhpcy5fb25BZnRlclNjcm9sbFRpbWVvdXQpXG5cbiAgICAgICAgaWYgKGxheW91dCA9PSAndmFyaWFibGUnKSB7XG5cbiAgICAgICAgICAgIGxldCBzY3JvbGxibG9ja0xlbmd0aCwgdmlld3BvcnRMZW5ndGgsIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MsIHNjcm9sbGJsb2NrT2Zmc2V0XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0xlbmd0aCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxIZWlnaHRcbiAgICAgICAgICAgICAgICB2aWV3cG9ydExlbmd0aCA9ICB2aWV3cG9ydEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3BcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHNjcm9sbGJsb2NrTGVuZ3RoID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFdpZHRoXG4gICAgICAgICAgICAgICAgdmlld3BvcnRMZW5ndGggPSAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoXG4gICAgICAgICAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgICAgICAgICAgICAgc2Nyb2xsYmxvY2tPZmZzZXQgPSBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0TGVmdFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zY3JvbGxmb3J2YXJpYWJsZXRpbWVyaWQpXG5cbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZSBpbnRlcnJ1cHQgaGFsdCBhbmQgYWRqdXN0bWVudCBmb3Igb3ZlcnNob290IGF0IHN0YXJ0IG9mIGVuZCBvZiBzY3JvbGxibG9ja1xuICAgICAgICAgICAgaWYgKCgoIHRyYWNraW5nQmxvY2tTY3JvbGxQb3MgLSBzY3JvbGxibG9ja09mZnNldCkgPCAwKSB8fCAvLyBvdmVyc2hvb3Qgc3RhcnRcbiAgICAgICAgICAgICAgICAoc2Nyb2xsYmxvY2tMZW5ndGggPCAodHJhY2tpbmdCbG9ja1Njcm9sbFBvcyAtIHNjcm9sbGJsb2NrT2Zmc2V0ICsgdmlld3BvcnRMZW5ndGgpKSkgeyAvLyBvdmVyc2hvb3QgZW5kXG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uQWZ0ZXJTY3JvbGxGb3JWYXJpYWJsZSgpIC8vIGltbWVkaWF0ZSBoYWx0IGFuZCBhZGp1c3RcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gbm9ybWFsIHRpbWVkIGFkanVzdG1lbnQgZm9yIHZhcmlhYmxlIGNvbnRlbnRcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGZvcnZhcmlhYmxldGltZXJpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc3RhdGVIYW5kbGVyLmlzTW91bnRlZFJlZi5jdXJyZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkFmdGVyU2Nyb2xsRm9yVmFyaWFibGUoKSAvLyBkZWZlcnJlZCBoYWx0IGFuZCBhZGp1c3RcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSx0aGlzLl9vbkFmdGVyU2Nyb2xsVGltZW91dClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIH1cblxuICAgIC8qXG5cbiAgICAgICAgb25BZnRlclNjcm9sbCBmaW5pc2hlcyByZXBvc2l0aW9uIGlmIHRoYXQgaXMgcnVubmluZywgb3JcbiAgICAgICAgdXBkYXRlcyByZWZlcmVuY2UgZGF0YSwgYW5kXG4gICAgICAgIHBhcmVzIGNhY2hlIGRhdGEgZm9yIGtlZXBsb2FkXG5cbiAgICAqL1xuICAgIHByaXZhdGUgb25BZnRlclNjcm9sbCA9ICgpID0+IHtcblxuICAgICAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2VcblxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIHsgc3RhdGVIYW5kbGVyLCBjb250ZW50SGFuZGxlciwgc2VydmljZUhhbmRsZXIgfSA9IFxuICAgICAgICAgICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgY3JhZGxlU3RhdGUgPSBzdGF0ZUhhbmRsZXIuY3JhZGxlU3RhdGVSZWYuY3VycmVudFxuXG4gICAgICAgIHN3aXRjaCAoY3JhZGxlU3RhdGUpIHtcblxuICAgICAgICAgICAgY2FzZSAncmVwb3NpdGlvbmluZ1JlbmRlcic6IFxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja1Njcm9sbFBvcygpXG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2sgfSA9IHNlcnZpY2VIYW5kbGVyLmNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIHJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2sgJiYgcmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayhmYWxzZSlcbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2ZpbmlzaHJlcG9zaXRpb24nKVxuXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnNjcm9sbERhdGEuc3RhcnQgIT0gdGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQpIHx8IFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5zY3JvbGxEYXRhLmN1cnJlbnQgIT0gdGhpcy5zY3JvbGxEYXRhLnByZXZpb3VzKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZUhhbmRsZXIuaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWZlcmVuY2VEYXRhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGNhY2hlIH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKGNhY2hlID09ICdrZWVwbG9hZCcpIHtcbiAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLnBhcmVDYWNoZVRvTWF4KClcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgb25BZnRlclNjcm9sbEZvclZhcmlhYmxlIHN0b3BzIHNjcm9sbGluZyBpbiBpdHMgdHJhY2tzIGZvciB2YXJpYWJsZSBjb250ZW50IGlmIGFuIG92ZXJzaG9vdCBvY2N1cnNcbiAgICAgICAgaW4gYW55IGNhc2UgaXQgbW92ZXMgdGhlIHNjcm9sbGJsb2NrIHRvIGl0cyBmaW5hbCBwb3NpdGlvbiBpbiByZWxhdGlvbiB0byB0aGUgdmlld3BvcnRcbiAgICAqL1xuICAgIHByaXZhdGUgb25BZnRlclNjcm9sbEZvclZhcmlhYmxlID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMuaXNTY3JvbGxpbmcgPSBmYWxzZVxuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQgPSBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHNjcm9sbGJsb2NrRWxlbWVudCA9IHZpZXdwb3J0RWxlbWVudC5maXJzdENoaWxkLFxuXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQub3JpZW50YXRpb24sXG5cbiAgICAgICAgICAgIHNjcm9sbGJsb2NrT2Zmc2V0ID0gXG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0VG9wOlxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0TGVmdCxcblxuICAgICAgICAgICAgdHJhY2tpbmdCbG9ja1Njcm9sbFBvcyA9XG4gICAgICAgICAgICAgICAgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpP1xuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdCxcblxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG5cbiAgICAgICAgbGV0IHNjcm9sbE9wdGlvbnNcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgc2Nyb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB0b3A6dHJhY2tpbmdCbG9ja1Njcm9sbFBvcyAtIHNjcm9sbGJsb2NrT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGxlZnQ6c2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjonaW5zdGFudCdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLnRvcCA9IG51bGxcblxuICAgICAgICB9IGVsc2UgeyAvLyBvcmllbnRhdGlvbiA9PSBob3Jpem9udGFsXG5cbiAgICAgICAgICAgIHNjcm9sbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdG9wOnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OnRyYWNraW5nQmxvY2tTY3JvbGxQb3MgLSBzY3JvbGxibG9ja09mZnNldCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjonaW5zdGFudCdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGwoc2Nyb2xsT3B0aW9ucylcblxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJ1xuXG4gICAgfVxuXG4gICAgLy8gYWZ0ZXIgc2Nyb2xsLCBidXQgbm90IGFmdGVyIHJlcG9zaXRpb25pbmdcbiAgICBwcml2YXRlIHVwZGF0ZVJlZmVyZW5jZURhdGEgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IHN0YXRlSGFuZGxlciwgbGF5b3V0SGFuZGxlciB9IFxuICAgICAgICAgICAgICAgID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBpZiAoIXN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5WaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBjcmFkbGVFbGVtZW50cyA9IGxheW91dEhhbmRsZXIuZWxlbWVudHMsXG5cbiAgICAgICAgICAgIGF4aXNFbGVtZW50ID0gY3JhZGxlRWxlbWVudHMuYXhpc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50ID0gVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5lbGVtZW50UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQgPSB2aWV3cG9ydEVsZW1lbnQuZmlyc3RDaGlsZFxuXG4gICAgICAgIGxldCBheGlzVmlld3BvcnRQaXhlbE9mZnNldFxuXG4gICAgICAgIGlmIChjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzLm9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgYXhpc1ZpZXdwb3J0UGl4ZWxPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICBheGlzRWxlbWVudC5vZmZzZXRUb3AgKyBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0VG9wIC0gdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBheGlzVmlld3BvcnRQaXhlbE9mZnNldCA9IFxuICAgICAgICAgICAgICAgIGF4aXNFbGVtZW50Lm9mZnNldExlZnQgKyBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0TGVmdCAtIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUG9zaXRpb25EYXRhIH0gPSBsYXlvdXRIYW5kbGVyXG5cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IGF4aXNWaWV3cG9ydFBpeGVsT2Zmc2V0XG5cbiAgICAgICAgaWYgKCFWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzLmlzUmVzaXppbmcpIHtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVCbG9ja1Njcm9sbFBvcygpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGZyb20gZmluaXNocmVwb3NpdGlvbiBzdGF0ZSBjaGFuZ2UgY2FsbCBhYm92ZVxuICAgIC8vIGNhbGxlZCBmcm9tIHVwZGF0ZVJlZmVyZW5jZURhdGFcbiAgICBwcml2YXRlIHVwZGF0ZUJsb2NrU2Nyb2xsUG9zID0gKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IFxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIHtsYXlvdXRIYW5kbGVyfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgeyBjcmFkbGVQb3NpdGlvbkRhdGEgfSA9IGxheW91dEhhbmRsZXIsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50XG5cbiAgICAgICAgaWYgKCEoKHZpZXdwb3J0RWxlbWVudC5jbGllbnRXaWR0aCA9PSAwKSAgJiYgKHZpZXdwb3J0RWxlbWVudC5jbGllbnRIZWlnaHQgPT0gMCkpKSB7Ly8gaW4gY2FjaGVcblxuICAgICAgICAgICAgaWYgKGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMub3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nQmxvY2tTY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRyYWNraW5nWEJsb2NrU2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50cmFja2luZ0Jsb2NrU2Nyb2xsUG9zID0gdmlld3BvcnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgICAgICAgICBjcmFkbGVQb3NpdGlvbkRhdGEudHJhY2tpbmdYQmxvY2tTY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBzZXRzIGNyYWRsZVBvc2l0aW9uRGF0YSB0YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gYW5kIHRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydFxuICAgIHB1YmxpYyBjYWxjSW1wbGllZFJlcG9zaXRpb25pbmdEYXRhID0gKHNvdXJjZSkgPT4geyAvLyBzb3VyY2UgZm9yIGRlYnVnXG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICBWaWV3cG9ydENvbnRleHRQcm9wZXJ0aWVzID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgeyB2aXJ0dWFsTGlzdFByb3BzLCBwYWRkaW5nUHJvcHMsIGdhcFByb3BzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnQsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IFZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXMuZWxlbWVudFJlZi5jdXJyZW50LFxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG5cbiAgICAgICAgICAgIHsgb3JpZW50YXRpb24gfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgY3Jvc3Njb3VudCwgc2l6ZTpsaXN0c2l6ZSwgbG93aW5kZXggfSA9IHZpcnR1YWxMaXN0UHJvcHMsXG5cbiAgICAgICAgICAgIHsgc2VydmljZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgeyByZXBvc2l0aW9uaW5nSW5kZXhDYWxsYmFjayB9ID0gc2VydmljZUhhbmRsZXIuY2FsbGJhY2tzXG5cbiAgICAgICAgbGV0IHNjcm9sbFBvcywgY2VsbExlbmd0aCwgc2Nyb2xsYmxvY2tPZmZzZXRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgICAgICBjZWxsTGVuZ3RoID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcy5jZWxsSGVpZ2h0ICsgZ2FwUHJvcHMuY29sdW1uXG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRUb3BcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBzY3JvbGxQb3MgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgICAgICAgICAgY2VsbExlbmd0aCA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMuY2VsbFdpZHRoICsgZ2FwUHJvcHMucm93XG4gICAgICAgICAgICBzY3JvbGxibG9ja09mZnNldCA9IHNjcm9sbGJsb2NrRWxlbWVudC5vZmZzZXRMZWZ0XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBheGlzUGl4ZWxPZmZzZXQgPSBjZWxsTGVuZ3RoIC0gKChzY3JvbGxQb3MgKyBzY3JvbGxibG9ja09mZnNldCkgJSBjZWxsTGVuZ3RoKVxuXG4gICAgICAgIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSBcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCc/XG4gICAgICAgICAgICAgICAgcGFkZGluZ1Byb3BzLnRvcDpcbiAgICAgICAgICAgICAgICBwYWRkaW5nUHJvcHMubGVmdFxuXG4gICAgICAgIGlmIChheGlzUGl4ZWxPZmZzZXQgPT0gY2VsbExlbmd0aCkgeyAvLyArIHBhZGRpbmdPZmZzZXQpKSB7XG4gICAgICAgICAgICBheGlzUGl4ZWxPZmZzZXQgPSAwXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzUm93UG9zaXRpb24gPSBNYXRoLmNlaWwoKHNjcm9sbFBvcyAtIHBhZGRpbmdPZmZzZXQpL2NlbGxMZW5ndGgpXG5cbiAgICAgICAgbGV0IGF4aXNSZWZlcmVuY2VQb3NpdGlvbiA9IGF4aXNSb3dQb3NpdGlvbiAqIGNyb3NzY291bnRcbiAgICAgICAgYXhpc1JlZmVyZW5jZVBvc2l0aW9uID0gTWF0aC5taW4oYXhpc1JlZmVyZW5jZVBvc2l0aW9uLGxpc3RzaXplIC0gMSlcblxuICAgICAgICBjb25zdCBkaWZmID0gYXhpc1JlZmVyZW5jZVBvc2l0aW9uICUgY3Jvc3Njb3VudFxuICAgICAgICBheGlzUmVmZXJlbmNlUG9zaXRpb24gLT0gZGlmZlxuXG4gICAgICAgIGlmIChheGlzUmVmZXJlbmNlUG9zaXRpb24gPT0gMCkgYXhpc1BpeGVsT2Zmc2V0ID0gMCAvLyBkZWZlbnNpdmVcblxuICAgICAgICBjb25zdCB7IGNyYWRsZVBvc2l0aW9uRGF0YSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnQubGF5b3V0SGFuZGxlclxuXG4gICAgICAgIGNyYWRsZVBvc2l0aW9uRGF0YS50YXJnZXRBeGlzUmVmZXJlbmNlUG9zaXRpb24gPSBheGlzUmVmZXJlbmNlUG9zaXRpb25cbiAgICAgICAgY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCA9IGF4aXNQaXhlbE9mZnNldDtcblxuICAgICAgICBpZiAoc291cmNlID09ICdvblNjcm9sbCcpIHtcbiAgICAgICAgICAgIHJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrICYmIHJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrKGF4aXNSZWZlcmVuY2VQb3NpdGlvbiArIGxvd2luZGV4KVxuICAgICAgICAgICAgVmlld3BvcnRDb250ZXh0UHJvcGVydGllcy5zY3JvbGxUcmFja2VyQVBJUmVmLmN1cnJlbnQudXBkYXRlUmVwb3NpdGlvbihheGlzUmVmZXJlbmNlUG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkluZmluaXRlR3JpZFNjcm9sbGVyXzEiLCJyZXF1aXJlIiwiU2Nyb2xsSGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJfdGhpcyIsInNjcm9sbERhdGEiLCJzdGFydCIsImN1cnJlbnQiLCJwcmV2aW91cyIsInByZXZpb3VzdXBkYXRlIiwiY3VycmVudHVwZGF0ZSIsIl9zY3JvbGx0aW1lcmlkIiwiaXNTY3JvbGxpbmciLCJyZXNldFNjcm9sbERhdGEiLCJzY3JvbGxQb3NpdGlvbiIsIm9uU2Nyb2xsIiwiZSIsIl90aGlzJGNyYWRsZVBhcmFtZXRlciIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYiLCJzY3JvbGxlcklEIiwiT05BRlRFUlNDUk9MTF9USU1FT1VUIiwibGF5b3V0IiwiVmlld3BvcnRDb250ZXh0UHJvcGVydGllcyIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJ2aWV3cG9ydEVsZW1lbnQiLCJjdXJyZW50VGFyZ2V0Iiwic2Nyb2xsYmxvY2tFbGVtZW50IiwiZmlyc3RDaGlsZCIsIm9yaWVudGF0aW9uIiwic2Nyb2xsUG9zaXRpb25DdXJyZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInNjcm9sbFhQb3NpdGlvbkN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNpZ25hbHMiLCJoYW5kbGVyc1JlZiIsImludGVycnVwdEhhbmRsZXIiLCJwYXVzZVNjcm9sbGluZ0VmZmVjdHMiLCJpc1NhZmFyaUlPUyIsIl9vbkFmdGVyU2Nyb2xsVGltZW91dCIsIl9pT1NzZXRUaW1lb3V0VGltZXJpZCIsInNldFRpbWVvdXQiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIyIiwibGF5b3V0SGFuZGxlciIsInN0YXRlSGFuZGxlciIsImNyYWRsZVBvc2l0aW9uRGF0YSIsImNyYWRsZVN0YXRlIiwiY3JhZGxlU3RhdGVSZWYiLCJ0cmFja2luZ0Jsb2NrU2Nyb2xsUG9zIiwidHJhY2tpbmdYQmxvY2tTY3JvbGxQb3MiLCJpc1Jlc2l6aW5nIiwiY2FsY0ltcGxpZWRSZXBvc2l0aW9uaW5nRGF0YSIsImlzTW91bnRlZFJlZiIsIm9uQWZ0ZXJTY3JvbGwiLCJzY3JvbGxibG9ja0xlbmd0aCIsInZpZXdwb3J0TGVuZ3RoIiwic2Nyb2xsYmxvY2tPZmZzZXQiLCJzY3JvbGxIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRUb3AiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0TGVmdCIsIl9zY3JvbGxmb3J2YXJpYWJsZXRpbWVyaWQiLCJvbkFmdGVyU2Nyb2xsRm9yVmFyaWFibGUiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIzIiwiY29udGVudEhhbmRsZXIiLCJzZXJ2aWNlSGFuZGxlciIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJ1cGRhdGVCbG9ja1Njcm9sbFBvcyIsInJlcG9zaXRpb25pbmdGbGFnQ2FsbGJhY2siLCJjYWxsYmFja3MiLCJzZXRDcmFkbGVTdGF0ZSIsInVwZGF0ZVJlZmVyZW5jZURhdGEiLCJjYWNoZSIsInBhcmVDYWNoZVRvTWF4IiwiZWxlbWVudFJlZiIsInN0eWxlIiwib3ZlcmZsb3ciLCJzY3JvbGxPcHRpb25zIiwidG9wIiwibGVmdCIsImJlaGF2aW9yIiwic2Nyb2xsIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyNCIsImNyYWRsZUVsZW1lbnRzIiwiZWxlbWVudHMiLCJheGlzRWxlbWVudCIsImF4aXNSZWYiLCJheGlzVmlld3BvcnRQaXhlbE9mZnNldCIsInRhcmdldFBpeGVsT2Zmc2V0QXhpc0Zyb21WaWV3cG9ydCIsInNvdXJjZSIsIl90aGlzJGNyYWRsZVBhcmFtZXRlcjUiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJ2aXJ0dWFsTGlzdFByb3BzIiwicGFkZGluZ1Byb3BzIiwiZ2FwUHJvcHMiLCJjcm9zc2NvdW50IiwibGlzdHNpemUiLCJzaXplIiwibG93aW5kZXgiLCJyZXBvc2l0aW9uaW5nSW5kZXhDYWxsYmFjayIsInNjcm9sbFBvcyIsImNlbGxMZW5ndGgiLCJjZWxsSGVpZ2h0IiwiY29sdW1uIiwiY2VsbFdpZHRoIiwicm93IiwiYXhpc1BpeGVsT2Zmc2V0IiwicGFkZGluZ09mZnNldCIsImF4aXNSb3dQb3NpdGlvbiIsIk1hdGgiLCJjZWlsIiwiYXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwibWluIiwiZGlmZiIsInRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiIsInNjcm9sbFRyYWNrZXJBUElSZWYiLCJ1cGRhdGVSZXBvc2l0aW9uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/scrollhandler.tsx\n")},"./src/cradle/servicehandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval("\n\n// servicehandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module fields service requests from the host. There are two forms\n    - streaming from the scroller to the host\n    - function calls from the user to the scroller\n\n    For the list of data streams, see the constructor.\n\n    The function calls avaiable to the host are:\n\n        scrollToIndex,\n        scrollToPixel,\n        scrollByPixel,\n        reload,\n        setListsize, *deprectated* for proper camel case\n        setListSize,\n        setListRange,\n        prependIndexCount,\n        appendIndexCount,\n        clearCache,\n\n        getCacheIndexMap,\n        getCacheItemMap,\n        getCradleIndexMap,\n        getPropertiesSnapshot,\n\n        insertIndex,\n        removeIndex,\n        moveIndex,\n        remapIndexes,\n    \n    The functions listed are defined in this module.\n\n    There are important supporting functions for these in cacheAPI and contentHandler. stateHandler is\n    often invoked by service functions to change Cradle state upon servicing requests.\n*/\nvar isBlank = function isBlank(value) {\n  var testvalue = value !== null && value !== void 0 ? value : '';\n  return testvalue === '';\n};\nvar isNumber = function isNumber(value) {\n  return !isNaN(Number(value)) && !isNaN(parseInt(value));\n};\nvar isInteger = function isInteger(value) {\n  var test = +value;\n  // return (isNumber(value) && (Math.floor(test) == test))\n  return Number.isInteger(test);\n};\nvar isValueGreaterThanOrEqualToMinValue = function isValueGreaterThanOrEqualToMinValue(compareValue, minValue) {\n  if (!isInteger(compareValue) || !isInteger(minValue)) return false;\n  var testvalue = +compareValue;\n  var testMinValue = +minValue;\n  return testvalue >= testMinValue;\n};\nvar isValueLessThanToOrEqualToMaxValue = function isValueLessThanToOrEqualToMaxValue(compareValue, maxValue) {\n  if (!isInteger(compareValue) || !isInteger(maxValue)) return false;\n  var testvalue = +compareValue;\n  var testMaxValue = +maxValue;\n  return testvalue <= testMaxValue;\n};\nvar errorMessages = {\n  scrollToIndex: 'integer: required, greater than or equal to low index',\n  setListSize: 'integer: required, greater than or equal to 0',\n  setListRange: 'array[lowindex,highindex]: required, both integers, highindex greater than or equal to lowindex',\n  insertFrom: 'insertFrom - integer: required, greater than or equal to low index',\n  insertRange: 'insertRange - blank, or integer greater than or equal to the \"from\" index',\n  removeFrom: 'removeFrom - integer: required, greater than or equal to low index',\n  removeRange: 'removeRange - blank, or integer greater than or equal to the \"from\" index',\n  moveFrom: 'moveFrom - integer: required, greater than or equal to low index',\n  moveRange: 'moveRange - blank, or integer greater than or equal to the \"from\" index',\n  moveTo: 'moveTo - integer: required, greater than or equal to low index'\n};\nvar ServiceHandler = /*#__PURE__*/_createClass(function ServiceHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, ServiceHandler);\n  // =======================[ BOUNDARY TRIGGERS ]===================\n  // called by Cradle 'triggerboundarynotications' state\n  this.triggerBoundaryCallbacks = function () {\n    var cradleParameters = _this.cradleParameters,\n      callbacks = _this.callbacks,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n      _cradleParameters$han = cradleParameters.handlersRef.current,\n      layoutHandler = _cradleParameters$han.layoutHandler,\n      serviceHandler = _cradleParameters$han.serviceHandler,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      getExpansionCount = cradleInheritedProperties.getExpansionCount;\n    if (layoutHandler.boundaryNotificationsRequired()) {\n      if (callbacks.boundaryCallback) {\n        if (layoutHandler.SOLSignal) {\n          callbacks.boundaryCallback('SOL', virtualListProps.lowindex);\n        }\n        if (layoutHandler.EOLSignal) {\n          callbacks.boundaryCallback('EOL', virtualListProps.highindex);\n        }\n      }\n      if (getExpansionCount) {\n        if (layoutHandler.SOLSignal) {\n          var prepend = getExpansionCount('SOL', virtualListProps.lowindex);\n          prepend = +prepend;\n          if (!isNaN(prepend) && prepend > 0 && Number.isInteger(prepend)) {\n            serviceHandler.prependIndexCount(prepend);\n          }\n        }\n        if (layoutHandler.EOLSignal) {\n          var append = getExpansionCount('EOL', virtualListProps.highindex);\n          append = +append;\n          if (!isNaN(append) && append > 0 && Number.isInteger(append)) {\n            serviceHandler.appendIndexCount(append);\n          }\n        }\n      }\n      layoutHandler.cancelBoundaryNotifications();\n    }\n  };\n  // ========================[ GENERAL ]============================\n  this.reload = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    var interruptHandler = _this.cradleParameters.handlersRef.current.interruptHandler;\n    interruptHandler.pauseInterrupts();\n    stateHandler.setCradleState('reload');\n  };\n  this.scrollToIndex = function (index) {\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      lowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    var isInvalid = !isInteger(index); //|| \n    if (!isInvalid) {\n      if (!isValueGreaterThanOrEqualToMinValue(index, lowindex)) {\n        index = lowindex;\n      }\n    }\n    index = +index;\n    if (isInvalid) {\n      console.log('RIGS ERROR scrollToIndex(index)):', index, errorMessages.scrollToIndex);\n      return;\n    }\n    var handlers = cradleParameters.handlersRef.current,\n      interruptHandler = handlers.interruptHandler,\n      layoutHandler = handlers.layoutHandler,\n      stateHandler = handlers.stateHandler,\n      signals = interruptHandler.signals;\n    signals.pauseScrollingEffects = true;\n    layoutHandler.cradlePositionData.targetAxisReferencePosition = index - lowindex;\n    stateHandler.setCradleState('scrollto');\n  };\n  this.scrollToPixel = function (pixel) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'smooth';\n    if (!['smooth', 'instant', 'auto'].includes(behavior)) {\n      behavior = 'smooth';\n    }\n    if (!(isInteger(pixel) && isValueGreaterThanOrEqualToMinValue(pixel, 0))) {\n      return;\n    }\n    pixel = +pixel;\n    var cradleParameters = _this.cradleParameters,\n      viewportElement = cradleParameters.ViewportContextPropertiesRef.current.elementRef.current,\n      scrollblockElement = viewportElement.firstChild,\n      cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n      orientation = cradleInheritedProperties.orientation,\n      scrollblockLength = orientation == 'vertical' ? scrollblockElement.offsetHeight : scrollblockElement.offsetWidth,\n      viewportLength = orientation == 'vertical' ? viewportElement.offsetHeight : viewportElement.offsetWidth,\n      pixeltarget = Math.max(Math.min(pixel, scrollblockLength - viewportLength), 0);\n    var top, left;\n    if (orientation == 'vertical') {\n      top = pixeltarget;\n      left = viewportElement.scrollLeft;\n    } else {\n      left = pixeltarget;\n      top = viewportElement.scrollTop;\n    }\n    var options = {\n      top: top,\n      left: left,\n      behavior: behavior\n    };\n    viewportElement.scroll(options);\n  };\n  this.scrollByPixel = function (pixel) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'smooth';\n    if (!['smooth', 'instant', 'auto'].includes(behavior)) {\n      behavior = 'smooth';\n    }\n    if (!isInteger(pixel)) {\n      return;\n    }\n    pixel = +pixel;\n    if (pixel == 0) return; // nothing to do\n    var cradleParameters = _this.cradleParameters,\n      viewportElement = cradleParameters.ViewportContextPropertiesRef.current.elementRef.current,\n      scrollblockElement = viewportElement.firstChild,\n      cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n      orientation = cradleInheritedProperties.orientation,\n      scrollblockLength = orientation == 'vertical' ? scrollblockElement.offsetHeight : scrollblockElement.offsetWidth,\n      viewportLength = orientation == 'vertical' ? viewportElement.offsetHeight : viewportElement.offsetWidth,\n      scrollOffset = orientation == 'vertical' ? viewportElement.scrollTop : viewportElement.scrollLeft;\n\n    // console.log('scrollblockLength, viewportLength, scrollOffset\\n',\n    //     scrollblockLength, viewportLength, scrollOffset)\n    var pixelmovement, pixelmax, pixelovershoot, pixelundershoot;\n    if (pixel > 0) {\n      // scroll down (increase scrollOffset)\n      pixelmax = scrollblockLength - viewportLength;\n      pixelovershoot = Math.max(pixel + scrollOffset - pixelmax, 0);\n      pixelmovement = pixel - pixelovershoot;\n    } else {\n      // scroll up (decrease scrollOffset)\n      pixelundershoot = Math.min(pixel + scrollOffset, 0);\n      pixelmovement = pixel - pixelundershoot;\n    }\n    // console.log('pixelmovement :: pixelmax, pixelovershoot :: pixelundershoot\\n',\n    //     pixelmovement, pixelmax, pixelovershoot, pixelundershoot)\n    var top, left;\n    if (orientation == 'vertical') {\n      top = pixelmovement;\n      left = 0;\n    } else {\n      left = pixelmovement;\n      top = 0;\n    }\n    var options = {\n      top: top,\n      left: left,\n      behavior: behavior\n    };\n    viewportElement.scrollBy(options);\n  };\n  // deprecated (camel case)\n  this.setListsize = function (newlistsize) {\n    _this.setListSize(newlistsize);\n  };\n  this.setListSize = function (newlistsize) {\n    newlistsize = +newlistsize;\n    var isInvalid = !isInteger(newlistsize) || !isValueGreaterThanOrEqualToMinValue(newlistsize, 0);\n    if (isInvalid) {\n      console.log('RIGS ERROR setListSize(newlistsize)', newlistsize, errorMessages.setListSize);\n      return;\n    }\n    var _this$cradleParameter = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter.cacheAPI,\n      contentHandler = _this$cradleParameter.contentHandler,\n      stateHandler = _this$cradleParameter.stateHandler,\n      deleteListCallback = _this.callbacks.deleteListCallback,\n      currentlistsize = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size,\n      cache = _this.cradleParameters.cradleInheritedPropertiesRef.current.cache;\n    var dListCallback;\n    if (deleteListCallback) {\n      dListCallback = function dListCallback(deleteList) {\n        deleteListCallback('change list size intervention', deleteList);\n      };\n    }\n    contentHandler.updateVirtualListSize(newlistsize);\n    cacheAPI.changeCacheListSize(newlistsize, dListCallback);\n    cacheAPI.renderPortalLists();\n    if (cache == 'preload' && newlistsize > currentlistsize) {\n      stateHandler.setCradleState('startpreload');\n    }\n  };\n  this.setListRange = function (newlistrange) {\n    var isInvalid = !Array.isArray(newlistrange);\n    if (!isInvalid) {\n      isInvalid = !(newlistrange.length == 0 || newlistrange.length == 2);\n      if (!isInvalid && newlistrange.length == 2) {\n        var _newlistrange = newlistrange,\n          _newlistrange2 = _slicedToArray(_newlistrange, 2),\n          lowindex = _newlistrange2[0],\n          highindex = _newlistrange2[1];\n        lowindex = +lowindex;\n        highindex = +highindex;\n        isInvalid = !isInteger(lowindex) || !isInteger(highindex) || !isValueGreaterThanOrEqualToMinValue(highindex, lowindex);\n        if (!isInvalid) newlistrange = [lowindex, highindex];\n      }\n    }\n    if (isInvalid) {\n      console.log('RIGS ERROR setListRange(newlistrange)', newlistrange, errorMessages.setListRange);\n      return;\n    }\n    var _this$cradleParameter2 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter2.cacheAPI,\n      contentHandler = _this$cradleParameter2.contentHandler,\n      stateHandler = _this$cradleParameter2.stateHandler,\n      deleteListCallback = _this.callbacks.deleteListCallback,\n      currentlistrange = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.range,\n      cache = _this.cradleParameters.cradleInheritedPropertiesRef.current.cache;\n    var dListCallback;\n    if (deleteListCallback) {\n      dListCallback = function dListCallback(deleteList) {\n        deleteListCallback('change list range intervention', deleteList);\n      };\n    }\n    contentHandler.updateVirtualListRange(newlistrange);\n    cacheAPI.changeCacheListRange(newlistrange, dListCallback);\n    cacheAPI.renderPortalLists();\n    if (cache == 'preload' && newlistrange.length == 2 && (newlistrange[0] < currentlistrange[0] || newlistrange[1] > currentlistrange[1])) {\n      stateHandler.setCradleState('startpreload');\n    }\n  };\n  this.prependIndexCount = function (prependCount) {\n    prependCount = +prependCount;\n    var isInvalid = !isInteger(prependCount) || !isValueGreaterThanOrEqualToMinValue(prependCount, 0);\n    if (isInvalid) {\n      console.log('RIGS ERROR, prependIndexCount must be an integer >= 0');\n      return;\n    }\n    var virtualListProps = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var _virtualListProps$ran = _slicedToArray(virtualListProps.range, 2),\n      lowindex = _virtualListProps$ran[0],\n      highindex = _virtualListProps$ran[1];\n    var size = virtualListProps.size;\n    var newlistrange;\n    if (size) {\n      newlistrange = [lowindex - prependCount, highindex];\n    } else {\n      newlistrange = [-prependCount + 1, 0];\n    }\n    _this.setListRange(newlistrange);\n  };\n  this.appendIndexCount = function (appendCount) {\n    appendCount = +appendCount;\n    var isInvalid = !isInteger(appendCount) || !isValueGreaterThanOrEqualToMinValue(appendCount, 0);\n    if (isInvalid) {\n      console.log('RIGS ERROR, appendIndexCount must be an integer >= 0');\n      return;\n    }\n    var virtualListProps = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n    var _virtualListProps$ran2 = _slicedToArray(virtualListProps.range, 2),\n      lowindex = _virtualListProps$ran2[0],\n      highindex = _virtualListProps$ran2[1];\n    var size = virtualListProps.size;\n    var newlistrange;\n    if (size) {\n      newlistrange = [lowindex, highindex + appendCount];\n    } else {\n      newlistrange = [0, appendCount - 1];\n    }\n    _this.setListRange(newlistrange);\n  };\n  // ======================[ GET SNAPSHOTS ]========================\n  this.getCacheIndexMap = function () {\n    var cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI;\n    return cacheAPI.getCacheIndexMap();\n  };\n  this.getCacheItemMap = function () {\n    var cacheAPI = _this.cradleParameters.handlersRef.current.cacheAPI;\n    return cacheAPI.getCacheItemMap();\n  };\n  this.getCradleIndexMap = function () {\n    var _this$cradleParameter3 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter3.cacheAPI,\n      contentHandler = _this$cradleParameter3.contentHandler;\n    var modelIndexList = contentHandler.getModelIndexList();\n    return cacheAPI.getCradleIndexMap(modelIndexList);\n  };\n  this.getPropertiesSnapshot = function () {\n    var props = Object.assign({}, _this.cradleParameters.scrollerPropertiesRef.current);\n    props.virtualListProps = Object.assign({}, props.virtualListProps);\n    props.cradleContentProps = Object.assign({}, props.cradleContentProps);\n    return props;\n  };\n  // =================[ CACHE MANAGEMENT REQUESTS ]==================\n  this.clearCache = function () {\n    var stateHandler = _this.cradleParameters.handlersRef.current.stateHandler;\n    stateHandler.setCradleState('clearcache');\n  };\n  // itemID set to null deletes the indexed item\n  // itemID set to undefined replaces the indexed item\n  // the main purpose is to allow itemsIDs to be remapped to new indexes\n  // operations are on existing cache items only\n  this.remapIndexes = function (changeMap) {\n    if (changeMap.size == 0) return []; // nothing to do\n    var _this$cradleParameter4 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter4.cacheAPI,\n      contentHandler = _this$cradleParameter4.contentHandler,\n      stateHandler = _this$cradleParameter4.stateHandler;\n    var itemMetadataMap = cacheAPI.itemMetadataMap,\n      indexToItemIDMap = cacheAPI.indexToItemIDMap,\n      itemSet = cacheAPI.itemSet;\n    var indexesToDeleteList = [];\n    var indexesToReplaceItemIDList = [];\n    var partitionItemsToReplaceList = [];\n    var changeIndexToItemIDMap = new Map();\n    var errorEntriesMap = new Map();\n    // =====================[ PREPARE ]======================\n    // -----------------------[ isolate indexes for which items should be replaced ]--------------\n    var workingChangeMap = new Map();\n    changeMap.forEach(function (itemID, index) {\n      if (itemID === undefined) {\n        if (indexToItemIDMap.has(index)) {\n          var cacheItemID = indexToItemIDMap.get(index);\n          indexesToReplaceItemIDList.push(index);\n          if (!(cacheItemID === undefined)) {\n            // ignore non-existent indexes\n            var _itemMetadataMap$get = itemMetadataMap.get(cacheItemID),\n              partitionID = _itemMetadataMap$get.partitionID;\n            partitionItemsToReplaceList.push({\n              partitionID: partitionID,\n              itemID: cacheItemID\n            });\n          }\n        } else {\n          errorEntriesMap.set(index, 'index to replace is not in cache');\n        }\n      } else {\n        workingChangeMap.set(index, itemID);\n      }\n    });\n    indexesToReplaceItemIDList.forEach(function (index) {\n      indexToItemIDMap[\"delete\"](index);\n    });\n    // ------------ filter out inoperable indexes and itemIDs ------------\n    var itemsToReplaceSet = new Set();\n    partitionItemsToReplaceList.forEach(function (obj) {\n      itemsToReplaceSet.add(obj.itemID);\n    });\n    // const itemsToReplaceList = Array.from(itemsToReplaceSet)\n    workingChangeMap.forEach(function (itemID, index) {\n      if (itemID === null || itemID === undefined) {\n        indexesToDeleteList.push(index);\n      } else {\n        if (typeof itemID == 'string') {\n          errorEntriesMap.set(index, 'itemID is a string');\n        } else if (!Number.isInteger(itemID)) {\n          errorEntriesMap.set(index, 'itemID is not an integer');\n        } else if (!indexToItemIDMap.has(index)) {\n          errorEntriesMap.set(index, 'index not in cache');\n        } else if (indexToItemIDMap.get(index) == itemID) {\n          errorEntriesMap.set(index, \"target itemID \".concat(itemID, \" has not changed\"));\n        } else if (!itemMetadataMap.has(itemID) || itemsToReplaceSet.has(itemID)) {\n          errorEntriesMap.set(index, \"target itemID \".concat(itemID, \" not in cache, or has been removed\"));\n        } else {\n          changeIndexToItemIDMap.set(index, itemID);\n        }\n      }\n    });\n    // -------------- filter out duplicate itemIDs ------------\n    var mapsize = changeIndexToItemIDMap.size;\n    var itemIDSet = new Set(changeIndexToItemIDMap.values());\n    var itemsetsize = itemIDSet.size;\n    if (mapsize != itemsetsize) {\n      // there must be duplicate itemIDs\n      var itemIDCountMap = new Map();\n      changeIndexToItemIDMap.forEach(function (itemID) {\n        if (!itemIDCountMap.has(itemID)) {\n          itemIDCountMap.set(itemID, 1);\n        } else {\n          var count = itemIDCountMap.get(itemID);\n          itemIDCountMap.set(itemID, ++count);\n        }\n      });\n      var duplicateItemsMap = new Map();\n      itemIDCountMap.forEach(function (count, itemID) {\n        if (count > 1) {\n          duplicateItemsMap.set(itemID, count);\n        }\n      });\n      var duplicatesToRemoveList = [];\n      changeIndexToItemIDMap.forEach(function (itemID, index) {\n        if (duplicateItemsMap.has(itemID)) {\n          duplicatesToRemoveList.push(index);\n        }\n      });\n      duplicatesToRemoveList.forEach(function (index) {\n        var itemID = changeIndexToItemIDMap.get(index);\n        var count = duplicateItemsMap.get(itemID);\n        errorEntriesMap.set(index, \"target itemID \".concat(itemID, \" has duplicates (\").concat(count, \")\"));\n        changeIndexToItemIDMap[\"delete\"](index);\n      });\n    }\n    // ------------ capture map before changes ----------\n    // ... this map is used later to identify orphaned item and index cache records for deletion\n    // from the list of changes\n    // both sides of change map...\n    var originalMap = new Map(); // index => itemID; before change\n    changeIndexToItemIDMap.forEach(function (itemID, index) {\n      originalMap.set(index, indexToItemIDMap.get(index)); // index to be mapped\n      originalMap.set(itemMetadataMap.get(itemID).index, itemID); // target itemID\n    });\n    // ... and from the list of indexes to be deleted\n    indexesToDeleteList.forEach(function (index) {\n      originalMap.set(index, indexToItemIDMap.get(index));\n    });\n    // ======================[ CACHE OPERATIONS ]================\n    // --------------- delete listed indexes ---------\n    // for indexes set to null or undefined\n    // associated itemID's will be orphaned, but could be remapped.\n    // orphans are resolved below\n    if (indexesToDeleteList.length) {\n      indexesToDeleteList.forEach(function (index) {\n        indexToItemIDMap[\"delete\"](index);\n      });\n    }\n    // ----------- apply filtered changes to cache index map and itemID map ----------\n    // at this point every remaining index listed will change its mapping\n    // const processedMap = new Map() // index => itemID; change has been applied\n    var processedIndexList = [];\n    // make changes\n    changeIndexToItemIDMap.forEach(function (itemID, index) {\n      indexToItemIDMap.set(index, itemID); // modiication applied, part 1\n      var itemdata = itemMetadataMap.get(itemID);\n      itemdata.index = index; // modification applied, part 2\n      // processedMap.set(index,itemID)\n      processedIndexList.push(index);\n    });\n    // -------------- look for and delete item and index orphans --------------------\n    // if the original item's index has not changed, then it has not been remapped, \n    //     it is orphaned, and the item is deleted\n    // if the item's index has changed, but the original item index map still points to the item,\n    //     then the index is orphaned (duplicate), and deleted\n    var deletedItemIDToIndexMap = new Map(); // index => itemID; orphaned index\n    var deletedIndexToItemIDMap = new Map();\n    var portalPartitionItemsForDeleteList = []; // hold deleted portals for deletion until after cradle synch\n    originalMap.forEach(function (originalItemID, originalItemIDIndex) {\n      var finalItemIDIndex = itemMetadataMap.get(originalItemID).index;\n      if (originalItemIDIndex == finalItemIDIndex) {\n        // not remapped, therefore orphaned\n        deletedItemIDToIndexMap.set(originalItemID, originalItemIDIndex);\n        var _itemMetadataMap$get2 = itemMetadataMap.get(originalItemID),\n          partitionID = _itemMetadataMap$get2.partitionID;\n        portalPartitionItemsForDeleteList.push({\n          itemID: originalItemID,\n          partitionID: partitionID\n        });\n        itemMetadataMap[\"delete\"](originalItemID);\n        itemSet[\"delete\"](originalItemID);\n      } else {\n        // remapped, check for orphaned index\n        if (indexToItemIDMap.has(originalItemIDIndex)) {\n          var finalItemID = indexToItemIDMap.get(originalItemIDIndex);\n          if (finalItemID == originalItemID) {\n            // the index has not been remapped, therefore orphaned\n            deletedIndexToItemIDMap.set(originalItemIDIndex, originalItemID);\n            indexToItemIDMap[\"delete\"](originalItemIDIndex);\n          }\n        }\n      }\n    });\n    // ------------- apply changes to extant cellFrames ------------\n    // these are used to reconcile cradle cellFrames, and also for return information\n    // const processedIndexList = Array.from(processedMap.keys())\n    var deletedOrphanedItemIndexList = Array.from(deletedItemIDToIndexMap.values());\n    var deletedOrphanedIndexList = Array.from(deletedIndexToItemIDMap.keys());\n    // for return information...\n    var deletedOrphanedItemIDList = Array.from(deletedItemIDToIndexMap.keys());\n    var modifiedIndexList = [].concat(processedIndexList, indexesToDeleteList, deletedOrphanedItemIndexList, deletedOrphanedIndexList);\n    modifiedIndexList = Array.from(new Set(modifiedIndexList.values())); // remove duplicates\n    contentHandler.createNewItemIDs(indexesToReplaceItemIDList);\n    contentHandler.reconcileCellFrames(modifiedIndexList);\n    modifiedIndexList = modifiedIndexList.concat(indexesToReplaceItemIDList);\n    cacheAPI.portalPartitionItemsForDeleteList = portalPartitionItemsForDeleteList.concat(partitionItemsToReplaceList);\n    stateHandler.setCradleState('applyremapchanges');\n    // ---------- returns for user information --------------------\n    return [modifiedIndexList, processedIndexList, indexesToDeleteList, indexesToReplaceItemIDList, deletedOrphanedItemIDList, deletedOrphanedIndexList, errorEntriesMap, changeMap];\n  };\n  // move must be entirely within list bounds\n  // returns list of processed indexes\n  this.moveIndex = function (tolowindex, fromlowindex) {\n    var fromhighindex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    // ------------ confirm validity of arguments -------------\n    var isToindexInvalid = !isInteger(tolowindex) || !isValueGreaterThanOrEqualToMinValue(tolowindex, listlowindex);\n    var isFromindexInvalid = !isInteger(fromlowindex) || !isValueGreaterThanOrEqualToMinValue(fromlowindex, listlowindex);\n    var isHighrangeInvalid = false;\n    if (!isFromindexInvalid) {\n      if (!isBlank(fromhighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(fromhighindex, fromlowindex);\n      } else {\n        fromhighindex = fromlowindex;\n      }\n    }\n    tolowindex = +tolowindex;\n    fromlowindex = +fromlowindex;\n    fromhighindex = +fromhighindex;\n    // TODO return error array instead\n    if (isToindexInvalid || isFromindexInvalid || isHighrangeInvalid) {\n      console.log('RIGS ERROR moveIndex(toindex, fromindex, fromhighrange)');\n      isToindexInvalid && console.log(tolowindex, errorMessages.moveTo);\n      isFromindexInvalid && console.log(fromlowindex, errorMessages.moveFrom);\n      isHighrangeInvalid && console.log(fromhighindex, errorMessages.moveRange);\n      return [];\n    }\n    tolowindex = Math.max(listlowindex, tolowindex);\n    fromlowindex = Math.max(listlowindex, fromlowindex);\n    fromhighindex = Math.max(listlowindex, fromhighindex);\n    var fromspan = fromhighindex - fromlowindex + 1;\n    var tohighindex = tolowindex + fromspan - 1;\n    // ------------- coerce parameters to list bounds ---------------\n    var listsize = _this.cradleParameters.cradleInternalPropertiesRef.current.virtualListProps.size;\n    // keep within current list size\n    var listhighindex = listsize - 1;\n    if (tohighindex > listhighindex) {\n      var diff = tohighindex - listhighindex;\n      tohighindex = Math.max(listlowindex, tohighindex - diff);\n      tolowindex = Math.max(listlowindex, tolowindex - diff);\n    }\n    if (fromhighindex > listhighindex) {\n      var _diff = fromhighindex - listhighindex;\n      fromhighindex = Math.max(listlowindex, fromhighindex - _diff);\n      fromlowindex = Math.max(listlowindex, fromlowindex - _diff);\n    }\n    // ---------- constrain parameters --------------\n    // nothing to do; no displacement\n    if (fromlowindex == tolowindex) return [];\n    // ----------- perform cache and cradle operations -----------\n    var _this$cradleParameter5 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter5.cacheAPI,\n      contentHandler = _this$cradleParameter5.contentHandler,\n      stateHandler = _this$cradleParameter5.stateHandler;\n    var processedIndexList =\n    // both displaced and moved indexes\n    cacheAPI.moveIndex(tolowindex, fromlowindex, fromhighindex);\n    if (processedIndexList.length) {\n      contentHandler.synchronizeCradleItemIDsToCache(processedIndexList);\n      var content = contentHandler.content;\n      content.headModelComponents = content.cradleModelComponents.slice(0, content.headModelComponents.length);\n      content.tailModelComponents = content.cradleModelComponents.slice(content.headModelComponents.length);\n      stateHandler.setCradleState('applymovechanges');\n    }\n    return processedIndexList;\n  };\n  this.insertIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    var isIndexInvalid = !isInteger(index);\n    if (!isIndexInvalid) {\n      if (size) {\n        isIndexInvalid = !isValueGreaterThanOrEqualToMinValue(index, listlowindex);\n      } else {\n        isIndexInvalid = false;\n      }\n    }\n    var isHighrangeInvalid = false;\n    if (!isIndexInvalid) {\n      if (!isBlank(rangehighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(rangehighindex, index);\n      } else {\n        rangehighindex = index;\n      }\n    }\n    index = +index;\n    rangehighindex = +rangehighindex;\n    if (isIndexInvalid || isHighrangeInvalid) {\n      console.log('RIGS ERROR insertIndex(index, rangehighindex)');\n      isIndexInvalid && console.log(index, errorMessages.insertFrom);\n      isHighrangeInvalid && console.log(rangehighindex, errorMessages.insertRange);\n      return null;\n    }\n    return _this.insertRemoveIndex(index, rangehighindex, +1);\n  };\n  this.removeIndex = function (index) {\n    var rangehighindex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var cradleParameters = _this.cradleParameters,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      size = virtualListProps.size;\n    if (!size) return;\n    var isIndexInvalid = !isInteger(index) || !isValueGreaterThanOrEqualToMinValue(index, listlowindex);\n    var isHighrangeInvalid = false;\n    if (!isIndexInvalid) {\n      if (!isBlank(rangehighindex)) {\n        isHighrangeInvalid = !isValueGreaterThanOrEqualToMinValue(rangehighindex, index);\n      } else {\n        rangehighindex = index;\n      }\n    }\n    index = +index;\n    rangehighindex = +rangehighindex;\n    if (isIndexInvalid || isHighrangeInvalid) {\n      console.log('RIGS ERROR moveIndex(index, rangehighindex)');\n      isIndexInvalid && console.log(index, errorMessages.removeFrom);\n      isHighrangeInvalid && console.log(rangehighindex, errorMessages.removeRange);\n      return null;\n    }\n    return _this.insertRemoveIndex(index, rangehighindex, -1);\n  };\n  // shared logic for insert and remove. Returns lists of indexes shifted, replaced, and removed\n  // this operation changes the listsize\n  this.insertRemoveIndex = function (index, rangehighindex, increment) {\n    var cradleParameters = _this.cradleParameters,\n      _this$cradleParameter6 = _this.cradleParameters.handlersRef.current,\n      cacheAPI = _this$cradleParameter6.cacheAPI,\n      contentHandler = _this$cradleParameter6.contentHandler,\n      stateHandler = _this$cradleParameter6.stateHandler,\n      cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current,\n      cradleContentProps = cradleInternalProperties.cradleContentProps,\n      virtualListProps = cradleInternalProperties.virtualListProps,\n      listlowindex = virtualListProps.lowindex,\n      crosscount = virtualListProps.crosscount,\n      listsize = virtualListProps.size,\n      lowCradleIndex = cradleContentProps.lowindex,\n      highCradleIndex = cradleContentProps.highindex,\n      cradleSize = cradleContentProps.size,\n      runwaySize = cradleContentProps.runwayRowcount,\n      viewportRowcount = cradleContentProps.viewportRowcount;\n    // basic assertions\n    if (listsize) index = Math.max(listlowindex, index);\n    // if (!rangehighindex) rangehighindex = index\n    // rangehighindex = Math.max(rangehighindex, index)\n    // ------------------- process cache ----------------\n    if (listsize == 0) {\n      if (increment > 0) {\n        _this.setListRange([index, rangehighindex]);\n        var _replaceList = [];\n        for (var i = index; i <= rangehighindex; i++) {\n          _replaceList.push(i);\n        }\n        return [[], _replaceList, []];\n      } else {\n        return [[], [], []];\n      }\n    }\n    var _cacheAPI$insertRemov = cacheAPI.insertRemoveIndex(index, rangehighindex, increment, listsize),\n      _cacheAPI$insertRemov2 = _slicedToArray(_cacheAPI$insertRemov, 6),\n      startChangeIndex = _cacheAPI$insertRemov2[0],\n      rangeincrement = _cacheAPI$insertRemov2[1],\n      shiftedList = _cacheAPI$insertRemov2[2],\n      removedList = _cacheAPI$insertRemov2[3],\n      replaceList = _cacheAPI$insertRemov2[4],\n      portalPartitionItemsForDeleteList = _cacheAPI$insertRemov2[5];\n    if (rangeincrement === null) return [[], [], []]; // no action\n    // partitionItems to delete with followup state changes - must happen after cradle update\n    cacheAPI.portalPartitionItemsForDeleteList = portalPartitionItemsForDeleteList;\n    // ------------- synchronize cradle to cache changes -------------\n    // determine if cradle must be reset or simply adjusted\n    var changecount = rangeincrement,\n      // semantics\n      newlistsize = _this.newListSize = listsize + changecount,\n      calculatedCradleRowcount = viewportRowcount + runwaySize * 2,\n      calculatedCradleItemcount = calculatedCradleRowcount * crosscount,\n      measuredCradleItemCount = cradleSize == 0 ? 0 : highCradleIndex - lowCradleIndex + 1,\n      resetCradle = measuredCradleItemCount < calculatedCradleItemcount || highCradleIndex >= newlistsize - 1;\n    if (!resetCradle) {\n      // synchronize cradle contents to changes\n      contentHandler.synchronizeCradleItemIDsToCache(shiftedList, increment, startChangeIndex); // non-zero communications isInsertRemove\n      var content = contentHandler.content;\n      // const requestedSet = cacheAPI.cacheProps.requestedSet\n      var requestedSet = cacheAPI.requestedSet;\n      var timeout = setInterval(function () {\n        if (!requestedSet.size) {\n          // finished collecting new cache entries\n          clearInterval(timeout);\n          content.headModelComponents = content.cradleModelComponents.slice(0, content.headModelComponents.length);\n          content.tailModelComponents = content.cradleModelComponents.slice(content.headModelComponents.length);\n          stateHandler.setCradleState('applyinsertremovechanges');\n        }\n      }, 100);\n    } else {\n      // cradle to be completely reset if listsize change encroaches on cradle\n      stateHandler.setCradleState('channelcradleresetafterinsertremove');\n    }\n    var replacedList = replaceList; // semantics\n    return [shiftedList, replacedList, removedList]; // inform caller\n  };\n\n  this.cradleParameters = cradleParameters;\n  // doing this explicitly here for documentation\n  var _cradleParameters$ext = cradleParameters.externalCallbacksRef.current,\n    referenceIndexCallback = _cradleParameters$ext.referenceIndexCallback,\n    preloadIndexCallback = _cradleParameters$ext.preloadIndexCallback,\n    deleteListCallback = _cradleParameters$ext.deleteListCallback,\n    changeListSizeCallback = _cradleParameters$ext.changeListSizeCallback,\n    changeListRangeCallback = _cradleParameters$ext.changeListRangeCallback,\n    itemExceptionCallback = _cradleParameters$ext.itemExceptionCallback,\n    repositioningFlagCallback = _cradleParameters$ext.repositioningFlagCallback,\n    repositioningIndexCallback = _cradleParameters$ext.repositioningIndexCallback,\n    boundaryCallback = _cradleParameters$ext.boundaryCallback,\n    callbacks = {\n      referenceIndexCallback: referenceIndexCallback,\n      preloadIndexCallback: preloadIndexCallback,\n      deleteListCallback: deleteListCallback,\n      changeListSizeCallback: changeListSizeCallback,\n      changeListRangeCallback: changeListRangeCallback,\n      itemExceptionCallback: itemExceptionCallback,\n      repositioningFlagCallback: repositioningFlagCallback,\n      repositioningIndexCallback: repositioningIndexCallback,\n      boundaryCallback: boundaryCallback\n    };\n  this.callbacks = callbacks;\n});\nexports[\"default\"] = ServiceHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3NlcnZpY2VoYW5kbGVyLnRzeCIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQSxTQUFBQSxRQUFBQyxDQUFBLHNDQUFBRCxPQUFBLHdCQUFBRSxNQUFBLHVCQUFBQSxNQUFBLENBQUFDLFFBQUEsYUFBQUYsQ0FBQSxrQkFBQUEsQ0FBQSxnQkFBQUEsQ0FBQSxXQUFBQSxDQUFBLHlCQUFBQyxNQUFBLElBQUFELENBQUEsQ0FBQUcsV0FBQSxLQUFBRixNQUFBLElBQUFELENBQUEsS0FBQUMsTUFBQSxDQUFBRyxTQUFBLHFCQUFBSixDQUFBLEtBQUFELE9BQUEsQ0FBQUMsQ0FBQTtBQUFBLFNBQUFLLGVBQUFDLEdBQUEsRUFBQUMsQ0FBQSxXQUFBQyxlQUFBLENBQUFGLEdBQUEsS0FBQUcscUJBQUEsQ0FBQUgsR0FBQSxFQUFBQyxDQUFBLEtBQUFHLDJCQUFBLENBQUFKLEdBQUEsRUFBQUMsQ0FBQSxLQUFBSSxnQkFBQTtBQUFBLFNBQUFBLGlCQUFBLGNBQUFDLFNBQUE7QUFBQSxTQUFBRiw0QkFBQVYsQ0FBQSxFQUFBYSxNQUFBLFNBQUFiLENBQUEscUJBQUFBLENBQUEsc0JBQUFjLGlCQUFBLENBQUFkLENBQUEsRUFBQWEsTUFBQSxPQUFBRSxDQUFBLEdBQUFDLE1BQUEsQ0FBQVosU0FBQSxDQUFBYSxRQUFBLENBQUFDLElBQUEsQ0FBQWxCLENBQUEsRUFBQW1CLEtBQUEsYUFBQUosQ0FBQSxpQkFBQWYsQ0FBQSxDQUFBRyxXQUFBLEVBQUFZLENBQUEsR0FBQWYsQ0FBQSxDQUFBRyxXQUFBLENBQUFpQixJQUFBLE1BQUFMLENBQUEsY0FBQUEsQ0FBQSxtQkFBQU0sS0FBQSxDQUFBQyxJQUFBLENBQUF0QixDQUFBLE9BQUFlLENBQUEsK0RBQUFRLElBQUEsQ0FBQVIsQ0FBQSxVQUFBRCxpQkFBQSxDQUFBZCxDQUFBLEVBQUFhLE1BQUE7QUFBQSxTQUFBQyxrQkFBQVIsR0FBQSxFQUFBa0IsR0FBQSxRQUFBQSxHQUFBLFlBQUFBLEdBQUEsR0FBQWxCLEdBQUEsQ0FBQW1CLE1BQUEsRUFBQUQsR0FBQSxHQUFBbEIsR0FBQSxDQUFBbUIsTUFBQSxXQUFBbEIsQ0FBQSxNQUFBbUIsSUFBQSxPQUFBTCxLQUFBLENBQUFHLEdBQUEsR0FBQWpCLENBQUEsR0FBQWlCLEdBQUEsRUFBQWpCLENBQUEsSUFBQW1CLElBQUEsQ0FBQW5CLENBQUEsSUFBQUQsR0FBQSxDQUFBQyxDQUFBLFVBQUFtQixJQUFBO0FBQUEsU0FBQWpCLHNCQUFBa0IsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsV0FBQUYsQ0FBQSxnQ0FBQTFCLE1BQUEsSUFBQTBCLENBQUEsQ0FBQTFCLE1BQUEsQ0FBQUMsUUFBQSxLQUFBeUIsQ0FBQSw0QkFBQUUsQ0FBQSxRQUFBQyxDQUFBLEVBQUFmLENBQUEsRUFBQVIsQ0FBQSxFQUFBd0IsQ0FBQSxFQUFBQyxDQUFBLE9BQUFDLENBQUEsT0FBQWpDLENBQUEsaUJBQUFPLENBQUEsSUFBQXNCLENBQUEsR0FBQUEsQ0FBQSxDQUFBWCxJQUFBLENBQUFTLENBQUEsR0FBQU8sSUFBQSxRQUFBTixDQUFBLFFBQUFaLE1BQUEsQ0FBQWEsQ0FBQSxNQUFBQSxDQUFBLFVBQUFJLENBQUEsdUJBQUFBLENBQUEsSUFBQUgsQ0FBQSxHQUFBdkIsQ0FBQSxDQUFBVyxJQUFBLENBQUFXLENBQUEsR0FBQU0sSUFBQSxNQUFBSCxDQUFBLENBQUFJLElBQUEsQ0FBQU4sQ0FBQSxDQUFBTyxLQUFBLEdBQUFMLENBQUEsQ0FBQVAsTUFBQSxLQUFBRyxDQUFBLEdBQUFLLENBQUEsaUJBQUFOLENBQUEsSUFBQTNCLENBQUEsT0FBQWUsQ0FBQSxHQUFBWSxDQUFBLHlCQUFBTSxDQUFBLFlBQUFKLENBQUEsZUFBQUUsQ0FBQSxHQUFBRixDQUFBLGNBQUFiLE1BQUEsQ0FBQWUsQ0FBQSxNQUFBQSxDQUFBLDJCQUFBL0IsQ0FBQSxRQUFBZSxDQUFBLGFBQUFpQixDQUFBO0FBQUEsU0FBQXhCLGdCQUFBRixHQUFBLFFBQUFlLEtBQUEsQ0FBQWlCLE9BQUEsQ0FBQWhDLEdBQUEsVUFBQUEsR0FBQTtBQUFBLFNBQUFpQyxrQkFBQUMsTUFBQSxFQUFBQyxLQUFBLGFBQUFsQyxDQUFBLE1BQUFBLENBQUEsR0FBQWtDLEtBQUEsQ0FBQWhCLE1BQUEsRUFBQWxCLENBQUEsVUFBQW1DLFVBQUEsR0FBQUQsS0FBQSxDQUFBbEMsQ0FBQSxHQUFBbUMsVUFBQSxDQUFBQyxVQUFBLEdBQUFELFVBQUEsQ0FBQUMsVUFBQSxXQUFBRCxVQUFBLENBQUFFLFlBQUEsd0JBQUFGLFVBQUEsRUFBQUEsVUFBQSxDQUFBRyxRQUFBLFNBQUE3QixNQUFBLENBQUE4QixjQUFBLENBQUFOLE1BQUEsRUFBQU8sY0FBQSxDQUFBTCxVQUFBLENBQUFNLEdBQUEsR0FBQU4sVUFBQTtBQUFBLFNBQUFPLGFBQUFDLFdBQUEsRUFBQUMsVUFBQSxFQUFBQyxXQUFBLFFBQUFELFVBQUEsRUFBQVosaUJBQUEsQ0FBQVcsV0FBQSxDQUFBOUMsU0FBQSxFQUFBK0MsVUFBQSxPQUFBQyxXQUFBLEVBQUFiLGlCQUFBLENBQUFXLFdBQUEsRUFBQUUsV0FBQSxHQUFBcEMsTUFBQSxDQUFBOEIsY0FBQSxDQUFBSSxXQUFBLGlCQUFBTCxRQUFBLG1CQUFBSyxXQUFBO0FBQUEsU0FBQUgsZUFBQU0sR0FBQSxRQUFBTCxHQUFBLEdBQUFNLFlBQUEsQ0FBQUQsR0FBQSxvQkFBQXRELE9BQUEsQ0FBQWlELEdBQUEsaUJBQUFBLEdBQUEsR0FBQU8sTUFBQSxDQUFBUCxHQUFBO0FBQUEsU0FBQU0sYUFBQUUsS0FBQSxFQUFBQyxJQUFBLFFBQUExRCxPQUFBLENBQUF5RCxLQUFBLGtCQUFBQSxLQUFBLGtCQUFBQSxLQUFBLE1BQUFFLElBQUEsR0FBQUYsS0FBQSxDQUFBdkQsTUFBQSxDQUFBMEQsV0FBQSxPQUFBRCxJQUFBLEtBQUFFLFNBQUEsUUFBQUMsR0FBQSxHQUFBSCxJQUFBLENBQUF4QyxJQUFBLENBQUFzQyxLQUFBLEVBQUFDLElBQUEsb0JBQUExRCxPQUFBLENBQUE4RCxHQUFBLHVCQUFBQSxHQUFBLFlBQUFqRCxTQUFBLDREQUFBNkMsSUFBQSxnQkFBQUYsTUFBQSxHQUFBTyxNQUFBLEVBQUFOLEtBQUE7QUFBQSxTQUFBTyxnQkFBQUMsUUFBQSxFQUFBZCxXQUFBLFVBQUFjLFFBQUEsWUFBQWQsV0FBQSxlQUFBdEMsU0FBQTs7OztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9DQSxJQUFNcUQsT0FBTyxHQUFHLFNBQVZBLE9BQU9BLENBQUk1QixLQUFTLEVBQUk7RUFDMUIsSUFBTTZCLFNBQVMsR0FBRzdCLEtBQUssYUFBTEEsS0FBSyxjQUFMQSxLQUFLLEdBQUksRUFBRTtFQUM3QixPQUFPNkIsU0FBUyxLQUFLLEVBQUU7QUFDM0IsQ0FBQztBQUVELElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFRQSxDQUFJOUIsS0FBUyxFQUFJO0VBRTNCLE9BQ0ssQ0FBQytCLEtBQUssQ0FBQ04sTUFBTSxDQUFDekIsS0FBSyxDQUFDLENBQUMsSUFDckIsQ0FBQytCLEtBQUssQ0FBQ0MsUUFBUSxDQUFDaEMsS0FBSyxDQUFDLENBQUU7QUFHakMsQ0FBQztBQUVELElBQU1pQyxTQUFTLEdBQUcsU0FBWkEsU0FBU0EsQ0FBSWpDLEtBQVMsRUFBSTtFQUU1QixJQUFNZCxJQUFJLEdBQUcsQ0FBQ2MsS0FBSztFQUVuQjtFQUNBLE9BQVF5QixNQUFNLENBQUNRLFNBQVMsQ0FBQy9DLElBQUksQ0FBQztBQUVsQyxDQUFDO0FBRUQsSUFBTWdELG1DQUFtQyxHQUFHLFNBQXRDQSxtQ0FBbUNBLENBQUlDLFlBQWdCLEVBQUVDLFFBQVksRUFBSTtFQUUzRSxJQUFJLENBQUNILFNBQVMsQ0FBQ0UsWUFBWSxDQUFDLElBQUksQ0FBQ0YsU0FBUyxDQUFDRyxRQUFRLENBQUMsRUFBRSxPQUFPLEtBQUs7RUFFbEUsSUFBTVAsU0FBUyxHQUFHLENBQUNNLFlBQVk7RUFDL0IsSUFBTUUsWUFBWSxHQUFHLENBQUNELFFBQVE7RUFFOUIsT0FBT1AsU0FBUyxJQUFJUSxZQUFZO0FBRXBDLENBQUM7QUFFRCxJQUFNQyxrQ0FBa0MsR0FBRyxTQUFyQ0Esa0NBQWtDQSxDQUFJSCxZQUFnQixFQUFFSSxRQUFZLEVBQUk7RUFFMUUsSUFBSSxDQUFDTixTQUFTLENBQUNFLFlBQVksQ0FBQyxJQUFJLENBQUNGLFNBQVMsQ0FBQ00sUUFBUSxDQUFDLEVBQUUsT0FBTyxLQUFLO0VBRWxFLElBQU1WLFNBQVMsR0FBRyxDQUFDTSxZQUFZO0VBQy9CLElBQU1LLFlBQVksR0FBRyxDQUFDRCxRQUFRO0VBRTlCLE9BQU9WLFNBQVMsSUFBSVcsWUFBWTtBQUVwQyxDQUFDO0FBRUQsSUFBTUMsYUFBYSxHQUFHO0VBQ2xCQyxhQUFhLEVBQUMsdURBQXVEO0VBQ3JFQyxXQUFXLEVBQUMsK0NBQStDO0VBQzNEQyxZQUFZLEVBQUMsaUdBQWlHO0VBQzlHQyxVQUFVLEVBQUMsb0VBQW9FO0VBQy9FQyxXQUFXLEVBQUMsMkVBQTJFO0VBQ3ZGQyxVQUFVLEVBQUMsb0VBQW9FO0VBQy9FQyxXQUFXLEVBQUMsMkVBQTJFO0VBQ3ZGQyxRQUFRLEVBQUMsa0VBQWtFO0VBQzNFQyxTQUFTLEVBQUMseUVBQXlFO0VBQ25GQyxNQUFNLEVBQUM7Q0FDVjtBQUFBLElBRW9CQyxjQUFjLGdCQUFBeEMsWUFBQSxDQUUvQixTQUFBd0MsZUFBWUMsZ0JBQWdCO0VBQUEsSUFBQUMsS0FBQTtFQUFBNUIsZUFBQSxPQUFBMEIsY0FBQTtFQXlDNUI7RUFFQTtFQUNPLEtBQUFHLHdCQUF3QixHQUFHLFlBQUs7SUFFbkMsSUFHUUYsZ0JBQWdCLEdBR2hCQyxLQUFJLENBSEpELGdCQUFnQjtNQUNoQkcsU0FBUyxHQUVURixLQUFJLENBRkpFLFNBQVM7TUFHYkMsd0JBQXdCLEdBQUdKLGdCQUFnQixDQUFDSywyQkFBMkIsQ0FBQ0MsT0FBTztNQUMvRUMseUJBQXlCLEdBQUdQLGdCQUFnQixDQUFDUSw0QkFBNEIsQ0FBQ0YsT0FBTztNQUFBRyxxQkFBQSxHQUM3Q1QsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTztNQUF0RUssYUFBYSxHQUFBRixxQkFBQSxDQUFiRSxhQUFhO01BQUVDLGNBQWMsR0FBQUgscUJBQUEsQ0FBZEcsY0FBYztNQUM3QkMsZ0JBQWdCLEdBQUtULHdCQUF3QixDQUE3Q1MsZ0JBQWdCO01BQ2hCQyxpQkFBaUIsR0FBS1AseUJBQXlCLENBQS9DTyxpQkFBaUI7SUFFdkIsSUFBSUgsYUFBYSxDQUFDSSw2QkFBNkIsRUFBRSxFQUFFO01BRS9DLElBQUlaLFNBQVMsQ0FBQ2EsZ0JBQWdCLEVBQUU7UUFFNUIsSUFBSUwsYUFBYSxDQUFDTSxTQUFTLEVBQUU7VUFDekJkLFNBQVMsQ0FBQ2EsZ0JBQWdCLENBQUMsS0FBSyxFQUFFSCxnQkFBZ0IsQ0FBQ0ssUUFBUSxDQUFDOztRQUVoRSxJQUFJUCxhQUFhLENBQUNRLFNBQVMsRUFBRTtVQUN6QmhCLFNBQVMsQ0FBQ2EsZ0JBQWdCLENBQUMsS0FBSyxFQUFFSCxnQkFBZ0IsQ0FBQ08sU0FBUyxDQUFDOzs7TUFLckUsSUFBSU4saUJBQWlCLEVBQUU7UUFDbkIsSUFBSUgsYUFBYSxDQUFDTSxTQUFTLEVBQUU7VUFDekIsSUFBSUksT0FBTyxHQUFHUCxpQkFBaUIsQ0FBQyxLQUFLLEVBQUVELGdCQUFnQixDQUFDSyxRQUFRLENBQUM7VUFDakVHLE9BQU8sR0FBRyxDQUFDQSxPQUFPO1VBQ2xCLElBQUksQ0FBQzNDLEtBQUssQ0FBQzJDLE9BQU8sQ0FBQyxJQUFJQSxPQUFPLEdBQUcsQ0FBQyxJQUFJakQsTUFBTSxDQUFDUSxTQUFTLENBQUN5QyxPQUFPLENBQUMsRUFBRTtZQUM3RFQsY0FBYyxDQUFDVSxpQkFBaUIsQ0FBQ0QsT0FBTyxDQUFDOzs7UUFHakQsSUFBSVYsYUFBYSxDQUFDUSxTQUFTLEVBQUU7VUFDekIsSUFBSUksTUFBTSxHQUFHVCxpQkFBaUIsQ0FBQyxLQUFLLEVBQUVELGdCQUFnQixDQUFDTyxTQUFTLENBQUM7VUFDakVHLE1BQU0sR0FBRyxDQUFDQSxNQUFNO1VBQ2hCLElBQUksQ0FBQzdDLEtBQUssQ0FBQzZDLE1BQU0sQ0FBQyxJQUFJQSxNQUFNLEdBQUcsQ0FBQyxJQUFJbkQsTUFBTSxDQUFDUSxTQUFTLENBQUMyQyxNQUFNLENBQUMsRUFBRTtZQUMxRFgsY0FBYyxDQUFDWSxnQkFBZ0IsQ0FBQ0QsTUFBTSxDQUFDOzs7O01BS25EWixhQUFhLENBQUNjLDJCQUEyQixFQUFFOztFQUluRCxDQUFDO0VBRUQ7RUFFTyxLQUFBQyxNQUFNLEdBQUcsWUFBSztJQUVqQixJQUFRQyxZQUFZLEdBQUsxQixLQUFJLENBQUNELGdCQUFnQixDQUFDVSxXQUFXLENBQUNKLE9BQU8sQ0FBMURxQixZQUFZO0lBRXBCLElBQVFDLGdCQUFnQixHQUFLM0IsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1UsV0FBVyxDQUFDSixPQUFPLENBQTlEc0IsZ0JBQWdCO0lBRXhCQSxnQkFBZ0IsQ0FBQ0MsZUFBZSxFQUFFO0lBRWxDRixZQUFZLENBQUNHLGNBQWMsQ0FBQyxRQUFRLENBQUM7RUFFekMsQ0FBQztFQUVNLEtBQUF6QyxhQUFhLEdBQUcsVUFBQzBDLEtBQUssRUFBSTtJQUl6QixJQUFFL0IsZ0JBQWdCLEdBQUtDLEtBQUksQ0FBekJELGdCQUFnQjtNQUVsQkksd0JBQXdCLEdBQUdKLGdCQUFnQixDQUFDSywyQkFBMkIsQ0FBQ0MsT0FBTztNQUU3RU8sZ0JBQWdCLEdBQUtULHdCQUF3QixDQUE3Q1MsZ0JBQWdCO01BRWhCSyxRQUFRLEdBQVdMLGdCQUFnQixDQUFuQ0ssUUFBUTtNQUFFYyxJQUFJLEdBQUtuQixnQkFBZ0IsQ0FBekJtQixJQUFJO0lBRXBCLElBQUksQ0FBQ0EsSUFBSSxFQUFFO0lBRVgsSUFBTUMsU0FBUyxHQUFJLENBQUNyRCxTQUFTLENBQUNtRCxLQUFLLENBQUUsRUFBQztJQUV0QyxJQUFJLENBQUNFLFNBQVMsRUFBRTtNQUVaLElBQUksQ0FBQ3BELG1DQUFtQyxDQUFDa0QsS0FBSyxFQUFFYixRQUFRLENBQUMsRUFBRTtRQUN2RGEsS0FBSyxHQUFHYixRQUFROzs7SUFLeEJhLEtBQUssR0FBRyxDQUFDQSxLQUFLO0lBRWQsSUFBSUUsU0FBUyxFQUFFO01BRVhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1DQUFtQyxFQUFFSixLQUFLLEVBQUUzQyxhQUFhLENBQUNDLGFBQWEsQ0FBQztNQUNwRjs7SUFNQSxJQUFBK0MsUUFBUSxHQUFHcEMsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTztNQUkzQ3NCLGdCQUFnQixHQUloQlEsUUFBUSxDQUpSUixnQkFBZ0I7TUFDaEJqQixhQUFhLEdBR2J5QixRQUFRLENBSFJ6QixhQUFhO01BQ2JnQixZQUFZLEdBRVpTLFFBQVEsQ0FGUlQsWUFBWTtNQUlkVSxPQUFPLEdBQUtULGdCQUFnQixDQUE1QlMsT0FBTztJQUViQSxPQUFPLENBQUNDLHFCQUFxQixHQUFHLElBQUk7SUFFcEMzQixhQUFhLENBQUM0QixrQkFBa0IsQ0FBQ0MsMkJBQTJCLEdBQUdULEtBQUssR0FBR2IsUUFBUTtJQUUvRVMsWUFBWSxDQUFDRyxjQUFjLENBQUMsVUFBVSxDQUFDO0VBRTNDLENBQUM7RUFFTSxLQUFBVyxhQUFhLEdBQUcsVUFBQ0MsS0FBSyxFQUF5QjtJQUFBLElBQXZCQyxRQUFRLEdBQUFDLFNBQUEsQ0FBQTdHLE1BQUEsUUFBQTZHLFNBQUEsUUFBQTFFLFNBQUEsR0FBQTBFLFNBQUEsTUFBRyxRQUFRO0lBRTlDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsTUFBTSxDQUFDLENBQUNDLFFBQVEsQ0FBQ0YsUUFBUSxDQUFDLEVBQUU7TUFDakRBLFFBQVEsR0FBRyxRQUFROztJQUd2QixJQUFJLEVBQUUvRCxTQUFTLENBQUM4RCxLQUFLLENBQUMsSUFBSTdELG1DQUFtQyxDQUFDNkQsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFFckU7O0lBSUpBLEtBQUssR0FBRyxDQUFDQSxLQUFLO0lBSVYsSUFBRTFDLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7TUFFbEI4QyxlQUFlLEdBQUc5QyxnQkFBZ0IsQ0FBQytDLDRCQUE0QixDQUFDekMsT0FBTyxDQUFDMEMsVUFBVSxDQUFDMUMsT0FBTztNQUUxRjJDLGtCQUFrQixHQUFHSCxlQUFlLENBQUNJLFVBQVU7TUFFL0MzQyx5QkFBeUIsR0FBR1AsZ0JBQWdCLENBQUNRLDRCQUE0QixDQUFDRixPQUFPO01BRS9FNkMsV0FBVyxHQUFLNUMseUJBQXlCLENBQXpDNEMsV0FBVztNQUViQyxpQkFBaUIsR0FDYkQsV0FBVyxJQUFJLFVBQVUsR0FDckJGLGtCQUFrQixDQUFDSSxZQUFZLEdBQy9CSixrQkFBa0IsQ0FBQ0ssV0FBVztNQUV0Q0MsY0FBYyxHQUNWSixXQUFXLElBQUksVUFBVSxHQUNyQkwsZUFBZSxDQUFDTyxZQUFZLEdBQzVCUCxlQUFlLENBQUNRLFdBQVc7TUFFbkNFLFdBQVcsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLENBQUNELElBQUksQ0FBQ0UsR0FBRyxDQUFDakIsS0FBSyxFQUFFVSxpQkFBaUIsR0FBR0csY0FBYyxDQUFDLEVBQUMsQ0FBQyxDQUFDO0lBRWpGLElBQUlLLEdBQUcsRUFBRUMsSUFBSTtJQUViLElBQUlWLFdBQVcsSUFBSSxVQUFVLEVBQUU7TUFFM0JTLEdBQUcsR0FBR0osV0FBVztNQUNqQkssSUFBSSxHQUFHZixlQUFlLENBQUNnQixVQUFVO0tBRXBDLE1BQU07TUFFSEQsSUFBSSxHQUFHTCxXQUFXO01BQ2xCSSxHQUFHLEdBQUdkLGVBQWUsQ0FBQ2lCLFNBQVM7O0lBR25DLElBQU1DLE9BQU8sR0FBRztNQUNaSixHQUFHLEVBQUNBLEdBQUc7TUFDUEMsSUFBSSxFQUFDQSxJQUFJO01BQ1RsQixRQUFRLEVBQUNBO0tBQ1o7SUFFREcsZUFBZSxDQUFDbUIsTUFBTSxDQUFDRCxPQUFPLENBQUM7RUFFbkMsQ0FBQztFQUVNLEtBQUFFLGFBQWEsR0FBRyxVQUFDeEIsS0FBSyxFQUF5QjtJQUFBLElBQXZCQyxRQUFRLEdBQUFDLFNBQUEsQ0FBQTdHLE1BQUEsUUFBQTZHLFNBQUEsUUFBQTFFLFNBQUEsR0FBQTBFLFNBQUEsTUFBRyxRQUFRO0lBRTlDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBQyxTQUFTLEVBQUMsTUFBTSxDQUFDLENBQUNDLFFBQVEsQ0FBQ0YsUUFBUSxDQUFDLEVBQUU7TUFDakRBLFFBQVEsR0FBRyxRQUFROztJQUd2QixJQUFJLENBQUMvRCxTQUFTLENBQUM4RCxLQUFLLENBQUMsRUFBRTtNQUVuQjs7SUFJSkEsS0FBSyxHQUFHLENBQUNBLEtBQUs7SUFFZCxJQUFJQSxLQUFLLElBQUksQ0FBQyxFQUFFLE9BQU0sQ0FBQztJQUluQixJQUFFMUMsZ0JBQWdCLEdBQUtDLEtBQUksQ0FBekJELGdCQUFnQjtNQUVsQjhDLGVBQWUsR0FBRzlDLGdCQUFnQixDQUFDK0MsNEJBQTRCLENBQUN6QyxPQUFPLENBQUMwQyxVQUFVLENBQUMxQyxPQUFPO01BRTFGMkMsa0JBQWtCLEdBQUdILGVBQWUsQ0FBQ0ksVUFBVTtNQUUvQzNDLHlCQUF5QixHQUFHUCxnQkFBZ0IsQ0FBQ1EsNEJBQTRCLENBQUNGLE9BQU87TUFFL0U2QyxXQUFXLEdBQUs1Qyx5QkFBeUIsQ0FBekM0QyxXQUFXO01BRWJDLGlCQUFpQixHQUNiRCxXQUFXLElBQUksVUFBVSxHQUNyQkYsa0JBQWtCLENBQUNJLFlBQVksR0FDL0JKLGtCQUFrQixDQUFDSyxXQUFXO01BRXRDQyxjQUFjLEdBQ1ZKLFdBQVcsSUFBSSxVQUFVLEdBQ3JCTCxlQUFlLENBQUNPLFlBQVksR0FDNUJQLGVBQWUsQ0FBQ1EsV0FBVztNQUVuQ2EsWUFBWSxHQUNSaEIsV0FBVyxJQUFJLFVBQVUsR0FDckJMLGVBQWUsQ0FBQ2lCLFNBQVMsR0FDekJqQixlQUFlLENBQUNnQixVQUFVOztJQUV0QztJQUNBO0lBRUEsSUFBSU0sYUFBYSxFQUNiQyxRQUFRLEVBQUVDLGNBQWMsRUFDeEJDLGVBQWU7SUFFbkIsSUFBSTdCLEtBQUssR0FBRyxDQUFDLEVBQUU7TUFBRTtNQUViMkIsUUFBUSxHQUFHakIsaUJBQWlCLEdBQUdHLGNBQWM7TUFDN0NlLGNBQWMsR0FBR2IsSUFBSSxDQUFDQyxHQUFHLENBQUVoQixLQUFLLEdBQUd5QixZQUFZLEdBQUlFLFFBQVEsRUFBQyxDQUFDLENBQUM7TUFDOURELGFBQWEsR0FBRzFCLEtBQUssR0FBRzRCLGNBQWM7S0FFekMsTUFBTTtNQUFFO01BRUxDLGVBQWUsR0FBR2QsSUFBSSxDQUFDRSxHQUFHLENBQUNqQixLQUFLLEdBQUd5QixZQUFZLEVBQUMsQ0FBQyxDQUFDO01BQ2xEQyxhQUFhLEdBQUcxQixLQUFLLEdBQUc2QixlQUFlOztJQUkzQztJQUNBO0lBRUEsSUFBSVgsR0FBRyxFQUFFQyxJQUFJO0lBRWIsSUFBSVYsV0FBVyxJQUFJLFVBQVUsRUFBRTtNQUUzQlMsR0FBRyxHQUFHUSxhQUFhO01BQ25CUCxJQUFJLEdBQUcsQ0FBQztLQUVYLE1BQU07TUFFSEEsSUFBSSxHQUFHTyxhQUFhO01BQ3BCUixHQUFHLEdBQUcsQ0FBQzs7SUFHWCxJQUFNSSxPQUFPLEdBQUc7TUFDWkosR0FBRyxFQUFIQSxHQUFHO01BQ0hDLElBQUksRUFBSkEsSUFBSTtNQUNKbEIsUUFBUSxFQUFSQTtLQUNIO0lBRURHLGVBQWUsQ0FBQzBCLFFBQVEsQ0FBQ1IsT0FBTyxDQUFDO0VBRXJDLENBQUM7RUFFRDtFQUNPLEtBQUFTLFdBQVcsR0FBRyxVQUFDQyxXQUFXLEVBQUk7SUFFakN6RSxLQUFJLENBQUNYLFdBQVcsQ0FBQ29GLFdBQVcsQ0FBQztFQUVqQyxDQUFDO0VBRU0sS0FBQXBGLFdBQVcsR0FBRyxVQUFDb0YsV0FBVyxFQUFJO0lBRWpDQSxXQUFXLEdBQUcsQ0FBQ0EsV0FBVztJQUUxQixJQUFNekMsU0FBUyxHQUFJLENBQUNyRCxTQUFTLENBQUM4RixXQUFXLENBQUMsSUFBSSxDQUFDN0YsbUNBQW1DLENBQUM2RixXQUFXLEVBQUUsQ0FBQyxDQUFFO0lBRW5HLElBQUl6QyxTQUFTLEVBQUU7TUFFWEMsT0FBTyxDQUFDQyxHQUFHLENBQUMscUNBQXFDLEVBQUV1QyxXQUFXLEVBQUV0RixhQUFhLENBQUNFLFdBQVcsQ0FBQztNQUMxRjs7SUFJSixJQUFBcUYscUJBQUEsR0FPUTFFLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTztNQUp6Q3NFLFFBQVEsR0FBQUQscUJBQUEsQ0FBUkMsUUFBUTtNQUNSQyxjQUFjLEdBQUFGLHFCQUFBLENBQWRFLGNBQWM7TUFDZGxELFlBQVksR0FBQWdELHFCQUFBLENBQVpoRCxZQUFZO01BTVptRCxrQkFBa0IsR0FFbEI3RSxLQUFJLENBQUNFLFNBQVMsQ0FGZDJFLGtCQUFrQjtNQUl0QkMsZUFBZSxHQUFHOUUsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0ssMkJBQTJCLENBQUNDLE9BQU8sQ0FBQ08sZ0JBQWdCLENBQUNtQixJQUFJO01BRS9GZ0QsS0FBSyxHQUFLL0UsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1EsNEJBQTRCLENBQUNGLE9BQU8sQ0FBcEUwRSxLQUFLO0lBRVgsSUFBSUMsYUFBYTtJQUNqQixJQUFJSCxrQkFBa0IsRUFBRTtNQUNwQkcsYUFBYSxHQUFHLFNBQUFBLGNBQUNDLFVBQVUsRUFBSTtRQUUzQkosa0JBQWtCLENBQUMsK0JBQStCLEVBQUNJLFVBQVUsQ0FBQztNQUVsRSxDQUFDOztJQUlMTCxjQUFjLENBQUNNLHFCQUFxQixDQUFDVCxXQUFXLENBQUM7SUFDakRFLFFBQVEsQ0FBQ1EsbUJBQW1CLENBQUNWLFdBQVcsRUFBRU8sYUFBYSxDQUFDO0lBRXhETCxRQUFRLENBQUNTLGlCQUFpQixFQUFFO0lBRTVCLElBQUtMLEtBQUssSUFBSSxTQUFTLElBQU1OLFdBQVcsR0FBR0ssZUFBZ0IsRUFBRTtNQUV6RHBELFlBQVksQ0FBQ0csY0FBYyxDQUFDLGNBQWMsQ0FBQzs7RUFJbkQsQ0FBQztFQUVNLEtBQUF2QyxZQUFZLEdBQUcsVUFBQytGLFlBQVksRUFBSTtJQUVuQyxJQUFJckQsU0FBUyxHQUFHLENBQUN0RyxLQUFLLENBQUNpQixPQUFPLENBQUMwSSxZQUFZLENBQUM7SUFFNUMsSUFBSSxDQUFDckQsU0FBUyxFQUFFO01BRVpBLFNBQVMsR0FBRyxFQUFFcUQsWUFBWSxDQUFDdkosTUFBTSxJQUFJLENBQUMsSUFBSXVKLFlBQVksQ0FBQ3ZKLE1BQU0sSUFBSSxDQUFDLENBQUM7TUFFbkUsSUFBSSxDQUFDa0csU0FBUyxJQUFLcUQsWUFBWSxDQUFDdkosTUFBTSxJQUFJLENBQUUsRUFBRTtRQUUxQyxJQUFBd0osYUFBQSxHQUEyQkQsWUFBWTtVQUFBRSxjQUFBLEdBQUE3SyxjQUFBLENBQUE0SyxhQUFBO1VBQWxDckUsUUFBUSxHQUFBc0UsY0FBQTtVQUFDcEUsU0FBUyxHQUFBb0UsY0FBQTtRQUV2QnRFLFFBQVEsR0FBRyxDQUFDQSxRQUFRO1FBQ3BCRSxTQUFTLEdBQUcsQ0FBQ0EsU0FBUztRQUV0QmEsU0FBUyxHQUFLLENBQUNyRCxTQUFTLENBQUNzQyxRQUFRLENBQUMsSUFBTSxDQUFDdEMsU0FBUyxDQUFDd0MsU0FBUyxDQUFFLElBQUssQ0FBQ3ZDLG1DQUFtQyxDQUFDdUMsU0FBUyxFQUFFRixRQUFRLENBQUc7UUFFOUgsSUFBSSxDQUFDZSxTQUFTLEVBQUVxRCxZQUFZLEdBQUcsQ0FBQ3BFLFFBQVEsRUFBQ0UsU0FBUyxDQUFDOzs7SUFNM0QsSUFBSWEsU0FBUyxFQUFFO01BRVhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVDQUF1QyxFQUFFbUQsWUFBWSxFQUFFbEcsYUFBYSxDQUFDRyxZQUFZLENBQUM7TUFDOUY7O0lBSUosSUFBQWtHLHNCQUFBLEdBT1F4RixLQUFJLENBQUNELGdCQUFnQixDQUFDVSxXQUFXLENBQUNKLE9BQU87TUFKekNzRSxRQUFRLEdBQUFhLHNCQUFBLENBQVJiLFFBQVE7TUFDUkMsY0FBYyxHQUFBWSxzQkFBQSxDQUFkWixjQUFjO01BQ2RsRCxZQUFZLEdBQUE4RCxzQkFBQSxDQUFaOUQsWUFBWTtNQU1abUQsa0JBQWtCLEdBRWxCN0UsS0FBSSxDQUFDRSxTQUFTLENBRmQyRSxrQkFBa0I7TUFJdEJZLGdCQUFnQixHQUFHekYsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0ssMkJBQTJCLENBQUNDLE9BQU8sQ0FBQ08sZ0JBQWdCLENBQUM4RSxLQUFLO01BRWpHWCxLQUFLLEdBQUsvRSxLQUFJLENBQUNELGdCQUFnQixDQUFDUSw0QkFBNEIsQ0FBQ0YsT0FBTyxDQUFwRTBFLEtBQUs7SUFFWCxJQUFJQyxhQUFhO0lBQ2pCLElBQUlILGtCQUFrQixFQUFFO01BQ3BCRyxhQUFhLEdBQUcsU0FBQUEsY0FBQ0MsVUFBVSxFQUFJO1FBRTNCSixrQkFBa0IsQ0FBQyxnQ0FBZ0MsRUFBQ0ksVUFBVSxDQUFDO01BRW5FLENBQUM7O0lBSUxMLGNBQWMsQ0FBQ2Usc0JBQXNCLENBQUNOLFlBQVksQ0FBQztJQUNuRFYsUUFBUSxDQUFDaUIsb0JBQW9CLENBQUNQLFlBQVksRUFBRUwsYUFBYSxDQUFDO0lBRTFETCxRQUFRLENBQUNTLGlCQUFpQixFQUFFO0lBRzVCLElBQUtMLEtBQUssSUFBSSxTQUFTLElBQ2xCTSxZQUFZLENBQUN2SixNQUFNLElBQUksQ0FBRSxLQUN6QnVKLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBR0ksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUlKLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBR0ksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtNQUVsRi9ELFlBQVksQ0FBQ0csY0FBYyxDQUFDLGNBQWMsQ0FBQzs7RUFJbkQsQ0FBQztFQUVNLEtBQUFSLGlCQUFpQixHQUFHLFVBQUN3RSxZQUFZLEVBQUk7SUFDeENBLFlBQVksR0FBRyxDQUFDQSxZQUFZO0lBQzVCLElBQU03RCxTQUFTLEdBQUssQ0FBQ3JELFNBQVMsQ0FBQ2tILFlBQVksQ0FBQyxJQUFNLENBQUNqSCxtQ0FBbUMsQ0FBQ2lILFlBQVksRUFBRSxDQUFDLENBQUc7SUFDekcsSUFBSTdELFNBQVMsRUFBRTtNQUNYQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1REFBdUQsQ0FBQztNQUNwRTs7SUFFSixJQUFRdEIsZ0JBQWdCLEdBQUtaLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNLLDJCQUEyQixDQUFDQyxPQUFPLENBQTlFTyxnQkFBZ0I7SUFDeEIsSUFBQWtGLHFCQUFBLEdBQUFwTCxjQUFBLENBQThCa0csZ0JBQWdCLENBQUM4RSxLQUFLO01BQTdDekUsUUFBUSxHQUFBNkUscUJBQUE7TUFBRTNFLFNBQVMsR0FBQTJFLHFCQUFBO0lBQzFCLElBQVEvRCxJQUFJLEdBQUtuQixnQkFBZ0IsQ0FBekJtQixJQUFJO0lBRVosSUFBSXNELFlBQVk7SUFDaEIsSUFBSXRELElBQUksRUFBRTtNQUVOc0QsWUFBWSxHQUFHLENBQUNwRSxRQUFRLEdBQUc0RSxZQUFZLEVBQUMxRSxTQUFTLENBQUM7S0FFckQsTUFBTTtNQUVIa0UsWUFBWSxHQUFHLENBQUMsQ0FBQ1EsWUFBWSxHQUFHLENBQUMsRUFBQyxDQUFDLENBQUM7O0lBSXhDN0YsS0FBSSxDQUFDVixZQUFZLENBQUMrRixZQUFZLENBQUM7RUFDbkMsQ0FBQztFQUVNLEtBQUE5RCxnQkFBZ0IsR0FBRyxVQUFDd0UsV0FBVyxFQUFJO0lBQ3RDQSxXQUFXLEdBQUcsQ0FBQ0EsV0FBVztJQUMxQixJQUFNL0QsU0FBUyxHQUFLLENBQUNyRCxTQUFTLENBQUNvSCxXQUFXLENBQUMsSUFBTSxDQUFDbkgsbUNBQW1DLENBQUNtSCxXQUFXLEVBQUUsQ0FBQyxDQUFHO0lBQ3ZHLElBQUkvRCxTQUFTLEVBQUU7TUFDWEMsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0RBQXNELENBQUM7TUFDbkU7O0lBRUosSUFBUXRCLGdCQUFnQixHQUFLWixLQUFJLENBQUNELGdCQUFnQixDQUFDSywyQkFBMkIsQ0FBQ0MsT0FBTyxDQUE5RU8sZ0JBQWdCO0lBQ3hCLElBQUFvRixzQkFBQSxHQUFBdEwsY0FBQSxDQUE4QmtHLGdCQUFnQixDQUFDOEUsS0FBSztNQUE3Q3pFLFFBQVEsR0FBQStFLHNCQUFBO01BQUU3RSxTQUFTLEdBQUE2RSxzQkFBQTtJQUMxQixJQUFRakUsSUFBSSxHQUFLbkIsZ0JBQWdCLENBQXpCbUIsSUFBSTtJQUVaLElBQUlzRCxZQUFZO0lBQ2hCLElBQUl0RCxJQUFJLEVBQUU7TUFFTnNELFlBQVksR0FBRyxDQUFDcEUsUUFBUSxFQUFDRSxTQUFTLEdBQUc0RSxXQUFXLENBQUM7S0FFcEQsTUFBTTtNQUVIVixZQUFZLEdBQUcsQ0FBQyxDQUFDLEVBQUNVLFdBQVcsR0FBRyxDQUFDLENBQUM7O0lBSXRDL0YsS0FBSSxDQUFDVixZQUFZLENBQUMrRixZQUFZLENBQUM7RUFFbkMsQ0FBQztFQUVEO0VBRU8sS0FBQVksZ0JBQWdCLEdBQUcsWUFBSztJQUUzQixJQUFRdEIsUUFBUSxHQUFLM0UsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1UsV0FBVyxDQUFDSixPQUFPLENBQXREc0UsUUFBUTtJQUVoQixPQUFPQSxRQUFRLENBQUNzQixnQkFBZ0IsRUFBRTtFQUV0QyxDQUFDO0VBRU0sS0FBQUMsZUFBZSxHQUFHLFlBQUs7SUFFMUIsSUFBUXZCLFFBQVEsR0FBSzNFLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTyxDQUF0RHNFLFFBQVE7SUFFaEIsT0FBT0EsUUFBUSxDQUFDdUIsZUFBZSxFQUFFO0VBRXJDLENBQUM7RUFFTSxLQUFBQyxpQkFBaUIsR0FBRyxZQUFLO0lBRTVCLElBQUFDLHNCQUFBLEdBQXFDcEcsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1UsV0FBVyxDQUFDSixPQUFPO01BQXRFc0UsUUFBUSxHQUFBeUIsc0JBQUEsQ0FBUnpCLFFBQVE7TUFBRUMsY0FBYyxHQUFBd0Isc0JBQUEsQ0FBZHhCLGNBQWM7SUFFaEMsSUFBTXlCLGNBQWMsR0FBR3pCLGNBQWMsQ0FBQzBCLGlCQUFpQixFQUFFO0lBQ3pELE9BQU8zQixRQUFRLENBQUN3QixpQkFBaUIsQ0FBQ0UsY0FBYyxDQUFDO0VBQ3JELENBQUM7RUFFTSxLQUFBRSxxQkFBcUIsR0FBRyxZQUFLO0lBRWhDLElBQU16SixLQUFLLEdBQUF6QixNQUFBLENBQUFtTCxNQUFBLEtBQU94RyxLQUFJLENBQUNELGdCQUFnQixDQUFDMEcscUJBQXFCLENBQUNwRyxPQUFPLENBQUM7SUFFdEV2RCxLQUFLLENBQUM4RCxnQkFBZ0IsR0FBQXZGLE1BQUEsQ0FBQW1MLE1BQUEsS0FBTzFKLEtBQUssQ0FBQzhELGdCQUFnQixDQUFDO0lBQ3BEOUQsS0FBSyxDQUFDNEosa0JBQWtCLEdBQUFyTCxNQUFBLENBQUFtTCxNQUFBLEtBQU8xSixLQUFLLENBQUM0SixrQkFBa0IsQ0FBQztJQUV4RCxPQUFPNUosS0FBSztFQUVoQixDQUFDO0VBRUQ7RUFFTyxLQUFBNkosVUFBVSxHQUFHLFlBQUs7SUFFckIsSUFBUWpGLFlBQVksR0FBSzFCLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTyxDQUExRHFCLFlBQVk7SUFFcEJBLFlBQVksQ0FBQ0csY0FBYyxDQUFDLFlBQVksQ0FBQztFQUU3QyxDQUFDO0VBRUQ7RUFDQTtFQUNBO0VBQ0E7RUFDTyxLQUFBK0UsWUFBWSxHQUFHLFVBQUNDLFNBQVMsRUFBSTtJQUVoQyxJQUFJQSxTQUFTLENBQUM5RSxJQUFJLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFDO0lBRW5DLElBQUErRSxzQkFBQSxHQUNJOUcsS0FBSSxDQUFDRCxnQkFBZ0IsQ0FBQ1UsV0FBVyxDQUFDSixPQUFPO01BRHJDc0UsUUFBUSxHQUFBbUMsc0JBQUEsQ0FBUm5DLFFBQVE7TUFBRUMsY0FBYyxHQUFBa0Msc0JBQUEsQ0FBZGxDLGNBQWM7TUFBRWxELFlBQVksR0FBQW9GLHNCQUFBLENBQVpwRixZQUFZO0lBRzlDLElBRUlxRixlQUFlLEdBSWZwQyxRQUFRLENBSlJvQyxlQUFlO01BQ2ZDLGdCQUFnQixHQUdoQnJDLFFBQVEsQ0FIUnFDLGdCQUFnQjtNQUNoQkMsT0FBTyxHQUVQdEMsUUFBUSxDQUZSc0MsT0FBTztJQUlYLElBQU1DLG1CQUFtQixHQUFHLEVBQUU7SUFDOUIsSUFBTUMsMEJBQTBCLEdBQUcsRUFBRTtJQUNyQyxJQUFNQywyQkFBMkIsR0FBRyxFQUFFO0lBQ3RDLElBQU1DLHNCQUFzQixHQUFHLElBQUlDLEdBQUcsRUFBRTtJQUN4QyxJQUFNQyxlQUFlLEdBQUcsSUFBSUQsR0FBRyxFQUFFO0lBRWpDO0lBRUE7SUFFQSxJQUFNRSxnQkFBZ0IsR0FBRyxJQUFJRixHQUFHLEVBQUU7SUFDbENULFNBQVMsQ0FBQ1ksT0FBTyxDQUFDLFVBQUNDLE1BQU0sRUFBRTVGLEtBQUssRUFBSTtNQUNoQyxJQUFJNEYsTUFBTSxLQUFLekosU0FBUyxFQUFFO1FBQ3RCLElBQUkrSSxnQkFBZ0IsQ0FBQ1csR0FBRyxDQUFDN0YsS0FBSyxDQUFDLEVBQUU7VUFDN0IsSUFBTThGLFdBQVcsR0FBR1osZ0JBQWdCLENBQUNhLEdBQUcsQ0FBQy9GLEtBQUssQ0FBQztVQUUvQ3FGLDBCQUEwQixDQUFDMUssSUFBSSxDQUFDcUYsS0FBSyxDQUFDO1VBRXRDLElBQUksRUFBRThGLFdBQVcsS0FBSzNKLFNBQVMsQ0FBQyxFQUFFO1lBQUU7WUFFaEMsSUFBQTZKLG9CQUFBLEdBQXdCZixlQUFlLENBQUNjLEdBQUcsQ0FBQ0QsV0FBVyxDQUFDO2NBQWhERyxXQUFXLEdBQUFELG9CQUFBLENBQVhDLFdBQVc7WUFFbkJYLDJCQUEyQixDQUFDM0ssSUFBSSxDQUFDO2NBQUNzTCxXQUFXLEVBQVhBLFdBQVc7Y0FBRUwsTUFBTSxFQUFDRTtZQUFXLENBQUMsQ0FBQzs7U0FFMUUsTUFBTTtVQUVITCxlQUFlLENBQUNTLEdBQUcsQ0FBQ2xHLEtBQUssRUFBRSxrQ0FBa0MsQ0FBQzs7T0FHckUsTUFBTTtRQUVIMEYsZ0JBQWdCLENBQUNRLEdBQUcsQ0FBQ2xHLEtBQUssRUFBRTRGLE1BQU0sQ0FBQzs7SUFHM0MsQ0FBQyxDQUFDO0lBRUZQLDBCQUEwQixDQUFDTSxPQUFPLENBQUMsVUFBQzNGLEtBQUssRUFBSTtNQUN6Q2tGLGdCQUFnQixVQUFPLENBQUNsRixLQUFLLENBQUM7SUFDbEMsQ0FBQyxDQUFDO0lBRUY7SUFFQSxJQUFNbUcsaUJBQWlCLEdBQUcsSUFBSUMsR0FBRyxFQUFFO0lBQ25DZCwyQkFBMkIsQ0FBQ0ssT0FBTyxDQUFDLFVBQUNVLEdBQUcsRUFBSTtNQUN4Q0YsaUJBQWlCLENBQUNHLEdBQUcsQ0FBQ0QsR0FBRyxDQUFDVCxNQUFNLENBQUM7SUFDckMsQ0FBQyxDQUFDO0lBRUY7SUFFQUYsZ0JBQWdCLENBQUNDLE9BQU8sQ0FBQyxVQUFDQyxNQUFNLEVBQUU1RixLQUFLLEVBQUk7TUFFdkMsSUFBSzRGLE1BQU0sS0FBSyxJQUFJLElBQU1BLE1BQU0sS0FBS3pKLFNBQVUsRUFBRTtRQUU3Q2lKLG1CQUFtQixDQUFDekssSUFBSSxDQUFDcUYsS0FBSyxDQUFDO09BRWxDLE1BQU07UUFFSCxJQUFLLE9BQU80RixNQUFNLElBQUssUUFBUSxFQUFFO1VBRTdCSCxlQUFlLENBQUNTLEdBQUcsQ0FBQ2xHLEtBQUssRUFBQyxvQkFBb0IsQ0FBQztTQUVsRCxNQUFNLElBQUksQ0FBQzNELE1BQU0sQ0FBQ1EsU0FBUyxDQUFDK0ksTUFBTSxDQUFDLEVBQUU7VUFFbENILGVBQWUsQ0FBQ1MsR0FBRyxDQUFDbEcsS0FBSyxFQUFDLDBCQUEwQixDQUFDO1NBRXhELE1BQU0sSUFBSSxDQUFDa0YsZ0JBQWdCLENBQUNXLEdBQUcsQ0FBQzdGLEtBQUssQ0FBQyxFQUFFO1VBRXJDeUYsZUFBZSxDQUFDUyxHQUFHLENBQUNsRyxLQUFLLEVBQUUsb0JBQW9CLENBQUM7U0FFbkQsTUFBTSxJQUFJa0YsZ0JBQWdCLENBQUNhLEdBQUcsQ0FBQy9GLEtBQUssQ0FBQyxJQUFJNEYsTUFBTSxFQUFFO1VBRTlDSCxlQUFlLENBQUNTLEdBQUcsQ0FBQ2xHLEtBQUssbUJBQUF1RyxNQUFBLENBQW1CWCxNQUFNLHFCQUFrQixDQUFDO1NBRXhFLE1BQU0sSUFBSSxDQUFDWCxlQUFlLENBQUNZLEdBQUcsQ0FBQ0QsTUFBTSxDQUFDLElBQUlPLGlCQUFpQixDQUFDTixHQUFHLENBQUNELE1BQU0sQ0FBQyxFQUFFO1VBRXRFSCxlQUFlLENBQUNTLEdBQUcsQ0FBQ2xHLEtBQUssbUJBQUF1RyxNQUFBLENBQW1CWCxNQUFNLHVDQUFvQyxDQUFDO1NBRTFGLE1BQU07VUFFSEwsc0JBQXNCLENBQUNXLEdBQUcsQ0FBQ2xHLEtBQUssRUFBRTRGLE1BQU0sQ0FBQzs7O0lBTXJELENBQUMsQ0FBQztJQUVGO0lBRUEsSUFBTVksT0FBTyxHQUFHakIsc0JBQXNCLENBQUN0RixJQUFJO0lBRTNDLElBQU13RyxTQUFTLEdBQUcsSUFBSUwsR0FBRyxDQUFDYixzQkFBc0IsQ0FBQ21CLE1BQU0sRUFBRSxDQUFDO0lBRTFELElBQU1DLFdBQVcsR0FBR0YsU0FBUyxDQUFDeEcsSUFBSTtJQUVsQyxJQUFJdUcsT0FBTyxJQUFJRyxXQUFXLEVBQUU7TUFBRTtNQUUxQixJQUFNQyxjQUFjLEdBQUcsSUFBSXBCLEdBQUcsRUFBRTtNQUVoQ0Qsc0JBQXNCLENBQUNJLE9BQU8sQ0FBQyxVQUFDQyxNQUFNLEVBQUk7UUFFdEMsSUFBSSxDQUFDZ0IsY0FBYyxDQUFDZixHQUFHLENBQUNELE1BQU0sQ0FBQyxFQUFFO1VBRTdCZ0IsY0FBYyxDQUFDVixHQUFHLENBQUNOLE1BQU0sRUFBRSxDQUFDLENBQUM7U0FFaEMsTUFBTTtVQUVILElBQUlpQixLQUFLLEdBQUdELGNBQWMsQ0FBQ2IsR0FBRyxDQUFDSCxNQUFNLENBQUM7VUFDdENnQixjQUFjLENBQUNWLEdBQUcsQ0FBQ04sTUFBTSxFQUFFLEVBQUVpQixLQUFLLENBQUU7O01BRzVDLENBQUMsQ0FBQztNQUVGLElBQU1DLGlCQUFpQixHQUFHLElBQUl0QixHQUFHLEVBQUU7TUFDbkNvQixjQUFjLENBQUNqQixPQUFPLENBQUMsVUFBQ2tCLEtBQUssRUFBQ2pCLE1BQU0sRUFBRztRQUVuQyxJQUFJaUIsS0FBSyxHQUFHLENBQUMsRUFBRTtVQUVYQyxpQkFBaUIsQ0FBQ1osR0FBRyxDQUFDTixNQUFNLEVBQUVpQixLQUFLLENBQUM7O01BSTVDLENBQUMsQ0FBQztNQUVGLElBQU1FLHNCQUFzQixHQUFHLEVBQUU7TUFDakN4QixzQkFBc0IsQ0FBQ0ksT0FBTyxDQUFDLFVBQUNDLE1BQU0sRUFBRTVGLEtBQUssRUFBSTtRQUU3QyxJQUFJOEcsaUJBQWlCLENBQUNqQixHQUFHLENBQUNELE1BQU0sQ0FBQyxFQUFFO1VBQy9CbUIsc0JBQXNCLENBQUNwTSxJQUFJLENBQUNxRixLQUFLLENBQUM7O01BRzFDLENBQUMsQ0FBQztNQUVGK0csc0JBQXNCLENBQUNwQixPQUFPLENBQUMsVUFBQzNGLEtBQUssRUFBRztRQUVwQyxJQUFNNEYsTUFBTSxHQUFHTCxzQkFBc0IsQ0FBQ1EsR0FBRyxDQUFDL0YsS0FBSyxDQUFDO1FBQ2hELElBQU02RyxLQUFLLEdBQUdDLGlCQUFpQixDQUFDZixHQUFHLENBQUNILE1BQU0sQ0FBQztRQUUzQ0gsZUFBZSxDQUFDUyxHQUFHLENBQUNsRyxLQUFLLG1CQUFBdUcsTUFBQSxDQUFtQlgsTUFBTSx1QkFBQVcsTUFBQSxDQUFvQk0sS0FBSyxNQUFHLENBQUM7UUFDL0V0QixzQkFBc0IsVUFBTyxDQUFDdkYsS0FBSyxDQUFDO01BRXhDLENBQUMsQ0FBQzs7SUFJTjtJQUNBO0lBRUE7SUFDQTtJQUNBLElBQU1nSCxXQUFXLEdBQUcsSUFBSXhCLEdBQUcsRUFBRSxFQUFDO0lBQzlCRCxzQkFBc0IsQ0FBQ0ksT0FBTyxDQUFDLFVBQUNDLE1BQU0sRUFBRTVGLEtBQUssRUFBRztNQUU1Q2dILFdBQVcsQ0FBQ2QsR0FBRyxDQUFDbEcsS0FBSyxFQUFDa0YsZ0JBQWdCLENBQUNhLEdBQUcsQ0FBQy9GLEtBQUssQ0FBQyxDQUFDLEVBQUM7TUFDbkRnSCxXQUFXLENBQUNkLEdBQUcsQ0FBQ2pCLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSCxNQUFNLENBQUMsQ0FBQzVGLEtBQUssRUFBQzRGLE1BQU0sQ0FBQyxFQUFDO0lBRTlELENBQUMsQ0FBQztJQUVGO0lBQ0FSLG1CQUFtQixDQUFDTyxPQUFPLENBQUMsVUFBQzNGLEtBQUssRUFBSTtNQUVsQ2dILFdBQVcsQ0FBQ2QsR0FBRyxDQUFDbEcsS0FBSyxFQUFFa0YsZ0JBQWdCLENBQUNhLEdBQUcsQ0FBQy9GLEtBQUssQ0FBQyxDQUFDO0lBRXZELENBQUMsQ0FBQztJQUVGO0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFFQSxJQUFJb0YsbUJBQW1CLENBQUNwTCxNQUFNLEVBQUU7TUFFNUJvTCxtQkFBbUIsQ0FBQ08sT0FBTyxDQUFDLFVBQUMzRixLQUFLLEVBQUk7UUFFbENrRixnQkFBZ0IsVUFBTyxDQUFDbEYsS0FBSyxDQUFDO01BRWxDLENBQUMsQ0FBQzs7SUFJTjtJQUNBO0lBRUE7SUFDQSxJQUFNaUgsa0JBQWtCLEdBQUcsRUFBRTtJQUU3QjtJQUNBMUIsc0JBQXNCLENBQUNJLE9BQU8sQ0FBQyxVQUFDQyxNQUFNLEVBQUM1RixLQUFLLEVBQUk7TUFFNUNrRixnQkFBZ0IsQ0FBQ2dCLEdBQUcsQ0FBQ2xHLEtBQUssRUFBQzRGLE1BQU0sQ0FBQyxFQUFDO01BQ25DLElBQU1zQixRQUFRLEdBQUdqQyxlQUFlLENBQUNjLEdBQUcsQ0FBQ0gsTUFBTSxDQUFDO01BRTVDc0IsUUFBUSxDQUFDbEgsS0FBSyxHQUFHQSxLQUFLLEVBQUM7TUFFdkI7TUFDQWlILGtCQUFrQixDQUFDdE0sSUFBSSxDQUFDcUYsS0FBSyxDQUFDO0lBRWxDLENBQUMsQ0FBQztJQUVGO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFFQSxJQUFNbUgsdUJBQXVCLEdBQUcsSUFBSTNCLEdBQUcsRUFBRSxFQUFDO0lBQzFDLElBQU00Qix1QkFBdUIsR0FBRyxJQUFJNUIsR0FBRyxFQUFFO0lBRXpDLElBQU02QixpQ0FBaUMsR0FBRyxFQUFFLEVBQUM7SUFFN0NMLFdBQVcsQ0FBQ3JCLE9BQU8sQ0FBQyxVQUFDMkIsY0FBYyxFQUFFQyxtQkFBbUIsRUFBSTtNQUV4RCxJQUFNQyxnQkFBZ0IsR0FBR3ZDLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDdUIsY0FBYyxDQUFDLENBQUN0SCxLQUFLO01BRWxFLElBQUl1SCxtQkFBbUIsSUFBSUMsZ0JBQWdCLEVBQUU7UUFBRTtRQUUzQ0wsdUJBQXVCLENBQUNqQixHQUFHLENBQUNvQixjQUFjLEVBQUVDLG1CQUFtQixDQUFDO1FBRWhFLElBQUFFLHFCQUFBLEdBQXdCeEMsZUFBZSxDQUFDYyxHQUFHLENBQUN1QixjQUFjLENBQUM7VUFBbkRyQixXQUFXLEdBQUF3QixxQkFBQSxDQUFYeEIsV0FBVztRQUNuQm9CLGlDQUFpQyxDQUFDMU0sSUFBSSxDQUFDO1VBQUNpTCxNQUFNLEVBQUMwQixjQUFjO1VBQUVyQixXQUFXLEVBQVhBO1FBQVcsQ0FBQyxDQUFDO1FBQzVFaEIsZUFBZSxVQUFPLENBQUNxQyxjQUFjLENBQUM7UUFDdENuQyxPQUFPLFVBQU8sQ0FBQ21DLGNBQWMsQ0FBQztPQUVqQyxNQUFNO1FBQUU7UUFFTCxJQUFJcEMsZ0JBQWdCLENBQUNXLEdBQUcsQ0FBQzBCLG1CQUFtQixDQUFDLEVBQUU7VUFFM0MsSUFBTUcsV0FBVyxHQUFHeEMsZ0JBQWdCLENBQUNhLEdBQUcsQ0FBQ3dCLG1CQUFtQixDQUFDO1VBRTdELElBQUlHLFdBQVcsSUFBSUosY0FBYyxFQUFFO1lBQUU7WUFFakNGLHVCQUF1QixDQUFDbEIsR0FBRyxDQUFDcUIsbUJBQW1CLEVBQUVELGNBQWMsQ0FBQztZQUVoRXBDLGdCQUFnQixVQUFPLENBQUNxQyxtQkFBbUIsQ0FBQzs7OztJQUs1RCxDQUFDLENBQUM7SUFFRjtJQUVBO0lBQ0E7SUFDQSxJQUFNSSw0QkFBNEIsR0FBRy9OLEtBQUssQ0FBQ0MsSUFBSSxDQUFDc04sdUJBQXVCLENBQUNULE1BQU0sRUFBRSxDQUFDO0lBQ2pGLElBQU1rQix3QkFBd0IsR0FBR2hPLEtBQUssQ0FBQ0MsSUFBSSxDQUFDdU4sdUJBQXVCLENBQUNTLElBQUksRUFBRSxDQUFDO0lBQzNFO0lBQ0EsSUFBTUMseUJBQXlCLEdBQUdsTyxLQUFLLENBQUNDLElBQUksQ0FBQ3NOLHVCQUF1QixDQUFDVSxJQUFJLEVBQUUsQ0FBQztJQUU1RSxJQUFJRSxpQkFBaUIsTUFBQXhCLE1BQUEsQ0FDZFUsa0JBQWtCLEVBQ2xCN0IsbUJBQW1CLEVBQ25CdUMsNEJBQTRCLEVBQzVCQyx3QkFBd0IsQ0FDOUI7SUFFREcsaUJBQWlCLEdBQUduTyxLQUFLLENBQUNDLElBQUksQ0FBQyxJQUFJdU0sR0FBRyxDQUFDMkIsaUJBQWlCLENBQUNyQixNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUM7SUFFcEU1RCxjQUFjLENBQUNrRixnQkFBZ0IsQ0FBQzNDLDBCQUEwQixDQUFDO0lBRTNEdkMsY0FBYyxDQUFDbUYsbUJBQW1CLENBQUNGLGlCQUFpQixDQUFDO0lBRXJEQSxpQkFBaUIsR0FBR0EsaUJBQWlCLENBQUN4QixNQUFNLENBQUNsQiwwQkFBMEIsQ0FBQztJQUV4RXhDLFFBQVEsQ0FBQ3dFLGlDQUFpQyxHQUFHQSxpQ0FBaUMsQ0FBQ2QsTUFBTSxDQUFDakIsMkJBQTJCLENBQUM7SUFFbEgxRixZQUFZLENBQUNHLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztJQUVoRDtJQUVBLE9BQU8sQ0FFSGdJLGlCQUFpQixFQUNqQmQsa0JBQWtCLEVBQ2xCN0IsbUJBQW1CLEVBQ25CQywwQkFBMEIsRUFDMUJ5Qyx5QkFBeUIsRUFDekJGLHdCQUF3QixFQUN4Qm5DLGVBQWUsRUFDZlYsU0FBUyxDQUVaO0VBRUwsQ0FBQztFQUVEO0VBQ0E7RUFDTyxLQUFBbUQsU0FBUyxHQUFHLFVBQUNDLFVBQVUsRUFBRUMsWUFBWSxFQUEwQjtJQUFBLElBQXhCQyxhQUFhLEdBQUF4SCxTQUFBLENBQUE3RyxNQUFBLFFBQUE2RyxTQUFBLFFBQUExRSxTQUFBLEdBQUEwRSxTQUFBLE1BQUcsSUFBSTtJQUkxRCxJQUFFNUMsZ0JBQWdCLEdBQUtDLEtBQUksQ0FBekJELGdCQUFnQjtNQUVsQkksd0JBQXdCLEdBQUdKLGdCQUFnQixDQUFDSywyQkFBMkIsQ0FBQ0MsT0FBTztNQUU3RU8sZ0JBQWdCLEdBQUtULHdCQUF3QixDQUE3Q1MsZ0JBQWdCO01BRVB3SixZQUFZLEdBQVd4SixnQkFBZ0IsQ0FBaERLLFFBQVE7TUFBZWMsSUFBSSxHQUFLbkIsZ0JBQWdCLENBQXpCbUIsSUFBSTtJQUVqQyxJQUFJLENBQUNBLElBQUksRUFBRTtJQUVYO0lBRUEsSUFBTXNJLGdCQUFnQixHQUFJLENBQUMxTCxTQUFTLENBQUNzTCxVQUFVLENBQUMsSUFBSSxDQUFDckwsbUNBQW1DLENBQUNxTCxVQUFVLEVBQUVHLFlBQVksQ0FBRTtJQUNuSCxJQUFNRSxrQkFBa0IsR0FBSSxDQUFDM0wsU0FBUyxDQUFDdUwsWUFBWSxDQUFDLElBQUksQ0FBQ3RMLG1DQUFtQyxDQUFDc0wsWUFBWSxFQUFFRSxZQUFZLENBQUU7SUFDekgsSUFBSUcsa0JBQWtCLEdBQUcsS0FBSztJQUU5QixJQUFLLENBQUNELGtCQUFrQixFQUFHO01BQ3ZCLElBQUksQ0FBQ2hNLE9BQU8sQ0FBQzZMLGFBQWEsQ0FBQyxFQUFFO1FBQ3pCSSxrQkFBa0IsR0FBRyxDQUFDM0wsbUNBQW1DLENBQUN1TCxhQUFhLEVBQUVELFlBQVksQ0FBQztPQUN6RixNQUFNO1FBQ0hDLGFBQWEsR0FBR0QsWUFBWTs7O0lBS3BDRCxVQUFVLEdBQUcsQ0FBQ0EsVUFBVTtJQUN4QkMsWUFBWSxHQUFHLENBQUNBLFlBQVk7SUFDNUJDLGFBQWEsR0FBRyxDQUFDQSxhQUFhO0lBRTlCO0lBQ0EsSUFBSUUsZ0JBQWdCLElBQUlDLGtCQUFrQixJQUFJQyxrQkFBa0IsRUFBRTtNQUM5RHRJLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHlEQUF5RCxDQUFDO01BQ3RFbUksZ0JBQWdCLElBQUlwSSxPQUFPLENBQUNDLEdBQUcsQ0FBQytILFVBQVUsRUFBRTlLLGFBQWEsQ0FBQ1UsTUFBTSxDQUFDO01BQ2pFeUssa0JBQWtCLElBQUlySSxPQUFPLENBQUNDLEdBQUcsQ0FBQ2dJLFlBQVksRUFBRS9LLGFBQWEsQ0FBQ1EsUUFBUSxDQUFDO01BQ3ZFNEssa0JBQWtCLElBQUl0SSxPQUFPLENBQUNDLEdBQUcsQ0FBQ2lJLGFBQWEsRUFBRWhMLGFBQWEsQ0FBQ1MsU0FBUyxDQUFDO01BQ3pFLE9BQU8sRUFBRTs7SUFHYnFLLFVBQVUsR0FBR3pHLElBQUksQ0FBQ0MsR0FBRyxDQUFDMkcsWUFBWSxFQUFDSCxVQUFVLENBQUM7SUFDOUNDLFlBQVksR0FBRzFHLElBQUksQ0FBQ0MsR0FBRyxDQUFDMkcsWUFBWSxFQUFDRixZQUFZLENBQUM7SUFDbERDLGFBQWEsR0FBRzNHLElBQUksQ0FBQ0MsR0FBRyxDQUFDMkcsWUFBWSxFQUFDRCxhQUFhLENBQUM7SUFFcEQsSUFBTUssUUFBUSxHQUFHTCxhQUFhLEdBQUdELFlBQVksR0FBRyxDQUFDO0lBRWpELElBQUlPLFdBQVcsR0FBR1IsVUFBVSxHQUFHTyxRQUFRLEdBQUcsQ0FBQztJQUUzQztJQUVBLElBQU1FLFFBQVEsR0FBRzFLLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNLLDJCQUEyQixDQUFDQyxPQUFPLENBQUNPLGdCQUFnQixDQUFDbUIsSUFBSTtJQUVoRztJQUNBLElBQU00SSxhQUFhLEdBQUdELFFBQVEsR0FBRyxDQUFDO0lBRWxDLElBQUlELFdBQVcsR0FBR0UsYUFBYSxFQUFFO01BRTdCLElBQU1DLElBQUksR0FBR0gsV0FBVyxHQUFHRSxhQUFhO01BQ3hDRixXQUFXLEdBQUdqSCxJQUFJLENBQUNDLEdBQUcsQ0FBQzJHLFlBQVksRUFBQ0ssV0FBVyxHQUFHRyxJQUFJLENBQUM7TUFDdkRYLFVBQVUsR0FBR3pHLElBQUksQ0FBQ0MsR0FBRyxDQUFDMkcsWUFBWSxFQUFDSCxVQUFVLEdBQUdXLElBQUksQ0FBQzs7SUFJekQsSUFBSVQsYUFBYSxHQUFHUSxhQUFhLEVBQUU7TUFFL0IsSUFBTUMsS0FBSSxHQUFHVCxhQUFhLEdBQUdRLGFBQWE7TUFDMUNSLGFBQWEsR0FBRzNHLElBQUksQ0FBQ0MsR0FBRyxDQUFDMkcsWUFBWSxFQUFDRCxhQUFhLEdBQUdTLEtBQUksQ0FBQztNQUMzRFYsWUFBWSxHQUFHMUcsSUFBSSxDQUFDQyxHQUFHLENBQUMyRyxZQUFZLEVBQUNGLFlBQVksR0FBR1UsS0FBSSxDQUFDOztJQUk3RDtJQUVBO0lBQ0EsSUFBSVYsWUFBWSxJQUFJRCxVQUFVLEVBQUUsT0FBTyxFQUFFO0lBRXpDO0lBRUEsSUFBQVksc0JBQUEsR0FDSTdLLEtBQUksQ0FBQ0QsZ0JBQWdCLENBQUNVLFdBQVcsQ0FBQ0osT0FBTztNQURyQ3NFLFFBQVEsR0FBQWtHLHNCQUFBLENBQVJsRyxRQUFRO01BQUVDLGNBQWMsR0FBQWlHLHNCQUFBLENBQWRqRyxjQUFjO01BQUVsRCxZQUFZLEdBQUFtSixzQkFBQSxDQUFabkosWUFBWTtJQUc5QyxJQUFNcUgsa0JBQWtCO0lBQUc7SUFDdkJwRSxRQUFRLENBQUNxRixTQUFTLENBQUNDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxhQUFhLENBQUM7SUFFL0QsSUFBSXBCLGtCQUFrQixDQUFDak4sTUFBTSxFQUFFO01BRTNCOEksY0FBYyxDQUFDa0csK0JBQStCLENBQUMvQixrQkFBa0IsQ0FBQztNQUVsRSxJQUFRZ0MsT0FBTyxHQUFLbkcsY0FBYyxDQUExQm1HLE9BQU87TUFFZkEsT0FBTyxDQUFDQyxtQkFBbUIsR0FBR0QsT0FBTyxDQUFDRSxxQkFBcUIsQ0FBQ3pQLEtBQUssQ0FBQyxDQUFDLEVBQUN1UCxPQUFPLENBQUNDLG1CQUFtQixDQUFDbFAsTUFBTSxDQUFDO01BQ3ZHaVAsT0FBTyxDQUFDRyxtQkFBbUIsR0FBR0gsT0FBTyxDQUFDRSxxQkFBcUIsQ0FBQ3pQLEtBQUssQ0FBQ3VQLE9BQU8sQ0FBQ0MsbUJBQW1CLENBQUNsUCxNQUFNLENBQUM7TUFFckc0RixZQUFZLENBQUNHLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQzs7SUFJbkQsT0FBT2tILGtCQUFrQjtFQUU3QixDQUFDO0VBRU0sS0FBQW9DLFdBQVcsR0FBRyxVQUFDckosS0FBSyxFQUEyQjtJQUFBLElBQXpCc0osY0FBYyxHQUFBekksU0FBQSxDQUFBN0csTUFBQSxRQUFBNkcsU0FBQSxRQUFBMUUsU0FBQSxHQUFBMEUsU0FBQSxNQUFHLElBQUk7SUFJMUMsSUFBRTVDLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7TUFFbEJJLHdCQUF3QixHQUFHSixnQkFBZ0IsQ0FBQ0ssMkJBQTJCLENBQUNDLE9BQU87TUFFN0VPLGdCQUFnQixHQUFLVCx3QkFBd0IsQ0FBN0NTLGdCQUFnQjtNQUVQd0osWUFBWSxHQUFXeEosZ0JBQWdCLENBQWhESyxRQUFRO01BQWVjLElBQUksR0FBS25CLGdCQUFnQixDQUF6Qm1CLElBQUk7SUFFakMsSUFBSXNKLGNBQWMsR0FBRyxDQUFDMU0sU0FBUyxDQUFDbUQsS0FBSyxDQUFDO0lBRXRDLElBQUksQ0FBQ3VKLGNBQWMsRUFBRTtNQUVqQixJQUFJdEosSUFBSSxFQUFFO1FBQ05zSixjQUFjLEdBQUcsQ0FBQ3pNLG1DQUFtQyxDQUFDa0QsS0FBSyxFQUFFc0ksWUFBWSxDQUFDO09BQzdFLE1BQU07UUFDSGlCLGNBQWMsR0FBRyxLQUFLOzs7SUFLOUIsSUFBSWQsa0JBQWtCLEdBQUcsS0FBSztJQUU5QixJQUFLLENBQUNjLGNBQWMsRUFBRztNQUNuQixJQUFJLENBQUMvTSxPQUFPLENBQUM4TSxjQUFjLENBQUMsRUFBRTtRQUMxQmIsa0JBQWtCLEdBQUcsQ0FBQzNMLG1DQUFtQyxDQUFDd00sY0FBYyxFQUFFdEosS0FBSyxDQUFDO09BQ25GLE1BQU07UUFDSHNKLGNBQWMsR0FBR3RKLEtBQUs7OztJQUk5QkEsS0FBSyxHQUFHLENBQUNBLEtBQUs7SUFFZHNKLGNBQWMsR0FBRyxDQUFDQSxjQUFjO0lBRWhDLElBQUlDLGNBQWMsSUFBSWQsa0JBQWtCLEVBQUU7TUFDdEN0SSxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQztNQUM1RG1KLGNBQWMsSUFBSXBKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLEVBQUUzQyxhQUFhLENBQUNJLFVBQVUsQ0FBQztNQUM5RGdMLGtCQUFrQixJQUFJdEksT0FBTyxDQUFDQyxHQUFHLENBQUNrSixjQUFjLEVBQUVqTSxhQUFhLENBQUNLLFdBQVcsQ0FBQztNQUM1RSxPQUFPLElBQUk7O0lBR2YsT0FBT1EsS0FBSSxDQUFDc0wsaUJBQWlCLENBQUN4SixLQUFLLEVBQUVzSixjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFFNUQsQ0FBQztFQUVNLEtBQUFHLFdBQVcsR0FBRyxVQUFDekosS0FBSyxFQUEyQjtJQUFBLElBQXpCc0osY0FBYyxHQUFBekksU0FBQSxDQUFBN0csTUFBQSxRQUFBNkcsU0FBQSxRQUFBMUUsU0FBQSxHQUFBMEUsU0FBQSxNQUFHLElBQUk7SUFJMUMsSUFBRTVDLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7TUFFbEJJLHdCQUF3QixHQUFHSixnQkFBZ0IsQ0FBQ0ssMkJBQTJCLENBQUNDLE9BQU87TUFFN0VPLGdCQUFnQixHQUFLVCx3QkFBd0IsQ0FBN0NTLGdCQUFnQjtNQUVQd0osWUFBWSxHQUFXeEosZ0JBQWdCLENBQWhESyxRQUFRO01BQWVjLElBQUksR0FBS25CLGdCQUFnQixDQUF6Qm1CLElBQUk7SUFFakMsSUFBSSxDQUFDQSxJQUFJLEVBQUU7SUFFWCxJQUFNc0osY0FBYyxHQUFJLENBQUMxTSxTQUFTLENBQUNtRCxLQUFLLENBQUMsSUFBSSxDQUFDbEQsbUNBQW1DLENBQUNrRCxLQUFLLEVBQUVzSSxZQUFZLENBQUU7SUFDdkcsSUFBSUcsa0JBQWtCLEdBQUcsS0FBSztJQUU5QixJQUFLLENBQUNjLGNBQWMsRUFBRztNQUNuQixJQUFJLENBQUMvTSxPQUFPLENBQUM4TSxjQUFjLENBQUMsRUFBRTtRQUMxQmIsa0JBQWtCLEdBQUcsQ0FBQzNMLG1DQUFtQyxDQUFDd00sY0FBYyxFQUFFdEosS0FBSyxDQUFDO09BQ25GLE1BQU07UUFDSHNKLGNBQWMsR0FBR3RKLEtBQUs7OztJQUk5QkEsS0FBSyxHQUFHLENBQUNBLEtBQUs7SUFDZHNKLGNBQWMsR0FBRyxDQUFDQSxjQUFjO0lBRWhDLElBQUlDLGNBQWMsSUFBSWQsa0JBQWtCLEVBQUU7TUFDdEN0SSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQztNQUMxRG1KLGNBQWMsSUFBSXBKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLEVBQUUzQyxhQUFhLENBQUNNLFVBQVUsQ0FBQztNQUM5RDhLLGtCQUFrQixJQUFJdEksT0FBTyxDQUFDQyxHQUFHLENBQUNrSixjQUFjLEVBQUVqTSxhQUFhLENBQUNPLFdBQVcsQ0FBQztNQUM1RSxPQUFPLElBQUk7O0lBR2YsT0FBT00sS0FBSSxDQUFDc0wsaUJBQWlCLENBQUN4SixLQUFLLEVBQUVzSixjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFFNUQsQ0FBQztFQUlEO0VBQ0E7RUFDUSxLQUFBRSxpQkFBaUIsR0FBRyxVQUFDeEosS0FBSyxFQUFFc0osY0FBYyxFQUFFSSxTQUFTLEVBQUk7SUFJekQsSUFBRXpMLGdCQUFnQixHQUFLQyxLQUFJLENBQXpCRCxnQkFBZ0I7TUFBQTBMLHNCQUFBLEdBUWR6TCxLQUFJLENBQUNELGdCQUFnQixDQUFDVSxXQUFXLENBQUNKLE9BQU87TUFKekNzRSxRQUFRLEdBQUE4RyxzQkFBQSxDQUFSOUcsUUFBUTtNQUNSQyxjQUFjLEdBQUE2RyxzQkFBQSxDQUFkN0csY0FBYztNQUNkbEQsWUFBWSxHQUFBK0osc0JBQUEsQ0FBWi9KLFlBQVk7TUFJaEJ2Qix3QkFBd0IsR0FBR0osZ0JBQWdCLENBQUNLLDJCQUEyQixDQUFDQyxPQUFPO01BSTNFcUcsa0JBQWtCLEdBR2xCdkcsd0JBQXdCLENBSHhCdUcsa0JBQWtCO01BQ2xCOUYsZ0JBQWdCLEdBRWhCVCx3QkFBd0IsQ0FGeEJTLGdCQUFnQjtNQU1Qd0osWUFBWSxHQUlyQnhKLGdCQUFnQixDQUpoQkssUUFBUTtNQUNSeUssVUFBVSxHQUdWOUssZ0JBQWdCLENBSGhCOEssVUFBVTtNQUNMaEIsUUFBUSxHQUViOUosZ0JBQWdCLENBRmhCbUIsSUFBSTtNQU1LNEosY0FBYyxHQU12QmpGLGtCQUFrQixDQU5sQnpGLFFBQVE7TUFDRTJLLGVBQWUsR0FLekJsRixrQkFBa0IsQ0FMbEJ2RixTQUFTO01BQ0owSyxVQUFVLEdBSWZuRixrQkFBa0IsQ0FKbEIzRSxJQUFJO01BQ1crSixVQUFVLEdBR3pCcEYsa0JBQWtCLENBSGxCcUYsY0FBYztNQUNkQyxnQkFBZ0IsR0FFaEJ0RixrQkFBa0IsQ0FGbEJzRixnQkFBZ0I7SUFJeEI7SUFDQSxJQUFJdEIsUUFBUSxFQUFFNUksS0FBSyxHQUFHMEIsSUFBSSxDQUFDQyxHQUFHLENBQUMyRyxZQUFZLEVBQUN0SSxLQUFLLENBQUM7SUFFbEQ7SUFDQTtJQUVBO0lBRUEsSUFBSTRJLFFBQVEsSUFBSSxDQUFDLEVBQUU7TUFFZixJQUFJYyxTQUFTLEdBQUcsQ0FBQyxFQUFFO1FBRWZ4TCxLQUFJLENBQUNWLFlBQVksQ0FBQyxDQUFDd0MsS0FBSyxFQUFDc0osY0FBYyxDQUFDLENBQUM7UUFFekMsSUFBTWEsWUFBVyxHQUFHLEVBQUU7UUFFdEIsS0FBSyxJQUFJclIsQ0FBQyxHQUFHa0gsS0FBSyxFQUFFbEgsQ0FBQyxJQUFFd1EsY0FBYyxFQUFFeFEsQ0FBQyxFQUFFLEVBQUU7VUFDeENxUixZQUFXLENBQUN4UCxJQUFJLENBQUM3QixDQUFDLENBQUM7O1FBR3ZCLE9BQU8sQ0FBQyxFQUFFLEVBQUNxUixZQUFXLEVBQUMsRUFBRSxDQUFDO09BRTdCLE1BQU07UUFFSCxPQUFPLENBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUM7OztJQUl6QixJQUFBQyxxQkFBQSxHQUNJdkgsUUFBUSxDQUFDMkcsaUJBQWlCLENBQUN4SixLQUFLLEVBQUVzSixjQUFjLEVBQUVJLFNBQVMsRUFBRWQsUUFBUSxDQUFDO01BQUF5QixzQkFBQSxHQUFBelIsY0FBQSxDQUFBd1IscUJBQUE7TUFEbkVFLGdCQUFnQixHQUFBRCxzQkFBQTtNQUFFRSxjQUFjLEdBQUFGLHNCQUFBO01BQUVHLFdBQVcsR0FBQUgsc0JBQUE7TUFBRUksV0FBVyxHQUFBSixzQkFBQTtNQUFFRixXQUFXLEdBQUFFLHNCQUFBO01BQUVoRCxpQ0FBaUMsR0FBQWdELHNCQUFBO0lBR2pILElBQUlFLGNBQWMsS0FBSyxJQUFJLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLEVBQUM7SUFFL0M7SUFDQTFILFFBQVEsQ0FBQ3dFLGlDQUFpQyxHQUFHQSxpQ0FBaUM7SUFFOUU7SUFFQTtJQUNBLElBQ0lxRCxXQUFXLEdBQUdILGNBQWM7TUFBRTtNQUM5QjVILFdBQVcsR0FBR3pFLEtBQUksQ0FBQ3lNLFdBQVcsR0FBRy9CLFFBQVEsR0FBRzhCLFdBQVc7TUFFdkRFLHdCQUF3QixHQUFHVixnQkFBZ0IsR0FBSUYsVUFBVSxHQUFHLENBQUU7TUFDOURhLHlCQUF5QixHQUFHRCx3QkFBd0IsR0FBR2hCLFVBQVU7TUFFakVrQix1QkFBdUIsR0FBSWYsVUFBVSxJQUFJLENBQUMsR0FBRSxDQUFDLEdBQUNELGVBQWUsR0FBR0QsY0FBYyxHQUFHLENBQUM7TUFFbEZrQixXQUFXLEdBQUtELHVCQUF1QixHQUFHRCx5QkFBeUIsSUFDOURmLGVBQWUsSUFBS25ILFdBQVcsR0FBRyxDQUFJO0lBRS9DLElBQUksQ0FBQ29JLFdBQVcsRUFBRTtNQUFFO01BRWhCakksY0FBYyxDQUFDa0csK0JBQStCLENBQUN3QixXQUFXLEVBQUVkLFNBQVMsRUFBRVksZ0JBQWdCLENBQUMsRUFBQztNQUV6RixJQUFRckIsT0FBTyxHQUFLbkcsY0FBYyxDQUExQm1HLE9BQU87TUFFZjtNQUNBLElBQU0rQixZQUFZLEdBQUduSSxRQUFRLENBQUNtSSxZQUFZO01BRTFDLElBQU1DLE9BQU8sR0FBR0MsV0FBVyxDQUFDLFlBQUs7UUFFN0IsSUFBRyxDQUFDRixZQUFZLENBQUMvSyxJQUFJLEVBQUU7VUFBRTtVQUVyQmtMLGFBQWEsQ0FBQ0YsT0FBTyxDQUFDO1VBRXRCaEMsT0FBTyxDQUFDQyxtQkFBbUIsR0FBR0QsT0FBTyxDQUFDRSxxQkFBcUIsQ0FBQ3pQLEtBQUssQ0FBQyxDQUFDLEVBQUN1UCxPQUFPLENBQUNDLG1CQUFtQixDQUFDbFAsTUFBTSxDQUFDO1VBQ3ZHaVAsT0FBTyxDQUFDRyxtQkFBbUIsR0FBR0gsT0FBTyxDQUFDRSxxQkFBcUIsQ0FBQ3pQLEtBQUssQ0FBQ3VQLE9BQU8sQ0FBQ0MsbUJBQW1CLENBQUNsUCxNQUFNLENBQUM7VUFFckc0RixZQUFZLENBQUNHLGNBQWMsQ0FBQywwQkFBMEIsQ0FBQzs7TUFHL0QsQ0FBQyxFQUFFLEdBQUcsQ0FBQztLQUVWLE1BQU07TUFBRTtNQUVMSCxZQUFZLENBQUNHLGNBQWMsQ0FBQyxxQ0FBcUMsQ0FBQzs7SUFJdEUsSUFBTXFMLFlBQVksR0FBR2pCLFdBQVcsRUFBQztJQUVqQyxPQUFPLENBQUNLLFdBQVcsRUFBRVksWUFBWSxFQUFFWCxXQUFXLENBQUMsRUFBQztFQUVwRCxDQUFDOztFQXZwQ0UsSUFBSSxDQUFDeE0sZ0JBQWdCLEdBQUdBLGdCQUFnQjtFQUV4QztFQUNBLElBQUFvTixxQkFBQSxHQWFJcE4sZ0JBQWdCLENBQUNxTixvQkFBb0IsQ0FBQy9NLE9BQU87SUFWN0NnTixzQkFBc0IsR0FBQUYscUJBQUEsQ0FBdEJFLHNCQUFzQjtJQUN0QkMsb0JBQW9CLEdBQUFILHFCQUFBLENBQXBCRyxvQkFBb0I7SUFDcEJ6SSxrQkFBa0IsR0FBQXNJLHFCQUFBLENBQWxCdEksa0JBQWtCO0lBQ2xCMEksc0JBQXNCLEdBQUFKLHFCQUFBLENBQXRCSSxzQkFBc0I7SUFDdEJDLHVCQUF1QixHQUFBTCxxQkFBQSxDQUF2QkssdUJBQXVCO0lBQ3ZCQyxxQkFBcUIsR0FBQU4scUJBQUEsQ0FBckJNLHFCQUFxQjtJQUNyQkMseUJBQXlCLEdBQUFQLHFCQUFBLENBQXpCTyx5QkFBeUI7SUFDekJDLDBCQUEwQixHQUFBUixxQkFBQSxDQUExQlEsMEJBQTBCO0lBQzFCNU0sZ0JBQWdCLEdBQUFvTSxxQkFBQSxDQUFoQnBNLGdCQUFnQjtJQUlwQmIsU0FBUyxHQUFHO01BQ1JtTixzQkFBc0IsRUFBdEJBLHNCQUFzQjtNQUN0QkMsb0JBQW9CLEVBQXBCQSxvQkFBb0I7TUFDcEJ6SSxrQkFBa0IsRUFBbEJBLGtCQUFrQjtNQUNsQjBJLHNCQUFzQixFQUF0QkEsc0JBQXNCO01BQ3RCQyx1QkFBdUIsRUFBdkJBLHVCQUF1QjtNQUN2QkMscUJBQXFCLEVBQXJCQSxxQkFBcUI7TUFDckJDLHlCQUF5QixFQUF6QkEseUJBQXlCO01BQ3pCQywwQkFBMEIsRUFBMUJBLDBCQUEwQjtNQUMxQjVNLGdCQUFnQixFQUFoQkE7S0FDSDtFQUVELElBQUksQ0FBQ2IsU0FBUyxHQUFHQSxTQUFTO0FBRTdCLENBQUM7QUFwQ0wwTixrQkFBQSxHQUFBOU4sY0FBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3NlcnZpY2VoYW5kbGVyLnRzeD85Y2IwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNlcnZpY2VoYW5kbGVyLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBmaWVsZHMgc2VydmljZSByZXF1ZXN0cyBmcm9tIHRoZSBob3N0LiBUaGVyZSBhcmUgdHdvIGZvcm1zXG4gICAgLSBzdHJlYW1pbmcgZnJvbSB0aGUgc2Nyb2xsZXIgdG8gdGhlIGhvc3RcbiAgICAtIGZ1bmN0aW9uIGNhbGxzIGZyb20gdGhlIHVzZXIgdG8gdGhlIHNjcm9sbGVyXG5cbiAgICBGb3IgdGhlIGxpc3Qgb2YgZGF0YSBzdHJlYW1zLCBzZWUgdGhlIGNvbnN0cnVjdG9yLlxuXG4gICAgVGhlIGZ1bmN0aW9uIGNhbGxzIGF2YWlhYmxlIHRvIHRoZSBob3N0IGFyZTpcblxuICAgICAgICBzY3JvbGxUb0luZGV4LCBcbiAgICAgICAgc2Nyb2xsVG9QaXhlbCxcbiAgICAgICAgc2Nyb2xsQnlQaXhlbCxcbiAgICAgICAgcmVsb2FkLCBcbiAgICAgICAgc2V0TGlzdHNpemUsICpkZXByZWN0YXRlZCogZm9yIHByb3BlciBjYW1lbCBjYXNlXG4gICAgICAgIHNldExpc3RTaXplLFxuICAgICAgICBzZXRMaXN0UmFuZ2UsXG4gICAgICAgIHByZXBlbmRJbmRleENvdW50LFxuICAgICAgICBhcHBlbmRJbmRleENvdW50LFxuICAgICAgICBjbGVhckNhY2hlLCBcblxuICAgICAgICBnZXRDYWNoZUluZGV4TWFwLCBcbiAgICAgICAgZ2V0Q2FjaGVJdGVtTWFwLFxuICAgICAgICBnZXRDcmFkbGVJbmRleE1hcCxcbiAgICAgICAgZ2V0UHJvcGVydGllc1NuYXBzaG90LFxuXG4gICAgICAgIGluc2VydEluZGV4LFxuICAgICAgICByZW1vdmVJbmRleCxcbiAgICAgICAgbW92ZUluZGV4LFxuICAgICAgICByZW1hcEluZGV4ZXMsXG4gICAgXG4gICAgVGhlIGZ1bmN0aW9ucyBsaXN0ZWQgYXJlIGRlZmluZWQgaW4gdGhpcyBtb2R1bGUuXG5cbiAgICBUaGVyZSBhcmUgaW1wb3J0YW50IHN1cHBvcnRpbmcgZnVuY3Rpb25zIGZvciB0aGVzZSBpbiBjYWNoZUFQSSBhbmQgY29udGVudEhhbmRsZXIuIHN0YXRlSGFuZGxlciBpc1xuICAgIG9mdGVuIGludm9rZWQgYnkgc2VydmljZSBmdW5jdGlvbnMgdG8gY2hhbmdlIENyYWRsZSBzdGF0ZSB1cG9uIHNlcnZpY2luZyByZXF1ZXN0cy5cbiovXG5cbmNvbnN0IGlzQmxhbmsgPSAodmFsdWU6YW55KSA9PiB7XG4gICAgY29uc3QgdGVzdHZhbHVlID0gdmFsdWUgPz8gJydcbiAgICByZXR1cm4gdGVzdHZhbHVlID09PSAnJ1xufVxuXG5jb25zdCBpc051bWJlciA9ICh2YWx1ZTphbnkpID0+IHtcblxuICAgIHJldHVybiAoIFxuICAgICAgICAoIWlzTmFOKE51bWJlcih2YWx1ZSkpKSAmJiBcbiAgICAgICAgKCFpc05hTihwYXJzZUludCh2YWx1ZSkpKSBcbiAgICApXG5cbn1cblxuY29uc3QgaXNJbnRlZ2VyID0gKHZhbHVlOmFueSkgPT4ge1xuXG4gICAgY29uc3QgdGVzdCA9ICt2YWx1ZVxuXG4gICAgLy8gcmV0dXJuIChpc051bWJlcih2YWx1ZSkgJiYgKE1hdGguZmxvb3IodGVzdCkgPT0gdGVzdCkpXG4gICAgcmV0dXJuIChOdW1iZXIuaXNJbnRlZ2VyKHRlc3QpKVxuXG59XG5cbmNvbnN0IGlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlID0gKGNvbXBhcmVWYWx1ZTphbnksIG1pblZhbHVlOmFueSkgPT4ge1xuXG4gICAgaWYgKCFpc0ludGVnZXIoY29tcGFyZVZhbHVlKSB8fCAhaXNJbnRlZ2VyKG1pblZhbHVlKSkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCB0ZXN0dmFsdWUgPSArY29tcGFyZVZhbHVlXG4gICAgY29uc3QgdGVzdE1pblZhbHVlID0gK21pblZhbHVlXG5cbiAgICByZXR1cm4gdGVzdHZhbHVlID49IHRlc3RNaW5WYWx1ZVxuXG59XG5cbmNvbnN0IGlzVmFsdWVMZXNzVGhhblRvT3JFcXVhbFRvTWF4VmFsdWUgPSAoY29tcGFyZVZhbHVlOmFueSwgbWF4VmFsdWU6YW55KSA9PiB7XG5cbiAgICBpZiAoIWlzSW50ZWdlcihjb21wYXJlVmFsdWUpIHx8ICFpc0ludGVnZXIobWF4VmFsdWUpKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IHRlc3R2YWx1ZSA9ICtjb21wYXJlVmFsdWVcbiAgICBjb25zdCB0ZXN0TWF4VmFsdWUgPSArbWF4VmFsdWVcblxuICAgIHJldHVybiB0ZXN0dmFsdWUgPD0gdGVzdE1heFZhbHVlXG5cbn1cblxuY29uc3QgZXJyb3JNZXNzYWdlcyA9IHtcbiAgICBzY3JvbGxUb0luZGV4OidpbnRlZ2VyOiByZXF1aXJlZCwgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGxvdyBpbmRleCcsXG4gICAgc2V0TGlzdFNpemU6J2ludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCcsXG4gICAgc2V0TGlzdFJhbmdlOidhcnJheVtsb3dpbmRleCxoaWdoaW5kZXhdOiByZXF1aXJlZCwgYm90aCBpbnRlZ2VycywgaGlnaGluZGV4IGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3dpbmRleCcsXG4gICAgaW5zZXJ0RnJvbTonaW5zZXJ0RnJvbSAtIGludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbG93IGluZGV4JyxcbiAgICBpbnNlcnRSYW5nZTonaW5zZXJ0UmFuZ2UgLSBibGFuaywgb3IgaW50ZWdlciBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIFwiZnJvbVwiIGluZGV4JyxcbiAgICByZW1vdmVGcm9tOidyZW1vdmVGcm9tIC0gaW50ZWdlcjogcmVxdWlyZWQsIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3cgaW5kZXgnLFxuICAgIHJlbW92ZVJhbmdlOidyZW1vdmVSYW5nZSAtIGJsYW5rLCBvciBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgXCJmcm9tXCIgaW5kZXgnLFxuICAgIG1vdmVGcm9tOidtb3ZlRnJvbSAtIGludGVnZXI6IHJlcXVpcmVkLCBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbG93IGluZGV4JyxcbiAgICBtb3ZlUmFuZ2U6J21vdmVSYW5nZSAtIGJsYW5rLCBvciBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgXCJmcm9tXCIgaW5kZXgnLFxuICAgIG1vdmVUbzonbW92ZVRvIC0gaW50ZWdlcjogcmVxdWlyZWQsIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBsb3cgaW5kZXgnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihjcmFkbGVQYXJhbWV0ZXJzKSB7XG5cbiAgICAgICB0aGlzLmNyYWRsZVBhcmFtZXRlcnMgPSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAgICAvLyBkb2luZyB0aGlzIGV4cGxpY2l0bHkgaGVyZSBmb3IgZG9jdW1lbnRhdGlvblxuICAgICAgIGNvbnN0IFxuXG4gICAgICAge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLCAvLyAoaW5kZXgsIGxvY2F0aW9uLCBjcmFkbGVTdGF0ZSlcbiAgICAgICAgICAgcHJlbG9hZEluZGV4Q2FsbGJhY2ssIC8vIChpbmRleClcbiAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrLCAvLyAocmVhc29uLCBkZWxldGVMaXN0KVxuICAgICAgICAgICBjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrLCAvLyAobmV3bGlzdHNpemUpXG4gICAgICAgICAgIGNoYW5nZUxpc3RSYW5nZUNhbGxiYWNrLCAvLyAobGlzdHJhbmdlKSB0d28gcGFydCBhcnJheSBsb3dpbmRleCwgaGlnaGluZGV4IFxuICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2ssIC8vIChpbmRleCwgaXRlbUlELCByZXR1cm52YWx1ZSwgbG9jYXRpb24sIGVycm9yKVxuICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrLCAvLyAoZmxhZykgLSBub3RpZmljYXRpb24gb2Ygc3RhcnQgKHRydWUpIG9yIGVuZCAoZmFsc2UpIG9mIHJhcGlkIHJlcG9zaXRpb25pbmdcbiAgICAgICAgICAgcmVwb3NpdGlvbmluZ0luZGV4Q2FsbGJhY2ssIC8vIChpbmRleCkgLSBjdXJyZW50IHZpcnR1YWwgaW5kZXggbnVtYmVyIGR1cmluZyByYXBpZCByZXBvc2l0aW9uaW5nXG4gICAgICAgICAgIGJvdW5kYXJ5Q2FsbGJhY2ssIC8vIChwb3NpdGlvbiwgaW5kZXgpIC0gcG9zaXRpb24gaXMgXCJTT0xcIiBvciBcIkVPTFwiLCBpbmRleCBpcyB0aGUgY29ycmVzcG9uZGluZyBib3VuZGFyeSBpbmRleFxuICAgICAgICAgICBcbiAgICAgICB9ID0gY3JhZGxlUGFyYW1ldGVycy5leHRlcm5hbENhbGxiYWNrc1JlZi5jdXJyZW50LFxuXG4gICAgICAgY2FsbGJhY2tzID0ge1xuICAgICAgICAgICByZWZlcmVuY2VJbmRleENhbGxiYWNrLFxuICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrLFxuICAgICAgICAgICBjaGFuZ2VMaXN0U2l6ZUNhbGxiYWNrLFxuICAgICAgICAgICBjaGFuZ2VMaXN0UmFuZ2VDYWxsYmFjayxcbiAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrLFxuICAgICAgICAgICByZXBvc2l0aW9uaW5nRmxhZ0NhbGxiYWNrLFxuICAgICAgICAgICByZXBvc2l0aW9uaW5nSW5kZXhDYWxsYmFjayxcbiAgICAgICAgICAgYm91bmRhcnlDYWxsYmFjayxcbiAgICAgICB9XG5cbiAgICAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICAvLyBzZWUgYWJvdmUgZm9yIGxpc3RcbiAgICBwdWJsaWMgY2FsbGJhY2tzXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVsgQk9VTkRBUlkgVFJJR0dFUlMgXT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIGNhbGxlZCBieSBDcmFkbGUgJ3RyaWdnZXJib3VuZGFyeW5vdGljYXRpb25zJyBzdGF0ZVxuICAgIHB1YmxpYyB0cmlnZ2VyQm91bmRhcnlDYWxsYmFja3MgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgY3JhZGxlUGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NcblxuICAgICAgICAgICAgfSA9IHRoaXMsXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgeyBsYXlvdXRIYW5kbGVyLCBzZXJ2aWNlSGFuZGxlciB9ID0gY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG4gICAgICAgICAgICB7IGdldEV4cGFuc2lvbkNvdW50IH0gPSBjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzXG5cbiAgICAgICAgaWYgKGxheW91dEhhbmRsZXIuYm91bmRhcnlOb3RpZmljYXRpb25zUmVxdWlyZWQoKSkge1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzLmJvdW5kYXJ5Q2FsbGJhY2spIHtcblxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXRIYW5kbGVyLlNPTFNpZ25hbCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MuYm91bmRhcnlDYWxsYmFjaygnU09MJywgdmlydHVhbExpc3RQcm9wcy5sb3dpbmRleClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxheW91dEhhbmRsZXIuRU9MU2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5ib3VuZGFyeUNhbGxiYWNrKCdFT0wnLCB2aXJ0dWFsTGlzdFByb3BzLmhpZ2hpbmRleClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGdldEV4cGFuc2lvbkNvdW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxheW91dEhhbmRsZXIuU09MU2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmVwZW5kID0gZ2V0RXhwYW5zaW9uQ291bnQoJ1NPTCcsIHZpcnR1YWxMaXN0UHJvcHMubG93aW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIHByZXBlbmQgPSArcHJlcGVuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHByZXBlbmQpICYmIHByZXBlbmQgPiAwICYmIE51bWJlci5pc0ludGVnZXIocHJlcGVuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VIYW5kbGVyLnByZXBlbmRJbmRleENvdW50KHByZXBlbmQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxheW91dEhhbmRsZXIuRU9MU2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhcHBlbmQgPSBnZXRFeHBhbnNpb25Db3VudCgnRU9MJywgdmlydHVhbExpc3RQcm9wcy5oaWdoaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZCA9ICthcHBlbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihhcHBlbmQpICYmIGFwcGVuZCA+IDAgJiYgTnVtYmVyLmlzSW50ZWdlcihhcHBlbmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSGFuZGxlci5hcHBlbmRJbmRleENvdW50KGFwcGVuZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGF5b3V0SGFuZGxlci5jYW5jZWxCb3VuZGFyeU5vdGlmaWNhdGlvbnMoKVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PVsgR0VORVJBTCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IHN0YXRlSGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCB7IGludGVycnVwdEhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgaW50ZXJydXB0SGFuZGxlci5wYXVzZUludGVycnVwdHMoKVxuXG4gICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgncmVsb2FkJylcblxuICAgIH1cblxuICAgIHB1YmxpYyBzY3JvbGxUb0luZGV4ID0gKGluZGV4KSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG5cbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgbG93aW5kZXgsIHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBpZiAoIXNpemUpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9ICghaXNJbnRlZ2VyKGluZGV4KSkgLy98fCBcblxuICAgICAgICBpZiAoIWlzSW52YWxpZCkge1xuXG4gICAgICAgICAgICBpZiAoIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKGluZGV4LCBsb3dpbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGxvd2luZGV4XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4ID0gK2luZGV4XG5cbiAgICAgICAgaWYgKGlzSW52YWxpZCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBzY3JvbGxUb0luZGV4KGluZGV4KSk6JywgaW5kZXgsIGVycm9yTWVzc2FnZXMuc2Nyb2xsVG9JbmRleClcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdFxuXG4gICAgICAgICAgICBoYW5kbGVycyA9IGNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgaW50ZXJydXB0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBsYXlvdXRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHN0YXRlSGFuZGxlclxuXG4gICAgICAgICAgICB9ID0gaGFuZGxlcnMsXG5cbiAgICAgICAgICAgIHsgc2lnbmFscyB9ID0gaW50ZXJydXB0SGFuZGxlclxuXG4gICAgICAgIHNpZ25hbHMucGF1c2VTY3JvbGxpbmdFZmZlY3RzID0gdHJ1ZVxuXG4gICAgICAgIGxheW91dEhhbmRsZXIuY3JhZGxlUG9zaXRpb25EYXRhLnRhcmdldEF4aXNSZWZlcmVuY2VQb3NpdGlvbiA9IGluZGV4IC0gbG93aW5kZXhcblxuICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3Njcm9sbHRvJylcblxuICAgIH1cblxuICAgIHB1YmxpYyBzY3JvbGxUb1BpeGVsID0gKHBpeGVsLCBiZWhhdmlvciA9ICdzbW9vdGgnKSA9PiB7XG5cbiAgICAgICAgaWYgKCFbJ3Ntb290aCcsJ2luc3RhbnQnLCdhdXRvJ10uaW5jbHVkZXMoYmVoYXZpb3IpKSB7XG4gICAgICAgICAgICBiZWhhdmlvciA9ICdzbW9vdGgnXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShpc0ludGVnZXIocGl4ZWwpICYmIGlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKHBpeGVsLDApKSkge1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgcGl4ZWwgPSArcGl4ZWxcblxuICAgICAgICBjb25zdFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IGNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG5cbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyBvcmllbnRhdGlvbiB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tMZW5ndGggPSBcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0V2lkdGgsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuXG4gICAgICAgICAgICBwaXhlbHRhcmdldCA9IE1hdGgubWF4KE1hdGgubWluKHBpeGVsLCBzY3JvbGxibG9ja0xlbmd0aCAtIHZpZXdwb3J0TGVuZ3RoKSwwKVxuXG4gICAgICAgIGxldCB0b3AsIGxlZnRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICB0b3AgPSBwaXhlbHRhcmdldFxuICAgICAgICAgICAgbGVmdCA9IHZpZXdwb3J0RWxlbWVudC5zY3JvbGxMZWZ0XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGVmdCA9IHBpeGVsdGFyZ2V0XG4gICAgICAgICAgICB0b3AgPSB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgdG9wOnRvcCxcbiAgICAgICAgICAgIGxlZnQ6bGVmdCxcbiAgICAgICAgICAgIGJlaGF2aW9yOmJlaGF2aW9yLFxuICAgICAgICB9XG5cbiAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbChvcHRpb25zKVxuXG4gICAgfVxuXG4gICAgcHVibGljIHNjcm9sbEJ5UGl4ZWwgPSAocGl4ZWwsIGJlaGF2aW9yID0gJ3Ntb290aCcpID0+IHtcblxuICAgICAgICBpZiAoIVsnc21vb3RoJywnaW5zdGFudCcsJ2F1dG8nXS5pbmNsdWRlcyhiZWhhdmlvcikpIHtcbiAgICAgICAgICAgIGJlaGF2aW9yID0gJ3Ntb290aCdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNJbnRlZ2VyKHBpeGVsKSkge1xuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgcGl4ZWwgPSArcGl4ZWxcblxuICAgICAgICBpZiAocGl4ZWwgPT0gMCkgcmV0dXJuIC8vIG5vdGhpbmcgdG8gZG9cblxuICAgICAgICBjb25zdFxuXG4gICAgICAgICAgICB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudCA9IGNyYWRsZVBhcmFtZXRlcnMuVmlld3BvcnRDb250ZXh0UHJvcGVydGllc1JlZi5jdXJyZW50LmVsZW1lbnRSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tFbGVtZW50ID0gdmlld3BvcnRFbGVtZW50LmZpcnN0Q2hpbGQsXG5cbiAgICAgICAgICAgIGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyBvcmllbnRhdGlvbiB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcblxuICAgICAgICAgICAgc2Nyb2xsYmxvY2tMZW5ndGggPSBcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0SGVpZ2h0OlxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxibG9ja0VsZW1lbnQub2Zmc2V0V2lkdGgsXG5cbiAgICAgICAgICAgIHZpZXdwb3J0TGVuZ3RoID0gXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJz9cbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50Lm9mZnNldFdpZHRoLFxuXG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9PSAndmVydGljYWwnP1xuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wOlxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxibG9ja0xlbmd0aCwgdmlld3BvcnRMZW5ndGgsIHNjcm9sbE9mZnNldFxcbicsXG4gICAgICAgIC8vICAgICBzY3JvbGxibG9ja0xlbmd0aCwgdmlld3BvcnRMZW5ndGgsIHNjcm9sbE9mZnNldClcblxuICAgICAgICBsZXQgcGl4ZWxtb3ZlbWVudCwgXG4gICAgICAgICAgICBwaXhlbG1heCwgcGl4ZWxvdmVyc2hvb3QsIFxuICAgICAgICAgICAgcGl4ZWx1bmRlcnNob290XG5cbiAgICAgICAgaWYgKHBpeGVsID4gMCkgeyAvLyBzY3JvbGwgZG93biAoaW5jcmVhc2Ugc2Nyb2xsT2Zmc2V0KVxuXG4gICAgICAgICAgICBwaXhlbG1heCA9IHNjcm9sbGJsb2NrTGVuZ3RoIC0gdmlld3BvcnRMZW5ndGhcbiAgICAgICAgICAgIHBpeGVsb3ZlcnNob290ID0gTWF0aC5tYXgoKHBpeGVsICsgc2Nyb2xsT2Zmc2V0KSAtIHBpeGVsbWF4LDApXG4gICAgICAgICAgICBwaXhlbG1vdmVtZW50ID0gcGl4ZWwgLSBwaXhlbG92ZXJzaG9vdFxuXG4gICAgICAgIH0gZWxzZSB7IC8vIHNjcm9sbCB1cCAoZGVjcmVhc2Ugc2Nyb2xsT2Zmc2V0KVxuXG4gICAgICAgICAgICBwaXhlbHVuZGVyc2hvb3QgPSBNYXRoLm1pbihwaXhlbCArIHNjcm9sbE9mZnNldCwwKVxuICAgICAgICAgICAgcGl4ZWxtb3ZlbWVudCA9IHBpeGVsIC0gcGl4ZWx1bmRlcnNob290XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwaXhlbG1vdmVtZW50IDo6IHBpeGVsbWF4LCBwaXhlbG92ZXJzaG9vdCA6OiBwaXhlbHVuZGVyc2hvb3RcXG4nLFxuICAgICAgICAvLyAgICAgcGl4ZWxtb3ZlbWVudCwgcGl4ZWxtYXgsIHBpeGVsb3ZlcnNob290LCBwaXhlbHVuZGVyc2hvb3QpXG5cbiAgICAgICAgbGV0IHRvcCwgbGVmdFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHRvcCA9IHBpeGVsbW92ZW1lbnRcbiAgICAgICAgICAgIGxlZnQgPSAwXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGVmdCA9IHBpeGVsbW92ZW1lbnRcbiAgICAgICAgICAgIHRvcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgYmVoYXZpb3IsXG4gICAgICAgIH1cblxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsQnkob3B0aW9ucylcbiAgICAgICAgXG4gICAgfVxuXG4gICAgLy8gZGVwcmVjYXRlZCAoY2FtZWwgY2FzZSlcbiAgICBwdWJsaWMgc2V0TGlzdHNpemUgPSAobmV3bGlzdHNpemUpID0+IHsgLy8gKmRlcHJlY2F0ZWQqIChmb3IgY2FtZWwgY2FzZSlcblxuICAgICAgICB0aGlzLnNldExpc3RTaXplKG5ld2xpc3RzaXplKVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TGlzdFNpemUgPSAobmV3bGlzdHNpemUpID0+IHtcblxuICAgICAgICBuZXdsaXN0c2l6ZSA9ICtuZXdsaXN0c2l6ZVxuXG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9ICghaXNJbnRlZ2VyKG5ld2xpc3RzaXplKSB8fCAhaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUobmV3bGlzdHNpemUsIDApKVxuXG4gICAgICAgIGlmIChpc0ludmFsaWQpIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JJR1MgRVJST1Igc2V0TGlzdFNpemUobmV3bGlzdHNpemUpJywgbmV3bGlzdHNpemUsIGVycm9yTWVzc2FnZXMuc2V0TGlzdFNpemUpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEksIFxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIgXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaywgXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNhbGxiYWNrcyxcblxuICAgICAgICAgICAgY3VycmVudGxpc3RzaXplID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LnZpcnR1YWxMaXN0UHJvcHMuc2l6ZSxcblxuICAgICAgICAgICAgeyBjYWNoZSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIGxldCBkTGlzdENhbGxiYWNrXG4gICAgICAgIGlmIChkZWxldGVMaXN0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgIGRMaXN0Q2FsbGJhY2sgPSAoZGVsZXRlTGlzdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlTGlzdENhbGxiYWNrKCdjaGFuZ2UgbGlzdCBzaXplIGludGVydmVudGlvbicsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50SGFuZGxlci51cGRhdGVWaXJ0dWFsTGlzdFNpemUobmV3bGlzdHNpemUpXG4gICAgICAgIGNhY2hlQVBJLmNoYW5nZUNhY2hlTGlzdFNpemUobmV3bGlzdHNpemUsIGRMaXN0Q2FsbGJhY2spXG5cbiAgICAgICAgY2FjaGVBUEkucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG4gICAgICAgIGlmICgoY2FjaGUgPT0gJ3ByZWxvYWQnKSAmJiAobmV3bGlzdHNpemUgPiBjdXJyZW50bGlzdHNpemUpKSB7XG5cbiAgICAgICAgICAgIHN0YXRlSGFuZGxlci5zZXRDcmFkbGVTdGF0ZSgnc3RhcnRwcmVsb2FkJylcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TGlzdFJhbmdlID0gKG5ld2xpc3RyYW5nZSkgPT4ge1xuXG4gICAgICAgIGxldCBpc0ludmFsaWQgPSAhQXJyYXkuaXNBcnJheShuZXdsaXN0cmFuZ2UpXG5cbiAgICAgICAgaWYgKCFpc0ludmFsaWQpIHtcblxuICAgICAgICAgICAgaXNJbnZhbGlkID0gIShuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDAgfHwgbmV3bGlzdHJhbmdlLmxlbmd0aCA9PSAyKVxuXG4gICAgICAgICAgICBpZiAoIWlzSW52YWxpZCAmJiAobmV3bGlzdHJhbmdlLmxlbmd0aCA9PSAyKSkge1xuXG4gICAgICAgICAgICAgICAgbGV0IFtsb3dpbmRleCxoaWdoaW5kZXhdID0gbmV3bGlzdHJhbmdlXG5cbiAgICAgICAgICAgICAgICBsb3dpbmRleCA9ICtsb3dpbmRleFxuICAgICAgICAgICAgICAgIGhpZ2hpbmRleCA9ICtoaWdoaW5kZXhcblxuICAgICAgICAgICAgICAgIGlzSW52YWxpZCA9ICgoIWlzSW50ZWdlcihsb3dpbmRleCkpIHx8ICghaXNJbnRlZ2VyKGhpZ2hpbmRleCkpIHx8ICghaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUoaGlnaGluZGV4LCBsb3dpbmRleCkpKVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0ludmFsaWQpIG5ld2xpc3RyYW5nZSA9IFtsb3dpbmRleCxoaWdoaW5kZXhdXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSW52YWxpZCkge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBzZXRMaXN0UmFuZ2UobmV3bGlzdHJhbmdlKScsIG5ld2xpc3RyYW5nZSwgZXJyb3JNZXNzYWdlcy5zZXRMaXN0UmFuZ2UpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICB7IFxuXG4gICAgICAgICAgICAgICAgY2FjaGVBUEksIFxuICAgICAgICAgICAgICAgIGNvbnRlbnRIYW5kbGVyLCBcbiAgICAgICAgICAgICAgICBzdGF0ZUhhbmRsZXIgXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyBcblxuICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjaywgXG5cbiAgICAgICAgICAgIH0gPSB0aGlzLmNhbGxiYWNrcyxcblxuICAgICAgICAgICAgY3VycmVudGxpc3RyYW5nZSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzLnJhbmdlLFxuXG4gICAgICAgICAgICB7IGNhY2hlIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgbGV0IGRMaXN0Q2FsbGJhY2tcbiAgICAgICAgaWYgKGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgZExpc3RDYWxsYmFjayA9IChkZWxldGVMaXN0KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBkZWxldGVMaXN0Q2FsbGJhY2soJ2NoYW5nZSBsaXN0IHJhbmdlIGludGVydmVudGlvbicsZGVsZXRlTGlzdClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50SGFuZGxlci51cGRhdGVWaXJ0dWFsTGlzdFJhbmdlKG5ld2xpc3RyYW5nZSlcbiAgICAgICAgY2FjaGVBUEkuY2hhbmdlQ2FjaGVMaXN0UmFuZ2UobmV3bGlzdHJhbmdlLCBkTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIGNhY2hlQVBJLnJlbmRlclBvcnRhbExpc3RzKClcblxuXG4gICAgICAgIGlmICgoY2FjaGUgPT0gJ3ByZWxvYWQnKSAmJiBcbiAgICAgICAgICAgIChuZXdsaXN0cmFuZ2UubGVuZ3RoID09IDIpICYmXG4gICAgICAgICAgICAobmV3bGlzdHJhbmdlWzBdIDwgY3VycmVudGxpc3RyYW5nZVswXSB8fCBuZXdsaXN0cmFuZ2VbMV0gPiBjdXJyZW50bGlzdHJhbmdlWzFdKSkge1xuXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ3N0YXJ0cHJlbG9hZCcpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHVibGljIHByZXBlbmRJbmRleENvdW50ID0gKHByZXBlbmRDb3VudCkgPT4ge1xuICAgICAgICBwcmVwZW5kQ291bnQgPSArcHJlcGVuZENvdW50XG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9ICgoIWlzSW50ZWdlcihwcmVwZW5kQ291bnQpKSB8fCAoIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKHByZXBlbmRDb3VudCwgMCkpKVxuICAgICAgICBpZiAoaXNJbnZhbGlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiwgcHJlcGVuZEluZGV4Q291bnQgbXVzdCBiZSBhbiBpbnRlZ2VyID49IDAnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmLmN1cnJlbnRcbiAgICAgICAgY29uc3QgW2xvd2luZGV4LCBoaWdoaW5kZXhdID0gdmlydHVhbExpc3RQcm9wcy5yYW5nZVxuICAgICAgICBjb25zdCB7IHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBsZXQgbmV3bGlzdHJhbmdlXG4gICAgICAgIGlmIChzaXplKSB7XG5cbiAgICAgICAgICAgIG5ld2xpc3RyYW5nZSA9IFtsb3dpbmRleCAtIHByZXBlbmRDb3VudCxoaWdoaW5kZXhdXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbmV3bGlzdHJhbmdlID0gWy1wcmVwZW5kQ291bnQgKyAxLDBdXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0TGlzdFJhbmdlKG5ld2xpc3RyYW5nZSlcbiAgICB9XG5cbiAgICBwdWJsaWMgYXBwZW5kSW5kZXhDb3VudCA9IChhcHBlbmRDb3VudCkgPT4ge1xuICAgICAgICBhcHBlbmRDb3VudCA9ICthcHBlbmRDb3VudFxuICAgICAgICBjb25zdCBpc0ludmFsaWQgPSAoKCFpc0ludGVnZXIoYXBwZW5kQ291bnQpKSB8fCAoIWlzVmFsdWVHcmVhdGVyVGhhbk9yRXF1YWxUb01pblZhbHVlKGFwcGVuZENvdW50LCAwKSkpXG4gICAgICAgIGlmIChpc0ludmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSSUdTIEVSUk9SLCBhcHBlbmRJbmRleENvdW50IG11c3QgYmUgYW4gaW50ZWdlciA+PSAwJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdmlydHVhbExpc3RQcm9wcyB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IFtsb3dpbmRleCwgaGlnaGluZGV4XSA9IHZpcnR1YWxMaXN0UHJvcHMucmFuZ2VcbiAgICAgICAgY29uc3QgeyBzaXplIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgbGV0IG5ld2xpc3RyYW5nZVxuICAgICAgICBpZiAoc2l6ZSkge1xuXG4gICAgICAgICAgICBuZXdsaXN0cmFuZ2UgPSBbbG93aW5kZXgsaGlnaGluZGV4ICsgYXBwZW5kQ291bnRdIFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIG5ld2xpc3RyYW5nZSA9IFswLGFwcGVuZENvdW50IC0gMV1cblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRMaXN0UmFuZ2UobmV3bGlzdHJhbmdlKVxuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVsgR0VUIFNOQVBTSE9UUyBdPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwdWJsaWMgZ2V0Q2FjaGVJbmRleE1hcCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJIH0gPSB0aGlzLmNyYWRsZVBhcmFtZXRlcnMuaGFuZGxlcnNSZWYuY3VycmVudFxuXG4gICAgICAgIHJldHVybiBjYWNoZUFQSS5nZXRDYWNoZUluZGV4TWFwKClcblxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDYWNoZUl0ZW1NYXAgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBjYWNoZUFQSSB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICByZXR1cm4gY2FjaGVBUEkuZ2V0Q2FjaGVJdGVtTWFwKClcblxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDcmFkbGVJbmRleE1hcCA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJLCBjb250ZW50SGFuZGxlciB9ID0gdGhpcy5jcmFkbGVQYXJhbWV0ZXJzLmhhbmRsZXJzUmVmLmN1cnJlbnRcblxuICAgICAgICBjb25zdCBtb2RlbEluZGV4TGlzdCA9IGNvbnRlbnRIYW5kbGVyLmdldE1vZGVsSW5kZXhMaXN0KClcbiAgICAgICAgcmV0dXJuIGNhY2hlQVBJLmdldENyYWRsZUluZGV4TWFwKG1vZGVsSW5kZXhMaXN0KVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQcm9wZXJ0aWVzU25hcHNob3QgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcHJvcHMgPSB7Li4udGhpcy5jcmFkbGVQYXJhbWV0ZXJzLnNjcm9sbGVyUHJvcGVydGllc1JlZi5jdXJyZW50fVxuICAgICAgICBcbiAgICAgICAgcHJvcHMudmlydHVhbExpc3RQcm9wcyA9IHsuLi5wcm9wcy52aXJ0dWFsTGlzdFByb3BzfVxuICAgICAgICBwcm9wcy5jcmFkbGVDb250ZW50UHJvcHMgPSB7Li4ucHJvcHMuY3JhZGxlQ29udGVudFByb3BzfVxuXG4gICAgICAgIHJldHVybiBwcm9wc1xuXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT1bIENBQ0hFIE1BTkFHRU1FTlQgUkVRVUVTVFMgXT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHVibGljIGNsZWFyQ2FjaGUgPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzdGF0ZUhhbmRsZXIgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdjbGVhcmNhY2hlJylcblxuICAgIH1cblxuICAgIC8vIGl0ZW1JRCBzZXQgdG8gbnVsbCBkZWxldGVzIHRoZSBpbmRleGVkIGl0ZW1cbiAgICAvLyBpdGVtSUQgc2V0IHRvIHVuZGVmaW5lZCByZXBsYWNlcyB0aGUgaW5kZXhlZCBpdGVtXG4gICAgLy8gdGhlIG1haW4gcHVycG9zZSBpcyB0byBhbGxvdyBpdGVtc0lEcyB0byBiZSByZW1hcHBlZCB0byBuZXcgaW5kZXhlc1xuICAgIC8vIG9wZXJhdGlvbnMgYXJlIG9uIGV4aXN0aW5nIGNhY2hlIGl0ZW1zIG9ubHlcbiAgICBwdWJsaWMgcmVtYXBJbmRleGVzID0gKGNoYW5nZU1hcCkgPT4geyAvLyBpbmRleCA9PiBpdGVtSURcblxuICAgICAgICBpZiAoY2hhbmdlTWFwLnNpemUgPT0gMCkgcmV0dXJuIFtdIC8vIG5vdGhpbmcgdG8gZG9cblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJLCBjb250ZW50SGFuZGxlciwgc3RhdGVIYW5kbGVyIH0gPSBcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBcblxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLCAvLyBpdGVtSUQgdG8gY29tcG9uZW50IGRhdGEsIGluY2x1ZGluZyBpbmRleFxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcCwgLy8gaW5kZXggdG8gaXRlbUlEXG4gICAgICAgICAgICBpdGVtU2V0LFxuXG4gICAgICAgIH0gPSBjYWNoZUFQSSBcblxuICAgICAgICBjb25zdCBpbmRleGVzVG9EZWxldGVMaXN0ID0gW11cbiAgICAgICAgY29uc3QgaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QgPSBbXVxuICAgICAgICBjb25zdCBwYXJ0aXRpb25JdGVtc1RvUmVwbGFjZUxpc3QgPSBbXVxuICAgICAgICBjb25zdCBjaGFuZ2VJbmRleFRvSXRlbUlETWFwID0gbmV3IE1hcCgpXG4gICAgICAgIGNvbnN0IGVycm9yRW50cmllc01hcCA9IG5ldyBNYXAoKVxuXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PVsgUFJFUEFSRSBdPT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpc29sYXRlIGluZGV4ZXMgZm9yIHdoaWNoIGl0ZW1zIHNob3VsZCBiZSByZXBsYWNlZCBdLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCB3b3JraW5nQ2hhbmdlTWFwID0gbmV3IE1hcCgpXG4gICAgICAgIGNoYW5nZU1hcC5mb3JFYWNoKChpdGVtSUQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbUlEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhUb0l0ZW1JRE1hcC5oYXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG5cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QucHVzaChpbmRleClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIShjYWNoZUl0ZW1JRCA9PT0gdW5kZWZpbmVkKSkgeyAvLyBpZ25vcmUgbm9uLWV4aXN0ZW50IGluZGV4ZXNcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwYXJ0aXRpb25JRCB9ID0gaXRlbU1ldGFkYXRhTWFwLmdldChjYWNoZUl0ZW1JRClcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGl0aW9uSXRlbXNUb1JlcGxhY2VMaXN0LnB1c2goe3BhcnRpdGlvbklELCBpdGVtSUQ6Y2FjaGVJdGVtSUR9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvckVudHJpZXNNYXAuc2V0KGluZGV4LCAnaW5kZXggdG8gcmVwbGFjZSBpcyBub3QgaW4gY2FjaGUnKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHdvcmtpbmdDaGFuZ2VNYXAuc2V0KGluZGV4LCBpdGVtSUQpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpbmRleGVzVG9SZXBsYWNlSXRlbUlETGlzdC5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5kZWxldGUoaW5kZXgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tIGZpbHRlciBvdXQgaW5vcGVyYWJsZSBpbmRleGVzIGFuZCBpdGVtSURzIC0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGl0ZW1zVG9SZXBsYWNlU2V0ID0gbmV3IFNldCgpXG4gICAgICAgIHBhcnRpdGlvbkl0ZW1zVG9SZXBsYWNlTGlzdC5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGl0ZW1zVG9SZXBsYWNlU2V0LmFkZChvYmouaXRlbUlEKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGNvbnN0IGl0ZW1zVG9SZXBsYWNlTGlzdCA9IEFycmF5LmZyb20oaXRlbXNUb1JlcGxhY2VTZXQpXG5cbiAgICAgICAgd29ya2luZ0NoYW5nZU1hcC5mb3JFYWNoKChpdGVtSUQsIGluZGV4KSA9PntcblxuICAgICAgICAgICAgaWYgKChpdGVtSUQgPT09IG51bGwpIHx8IChpdGVtSUQgPT09IHVuZGVmaW5lZCkpIHtcblxuICAgICAgICAgICAgICAgIGluZGV4ZXNUb0RlbGV0ZUxpc3QucHVzaChpbmRleClcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGl0ZW1JRCkgPT0gJ3N0cmluZycpIHtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvckVudHJpZXNNYXAuc2V0KGluZGV4LCdpdGVtSUQgaXMgYSBzdHJpbmcnKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghTnVtYmVyLmlzSW50ZWdlcihpdGVtSUQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JFbnRyaWVzTWFwLnNldChpbmRleCwnaXRlbUlEIGlzIG5vdCBhbiBpbnRlZ2VyJylcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWluZGV4VG9JdGVtSURNYXAuaGFzKGluZGV4KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRW50cmllc01hcC5zZXQoaW5kZXgsICdpbmRleCBub3QgaW4gY2FjaGUnKVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleFRvSXRlbUlETWFwLmdldChpbmRleCkgPT0gaXRlbUlEKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JFbnRyaWVzTWFwLnNldChpbmRleCwgYHRhcmdldCBpdGVtSUQgJHtpdGVtSUR9IGhhcyBub3QgY2hhbmdlZGApXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpdGVtTWV0YWRhdGFNYXAuaGFzKGl0ZW1JRCkgfHwgaXRlbXNUb1JlcGxhY2VTZXQuaGFzKGl0ZW1JRCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvckVudHJpZXNNYXAuc2V0KGluZGV4LCBgdGFyZ2V0IGl0ZW1JRCAke2l0ZW1JRH0gbm90IGluIGNhY2hlLCBvciBoYXMgYmVlbiByZW1vdmVkYClcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5zZXQoaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0gZmlsdGVyIG91dCBkdXBsaWNhdGUgaXRlbUlEcyAtLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBtYXBzaXplID0gY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5zaXplXG5cbiAgICAgICAgY29uc3QgaXRlbUlEU2V0ID0gbmV3IFNldChjaGFuZ2VJbmRleFRvSXRlbUlETWFwLnZhbHVlcygpKVxuXG4gICAgICAgIGNvbnN0IGl0ZW1zZXRzaXplID0gaXRlbUlEU2V0LnNpemVcblxuICAgICAgICBpZiAobWFwc2l6ZSAhPSBpdGVtc2V0c2l6ZSkgeyAvLyB0aGVyZSBtdXN0IGJlIGR1cGxpY2F0ZSBpdGVtSURzXG5cbiAgICAgICAgICAgIGNvbnN0IGl0ZW1JRENvdW50TWFwID0gbmV3IE1hcCgpXG5cbiAgICAgICAgICAgIGNoYW5nZUluZGV4VG9JdGVtSURNYXAuZm9yRWFjaCgoaXRlbUlEKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1JRENvdW50TWFwLmhhcyhpdGVtSUQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbUlEQ291bnRNYXAuc2V0KGl0ZW1JRCwgMSlcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gaXRlbUlEQ291bnRNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlEQ291bnRNYXAuc2V0KGl0ZW1JRCwgKytjb3VudCApXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBkdXBsaWNhdGVJdGVtc01hcCA9IG5ldyBNYXAoKVxuICAgICAgICAgICAgaXRlbUlEQ291bnRNYXAuZm9yRWFjaCgoY291bnQsaXRlbUlEKT0+e1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGR1cGxpY2F0ZUl0ZW1zTWFwLnNldChpdGVtSUQsIGNvdW50KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0ZXNUb1JlbW92ZUxpc3QgPSBbXVxuICAgICAgICAgICAgY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcC5mb3JFYWNoKChpdGVtSUQsIGluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHVwbGljYXRlSXRlbXNNYXAuaGFzKGl0ZW1JRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlc1RvUmVtb3ZlTGlzdC5wdXNoKGluZGV4KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgZHVwbGljYXRlc1RvUmVtb3ZlTGlzdC5mb3JFYWNoKChpbmRleCk9PntcblxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1JRCA9IGNoYW5nZUluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZHVwbGljYXRlSXRlbXNNYXAuZ2V0KGl0ZW1JRClcblxuICAgICAgICAgICAgICAgIGVycm9yRW50cmllc01hcC5zZXQoaW5kZXgsIGB0YXJnZXQgaXRlbUlEICR7aXRlbUlEfSBoYXMgZHVwbGljYXRlcyAoJHtjb3VudH0pYClcbiAgICAgICAgICAgICAgICBjaGFuZ2VJbmRleFRvSXRlbUlETWFwLmRlbGV0ZShpbmRleClcblxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tIGNhcHR1cmUgbWFwIGJlZm9yZSBjaGFuZ2VzIC0tLS0tLS0tLS1cbiAgICAgICAgLy8gLi4uIHRoaXMgbWFwIGlzIHVzZWQgbGF0ZXIgdG8gaWRlbnRpZnkgb3JwaGFuZWQgaXRlbSBhbmQgaW5kZXggY2FjaGUgcmVjb3JkcyBmb3IgZGVsZXRpb25cblxuICAgICAgICAvLyBmcm9tIHRoZSBsaXN0IG9mIGNoYW5nZXNcbiAgICAgICAgLy8gYm90aCBzaWRlcyBvZiBjaGFuZ2UgbWFwLi4uXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWFwID0gbmV3IE1hcCgpIC8vIGluZGV4ID0+IGl0ZW1JRDsgYmVmb3JlIGNoYW5nZVxuICAgICAgICBjaGFuZ2VJbmRleFRvSXRlbUlETWFwLmZvckVhY2goKGl0ZW1JRCwgaW5kZXgpPT57XG5cbiAgICAgICAgICAgIG9yaWdpbmFsTWFwLnNldChpbmRleCxpbmRleFRvSXRlbUlETWFwLmdldChpbmRleCkpIC8vIGluZGV4IHRvIGJlIG1hcHBlZFxuICAgICAgICAgICAgb3JpZ2luYWxNYXAuc2V0KGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKS5pbmRleCxpdGVtSUQpIC8vIHRhcmdldCBpdGVtSURcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIC4uLiBhbmQgZnJvbSB0aGUgbGlzdCBvZiBpbmRleGVzIHRvIGJlIGRlbGV0ZWRcbiAgICAgICAgaW5kZXhlc1RvRGVsZXRlTGlzdC5mb3JFYWNoKChpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICBvcmlnaW5hbE1hcC5zZXQoaW5kZXgsIGluZGV4VG9JdGVtSURNYXAuZ2V0KGluZGV4KSlcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1bIENBQ0hFIE9QRVJBVElPTlMgXT09PT09PT09PT09PT09PT1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0gZGVsZXRlIGxpc3RlZCBpbmRleGVzIC0tLS0tLS0tLVxuICAgICAgICAvLyBmb3IgaW5kZXhlcyBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgLy8gYXNzb2NpYXRlZCBpdGVtSUQncyB3aWxsIGJlIG9ycGhhbmVkLCBidXQgY291bGQgYmUgcmVtYXBwZWQuXG4gICAgICAgIC8vIG9ycGhhbnMgYXJlIHJlc29sdmVkIGJlbG93XG5cbiAgICAgICAgaWYgKGluZGV4ZXNUb0RlbGV0ZUxpc3QubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIGluZGV4ZXNUb0RlbGV0ZUxpc3QuZm9yRWFjaCgoaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLSBhcHBseSBmaWx0ZXJlZCBjaGFuZ2VzIHRvIGNhY2hlIGluZGV4IG1hcCBhbmQgaXRlbUlEIG1hcCAtLS0tLS0tLS0tXG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgZXZlcnkgcmVtYWluaW5nIGluZGV4IGxpc3RlZCB3aWxsIGNoYW5nZSBpdHMgbWFwcGluZ1xuXG4gICAgICAgIC8vIGNvbnN0IHByb2Nlc3NlZE1hcCA9IG5ldyBNYXAoKSAvLyBpbmRleCA9PiBpdGVtSUQ7IGNoYW5nZSBoYXMgYmVlbiBhcHBsaWVkXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZEluZGV4TGlzdCA9IFtdXG5cbiAgICAgICAgLy8gbWFrZSBjaGFuZ2VzXG4gICAgICAgIGNoYW5nZUluZGV4VG9JdGVtSURNYXAuZm9yRWFjaCgoaXRlbUlELGluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuc2V0KGluZGV4LGl0ZW1JRCkgLy8gbW9kaWljYXRpb24gYXBwbGllZCwgcGFydCAxXG4gICAgICAgICAgICBjb25zdCBpdGVtZGF0YSA9IGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuXG4gICAgICAgICAgICBpdGVtZGF0YS5pbmRleCA9IGluZGV4IC8vIG1vZGlmaWNhdGlvbiBhcHBsaWVkLCBwYXJ0IDJcblxuICAgICAgICAgICAgLy8gcHJvY2Vzc2VkTWFwLnNldChpbmRleCxpdGVtSUQpXG4gICAgICAgICAgICBwcm9jZXNzZWRJbmRleExpc3QucHVzaChpbmRleClcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tIGxvb2sgZm9yIGFuZCBkZWxldGUgaXRlbSBhbmQgaW5kZXggb3JwaGFucyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBpZiB0aGUgb3JpZ2luYWwgaXRlbSdzIGluZGV4IGhhcyBub3QgY2hhbmdlZCwgdGhlbiBpdCBoYXMgbm90IGJlZW4gcmVtYXBwZWQsIFxuICAgICAgICAvLyAgICAgaXQgaXMgb3JwaGFuZWQsIGFuZCB0aGUgaXRlbSBpcyBkZWxldGVkXG4gICAgICAgIC8vIGlmIHRoZSBpdGVtJ3MgaW5kZXggaGFzIGNoYW5nZWQsIGJ1dCB0aGUgb3JpZ2luYWwgaXRlbSBpbmRleCBtYXAgc3RpbGwgcG9pbnRzIHRvIHRoZSBpdGVtLFxuICAgICAgICAvLyAgICAgdGhlbiB0aGUgaW5kZXggaXMgb3JwaGFuZWQgKGR1cGxpY2F0ZSksIGFuZCBkZWxldGVkXG5cbiAgICAgICAgY29uc3QgZGVsZXRlZEl0ZW1JRFRvSW5kZXhNYXAgPSBuZXcgTWFwKCkgLy8gaW5kZXggPT4gaXRlbUlEOyBvcnBoYW5lZCBpbmRleFxuICAgICAgICBjb25zdCBkZWxldGVkSW5kZXhUb0l0ZW1JRE1hcCA9IG5ldyBNYXAoKVxuXG4gICAgICAgIGNvbnN0IHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCA9IFtdIC8vIGhvbGQgZGVsZXRlZCBwb3J0YWxzIGZvciBkZWxldGlvbiB1bnRpbCBhZnRlciBjcmFkbGUgc3luY2hcblxuICAgICAgICBvcmlnaW5hbE1hcC5mb3JFYWNoKChvcmlnaW5hbEl0ZW1JRCwgb3JpZ2luYWxJdGVtSURJbmRleCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBmaW5hbEl0ZW1JREluZGV4ID0gaXRlbU1ldGFkYXRhTWFwLmdldChvcmlnaW5hbEl0ZW1JRCkuaW5kZXhcblxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsSXRlbUlESW5kZXggPT0gZmluYWxJdGVtSURJbmRleCkgeyAvLyBub3QgcmVtYXBwZWQsIHRoZXJlZm9yZSBvcnBoYW5lZFxuXG4gICAgICAgICAgICAgICAgZGVsZXRlZEl0ZW1JRFRvSW5kZXhNYXAuc2V0KG9yaWdpbmFsSXRlbUlELCBvcmlnaW5hbEl0ZW1JREluZGV4KVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXJ0aXRpb25JRCB9ID0gaXRlbU1ldGFkYXRhTWFwLmdldChvcmlnaW5hbEl0ZW1JRClcbiAgICAgICAgICAgICAgICBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QucHVzaCh7aXRlbUlEOm9yaWdpbmFsSXRlbUlELCBwYXJ0aXRpb25JRH0pXG4gICAgICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLmRlbGV0ZShvcmlnaW5hbEl0ZW1JRClcbiAgICAgICAgICAgICAgICBpdGVtU2V0LmRlbGV0ZShvcmlnaW5hbEl0ZW1JRClcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gcmVtYXBwZWQsIGNoZWNrIGZvciBvcnBoYW5lZCBpbmRleFxuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4VG9JdGVtSURNYXAuaGFzKG9yaWdpbmFsSXRlbUlESW5kZXgpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxJdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChvcmlnaW5hbEl0ZW1JREluZGV4KVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbEl0ZW1JRCA9PSBvcmlnaW5hbEl0ZW1JRCkgeyAvLyB0aGUgaW5kZXggaGFzIG5vdCBiZWVuIHJlbWFwcGVkLCB0aGVyZWZvcmUgb3JwaGFuZWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZEluZGV4VG9JdGVtSURNYXAuc2V0KG9yaWdpbmFsSXRlbUlESW5kZXgsIG9yaWdpbmFsSXRlbUlEKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLmRlbGV0ZShvcmlnaW5hbEl0ZW1JREluZGV4KVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLSBhcHBseSBjaGFuZ2VzIHRvIGV4dGFudCBjZWxsRnJhbWVzIC0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIHRoZXNlIGFyZSB1c2VkIHRvIHJlY29uY2lsZSBjcmFkbGUgY2VsbEZyYW1lcywgYW5kIGFsc28gZm9yIHJldHVybiBpbmZvcm1hdGlvblxuICAgICAgICAvLyBjb25zdCBwcm9jZXNzZWRJbmRleExpc3QgPSBBcnJheS5mcm9tKHByb2Nlc3NlZE1hcC5rZXlzKCkpXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRPcnBoYW5lZEl0ZW1JbmRleExpc3QgPSBBcnJheS5mcm9tKGRlbGV0ZWRJdGVtSURUb0luZGV4TWFwLnZhbHVlcygpKVxuICAgICAgICBjb25zdCBkZWxldGVkT3JwaGFuZWRJbmRleExpc3QgPSBBcnJheS5mcm9tKGRlbGV0ZWRJbmRleFRvSXRlbUlETWFwLmtleXMoKSlcbiAgICAgICAgLy8gZm9yIHJldHVybiBpbmZvcm1hdGlvbi4uLlxuICAgICAgICBjb25zdCBkZWxldGVkT3JwaGFuZWRJdGVtSURMaXN0ID0gQXJyYXkuZnJvbShkZWxldGVkSXRlbUlEVG9JbmRleE1hcC5rZXlzKCkpIFxuXG4gICAgICAgIGxldCBtb2RpZmllZEluZGV4TGlzdCA9IFtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NlZEluZGV4TGlzdCxcbiAgICAgICAgICAgIC4uLmluZGV4ZXNUb0RlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgLi4uZGVsZXRlZE9ycGhhbmVkSXRlbUluZGV4TGlzdCwgXG4gICAgICAgICAgICAuLi5kZWxldGVkT3JwaGFuZWRJbmRleExpc3RcbiAgICAgICAgXVxuXG4gICAgICAgIG1vZGlmaWVkSW5kZXhMaXN0ID0gQXJyYXkuZnJvbShuZXcgU2V0KG1vZGlmaWVkSW5kZXhMaXN0LnZhbHVlcygpKSkgLy8gcmVtb3ZlIGR1cGxpY2F0ZXNcblxuICAgICAgICBjb250ZW50SGFuZGxlci5jcmVhdGVOZXdJdGVtSURzKGluZGV4ZXNUb1JlcGxhY2VJdGVtSURMaXN0KVxuXG4gICAgICAgIGNvbnRlbnRIYW5kbGVyLnJlY29uY2lsZUNlbGxGcmFtZXMobW9kaWZpZWRJbmRleExpc3QpXG5cbiAgICAgICAgbW9kaWZpZWRJbmRleExpc3QgPSBtb2RpZmllZEluZGV4TGlzdC5jb25jYXQoaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QpXG5cbiAgICAgICAgY2FjaGVBUEkucG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0LmNvbmNhdChwYXJ0aXRpb25JdGVtc1RvUmVwbGFjZUxpc3QpXG5cbiAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdhcHBseXJlbWFwY2hhbmdlcycpXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLSByZXR1cm5zIGZvciB1c2VyIGluZm9ybWF0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgcmV0dXJuIFtcblxuICAgICAgICAgICAgbW9kaWZpZWRJbmRleExpc3QsIFxuICAgICAgICAgICAgcHJvY2Vzc2VkSW5kZXhMaXN0LCBcbiAgICAgICAgICAgIGluZGV4ZXNUb0RlbGV0ZUxpc3QsIFxuICAgICAgICAgICAgaW5kZXhlc1RvUmVwbGFjZUl0ZW1JRExpc3QsXG4gICAgICAgICAgICBkZWxldGVkT3JwaGFuZWRJdGVtSURMaXN0LCBcbiAgICAgICAgICAgIGRlbGV0ZWRPcnBoYW5lZEluZGV4TGlzdCxcbiAgICAgICAgICAgIGVycm9yRW50cmllc01hcCwgXG4gICAgICAgICAgICBjaGFuZ2VNYXBcblxuICAgICAgICBdXG5cbiAgICB9XG5cbiAgICAvLyBtb3ZlIG11c3QgYmUgZW50aXJlbHkgd2l0aGluIGxpc3QgYm91bmRzXG4gICAgLy8gcmV0dXJucyBsaXN0IG9mIHByb2Nlc3NlZCBpbmRleGVzXG4gICAgcHVibGljIG1vdmVJbmRleCA9ICh0b2xvd2luZGV4LCBmcm9tbG93aW5kZXgsIGZyb21oaWdoaW5kZXggPSBudWxsKSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG5cbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgbG93aW5kZXg6bGlzdGxvd2luZGV4LCBzaXplIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgaWYgKCFzaXplKSByZXR1cm5cblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0gY29uZmlybSB2YWxpZGl0eSBvZiBhcmd1bWVudHMgLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IGlzVG9pbmRleEludmFsaWQgPSAoIWlzSW50ZWdlcih0b2xvd2luZGV4KSB8fCAhaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUodG9sb3dpbmRleCwgbGlzdGxvd2luZGV4KSlcbiAgICAgICAgY29uc3QgaXNGcm9taW5kZXhJbnZhbGlkID0gKCFpc0ludGVnZXIoZnJvbWxvd2luZGV4KSB8fCAhaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUoZnJvbWxvd2luZGV4LCBsaXN0bG93aW5kZXgpKVxuICAgICAgICBsZXQgaXNIaWdocmFuZ2VJbnZhbGlkID0gZmFsc2VcblxuICAgICAgICBpZiAoKCFpc0Zyb21pbmRleEludmFsaWQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzQmxhbmsoZnJvbWhpZ2hpbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpc0hpZ2hyYW5nZUludmFsaWQgPSAhaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUoZnJvbWhpZ2hpbmRleCwgZnJvbWxvd2luZGV4KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9taGlnaGluZGV4ID0gZnJvbWxvd2luZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRvbG93aW5kZXggPSArdG9sb3dpbmRleFxuICAgICAgICBmcm9tbG93aW5kZXggPSArZnJvbWxvd2luZGV4XG4gICAgICAgIGZyb21oaWdoaW5kZXggPSArZnJvbWhpZ2hpbmRleFxuXG4gICAgICAgIC8vIFRPRE8gcmV0dXJuIGVycm9yIGFycmF5IGluc3RlYWRcbiAgICAgICAgaWYgKGlzVG9pbmRleEludmFsaWQgfHwgaXNGcm9taW5kZXhJbnZhbGlkIHx8IGlzSGlnaHJhbmdlSW52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JJR1MgRVJST1IgbW92ZUluZGV4KHRvaW5kZXgsIGZyb21pbmRleCwgZnJvbWhpZ2hyYW5nZSknKVxuICAgICAgICAgICAgaXNUb2luZGV4SW52YWxpZCAmJiBjb25zb2xlLmxvZyh0b2xvd2luZGV4LCBlcnJvck1lc3NhZ2VzLm1vdmVUbylcbiAgICAgICAgICAgIGlzRnJvbWluZGV4SW52YWxpZCAmJiBjb25zb2xlLmxvZyhmcm9tbG93aW5kZXgsIGVycm9yTWVzc2FnZXMubW92ZUZyb20pXG4gICAgICAgICAgICBpc0hpZ2hyYW5nZUludmFsaWQgJiYgY29uc29sZS5sb2coZnJvbWhpZ2hpbmRleCwgZXJyb3JNZXNzYWdlcy5tb3ZlUmFuZ2UpXG4gICAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuXG4gICAgICAgIHRvbG93aW5kZXggPSBNYXRoLm1heChsaXN0bG93aW5kZXgsdG9sb3dpbmRleClcbiAgICAgICAgZnJvbWxvd2luZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LGZyb21sb3dpbmRleClcbiAgICAgICAgZnJvbWhpZ2hpbmRleCA9IE1hdGgubWF4KGxpc3Rsb3dpbmRleCxmcm9taGlnaGluZGV4KVxuXG4gICAgICAgIGNvbnN0IGZyb21zcGFuID0gZnJvbWhpZ2hpbmRleCAtIGZyb21sb3dpbmRleCArIDFcblxuICAgICAgICBsZXQgdG9oaWdoaW5kZXggPSB0b2xvd2luZGV4ICsgZnJvbXNwYW4gLSAxXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLSBjb2VyY2UgcGFyYW1ldGVycyB0byBsaXN0IGJvdW5kcyAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBsaXN0c2l6ZSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudC52aXJ0dWFsTGlzdFByb3BzLnNpemVcblxuICAgICAgICAvLyBrZWVwIHdpdGhpbiBjdXJyZW50IGxpc3Qgc2l6ZVxuICAgICAgICBjb25zdCBsaXN0aGlnaGluZGV4ID0gbGlzdHNpemUgLSAxXG5cbiAgICAgICAgaWYgKHRvaGlnaGluZGV4ID4gbGlzdGhpZ2hpbmRleCkge1xuXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gdG9oaWdoaW5kZXggLSBsaXN0aGlnaGluZGV4XG4gICAgICAgICAgICB0b2hpZ2hpbmRleCA9IE1hdGgubWF4KGxpc3Rsb3dpbmRleCx0b2hpZ2hpbmRleCAtIGRpZmYpXG4gICAgICAgICAgICB0b2xvd2luZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LHRvbG93aW5kZXggLSBkaWZmKVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbWhpZ2hpbmRleCA+IGxpc3RoaWdoaW5kZXgpIHtcblxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IGZyb21oaWdoaW5kZXggLSBsaXN0aGlnaGluZGV4XG4gICAgICAgICAgICBmcm9taGlnaGluZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LGZyb21oaWdoaW5kZXggLSBkaWZmKVxuICAgICAgICAgICAgZnJvbWxvd2luZGV4ID0gTWF0aC5tYXgobGlzdGxvd2luZGV4LGZyb21sb3dpbmRleCAtIGRpZmYpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0gY29uc3RyYWluIHBhcmFtZXRlcnMgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBub3RoaW5nIHRvIGRvOyBubyBkaXNwbGFjZW1lbnRcbiAgICAgICAgaWYgKGZyb21sb3dpbmRleCA9PSB0b2xvd2luZGV4KSByZXR1cm4gW10gXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0gcGVyZm9ybSBjYWNoZSBhbmQgY3JhZGxlIG9wZXJhdGlvbnMgLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCB7IGNhY2hlQVBJLCBjb250ZW50SGFuZGxlciwgc3RhdGVIYW5kbGVyIH0gPSBcbiAgICAgICAgICAgIHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkSW5kZXhMaXN0ID0gLy8gYm90aCBkaXNwbGFjZWQgYW5kIG1vdmVkIGluZGV4ZXNcbiAgICAgICAgICAgIGNhY2hlQVBJLm1vdmVJbmRleCh0b2xvd2luZGV4LCBmcm9tbG93aW5kZXgsIGZyb21oaWdoaW5kZXgpXG5cbiAgICAgICAgaWYgKHByb2Nlc3NlZEluZGV4TGlzdC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgY29udGVudEhhbmRsZXIuc3luY2hyb25pemVDcmFkbGVJdGVtSURzVG9DYWNoZShwcm9jZXNzZWRJbmRleExpc3QpXG5cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCB9ID0gY29udGVudEhhbmRsZXJcblxuICAgICAgICAgICAgY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzID0gY29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMuc2xpY2UoMCxjb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMubGVuZ3RoKVxuICAgICAgICAgICAgY29udGVudC50YWlsTW9kZWxDb21wb25lbnRzID0gY29udGVudC5jcmFkbGVNb2RlbENvbXBvbmVudHMuc2xpY2UoY29udGVudC5oZWFkTW9kZWxDb21wb25lbnRzLmxlbmd0aClcblxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdhcHBseW1vdmVjaGFuZ2VzJylcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEluZGV4TGlzdFxuXG4gICAgfVxuXG4gICAgcHVibGljIGluc2VydEluZGV4ID0gKGluZGV4LCByYW5nZWhpZ2hpbmRleCA9IG51bGwpID0+IHtcblxuICAgICAgICBjb25zdCBcblxuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IHZpcnR1YWxMaXN0UHJvcHMgfSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcyxcblxuICAgICAgICAgICAgeyBsb3dpbmRleDpsaXN0bG93aW5kZXgsIHNpemUgfSA9IHZpcnR1YWxMaXN0UHJvcHNcblxuICAgICAgICBsZXQgaXNJbmRleEludmFsaWQgPSAhaXNJbnRlZ2VyKGluZGV4KVxuXG4gICAgICAgIGlmICghaXNJbmRleEludmFsaWQpIHtcblxuICAgICAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgICAgICBpc0luZGV4SW52YWxpZCA9ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShpbmRleCwgbGlzdGxvd2luZGV4KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc0luZGV4SW52YWxpZCA9IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpc0hpZ2hyYW5nZUludmFsaWQgPSBmYWxzZVxuXG4gICAgICAgIGlmICgoIWlzSW5kZXhJbnZhbGlkKSkge1xuICAgICAgICAgICAgaWYgKCFpc0JsYW5rKHJhbmdlaGlnaGluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCA9ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShyYW5nZWhpZ2hpbmRleCwgaW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlaGlnaGluZGV4ID0gaW5kZXhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4ID0gK2luZGV4XG5cbiAgICAgICAgcmFuZ2VoaWdoaW5kZXggPSArcmFuZ2VoaWdoaW5kZXhcblxuICAgICAgICBpZiAoaXNJbmRleEludmFsaWQgfHwgaXNIaWdocmFuZ2VJbnZhbGlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUklHUyBFUlJPUiBpbnNlcnRJbmRleChpbmRleCwgcmFuZ2VoaWdoaW5kZXgpJylcbiAgICAgICAgICAgIGlzSW5kZXhJbnZhbGlkICYmIGNvbnNvbGUubG9nKGluZGV4LCBlcnJvck1lc3NhZ2VzLmluc2VydEZyb20pXG4gICAgICAgICAgICBpc0hpZ2hyYW5nZUludmFsaWQgJiYgY29uc29sZS5sb2cocmFuZ2VoaWdoaW5kZXgsIGVycm9yTWVzc2FnZXMuaW5zZXJ0UmFuZ2UpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0UmVtb3ZlSW5kZXgoaW5kZXgsIHJhbmdlaGlnaGluZGV4LCArMSlcblxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVJbmRleCA9IChpbmRleCwgcmFuZ2VoaWdoaW5kZXggPSBudWxsKSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG5cbiAgICAgICAgICAgIHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcyxcblxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudCxcblxuICAgICAgICAgICAgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMsXG5cbiAgICAgICAgICAgIHsgbG93aW5kZXg6bGlzdGxvd2luZGV4LCBzaXplIH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgaWYgKCFzaXplKSByZXR1cm5cblxuICAgICAgICBjb25zdCBpc0luZGV4SW52YWxpZCA9ICghaXNJbnRlZ2VyKGluZGV4KSB8fCAhaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUoaW5kZXgsIGxpc3Rsb3dpbmRleCkpXG4gICAgICAgIGxldCBpc0hpZ2hyYW5nZUludmFsaWQgPSBmYWxzZVxuXG4gICAgICAgIGlmICgoIWlzSW5kZXhJbnZhbGlkKSkge1xuICAgICAgICAgICAgaWYgKCFpc0JsYW5rKHJhbmdlaGlnaGluZGV4KSkge1xuICAgICAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCA9ICFpc1ZhbHVlR3JlYXRlclRoYW5PckVxdWFsVG9NaW5WYWx1ZShyYW5nZWhpZ2hpbmRleCwgaW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlaGlnaGluZGV4ID0gaW5kZXhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4ID0gK2luZGV4XG4gICAgICAgIHJhbmdlaGlnaGluZGV4ID0gK3JhbmdlaGlnaGluZGV4XG5cbiAgICAgICAgaWYgKGlzSW5kZXhJbnZhbGlkIHx8IGlzSGlnaHJhbmdlSW52YWxpZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JJR1MgRVJST1IgbW92ZUluZGV4KGluZGV4LCByYW5nZWhpZ2hpbmRleCknKVxuICAgICAgICAgICAgaXNJbmRleEludmFsaWQgJiYgY29uc29sZS5sb2coaW5kZXgsIGVycm9yTWVzc2FnZXMucmVtb3ZlRnJvbSlcbiAgICAgICAgICAgIGlzSGlnaHJhbmdlSW52YWxpZCAmJiBjb25zb2xlLmxvZyhyYW5nZWhpZ2hpbmRleCwgZXJyb3JNZXNzYWdlcy5yZW1vdmVSYW5nZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRSZW1vdmVJbmRleChpbmRleCwgcmFuZ2VoaWdoaW5kZXgsIC0xKVxuXG4gICAgfVxuXG4gICAgcHVibGljIG5ld0xpc3RTaXplIC8vIGFjY2Vzc2VkIGJ5IGNoYW5nZWxpc3RzaXplYWZ0ZXJpbnNlcnRyZW1vdmUgZXZlbnQgZnJvbSBDcmFkbGVcblxuICAgIC8vIHNoYXJlZCBsb2dpYyBmb3IgaW5zZXJ0IGFuZCByZW1vdmUuIFJldHVybnMgbGlzdHMgb2YgaW5kZXhlcyBzaGlmdGVkLCByZXBsYWNlZCwgYW5kIHJlbW92ZWRcbiAgICAvLyB0aGlzIG9wZXJhdGlvbiBjaGFuZ2VzIHRoZSBsaXN0c2l6ZVxuICAgIHByaXZhdGUgaW5zZXJ0UmVtb3ZlSW5kZXggPSAoaW5kZXgsIHJhbmdlaGlnaGluZGV4LCBpbmNyZW1lbnQpID0+IHtcblxuICAgICAgICBjb25zdCBcblxuICAgICAgICAgICAgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhY2hlQVBJLCBcbiAgICAgICAgICAgICAgICBjb250ZW50SGFuZGxlciwgXG4gICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLCBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfSA9IHRoaXMuY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMgPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50LFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3JhZGxlQ29udGVudFByb3BzLCBcbiAgICAgICAgICAgICAgICB2aXJ0dWFsTGlzdFByb3BzLFxuXG4gICAgICAgICAgICB9ID0gY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzLFxuXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbG93aW5kZXg6bGlzdGxvd2luZGV4LCBcbiAgICAgICAgICAgICAgICBjcm9zc2NvdW50LCBcbiAgICAgICAgICAgICAgICBzaXplOmxpc3RzaXplLFxuXG4gICAgICAgICAgICB9ID0gdmlydHVhbExpc3RQcm9wcyxcblxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxvd2luZGV4Omxvd0NyYWRsZUluZGV4LCBcbiAgICAgICAgICAgICAgICBoaWdoaW5kZXg6aGlnaENyYWRsZUluZGV4LCBcbiAgICAgICAgICAgICAgICBzaXplOmNyYWRsZVNpemUsIFxuICAgICAgICAgICAgICAgIHJ1bndheVJvd2NvdW50OnJ1bndheVNpemUsXG4gICAgICAgICAgICAgICAgdmlld3BvcnRSb3djb3VudCxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfSA9IGNyYWRsZUNvbnRlbnRQcm9wc1xuXG4gICAgICAgIC8vIGJhc2ljIGFzc2VydGlvbnNcbiAgICAgICAgaWYgKGxpc3RzaXplKSBpbmRleCA9IE1hdGgubWF4KGxpc3Rsb3dpbmRleCxpbmRleClcblxuICAgICAgICAvLyBpZiAoIXJhbmdlaGlnaGluZGV4KSByYW5nZWhpZ2hpbmRleCA9IGluZGV4XG4gICAgICAgIC8vIHJhbmdlaGlnaGluZGV4ID0gTWF0aC5tYXgocmFuZ2VoaWdoaW5kZXgsIGluZGV4KVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0gcHJvY2VzcyBjYWNoZSAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgaWYgKGxpc3RzaXplID09IDApIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGluY3JlbWVudCA+IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGlzdFJhbmdlKFtpbmRleCxyYW5nZWhpZ2hpbmRleF0pXG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlTGlzdCA9IFtdXG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGk8PXJhbmdlaGlnaGluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUxpc3QucHVzaChpKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBbW10scmVwbGFjZUxpc3QsW11dXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbXSxbXSxbXV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFtzdGFydENoYW5nZUluZGV4LCByYW5nZWluY3JlbWVudCwgc2hpZnRlZExpc3QsIHJlbW92ZWRMaXN0LCByZXBsYWNlTGlzdCwgcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0XSA9IFxuICAgICAgICAgICAgY2FjaGVBUEkuaW5zZXJ0UmVtb3ZlSW5kZXgoaW5kZXgsIHJhbmdlaGlnaGluZGV4LCBpbmNyZW1lbnQsIGxpc3RzaXplKVxuXG4gICAgICAgIGlmIChyYW5nZWluY3JlbWVudCA9PT0gbnVsbCkgcmV0dXJuIFtbXSxbXSxbXV0gLy8gbm8gYWN0aW9uXG5cbiAgICAgICAgLy8gcGFydGl0aW9uSXRlbXMgdG8gZGVsZXRlIHdpdGggZm9sbG93dXAgc3RhdGUgY2hhbmdlcyAtIG11c3QgaGFwcGVuIGFmdGVyIGNyYWRsZSB1cGRhdGVcbiAgICAgICAgY2FjaGVBUEkucG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLSBzeW5jaHJvbml6ZSBjcmFkbGUgdG8gY2FjaGUgY2hhbmdlcyAtLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIGNyYWRsZSBtdXN0IGJlIHJlc2V0IG9yIHNpbXBseSBhZGp1c3RlZFxuICAgICAgICBjb25zdCBcbiAgICAgICAgICAgIGNoYW5nZWNvdW50ID0gcmFuZ2VpbmNyZW1lbnQsIC8vIHNlbWFudGljc1xuICAgICAgICAgICAgbmV3bGlzdHNpemUgPSB0aGlzLm5ld0xpc3RTaXplID0gbGlzdHNpemUgKyBjaGFuZ2Vjb3VudCxcblxuICAgICAgICAgICAgY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50ID0gdmlld3BvcnRSb3djb3VudCArIChydW53YXlTaXplICogMiksXG4gICAgICAgICAgICBjYWxjdWxhdGVkQ3JhZGxlSXRlbWNvdW50ID0gY2FsY3VsYXRlZENyYWRsZVJvd2NvdW50ICogY3Jvc3Njb3VudCxcblxuICAgICAgICAgICAgbWVhc3VyZWRDcmFkbGVJdGVtQ291bnQgPSAoY3JhZGxlU2l6ZSA9PSAwKT8wOmhpZ2hDcmFkbGVJbmRleCAtIGxvd0NyYWRsZUluZGV4ICsgMSxcblxuICAgICAgICAgICAgcmVzZXRDcmFkbGUgPSAoKG1lYXN1cmVkQ3JhZGxlSXRlbUNvdW50IDwgY2FsY3VsYXRlZENyYWRsZUl0ZW1jb3VudCkgfHwgXG4gICAgICAgICAgICAgICAgKGhpZ2hDcmFkbGVJbmRleCA+PSAobmV3bGlzdHNpemUgLSAxKSkpXG5cbiAgICAgICAgaWYgKCFyZXNldENyYWRsZSkgeyAvLyBzeW5jaHJvbml6ZSBjcmFkbGUgY29udGVudHMgdG8gY2hhbmdlc1xuXG4gICAgICAgICAgICBjb250ZW50SGFuZGxlci5zeW5jaHJvbml6ZUNyYWRsZUl0ZW1JRHNUb0NhY2hlKHNoaWZ0ZWRMaXN0LCBpbmNyZW1lbnQsIHN0YXJ0Q2hhbmdlSW5kZXgpIC8vIG5vbi16ZXJvIGNvbW11bmljYXRpb25zIGlzSW5zZXJ0UmVtb3ZlXG5cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCB9ID0gY29udGVudEhhbmRsZXJcblxuICAgICAgICAgICAgLy8gY29uc3QgcmVxdWVzdGVkU2V0ID0gY2FjaGVBUEkuY2FjaGVQcm9wcy5yZXF1ZXN0ZWRTZXRcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZFNldCA9IGNhY2hlQVBJLnJlcXVlc3RlZFNldFxuXG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0SW50ZXJ2YWwoKCkgPT4geyAvLyB3YWl0IHVudGlsIGNoYW5nZWQgY2FjaGUgZW50cmllcyB1cGRhdGUgdGhlIGNyYWRsZVxuXG4gICAgICAgICAgICAgICAgaWYoIXJlcXVlc3RlZFNldC5zaXplKSB7IC8vIGZpbmlzaGVkIGNvbGxlY3RpbmcgbmV3IGNhY2hlIGVudHJpZXNcblxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVvdXQpOyBcblxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmhlYWRNb2RlbENvbXBvbmVudHMgPSBjb250ZW50LmNyYWRsZU1vZGVsQ29tcG9uZW50cy5zbGljZSgwLGNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQudGFpbE1vZGVsQ29tcG9uZW50cyA9IGNvbnRlbnQuY3JhZGxlTW9kZWxDb21wb25lbnRzLnNsaWNlKGNvbnRlbnQuaGVhZE1vZGVsQ29tcG9uZW50cy5sZW5ndGgpXG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVIYW5kbGVyLnNldENyYWRsZVN0YXRlKCdhcHBseWluc2VydHJlbW92ZWNoYW5nZXMnKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIGNyYWRsZSB0byBiZSBjb21wbGV0ZWx5IHJlc2V0IGlmIGxpc3RzaXplIGNoYW5nZSBlbmNyb2FjaGVzIG9uIGNyYWRsZVxuXG4gICAgICAgICAgICBzdGF0ZUhhbmRsZXIuc2V0Q3JhZGxlU3RhdGUoJ2NoYW5uZWxjcmFkbGVyZXNldGFmdGVyaW5zZXJ0cmVtb3ZlJylcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVwbGFjZWRMaXN0ID0gcmVwbGFjZUxpc3QgLy8gc2VtYW50aWNzXG5cbiAgICAgICAgcmV0dXJuIFtzaGlmdGVkTGlzdCwgcmVwbGFjZWRMaXN0LCByZW1vdmVkTGlzdF0gLy8gaW5mb3JtIGNhbGxlclxuXG4gICAgfVxuXG59XG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIlR5cGVFcnJvciIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJsZW4iLCJsZW5ndGgiLCJhcnIyIiwiciIsImwiLCJ0IiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiTnVtYmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJpc0JsYW5rIiwidGVzdHZhbHVlIiwiaXNOdW1iZXIiLCJpc05hTiIsInBhcnNlSW50IiwiaXNJbnRlZ2VyIiwiaXNWYWx1ZUdyZWF0ZXJUaGFuT3JFcXVhbFRvTWluVmFsdWUiLCJjb21wYXJlVmFsdWUiLCJtaW5WYWx1ZSIsInRlc3RNaW5WYWx1ZSIsImlzVmFsdWVMZXNzVGhhblRvT3JFcXVhbFRvTWF4VmFsdWUiLCJtYXhWYWx1ZSIsInRlc3RNYXhWYWx1ZSIsImVycm9yTWVzc2FnZXMiLCJzY3JvbGxUb0luZGV4Iiwic2V0TGlzdFNpemUiLCJzZXRMaXN0UmFuZ2UiLCJpbnNlcnRGcm9tIiwiaW5zZXJ0UmFuZ2UiLCJyZW1vdmVGcm9tIiwicmVtb3ZlUmFuZ2UiLCJtb3ZlRnJvbSIsIm1vdmVSYW5nZSIsIm1vdmVUbyIsIlNlcnZpY2VIYW5kbGVyIiwiY3JhZGxlUGFyYW1ldGVycyIsIl90aGlzIiwidHJpZ2dlckJvdW5kYXJ5Q2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzIiwiY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzUmVmIiwiY3VycmVudCIsImNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzUmVmIiwiX2NyYWRsZVBhcmFtZXRlcnMkaGFuIiwiaGFuZGxlcnNSZWYiLCJsYXlvdXRIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJ2aXJ0dWFsTGlzdFByb3BzIiwiZ2V0RXhwYW5zaW9uQ291bnQiLCJib3VuZGFyeU5vdGlmaWNhdGlvbnNSZXF1aXJlZCIsImJvdW5kYXJ5Q2FsbGJhY2siLCJTT0xTaWduYWwiLCJsb3dpbmRleCIsIkVPTFNpZ25hbCIsImhpZ2hpbmRleCIsInByZXBlbmQiLCJwcmVwZW5kSW5kZXhDb3VudCIsImFwcGVuZCIsImFwcGVuZEluZGV4Q291bnQiLCJjYW5jZWxCb3VuZGFyeU5vdGlmaWNhdGlvbnMiLCJyZWxvYWQiLCJzdGF0ZUhhbmRsZXIiLCJpbnRlcnJ1cHRIYW5kbGVyIiwicGF1c2VJbnRlcnJ1cHRzIiwic2V0Q3JhZGxlU3RhdGUiLCJpbmRleCIsInNpemUiLCJpc0ludmFsaWQiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlcnMiLCJzaWduYWxzIiwicGF1c2VTY3JvbGxpbmdFZmZlY3RzIiwiY3JhZGxlUG9zaXRpb25EYXRhIiwidGFyZ2V0QXhpc1JlZmVyZW5jZVBvc2l0aW9uIiwic2Nyb2xsVG9QaXhlbCIsInBpeGVsIiwiYmVoYXZpb3IiLCJhcmd1bWVudHMiLCJpbmNsdWRlcyIsInZpZXdwb3J0RWxlbWVudCIsIlZpZXdwb3J0Q29udGV4dFByb3BlcnRpZXNSZWYiLCJlbGVtZW50UmVmIiwic2Nyb2xsYmxvY2tFbGVtZW50IiwiZmlyc3RDaGlsZCIsIm9yaWVudGF0aW9uIiwic2Nyb2xsYmxvY2tMZW5ndGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsInZpZXdwb3J0TGVuZ3RoIiwicGl4ZWx0YXJnZXQiLCJNYXRoIiwibWF4IiwibWluIiwidG9wIiwibGVmdCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJvcHRpb25zIiwic2Nyb2xsIiwic2Nyb2xsQnlQaXhlbCIsInNjcm9sbE9mZnNldCIsInBpeGVsbW92ZW1lbnQiLCJwaXhlbG1heCIsInBpeGVsb3ZlcnNob290IiwicGl4ZWx1bmRlcnNob290Iiwic2Nyb2xsQnkiLCJzZXRMaXN0c2l6ZSIsIm5ld2xpc3RzaXplIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyIiwiY2FjaGVBUEkiLCJjb250ZW50SGFuZGxlciIsImRlbGV0ZUxpc3RDYWxsYmFjayIsImN1cnJlbnRsaXN0c2l6ZSIsImNhY2hlIiwiZExpc3RDYWxsYmFjayIsImRlbGV0ZUxpc3QiLCJ1cGRhdGVWaXJ0dWFsTGlzdFNpemUiLCJjaGFuZ2VDYWNoZUxpc3RTaXplIiwicmVuZGVyUG9ydGFsTGlzdHMiLCJuZXdsaXN0cmFuZ2UiLCJfbmV3bGlzdHJhbmdlIiwiX25ld2xpc3RyYW5nZTIiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXIyIiwiY3VycmVudGxpc3RyYW5nZSIsInJhbmdlIiwidXBkYXRlVmlydHVhbExpc3RSYW5nZSIsImNoYW5nZUNhY2hlTGlzdFJhbmdlIiwicHJlcGVuZENvdW50IiwiX3ZpcnR1YWxMaXN0UHJvcHMkcmFuIiwiYXBwZW5kQ291bnQiLCJfdmlydHVhbExpc3RQcm9wcyRyYW4yIiwiZ2V0Q2FjaGVJbmRleE1hcCIsImdldENhY2hlSXRlbU1hcCIsImdldENyYWRsZUluZGV4TWFwIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyMyIsIm1vZGVsSW5kZXhMaXN0IiwiZ2V0TW9kZWxJbmRleExpc3QiLCJnZXRQcm9wZXJ0aWVzU25hcHNob3QiLCJhc3NpZ24iLCJzY3JvbGxlclByb3BlcnRpZXNSZWYiLCJjcmFkbGVDb250ZW50UHJvcHMiLCJjbGVhckNhY2hlIiwicmVtYXBJbmRleGVzIiwiY2hhbmdlTWFwIiwiX3RoaXMkY3JhZGxlUGFyYW1ldGVyNCIsIml0ZW1NZXRhZGF0YU1hcCIsImluZGV4VG9JdGVtSURNYXAiLCJpdGVtU2V0IiwiaW5kZXhlc1RvRGVsZXRlTGlzdCIsImluZGV4ZXNUb1JlcGxhY2VJdGVtSURMaXN0IiwicGFydGl0aW9uSXRlbXNUb1JlcGxhY2VMaXN0IiwiY2hhbmdlSW5kZXhUb0l0ZW1JRE1hcCIsIk1hcCIsImVycm9yRW50cmllc01hcCIsIndvcmtpbmdDaGFuZ2VNYXAiLCJmb3JFYWNoIiwiaXRlbUlEIiwiaGFzIiwiY2FjaGVJdGVtSUQiLCJnZXQiLCJfaXRlbU1ldGFkYXRhTWFwJGdldCIsInBhcnRpdGlvbklEIiwic2V0IiwiaXRlbXNUb1JlcGxhY2VTZXQiLCJTZXQiLCJvYmoiLCJhZGQiLCJjb25jYXQiLCJtYXBzaXplIiwiaXRlbUlEU2V0IiwidmFsdWVzIiwiaXRlbXNldHNpemUiLCJpdGVtSURDb3VudE1hcCIsImNvdW50IiwiZHVwbGljYXRlSXRlbXNNYXAiLCJkdXBsaWNhdGVzVG9SZW1vdmVMaXN0Iiwib3JpZ2luYWxNYXAiLCJwcm9jZXNzZWRJbmRleExpc3QiLCJpdGVtZGF0YSIsImRlbGV0ZWRJdGVtSURUb0luZGV4TWFwIiwiZGVsZXRlZEluZGV4VG9JdGVtSURNYXAiLCJwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QiLCJvcmlnaW5hbEl0ZW1JRCIsIm9yaWdpbmFsSXRlbUlESW5kZXgiLCJmaW5hbEl0ZW1JREluZGV4IiwiX2l0ZW1NZXRhZGF0YU1hcCRnZXQyIiwiZmluYWxJdGVtSUQiLCJkZWxldGVkT3JwaGFuZWRJdGVtSW5kZXhMaXN0IiwiZGVsZXRlZE9ycGhhbmVkSW5kZXhMaXN0Iiwia2V5cyIsImRlbGV0ZWRPcnBoYW5lZEl0ZW1JRExpc3QiLCJtb2RpZmllZEluZGV4TGlzdCIsImNyZWF0ZU5ld0l0ZW1JRHMiLCJyZWNvbmNpbGVDZWxsRnJhbWVzIiwibW92ZUluZGV4IiwidG9sb3dpbmRleCIsImZyb21sb3dpbmRleCIsImZyb21oaWdoaW5kZXgiLCJsaXN0bG93aW5kZXgiLCJpc1RvaW5kZXhJbnZhbGlkIiwiaXNGcm9taW5kZXhJbnZhbGlkIiwiaXNIaWdocmFuZ2VJbnZhbGlkIiwiZnJvbXNwYW4iLCJ0b2hpZ2hpbmRleCIsImxpc3RzaXplIiwibGlzdGhpZ2hpbmRleCIsImRpZmYiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXI1Iiwic3luY2hyb25pemVDcmFkbGVJdGVtSURzVG9DYWNoZSIsImNvbnRlbnQiLCJoZWFkTW9kZWxDb21wb25lbnRzIiwiY3JhZGxlTW9kZWxDb21wb25lbnRzIiwidGFpbE1vZGVsQ29tcG9uZW50cyIsImluc2VydEluZGV4IiwicmFuZ2VoaWdoaW5kZXgiLCJpc0luZGV4SW52YWxpZCIsImluc2VydFJlbW92ZUluZGV4IiwicmVtb3ZlSW5kZXgiLCJpbmNyZW1lbnQiLCJfdGhpcyRjcmFkbGVQYXJhbWV0ZXI2IiwiY3Jvc3Njb3VudCIsImxvd0NyYWRsZUluZGV4IiwiaGlnaENyYWRsZUluZGV4IiwiY3JhZGxlU2l6ZSIsInJ1bndheVNpemUiLCJydW53YXlSb3djb3VudCIsInZpZXdwb3J0Um93Y291bnQiLCJyZXBsYWNlTGlzdCIsIl9jYWNoZUFQSSRpbnNlcnRSZW1vdiIsIl9jYWNoZUFQSSRpbnNlcnRSZW1vdjIiLCJzdGFydENoYW5nZUluZGV4IiwicmFuZ2VpbmNyZW1lbnQiLCJzaGlmdGVkTGlzdCIsInJlbW92ZWRMaXN0IiwiY2hhbmdlY291bnQiLCJuZXdMaXN0U2l6ZSIsImNhbGN1bGF0ZWRDcmFkbGVSb3djb3VudCIsImNhbGN1bGF0ZWRDcmFkbGVJdGVtY291bnQiLCJtZWFzdXJlZENyYWRsZUl0ZW1Db3VudCIsInJlc2V0Q3JhZGxlIiwicmVxdWVzdGVkU2V0IiwidGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJlcGxhY2VkTGlzdCIsIl9jcmFkbGVQYXJhbWV0ZXJzJGV4dCIsImV4dGVybmFsQ2FsbGJhY2tzUmVmIiwicmVmZXJlbmNlSW5kZXhDYWxsYmFjayIsInByZWxvYWRJbmRleENhbGxiYWNrIiwiY2hhbmdlTGlzdFNpemVDYWxsYmFjayIsImNoYW5nZUxpc3RSYW5nZUNhbGxiYWNrIiwiaXRlbUV4Y2VwdGlvbkNhbGxiYWNrIiwicmVwb3NpdGlvbmluZ0ZsYWdDYWxsYmFjayIsInJlcG9zaXRpb25pbmdJbmRleENhbGxiYWNrIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/servicehandler.tsx\n")},"./src/cradle/statehandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval('\n\n// statehandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n   This module provides access to the cradle state and the state setting for other handlers.\n   It also provides access to the isMountedRef reference.\n*/\nvar StateHandler = /*#__PURE__*/_createClass(function StateHandler(cradleParameters) {\n  _classCallCheck(this, StateHandler);\n  this.cradleParameters = cradleParameters;\n  var internalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n  this.setCradleState = internalProperties.setCradleState;\n  this.cradleStateRef = internalProperties.cradleStateRef;\n  this.isMountedRef = internalProperties.isMountedRef;\n});\nexports["default"] = StateHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0YXRlaGFuZGxlci50c3giLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQUEsU0FBQUEsUUFBQUMsQ0FBQSxzQ0FBQUQsT0FBQSx3QkFBQUUsTUFBQSx1QkFBQUEsTUFBQSxDQUFBQyxRQUFBLGFBQUFGLENBQUEsa0JBQUFBLENBQUEsZ0JBQUFBLENBQUEsV0FBQUEsQ0FBQSx5QkFBQUMsTUFBQSxJQUFBRCxDQUFBLENBQUFHLFdBQUEsS0FBQUYsTUFBQSxJQUFBRCxDQUFBLEtBQUFDLE1BQUEsQ0FBQUcsU0FBQSxxQkFBQUosQ0FBQSxLQUFBRCxPQUFBLENBQUFDLENBQUE7QUFBQSxTQUFBSyxrQkFBQUMsTUFBQSxFQUFBQyxLQUFBLGFBQUFDLENBQUEsTUFBQUEsQ0FBQSxHQUFBRCxLQUFBLENBQUFFLE1BQUEsRUFBQUQsQ0FBQSxVQUFBRSxVQUFBLEdBQUFILEtBQUEsQ0FBQUMsQ0FBQSxHQUFBRSxVQUFBLENBQUFDLFVBQUEsR0FBQUQsVUFBQSxDQUFBQyxVQUFBLFdBQUFELFVBQUEsQ0FBQUUsWUFBQSx3QkFBQUYsVUFBQSxFQUFBQSxVQUFBLENBQUFHLFFBQUEsU0FBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFULE1BQUEsRUFBQVUsY0FBQSxDQUFBTixVQUFBLENBQUFPLEdBQUEsR0FBQVAsVUFBQTtBQUFBLFNBQUFRLGFBQUFDLFdBQUEsRUFBQUMsVUFBQSxFQUFBQyxXQUFBLFFBQUFELFVBQUEsRUFBQWYsaUJBQUEsQ0FBQWMsV0FBQSxDQUFBZixTQUFBLEVBQUFnQixVQUFBLE9BQUFDLFdBQUEsRUFBQWhCLGlCQUFBLENBQUFjLFdBQUEsRUFBQUUsV0FBQSxHQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUksV0FBQSxpQkFBQU4sUUFBQSxtQkFBQU0sV0FBQTtBQUFBLFNBQUFILGVBQUFNLEdBQUEsUUFBQUwsR0FBQSxHQUFBTSxZQUFBLENBQUFELEdBQUEsb0JBQUF2QixPQUFBLENBQUFrQixHQUFBLGlCQUFBQSxHQUFBLEdBQUFPLE1BQUEsQ0FBQVAsR0FBQTtBQUFBLFNBQUFNLGFBQUFFLEtBQUEsRUFBQUMsSUFBQSxRQUFBM0IsT0FBQSxDQUFBMEIsS0FBQSxrQkFBQUEsS0FBQSxrQkFBQUEsS0FBQSxNQUFBRSxJQUFBLEdBQUFGLEtBQUEsQ0FBQXhCLE1BQUEsQ0FBQTJCLFdBQUEsT0FBQUQsSUFBQSxLQUFBRSxTQUFBLFFBQUFDLEdBQUEsR0FBQUgsSUFBQSxDQUFBSSxJQUFBLENBQUFOLEtBQUEsRUFBQUMsSUFBQSxvQkFBQTNCLE9BQUEsQ0FBQStCLEdBQUEsdUJBQUFBLEdBQUEsWUFBQUUsU0FBQSw0REFBQU4sSUFBQSxnQkFBQUYsTUFBQSxHQUFBUyxNQUFBLEVBQUFSLEtBQUE7QUFBQSxTQUFBUyxnQkFBQUMsUUFBQSxFQUFBaEIsV0FBQSxVQUFBZ0IsUUFBQSxZQUFBaEIsV0FBQSxlQUFBYSxTQUFBOzs7O0FBRUE7Ozs7QUFBQSxJQUtxQkksWUFBWSxnQkFBQWxCLFlBQUEsQ0FFN0IsU0FBQWtCLGFBQVlDLGdCQUFnQjtFQUFBSCxlQUFBLE9BQUFFLFlBQUE7RUFFekIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0VBRXhDLElBQU1DLGtCQUFrQixHQUFHRCxnQkFBZ0IsQ0FBQ0UsMkJBQTJCLENBQUNDLE9BQU87RUFFL0UsSUFBSSxDQUFDQyxjQUFjLEdBQUdILGtCQUFrQixDQUFDRyxjQUFjO0VBQ3ZELElBQUksQ0FBQ0MsY0FBYyxHQUFHSixrQkFBa0IsQ0FBQ0ksY0FBYztFQUN2RCxJQUFJLENBQUNDLFlBQVksR0FBR0wsa0JBQWtCLENBQUNLLFlBQVk7QUFFdEQsQ0FBQztBQVpMQyxrQkFBQSxHQUFBUixZQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9jcmFkbGUvc3RhdGVoYW5kbGVyLnRzeD82Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICBUaGlzIG1vZHVsZSBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGNyYWRsZSBzdGF0ZSBhbmQgdGhlIHN0YXRlIHNldHRpbmcgZm9yIG90aGVyIGhhbmRsZXJzLlxuICAgSXQgYWxzbyBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGlzTW91bnRlZFJlZiByZWZlcmVuY2UuXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZUhhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY3JhZGxlUGFyYW1ldGVycykge1xuXG4gICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgY29uc3QgaW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgdGhpcy5zZXRDcmFkbGVTdGF0ZSA9IGludGVybmFsUHJvcGVydGllcy5zZXRDcmFkbGVTdGF0ZVxuICAgICAgIHRoaXMuY3JhZGxlU3RhdGVSZWYgPSBpbnRlcm5hbFByb3BlcnRpZXMuY3JhZGxlU3RhdGVSZWZcbiAgICAgICB0aGlzLmlzTW91bnRlZFJlZiA9IGludGVybmFsUHJvcGVydGllcy5pc01vdW50ZWRSZWZcbiAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyYWRsZVBhcmFtZXRlcnNcblxuICAgIHB1YmxpYyBjcmFkbGVTdGF0ZVJlZlxuICAgIHB1YmxpYyBzZXRDcmFkbGVTdGF0ZVxuICAgIHB1YmxpYyBpc01vdW50ZWRSZWZcblxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIlN0YXRlSGFuZGxlciIsImNyYWRsZVBhcmFtZXRlcnMiLCJpbnRlcm5hbFByb3BlcnRpZXMiLCJjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYiLCJjdXJyZW50Iiwic2V0Q3JhZGxlU3RhdGUiLCJjcmFkbGVTdGF0ZVJlZiIsImlzTW91bnRlZFJlZiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cradle/statehandler.tsx\n')},"./src/cradle/styleshandler.tsx":(__unused_webpack_module,exports)=>{"use strict";eval("\n\n// styleshandler.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/*\n    This module provides the Cradle component with one key public function: getCradleStyles.\n    It returns an array of style objects for\n        headstyles,\n        tailstyles,\n        axisstyles,\n        cradledividerstyles\n        triggercelltriggerlineheadstyles,\n        triggercelltriggerlinetailstyles,\n*/\nvar StylesHandler = /*#__PURE__*/_createClass(function StylesHandler(cradleParameters) {\n  var _this = this;\n  _classCallCheck(this, StylesHandler);\n  this.getCradleStyles = function (_ref) {\n    var orientation = _ref.orientation,\n      cellHeight = _ref.cellHeight,\n      cellWidth = _ref.cellWidth,\n      gapProps = _ref.gapProps,\n      crosscount = _ref.crosscount,\n      userstyles = _ref.userstyles,\n      triggerlineOffset = _ref.triggerlineOffset,\n      layout = _ref.layout;\n    var headstyles = _this.getBaseHeadStyles(gapProps, orientation, userstyles.cradle),\n      tailstyles = _this.getBaseTailStyles(gapProps, orientation, userstyles.cradle),\n      axisstyles = _this.getAxisStyles(gapProps, orientation),\n      triggercelltriggerlineheadstyles = _this.getTriggercellTriggerlineHeadStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gapProps),\n      triggercelltriggerlinetailstyles = _this.getTriggercellTriggerlineTailStyles(orientation, cellHeight, cellWidth, triggerlineOffset, gapProps),\n      cradledividerstyles = {\n        zIndex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        boxShadow: '0 0 5px 3px red'\n      };\n    headstyles.gap = tailstyles.gap = gapProps.CSS;\n    // headstyles.padding set in contentHandler setCradleContent and updateCradleContent\n    if (orientation == 'vertical') {\n      // padding varies\n      tailstyles.padding = \"0px\";\n      // the following are identical for head and tail\n      headstyles.width = tailstyles.width = '100%';\n      headstyles.height = tailstyles.height = 'auto';\n      headstyles.gridTemplateRows = tailstyles.gridTemplateRows = null;\n      headstyles.gridTemplateColumns = tailstyles.gridTemplateColumns = \"repeat(\".concat(crosscount, \", minmax(\").concat(cellWidth, \"px, 1fr))\");\n      headstyles.gridAutoFlow = tailstyles.gridAutoFlow = 'row';\n      headstyles.gridAutoRows = tailstyles.gridAutoRows = layout == 'uniform' ? null : 'max-content';\n      headstyles.gridAutoColumns = tailstyles.gridAutoColumns = null;\n    } else {\n      // orientation == 'horizontal'\n      tailstyles.padding = \"0px\";\n      headstyles.width = tailstyles.width = 'auto';\n      headstyles.height = tailstyles.height = '100%';\n      headstyles.gridTemplateRows = tailstyles.gridTemplateRows = \"repeat(\".concat(crosscount, \", minmax(\").concat(cellHeight, \"px, 1fr))\");\n      headstyles.gridTemplateColumns = tailstyles.gridTemplateColumns = null;\n      headstyles.gridAutoFlow = tailstyles.gridAutoFlow = 'column';\n      headstyles.gridAutoRows = tailstyles.gridAutoRows = null;\n      headstyles.gridAutoColumns = tailstyles.gridAutoColumns = layout == 'uniform' ? null : 'max-content';\n    }\n    return [headstyles, tailstyles, axisstyles, cradledividerstyles, triggercelltriggerlineheadstyles, triggercelltriggerlinetailstyles];\n  };\n  // the top, right, bottom, left setting determine the direction of expansion of the grid block\n  this.getBaseHeadStyles = function (gapProps, orientation, userheadstyles) {\n    var bottom, left, top, right;\n    if (orientation == 'vertical') {\n      bottom = 0;\n      left = null;\n      right = null;\n      top = null;\n    } else {\n      bottom = null;\n      left = null;\n      right = 0;\n      top = null;\n    }\n    return Object.assign(Object.assign({}, userheadstyles), {\n      position: 'absolute',\n      display: 'grid',\n      gridGap: gapProps.CSS,\n      boxSizing: 'border-box',\n      bottom: bottom,\n      left: left,\n      right: right,\n      top: top\n    });\n  };\n  // the top, right, bottom, left setting determine the direction of expansion of the grid block\n  this.getBaseTailStyles = function (gapProps, orientation, usertailstyles) {\n    var bottom, left, top, right;\n    if (orientation == 'vertical') {\n      bottom = null;\n      left = null;\n      right = null;\n      top = 0;\n    } else {\n      bottom = null;\n      left = 0;\n      right = null;\n      top = null;\n    }\n    return Object.assign(Object.assign({}, usertailstyles), {\n      position: 'absolute',\n      display: 'grid',\n      gridGap: gapProps.CSS,\n      boxSizing: 'border-box',\n      top: top,\n      left: left,\n      right: right,\n      bottom: bottom\n    });\n  };\n  this.getAxisStyles = function (gapProps, orientation) {\n    var top, left, width, height; // for axis\n    if (orientation == 'vertical') {\n      top = 0; // default\n      left = 'auto';\n      width = '100%';\n      height = 0;\n    } else {\n      top = 'auto';\n      left = 0; // default\n      width = 0;\n      height = '100%';\n    }\n    return {\n      position: 'relative',\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n  this.getTriggercellTriggerlineHeadStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gapProps) {\n    var position = 'absolute';\n    var width, height, top, right, bottom, left;\n    if (orientation == 'vertical') {\n      width = '100%';\n      height = 0;\n      top = triggerlineOffset + 'px';\n      right = '0px';\n      bottom = null;\n      left = '0px';\n    } else {\n      width = 0;\n      height = '100%';\n      top = '0px';\n      right = null;\n      bottom = '0px';\n      left = triggerlineOffset + 'px';\n    }\n    return {\n      position: position,\n      width: width,\n      height: height,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left\n    };\n  };\n  this.getTriggercellTriggerlineTailStyles = function (orientation, cellHeight, cellWidth, triggerlineOffset, gapProps) {\n    var position = 'absolute';\n    var width, height, top, right, bottom, left;\n    if (orientation == 'vertical') {\n      width = '100%';\n      height = 0;\n      top = null;\n      right = '0px';\n      bottom = -(triggerlineOffset + gapProps.column) + 'px';\n      left = '0px';\n    } else {\n      width = 0;\n      height = '100%';\n      top = '0px';\n      right = -(triggerlineOffset + gapProps.row) + 'px';\n      bottom = '0px';\n      left = null;\n    }\n    return {\n      position: position,\n      width: width,\n      height: height,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left\n    };\n  };\n  this.cradleParameters = cradleParameters;\n});\nexports[\"default\"] = StylesHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3JhZGxlL3N0eWxlc2hhbmRsZXIudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLFFBQUFDLENBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixDQUFBLGtCQUFBQSxDQUFBLGdCQUFBQSxDQUFBLFdBQUFBLENBQUEseUJBQUFDLE1BQUEsSUFBQUQsQ0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsQ0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLENBQUEsS0FBQUQsT0FBQSxDQUFBQyxDQUFBO0FBQUEsU0FBQUssa0JBQUFDLE1BQUEsRUFBQUMsS0FBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUQsS0FBQSxDQUFBRSxNQUFBLEVBQUFELENBQUEsVUFBQUUsVUFBQSxHQUFBSCxLQUFBLENBQUFDLENBQUEsR0FBQUUsVUFBQSxDQUFBQyxVQUFBLEdBQUFELFVBQUEsQ0FBQUMsVUFBQSxXQUFBRCxVQUFBLENBQUFFLFlBQUEsd0JBQUFGLFVBQUEsRUFBQUEsVUFBQSxDQUFBRyxRQUFBLFNBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBVCxNQUFBLEVBQUFVLGNBQUEsQ0FBQU4sVUFBQSxDQUFBTyxHQUFBLEdBQUFQLFVBQUE7QUFBQSxTQUFBUSxhQUFBQyxXQUFBLEVBQUFDLFVBQUEsRUFBQUMsV0FBQSxRQUFBRCxVQUFBLEVBQUFmLGlCQUFBLENBQUFjLFdBQUEsQ0FBQWYsU0FBQSxFQUFBZ0IsVUFBQSxPQUFBQyxXQUFBLEVBQUFoQixpQkFBQSxDQUFBYyxXQUFBLEVBQUFFLFdBQUEsR0FBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFJLFdBQUEsaUJBQUFOLFFBQUEsbUJBQUFNLFdBQUE7QUFBQSxTQUFBSCxlQUFBTSxHQUFBLFFBQUFMLEdBQUEsR0FBQU0sWUFBQSxDQUFBRCxHQUFBLG9CQUFBdkIsT0FBQSxDQUFBa0IsR0FBQSxpQkFBQUEsR0FBQSxHQUFBTyxNQUFBLENBQUFQLEdBQUE7QUFBQSxTQUFBTSxhQUFBRSxLQUFBLEVBQUFDLElBQUEsUUFBQTNCLE9BQUEsQ0FBQTBCLEtBQUEsa0JBQUFBLEtBQUEsa0JBQUFBLEtBQUEsTUFBQUUsSUFBQSxHQUFBRixLQUFBLENBQUF4QixNQUFBLENBQUEyQixXQUFBLE9BQUFELElBQUEsS0FBQUUsU0FBQSxRQUFBQyxHQUFBLEdBQUFILElBQUEsQ0FBQUksSUFBQSxDQUFBTixLQUFBLEVBQUFDLElBQUEsb0JBQUEzQixPQUFBLENBQUErQixHQUFBLHVCQUFBQSxHQUFBLFlBQUFFLFNBQUEsNERBQUFOLElBQUEsZ0JBQUFGLE1BQUEsR0FBQVMsTUFBQSxFQUFBUixLQUFBO0FBQUEsU0FBQVMsZ0JBQUFDLFFBQUEsRUFBQWhCLFdBQUEsVUFBQWdCLFFBQUEsWUFBQWhCLFdBQUEsZUFBQWEsU0FBQTs7OztBQUVBOzs7Ozs7Ozs7O0FBQUEsSUFXcUJJLGFBQWEsZ0JBQUFsQixZQUFBLENBRS9CLFNBQUFrQixjQUFZQyxnQkFBZ0I7RUFBQSxJQUFBQyxLQUFBO0VBQUFKLGVBQUEsT0FBQUUsYUFBQTtFQVFwQixLQUFBRyxlQUFlLEdBQUcsVUFBQUMsSUFBQSxFQVdwQjtJQUFBLElBVERDLFdBQVcsR0FBQUQsSUFBQSxDQUFYQyxXQUFXO01BQ1hDLFVBQVUsR0FBQUYsSUFBQSxDQUFWRSxVQUFVO01BQ1ZDLFNBQVMsR0FBQUgsSUFBQSxDQUFURyxTQUFTO01BQ1RDLFFBQVEsR0FBQUosSUFBQSxDQUFSSSxRQUFRO01BQ1JDLFVBQVUsR0FBQUwsSUFBQSxDQUFWSyxVQUFVO01BQ1ZDLFVBQVUsR0FBQU4sSUFBQSxDQUFWTSxVQUFVO01BQ1ZDLGlCQUFpQixHQUFBUCxJQUFBLENBQWpCTyxpQkFBaUI7TUFDakJDLE1BQU0sR0FBQVIsSUFBQSxDQUFOUSxNQUFNO0lBSU4sSUFDSUMsVUFBVSxHQUFHWCxLQUFJLENBQUNZLGlCQUFpQixDQUFDTixRQUFRLEVBQUVILFdBQVcsRUFBRUssVUFBVSxDQUFDSyxNQUFNLENBQUM7TUFDN0VDLFVBQVUsR0FBR2QsS0FBSSxDQUFDZSxpQkFBaUIsQ0FBQ1QsUUFBUSxFQUFFSCxXQUFXLEVBQUVLLFVBQVUsQ0FBQ0ssTUFBTSxDQUFDO01BQzdFRyxVQUFVLEdBQUdoQixLQUFJLENBQUNpQixhQUFhLENBQUNYLFFBQVEsRUFBRUgsV0FBVyxDQUFDO01BRXREZSxnQ0FBZ0MsR0FDNUJsQixLQUFJLENBQUNtQixtQ0FBbUMsQ0FDcENoQixXQUFXLEVBQUNDLFVBQVUsRUFBRUMsU0FBUyxFQUFFSSxpQkFBaUIsRUFBRUgsUUFBUSxDQUFDO01BQ3ZFYyxnQ0FBZ0MsR0FDNUJwQixLQUFJLENBQUNxQixtQ0FBbUMsQ0FDcENsQixXQUFXLEVBQUNDLFVBQVUsRUFBRUMsU0FBUyxFQUFFSSxpQkFBaUIsRUFBRUgsUUFBUSxDQUFDO01BRXZFZ0IsbUJBQW1CLEdBQ2Y7UUFDSUMsTUFBTSxFQUFDLENBQUM7UUFDUkMsUUFBUSxFQUFDLFVBQVU7UUFDbkJDLEtBQUssRUFBQyxNQUFNO1FBQ1pDLE1BQU0sRUFBQyxNQUFNO1FBQ2JDLFNBQVMsRUFBQztPQUNiO0lBRVRoQixVQUFVLENBQUNpQixHQUFHLEdBQUdkLFVBQVUsQ0FBQ2MsR0FBRyxHQUFHdEIsUUFBUSxDQUFDdUIsR0FBRztJQUU5QztJQUNBLElBQUkxQixXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCO01BQ0FXLFVBQVUsQ0FBQ2dCLE9BQU8sUUFBUTtNQUUxQjtNQUNBbkIsVUFBVSxDQUFDYyxLQUFLLEdBQUdYLFVBQVUsQ0FBQ1csS0FBSyxHQUFHLE1BQU07TUFDNUNkLFVBQVUsQ0FBQ2UsTUFBTSxHQUFHWixVQUFVLENBQUNZLE1BQU0sR0FBRyxNQUFNO01BRTlDZixVQUFVLENBQUNvQixnQkFBZ0IsR0FBR2pCLFVBQVUsQ0FBQ2lCLGdCQUFnQixHQUFHLElBQUk7TUFFaEVwQixVQUFVLENBQUNxQixtQkFBbUIsR0FDOUJsQixVQUFVLENBQUNrQixtQkFBbUIsYUFBQUMsTUFBQSxDQUNaMUIsVUFBVSxlQUFBMEIsTUFBQSxDQUFZNUIsU0FBUyxjQUFXO01BRTVETSxVQUFVLENBQUN1QixZQUFZLEdBQUdwQixVQUFVLENBQUNvQixZQUFZLEdBQUcsS0FBSztNQUV6RHZCLFVBQVUsQ0FBQ3dCLFlBQVksR0FDdkJyQixVQUFVLENBQUNxQixZQUFZLEdBQ2xCekIsTUFBTSxJQUFJLFNBQVMsR0FDaEIsSUFBSSxHQUNKLGFBQWE7TUFFckJDLFVBQVUsQ0FBQ3lCLGVBQWUsR0FBR3RCLFVBQVUsQ0FBQ3NCLGVBQWUsR0FBRyxJQUFJO0tBRWpFLE1BQU07TUFBRTtNQUVMdEIsVUFBVSxDQUFDZ0IsT0FBTyxRQUFRO01BRTFCbkIsVUFBVSxDQUFDYyxLQUFLLEdBQUdYLFVBQVUsQ0FBQ1csS0FBSyxHQUFHLE1BQU07TUFDNUNkLFVBQVUsQ0FBQ2UsTUFBTSxHQUFHWixVQUFVLENBQUNZLE1BQU0sR0FBRyxNQUFNO01BRTlDZixVQUFVLENBQUNvQixnQkFBZ0IsR0FDM0JqQixVQUFVLENBQUNpQixnQkFBZ0IsYUFBQUUsTUFBQSxDQUNUMUIsVUFBVSxlQUFBMEIsTUFBQSxDQUFZN0IsVUFBVSxjQUFXO01BRTdETyxVQUFVLENBQUNxQixtQkFBbUIsR0FBR2xCLFVBQVUsQ0FBQ2tCLG1CQUFtQixHQUFHLElBQUk7TUFFdEVyQixVQUFVLENBQUN1QixZQUFZLEdBQUdwQixVQUFVLENBQUNvQixZQUFZLEdBQUcsUUFBUTtNQUM1RHZCLFVBQVUsQ0FBQ3dCLFlBQVksR0FBR3JCLFVBQVUsQ0FBQ3FCLFlBQVksR0FBRyxJQUFJO01BRXhEeEIsVUFBVSxDQUFDeUIsZUFBZSxHQUMxQnRCLFVBQVUsQ0FBQ3NCLGVBQWUsR0FDckIxQixNQUFNLElBQUksU0FBUyxHQUNoQixJQUFJLEdBQ0osYUFBYTs7SUFJekIsT0FBTyxDQUNIQyxVQUFVLEVBQ1ZHLFVBQVUsRUFDVkUsVUFBVSxFQUNWTSxtQkFBbUIsRUFDbkJKLGdDQUFnQyxFQUNoQ0UsZ0NBQWdDLENBQ25DO0VBRUwsQ0FBQztFQUVEO0VBQ1EsS0FBQVIsaUJBQWlCLEdBQ3JCLFVBQUNOLFFBQVEsRUFBQ0gsV0FBVyxFQUFDa0MsY0FBYyxFQUFJO0lBRXhDLElBQUlDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxHQUFHLEVBQUVDLEtBQUs7SUFFNUIsSUFBSXRDLFdBQVcsSUFBSSxVQUFVLEVBQUU7TUFDM0JtQyxNQUFNLEdBQUcsQ0FBQztNQUNWQyxJQUFJLEdBQUcsSUFBSTtNQUNYRSxLQUFLLEdBQUcsSUFBSTtNQUNaRCxHQUFHLEdBQUcsSUFBSTtLQUNiLE1BQU07TUFDSEYsTUFBTSxHQUFHLElBQUk7TUFDYkMsSUFBSSxHQUFHLElBQUk7TUFDWEUsS0FBSyxHQUFHLENBQUM7TUFDVEQsR0FBRyxHQUFHLElBQUk7O0lBR2QsT0FBQWhFLE1BQUEsQ0FBQWtFLE1BQUEsQ0FBQWxFLE1BQUEsQ0FBQWtFLE1BQUEsS0FDT0wsY0FBYztNQUNqQmIsUUFBUSxFQUFFLFVBQVU7TUFDcEJtQixPQUFPLEVBQUUsTUFBTTtNQUNmQyxPQUFPLEVBQUV0QyxRQUFRLENBQUN1QixHQUFHO01BQ3JCZ0IsU0FBUyxFQUFDLFlBQVk7TUFDdEJQLE1BQU0sRUFBTkEsTUFBTTtNQUNOQyxJQUFJLEVBQUpBLElBQUk7TUFDSkUsS0FBSyxFQUFMQSxLQUFLO01BQ0xELEdBQUcsRUFBSEE7SUFBRztFQUVYLENBQUM7RUFFRDtFQUNRLEtBQUF6QixpQkFBaUIsR0FDckIsVUFBQ1QsUUFBUSxFQUFDSCxXQUFXLEVBQUMyQyxjQUFjLEVBQUk7SUFFeEMsSUFBSVIsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEdBQUcsRUFBRUMsS0FBSztJQUU1QixJQUFJdEMsV0FBVyxJQUFJLFVBQVUsRUFBRTtNQUMzQm1DLE1BQU0sR0FBRyxJQUFJO01BQ2JDLElBQUksR0FBRyxJQUFJO01BQ1hFLEtBQUssR0FBRyxJQUFJO01BQ1pELEdBQUcsR0FBRyxDQUFDO0tBQ1YsTUFBTTtNQUNIRixNQUFNLEdBQUcsSUFBSTtNQUNiQyxJQUFJLEdBQUcsQ0FBQztNQUNSRSxLQUFLLEdBQUcsSUFBSTtNQUNaRCxHQUFHLEdBQUcsSUFBSTs7SUFHZCxPQUFBaEUsTUFBQSxDQUFBa0UsTUFBQSxDQUFBbEUsTUFBQSxDQUFBa0UsTUFBQSxLQUNPSSxjQUFjO01BQ2pCdEIsUUFBUSxFQUFFLFVBQVU7TUFDcEJtQixPQUFPLEVBQUUsTUFBTTtNQUNmQyxPQUFPLEVBQUV0QyxRQUFRLENBQUN1QixHQUFHO01BQ3JCZ0IsU0FBUyxFQUFDLFlBQVk7TUFDdEJMLEdBQUcsRUFBSEEsR0FBRztNQUNIRCxJQUFJLEVBQUpBLElBQUk7TUFDSkUsS0FBSyxFQUFMQSxLQUFLO01BQ0xILE1BQU0sRUFBTkE7SUFBTTtFQUVkLENBQUM7RUFFTyxLQUFBckIsYUFBYSxHQUNqQixVQUFDWCxRQUFRLEVBQUVILFdBQVcsRUFBSTtJQUUxQixJQUFJcUMsR0FBRyxFQUFFRCxJQUFJLEVBQUVkLEtBQUssRUFBRUMsTUFBTSxFQUFDO0lBRTdCLElBQUl2QixXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCcUMsR0FBRyxHQUFHLENBQUMsRUFBQztNQUNSRCxJQUFJLEdBQUcsTUFBTTtNQUNiZCxLQUFLLEdBQUcsTUFBTTtNQUNkQyxNQUFNLEdBQUcsQ0FBQztLQUViLE1BQU07TUFFSGMsR0FBRyxHQUFHLE1BQU07TUFDWkQsSUFBSSxHQUFHLENBQUMsRUFBQztNQUNUZCxLQUFLLEdBQUcsQ0FBQztNQUNUQyxNQUFNLEdBQUcsTUFBTTs7SUFJbkIsT0FBTztNQUVIRixRQUFRLEVBQUUsVUFBVTtNQUNwQmdCLEdBQUcsRUFBSEEsR0FBRztNQUNIRCxJQUFJLEVBQUpBLElBQUk7TUFDSmQsS0FBSyxFQUFMQSxLQUFLO01BQ0xDLE1BQU0sRUFBTkE7S0FFSDtFQUVMLENBQUM7RUFFTyxLQUFBUCxtQ0FBbUMsR0FDdkMsVUFBQ2hCLFdBQVcsRUFBRUMsVUFBVSxFQUFFQyxTQUFTLEVBQUVJLGlCQUFpQixFQUFFSCxRQUFRLEVBQUk7SUFFcEUsSUFBTWtCLFFBQVEsR0FBRyxVQUFVO0lBRTNCLElBQUlDLEtBQUssRUFBRUMsTUFBTSxFQUFFYyxHQUFHLEVBQUVDLEtBQUssRUFBRUgsTUFBTSxFQUFFQyxJQUFJO0lBRTNDLElBQUlwQyxXQUFXLElBQUksVUFBVSxFQUFFO01BRTNCc0IsS0FBSyxHQUFHLE1BQU07TUFDZEMsTUFBTSxHQUFHLENBQUM7TUFDVmMsR0FBRyxHQUFHL0IsaUJBQWlCLEdBQUcsSUFBSTtNQUM5QmdDLEtBQUssR0FBRyxLQUFLO01BQ2JILE1BQU0sR0FBRyxJQUFJO01BQ2JDLElBQUksR0FBRyxLQUFLO0tBRWYsTUFBTTtNQUVIZCxLQUFLLEdBQUcsQ0FBQztNQUNUQyxNQUFNLEdBQUcsTUFBTTtNQUNmYyxHQUFHLEdBQUcsS0FBSztNQUNYQyxLQUFLLEdBQUcsSUFBSTtNQUNaSCxNQUFNLEdBQUcsS0FBSztNQUNkQyxJQUFJLEdBQUc5QixpQkFBaUIsR0FBRyxJQUFJOztJQUluQyxPQUFPO01BRUhlLFFBQVEsRUFBUkEsUUFBUTtNQUNSQyxLQUFLLEVBQUxBLEtBQUs7TUFDTEMsTUFBTSxFQUFOQSxNQUFNO01BQ05jLEdBQUcsRUFBSEEsR0FBRztNQUNIQyxLQUFLLEVBQUxBLEtBQUs7TUFDTEgsTUFBTSxFQUFOQSxNQUFNO01BQ05DLElBQUksRUFBSkE7S0FFSDtFQUNMLENBQUM7RUFDTyxLQUFBbEIsbUNBQW1DLEdBQ3ZDLFVBQUNsQixXQUFXLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFSSxpQkFBaUIsRUFBRUgsUUFBUSxFQUFJO0lBRXBFLElBQU1rQixRQUFRLEdBQUcsVUFBVTtJQUUzQixJQUFJQyxLQUFLLEVBQUVDLE1BQU0sRUFBRWMsR0FBRyxFQUFFQyxLQUFLLEVBQUVILE1BQU0sRUFBRUMsSUFBSTtJQUUzQyxJQUFJcEMsV0FBVyxJQUFJLFVBQVUsRUFBRTtNQUUzQnNCLEtBQUssR0FBRyxNQUFNO01BQ2RDLE1BQU0sR0FBRyxDQUFDO01BQ1ZjLEdBQUcsR0FBRyxJQUFJO01BQ1ZDLEtBQUssR0FBRyxLQUFLO01BQ2JILE1BQU0sR0FBRyxFQUFFN0IsaUJBQWlCLEdBQUdILFFBQVEsQ0FBQ3lDLE1BQU0sQ0FBQyxHQUFHLElBQUk7TUFDdERSLElBQUksR0FBRyxLQUFLO0tBRWYsTUFBTTtNQUVIZCxLQUFLLEdBQUcsQ0FBQztNQUNUQyxNQUFNLEdBQUcsTUFBTTtNQUNmYyxHQUFHLEdBQUcsS0FBSztNQUNYQyxLQUFLLEdBQUcsRUFBRWhDLGlCQUFpQixHQUFHSCxRQUFRLENBQUMwQyxHQUFHLENBQUMsR0FBRyxJQUFJO01BQ2xEVixNQUFNLEdBQUcsS0FBSztNQUNkQyxJQUFJLEdBQUcsSUFBSTs7SUFJZixPQUFPO01BRUhmLFFBQVEsRUFBUkEsUUFBUTtNQUNSQyxLQUFLLEVBQUxBLEtBQUs7TUFDTEMsTUFBTSxFQUFOQSxNQUFNO01BQ05jLEdBQUcsRUFBSEEsR0FBRztNQUNIQyxLQUFLLEVBQUxBLEtBQUs7TUFDTEgsTUFBTSxFQUFOQSxNQUFNO01BQ05DLElBQUksRUFBSkE7S0FFSDtFQUNMLENBQUM7RUFuUkMsSUFBSSxDQUFDeEMsZ0JBQWdCLEdBQUdBLGdCQUFnQjtBQUUxQyxDQUFDO0FBTkxrRCxrQkFBQSxHQUFBbkQsYUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9zcmMvY3JhZGxlL3N0eWxlc2hhbmRsZXIudHN4PzQ1ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGVzaGFuZGxlci50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbi8qXG4gICAgVGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIENyYWRsZSBjb21wb25lbnQgd2l0aCBvbmUga2V5IHB1YmxpYyBmdW5jdGlvbjogZ2V0Q3JhZGxlU3R5bGVzLlxuICAgIEl0IHJldHVybnMgYW4gYXJyYXkgb2Ygc3R5bGUgb2JqZWN0cyBmb3JcbiAgICAgICAgaGVhZHN0eWxlcyxcbiAgICAgICAgdGFpbHN0eWxlcyxcbiAgICAgICAgYXhpc3N0eWxlcyxcbiAgICAgICAgY3JhZGxlZGl2aWRlcnN0eWxlc1xuICAgICAgICB0cmlnZ2VyY2VsbHRyaWdnZXJsaW5laGVhZHN0eWxlcyxcbiAgICAgICAgdHJpZ2dlcmNlbGx0cmlnZ2VybGluZXRhaWxzdHlsZXMsXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHlsZXNIYW5kbGVyIHsgXG5cbiAgIGNvbnN0cnVjdG9yKGNyYWRsZVBhcmFtZXRlcnMpIHtcblxuICAgICAgdGhpcy5jcmFkbGVQYXJhbWV0ZXJzID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmFkbGVQYXJhbWV0ZXJzXG5cbiAgICBwdWJsaWMgZ2V0Q3JhZGxlU3R5bGVzID0gKHtcblxuICAgICAgICBvcmllbnRhdGlvbiwgXG4gICAgICAgIGNlbGxIZWlnaHQsIFxuICAgICAgICBjZWxsV2lkdGgsIFxuICAgICAgICBnYXBQcm9wcyxcbiAgICAgICAgY3Jvc3Njb3VudCwgXG4gICAgICAgIHVzZXJzdHlsZXMsXG4gICAgICAgIHRyaWdnZXJsaW5lT2Zmc2V0LFxuICAgICAgICBsYXlvdXQsXG5cbiAgICB9KSA9PiB7XG5cbiAgICAgICAgY29uc3QgXG4gICAgICAgICAgICBoZWFkc3R5bGVzID0gdGhpcy5nZXRCYXNlSGVhZFN0eWxlcyhnYXBQcm9wcywgb3JpZW50YXRpb24sIHVzZXJzdHlsZXMuY3JhZGxlKSxcbiAgICAgICAgICAgIHRhaWxzdHlsZXMgPSB0aGlzLmdldEJhc2VUYWlsU3R5bGVzKGdhcFByb3BzLCBvcmllbnRhdGlvbiwgdXNlcnN0eWxlcy5jcmFkbGUpLFxuICAgICAgICAgICAgYXhpc3N0eWxlcyA9IHRoaXMuZ2V0QXhpc1N0eWxlcyhnYXBQcm9wcywgb3JpZW50YXRpb24pLFxuXG4gICAgICAgICAgICB0cmlnZ2VyY2VsbHRyaWdnZXJsaW5laGVhZHN0eWxlcyA9XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUcmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlcyhcbiAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sY2VsbEhlaWdodCwgY2VsbFdpZHRoLCB0cmlnZ2VybGluZU9mZnNldCwgZ2FwUHJvcHMpLFxuICAgICAgICAgICAgdHJpZ2dlcmNlbGx0cmlnZ2VybGluZXRhaWxzdHlsZXMgPSBcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVUYWlsU3R5bGVzKFxuICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbixjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXBQcm9wcyksXG5cbiAgICAgICAgICAgIGNyYWRsZWRpdmlkZXJzdHlsZXMgPSBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDoxLCBcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246J2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6JzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6JzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6JzAgMCA1cHggM3B4IHJlZCdcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgaGVhZHN0eWxlcy5nYXAgPSB0YWlsc3R5bGVzLmdhcCA9IGdhcFByb3BzLkNTU1xuXG4gICAgICAgIC8vIGhlYWRzdHlsZXMucGFkZGluZyBzZXQgaW4gY29udGVudEhhbmRsZXIgc2V0Q3JhZGxlQ29udGVudCBhbmQgdXBkYXRlQ3JhZGxlQ29udGVudFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuXG4gICAgICAgICAgICAvLyBwYWRkaW5nIHZhcmllc1xuICAgICAgICAgICAgdGFpbHN0eWxlcy5wYWRkaW5nID0gYDBweGBcblxuICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgaWRlbnRpY2FsIGZvciBoZWFkIGFuZCB0YWlsXG4gICAgICAgICAgICBoZWFkc3R5bGVzLndpZHRoID0gdGFpbHN0eWxlcy53aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVhZHN0eWxlcy5oZWlnaHQgPSB0YWlsc3R5bGVzLmhlaWdodCA9ICdhdXRvJ1xuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSB0YWlsc3R5bGVzLmdyaWRUZW1wbGF0ZVJvd3MgPSBudWxsXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVDb2x1bW5zID0gXG4gICAgICAgICAgICAgICAgICAgIGByZXBlYXQoJHtjcm9zc2NvdW50fSwgbWlubWF4KCR7Y2VsbFdpZHRofXB4LCAxZnIpKWBcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSB0YWlsc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdyb3cnXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9Sb3dzID0gXG4gICAgICAgICAgICB0YWlsc3R5bGVzLmdyaWRBdXRvUm93cyA9XG4gICAgICAgICAgICAgICAgKGxheW91dCA9PSAndW5pZm9ybScpP1xuICAgICAgICAgICAgICAgICAgICBudWxsOlxuICAgICAgICAgICAgICAgICAgICAnbWF4LWNvbnRlbnQnXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZEF1dG9Db2x1bW5zID0gdGFpbHN0eWxlcy5ncmlkQXV0b0NvbHVtbnMgPSBudWxsXG5cbiAgICAgICAgfSBlbHNlIHsgLy8gb3JpZW50YXRpb24gPT0gJ2hvcml6b250YWwnXG5cbiAgICAgICAgICAgIHRhaWxzdHlsZXMucGFkZGluZyA9IGAwcHhgXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMud2lkdGggPSB0YWlsc3R5bGVzLndpZHRoID0gJ2F1dG8nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmhlaWdodCA9IHRhaWxzdHlsZXMuaGVpZ2h0ID0gJzEwMCUnXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlUm93cyA9IFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkVGVtcGxhdGVSb3dzID0gXG4gICAgICAgICAgICAgICAgICAgIGByZXBlYXQoJHtjcm9zc2NvdW50fSwgbWlubWF4KCR7Y2VsbEhlaWdodH1weCwgMWZyKSlgXG5cbiAgICAgICAgICAgIGhlYWRzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IHRhaWxzdHlsZXMuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IG51bGxcblxuICAgICAgICAgICAgaGVhZHN0eWxlcy5ncmlkQXV0b0Zsb3cgPSB0YWlsc3R5bGVzLmdyaWRBdXRvRmxvdyA9ICdjb2x1bW4nXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRBdXRvUm93cyA9IHRhaWxzdHlsZXMuZ3JpZEF1dG9Sb3dzID0gbnVsbFxuXG4gICAgICAgICAgICBoZWFkc3R5bGVzLmdyaWRBdXRvQ29sdW1ucyA9IFxuICAgICAgICAgICAgdGFpbHN0eWxlcy5ncmlkQXV0b0NvbHVtbnMgPSBcbiAgICAgICAgICAgICAgICAobGF5b3V0ID09ICd1bmlmb3JtJyk/XG4gICAgICAgICAgICAgICAgICAgIG51bGw6XG4gICAgICAgICAgICAgICAgICAgICdtYXgtY29udGVudCdcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGhlYWRzdHlsZXMsXG4gICAgICAgICAgICB0YWlsc3R5bGVzLFxuICAgICAgICAgICAgYXhpc3N0eWxlcyxcbiAgICAgICAgICAgIGNyYWRsZWRpdmlkZXJzdHlsZXMsXG4gICAgICAgICAgICB0cmlnZ2VyY2VsbHRyaWdnZXJsaW5laGVhZHN0eWxlcyxcbiAgICAgICAgICAgIHRyaWdnZXJjZWxsdHJpZ2dlcmxpbmV0YWlsc3R5bGVzLFxuICAgICAgICBdXG4gICAgICAgIFxuICAgIH1cblxuICAgIC8vIHRoZSB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgc2V0dGluZyBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbiBvZiBleHBhbnNpb24gb2YgdGhlIGdyaWQgYmxvY2tcbiAgICBwcml2YXRlIGdldEJhc2VIZWFkU3R5bGVzID0gXG4gICAgICAgIChnYXBQcm9wcyxvcmllbnRhdGlvbix1c2VyaGVhZHN0eWxlcykgPT4ge1xuXG4gICAgICAgIGxldCBib3R0b20sIGxlZnQsIHRvcCwgcmlnaHRcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgYm90dG9tID0gMFxuICAgICAgICAgICAgbGVmdCA9IG51bGxcbiAgICAgICAgICAgIHJpZ2h0ID0gbnVsbFxuICAgICAgICAgICAgdG9wID0gbnVsbFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm90dG9tID0gbnVsbFxuICAgICAgICAgICAgbGVmdCA9IG51bGxcbiAgICAgICAgICAgIHJpZ2h0ID0gMFxuICAgICAgICAgICAgdG9wID0gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnVzZXJoZWFkc3R5bGVzLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgICAgICBncmlkR2FwOiBnYXBQcm9wcy5DU1MsXG4gICAgICAgICAgICBib3hTaXppbmc6J2JvcmRlci1ib3gnLFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhlIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCBzZXR0aW5nIGRldGVybWluZSB0aGUgZGlyZWN0aW9uIG9mIGV4cGFuc2lvbiBvZiB0aGUgZ3JpZCBibG9ja1xuICAgIHByaXZhdGUgZ2V0QmFzZVRhaWxTdHlsZXMgPSBcbiAgICAgICAgKGdhcFByb3BzLG9yaWVudGF0aW9uLHVzZXJ0YWlsc3R5bGVzKSA9PiB7XG5cbiAgICAgICAgbGV0IGJvdHRvbSwgbGVmdCwgdG9wLCByaWdodFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBib3R0b20gPSBudWxsXG4gICAgICAgICAgICBsZWZ0ID0gbnVsbFxuICAgICAgICAgICAgcmlnaHQgPSBudWxsXG4gICAgICAgICAgICB0b3AgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b20gPSBudWxsXG4gICAgICAgICAgICBsZWZ0ID0gMFxuICAgICAgICAgICAgcmlnaHQgPSBudWxsXG4gICAgICAgICAgICB0b3AgPSBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udXNlcnRhaWxzdHlsZXMsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgIGdyaWRHYXA6IGdhcFByb3BzLkNTUyxcbiAgICAgICAgICAgIGJveFNpemluZzonYm9yZGVyLWJveCcsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBeGlzU3R5bGVzID0gXG4gICAgICAgIChnYXBQcm9wcywgb3JpZW50YXRpb24pID0+IHtcblxuICAgICAgICBsZXQgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IC8vIGZvciBheGlzXG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09ICd2ZXJ0aWNhbCcpIHtcblxuICAgICAgICAgICAgdG9wID0gMCAvLyBkZWZhdWx0XG4gICAgICAgICAgICBsZWZ0ID0gJ2F1dG8nXG4gICAgICAgICAgICB3aWR0aCA9ICcxMDAlJ1xuICAgICAgICAgICAgaGVpZ2h0ID0gMFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRvcCA9ICdhdXRvJ1xuICAgICAgICAgICAgbGVmdCA9IDAgLy8gZGVmYXVsdFxuICAgICAgICAgICAgd2lkdGggPSAwXG4gICAgICAgICAgICBoZWlnaHQgPSAnMTAwJSdcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUcmlnZ2VyY2VsbFRyaWdnZXJsaW5lSGVhZFN0eWxlcyA9IFxuICAgICAgICAob3JpZW50YXRpb24sIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgdHJpZ2dlcmxpbmVPZmZzZXQsIGdhcFByb3BzKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSAnYWJzb2x1dGUnXG5cbiAgICAgICAgbGV0IHdpZHRoLCBoZWlnaHQsIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdFxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSB0cmlnZ2VybGluZU9mZnNldCArICdweCdcbiAgICAgICAgICAgIHJpZ2h0ID0gJzBweCdcbiAgICAgICAgICAgIGJvdHRvbSA9IG51bGxcbiAgICAgICAgICAgIGxlZnQgPSAnMHB4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0b3AgPSAnMHB4J1xuICAgICAgICAgICAgcmlnaHQgPSBudWxsXG4gICAgICAgICAgICBib3R0b20gPSAnMHB4J1xuICAgICAgICAgICAgbGVmdCA9IHRyaWdnZXJsaW5lT2Zmc2V0ICsgJ3B4J1xuXG4gICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcblxuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgZ2V0VHJpZ2dlcmNlbGxUcmlnZ2VybGluZVRhaWxTdHlsZXMgPSBcbiAgICAgICAgKG9yaWVudGF0aW9uLCBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIHRyaWdnZXJsaW5lT2Zmc2V0LCBnYXBQcm9wcykgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuXG4gICAgICAgIGxldCB3aWR0aCwgaGVpZ2h0LCB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRcbiAgICAgICAgXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gJzEwMCUnXG4gICAgICAgICAgICBoZWlnaHQgPSAwXG4gICAgICAgICAgICB0b3AgPSBudWxsXG4gICAgICAgICAgICByaWdodCA9ICcwcHgnXG4gICAgICAgICAgICBib3R0b20gPSAtKHRyaWdnZXJsaW5lT2Zmc2V0ICsgZ2FwUHJvcHMuY29sdW1uKSArICdweCdcbiAgICAgICAgICAgIGxlZnQgPSAnMHB4J1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHdpZHRoID0gMFxuICAgICAgICAgICAgaGVpZ2h0ID0gJzEwMCUnXG4gICAgICAgICAgICB0b3AgPSAnMHB4J1xuICAgICAgICAgICAgcmlnaHQgPSAtKHRyaWdnZXJsaW5lT2Zmc2V0ICsgZ2FwUHJvcHMucm93KSArICdweCdcbiAgICAgICAgICAgIGJvdHRvbSA9ICcwcHgnXG4gICAgICAgICAgICBsZWZ0ID0gbnVsbFxuXG4gICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX3RvUHJvcGVydHlLZXkiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIlN0eWxlc0hhbmRsZXIiLCJjcmFkbGVQYXJhbWV0ZXJzIiwiX3RoaXMiLCJnZXRDcmFkbGVTdHlsZXMiLCJfcmVmIiwib3JpZW50YXRpb24iLCJjZWxsSGVpZ2h0IiwiY2VsbFdpZHRoIiwiZ2FwUHJvcHMiLCJjcm9zc2NvdW50IiwidXNlcnN0eWxlcyIsInRyaWdnZXJsaW5lT2Zmc2V0IiwibGF5b3V0IiwiaGVhZHN0eWxlcyIsImdldEJhc2VIZWFkU3R5bGVzIiwiY3JhZGxlIiwidGFpbHN0eWxlcyIsImdldEJhc2VUYWlsU3R5bGVzIiwiYXhpc3N0eWxlcyIsImdldEF4aXNTdHlsZXMiLCJ0cmlnZ2VyY2VsbHRyaWdnZXJsaW5laGVhZHN0eWxlcyIsImdldFRyaWdnZXJjZWxsVHJpZ2dlcmxpbmVIZWFkU3R5bGVzIiwidHJpZ2dlcmNlbGx0cmlnZ2VybGluZXRhaWxzdHlsZXMiLCJnZXRUcmlnZ2VyY2VsbFRyaWdnZXJsaW5lVGFpbFN0eWxlcyIsImNyYWRsZWRpdmlkZXJzdHlsZXMiLCJ6SW5kZXgiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2hhZG93IiwiZ2FwIiwiQ1NTIiwicGFkZGluZyIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiY29uY2F0IiwiZ3JpZEF1dG9GbG93IiwiZ3JpZEF1dG9Sb3dzIiwiZ3JpZEF1dG9Db2x1bW5zIiwidXNlcmhlYWRzdHlsZXMiLCJib3R0b20iLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJhc3NpZ24iLCJkaXNwbGF5IiwiZ3JpZEdhcCIsImJveFNpemluZyIsInVzZXJ0YWlsc3R5bGVzIiwiY29sdW1uIiwicm93IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cradle/styleshandler.tsx\n")},"./src/portalcache/CachePartition.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// CachePartition.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nvar react_1 = __importStar(__webpack_require__(/*! react */ "react"));\nvar CachePartition = function CachePartition(_ref) {\n  var partitionProps = _ref.partitionProps,\n    partitionID = _ref.partitionID,\n    callback = _ref.callback;\n  var _ref2 = (0, react_1.useState)(0),\n    _ref3 = _slicedToArray(_ref2, 2),\n    portalListCounter = _ref3[0],\n    setPortalListCounter = _ref3[1];\n  var _ref4 = (0, react_1.useState)(\'setup\'),\n    _ref5 = _slicedToArray(_ref4, 2),\n    partitionState = _ref5[0],\n    setPartitionState = _ref5[1];\n  var counterRef = (0, react_1.useRef)(portalListCounter);\n  var isMountedRef = (0, react_1.useRef)(true);\n  var portalArrayRef = (0, react_1.useRef)(null);\n  var partitionMetadata = partitionProps.partitionMetadataMap.get(partitionID);\n  var forceUpdate = (0, react_1.useCallback)(function (portalRenderList) {\n    portalArrayRef.current = portalRenderList;\n    isMountedRef.current && setPortalListCounter(++counterRef.current); // force render\n  }, []);\n  (0, react_1.useEffect)(function () {\n    isMountedRef.current = true;\n    partitionMetadata.forceUpdate = forceUpdate;\n    callback();\n    return function () {\n      isMountedRef.current = false;\n    };\n  }, []);\n  (0, react_1.useEffect)(function () {\n    switch (partitionState) {\n      case \'setup\':\n        {\n          setPartitionState(\'ready\');\n          break;\n        }\n    }\n  }, [partitionState]);\n  return react_1["default"].createElement("div", {\n    key: partitionID,\n    "data-type": \'cachepartition\',\n    "data-partitionid": partitionID\n  }, portalArrayRef.current);\n};\nexports["default"] = CachePartition;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxZQUFLO01BRVJZLFlBQVksQ0FBQ1EsT0FBTyxHQUFHLEtBQUs7SUFFaEMsQ0FBQztFQUVMLENBQUMsRUFBQyxFQUFFLENBQUM7RUFFTCxJQUFBM0IsT0FBQSxDQUFBNEIsU0FBUyxFQUFDLFlBQUk7SUFFVixRQUFRYixjQUFjO01BQ2xCLEtBQUssT0FBTztRQUFFO1VBQ1ZDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztVQUMxQjs7O0VBSVosQ0FBQyxFQUFDLENBQUNELGNBQWMsQ0FBQyxDQUFDO0VBRW5CLE9BQU9mLE9BQUEsWUFBQTZCLGFBQUE7SUFBS0MsR0FBRyxFQUFJeEIsV0FBVztJQUFBLGFBQWMsZ0JBQWdCO0lBQUEsb0JBQXFCQTtFQUFXLEdBQ3ZGYyxjQUFjLENBQUNPLE9BQU8sQ0FDckI7QUFFVixDQUFDO0FBRURJLGtCQUFBLEdBQWU1QixjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL3NyYy9wb3J0YWxjYWNoZS9DYWNoZVBhcnRpdGlvbi50c3g/NTk0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYWNoZVBhcnRpdGlvbi50c3hcbi8vIGNvcHlyaWdodCAoYykgMjAxOS0yMDIzIEhlbnJpayBCZWNobWFubiwgVG9yb250bywgTGljZW5jZTogTUlUXG5cbmltcG9ydCBSZWFjdCwge3VzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2t9IGZyb20gJ3JlYWN0J1xuXG5jb25zdCBDYWNoZVBhcnRpdGlvbiA9ICh7IHBhcnRpdGlvblByb3BzLCBwYXJ0aXRpb25JRCwgY2FsbGJhY2sgfSkgPT4ge1xuXG4gICAgY29uc3QgW3BvcnRhbExpc3RDb3VudGVyLCBzZXRQb3J0YWxMaXN0Q291bnRlcl0gPSB1c2VTdGF0ZSgwKVxuXG4gICAgY29uc3QgW3BhcnRpdGlvblN0YXRlLCBzZXRQYXJ0aXRpb25TdGF0ZV0gPSB1c2VTdGF0ZSgnc2V0dXAnKVxuXG4gICAgY29uc3QgY291bnRlclJlZiA9IHVzZVJlZihwb3J0YWxMaXN0Q291bnRlcilcblxuICAgIGNvbnN0IGlzTW91bnRlZFJlZiA9IHVzZVJlZih0cnVlKVxuXG4gICAgY29uc3QgcG9ydGFsQXJyYXlSZWYgPSB1c2VSZWYobnVsbClcblxuICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gcGFydGl0aW9uUHJvcHMucGFydGl0aW9uTWV0YWRhdGFNYXAuZ2V0KHBhcnRpdGlvbklEKVxuXG4gICAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VDYWxsYmFjaygocG9ydGFsUmVuZGVyTGlzdCkgPT4ge1xuXG4gICAgICAgIHBvcnRhbEFycmF5UmVmLmN1cnJlbnQgPSBwb3J0YWxSZW5kZXJMaXN0XG5cbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgc2V0UG9ydGFsTGlzdENvdW50ZXIoKytjb3VudGVyUmVmLmN1cnJlbnQpIC8vIGZvcmNlIHJlbmRlclxuXG4gICAgfSxbXSlcblxuICAgIHVzZUVmZmVjdCgoKT0+e1xuXG4gICAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgICAgIHBhcnRpdGlvbk1ldGFkYXRhLmZvcmNlVXBkYXRlID0gZm9yY2VVcGRhdGVcblxuICAgICAgICBjYWxsYmFjaygpXG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxuXG4gICAgICAgIH1cblxuICAgIH0sW10pIFxuXG4gICAgdXNlRWZmZWN0KCgpPT57XG5cbiAgICAgICAgc3dpdGNoIChwYXJ0aXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc2V0dXAnOiB7XG4gICAgICAgICAgICAgICAgc2V0UGFydGl0aW9uU3RhdGUoJ3JlYWR5JylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFtwYXJ0aXRpb25TdGF0ZV0pXG5cbiAgICByZXR1cm4gPGRpdiBrZXkgPSB7cGFydGl0aW9uSUR9IGRhdGEtdHlwZSA9ICdjYWNoZXBhcnRpdGlvbicgZGF0YS1wYXJ0aXRpb25pZCA9IHtwYXJ0aXRpb25JRH0+XG4gICAgICAgIHtwb3J0YWxBcnJheVJlZi5jdXJyZW50fVxuICAgIDwvZGl2PlxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENhY2hlUGFydGl0aW9uIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJvIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJBcnJheSIsImZyb20iLCJ0ZXN0IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsInIiLCJsIiwidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZSIsInUiLCJhIiwiZiIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiaXNBcnJheSIsInJlYWN0XzEiLCJfX2ltcG9ydFN0YXIiLCJyZXF1aXJlIiwiQ2FjaGVQYXJ0aXRpb24iLCJfcmVmIiwicGFydGl0aW9uUHJvcHMiLCJwYXJ0aXRpb25JRCIsImNhbGxiYWNrIiwiX3JlZjIiLCJ1c2VTdGF0ZSIsIl9yZWYzIiwicG9ydGFsTGlzdENvdW50ZXIiLCJzZXRQb3J0YWxMaXN0Q291bnRlciIsIl9yZWY0IiwiX3JlZjUiLCJwYXJ0aXRpb25TdGF0ZSIsInNldFBhcnRpdGlvblN0YXRlIiwiY291bnRlclJlZiIsInVzZVJlZiIsImlzTW91bnRlZFJlZiIsInBvcnRhbEFycmF5UmVmIiwicGFydGl0aW9uTWV0YWRhdGEiLCJwYXJ0aXRpb25NZXRhZGF0YU1hcCIsImdldCIsImZvcmNlVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJwb3J0YWxSZW5kZXJMaXN0IiwiY3VycmVudCIsInVzZUVmZmVjdCIsImNyZWF0ZUVsZW1lbnQiLCJrZXkiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/portalcache/CachePartition.tsx\n')},"./src/portalcache/cacheAPI.tsx":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\n\n// cacheAPI.tsx\n// copyright (c) 2019-2023 Henrik Bechmann, Toronto, Licence: MIT\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n/*\n    This module manages the InfiniteGridScroller limited (sparse) cache. It also provides support for\n    services which allow the host to actively manage many aspects of the cache. See documentation\n    about the user functionsCallback callback for details. The cacheMax property allows for control of the\n    maximum device memory consumption of the cache.\n\n    The infinite grid scroller stores user cell content (components) in a central hidden cache,\n    from whence the components are pulled into the relevant CellFrames for display. The user components are\n    stored in React portals, with each portal instantiated in a container div (data-type = \'portalwrapper\').\n    These container divs are part of a standard React component list in the real DOM. The contained portals\n    themselves are not part of the real DOM, but are part of React\'s virtual DOM.\n\n    See https://reactjs.org/docs/portals.html for general information about React portals.\n    See https://www.npmjs.com/package/react-reverse-portal for the utility that InfiniteGridScroller\n    uses to manage portals.\n\n    This caching has many advantages, notably the ability to move cells back and forth between the\n    head and tail grids of the Cradle without losing state, and the ability to maintain state for\n    complex components which move beyond the scope of the content of the Cradle.\n\n    There is an important side effect to consider. Instantiated components which are removed from the real DOM\n    into the portal of the virtual DOM have their scroll positions, width, and height set to zero. Therefore if\n    components rely on these values for configuration, they must have a way of storing those values in state\n    (notably the Scroll Pos - scrollLeft or scrollTop), recognizing when the component comes out of the portal cache\n    into the real DOM (width and height are typically no longer both 0), and responding to change in\n    cache state appropriately.\n\n    Tips:\n        - your component is in cache when both width and height = 0\n        - your component is out of cache when both width and height are back to normal\n        - if you create an empty \'scrollerProperties\' property for your component, CellFrame will\n            set it to an object containing scrollerPropertiesRef and cellFramePropertiesRef\n        - if your component does not scroll, there should be no issues.\n\n*/\n// import React, {useState, useEffect, useRef, useCallback} from \'react\'\nvar react_1 = __importDefault(__webpack_require__(/*! react */ "react"));\nvar react_reverse_portal_1 = __webpack_require__(/*! react-reverse-portal */ "./node_modules/react-reverse-portal/dist/web/index.js");\nvar CachePartition_1 = __importDefault(__webpack_require__(/*! ./CachePartition */ "./src/portalcache/CachePartition.tsx"));\n// the cache itself is maintained in the root infinitegridscroller component\nvar CacheAPI = /*#__PURE__*/function () {\n  function CacheAPI(CACHE_PARTITION_SIZE) {\n    var _this = this;\n    _classCallCheck(this, CacheAPI);\n    this.globalItemID = 0;\n    this.globalPartitionID = 0;\n    this.itemMetadataMap = new Map();\n    this.scrollerDataMap = new Map();\n    this.partitionProps = {\n      partitionMetadataMap: new Map(),\n      partitionMap: new Map(),\n      partitionRenderList: null,\n      partitionRepoForceUpdate: null,\n      partitionModifiedSet: new Set(),\n      partitionPtr: null // active partition, for followup\n    };\n    // a facade is used to accommodate access by multiple RIGS scrollers\n    this.getFacade = function (scrollerID) {\n      var facade = {\n        // measureMemory:(source) => {\n        //     this.measureMemory(source, scrollerID)\n        // },\n        // get and set data\n        get indexToItemIDMap() {\n          return this.getIndexToItemIDMap();\n        },\n        getIndexToItemIDMap: function getIndexToItemIDMap() {\n          return _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n        },\n        get itemSet() {\n          return this.getItemSet();\n        },\n        getItemSet: function getItemSet() {\n          return _this.scrollerDataMap.get(scrollerID).itemSet;\n        },\n        itemMetadataMap: _this.itemMetadataMap,\n        get requestedSet() {\n          return this.getRequestedSet();\n        },\n        getRequestedSet: function getRequestedSet() {\n          return _this.scrollerDataMap.get(scrollerID).requestedSet;\n        },\n        set partitionRepoForceUpdate(fn) {\n          this.setPartitionRepoForceUpdate(fn);\n        },\n        setPartitionRepoForceUpdate: function setPartitionRepoForceUpdate(fn) {\n          _this.partitionProps.partitionRepoForceUpdate = fn;\n        },\n        set cradleParameters(parms) {\n          this.setCradleParameters(parms);\n        },\n        setCradleParameters: function setCradleParameters(parms) {\n          _this.scrollerDataMap.get(scrollerID).cradleParameters = parms;\n        },\n        set portalPartitionItemsForDeleteList(list) {\n          this.setPortalPartitionItemsForDeleteList(list);\n        },\n        setPortalPartitionItemsForDeleteList: function setPortalPartitionItemsForDeleteList(list) {\n          _this.scrollerDataMap.get(scrollerID).portalPartitionItemsForDeleteList = list;\n        },\n        get instance() {\n          return this.getInstance();\n        },\n        getInstance: function getInstance() {\n          return _this;\n        },\n        // methods\n        unRegisterScroller: function unRegisterScroller(itemSet) {\n          return _this.unRegisterScroller(scrollerID, itemSet);\n        },\n        renderPartitionRepo: function renderPartitionRepo() {\n          return _this.renderPartitionRepo();\n        },\n        renderPortalLists: function renderPortalLists() {\n          return _this.renderPortalLists();\n        },\n        clearCache: function clearCache() {\n          return _this.clearCache(scrollerID);\n        },\n        changeCacheListSize: function changeCacheListSize(newlistsize, deleteListCallback) {\n          return _this.changeCacheListSize(scrollerID, newlistsize, deleteListCallback);\n        },\n        changeCacheListRange: function changeCacheListRange(newlistrange, deleteListCallback) {\n          return _this.changeCacheListRange(scrollerID, newlistrange, deleteListCallback);\n        },\n        matchCacheToCradle: function matchCacheToCradle(cradleIndexList, deleteListCallback) {\n          return _this.matchCacheToCradle(scrollerID, cradleIndexList, deleteListCallback);\n        },\n        pareCacheToMax: function pareCacheToMax(cacheMax, cradleIndexList, deleteListCallback) {\n          return _this.pareCacheToMax(scrollerID, cacheMax, cradleIndexList, deleteListCallback);\n        },\n        guardAgainstRunawayCaching: function guardAgainstRunawayCaching(cacheMax, cradleListLength, MAX_CACHE_OVER_RUN) {\n          return _this.guardAgainstRunawayCaching(scrollerID, cacheMax, cradleListLength, MAX_CACHE_OVER_RUN);\n        },\n        preload: function preload(finalCallback, nullItemSetMaxListsize) {\n          return _this.preload(scrollerID, finalCallback, nullItemSetMaxListsize);\n        },\n        getCacheIndexMap: function getCacheIndexMap() {\n          return _this.getCacheIndexMap(scrollerID);\n        },\n        getCradleIndexMap: function getCradleIndexMap(cradleIndexList) {\n          return _this.getCradleIndexMap(scrollerID, cradleIndexList);\n        },\n        getCacheItemMap: function getCacheItemMap() {\n          return _this.getCacheItemMap(scrollerID);\n        },\n        moveIndex: function moveIndex(tolowindex, fromlowindex, fromhighindex) {\n          return _this.moveIndex(scrollerID, tolowindex, fromlowindex, fromhighindex);\n        },\n        insertRemoveIndex: function insertRemoveIndex(index, highrange, increment, listsize) {\n          return _this.insertRemoveIndex(scrollerID, index, highrange, increment, listsize);\n        },\n        registerPendingPortal: function registerPendingPortal(index) {\n          return _this.registerPendingPortal(scrollerID, index);\n        },\n        unregisterPendingPortal: function unregisterPendingPortal(index) {\n          return _this.unregisterPendingPortal(scrollerID, index);\n        },\n        getNewItemID: function getNewItemID() {\n          return _this.getNewItemID();\n        },\n        getNewOrExistingItemID: function getNewOrExistingItemID(index) {\n          return _this.getNewOrExistingItemID(scrollerID, index);\n        },\n        createPortal: function createPortal(component, index, itemID, scrollerProperties) {\n          var isPreload = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          return _this.createPortal(scrollerID, component, index, itemID, scrollerProperties, isPreload = false);\n        },\n        deletePortalByIndex: function deletePortalByIndex(index, deleteListCallback) {\n          return _this.deletePortalByIndex(scrollerID, index, deleteListCallback);\n        },\n        applyPortalPartitionItemsForDeleteList: function applyPortalPartitionItemsForDeleteList() {\n          return _this.applyPortalPartitionItemsForDeleteList(scrollerID);\n        },\n        hasPortal: function hasPortal(itemID) {\n          return _this.hasPortal(itemID);\n        },\n        getPortalMetadata: function getPortalMetadata(itemID) {\n          return _this.getPortalMetadata(itemID);\n        }\n      };\n      return facade;\n    };\n    this.unRegisterScroller = function (scrollerID, itemSet) {\n      var scrollerDataMap = _this.scrollerDataMap,\n        itemMetadataMap = _this.itemMetadataMap;\n      if (scrollerDataMap.size == 1) return; // already getting dismantled; avoid conflict\n      scrollerDataMap["delete"](scrollerID);\n      itemSet.forEach(function (itemID) {\n        var _itemMetadataMap$get = itemMetadataMap.get(itemID),\n          partitionID = _itemMetadataMap$get.partitionID;\n        _this.removePartitionPortal(partitionID, itemID);\n        itemMetadataMap["delete"](itemID);\n      });\n      _this.renderPortalLists();\n      // this.measureMemory(\'UNREGISTER\', scrollerID)\n    };\n    // ===========================[ CACHE PARTITION MANAGEMENT ]===============================\n    // partitions are added but not removed\n    this.renderPartitionRepo = function () {\n      _this.partitionProps.partitionRenderList = Array.from(_this.partitionProps.partitionMap.values());\n      _this.partitionProps.partitionRepoForceUpdate(_this.partitionProps.partitionRenderList);\n    };\n    this.addPartition = function () {\n      var partitionID = _this.globalPartitionID++;\n      _this.partitionProps.partitionMetadataMap.set(partitionID, {\n        portalMap: new Map(),\n        mapcount: 0,\n        portalRenderList: null,\n        modified: false,\n        forceUpdate: null,\n        partitionID: partitionID\n      });\n      var resolvefunc = {\n        current: null\n      };\n      var promise = new Promise(function (resolve) {\n        resolvefunc.current = resolve;\n      });\n      var callback = function callback() {\n        resolvefunc.current(partitionID);\n      };\n      _this.partitionProps.partitionMap.set(partitionID, react_1["default"].createElement(CachePartition_1["default"], {\n        key: partitionID,\n        partitionProps: _this.partitionProps,\n        partitionID: partitionID,\n        callback: callback\n      }));\n      _this.renderPartitionRepo();\n      return promise;\n    };\n    this.addPartitionPortal = function (partitionID, itemID, portal) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      partitionMetadata.portalMap.set(itemID, portal);\n      _this.partitionProps.partitionModifiedSet.add(partitionID);\n    };\n    this.removePartitionPortal = function (partitionID, itemID) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      partitionMetadata.portalMap["delete"](itemID);\n      partitionMetadata.mapcount -= 1;\n      _this.partitionProps.partitionModifiedSet.add(partitionID);\n    };\n    this.renderPartition = function (partitionID) {\n      var partitionMetadata = _this.partitionProps.partitionMetadataMap.get(partitionID);\n      if (!partitionMetadata) return;\n      partitionMetadata.portalRenderList = Array.from(partitionMetadata.portalMap.values());\n      // if forceUpdate has not yet been assigned, it is in the works from first call of partition\n      partitionMetadata.forceUpdate && partitionMetadata.forceUpdate(partitionMetadata.portalRenderList);\n    };\n    // set state of the CachePartition component of the scroller to trigger render\n    this.renderPortalLists = function () {\n      var partitionModifiedSet = _this.partitionProps.partitionModifiedSet;\n      if (partitionModifiedSet.size) {\n        partitionModifiedSet.forEach(function (partitionID) {\n          _this.renderPartition(partitionID);\n        });\n        _this.partitionProps.partitionModifiedSet.clear();\n      }\n    };\n    this.clearCache = function (scrollerID) {\n      var scrollerDataMap = _this.scrollerDataMap,\n        itemMetadataMap = _this.itemMetadataMap;\n      var datamap = scrollerDataMap.get(scrollerID);\n      var indexToItemIDMap = datamap.indexToItemIDMap,\n        itemSet = datamap.itemSet,\n        requestedSet = datamap.requestedSet;\n      if (scrollerDataMap.size == 1) {\n        // clear base data\n        itemMetadataMap.clear();\n        // clear cache partitions\n        _this.partitionProps.partitionMetadataMap.clear();\n        _this.partitionProps.partitionMap.clear();\n        _this.partitionProps.partitionRenderList = [];\n        _this.partitionProps.partitionModifiedSet.clear();\n        _this.partitionProps.partitionPtr = null;\n        _this.partitionProps.partitionRepoForceUpdate(null);\n      } else {\n        itemSet.forEach(function (itemID) {\n          var _itemMetadataMap$get2 = itemMetadataMap.get(itemID),\n            partitionID = _itemMetadataMap$get2.partitionID;\n          _this.removePartitionPortal(partitionID, itemID);\n        });\n        _this.renderPortalLists();\n      }\n      indexToItemIDMap.clear();\n      itemSet.clear();\n      requestedSet.clear();\n    };\n    //===========================[ REPOSITORY AND LIST MANAGEMENT ]==================================\n    // ----------------------------[ basic operations ]--------------------------\n    // called from Cradle.nullItemSetMaxListsize, and serviceHandler.setListSize\n    this.changeCacheListSize = function (scrollerID, newlistsize, deleteListCallback) {\n      if (newlistsize.length == 0) {\n        _this.clearCache(scrollerID);\n        return;\n      }\n      // match cache to newlistsize\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var mapkeysList = Array.from(portalIndexMap.keys());\n      mapkeysList.sort(function (a, b) {\n        return a - b;\n      }); // ascending\n      var _this$scrollerDataMap = _this.scrollerDataMap.get(scrollerID),\n        cradleParameters = _this$scrollerDataMap.cradleParameters;\n      var virtualListProps = cradleParameters.cradleInternalPropertiesRef.current.virtualListProps;\n      var lowindex = virtualListProps.lowindex;\n      var highestindex = mapkeysList.at(-1);\n      if (highestindex > newlistsize + lowindex - 1) {\n        // pare the cache\n        var parelist = mapkeysList.filter(function (index) {\n          var comparehighindex = newlistsize + lowindex - 1;\n          return index > comparehighindex;\n        });\n        _this.deletePortalByIndex(scrollerID, parelist, deleteListCallback);\n      }\n    };\n    this.changeCacheListRange = function (scrollerID, newlistrange, deleteListCallback) {\n      if (newlistrange.length == 0) {\n        _this.clearCache(scrollerID);\n        return;\n      }\n      // match cache to newlistsize\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var mapkeysList = Array.from(portalIndexMap.keys());\n      mapkeysList.sort(function (a, b) {\n        return a - b;\n      }); // ascending\n      // const { cradleParameters } = this.scrollerDataMap.get(scrollerID)\n      // const { virtualListProps } = cradleParameters.cradleInternalPropertiesRef.current\n      // const { lowcurrentindex, highcurrentindex } = virtualListProps\n      var _newlistrange = _slicedToArray(newlistrange, 2),\n        lownewindex = _newlistrange[0],\n        highnewindex = _newlistrange[1];\n      var highestindex = mapkeysList.at(-1);\n      var lowestindex = mapkeysList.at(0);\n      if (highestindex > highnewindex) {\n        // pare the cache\n        var compareindex = highnewindex;\n        var parelist = mapkeysList.filter(function (index) {\n          return index > compareindex;\n        });\n        _this.deletePortalByIndex(scrollerID, parelist, deleteListCallback);\n      }\n      if (lowestindex < lownewindex) {\n        // pare the cache\n        var _compareindex = lownewindex;\n        var _parelist = mapkeysList.filter(function (index) {\n          return index < _compareindex;\n        });\n        _this.deletePortalByIndex(scrollerID, _parelist, deleteListCallback);\n      }\n    };\n    // ----------------------[ cache size limit enforceent ]------------------\n    this.matchCacheToCradle = function (scrollerID, cradleIndexList, deleteListCallback) {\n      var mapkeys = Array.from(_this.scrollerDataMap.get(scrollerID).indexToItemIDMap.keys());\n      var delkeys = mapkeys.filter(function (key) {\n        return !cradleIndexList.includes(key);\n      });\n      if (delkeys.length) {\n        _this.deletePortalByIndex(scrollerID, delkeys, deleteListCallback);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    this.pareCacheToMax = function (scrollerID, cacheMax, cradleIndexList, deleteListCallback) {\n      var modelLength = cradleIndexList.length;\n      // determine need for paring\n      if (!cacheMax || !modelLength) return false;\n      var max = Math.max(modelLength, cacheMax);\n      var portalIndexMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap,\n        requestedSet = _this.scrollerDataMap.get(scrollerID).requestedSet;\n      if (portalIndexMap.size + requestedSet.size <= max) return false;\n      // sort the map keys\n      var mapkeyslist = Array.from(portalIndexMap.keys()),\n        requestedkeys = Array.from(requestedSet.keys());\n      var mapkeys = [].concat(mapkeyslist, requestedkeys);\n      mapkeys.sort(function (a, b) {\n        return a - b;\n      });\n      // get number to pare\n      var mapLength = mapkeys.length,\n        parecount = mapLength - max;\n      // distribute paring proportionally at front and back\n      var headindex = cradleIndexList[0],\n        tailindex = cradleIndexList[modelLength - 1],\n        headpos = mapkeys.indexOf(headindex),\n        tailpos = mapkeys.indexOf(tailindex);\n      var headroom = headpos,\n        tailroom = mapLength - (tailpos + 1),\n        pareroom = headroom + tailroom;\n      var headparecount = Math.floor(headroom / pareroom * parecount),\n        tailparecount = parecount - headparecount;\n      // collect indexes to pare\n      var headlist = mapkeys.slice(0, headparecount),\n        taillist = mapkeys.slice(mapLength - tailparecount);\n      var delList = [].concat(_toConsumableArray(headlist), _toConsumableArray(taillist));\n      _this.deletePortalByIndex(scrollerID, delList, deleteListCallback);\n      return true;\n    };\n    this.guardAgainstRunawayCaching = function (scrollerID, cacheMax, cradleListLength, MAX_CACHE_OVER_RUN) {\n      if (!cacheMax) return false;\n      var _this$scrollerDataMap2 = _this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap2.indexToItemIDMap,\n        requestedSet = _this$scrollerDataMap2.requestedSet;\n      var max = Math.max(cradleListLength, cacheMax);\n      if (indexToItemIDMap.size + requestedSet.size <= max * MAX_CACHE_OVER_RUN) {\n        return false;\n      } else {\n        return true;\n      }\n    };\n    // --------------------------------[ preload ]--------------------------------\n    this.preload = function (scrollerID, finalCallback, nullItemSetMaxListsize) {\n      var _this$scrollerDataMap3 = _this.scrollerDataMap.get(scrollerID),\n        cradleParameters = _this$scrollerDataMap3.cradleParameters;\n      var scrollerPropertiesRef = cradleParameters.scrollerPropertiesRef;\n      var _cradleParameters$han = cradleParameters.handlersRef.current,\n        stateHandler = _cradleParameters$han.stateHandler,\n        serviceHandler = _cradleParameters$han.serviceHandler,\n        cradleInheritedProperties = cradleParameters.cradleInheritedPropertiesRef.current,\n        cradleInternalProperties = cradleParameters.cradleInternalPropertiesRef.current;\n      // const { getItem, cacheMax } = cradleInheritedProperties,\n      var getItem = cradleInheritedProperties.getItem,\n        _cradleInternalProper = cradleInternalProperties.virtualListProps,\n        lowindex = _cradleInternalProper.lowindex,\n        highindex = _cradleInternalProper.highindex;\n      var promises = [];\n      // let cacheSize = cacheMax ?? 0\n      // cacheSize = Math.min(cacheSize, listsize)\n      // const preloadsize = \n      //     cacheSize?\n      //         cacheSize:\n      //         listsize\n      var breakloop = {\n        current: false\n      };\n      var maxListsizeInterrupt = function maxListsizeInterrupt(index) {\n        breakloop.current = true;\n        nullItemSetMaxListsize(index);\n      };\n      if (stateHandler.isMountedRef.current) {\n        var indexToItemIDMap = _this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n        var _serviceHandler$callb = serviceHandler.callbacks,\n          preloadIndexCallback = _serviceHandler$callb.preloadIndexCallback,\n          itemExceptionCallback = _serviceHandler$callb.itemExceptionCallback;\n        for (var index = lowindex; index <= highindex; index++) {\n          preloadIndexCallback && preloadIndexCallback(index);\n          if (!indexToItemIDMap.has(index)) {\n            var promise = _this.preloadItem(scrollerID, index, getItem, scrollerPropertiesRef, itemExceptionCallback, maxListsizeInterrupt);\n            promises.push(promise);\n          }\n          if (breakloop.current) break;\n        }\n      }\n      Promise.allSettled(promises).then(function () {\n        _this.renderPortalLists();\n        finalCallback();\n      });\n    };\n    this.applyPortalPartitionItemsForDeleteList = function (scrollerID) {\n      var _this$scrollerDataMap4 = _this.scrollerDataMap.get(scrollerID),\n        portalPartitionItemsForDeleteList = _this$scrollerDataMap4.portalPartitionItemsForDeleteList;\n      if (portalPartitionItemsForDeleteList && portalPartitionItemsForDeleteList.length) {\n        var _iterator = _createForOfIteratorHelper(portalPartitionItemsForDeleteList),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            _this.removePartitionPortal(item.partitionID, item.itemID);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        _this.scrollerDataMap.get(scrollerID).portalPartitionItemsForDeleteList = [];\n        _this.renderPortalLists();\n      }\n    };\n    this.CACHE_PARTITION_SIZE = CACHE_PARTITION_SIZE;\n  }\n  // public measureMemory(source, scrollerID) {\n  //   console.log(\'usedJSHeapSize\',\'-\'+scrollerID+\'-\',source, performance[\'memory\'][\'usedJSHeapSize\'])\n  // }\n  // ===========================[ Scroller Registration & Maintenance ]===============================\n  // the only member accessed directly. All other access is through the facade\n  _createClass(CacheAPI, [{\n    key: "registerScroller",\n    value: function registerScroller(scrollerID) {\n      this.scrollerDataMap.set(scrollerID, {\n        cradleParameters: null,\n        indexToItemIDMap: new Map(),\n        // some portals may have been requested by requestidlecallback, not yet created\n        itemSet: new Set(),\n        requestedSet: new Set(),\n        portalPartitionItemsForDeleteList: null\n      });\n      // this.measureMemory(\'REGISTER\', scrollerID)\n      return this.getFacade(scrollerID);\n    }\n  }, {\n    key: "findPartitionWithRoom",\n    value: function findPartitionWithRoom() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var CACHE_PARTITION_SIZE, partitionMetadataMap, partitionPtr, partitionMetadata, _iterator2, _step2, _step2$value, partitionID, _partitionMetadata;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              CACHE_PARTITION_SIZE = this.CACHE_PARTITION_SIZE;\n              partitionMetadataMap = this.partitionProps.partitionMetadataMap;\n              partitionPtr = this.partitionProps.partitionPtr;\n              if (!(partitionPtr !== null)) {\n                _context.next = 8;\n                break;\n              }\n              partitionMetadata = partitionMetadataMap.get(partitionPtr);\n              if (!(partitionMetadata.mapcount < CACHE_PARTITION_SIZE)) {\n                _context.next = 8;\n                break;\n              }\n              partitionMetadata.mapcount += 1;\n              return _context.abrupt("return", partitionPtr);\n            case 8:\n              partitionPtr = null;\n              _iterator2 = _createForOfIteratorHelper(partitionMetadataMap);\n              _context.prev = 10;\n              _iterator2.s();\n            case 12:\n              if ((_step2 = _iterator2.n()).done) {\n                _context.next = 20;\n                break;\n              }\n              _step2$value = _slicedToArray(_step2.value, 2), partitionID = _step2$value[0], _partitionMetadata = _step2$value[1];\n              if (!(_partitionMetadata.mapcount < CACHE_PARTITION_SIZE)) {\n                _context.next = 18;\n                break;\n              }\n              _partitionMetadata.mapcount += 1;\n              partitionPtr = partitionID;\n              return _context.abrupt("break", 20);\n            case 18:\n              _context.next = 12;\n              break;\n            case 20:\n              _context.next = 25;\n              break;\n            case 22:\n              _context.prev = 22;\n              _context.t0 = _context["catch"](10);\n              _iterator2.e(_context.t0);\n            case 25:\n              _context.prev = 25;\n              _iterator2.f();\n              return _context.finish(25);\n            case 28:\n              if (!(partitionPtr === null)) {\n                _context.next = 34;\n                break;\n              }\n              _context.next = 31;\n              return this.addPartition();\n            case 31:\n              partitionPtr = _context.sent;\n              partitionMetadata = partitionMetadataMap.get(partitionPtr);\n              partitionMetadata.mapcount += 1;\n            case 34:\n              this.partitionProps.partitionPtr = partitionPtr;\n              return _context.abrupt("return", partitionPtr);\n            case 36:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this, [[10, 22, 25, 28]]);\n      }));\n    }\n    // =========================[ SNAPSHOTS ]=========================\n  }, {\n    key: "getCacheIndexMap",\n    value: function getCacheIndexMap(scrollerID) {\n      return new Map(this.scrollerDataMap.get(scrollerID).indexToItemIDMap);\n    }\n  }, {\n    key: "getCradleIndexMap",\n    value: function getCradleIndexMap(scrollerID, cradleIndexList) {\n      var cradleMap = new Map(),\n        _this$scrollerDataMap5 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap5.indexToItemIDMap;\n      var _iterator3 = _createForOfIteratorHelper(cradleIndexList),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var index = _step3.value;\n          cradleMap.set(index, indexToItemIDMap.get(index));\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      return cradleMap;\n    }\n  }, {\n    key: "getCacheItemMap",\n    value: function getCacheItemMap(scrollerID) {\n      var cachelist = new Map();\n      var _this$scrollerDataMap6 = this.scrollerDataMap.get(scrollerID),\n        itemSet = _this$scrollerDataMap6.itemSet;\n      var itemMetadataMap = this.itemMetadataMap;\n      // for (const [key, value] of this.itemMetadataMap) {\n      var _iterator4 = _createForOfIteratorHelper(itemSet),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var itemID = _step4.value;\n          var metadata = itemMetadataMap.get(itemID);\n          var index = metadata.index,\n            component = metadata.component;\n          cachelist.set(itemID, {\n            index: index,\n            component: component\n          });\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      return cachelist;\n    }\n    // ==========================[ SERVICE SUPPORT ]=========================\n    // --------------------------[ move indexes ]-------------------------------\n    // move is coerced by servicehandler to be within current list bounds\n  }, {\n    key: "moveIndex",\n    value: function moveIndex(scrollerID, tolowindex, fromlowindex, fromhighindex) {\n      var indexToItemIDMap = this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var itemMetadataMap = this.itemMetadataMap;\n      // ----------- define parameters ---------------\n      var moveblocksize = fromhighindex - fromlowindex + 1,\n        moveincrement = tolowindex - fromlowindex,\n        tohighindex = tolowindex + (moveblocksize - 1);\n      var movedirection = moveincrement > 0 ?\n      // move block up in list\n      \'up\' :\n      // shift down, make room for shiftingindex above\n      \'down\'; // shift up, make room for shiftingindex below\n      // ------------ find bounds of from and to blocks in cache -------------\n      var orderedindexlist = Array.from(indexToItemIDMap.keys()).sort(function (a, b) {\n        return a - b;\n      });\n      var reverseorderedindexlist = orderedindexlist.slice().reverse();\n      var tolowindexptr = orderedindexlist.findIndex(function (value) {\n          return value >= tolowindex;\n        }),\n        fromlowindexptr = orderedindexlist.findIndex(function (value) {\n          return value >= fromlowindex;\n        });\n      var tohighindexptr = reverseorderedindexlist.findIndex(function (value) {\n          return value <= tohighindex;\n        }),\n        fromhighindexptr = reverseorderedindexlist.findIndex(function (value) {\n          return value <= fromhighindex;\n        });\n      // get required inverse\n      {\n        var cachelistcount = orderedindexlist.length;\n        if (tohighindexptr != -1) tohighindexptr = cachelistcount - 1 - tohighindexptr;\n        if (fromhighindexptr != -1) fromhighindexptr = cachelistcount - 1 - fromhighindexptr;\n      }\n      // ---------------- capture index data to move ----------------\n      var listtoprocessformove;\n      if (fromlowindexptr == -1 && fromhighindexptr == -1) {\n        // scope is out of view\n        listtoprocessformove = [];\n      } else if (fromhighindexptr == -1) {\n        // scope is partially in view\n        listtoprocessformove = orderedindexlist.slice(fromlowindexptr);\n      } else {\n        // scope is entirely in view\n        listtoprocessformove = orderedindexlist.slice(fromlowindexptr, fromhighindexptr + 1);\n      }\n      var processtomoveMap = new Map();\n      var capturemoveindexFn = function capturemoveindexFn(index) {\n        processtomoveMap.set(index, indexToItemIDMap.get(index));\n      };\n      listtoprocessformove.forEach(capturemoveindexFn);\n      // ------------- get list of indexes to shift out of the way ---------------\n      var listtoprocessfordisplace;\n      if (movedirection == \'down\') {\n        // block is moving down, shift is up; toindex < fromindex\n        if (tolowindexptr == -1 && fromlowindexptr == -1) {\n          listtoprocessfordisplace = [];\n        } else if (fromlowindexptr == -1) {\n          listtoprocessfordisplace = orderedindexlist.slice(tolowindexptr);\n        } else {\n          listtoprocessfordisplace = orderedindexlist.slice(tolowindexptr, fromlowindexptr);\n        }\n      } else {\n        // shiftdirection == -1; block is moving up, shift is down; fromindex < toindex\n        if (tohighindexptr == -1 && fromhighindexptr == -1) {\n          listtoprocessfordisplace = [];\n        } else if (tohighindexptr == -1) {\n          listtoprocessfordisplace = orderedindexlist.slice(fromhighindexptr + 1);\n        } else {\n          listtoprocessfordisplace = orderedindexlist.slice(fromhighindexptr + 1, tohighindexptr + 1);\n        }\n      }\n      if (movedirection == \'down\') listtoprocessfordisplace.reverse();\n      // -------------- move indexes out of the way --------------\n      var processeddisplaceList = [];\n      var processsdisplaceindexFn = function processsdisplaceindexFn(index) {\n        var itemID = indexToItemIDMap.get(index);\n        var newIndex = movedirection == \'up\' ? index - moveblocksize : index + moveblocksize;\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        processeddisplaceList.push(newIndex);\n      };\n      listtoprocessfordisplace.forEach(processsdisplaceindexFn);\n      // ------------ replace shifted index space with moved indexes ----------\n      var processedmoveList = [];\n      var processmoveindexFn = function processmoveindexFn(itemID, index) {\n        var newIndex = index + moveincrement; // swap\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        processedmoveList.push(newIndex);\n      };\n      processtomoveMap.forEach(processmoveindexFn);\n      // -----------return list of processed indexes to caller --------\n      // for synchrnization with cradle cellFrames\n      var processedIndexes = [].concat(processeddisplaceList, processedmoveList).sort(function (a, b) {\n        return a - b;\n      });\n      return processedIndexes;\n    }\n    // ----------------------------[ insert/remove indexes ]------------------------------\n    // insert or remove indexes: much of this deals with the fact that the cache is sparse.\n  }, {\n    key: "insertRemoveIndex",\n    value: function insertRemoveIndex(scrollerID, index, highrange, increment, listsize) {\n      // clarity\n      var isInserting = increment == 1;\n      var isRemoving = increment == -1;\n      var emptyreturn = [null, null, [], [], [], []]; // no action return value\n      // cache resources\n      var indexToItemIDMap = this.scrollerDataMap.get(scrollerID).indexToItemIDMap;\n      var itemMetadataMap = this.itemMetadataMap;\n      var orderedCacheIndexList = Array.from(indexToItemIDMap.keys()).sort(function (a, b) {\n        return a - b;\n      }); // ascending order\n      var itemSet = this.scrollerDataMap.get(scrollerID).itemSet;\n      // ---------- define contiguous range parameters; add sentinels ---------------\n      // high range is the highest index number of the insert/remove range\n      var highrangeindex = highrange;\n      var lowrangeindex = index; // semantics - name symmetry\n      if (isRemoving) {\n        // removal must be entirely within scope of the list\n        if (highrangeindex > listsize - 1) {\n          highrangeindex = listsize - 1;\n          if (highrangeindex < lowrangeindex) return emptyreturn;\n        }\n      } else {\n        // isInserting\n        // addition can at most start at the next lowrangeindex above the current list; aka append\n        if (lowrangeindex > listsize) {\n          var diff = lowrangeindex - listsize;\n          lowrangeindex -= diff;\n          highrangeindex -= diff;\n        }\n      }\n      // rangecount is the absolute number in the insert/remove contiguous range\n      var rangecount = highrangeindex - lowrangeindex + 1;\n      // range increment adds sign to rangecount to indicate add/remove\n      var rangeincrement = rangecount * increment;\n      var startChangeIndex = increment == 1 ? lowrangeindex : highrangeindex + (rangeincrement + 1);\n      var toShiftStartIndex; // start of indexes to shift up (insert) or down (remove)\n      if (isInserting) {\n        toShiftStartIndex = lowrangeindex;\n      } else {\n        // isRemoving\n        toShiftStartIndex = highrangeindex + 1;\n      }\n      // ---------- define range boundaries within ordered cache index list ------------\n      // obtain starptr for indexes to shift\n      var toShiftStartCachePtr = orderedCacheIndexList.findIndex(function (value) {\n        return value >= toShiftStartIndex;\n      });\n      // obtain lowCacheRangePtr...\n      var lowCacheRangePtr = orderedCacheIndexList.findIndex(function (value) {\n        return value >= lowrangeindex && value <= highrangeindex;\n      });\n      // obtain highCacheRangePtr...\n      var reverseCacheIndexList = Array.from(orderedCacheIndexList).reverse();\n      var highCacheRangePtr = reverseCacheIndexList.findIndex(function (value) {\n        return value <= highrangeindex && value >= lowrangeindex;\n      });\n      // take inverse of highCacheRangePtr for non-reverse sort\n      if (highCacheRangePtr != -1) {\n        highCacheRangePtr = orderedCacheIndexList.length - 1 - highCacheRangePtr;\n        if (highCacheRangePtr < lowCacheRangePtr) highCacheRangePtr = -1;\n      }\n      // ----------- isolate index range list and shift list ------------\n      // cache inputs\n      var cacheRangeIndexesList,\n        // for either insert or remove\n        cacheToShiftIndexesList; // for either insert or remove\n      // get inputs\n      if (lowCacheRangePtr == -1) {\n        // core scope is out of view\n        cacheRangeIndexesList = [];\n        cacheToShiftIndexesList = [];\n      } else if (highCacheRangePtr == -1) {\n        // core scope is partially in view; lowCacheRangePtr is available\n        // all items above lowCacheRangePtr must have indexes reset\n        cacheRangeIndexesList = orderedCacheIndexList.slice(lowCacheRangePtr);\n        if (isInserting) {\n          cacheToShiftIndexesList = cacheRangeIndexesList.slice();\n        } else {\n          if (toShiftStartCachePtr == -1) {\n            cacheToShiftIndexesList = [];\n          } else {\n            cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n          }\n        }\n      } else {\n        // range fully in view\n        cacheRangeIndexesList = orderedCacheIndexList.slice(lowCacheRangePtr, highCacheRangePtr + 1);\n        if (isInserting) {\n          cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n        } else {\n          if (toShiftStartCachePtr == -1) {\n            cacheToShiftIndexesList = [];\n          } else {\n            cacheToShiftIndexesList = orderedCacheIndexList.slice(toShiftStartCachePtr);\n          }\n        }\n      }\n      // ----------- list cache indexes and items to replace or remove -----------\n      // cache outputs\n      // for insert, the range being inserted; for remove, any tail cradle items abandoned\n      var cacheIndexesToReplaceList = [],\n        // for insert, the range being inserted\n        cacheIndexesToRemoveList = [],\n        // for remove, the range being removed\n        cacheItemsToRemoveList = []; // for remove, derived from the previous\n      if (isInserting) {\n        cacheIndexesToReplaceList = cacheRangeIndexesList;\n      } else {\n        // isRemoving\n        cacheIndexesToRemoveList = cacheRangeIndexesList;\n        // get cacheItemsToRemoveList\n        var _iterator5 = _createForOfIteratorHelper(cacheIndexesToRemoveList),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _index = _step5.value;\n            cacheItemsToRemoveList.push(indexToItemIDMap.get(_index));\n            indexToItemIDMap["delete"](_index);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n      // ----------- conduct cache operations; capture list of shifted indexes ----------\n      // increment higher from top of list to preserve lower values for subsequent increment\n      if (isInserting) cacheToShiftIndexesList.reverse();\n      var cacheIndexesShiftedList = []; // track shifted indexes\n      var cacheIndexesTransferredSet = new Set(); // obtain list of orphaned indexes\n      // function modify index-to-itemid map, and metadata map, for index shifts\n      var processIndexFn = function processIndexFn(index) {\n        var itemID = indexToItemIDMap.get(index);\n        var newIndex = index + rangeincrement;\n        if (isRemoving) {\n          cacheIndexesTransferredSet.add(index);\n          cacheIndexesTransferredSet["delete"](newIndex);\n        }\n        indexToItemIDMap.set(newIndex, itemID);\n        itemMetadataMap.get(itemID).index = newIndex;\n        cacheIndexesShiftedList.push(newIndex);\n      };\n      // walk through items to shift\n      cacheToShiftIndexesList.forEach(processIndexFn);\n      // delete remaining indexes and items now duplicates; track portal data to remove after cradle updated\n      var portalPartitionItemsForDeleteList = []; // hold portals for deletion until after after cradle synch\n      var cacheIndexesRemovedList = [];\n      if (isInserting) {\n        var _iterator6 = _createForOfIteratorHelper(cacheIndexesToReplaceList),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _index2 = _step6.value;\n            indexToItemIDMap["delete"](_index2);\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      } else {\n        // isRemoving\n        var _iterator7 = _createForOfIteratorHelper(cacheItemsToRemoveList),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var itemID = _step7.value;\n            var _itemMetadataMap$get3 = itemMetadataMap.get(itemID),\n              partitionID = _itemMetadataMap$get3.partitionID;\n            portalPartitionItemsForDeleteList.push({\n              itemID: itemID,\n              partitionID: partitionID\n            });\n            itemMetadataMap["delete"](itemID);\n            itemSet["delete"](itemID);\n          }\n          // abandoned indexes from remove process\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n        var orphanedIndexesTransferredList = Array.from(cacheIndexesTransferredSet);\n        for (var _i = 0, _orphanedIndexesTrans = orphanedIndexesTransferredList; _i < _orphanedIndexesTrans.length; _i++) {\n          var _index3 = _orphanedIndexesTrans[_i];\n          indexToItemIDMap["delete"](_index3);\n        }\n        cacheIndexesRemovedList = cacheIndexesToRemoveList.concat(orphanedIndexesTransferredList);\n      }\n      if (isInserting) cacheIndexesShiftedList.reverse(); // return to ascending order\n      // --------------- returns ---------------\n      // return values for caller to send to contenthandler for cradle synchronization\n      return [startChangeIndex, rangeincrement, cacheIndexesShiftedList, cacheIndexesRemovedList, cacheIndexesToReplaceList, portalPartitionItemsForDeleteList];\n    }\n    // ==========================[ INDIVIDUAL PORTAL MANAGEMENT ]============================\n    // used for size calculation in pareCacheToMax\n    // registers indexes when requested but before retrieved and entered into cache\n  }, {\n    key: "registerPendingPortal",\n    value: function registerPendingPortal(scrollerID, index) {\n      this.scrollerDataMap.get(scrollerID).requestedSet.add(index);\n    }\n  }, {\n    key: "unregisterPendingPortal",\n    value: function unregisterPendingPortal(scrollerID, index) {\n      var scrollerDataMap = this.scrollerDataMap.get(scrollerID);\n      if (scrollerDataMap) {\n        // otherwise scroller has been deleted\n        scrollerDataMap.requestedSet["delete"](index);\n      }\n    }\n  }, {\n    key: "getNewItemID",\n    value: function getNewItemID() {\n      return this.globalItemID++;\n    }\n    // get new or existing itemID for contentfunctions.createCellFrame\n  }, {\n    key: "getNewOrExistingItemID",\n    value: function getNewOrExistingItemID(scrollerID, index) {\n      var _this$scrollerDataMap7 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap7.indexToItemIDMap;\n      var itemID = indexToItemIDMap.has(index) ? indexToItemIDMap.get(index) : this.getNewItemID();\n      return itemID;\n    }\n    // create new portal\n  }, {\n    key: "createPortal",\n    value: function createPortal(scrollerID, component, index, itemID, scrollerProperties) {\n      var isPreload = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var scrollerDataMap, portalNode, partitionID, portal, portalMetadata;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this.unregisterPendingPortal(scrollerID, index);\n              scrollerDataMap = this.scrollerDataMap.get(scrollerID);\n              if (scrollerDataMap) {\n                _context2.next = 4;\n                break;\n              }\n              return _context2.abrupt("return", null);\n            case 4:\n              // const { layout, cellHeight, cellWidth, orientation } = \n              //     this.scrollerDataMap.get(scrollerID).cradleParameters.cradleInheritedPropertiesRef.current\n              portalNode = createPortalNode(index, itemID);\n              _context2.next = 7;\n              return this.findPartitionWithRoom();\n            case 7:\n              partitionID = _context2.sent;\n              portal = react_1["default"].createElement("div", {\n                "data-type": \'portalwrapper\',\n                key: itemID,\n                "data-itemid": itemID,\n                "data-index": index\n              }, react_1["default"].createElement(react_reverse_portal_1.InPortal, {\n                key: itemID,\n                node: portalNode\n              }, " ", component, " "));\n              this.addPartitionPortal(partitionID, itemID, portal);\n              portalMetadata = {\n                portalNode: portalNode,\n                index: index,\n                itemID: itemID,\n                scrollerID: scrollerID,\n                scrollerProperties: scrollerProperties,\n                component: component,\n                partitionID: partitionID\n              };\n              this.itemMetadataMap.set(itemID, portalMetadata);\n              scrollerDataMap.itemSet.add(itemID);\n              scrollerDataMap.indexToItemIDMap.set(index, itemID);\n              if (!isPreload) this.renderPortalLists();\n              return _context2.abrupt("return", portalMetadata);\n            case 16:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n    }\n    // used for preloading new item\n  }, {\n    key: "preloadItem",\n    value: function preloadItem(scrollerID, index, getItem, scrollerPropertiesRef, itemExceptionCallback, maxListsizeInterrupt) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var itemID, returnvalue, usercontent, error, content, scrollerProperties;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              itemID = this.getNewItemID();\n              _context3.prev = 1;\n              _context3.next = 4;\n              return getItem(index, itemID);\n            case 4:\n              usercontent = _context3.sent;\n              if (usercontent === null) returnvalue = usercontent;\n              _context3.next = 12;\n              break;\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3["catch"](1);\n              returnvalue = usercontent = undefined;\n              error = _context3.t0;\n            case 12:\n              if (usercontent !== null && usercontent !== undefined) {\n                if (!react_1["default"].isValidElement(usercontent)) {\n                  returnvalue = usercontent;\n                  usercontent = undefined;\n                  error = new Error(\'invalid React element\');\n                }\n              }\n              if (!(usercontent !== null && usercontent !== undefined)) {\n                _context3.next = 20;\n                break;\n              }\n              scrollerProperties = {\n                scrollerPropertiesRef: scrollerPropertiesRef,\n                cellFramePropertiesRef: {\n                  current: {\n                    index: index,\n                    itemID: itemID\n                  }\n                }\n              };\n              if (usercontent.props.hasOwnProperty(\'scrollerProperties\')) {\n                content = react_1["default"].cloneElement(usercontent, {\n                  scrollerProperties: scrollerProperties\n                });\n              } else {\n                content = usercontent;\n              }\n              // const portalData = \n              _context3.next = 18;\n              return this.createPortal(scrollerID, content, index, itemID, scrollerProperties, true);\n            case 18:\n              _context3.next = 21;\n              break;\n            case 20:\n              if (usercontent === undefined) {\n                itemExceptionCallback && itemExceptionCallback(index, itemID, returnvalue, \'preload\', error);\n              } else {\n                // usercontent === null; last item in list\n                itemExceptionCallback && itemExceptionCallback(index, itemID, returnvalue, \'preload\', new Error(\'end of list\'));\n                maxListsizeInterrupt(index);\n              }\n            case 21:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[1, 8]]);\n      }));\n    }\n    // delete a portal list item\n    // accepts an array of indexes\n  }, {\n    key: "deletePortalByIndex",\n    value: function deletePortalByIndex(scrollerID, index, deleteListCallback) {\n      var indexArray = !Array.isArray(index) ? [index] : index;\n      var _this$scrollerDataMap8 = this.scrollerDataMap.get(scrollerID),\n        indexToItemIDMap = _this$scrollerDataMap8.indexToItemIDMap,\n        itemSet = _this$scrollerDataMap8.itemSet;\n      var itemMetadataMap = this.itemMetadataMap;\n      var removePartitionPortal = this.removePartitionPortal;\n      var deleteList = [];\n      var _iterator8 = _createForOfIteratorHelper(indexArray),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var _index4 = _step8.value;\n          var itemID = indexToItemIDMap.get(_index4);\n          if (itemID === undefined) continue; // async mismatch\n          deleteList.push({\n            index: _index4,\n            itemID: itemID\n          });\n          var _itemMetadataMap$get4 = itemMetadataMap.get(itemID),\n            partitionID = _itemMetadataMap$get4.partitionID;\n          removePartitionPortal(partitionID, itemID);\n          itemMetadataMap["delete"](itemID);\n          itemSet["delete"](itemID);\n          indexToItemIDMap["delete"](_index4);\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n      deleteListCallback && deleteListCallback(deleteList);\n    }\n    // query existence of a portal list item\n  }, {\n    key: "hasPortal",\n    value: function hasPortal(itemID) {\n      return this.itemMetadataMap.has(itemID);\n    }\n  }, {\n    key: "getPortalMetadata",\n    value: function getPortalMetadata(itemID) {\n      if (this.hasPortal(itemID)) {\n        return this.itemMetadataMap.get(itemID);\n      }\n    }\n  }]);\n  return CacheAPI;\n}();\nexports["default"] = CacheAPI;\n// ==========================[ Utility function ]============================\n// get a react-reverse-portal InPortal component, with its metadata\n// with user content and container\n// see also some styles set in CellFrame\nvar createPortalNode = function createPortalNode(index, itemID) {\n  var portalNode = (0, react_reverse_portal_1.createHtmlPortalNode)();\n  var container = portalNode.element;\n  container.style.overflow = \'hidden\';\n  container.dataset.type = \'contentenvelope\';\n  container.dataset.index = index;\n  container.dataset.cacheitemid = itemID;\n  return portalNode;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9ydGFsY2FjaGUvY2FjaGVBUEkudHN4IiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUFBLFNBQUFBLFFBQUFDLENBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixDQUFBLGtCQUFBQSxDQUFBLGdCQUFBQSxDQUFBLFdBQUFBLENBQUEseUJBQUFDLE1BQUEsSUFBQUQsQ0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsQ0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLENBQUEsS0FBQUQsT0FBQSxDQUFBQyxDQUFBO0FBQUEsU0FBQUssb0JBQUEsa0JBREEscUpBQUFBLG1CQUFBLFlBQUFBLG9CQUFBLFdBQUFDLENBQUEsU0FBQUMsQ0FBQSxFQUFBRCxDQUFBLE9BQUFFLENBQUEsR0FBQUMsTUFBQSxDQUFBTCxTQUFBLEVBQUFNLENBQUEsR0FBQUYsQ0FBQSxDQUFBRyxjQUFBLEVBQUFYLENBQUEsR0FBQVMsTUFBQSxDQUFBRyxjQUFBLGNBQUFMLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLElBQUFELENBQUEsQ0FBQUQsQ0FBQSxJQUFBRSxDQUFBLENBQUFLLEtBQUEsS0FBQUMsQ0FBQSx3QkFBQWIsTUFBQSxHQUFBQSxNQUFBLE9BQUFjLENBQUEsR0FBQUQsQ0FBQSxDQUFBWixRQUFBLGtCQUFBYyxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsYUFBQSx1QkFBQUMsQ0FBQSxHQUFBSixDQUFBLENBQUFLLFdBQUEsOEJBQUFDLE9BQUFiLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLFdBQUFDLE1BQUEsQ0FBQUcsY0FBQSxDQUFBTCxDQUFBLEVBQUFELENBQUEsSUFBQU8sS0FBQSxFQUFBTCxDQUFBLEVBQUFhLFVBQUEsTUFBQUMsWUFBQSxNQUFBQyxRQUFBLFNBQUFoQixDQUFBLENBQUFELENBQUEsV0FBQWMsTUFBQSxtQkFBQWIsQ0FBQSxJQUFBYSxNQUFBLFlBQUFBLE9BQUFiLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLFdBQUFELENBQUEsQ0FBQUQsQ0FBQSxJQUFBRSxDQUFBLGdCQUFBZ0IsS0FBQWpCLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLEVBQUFFLENBQUEsUUFBQUksQ0FBQSxHQUFBUixDQUFBLElBQUFBLENBQUEsQ0FBQUYsU0FBQSxZQUFBcUIsU0FBQSxHQUFBbkIsQ0FBQSxHQUFBbUIsU0FBQSxFQUFBVixDQUFBLEdBQUFOLE1BQUEsQ0FBQWlCLE1BQUEsQ0FBQVosQ0FBQSxDQUFBVixTQUFBLEdBQUFZLENBQUEsT0FBQVcsT0FBQSxDQUFBakIsQ0FBQSxnQkFBQVYsQ0FBQSxDQUFBZSxDQUFBLGVBQUFGLEtBQUEsRUFBQWUsZ0JBQUEsQ0FBQXJCLENBQUEsRUFBQUMsQ0FBQSxFQUFBUSxDQUFBLE1BQUFELENBQUEsYUFBQWMsU0FBQXRCLENBQUEsRUFBQUQsQ0FBQSxFQUFBRSxDQUFBLG1CQUFBc0IsSUFBQSxZQUFBQyxHQUFBLEVBQUF4QixDQUFBLENBQUF5QixJQUFBLENBQUExQixDQUFBLEVBQUFFLENBQUEsY0FBQUQsQ0FBQSxhQUFBdUIsSUFBQSxXQUFBQyxHQUFBLEVBQUF4QixDQUFBLFFBQUFELENBQUEsQ0FBQWtCLElBQUEsR0FBQUEsSUFBQSxNQUFBUyxDQUFBLHFCQUFBQyxDQUFBLHFCQUFBQyxDQUFBLGdCQUFBQyxDQUFBLGdCQUFBQyxDQUFBLGdCQUFBWixVQUFBLGNBQUFhLGtCQUFBLGNBQUFDLDJCQUFBLFNBQUFDLENBQUEsT0FBQXBCLE1BQUEsQ0FBQW9CLENBQUEsRUFBQXpCLENBQUEscUNBQUEwQixDQUFBLEdBQUFoQyxNQUFBLENBQUFpQyxjQUFBLEVBQUFDLENBQUEsR0FBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFBLENBQUEsQ0FBQUcsTUFBQSxRQUFBRCxDQUFBLElBQUFBLENBQUEsS0FBQW5DLENBQUEsSUFBQUUsQ0FBQSxDQUFBc0IsSUFBQSxDQUFBVyxDQUFBLEVBQUE1QixDQUFBLE1BQUF5QixDQUFBLEdBQUFHLENBQUEsT0FBQUUsQ0FBQSxHQUFBTiwwQkFBQSxDQUFBbkMsU0FBQSxHQUFBcUIsU0FBQSxDQUFBckIsU0FBQSxHQUFBSyxNQUFBLENBQUFpQixNQUFBLENBQUFjLENBQUEsWUFBQU0sc0JBQUF2QyxDQUFBLGdDQUFBd0MsT0FBQSxXQUFBekMsQ0FBQSxJQUFBYyxNQUFBLENBQUFiLENBQUEsRUFBQUQsQ0FBQSxZQUFBQyxDQUFBLGdCQUFBeUMsT0FBQSxDQUFBMUMsQ0FBQSxFQUFBQyxDQUFBLHNCQUFBMEMsY0FBQTFDLENBQUEsRUFBQUQsQ0FBQSxhQUFBNEMsT0FBQTFDLENBQUEsRUFBQVIsQ0FBQSxFQUFBYyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSxHQUFBYSxRQUFBLENBQUF0QixDQUFBLENBQUFDLENBQUEsR0FBQUQsQ0FBQSxFQUFBUCxDQUFBLG1CQUFBZ0IsQ0FBQSxDQUFBYyxJQUFBLFFBQUFaLENBQUEsR0FBQUYsQ0FBQSxDQUFBZSxHQUFBLEVBQUFFLENBQUEsR0FBQWYsQ0FBQSxDQUFBTCxLQUFBLFNBQUFvQixDQUFBLGdCQUFBbEMsT0FBQSxDQUFBa0MsQ0FBQSxLQUFBdkIsQ0FBQSxDQUFBc0IsSUFBQSxDQUFBQyxDQUFBLGVBQUEzQixDQUFBLENBQUE2QyxPQUFBLENBQUFsQixDQUFBLENBQUFtQixPQUFBLEVBQUFDLElBQUEsV0FBQTlDLENBQUEsSUFBQTJDLE1BQUEsU0FBQTNDLENBQUEsRUFBQU8sQ0FBQSxFQUFBQyxDQUFBLGdCQUFBUixDQUFBLElBQUEyQyxNQUFBLFVBQUEzQyxDQUFBLEVBQUFPLENBQUEsRUFBQUMsQ0FBQSxRQUFBVCxDQUFBLENBQUE2QyxPQUFBLENBQUFsQixDQUFBLEVBQUFvQixJQUFBLFdBQUE5QyxDQUFBLElBQUFXLENBQUEsQ0FBQUwsS0FBQSxHQUFBTixDQUFBLEVBQUFPLENBQUEsQ0FBQUksQ0FBQSxnQkFBQVgsQ0FBQSxXQUFBMkMsTUFBQSxVQUFBM0MsQ0FBQSxFQUFBTyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxDQUFBQyxDQUFBLENBQUFlLEdBQUEsU0FBQXZCLENBQUEsRUFBQVIsQ0FBQSxvQkFBQWEsS0FBQSxXQUFBQSxNQUFBTixDQUFBLEVBQUFHLENBQUEsYUFBQTRDLDJCQUFBLGVBQUFoRCxDQUFBLFdBQUFBLENBQUEsRUFBQUUsQ0FBQSxJQUFBMEMsTUFBQSxDQUFBM0MsQ0FBQSxFQUFBRyxDQUFBLEVBQUFKLENBQUEsRUFBQUUsQ0FBQSxnQkFBQUEsQ0FBQSxHQUFBQSxDQUFBLEdBQUFBLENBQUEsQ0FBQTZDLElBQUEsQ0FBQUMsMEJBQUEsRUFBQUEsMEJBQUEsSUFBQUEsMEJBQUEscUJBQUExQixpQkFBQXRCLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLFFBQUFWLENBQUEsR0FBQWlDLENBQUEsbUJBQUFuQixDQUFBLEVBQUFDLENBQUEsUUFBQWYsQ0FBQSxLQUFBbUMsQ0FBQSxZQUFBb0IsS0FBQSxzQ0FBQXZELENBQUEsS0FBQW9DLENBQUEsb0JBQUF0QixDQUFBLFFBQUFDLENBQUEsV0FBQUYsS0FBQSxFQUFBTixDQUFBLEVBQUFpRCxJQUFBLGVBQUE5QyxDQUFBLENBQUErQyxNQUFBLEdBQUEzQyxDQUFBLEVBQUFKLENBQUEsQ0FBQXFCLEdBQUEsR0FBQWhCLENBQUEsVUFBQUMsQ0FBQSxHQUFBTixDQUFBLENBQUFnRCxRQUFBLE1BQUExQyxDQUFBLFFBQUFFLENBQUEsR0FBQXlDLG1CQUFBLENBQUEzQyxDQUFBLEVBQUFOLENBQUEsT0FBQVEsQ0FBQSxRQUFBQSxDQUFBLEtBQUFtQixDQUFBLG1CQUFBbkIsQ0FBQSxxQkFBQVIsQ0FBQSxDQUFBK0MsTUFBQSxFQUFBL0MsQ0FBQSxDQUFBa0QsSUFBQSxHQUFBbEQsQ0FBQSxDQUFBbUQsS0FBQSxHQUFBbkQsQ0FBQSxDQUFBcUIsR0FBQSxzQkFBQXJCLENBQUEsQ0FBQStDLE1BQUEsUUFBQXpELENBQUEsS0FBQWlDLENBQUEsUUFBQWpDLENBQUEsR0FBQW9DLENBQUEsRUFBQTFCLENBQUEsQ0FBQXFCLEdBQUEsRUFBQXJCLENBQUEsQ0FBQW9ELGlCQUFBLENBQUFwRCxDQUFBLENBQUFxQixHQUFBLHVCQUFBckIsQ0FBQSxDQUFBK0MsTUFBQSxJQUFBL0MsQ0FBQSxDQUFBcUQsTUFBQSxXQUFBckQsQ0FBQSxDQUFBcUIsR0FBQSxHQUFBL0IsQ0FBQSxHQUFBbUMsQ0FBQSxNQUFBSyxDQUFBLEdBQUFYLFFBQUEsQ0FBQXZCLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLG9CQUFBOEIsQ0FBQSxDQUFBVixJQUFBLFFBQUE5QixDQUFBLEdBQUFVLENBQUEsQ0FBQThDLElBQUEsR0FBQXBCLENBQUEsR0FBQUYsQ0FBQSxFQUFBTSxDQUFBLENBQUFULEdBQUEsS0FBQU0sQ0FBQSxxQkFBQXhCLEtBQUEsRUFBQTJCLENBQUEsQ0FBQVQsR0FBQSxFQUFBeUIsSUFBQSxFQUFBOUMsQ0FBQSxDQUFBOEMsSUFBQSxrQkFBQWhCLENBQUEsQ0FBQVYsSUFBQSxLQUFBOUIsQ0FBQSxHQUFBb0MsQ0FBQSxFQUFBMUIsQ0FBQSxDQUFBK0MsTUFBQSxZQUFBL0MsQ0FBQSxDQUFBcUIsR0FBQSxHQUFBUyxDQUFBLENBQUFULEdBQUEsbUJBQUE0QixvQkFBQXJELENBQUEsRUFBQUUsQ0FBQSxRQUFBRSxDQUFBLEdBQUFGLENBQUEsQ0FBQWlELE1BQUEsRUFBQXpELENBQUEsR0FBQU0sQ0FBQSxDQUFBSixRQUFBLENBQUFRLENBQUEsT0FBQVYsQ0FBQSxLQUFBTyxDQUFBLFNBQUFDLENBQUEsQ0FBQWtELFFBQUEscUJBQUFoRCxDQUFBLElBQUFKLENBQUEsQ0FBQUosUUFBQSxlQUFBTSxDQUFBLENBQUFpRCxNQUFBLGFBQUFqRCxDQUFBLENBQUF1QixHQUFBLEdBQUF4QixDQUFBLEVBQUFvRCxtQkFBQSxDQUFBckQsQ0FBQSxFQUFBRSxDQUFBLGVBQUFBLENBQUEsQ0FBQWlELE1BQUEsa0JBQUEvQyxDQUFBLEtBQUFGLENBQUEsQ0FBQWlELE1BQUEsWUFBQWpELENBQUEsQ0FBQXVCLEdBQUEsT0FBQWlDLFNBQUEsdUNBQUF0RCxDQUFBLGlCQUFBMkIsQ0FBQSxNQUFBdkIsQ0FBQSxHQUFBZSxRQUFBLENBQUE3QixDQUFBLEVBQUFNLENBQUEsQ0FBQUosUUFBQSxFQUFBTSxDQUFBLENBQUF1QixHQUFBLG1CQUFBakIsQ0FBQSxDQUFBZ0IsSUFBQSxTQUFBdEIsQ0FBQSxDQUFBaUQsTUFBQSxZQUFBakQsQ0FBQSxDQUFBdUIsR0FBQSxHQUFBakIsQ0FBQSxDQUFBaUIsR0FBQSxFQUFBdkIsQ0FBQSxDQUFBa0QsUUFBQSxTQUFBckIsQ0FBQSxNQUFBdEIsQ0FBQSxHQUFBRCxDQUFBLENBQUFpQixHQUFBLFNBQUFoQixDQUFBLEdBQUFBLENBQUEsQ0FBQXlDLElBQUEsSUFBQWhELENBQUEsQ0FBQUYsQ0FBQSxDQUFBMkQsVUFBQSxJQUFBbEQsQ0FBQSxDQUFBRixLQUFBLEVBQUFMLENBQUEsQ0FBQTBELElBQUEsR0FBQTVELENBQUEsQ0FBQTZELE9BQUEsZUFBQTNELENBQUEsQ0FBQWlELE1BQUEsS0FBQWpELENBQUEsQ0FBQWlELE1BQUEsV0FBQWpELENBQUEsQ0FBQXVCLEdBQUEsR0FBQXhCLENBQUEsR0FBQUMsQ0FBQSxDQUFBa0QsUUFBQSxTQUFBckIsQ0FBQSxJQUFBdEIsQ0FBQSxJQUFBUCxDQUFBLENBQUFpRCxNQUFBLFlBQUFqRCxDQUFBLENBQUF1QixHQUFBLE9BQUFpQyxTQUFBLHNDQUFBeEQsQ0FBQSxDQUFBa0QsUUFBQSxTQUFBckIsQ0FBQSxjQUFBK0IsYUFBQTdELENBQUEsUUFBQUQsQ0FBQSxLQUFBK0QsTUFBQSxFQUFBOUQsQ0FBQSxZQUFBQSxDQUFBLEtBQUFELENBQUEsQ0FBQWdFLFFBQUEsR0FBQS9ELENBQUEsV0FBQUEsQ0FBQSxLQUFBRCxDQUFBLENBQUFpRSxVQUFBLEdBQUFoRSxDQUFBLEtBQUFELENBQUEsQ0FBQWtFLFFBQUEsR0FBQWpFLENBQUEsV0FBQWtFLFVBQUEsQ0FBQUMsSUFBQSxDQUFBcEUsQ0FBQSxjQUFBcUUsY0FBQXBFLENBQUEsUUFBQUQsQ0FBQSxHQUFBQyxDQUFBLENBQUFxRSxVQUFBLFFBQUF0RSxDQUFBLENBQUF3QixJQUFBLG9CQUFBeEIsQ0FBQSxDQUFBeUIsR0FBQSxFQUFBeEIsQ0FBQSxDQUFBcUUsVUFBQSxHQUFBdEUsQ0FBQSxhQUFBcUIsUUFBQXBCLENBQUEsU0FBQWtFLFVBQUEsTUFBQUosTUFBQSxhQUFBOUQsQ0FBQSxDQUFBd0MsT0FBQSxDQUFBcUIsWUFBQSxjQUFBUyxLQUFBLGlCQUFBakMsT0FBQXRDLENBQUEsUUFBQUEsQ0FBQSxXQUFBQSxDQUFBLFFBQUFFLENBQUEsR0FBQUYsQ0FBQSxDQUFBUyxDQUFBLE9BQUFQLENBQUEsU0FBQUEsQ0FBQSxDQUFBd0IsSUFBQSxDQUFBMUIsQ0FBQSw0QkFBQUEsQ0FBQSxDQUFBNEQsSUFBQSxTQUFBNUQsQ0FBQSxPQUFBd0UsS0FBQSxDQUFBeEUsQ0FBQSxDQUFBeUUsTUFBQSxTQUFBL0UsQ0FBQSxPQUFBYyxDQUFBLFlBQUFvRCxLQUFBLGFBQUFsRSxDQUFBLEdBQUFNLENBQUEsQ0FBQXlFLE1BQUEsT0FBQXJFLENBQUEsQ0FBQXNCLElBQUEsQ0FBQTFCLENBQUEsRUFBQU4sQ0FBQSxVQUFBa0UsSUFBQSxDQUFBckQsS0FBQSxHQUFBUCxDQUFBLENBQUFOLENBQUEsR0FBQWtFLElBQUEsQ0FBQVYsSUFBQSxPQUFBVSxJQUFBLFNBQUFBLElBQUEsQ0FBQXJELEtBQUEsR0FBQU4sQ0FBQSxFQUFBMkQsSUFBQSxDQUFBVixJQUFBLE9BQUFVLElBQUEsWUFBQXBELENBQUEsQ0FBQW9ELElBQUEsR0FBQXBELENBQUEsZ0JBQUFrRCxTQUFBLENBQUFqRSxPQUFBLENBQUFPLENBQUEsa0NBQUFnQyxpQkFBQSxDQUFBbEMsU0FBQSxHQUFBbUMsMEJBQUEsRUFBQXZDLENBQUEsQ0FBQTZDLENBQUEsbUJBQUFoQyxLQUFBLEVBQUEwQiwwQkFBQSxFQUFBakIsWUFBQSxTQUFBdEIsQ0FBQSxDQUFBdUMsMEJBQUEsbUJBQUExQixLQUFBLEVBQUF5QixpQkFBQSxFQUFBaEIsWUFBQSxTQUFBZ0IsaUJBQUEsQ0FBQTBDLFdBQUEsR0FBQTVELE1BQUEsQ0FBQW1CLDBCQUFBLEVBQUFyQixDQUFBLHdCQUFBWixDQUFBLENBQUEyRSxtQkFBQSxhQUFBMUUsQ0FBQSxRQUFBRCxDQUFBLHdCQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUosV0FBQSxXQUFBRyxDQUFBLEtBQUFBLENBQUEsS0FBQWdDLGlCQUFBLDZCQUFBaEMsQ0FBQSxDQUFBMEUsV0FBQSxJQUFBMUUsQ0FBQSxDQUFBNEUsSUFBQSxPQUFBNUUsQ0FBQSxDQUFBNkUsSUFBQSxhQUFBNUUsQ0FBQSxXQUFBRSxNQUFBLENBQUEyRSxjQUFBLEdBQUEzRSxNQUFBLENBQUEyRSxjQUFBLENBQUE3RSxDQUFBLEVBQUFnQywwQkFBQSxLQUFBaEMsQ0FBQSxDQUFBOEUsU0FBQSxHQUFBOUMsMEJBQUEsRUFBQW5CLE1BQUEsQ0FBQWIsQ0FBQSxFQUFBVyxDQUFBLHlCQUFBWCxDQUFBLENBQUFILFNBQUEsR0FBQUssTUFBQSxDQUFBaUIsTUFBQSxDQUFBbUIsQ0FBQSxHQUFBdEMsQ0FBQSxLQUFBRCxDQUFBLENBQUFnRixLQUFBLGFBQUEvRSxDQUFBLGFBQUE2QyxPQUFBLEVBQUE3QyxDQUFBLE9BQUF1QyxxQkFBQSxDQUFBRyxhQUFBLENBQUE3QyxTQUFBLEdBQUFnQixNQUFBLENBQUE2QixhQUFBLENBQUE3QyxTQUFBLEVBQUFZLENBQUEsaUNBQUFWLENBQUEsQ0FBQTJDLGFBQUEsR0FBQUEsYUFBQSxFQUFBM0MsQ0FBQSxDQUFBaUYsS0FBQSxhQUFBaEYsQ0FBQSxFQUFBQyxDQUFBLEVBQUFFLENBQUEsRUFBQVYsQ0FBQSxFQUFBYyxDQUFBLGVBQUFBLENBQUEsS0FBQUEsQ0FBQSxHQUFBMEUsT0FBQSxPQUFBekUsQ0FBQSxPQUFBa0MsYUFBQSxDQUFBekIsSUFBQSxDQUFBakIsQ0FBQSxFQUFBQyxDQUFBLEVBQUFFLENBQUEsRUFBQVYsQ0FBQSxHQUFBYyxDQUFBLFVBQUFSLENBQUEsQ0FBQTJFLG1CQUFBLENBQUF6RSxDQUFBLElBQUFPLENBQUEsR0FBQUEsQ0FBQSxDQUFBbUQsSUFBQSxHQUFBYixJQUFBLFdBQUE5QyxDQUFBLFdBQUFBLENBQUEsQ0FBQWlELElBQUEsR0FBQWpELENBQUEsQ0FBQU0sS0FBQSxHQUFBRSxDQUFBLENBQUFtRCxJQUFBLFdBQUFwQixxQkFBQSxDQUFBRCxDQUFBLEdBQUF6QixNQUFBLENBQUF5QixDQUFBLEVBQUEzQixDQUFBLGdCQUFBRSxNQUFBLENBQUF5QixDQUFBLEVBQUE5QixDQUFBLGlDQUFBSyxNQUFBLENBQUF5QixDQUFBLDZEQUFBdkMsQ0FBQSxDQUFBbUYsSUFBQSxhQUFBbEYsQ0FBQSxRQUFBRCxDQUFBLEdBQUFHLE1BQUEsQ0FBQUYsQ0FBQSxHQUFBQyxDQUFBLGdCQUFBRSxDQUFBLElBQUFKLENBQUEsRUFBQUUsQ0FBQSxDQUFBa0UsSUFBQSxDQUFBaEUsQ0FBQSxVQUFBRixDQUFBLENBQUFrRixPQUFBLGFBQUF4QixLQUFBLFdBQUExRCxDQUFBLENBQUF1RSxNQUFBLFNBQUF4RSxDQUFBLEdBQUFDLENBQUEsQ0FBQW1GLEdBQUEsUUFBQXBGLENBQUEsSUFBQUQsQ0FBQSxTQUFBNEQsSUFBQSxDQUFBckQsS0FBQSxHQUFBTixDQUFBLEVBQUEyRCxJQUFBLENBQUFWLElBQUEsT0FBQVUsSUFBQSxXQUFBQSxJQUFBLENBQUFWLElBQUEsT0FBQVUsSUFBQSxRQUFBNUQsQ0FBQSxDQUFBc0MsTUFBQSxHQUFBQSxNQUFBLEVBQUFqQixPQUFBLENBQUF2QixTQUFBLEtBQUFELFdBQUEsRUFBQXdCLE9BQUEsRUFBQWtELEtBQUEsV0FBQUEsTUFBQXZFLENBQUEsYUFBQXNGLElBQUEsV0FBQTFCLElBQUEsV0FBQU4sSUFBQSxRQUFBQyxLQUFBLEdBQUF0RCxDQUFBLE9BQUFpRCxJQUFBLFlBQUFFLFFBQUEsY0FBQUQsTUFBQSxnQkFBQTFCLEdBQUEsR0FBQXhCLENBQUEsT0FBQWtFLFVBQUEsQ0FBQTFCLE9BQUEsQ0FBQTRCLGFBQUEsSUFBQXJFLENBQUEsV0FBQUUsQ0FBQSxrQkFBQUEsQ0FBQSxDQUFBcUYsTUFBQSxPQUFBbkYsQ0FBQSxDQUFBc0IsSUFBQSxPQUFBeEIsQ0FBQSxNQUFBc0UsS0FBQSxFQUFBdEUsQ0FBQSxDQUFBc0YsS0FBQSxjQUFBdEYsQ0FBQSxJQUFBRCxDQUFBLE1BQUF3RixJQUFBLFdBQUFBLEtBQUEsU0FBQXZDLElBQUEsV0FBQWpELENBQUEsUUFBQWtFLFVBQUEsSUFBQUcsVUFBQSxrQkFBQXJFLENBQUEsQ0FBQXVCLElBQUEsUUFBQXZCLENBQUEsQ0FBQXdCLEdBQUEsY0FBQWlFLElBQUEsS0FBQWxDLGlCQUFBLFdBQUFBLGtCQUFBeEQsQ0FBQSxhQUFBa0QsSUFBQSxRQUFBbEQsQ0FBQSxNQUFBRSxDQUFBLGtCQUFBeUYsT0FBQXZGLENBQUEsRUFBQVYsQ0FBQSxXQUFBZSxDQUFBLENBQUFlLElBQUEsWUFBQWYsQ0FBQSxDQUFBZ0IsR0FBQSxHQUFBekIsQ0FBQSxFQUFBRSxDQUFBLENBQUEwRCxJQUFBLEdBQUF4RCxDQUFBLEVBQUFWLENBQUEsS0FBQVEsQ0FBQSxDQUFBaUQsTUFBQSxXQUFBakQsQ0FBQSxDQUFBdUIsR0FBQSxHQUFBeEIsQ0FBQSxLQUFBUCxDQUFBLGFBQUFBLENBQUEsUUFBQXlFLFVBQUEsQ0FBQU0sTUFBQSxNQUFBL0UsQ0FBQSxTQUFBQSxDQUFBLFFBQUFjLENBQUEsUUFBQTJELFVBQUEsQ0FBQXpFLENBQUEsR0FBQWUsQ0FBQSxHQUFBRCxDQUFBLENBQUE4RCxVQUFBLGlCQUFBOUQsQ0FBQSxDQUFBdUQsTUFBQSxTQUFBNEIsTUFBQSxhQUFBbkYsQ0FBQSxDQUFBdUQsTUFBQSxTQUFBdUIsSUFBQSxRQUFBNUUsQ0FBQSxHQUFBTixDQUFBLENBQUFzQixJQUFBLENBQUFsQixDQUFBLGVBQUFJLENBQUEsR0FBQVIsQ0FBQSxDQUFBc0IsSUFBQSxDQUFBbEIsQ0FBQSxxQkFBQUUsQ0FBQSxJQUFBRSxDQUFBLGFBQUEwRSxJQUFBLEdBQUE5RSxDQUFBLENBQUF3RCxRQUFBLFNBQUEyQixNQUFBLENBQUFuRixDQUFBLENBQUF3RCxRQUFBLGdCQUFBc0IsSUFBQSxHQUFBOUUsQ0FBQSxDQUFBeUQsVUFBQSxTQUFBMEIsTUFBQSxDQUFBbkYsQ0FBQSxDQUFBeUQsVUFBQSxjQUFBdkQsQ0FBQSxhQUFBNEUsSUFBQSxHQUFBOUUsQ0FBQSxDQUFBd0QsUUFBQSxTQUFBMkIsTUFBQSxDQUFBbkYsQ0FBQSxDQUFBd0QsUUFBQSxxQkFBQXBELENBQUEsWUFBQXFDLEtBQUEscURBQUFxQyxJQUFBLEdBQUE5RSxDQUFBLENBQUF5RCxVQUFBLFNBQUEwQixNQUFBLENBQUFuRixDQUFBLENBQUF5RCxVQUFBLFlBQUFSLE1BQUEsV0FBQUEsT0FBQXhELENBQUEsRUFBQUQsQ0FBQSxhQUFBRSxDQUFBLFFBQUFpRSxVQUFBLENBQUFNLE1BQUEsTUFBQXZFLENBQUEsU0FBQUEsQ0FBQSxRQUFBUixDQUFBLFFBQUF5RSxVQUFBLENBQUFqRSxDQUFBLE9BQUFSLENBQUEsQ0FBQXFFLE1BQUEsU0FBQXVCLElBQUEsSUFBQWxGLENBQUEsQ0FBQXNCLElBQUEsQ0FBQWhDLENBQUEsd0JBQUE0RixJQUFBLEdBQUE1RixDQUFBLENBQUF1RSxVQUFBLFFBQUF6RCxDQUFBLEdBQUFkLENBQUEsYUFBQWMsQ0FBQSxpQkFBQVAsQ0FBQSxtQkFBQUEsQ0FBQSxLQUFBTyxDQUFBLENBQUF1RCxNQUFBLElBQUEvRCxDQUFBLElBQUFBLENBQUEsSUFBQVEsQ0FBQSxDQUFBeUQsVUFBQSxLQUFBekQsQ0FBQSxjQUFBQyxDQUFBLEdBQUFELENBQUEsR0FBQUEsQ0FBQSxDQUFBOEQsVUFBQSxjQUFBN0QsQ0FBQSxDQUFBZSxJQUFBLEdBQUF2QixDQUFBLEVBQUFRLENBQUEsQ0FBQWdCLEdBQUEsR0FBQXpCLENBQUEsRUFBQVEsQ0FBQSxTQUFBMkMsTUFBQSxnQkFBQVMsSUFBQSxHQUFBcEQsQ0FBQSxDQUFBeUQsVUFBQSxFQUFBbEMsQ0FBQSxTQUFBNkQsUUFBQSxDQUFBbkYsQ0FBQSxNQUFBbUYsUUFBQSxXQUFBQSxTQUFBM0YsQ0FBQSxFQUFBRCxDQUFBLG9CQUFBQyxDQUFBLENBQUF1QixJQUFBLFFBQUF2QixDQUFBLENBQUF3QixHQUFBLHFCQUFBeEIsQ0FBQSxDQUFBdUIsSUFBQSxtQkFBQXZCLENBQUEsQ0FBQXVCLElBQUEsUUFBQW9DLElBQUEsR0FBQTNELENBQUEsQ0FBQXdCLEdBQUEsZ0JBQUF4QixDQUFBLENBQUF1QixJQUFBLFNBQUFrRSxJQUFBLFFBQUFqRSxHQUFBLEdBQUF4QixDQUFBLENBQUF3QixHQUFBLE9BQUEwQixNQUFBLGtCQUFBUyxJQUFBLHlCQUFBM0QsQ0FBQSxDQUFBdUIsSUFBQSxJQUFBeEIsQ0FBQSxVQUFBNEQsSUFBQSxHQUFBNUQsQ0FBQSxHQUFBK0IsQ0FBQSxLQUFBOEQsTUFBQSxXQUFBQSxPQUFBNUYsQ0FBQSxhQUFBRCxDQUFBLFFBQUFtRSxVQUFBLENBQUFNLE1BQUEsTUFBQXpFLENBQUEsU0FBQUEsQ0FBQSxRQUFBRSxDQUFBLFFBQUFpRSxVQUFBLENBQUFuRSxDQUFBLE9BQUFFLENBQUEsQ0FBQStELFVBQUEsS0FBQWhFLENBQUEsY0FBQTJGLFFBQUEsQ0FBQTFGLENBQUEsQ0FBQW9FLFVBQUEsRUFBQXBFLENBQUEsQ0FBQWdFLFFBQUEsR0FBQUcsYUFBQSxDQUFBbkUsQ0FBQSxHQUFBNkIsQ0FBQSx5QkFBQStELE9BQUE3RixDQUFBLGFBQUFELENBQUEsUUFBQW1FLFVBQUEsQ0FBQU0sTUFBQSxNQUFBekUsQ0FBQSxTQUFBQSxDQUFBLFFBQUFFLENBQUEsUUFBQWlFLFVBQUEsQ0FBQW5FLENBQUEsT0FBQUUsQ0FBQSxDQUFBNkQsTUFBQSxLQUFBOUQsQ0FBQSxRQUFBRyxDQUFBLEdBQUFGLENBQUEsQ0FBQW9FLFVBQUEsa0JBQUFsRSxDQUFBLENBQUFvQixJQUFBLFFBQUE5QixDQUFBLEdBQUFVLENBQUEsQ0FBQXFCLEdBQUEsRUFBQTRDLGFBQUEsQ0FBQW5FLENBQUEsWUFBQVIsQ0FBQSxnQkFBQXVELEtBQUEsOEJBQUE4QyxhQUFBLFdBQUFBLGNBQUEvRixDQUFBLEVBQUFFLENBQUEsRUFBQUUsQ0FBQSxnQkFBQWdELFFBQUEsS0FBQXhELFFBQUEsRUFBQTBDLE1BQUEsQ0FBQXRDLENBQUEsR0FBQTJELFVBQUEsRUFBQXpELENBQUEsRUFBQTJELE9BQUEsRUFBQXpELENBQUEsb0JBQUErQyxNQUFBLFVBQUExQixHQUFBLEdBQUF4QixDQUFBLEdBQUE4QixDQUFBLE9BQUEvQixDQUFBO0FBQUEsU0FBQWdHLDJCQUFBdEcsQ0FBQSxFQUFBdUcsY0FBQSxRQUFBQyxFQUFBLFVBQUF2RyxNQUFBLG9CQUFBRCxDQUFBLENBQUFDLE1BQUEsQ0FBQUMsUUFBQSxLQUFBRixDQUFBLHFCQUFBd0csRUFBQSxRQUFBQyxLQUFBLENBQUFDLE9BQUEsQ0FBQTFHLENBQUEsTUFBQXdHLEVBQUEsR0FBQUcsMkJBQUEsQ0FBQTNHLENBQUEsTUFBQXVHLGNBQUEsSUFBQXZHLENBQUEsV0FBQUEsQ0FBQSxDQUFBK0UsTUFBQSxxQkFBQXlCLEVBQUEsRUFBQXhHLENBQUEsR0FBQXdHLEVBQUEsTUFBQTFGLENBQUEsVUFBQThGLENBQUEsWUFBQUEsRUFBQSxlQUFBeEUsQ0FBQSxFQUFBd0UsQ0FBQSxFQUFBbEcsQ0FBQSxXQUFBQSxFQUFBLFFBQUFJLENBQUEsSUFBQWQsQ0FBQSxDQUFBK0UsTUFBQSxXQUFBdkIsSUFBQSxtQkFBQUEsSUFBQSxTQUFBM0MsS0FBQSxFQUFBYixDQUFBLENBQUFjLENBQUEsVUFBQVIsQ0FBQSxXQUFBQSxFQUFBdUcsRUFBQSxVQUFBQSxFQUFBLEtBQUExRSxDQUFBLEVBQUF5RSxDQUFBLGdCQUFBNUMsU0FBQSxpSkFBQThDLGdCQUFBLFNBQUFDLE1BQUEsVUFBQUMsR0FBQSxXQUFBNUUsQ0FBQSxXQUFBQSxFQUFBLElBQUFvRSxFQUFBLEdBQUFBLEVBQUEsQ0FBQXhFLElBQUEsQ0FBQWhDLENBQUEsTUFBQVUsQ0FBQSxXQUFBQSxFQUFBLFFBQUF1RyxJQUFBLEdBQUFULEVBQUEsQ0FBQXRDLElBQUEsSUFBQTRDLGdCQUFBLEdBQUFHLElBQUEsQ0FBQXpELElBQUEsU0FBQXlELElBQUEsS0FBQTNHLENBQUEsV0FBQUEsRUFBQTRHLEdBQUEsSUFBQUgsTUFBQSxTQUFBQyxHQUFBLEdBQUFFLEdBQUEsS0FBQS9FLENBQUEsV0FBQUEsRUFBQSxlQUFBMkUsZ0JBQUEsSUFBQU4sRUFBQSxvQkFBQUEsRUFBQSw4QkFBQU8sTUFBQSxRQUFBQyxHQUFBO0FBQUEsU0FBQUcsbUJBQUFDLEdBQUEsV0FBQUMsa0JBQUEsQ0FBQUQsR0FBQSxLQUFBRSxnQkFBQSxDQUFBRixHQUFBLEtBQUFULDJCQUFBLENBQUFTLEdBQUEsS0FBQUcsa0JBQUE7QUFBQSxTQUFBQSxtQkFBQSxjQUFBdkQsU0FBQTtBQUFBLFNBQUFzRCxpQkFBQUUsSUFBQSxlQUFBdkgsTUFBQSxvQkFBQXVILElBQUEsQ0FBQXZILE1BQUEsQ0FBQUMsUUFBQSxhQUFBc0gsSUFBQSwrQkFBQWYsS0FBQSxDQUFBZ0IsSUFBQSxDQUFBRCxJQUFBO0FBQUEsU0FBQUgsbUJBQUFELEdBQUEsUUFBQVgsS0FBQSxDQUFBQyxPQUFBLENBQUFVLEdBQUEsVUFBQU0saUJBQUEsQ0FBQU4sR0FBQTtBQUFBLFNBQUFPLGVBQUFQLEdBQUEsRUFBQXRHLENBQUEsV0FBQThHLGVBQUEsQ0FBQVIsR0FBQSxLQUFBUyxxQkFBQSxDQUFBVCxHQUFBLEVBQUF0RyxDQUFBLEtBQUE2RiwyQkFBQSxDQUFBUyxHQUFBLEVBQUF0RyxDQUFBLEtBQUFnSCxnQkFBQTtBQUFBLFNBQUFBLGlCQUFBLGNBQUE5RCxTQUFBO0FBQUEsU0FBQTJDLDRCQUFBM0csQ0FBQSxFQUFBK0gsTUFBQSxTQUFBL0gsQ0FBQSxxQkFBQUEsQ0FBQSxzQkFBQTBILGlCQUFBLENBQUExSCxDQUFBLEVBQUErSCxNQUFBLE9BQUFySCxDQUFBLEdBQUFELE1BQUEsQ0FBQUwsU0FBQSxDQUFBNEgsUUFBQSxDQUFBaEcsSUFBQSxDQUFBaEMsQ0FBQSxFQUFBOEYsS0FBQSxhQUFBcEYsQ0FBQSxpQkFBQVYsQ0FBQSxDQUFBRyxXQUFBLEVBQUFPLENBQUEsR0FBQVYsQ0FBQSxDQUFBRyxXQUFBLENBQUErRSxJQUFBLE1BQUF4RSxDQUFBLGNBQUFBLENBQUEsbUJBQUErRixLQUFBLENBQUFnQixJQUFBLENBQUF6SCxDQUFBLE9BQUFVLENBQUEsK0RBQUF1SCxJQUFBLENBQUF2SCxDQUFBLFVBQUFnSCxpQkFBQSxDQUFBMUgsQ0FBQSxFQUFBK0gsTUFBQTtBQUFBLFNBQUFMLGtCQUFBTixHQUFBLEVBQUFjLEdBQUEsUUFBQUEsR0FBQSxZQUFBQSxHQUFBLEdBQUFkLEdBQUEsQ0FBQXJDLE1BQUEsRUFBQW1ELEdBQUEsR0FBQWQsR0FBQSxDQUFBckMsTUFBQSxXQUFBakUsQ0FBQSxNQUFBcUgsSUFBQSxPQUFBMUIsS0FBQSxDQUFBeUIsR0FBQSxHQUFBcEgsQ0FBQSxHQUFBb0gsR0FBQSxFQUFBcEgsQ0FBQSxJQUFBcUgsSUFBQSxDQUFBckgsQ0FBQSxJQUFBc0csR0FBQSxDQUFBdEcsQ0FBQSxVQUFBcUgsSUFBQTtBQUFBLFNBQUFOLHNCQUFBckgsQ0FBQSxFQUFBMEIsQ0FBQSxRQUFBM0IsQ0FBQSxXQUFBQyxDQUFBLGdDQUFBUCxNQUFBLElBQUFPLENBQUEsQ0FBQVAsTUFBQSxDQUFBQyxRQUFBLEtBQUFNLENBQUEsNEJBQUFELENBQUEsUUFBQUQsQ0FBQSxFQUFBSSxDQUFBLEVBQUFJLENBQUEsRUFBQUksQ0FBQSxFQUFBSCxDQUFBLE9BQUFvQixDQUFBLE9BQUFuQyxDQUFBLGlCQUFBYyxDQUFBLElBQUFQLENBQUEsR0FBQUEsQ0FBQSxDQUFBeUIsSUFBQSxDQUFBeEIsQ0FBQSxHQUFBMEQsSUFBQSxRQUFBaEMsQ0FBQSxRQUFBekIsTUFBQSxDQUFBRixDQUFBLE1BQUFBLENBQUEsVUFBQTRCLENBQUEsdUJBQUFBLENBQUEsSUFBQTdCLENBQUEsR0FBQVEsQ0FBQSxDQUFBa0IsSUFBQSxDQUFBekIsQ0FBQSxHQUFBaUQsSUFBQSxNQUFBekMsQ0FBQSxDQUFBMkQsSUFBQSxDQUFBcEUsQ0FBQSxDQUFBTyxLQUFBLEdBQUFFLENBQUEsQ0FBQWdFLE1BQUEsS0FBQTdDLENBQUEsR0FBQUMsQ0FBQSxpQkFBQTNCLENBQUEsSUFBQVIsQ0FBQSxPQUFBVSxDQUFBLEdBQUFGLENBQUEseUJBQUEyQixDQUFBLFlBQUE1QixDQUFBLGVBQUFXLENBQUEsR0FBQVgsQ0FBQSxjQUFBRSxNQUFBLENBQUFTLENBQUEsTUFBQUEsQ0FBQSwyQkFBQWxCLENBQUEsUUFBQVUsQ0FBQSxhQUFBSyxDQUFBO0FBQUEsU0FBQTZHLGdCQUFBUixHQUFBLFFBQUFYLEtBQUEsQ0FBQUMsT0FBQSxDQUFBVSxHQUFBLFVBQUFBLEdBQUE7QUFBQSxTQUFBZ0IsZ0JBQUFDLFFBQUEsRUFBQUMsV0FBQSxVQUFBRCxRQUFBLFlBQUFDLFdBQUEsZUFBQXRFLFNBQUE7QUFBQSxTQUFBdUUsa0JBQUFDLE1BQUEsRUFBQUMsS0FBQSxhQUFBM0gsQ0FBQSxNQUFBQSxDQUFBLEdBQUEySCxLQUFBLENBQUExRCxNQUFBLEVBQUFqRSxDQUFBLFVBQUE0SCxVQUFBLEdBQUFELEtBQUEsQ0FBQTNILENBQUEsR0FBQTRILFVBQUEsQ0FBQXJILFVBQUEsR0FBQXFILFVBQUEsQ0FBQXJILFVBQUEsV0FBQXFILFVBQUEsQ0FBQXBILFlBQUEsd0JBQUFvSCxVQUFBLEVBQUFBLFVBQUEsQ0FBQW5ILFFBQUEsU0FBQWQsTUFBQSxDQUFBRyxjQUFBLENBQUE0SCxNQUFBLEVBQUFHLGNBQUEsQ0FBQUQsVUFBQSxDQUFBRSxHQUFBLEdBQUFGLFVBQUE7QUFBQSxTQUFBRyxhQUFBUCxXQUFBLEVBQUFRLFVBQUEsRUFBQUMsV0FBQSxRQUFBRCxVQUFBLEVBQUFQLGlCQUFBLENBQUFELFdBQUEsQ0FBQWxJLFNBQUEsRUFBQTBJLFVBQUEsT0FBQUMsV0FBQSxFQUFBUixpQkFBQSxDQUFBRCxXQUFBLEVBQUFTLFdBQUEsR0FBQXRJLE1BQUEsQ0FBQUcsY0FBQSxDQUFBMEgsV0FBQSxpQkFBQS9HLFFBQUEsbUJBQUErRyxXQUFBO0FBQUEsU0FBQUssZUFBQTVHLEdBQUEsUUFBQTZHLEdBQUEsR0FBQUksWUFBQSxDQUFBakgsR0FBQSxvQkFBQWhDLE9BQUEsQ0FBQTZJLEdBQUEsaUJBQUFBLEdBQUEsR0FBQUssTUFBQSxDQUFBTCxHQUFBO0FBQUEsU0FBQUksYUFBQUUsS0FBQSxFQUFBQyxJQUFBLFFBQUFwSixPQUFBLENBQUFtSixLQUFBLGtCQUFBQSxLQUFBLGtCQUFBQSxLQUFBLE1BQUFFLElBQUEsR0FBQUYsS0FBQSxDQUFBakosTUFBQSxDQUFBb0osV0FBQSxPQUFBRCxJQUFBLEtBQUFFLFNBQUEsUUFBQUMsR0FBQSxHQUFBSCxJQUFBLENBQUFwSCxJQUFBLENBQUFrSCxLQUFBLEVBQUFDLElBQUEsb0JBQUFwSixPQUFBLENBQUF3SixHQUFBLHVCQUFBQSxHQUFBLFlBQUF2RixTQUFBLDREQUFBbUYsSUFBQSxnQkFBQUYsTUFBQSxHQUFBTyxNQUFBLEVBQUFOLEtBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9DQTtBQUNBLElBQUFPLE9BQUEsR0FBQUMsZUFBQSxDQUFBQyxtQkFBQTtBQUVBLElBQUFDLHNCQUFBLEdBQUFELG1CQUFBO0FBRUEsSUFBQUUsZ0JBQUEsR0FBQUgsZUFBQSxDQUFBQyxtQkFBQTtBQUVBO0FBQUEsSUFDcUJHLFFBQVE7RUFFekIsU0FBQUEsU0FBWUMsb0JBQW9CO0lBQUEsSUFBQUMsS0FBQTtJQUFBNUIsZUFBQSxPQUFBMEIsUUFBQTtJQU14QixLQUFBRyxZQUFZLEdBQUcsQ0FBQztJQUNoQixLQUFBQyxpQkFBaUIsR0FBRyxDQUFDO0lBRXJCLEtBQUFDLGVBQWUsR0FBRyxJQUFJQyxHQUFHLEVBQUU7SUFFM0IsS0FBQUMsZUFBZSxHQUFHLElBQUlELEdBQUcsRUFBRTtJQUUzQixLQUFBRSxjQUFjLEdBQUc7TUFFckJDLG9CQUFvQixFQUFDLElBQUlILEdBQUcsRUFBRTtNQUM5QkksWUFBWSxFQUFFLElBQUlKLEdBQUcsRUFBRTtNQUN2QkssbUJBQW1CLEVBQUMsSUFBSTtNQUN4QkMsd0JBQXdCLEVBQUMsSUFBSTtNQUM3QkMsb0JBQW9CLEVBQUUsSUFBSUMsR0FBRyxFQUFFO01BRS9CQyxZQUFZLEVBQUMsSUFBSSxDQUFFO0tBRXRCO0lBOEJEO0lBQ1EsS0FBQUMsU0FBUyxHQUFHLFVBQUNDLFVBQVUsRUFBSTtNQUMvQixJQUFNQyxNQUFNLEdBQUc7UUFFWDtRQUNBO1FBQ0E7UUFDQTtRQUNBLElBQUlDLGdCQUFnQkEsQ0FBQTtVQUNoQixPQUFPLElBQUksQ0FBQ0MsbUJBQW1CLEVBQUU7UUFDckMsQ0FBQztRQUNEQSxtQkFBbUIsRUFBQyxTQUFBQSxvQkFBQSxFQUFLO1VBQ3JCLE9BQVFsQixLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ0UsZ0JBQWdCO1FBQ2pFLENBQUM7UUFDRCxJQUFJRyxPQUFPQSxDQUFBO1VBQ1AsT0FBTyxJQUFJLENBQUNDLFVBQVUsRUFBRTtRQUM1QixDQUFDO1FBQ0RBLFVBQVUsRUFBQyxTQUFBQSxXQUFBLEVBQUs7VUFDWixPQUFRckIsS0FBSSxDQUFDSyxlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDLENBQUNLLE9BQU87UUFDeEQsQ0FBQztRQUNEakIsZUFBZSxFQUFDSCxLQUFJLENBQUNHLGVBQWU7UUFDcEMsSUFBSW1CLFlBQVlBLENBQUE7VUFDWixPQUFPLElBQUksQ0FBQ0MsZUFBZSxFQUFFO1FBQ2pDLENBQUM7UUFDREEsZUFBZSxFQUFDLFNBQUFBLGdCQUFBLEVBQUs7VUFDakIsT0FBT3ZCLEtBQUksQ0FBQ0ssZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQyxDQUFDTyxZQUFZO1FBQzVELENBQUM7UUFDRCxJQUFJWix3QkFBd0JBLENBQUNjLEVBQUU7VUFDM0IsSUFBSSxDQUFDQywyQkFBMkIsQ0FBQ0QsRUFBRSxDQUFDO1FBQ3hDLENBQUM7UUFDREMsMkJBQTJCLEVBQUMsU0FBQUEsNEJBQUNELEVBQUUsRUFBSTtVQUMvQnhCLEtBQUksQ0FBQ00sY0FBYyxDQUFDSSx3QkFBd0IsR0FBR2MsRUFBRTtRQUNyRCxDQUFDO1FBQ0QsSUFBSUUsZ0JBQWdCQSxDQUFDQyxLQUFLO1VBQ3RCLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNELEtBQUssQ0FBQztRQUNuQyxDQUFDO1FBQ0RDLG1CQUFtQixFQUFDLFNBQUFBLG9CQUFDRCxLQUFLLEVBQUk7VUFDMUIzQixLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ1csZ0JBQWdCLEdBQUdDLEtBQUs7UUFDakUsQ0FBQztRQUNELElBQUlFLGlDQUFpQ0EsQ0FBQ0MsSUFBSTtVQUN0QyxJQUFJLENBQUNDLG9DQUFvQyxDQUFDRCxJQUFJLENBQUM7UUFDbkQsQ0FBQztRQUNEQyxvQ0FBb0MsRUFBQyxTQUFBQSxxQ0FBQ0QsSUFBSSxFQUFJO1VBQzFDOUIsS0FBSSxDQUFDSyxlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDLENBQUNjLGlDQUFpQyxHQUFHQyxJQUFJO1FBQ2pGLENBQUM7UUFDRCxJQUFJekQsUUFBUUEsQ0FBQTtVQUNSLE9BQU8sSUFBSSxDQUFDMkQsV0FBVyxFQUFFO1FBQzdCLENBQUM7UUFDREEsV0FBVyxFQUFDLFNBQUFBLFlBQUEsRUFBSztVQUNiLE9BQU9oQyxLQUFJO1FBQ2YsQ0FBQztRQUVEO1FBQ0FpQyxrQkFBa0IsRUFBQyxTQUFBQSxtQkFBQ2IsT0FBTyxFQUFJO1VBQzNCLE9BQU9wQixLQUFJLENBQUNpQyxrQkFBa0IsQ0FBQ2xCLFVBQVUsRUFBRUssT0FBTyxDQUFDO1FBQ3ZELENBQUM7UUFDRGMsbUJBQW1CLEVBQUMsU0FBQUEsb0JBQUEsRUFBSztVQUNyQixPQUFPbEMsS0FBSSxDQUFDa0MsbUJBQW1CLEVBQUU7UUFDckMsQ0FBQztRQUNEQyxpQkFBaUIsRUFBQyxTQUFBQSxrQkFBQSxFQUFLO1VBQ25CLE9BQU9uQyxLQUFJLENBQUNtQyxpQkFBaUIsRUFBRTtRQUNuQyxDQUFDO1FBQ0RDLFVBQVUsRUFBQyxTQUFBQSxXQUFBLEVBQUs7VUFDWixPQUFPcEMsS0FBSSxDQUFDb0MsVUFBVSxDQUFDckIsVUFBVSxDQUFDO1FBQ3RDLENBQUM7UUFDRHNCLG1CQUFtQixFQUFDLFNBQUFBLG9CQUFDQyxXQUFXLEVBQUVDLGtCQUFrQixFQUFJO1VBQ3BELE9BQU92QyxLQUFJLENBQUNxQyxtQkFBbUIsQ0FBQ3RCLFVBQVUsRUFBRXVCLFdBQVcsRUFBRUMsa0JBQWtCLENBQUM7UUFDaEYsQ0FBQztRQUNEQyxvQkFBb0IsRUFBQyxTQUFBQSxxQkFBQ0MsWUFBWSxFQUFFRixrQkFBa0IsRUFBSTtVQUN0RCxPQUFPdkMsS0FBSSxDQUFDd0Msb0JBQW9CLENBQUN6QixVQUFVLEVBQUUwQixZQUFZLEVBQUVGLGtCQUFrQixDQUFDO1FBQ2xGLENBQUM7UUFDREcsa0JBQWtCLEVBQUMsU0FBQUEsbUJBQUNDLGVBQWUsRUFBRUosa0JBQWtCLEVBQUk7VUFDdkQsT0FBT3ZDLEtBQUksQ0FBQzBDLGtCQUFrQixDQUFDM0IsVUFBVSxFQUFFNEIsZUFBZSxFQUFFSixrQkFBa0IsQ0FBQztRQUNuRixDQUFDO1FBQ0RLLGNBQWMsRUFBQyxTQUFBQSxlQUFDQyxRQUFRLEVBQUVGLGVBQWUsRUFBRUosa0JBQWtCLEVBQUk7VUFDN0QsT0FBT3ZDLEtBQUksQ0FBQzRDLGNBQWMsQ0FBQzdCLFVBQVUsRUFBRThCLFFBQVEsRUFBRUYsZUFBZSxFQUFFSixrQkFBa0IsQ0FBQztRQUN6RixDQUFDO1FBQ0RPLDBCQUEwQixFQUFDLFNBQUFBLDJCQUFDRCxRQUFRLEVBQUVFLGdCQUFnQixFQUFFQyxrQkFBa0IsRUFBSTtVQUMxRSxPQUFPaEQsS0FBSSxDQUFDOEMsMEJBQTBCLENBQUMvQixVQUFVLEVBQUU4QixRQUFRLEVBQUVFLGdCQUFnQixFQUFFQyxrQkFBa0IsQ0FBQztRQUN0RyxDQUFDO1FBQ0RDLE9BQU8sRUFBQyxTQUFBQSxRQUFDQyxhQUFhLEVBQUVDLHNCQUFzQixFQUFJO1VBQzlDLE9BQU9uRCxLQUFJLENBQUNpRCxPQUFPLENBQUNsQyxVQUFVLEVBQUVtQyxhQUFhLEVBQUVDLHNCQUFzQixDQUFDO1FBQzFFLENBQUM7UUFDREMsZ0JBQWdCLEVBQUMsU0FBQUEsaUJBQUEsRUFBSztVQUNsQixPQUFPcEQsS0FBSSxDQUFDb0QsZ0JBQWdCLENBQUNyQyxVQUFVLENBQUM7UUFDNUMsQ0FBQztRQUNEc0MsaUJBQWlCLEVBQUMsU0FBQUEsa0JBQUNWLGVBQWUsRUFBSTtVQUNsQyxPQUFPM0MsS0FBSSxDQUFDcUQsaUJBQWlCLENBQUN0QyxVQUFVLEVBQUU0QixlQUFlLENBQUM7UUFDOUQsQ0FBQztRQUNEVyxlQUFlLEVBQUMsU0FBQUEsZ0JBQUEsRUFBSztVQUNqQixPQUFPdEQsS0FBSSxDQUFDc0QsZUFBZSxDQUFDdkMsVUFBVSxDQUFDO1FBQzNDLENBQUM7UUFDRHdDLFNBQVMsRUFBQyxTQUFBQSxVQUFDQyxVQUFVLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFLO1VBQ25ELE9BQU8xRCxLQUFJLENBQUN1RCxTQUFTLENBQUN4QyxVQUFVLEVBQUV5QyxVQUFVLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxDQUFDO1FBQzlFLENBQUM7UUFDREMsaUJBQWlCLEVBQUMsU0FBQUEsa0JBQUNDLEtBQUssRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBSztVQUN6RCxPQUFPL0QsS0FBSSxDQUFDMkQsaUJBQWlCLENBQUM1QyxVQUFVLEVBQUU2QyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxRQUFRLENBQUU7UUFDckYsQ0FBQztRQUNEQyxxQkFBcUIsRUFBQyxTQUFBQSxzQkFBQ0osS0FBSyxFQUFJO1VBQzVCLE9BQU81RCxLQUFJLENBQUNnRSxxQkFBcUIsQ0FBQ2pELFVBQVUsRUFBRTZDLEtBQUssQ0FBQztRQUN4RCxDQUFDO1FBQ0RLLHVCQUF1QixFQUFDLFNBQUFBLHdCQUFDTCxLQUFLLEVBQUk7VUFDOUIsT0FBTzVELEtBQUksQ0FBQ2lFLHVCQUF1QixDQUFDbEQsVUFBVSxFQUFFNkMsS0FBSyxDQUFDO1FBQzFELENBQUM7UUFDRE0sWUFBWSxFQUFDLFNBQUFBLGFBQUEsRUFBSztVQUNkLE9BQU9sRSxLQUFJLENBQUNrRSxZQUFZLEVBQUU7UUFDOUIsQ0FBQztRQUNEQyxzQkFBc0IsRUFBQyxTQUFBQSx1QkFBQ1AsS0FBSyxFQUFJO1VBQzdCLE9BQU81RCxLQUFJLENBQUNtRSxzQkFBc0IsQ0FBQ3BELFVBQVUsRUFBRTZDLEtBQUssQ0FBQztRQUN6RCxDQUFDO1FBQ0RRLFlBQVksRUFBQyxTQUFBQSxhQUFDQyxTQUFTLEVBQUVULEtBQUssRUFBRVUsTUFBTSxFQUFFQyxrQkFBa0IsRUFBdUI7VUFBQSxJQUFyQkMsU0FBUyxHQUFBQyxTQUFBLENBQUExSixNQUFBLFFBQUEwSixTQUFBLFFBQUFuRixTQUFBLEdBQUFtRixTQUFBLE1BQUcsS0FBSztVQUN6RSxPQUFPekUsS0FBSSxDQUFDb0UsWUFBWSxDQUFDckQsVUFBVSxFQUFFc0QsU0FBUyxFQUFFVCxLQUFLLEVBQUVVLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUVDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDekcsQ0FBQztRQUNERSxtQkFBbUIsRUFBQyxTQUFBQSxvQkFBQ2QsS0FBSyxFQUFFckIsa0JBQWtCLEVBQUk7VUFDOUMsT0FBT3ZDLEtBQUksQ0FBQzBFLG1CQUFtQixDQUFDM0QsVUFBVSxFQUFFNkMsS0FBSyxFQUFFckIsa0JBQWtCLENBQUM7UUFDMUUsQ0FBQztRQUNEb0Msc0NBQXNDLEVBQUMsU0FBQUEsdUNBQUEsRUFBSztVQUN4QyxPQUFPM0UsS0FBSSxDQUFDMkUsc0NBQXNDLENBQUM1RCxVQUFVLENBQUM7UUFDbEUsQ0FBQztRQUNENkQsU0FBUyxFQUFDLFNBQUFBLFVBQUNOLE1BQU0sRUFBSTtVQUNqQixPQUFPdEUsS0FBSSxDQUFDNEUsU0FBUyxDQUFDTixNQUFNLENBQUM7UUFDakMsQ0FBQztRQUNETyxpQkFBaUIsRUFBQyxTQUFBQSxrQkFBQ1AsTUFBTSxFQUFJO1VBQ3pCLE9BQU90RSxLQUFJLENBQUM2RSxpQkFBaUIsQ0FBQ1AsTUFBTSxDQUFDO1FBQ3pDO09BQ0g7TUFFRCxPQUFPdEQsTUFBTTtJQUNqQixDQUFDO0lBRU8sS0FBQWlCLGtCQUFrQixHQUFHLFVBQUNsQixVQUFVLEVBQUVLLE9BQU8sRUFBSTtNQUVqRCxJQUFRZixlQUFlLEdBQXNCTCxLQUFJLENBQXpDSyxlQUFlO1FBQUVGLGVBQWUsR0FBS0gsS0FBSSxDQUF4QkcsZUFBZTtNQUV4QyxJQUFLRSxlQUFlLENBQUN5RSxJQUFJLElBQUksQ0FBQyxFQUFHLE9BQU0sQ0FBQztNQUV4Q3pFLGVBQWUsVUFBTyxDQUFDVSxVQUFVLENBQUM7TUFDbENLLE9BQU8sQ0FBQ3JJLE9BQU8sQ0FBQyxVQUFDdUwsTUFBTSxFQUFJO1FBQ3ZCLElBQUFTLG9CQUFBLEdBQXdCNUUsZUFBZSxDQUFDZ0IsR0FBRyxDQUFDbUQsTUFBTSxDQUFDO1VBQTNDVSxXQUFXLEdBQUFELG9CQUFBLENBQVhDLFdBQVc7UUFDbkJoRixLQUFJLENBQUNpRixxQkFBcUIsQ0FBQ0QsV0FBVyxFQUFDVixNQUFNLENBQUM7UUFDOUNuRSxlQUFlLFVBQU8sQ0FBQ21FLE1BQU0sQ0FBQztNQUNsQyxDQUFDLENBQUM7TUFDRnRFLEtBQUksQ0FBQ21DLGlCQUFpQixFQUFFO01BQ3hCO0lBRUosQ0FBQztJQUVEO0lBRUE7SUFFUSxLQUFBRCxtQkFBbUIsR0FBRyxZQUFLO01BRS9CbEMsS0FBSSxDQUFDTSxjQUFjLENBQUNHLG1CQUFtQixHQUFHaEUsS0FBSyxDQUFDZ0IsSUFBSSxDQUFDdUMsS0FBSSxDQUFDTSxjQUFjLENBQUNFLFlBQVksQ0FBQzVILE1BQU0sRUFBRSxDQUFDO01BRS9Gb0gsS0FBSSxDQUFDTSxjQUFjLENBQUNJLHdCQUF3QixDQUFDVixLQUFJLENBQUNNLGNBQWMsQ0FBQ0csbUJBQW1CLENBQUM7SUFFekYsQ0FBQztJQUVPLEtBQUF5RSxZQUFZLEdBQUcsWUFBSztNQUV4QixJQUFNRixXQUFXLEdBQUdoRixLQUFJLENBQUNFLGlCQUFpQixFQUFFO01BQzVDRixLQUFJLENBQUNNLGNBQWMsQ0FBQ0Msb0JBQW9CLENBQUM0RSxHQUFHLENBQUNILFdBQVcsRUFDcEQ7UUFDSUksU0FBUyxFQUFDLElBQUloRixHQUFHLEVBQUU7UUFDbkJpRixRQUFRLEVBQUMsQ0FBQztRQUNWQyxnQkFBZ0IsRUFBQyxJQUFJO1FBQ3JCQyxRQUFRLEVBQUMsS0FBSztRQUNkQyxXQUFXLEVBQUMsSUFBSTtRQUNoQlIsV0FBVyxFQUFYQTtPQUNILENBQUM7TUFFTixJQUFNUyxXQUFXLEdBQUc7UUFDaEJDLE9BQU8sRUFBQztPQUNYO01BRUQsSUFBTUMsT0FBTyxHQUFHLElBQUluSyxPQUFPLENBQUMsVUFBQ3JDLE9BQU8sRUFBSTtRQUNwQ3NNLFdBQVcsQ0FBQ0MsT0FBTyxHQUFHdk0sT0FBTztNQUNqQyxDQUFDLENBQUM7TUFFRixJQUFNeU0sUUFBUSxHQUFHLFNBQVhBLFFBQVFBLENBQUEsRUFBUTtRQUVsQkgsV0FBVyxDQUFDQyxPQUFPLENBQUNWLFdBQVcsQ0FBQztNQUVwQyxDQUFDO01BRURoRixLQUFJLENBQUNNLGNBQWMsQ0FBQ0UsWUFBWSxDQUFDMkUsR0FBRyxDQUFDSCxXQUFXLEVBQzVDdkYsT0FBQSxZQUFBb0csYUFBQSxDQUFDaEcsZ0JBQUEsV0FBYztRQUNYakIsR0FBRyxFQUFJb0csV0FBVztRQUNsQjFFLGNBQWMsRUFBSU4sS0FBSSxDQUFDTSxjQUFjO1FBQ3JDMEUsV0FBVyxFQUFJQSxXQUFXO1FBQzFCWSxRQUFRLEVBQUtBO01BQVEsRUFBSyxDQUFDO01BRW5DNUYsS0FBSSxDQUFDa0MsbUJBQW1CLEVBQUU7TUFFMUIsT0FBT3lELE9BQU87SUFFbEIsQ0FBQztJQWdETyxLQUFBRyxrQkFBa0IsR0FBRyxVQUFDZCxXQUFXLEVBQUVWLE1BQU0sRUFBRXlCLE1BQU0sRUFBSTtNQUV6RCxJQUFNQyxpQkFBaUIsR0FBR2hHLEtBQUksQ0FBQ00sY0FBYyxDQUFDQyxvQkFBb0IsQ0FBQ1ksR0FBRyxDQUFDNkQsV0FBVyxDQUFDO01BRW5GZ0IsaUJBQWlCLENBQUNaLFNBQVMsQ0FBQ0QsR0FBRyxDQUFDYixNQUFNLEVBQUN5QixNQUFNLENBQUM7TUFFOUMvRixLQUFJLENBQUNNLGNBQWMsQ0FBQ0ssb0JBQW9CLENBQUNzRixHQUFHLENBQUNqQixXQUFXLENBQUM7SUFFN0QsQ0FBQztJQUVPLEtBQUFDLHFCQUFxQixHQUFHLFVBQUNELFdBQVcsRUFBRVYsTUFBTSxFQUFJO01BRXBELElBQU0wQixpQkFBaUIsR0FBR2hHLEtBQUksQ0FBQ00sY0FBYyxDQUFDQyxvQkFBb0IsQ0FBQ1ksR0FBRyxDQUFDNkQsV0FBVyxDQUFDO01BRW5GZ0IsaUJBQWlCLENBQUNaLFNBQVMsVUFBTyxDQUFDZCxNQUFNLENBQUM7TUFDMUMwQixpQkFBaUIsQ0FBQ1gsUUFBUSxJQUFJLENBQUM7TUFFL0JyRixLQUFJLENBQUNNLGNBQWMsQ0FBQ0ssb0JBQW9CLENBQUNzRixHQUFHLENBQUNqQixXQUFXLENBQUM7SUFFN0QsQ0FBQztJQUVPLEtBQUFrQixlQUFlLEdBQUcsVUFBQ2xCLFdBQVcsRUFBSTtNQUV0QyxJQUFNZ0IsaUJBQWlCLEdBQUdoRyxLQUFJLENBQUNNLGNBQWMsQ0FBQ0Msb0JBQW9CLENBQUNZLEdBQUcsQ0FBQzZELFdBQVcsQ0FBQztNQUVuRixJQUFJLENBQUNnQixpQkFBaUIsRUFBRTtNQUV4QkEsaUJBQWlCLENBQUNWLGdCQUFnQixHQUFJN0ksS0FBSyxDQUFDZ0IsSUFBSSxDQUFDdUksaUJBQWlCLENBQUNaLFNBQVMsQ0FBQ3hNLE1BQU0sRUFBRSxDQUFDO01BRXRGO01BQ0FvTixpQkFBaUIsQ0FBQ1IsV0FBVyxJQUFJUSxpQkFBaUIsQ0FBQ1IsV0FBVyxDQUFDUSxpQkFBaUIsQ0FBQ1YsZ0JBQWdCLENBQUM7SUFFdEcsQ0FBQztJQUVEO0lBQ1EsS0FBQW5ELGlCQUFpQixHQUFHLFlBQUs7TUFFN0IsSUFBUXhCLG9CQUFvQixHQUFLWCxLQUFJLENBQUNNLGNBQWMsQ0FBNUNLLG9CQUFvQjtNQUU1QixJQUFJQSxvQkFBb0IsQ0FBQ21FLElBQUksRUFBRTtRQUUzQm5FLG9CQUFvQixDQUFDNUgsT0FBTyxDQUFDLFVBQUNpTSxXQUFXLEVBQUk7VUFFekNoRixLQUFJLENBQUNrRyxlQUFlLENBQUNsQixXQUFXLENBQUM7UUFFckMsQ0FBQyxDQUFDO1FBRUZoRixLQUFJLENBQUNNLGNBQWMsQ0FBQ0ssb0JBQW9CLENBQUN3RixLQUFLLEVBQUU7O0lBSXhELENBQUM7SUFFTyxLQUFBL0QsVUFBVSxHQUFHLFVBQUNyQixVQUFVLEVBQUk7TUFFaEMsSUFBUVYsZUFBZSxHQUFzQkwsS0FBSSxDQUF6Q0ssZUFBZTtRQUFFRixlQUFlLEdBQUtILEtBQUksQ0FBeEJHLGVBQWU7TUFDeEMsSUFBTWlHLE9BQU8sR0FBRy9GLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUM7TUFDL0MsSUFBT0UsZ0JBQWdCLEdBQTJCbUYsT0FBTyxDQUFsRG5GLGdCQUFnQjtRQUFFRyxPQUFPLEdBQWtCZ0YsT0FBTyxDQUFoQ2hGLE9BQU87UUFBRUUsWUFBWSxHQUFJOEUsT0FBTyxDQUF2QjlFLFlBQVk7TUFFOUMsSUFBSWpCLGVBQWUsQ0FBQ3lFLElBQUksSUFBSSxDQUFDLEVBQUU7UUFFM0I7UUFDQTNFLGVBQWUsQ0FBQ2dHLEtBQUssRUFBRTtRQUV2QjtRQUNBbkcsS0FBSSxDQUFDTSxjQUFjLENBQUNDLG9CQUFvQixDQUFDNEYsS0FBSyxFQUFFO1FBQ2hEbkcsS0FBSSxDQUFDTSxjQUFjLENBQUNFLFlBQVksQ0FBQzJGLEtBQUssRUFBRTtRQUN4Q25HLEtBQUksQ0FBQ00sY0FBYyxDQUFDRyxtQkFBbUIsR0FBRyxFQUFFO1FBQzVDVCxLQUFJLENBQUNNLGNBQWMsQ0FBQ0ssb0JBQW9CLENBQUN3RixLQUFLLEVBQUU7UUFDaERuRyxLQUFJLENBQUNNLGNBQWMsQ0FBQ08sWUFBWSxHQUFHLElBQUk7UUFDdkNiLEtBQUksQ0FBQ00sY0FBYyxDQUFDSSx3QkFBd0IsQ0FBQyxJQUFJLENBQUM7T0FFckQsTUFBTTtRQUVIVSxPQUFPLENBQUNySSxPQUFPLENBQUMsVUFBQ3VMLE1BQU0sRUFBSTtVQUN2QixJQUFBK0IscUJBQUEsR0FBd0JsRyxlQUFlLENBQUNnQixHQUFHLENBQUNtRCxNQUFNLENBQUM7WUFBM0NVLFdBQVcsR0FBQXFCLHFCQUFBLENBQVhyQixXQUFXO1VBQ25CaEYsS0FBSSxDQUFDaUYscUJBQXFCLENBQUNELFdBQVcsRUFBQ1YsTUFBTSxDQUFDO1FBQ2xELENBQUMsQ0FBQztRQUNGdEUsS0FBSSxDQUFDbUMsaUJBQWlCLEVBQUU7O01BSTVCbEIsZ0JBQWdCLENBQUNrRixLQUFLLEVBQUU7TUFDeEIvRSxPQUFPLENBQUMrRSxLQUFLLEVBQUU7TUFDZjdFLFlBQVksQ0FBQzZFLEtBQUssRUFBRTtJQUV4QixDQUFDO0lBRUQ7SUFFQTtJQUVBO0lBQ1EsS0FBQTlELG1CQUFtQixHQUFHLFVBQUN0QixVQUFVLEVBQUV1QixXQUFXLEVBQUVDLGtCQUFrQixFQUFJO01BRTFFLElBQUlELFdBQVcsQ0FBQ3ZILE1BQU0sSUFBSSxDQUFDLEVBQUU7UUFDekJpRixLQUFJLENBQUNvQyxVQUFVLENBQUNyQixVQUFVLENBQUM7UUFDM0I7O01BR0o7TUFDQSxJQUFNdUYsY0FBYyxHQUFzQnRHLEtBQUksQ0FBQ0ssZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQyxDQUFDRSxnQkFBZ0I7TUFDL0YsSUFBTXNGLFdBQVcsR0FBRzlKLEtBQUssQ0FBQ2dCLElBQUksQ0FBQzZJLGNBQWMsQ0FBQzdLLElBQUksRUFBRSxDQUFDO01BRXJEOEssV0FBVyxDQUFDQyxJQUFJLENBQUMsVUFBQ3pQLENBQUMsRUFBQzBQLENBQUM7UUFBQSxPQUFLMVAsQ0FBQyxHQUFHMFAsQ0FBQztNQUFBLEVBQUMsRUFBQztNQUVqQyxJQUFBQyxxQkFBQSxHQUE2QjFHLEtBQUksQ0FBQ0ssZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztRQUF6RFcsZ0JBQWdCLEdBQUFnRixxQkFBQSxDQUFoQmhGLGdCQUFnQjtNQUV4QixJQUFRaUYsZ0JBQWdCLEdBQUtqRixnQkFBZ0IsQ0FBQ2tGLDJCQUEyQixDQUFDbEIsT0FBTyxDQUF6RWlCLGdCQUFnQjtNQUV4QixJQUFRRSxRQUFRLEdBQUtGLGdCQUFnQixDQUE3QkUsUUFBUTtNQUVoQixJQUFNQyxZQUFZLEdBQUdQLFdBQVcsQ0FBQ1EsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO01BRXZDLElBQUlELFlBQVksR0FBS3hFLFdBQVcsR0FBR3VFLFFBQVEsR0FBRyxDQUFFLEVBQUU7UUFBRTtRQUVoRCxJQUFNRyxRQUFRLEdBQUdULFdBQVcsQ0FBQ1UsTUFBTSxDQUFDLFVBQUNyRCxLQUFLLEVBQUc7VUFDekMsSUFBTXNELGdCQUFnQixHQUFHNUUsV0FBVyxHQUFHdUUsUUFBUSxHQUFHLENBQUM7VUFDbkQsT0FBT2pELEtBQUssR0FBSXNELGdCQUFpQjtRQUNyQyxDQUFDLENBQUM7UUFFRmxILEtBQUksQ0FBQzBFLG1CQUFtQixDQUFDM0QsVUFBVSxFQUFFaUcsUUFBUSxFQUFFekUsa0JBQWtCLENBQUM7O0lBSTFFLENBQUM7SUFFTyxLQUFBQyxvQkFBb0IsR0FBRyxVQUFDekIsVUFBVSxFQUFFMEIsWUFBWSxFQUFFRixrQkFBa0IsRUFBSTtNQUc1RSxJQUFJRSxZQUFZLENBQUMxSCxNQUFNLElBQUksQ0FBQyxFQUFFO1FBQzFCaUYsS0FBSSxDQUFDb0MsVUFBVSxDQUFDckIsVUFBVSxDQUFDO1FBQzNCOztNQUVKO01BQ0EsSUFBTXVGLGNBQWMsR0FBc0J0RyxLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ0UsZ0JBQWdCO01BQy9GLElBQU1zRixXQUFXLEdBQUc5SixLQUFLLENBQUNnQixJQUFJLENBQUM2SSxjQUFjLENBQUM3SyxJQUFJLEVBQUUsQ0FBQztNQUVyRDhLLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDLFVBQUN6UCxDQUFDLEVBQUMwUCxDQUFDO1FBQUEsT0FBSzFQLENBQUMsR0FBRzBQLENBQUM7TUFBQSxFQUFDLEVBQUM7TUFFakM7TUFFQTtNQUVBO01BRUEsSUFBQVUsYUFBQSxHQUFBeEosY0FBQSxDQUFzQzhFLFlBQVk7UUFBMUMyRSxXQUFXLEdBQUFELGFBQUE7UUFBRUUsWUFBWSxHQUFBRixhQUFBO01BRWpDLElBQU1MLFlBQVksR0FBR1AsV0FBVyxDQUFDUSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdkMsSUFBTU8sV0FBVyxHQUFHZixXQUFXLENBQUNRLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFFckMsSUFBSUQsWUFBWSxHQUFHTyxZQUFZLEVBQUU7UUFBRTtRQUUvQixJQUFNRSxZQUFZLEdBQUdGLFlBQVk7UUFDakMsSUFBTUwsUUFBUSxHQUFHVCxXQUFXLENBQUNVLE1BQU0sQ0FBQyxVQUFDckQsS0FBSyxFQUFHO1VBQ3pDLE9BQU9BLEtBQUssR0FBSTJELFlBQWE7UUFDakMsQ0FBQyxDQUFDO1FBRUZ2SCxLQUFJLENBQUMwRSxtQkFBbUIsQ0FBQzNELFVBQVUsRUFBRWlHLFFBQVEsRUFBRXpFLGtCQUFrQixDQUFDOztNQUl0RSxJQUFJK0UsV0FBVyxHQUFHRixXQUFXLEVBQUU7UUFBRTtRQUU3QixJQUFNRyxhQUFZLEdBQUdILFdBQVc7UUFDaEMsSUFBTUosU0FBUSxHQUFHVCxXQUFXLENBQUNVLE1BQU0sQ0FBQyxVQUFDckQsS0FBSyxFQUFHO1VBQ3pDLE9BQU9BLEtBQUssR0FBSTJELGFBQWE7UUFDakMsQ0FBQyxDQUFDO1FBRUZ2SCxLQUFJLENBQUMwRSxtQkFBbUIsQ0FBQzNELFVBQVUsRUFBRWlHLFNBQVEsRUFBRXpFLGtCQUFrQixDQUFDOztJQUkxRSxDQUFDO0lBQ0Q7SUFFUSxLQUFBRyxrQkFBa0IsR0FBRyxVQUFDM0IsVUFBVSxFQUFFNEIsZUFBZSxFQUFFSixrQkFBa0IsRUFBSTtNQUU3RSxJQUFNaUYsT0FBTyxHQUFHL0ssS0FBSyxDQUFDZ0IsSUFBSSxDQUFDdUMsS0FBSSxDQUFDSyxlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDLENBQUNFLGdCQUFnQixDQUFDeEYsSUFBSSxFQUFFLENBQUM7TUFFeEYsSUFBTWdNLE9BQU8sR0FBR0QsT0FBTyxDQUFDUCxNQUFNLENBQUMsVUFBQXJJLEdBQUc7UUFBQSxPQUFJLENBQUMrRCxlQUFlLENBQUMrRSxRQUFRLENBQUM5SSxHQUFHLENBQUM7TUFBQSxFQUFDO01BRXJFLElBQUk2SSxPQUFPLENBQUMxTSxNQUFNLEVBQUU7UUFFaEJpRixLQUFJLENBQUMwRSxtQkFBbUIsQ0FBQzNELFVBQVUsRUFBRTBHLE9BQU8sRUFBRWxGLGtCQUFrQixDQUFDO1FBQ2pFLE9BQU8sSUFBSTtPQUVkLE1BQU07UUFFSCxPQUFPLEtBQUs7O0lBSXBCLENBQUM7SUFFTyxLQUFBSyxjQUFjLEdBQUcsVUFBQzdCLFVBQVUsRUFBRThCLFFBQVEsRUFBRUYsZUFBZSxFQUFFSixrQkFBa0IsRUFBSTtNQUVuRixJQUFNb0YsV0FBVyxHQUFHaEYsZUFBZSxDQUFDNUgsTUFBTTtNQUUxQztNQUNBLElBQUssQ0FBQzhILFFBQVEsSUFBTSxDQUFDOEUsV0FBWSxFQUFFLE9BQU8sS0FBSztNQUUvQyxJQUFNQyxHQUFHLEdBQUdDLElBQUksQ0FBQ0QsR0FBRyxDQUFDRCxXQUFXLEVBQUU5RSxRQUFRLENBQUM7TUFFM0MsSUFBTXlELGNBQWMsR0FBdUJ0RyxLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ0UsZ0JBQWdCO1FBQzVGSyxZQUFZLEdBQWV0QixLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ08sWUFBWTtNQUVoRixJQUFLZ0YsY0FBYyxDQUFDeEIsSUFBSSxHQUFHeEQsWUFBWSxDQUFDd0QsSUFBSSxJQUFLOEMsR0FBRyxFQUFFLE9BQU8sS0FBSztNQUVsRTtNQUNBLElBQU1FLFdBQVcsR0FBR3JMLEtBQUssQ0FBQ2dCLElBQUksQ0FBQzZJLGNBQWMsQ0FBQzdLLElBQUksRUFBRSxDQUFDO1FBQ2pEc00sYUFBYSxHQUFHdEwsS0FBSyxDQUFDZ0IsSUFBSSxDQUFDNkQsWUFBWSxDQUFDN0YsSUFBSSxFQUFFLENBQUM7TUFFbkQsSUFBTStMLE9BQU8sTUFBQVEsTUFBQSxDQUFPRixXQUFXLEVBQUlDLGFBQWEsQ0FBQztNQUVqRFAsT0FBTyxDQUFDaEIsSUFBSSxDQUFDLFVBQUN6UCxDQUFDLEVBQUMwUCxDQUFDO1FBQUEsT0FBSzFQLENBQUMsR0FBRzBQLENBQUM7TUFBQSxFQUFDO01BRTVCO01BQ0EsSUFBTXdCLFNBQVMsR0FBR1QsT0FBTyxDQUFDek0sTUFBTTtRQUM1Qm1OLFNBQVMsR0FBR0QsU0FBUyxHQUFHTCxHQUFHO01BRS9CO01BQ0EsSUFBTU8sU0FBUyxHQUFHeEYsZUFBZSxDQUFDLENBQUMsQ0FBQztRQUNoQ3lGLFNBQVMsR0FBR3pGLGVBQWUsQ0FBQ2dGLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDNUNVLE9BQU8sR0FBR2IsT0FBTyxDQUFDYyxPQUFPLENBQUNILFNBQVMsQ0FBQztRQUNwQ0ksT0FBTyxHQUFHZixPQUFPLENBQUNjLE9BQU8sQ0FBQ0YsU0FBUyxDQUFDO01BRXhDLElBQU1JLFFBQVEsR0FBR0gsT0FBTztRQUNwQkksUUFBUSxHQUFHUixTQUFTLElBQUlNLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDcENHLFFBQVEsR0FBR0YsUUFBUSxHQUFHQyxRQUFRO01BRWxDLElBQU1FLGFBQWEsR0FBR2QsSUFBSSxDQUFDZSxLQUFLLENBQUVKLFFBQVEsR0FBQ0UsUUFBUSxHQUFFUixTQUFTLENBQUM7UUFDM0RXLGFBQWEsR0FBR1gsU0FBUyxHQUFHUyxhQUFhO01BRTdDO01BQ0EsSUFBTUcsUUFBUSxHQUFHdEIsT0FBTyxDQUFDMUwsS0FBSyxDQUFDLENBQUMsRUFBQzZNLGFBQWEsQ0FBQztRQUMzQ0ksUUFBUSxHQUFHdkIsT0FBTyxDQUFDMUwsS0FBSyxDQUFDbU0sU0FBUyxHQUFHWSxhQUFhLENBQUM7TUFFdkQsSUFBTUcsT0FBTyxNQUFBaEIsTUFBQSxDQUFBN0ssa0JBQUEsQ0FBTzJMLFFBQVEsR0FBQTNMLGtCQUFBLENBQUk0TCxRQUFRLEVBQUM7TUFFekMvSSxLQUFJLENBQUMwRSxtQkFBbUIsQ0FBQzNELFVBQVUsRUFBRWlJLE9BQU8sRUFBRXpHLGtCQUFrQixDQUFDO01BRWpFLE9BQU8sSUFBSTtJQUVmLENBQUM7SUFFTyxLQUFBTywwQkFBMEIsR0FBRyxVQUFDL0IsVUFBVSxFQUFFOEIsUUFBUSxFQUFFRSxnQkFBZ0IsRUFBRUMsa0JBQWtCLEVBQUk7TUFFaEcsSUFBSSxDQUFDSCxRQUFRLEVBQUUsT0FBTyxLQUFLO01BRTNCLElBQUFvRyxzQkFBQSxHQUEyQ2pKLEtBQUksQ0FBQ0ssZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztRQUF2RUUsZ0JBQWdCLEdBQUFnSSxzQkFBQSxDQUFoQmhJLGdCQUFnQjtRQUFFSyxZQUFZLEdBQUEySCxzQkFBQSxDQUFaM0gsWUFBWTtNQUV0QyxJQUFNc0csR0FBRyxHQUFHQyxJQUFJLENBQUNELEdBQUcsQ0FBQzdFLGdCQUFnQixFQUFFRixRQUFRLENBQUM7TUFFaEQsSUFBSzVCLGdCQUFnQixDQUFDNkQsSUFBSSxHQUFHeEQsWUFBWSxDQUFDd0QsSUFBSSxJQUFPOEMsR0FBRyxHQUFJNUUsa0JBQW1CLEVBQUU7UUFFN0UsT0FBTyxLQUFLO09BRWYsTUFBTTtRQUVILE9BQU8sSUFBSTs7SUFJbkIsQ0FBQztJQUVEO0lBRVEsS0FBQUMsT0FBTyxHQUFHLFVBQUNsQyxVQUFVLEVBQUVtQyxhQUFhLEVBQUVDLHNCQUFzQixFQUFJO01BRXBFLElBQUErRixzQkFBQSxHQUE2QmxKLEtBQUksQ0FBQ0ssZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztRQUF6RFcsZ0JBQWdCLEdBQUF3SCxzQkFBQSxDQUFoQnhILGdCQUFnQjtNQUV4QixJQUFReUgscUJBQXFCLEdBQUt6SCxnQkFBZ0IsQ0FBMUN5SCxxQkFBcUI7TUFFN0IsSUFBQUMscUJBQUEsR0FBeUMxSCxnQkFBZ0IsQ0FBQzJILFdBQVcsQ0FBQzNELE9BQU87UUFBckU0RCxZQUFZLEdBQUFGLHFCQUFBLENBQVpFLFlBQVk7UUFBRUMsY0FBYyxHQUFBSCxxQkFBQSxDQUFkRyxjQUFjO1FBQ2hDQyx5QkFBeUIsR0FBRzlILGdCQUFnQixDQUFDK0gsNEJBQTRCLENBQUMvRCxPQUFPO1FBQ2pGZ0Usd0JBQXdCLEdBQUdoSSxnQkFBZ0IsQ0FBQ2tGLDJCQUEyQixDQUFDbEIsT0FBTztNQUVuRjtNQUNNLElBQUVpRSxPQUFPLEdBQUtILHlCQUF5QixDQUFyQ0csT0FBTztRQUFBQyxxQkFBQSxHQUVhRix3QkFBd0IsQ0FBQy9DLGdCQUFnQjtRQUFoRUUsUUFBUSxHQUFBK0MscUJBQUEsQ0FBUi9DLFFBQVE7UUFBRWdELFNBQVMsR0FBQUQscUJBQUEsQ0FBVEMsU0FBUztNQUV4QixJQUFNQyxRQUFRLEdBQUcsRUFBRTtNQUVuQjtNQUVBO01BRUE7TUFDQTtNQUNBO01BQ0E7TUFFQSxJQUFNQyxTQUFTLEdBQUc7UUFDZHJFLE9BQU8sRUFBQztPQUNYO01BRUQsSUFBTXNFLG9CQUFvQixHQUFHLFNBQXZCQSxvQkFBb0JBLENBQUlwRyxLQUFLLEVBQUk7UUFDbkNtRyxTQUFTLENBQUNyRSxPQUFPLEdBQUcsSUFBSTtRQUN4QnZDLHNCQUFzQixDQUFDUyxLQUFLLENBQUM7TUFDakMsQ0FBQztNQUVELElBQUkwRixZQUFZLENBQUNXLFlBQVksQ0FBQ3ZFLE9BQU8sRUFBRTtRQUVuQyxJQUFNekUsZ0JBQWdCLEdBQUdqQixLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ0UsZ0JBQWdCO1FBRTlFLElBQUFpSixxQkFBQSxHQUF3RFgsY0FBYyxDQUFDWSxTQUFTO1VBQXhFQyxvQkFBb0IsR0FBQUYscUJBQUEsQ0FBcEJFLG9CQUFvQjtVQUFFQyxxQkFBcUIsR0FBQUgscUJBQUEsQ0FBckJHLHFCQUFxQjtRQUVuRCxLQUFLLElBQUl6RyxLQUFLLEdBQUdpRCxRQUFRLEVBQUVqRCxLQUFLLElBQUlpRyxTQUFTLEVBQUVqRyxLQUFLLEVBQUUsRUFBRTtVQUVwRHdHLG9CQUFvQixJQUFJQSxvQkFBb0IsQ0FBQ3hHLEtBQUssQ0FBQztVQUNuRCxJQUFJLENBQUMzQyxnQkFBZ0IsQ0FBQ3FKLEdBQUcsQ0FBQzFHLEtBQUssQ0FBQyxFQUFFO1lBRTlCLElBQU0rQixPQUFPLEdBQUczRixLQUFJLENBQUN1SyxXQUFXLENBQzVCeEosVUFBVSxFQUNWNkMsS0FBSyxFQUNMK0YsT0FBTyxFQUNQUixxQkFBcUIsRUFDckJrQixxQkFBcUIsRUFDckJMLG9CQUFvQixDQUN2QjtZQUNERixRQUFRLENBQUNwUCxJQUFJLENBQUNpTCxPQUFPLENBQUM7O1VBSTFCLElBQUlvRSxTQUFTLENBQUNyRSxPQUFPLEVBQUU7OztNQUkvQmxLLE9BQU8sQ0FBQ2dQLFVBQVUsQ0FBQ1YsUUFBUSxDQUFDLENBQUN6USxJQUFJLENBQzdCLFlBQUk7UUFDQTJHLEtBQUksQ0FBQ21DLGlCQUFpQixFQUFFO1FBQ3hCZSxhQUFhLEVBQUU7TUFDbkIsQ0FBQyxDQUNKO0lBRUwsQ0FBQztJQW9vQk8sS0FBQXlCLHNDQUFzQyxHQUFHLFVBQUM1RCxVQUFVLEVBQUk7TUFFNUQsSUFBQTBKLHNCQUFBLEdBQThDekssS0FBSSxDQUFDSyxlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDO1FBQTFFYyxpQ0FBaUMsR0FBQTRJLHNCQUFBLENBQWpDNUksaUNBQWlDO01BRXpDLElBQUlBLGlDQUFpQyxJQUFJQSxpQ0FBaUMsQ0FBQzlHLE1BQU0sRUFBRTtRQUFBLElBQUEyUCxTQUFBLEdBQUFwTywwQkFBQSxDQUU1RHVGLGlDQUFpQztVQUFBOEksS0FBQTtRQUFBO1VBQXBELEtBQUFELFNBQUEsQ0FBQXRTLENBQUEsTUFBQXVTLEtBQUEsR0FBQUQsU0FBQSxDQUFBaFUsQ0FBQSxJQUFBOEMsSUFBQSxHQUFzRDtZQUFBLElBQTNDb1IsSUFBSSxHQUFBRCxLQUFBLENBQUE5VCxLQUFBO1lBRVhtSixLQUFJLENBQUNpRixxQkFBcUIsQ0FBQzJGLElBQUksQ0FBQzVGLFdBQVcsRUFBRTRGLElBQUksQ0FBQ3RHLE1BQU0sQ0FBQzs7UUFFNUQsU0FBQXRILEdBQUE7VUFBQTBOLFNBQUEsQ0FBQXBVLENBQUEsQ0FBQTBHLEdBQUE7UUFBQTtVQUFBME4sU0FBQSxDQUFBdlMsQ0FBQTtRQUFBO1FBRUQ2SCxLQUFJLENBQUNLLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ2MsaUNBQWlDLEdBQUcsRUFBRTtRQUUzRTdCLEtBQUksQ0FBQ21DLGlCQUFpQixFQUFFOztJQUloQyxDQUFDO0lBL3dDRyxJQUFJLENBQUNwQyxvQkFBb0IsR0FBR0Esb0JBQW9CO0VBRXBEO0VBdUJBO0VBQ0E7RUFDQTtFQUVBO0VBRUE7RUFBQWxCLFlBQUEsQ0FBQWlCLFFBQUE7SUFBQWxCLEdBQUE7SUFBQS9ILEtBQUEsRUFDQSxTQUFBZ1UsaUJBQWlCOUosVUFBVTtNQUV2QixJQUFJLENBQUNWLGVBQWUsQ0FBQzhFLEdBQUcsQ0FBQ3BFLFVBQVUsRUFDL0I7UUFDSVcsZ0JBQWdCLEVBQUMsSUFBSTtRQUNyQlQsZ0JBQWdCLEVBQUUsSUFBSWIsR0FBRyxFQUFFO1FBQzNCO1FBQ0FnQixPQUFPLEVBQUUsSUFBSVIsR0FBRyxFQUFFO1FBQ2xCVSxZQUFZLEVBQUMsSUFBSVYsR0FBRyxFQUFFO1FBQ3RCaUIsaUNBQWlDLEVBQUM7T0FDckMsQ0FDSjtNQUVEO01BRUEsT0FBTyxJQUFJLENBQUNmLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO0lBRXJDO0VBQUM7SUFBQW5DLEdBQUE7SUFBQS9ILEtBQUEsRUF5TWEsU0FBQWlVLHNCQUFBLEVBQXFCOzs7Ozs7Y0FFdkIvSyxvQkFBb0IsR0FBSyxJQUFJLENBQTdCQSxvQkFBb0I7Y0FFcEJRLG9CQUFvQixHQUFLLElBQUksQ0FBQ0QsY0FBYyxDQUE1Q0Msb0JBQW9CO2NBQ3RCTSxZQUFZLEdBQUssSUFBSSxDQUFDUCxjQUFjLENBQXBDTyxZQUFZO2NBQUEsTUFHZEEsWUFBWSxLQUFLLElBQUk7Z0JBQUFrSyxRQUFBLENBQUE3USxJQUFBO2dCQUFBO2NBQUE7Y0FFckI4TCxpQkFBaUIsR0FBR3pGLG9CQUFvQixDQUFDWSxHQUFHLENBQUNOLFlBQVksQ0FBQztjQUFBLE1BRXREbUYsaUJBQWlCLENBQUNYLFFBQVEsR0FBR3RGLG9CQUFvQjtnQkFBQWdMLFFBQUEsQ0FBQTdRLElBQUE7Z0JBQUE7Y0FBQTtjQUVqRDhMLGlCQUFpQixDQUFDWCxRQUFRLElBQUksQ0FBQztjQUFBLE9BQUEwRixRQUFBLENBQUFoUixNQUFBLFdBQ3hCOEcsWUFBWTtZQUFBO2NBTTNCQSxZQUFZLEdBQUcsSUFBSTtjQUFBbUssVUFBQSxHQUFBMU8sMEJBQUEsQ0FDNEJpRSxvQkFBb0I7Y0FBQXdLLFFBQUEsQ0FBQW5QLElBQUE7Y0FBQW9QLFVBQUEsQ0FBQTVTLENBQUE7WUFBQTtjQUFBLEtBQUE2UyxNQUFBLEdBQUFELFVBQUEsQ0FBQXRVLENBQUEsSUFBQThDLElBQUE7Z0JBQUF1UixRQUFBLENBQUE3USxJQUFBO2dCQUFBO2NBQUE7Y0FBQWdSLFlBQUEsR0FBQXZOLGNBQUEsQ0FBQXNOLE1BQUEsQ0FBQXBVLEtBQUEsTUFBdkRtTyxXQUFXLEdBQUFrRyxZQUFBLEtBQUVsRixrQkFBaUIsR0FBQWtGLFlBQUE7Y0FBQSxNQUVsQ2xGLGtCQUFpQixDQUFDWCxRQUFRLEdBQUd0RixvQkFBb0I7Z0JBQUFnTCxRQUFBLENBQUE3USxJQUFBO2dCQUFBO2NBQUE7Y0FDakQ4TCxrQkFBaUIsQ0FBQ1gsUUFBUSxJQUFJLENBQUM7Y0FDL0J4RSxZQUFZLEdBQUdtRSxXQUFXO2NBQUEsT0FBQStGLFFBQUEsQ0FBQWhSLE1BQUE7WUFBQTtjQUFBZ1IsUUFBQSxDQUFBN1EsSUFBQTtjQUFBO1lBQUE7Y0FBQTZRLFFBQUEsQ0FBQTdRLElBQUE7Y0FBQTtZQUFBO2NBQUE2USxRQUFBLENBQUFuUCxJQUFBO2NBQUFtUCxRQUFBLENBQUFJLEVBQUEsR0FBQUosUUFBQTtjQUFBQyxVQUFBLENBQUExVSxDQUFBLENBQUF5VSxRQUFBLENBQUFJLEVBQUE7WUFBQTtjQUFBSixRQUFBLENBQUFuUCxJQUFBO2NBQUFvUCxVQUFBLENBQUE3UyxDQUFBO2NBQUEsT0FBQTRTLFFBQUEsQ0FBQTVPLE1BQUE7WUFBQTtjQUFBLE1BTTlCMEUsWUFBWSxLQUFLLElBQUk7Z0JBQUFrSyxRQUFBLENBQUE3USxJQUFBO2dCQUFBO2NBQUE7Y0FBQTZRLFFBQUEsQ0FBQTdRLElBQUE7Y0FFTixPQUFNLElBQUksQ0FBQ2dMLFlBQVksRUFBRTtZQUFBO2NBQXhDckUsWUFBWSxHQUFBa0ssUUFBQSxDQUFBblIsSUFBQTtjQUNab00saUJBQWlCLEdBQUd6RixvQkFBb0IsQ0FBQ1ksR0FBRyxDQUFDTixZQUFZLENBQUM7Y0FDMURtRixpQkFBaUIsQ0FBQ1gsUUFBUSxJQUFJLENBQUM7WUFBQTtjQUluQyxJQUFJLENBQUMvRSxjQUFjLENBQUNPLFlBQVksR0FBR0EsWUFBWTtjQUFBLE9BQUFrSyxRQUFBLENBQUFoUixNQUFBLFdBRXhDOEcsWUFBWTtZQUFBO1lBQUE7Y0FBQSxPQUFBa0ssUUFBQSxDQUFBaFAsSUFBQTtVQUFBO1FBQUEsR0FBQXFQLE9BQUE7TUFBQSxDQUV0Qjs7SUFxVkQ7RUFBQTtJQUFBeE0sR0FBQTtJQUFBL0gsS0FBQSxFQUVRLFNBQUF1TSxpQkFBaUJyQyxVQUFVO01BRS9CLE9BQU8sSUFBSVgsR0FBRyxDQUFDLElBQUksQ0FBQ0MsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQyxDQUFDRSxnQkFBZ0IsQ0FBQztJQUV6RTtFQUFDO0lBQUFyQyxHQUFBO0lBQUEvSCxLQUFBLEVBRU8sU0FBQXdNLGtCQUFrQnRDLFVBQVUsRUFBRTRCLGVBQWU7TUFFM0MsSUFBQTBJLFNBQVMsR0FBRyxJQUFJakwsR0FBRyxFQUFFO1FBQUFrTCxzQkFBQSxHQUNBLElBQUksQ0FBQ2pMLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUM7UUFBekRFLGdCQUFnQixHQUFBcUssc0JBQUEsQ0FBaEJySyxnQkFBZ0I7TUFESyxJQUFBc0ssVUFBQSxHQUFBalAsMEJBQUEsQ0FHUHFHLGVBQWU7UUFBQTZJLE1BQUE7TUFBQTtRQUFuQyxLQUFBRCxVQUFBLENBQUFuVCxDQUFBLE1BQUFvVCxNQUFBLEdBQUFELFVBQUEsQ0FBQTdVLENBQUEsSUFBQThDLElBQUEsR0FBcUM7VUFBQSxJQUExQm9LLEtBQUssR0FBQTRILE1BQUEsQ0FBQTNVLEtBQUE7VUFFWndVLFNBQVMsQ0FBQ2xHLEdBQUcsQ0FBQ3ZCLEtBQUssRUFBRTNDLGdCQUFnQixDQUFDRSxHQUFHLENBQUN5QyxLQUFLLENBQUMsQ0FBQzs7TUFFcEQsU0FBQTVHLEdBQUE7UUFBQXVPLFVBQUEsQ0FBQWpWLENBQUEsQ0FBQTBHLEdBQUE7TUFBQTtRQUFBdU8sVUFBQSxDQUFBcFQsQ0FBQTtNQUFBO01BRUQsT0FBT2tULFNBQVM7SUFFcEI7RUFBQztJQUFBek0sR0FBQTtJQUFBL0gsS0FBQSxFQUVPLFNBQUF5TSxnQkFBZ0J2QyxVQUFVO01BRTlCLElBQU0wSyxTQUFTLEdBQUcsSUFBSXJMLEdBQUcsRUFBRTtNQUMzQixJQUFBc0wsc0JBQUEsR0FBb0IsSUFBSSxDQUFDckwsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztRQUFoREssT0FBTyxHQUFBc0ssc0JBQUEsQ0FBUHRLLE9BQU87TUFDZixJQUFRakIsZUFBZSxHQUFLLElBQUksQ0FBeEJBLGVBQWU7TUFFdkI7TUFBQSxJQUFBd0wsVUFBQSxHQUFBclAsMEJBQUEsQ0FDcUI4RSxPQUFPO1FBQUF3SyxNQUFBO01BQUE7UUFBNUIsS0FBQUQsVUFBQSxDQUFBdlQsQ0FBQSxNQUFBd1QsTUFBQSxHQUFBRCxVQUFBLENBQUFqVixDQUFBLElBQUE4QyxJQUFBLEdBQThCO1VBQUEsSUFBbkI4SyxNQUFNLEdBQUFzSCxNQUFBLENBQUEvVSxLQUFBO1VBQ2IsSUFBTWdWLFFBQVEsR0FBRzFMLGVBQWUsQ0FBQ2dCLEdBQUcsQ0FBQ21ELE1BQU0sQ0FBQztVQUM1QyxJQUNJVixLQUFLLEdBRUxpSSxRQUFRLENBRlJqSSxLQUFLO1lBQ0xTLFNBQVMsR0FDVHdILFFBQVEsQ0FEUnhILFNBQVM7VUFHYm9ILFNBQVMsQ0FBQ3RHLEdBQUcsQ0FBQ2IsTUFBTSxFQUFDO1lBQ2pCVixLQUFLLEVBQUxBLEtBQUs7WUFDTFMsU0FBUyxFQUFUQTtXQUNILENBQUM7O01BRUwsU0FBQXJILEdBQUE7UUFBQTJPLFVBQUEsQ0FBQXJWLENBQUEsQ0FBQTBHLEdBQUE7TUFBQTtRQUFBMk8sVUFBQSxDQUFBeFQsQ0FBQTtNQUFBO01BRUQsT0FBT3NULFNBQVM7SUFFcEI7SUFFQTtJQUVBO0lBRUE7RUFBQTtJQUFBN00sR0FBQTtJQUFBL0gsS0FBQSxFQUNRLFNBQUEwTSxVQUFVeEMsVUFBVSxFQUFFeUMsVUFBVSxFQUFFQyxZQUFZLEVBQUVDLGFBQWE7TUFFakUsSUFBTXpDLGdCQUFnQixHQUF1QixJQUFJLENBQUNaLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUMsQ0FBQ0UsZ0JBQWdCO01BQ2xHLElBQVFkLGVBQWUsR0FBSyxJQUFJLENBQXhCQSxlQUFlO01BRXZCO01BRUEsSUFBTTJMLGFBQWEsR0FBR3BJLGFBQWEsR0FBR0QsWUFBWSxHQUFHLENBQUM7UUFDbERzSSxhQUFhLEdBQUd2SSxVQUFVLEdBQUdDLFlBQVk7UUFDekN1SSxXQUFXLEdBQUd4SSxVQUFVLElBQUlzSSxhQUFhLEdBQUcsQ0FBQyxDQUFDO01BRWxELElBQU1HLGFBQWEsR0FDZEYsYUFBYSxHQUFHLENBQUM7TUFBRztNQUNqQixJQUFJO01BQUU7TUFDTixNQUFNLEVBQUc7TUFFakI7TUFFQSxJQUFNRyxnQkFBZ0IsR0FBR3pQLEtBQUssQ0FBQ2dCLElBQUksQ0FBQ3dELGdCQUFnQixDQUFDeEYsSUFBSSxFQUFFLENBQUMsQ0FBQytLLElBQUksQ0FBQyxVQUFDelAsQ0FBQyxFQUFDMFAsQ0FBQztRQUFBLE9BQUcxUCxDQUFDLEdBQUMwUCxDQUFDO01BQUEsRUFBQztNQUU3RSxJQUFNMEYsdUJBQXVCLEdBQUdELGdCQUFnQixDQUFDcFEsS0FBSyxFQUFFLENBQUNKLE9BQU8sRUFBRTtNQUVsRSxJQUFNMFEsYUFBYSxHQUFHRixnQkFBZ0IsQ0FBQ0csU0FBUyxDQUFDLFVBQUF4VixLQUFLO1VBQUEsT0FBSUEsS0FBSyxJQUFJMk0sVUFBVTtRQUFBLEVBQUM7UUFDMUU4SSxlQUFlLEdBQUdKLGdCQUFnQixDQUFDRyxTQUFTLENBQUMsVUFBQXhWLEtBQUs7VUFBQSxPQUFJQSxLQUFLLElBQUk0TSxZQUFZO1FBQUEsRUFBQztNQUVoRixJQUFJOEksY0FBYyxHQUFHSix1QkFBdUIsQ0FBQ0UsU0FBUyxDQUFDLFVBQUF4VixLQUFLO1VBQUEsT0FBSUEsS0FBSyxJQUFJbVYsV0FBVztRQUFBLEVBQUM7UUFDakZRLGdCQUFnQixHQUFHTCx1QkFBdUIsQ0FBQ0UsU0FBUyxDQUFDLFVBQUF4VixLQUFLO1VBQUEsT0FBSUEsS0FBSyxJQUFJNk0sYUFBYTtRQUFBLEVBQUM7TUFFekY7TUFDQTtRQUNJLElBQU0rSSxjQUFjLEdBQUdQLGdCQUFnQixDQUFDblIsTUFBTTtRQUM5QyxJQUFJd1IsY0FBYyxJQUFJLENBQUMsQ0FBQyxFQUFFQSxjQUFjLEdBQUlFLGNBQWMsR0FBRSxDQUFDLEdBQUlGLGNBQWM7UUFDL0UsSUFBSUMsZ0JBQWdCLElBQUksQ0FBQyxDQUFDLEVBQUVBLGdCQUFnQixHQUFJQyxjQUFjLEdBQUUsQ0FBQyxHQUFJRCxnQkFBZ0I7O01BR3pGO01BRUEsSUFBSUUsb0JBQW9CO01BQ3hCLElBQUtKLGVBQWUsSUFBSSxDQUFDLENBQUMsSUFBTUUsZ0JBQWdCLElBQUksQ0FBQyxDQUFFLEVBQUU7UUFBRTtRQUV2REUsb0JBQW9CLEdBQUcsRUFBRTtPQUU1QixNQUFNLElBQUlGLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxFQUFFO1FBQUU7UUFFakNFLG9CQUFvQixHQUFHUixnQkFBZ0IsQ0FBQ3BRLEtBQUssQ0FBQ3dRLGVBQWUsQ0FBQztPQUVqRSxNQUFNO1FBQUU7UUFFTEksb0JBQW9CLEdBQUdSLGdCQUFnQixDQUFDcFEsS0FBSyxDQUFDd1EsZUFBZSxFQUFFRSxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7O01BSXhGLElBQU1HLGdCQUFnQixHQUFHLElBQUl2TSxHQUFHLEVBQUU7TUFDbEMsSUFBTXdNLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBa0JBLENBQUloSixLQUFLLEVBQUk7UUFFakMrSSxnQkFBZ0IsQ0FBQ3hILEdBQUcsQ0FBQ3ZCLEtBQUssRUFBRTNDLGdCQUFnQixDQUFDRSxHQUFHLENBQUN5QyxLQUFLLENBQUMsQ0FBQztNQUU1RCxDQUFDO01BRUQ4SSxvQkFBb0IsQ0FBQzNULE9BQU8sQ0FBQzZULGtCQUFrQixDQUFDO01BRWhEO01BRUEsSUFBSUMsd0JBQXdCO01BQzVCLElBQUlaLGFBQWEsSUFBSSxNQUFNLEVBQUU7UUFBRTtRQUUzQixJQUFLRyxhQUFhLElBQUksQ0FBQyxDQUFDLElBQU1FLGVBQWUsSUFBSSxDQUFDLENBQUUsRUFBRTtVQUVsRE8sd0JBQXdCLEdBQUcsRUFBRTtTQUVoQyxNQUFNLElBQUlQLGVBQWUsSUFBSSxDQUFDLENBQUMsRUFBRTtVQUU5Qk8sd0JBQXdCLEdBQUdYLGdCQUFnQixDQUFDcFEsS0FBSyxDQUFDc1EsYUFBYSxDQUFDO1NBRW5FLE1BQU07VUFFSFMsd0JBQXdCLEdBQUdYLGdCQUFnQixDQUFDcFEsS0FBSyxDQUFDc1EsYUFBYSxFQUFFRSxlQUFlLENBQUM7O09BSXhGLE1BQU07UUFBRTtRQUVMLElBQUlDLGNBQWMsSUFBSSxDQUFDLENBQUMsSUFBSUMsZ0JBQWdCLElBQUksQ0FBQyxDQUFDLEVBQUU7VUFFaERLLHdCQUF3QixHQUFHLEVBQUU7U0FFaEMsTUFBTSxJQUFJTixjQUFjLElBQUksQ0FBQyxDQUFDLEVBQUU7VUFFN0JNLHdCQUF3QixHQUFHWCxnQkFBZ0IsQ0FBQ3BRLEtBQUssQ0FBQzBRLGdCQUFnQixHQUFHLENBQUMsQ0FBQztTQUUxRSxNQUFNO1VBRUhLLHdCQUF3QixHQUFHWCxnQkFBZ0IsQ0FBQ3BRLEtBQUssQ0FBQzBRLGdCQUFnQixHQUFHLENBQUMsRUFBRUQsY0FBYyxHQUFHLENBQUMsQ0FBQzs7O01BS25HLElBQUlOLGFBQWEsSUFBSSxNQUFNLEVBQUVZLHdCQUF3QixDQUFDblIsT0FBTyxFQUFFO01BRS9EO01BRUEsSUFBTW9SLHFCQUFxQixHQUFHLEVBQUU7TUFFaEMsSUFBTUMsdUJBQXVCLEdBQUcsU0FBMUJBLHVCQUF1QkEsQ0FBSW5KLEtBQUssRUFBSTtRQUV0QyxJQUFNVSxNQUFNLEdBQUdyRCxnQkFBZ0IsQ0FBQ0UsR0FBRyxDQUFDeUMsS0FBSyxDQUFDO1FBRTFDLElBQU1vSixRQUFRLEdBQ1RmLGFBQWEsSUFBSSxJQUFJLEdBQ2xCckksS0FBSyxHQUFHa0ksYUFBYSxHQUNyQmxJLEtBQUssR0FBR2tJLGFBQWE7UUFFN0I3SyxnQkFBZ0IsQ0FBQ2tFLEdBQUcsQ0FBQzZILFFBQVEsRUFBQzFJLE1BQU0sQ0FBQztRQUNyQ25FLGVBQWUsQ0FBQ2dCLEdBQUcsQ0FBQ21ELE1BQU0sQ0FBQyxDQUFDVixLQUFLLEdBQUdvSixRQUFRO1FBQzVDRixxQkFBcUIsQ0FBQ3BTLElBQUksQ0FBQ3NTLFFBQVEsQ0FBQztNQUV4QyxDQUFDO01BRURILHdCQUF3QixDQUFDOVQsT0FBTyxDQUFDZ1UsdUJBQXVCLENBQUM7TUFFekQ7TUFFQSxJQUFNRSxpQkFBaUIsR0FBRyxFQUFFO01BQzVCLElBQU1DLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBa0JBLENBQUk1SSxNQUFNLEVBQUVWLEtBQUssRUFBSTtRQUN6QyxJQUFNb0osUUFBUSxHQUFHcEosS0FBSyxHQUFHbUksYUFBYSxFQUFDO1FBRXZDOUssZ0JBQWdCLENBQUNrRSxHQUFHLENBQUM2SCxRQUFRLEVBQUUxSSxNQUFNLENBQUM7UUFDdENuRSxlQUFlLENBQUNnQixHQUFHLENBQUNtRCxNQUFNLENBQUMsQ0FBQ1YsS0FBSyxHQUFHb0osUUFBUTtRQUM1Q0MsaUJBQWlCLENBQUN2UyxJQUFJLENBQUNzUyxRQUFRLENBQUM7TUFFcEMsQ0FBQztNQUVETCxnQkFBZ0IsQ0FBQzVULE9BQU8sQ0FBQ21VLGtCQUFrQixDQUFDO01BRTVDO01BQ0E7TUFFQSxJQUFNQyxnQkFBZ0IsR0FBRyxHQUFBbkYsTUFBQSxDQUFJOEUscUJBQXFCLEVBQUlHLGlCQUFpQixFQUFFekcsSUFBSSxDQUFDLFVBQUN6UCxDQUFDLEVBQUMwUCxDQUFDO1FBQUEsT0FBRzFQLENBQUMsR0FBQzBQLENBQUM7TUFBQSxFQUFDO01BRXpGLE9BQU8wRyxnQkFBZ0I7SUFFM0I7SUFFQTtJQUVBO0VBQUE7SUFBQXZPLEdBQUE7SUFBQS9ILEtBQUEsRUFDUSxTQUFBOE0sa0JBQWtCNUMsVUFBVSxFQUFFNkMsS0FBSyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsUUFBUTtNQUV2RTtNQUNBLElBQU1xSixXQUFXLEdBQUl0SixTQUFTLElBQUksQ0FBRTtNQUNwQyxJQUFNdUosVUFBVSxHQUFJdkosU0FBUyxJQUFJLENBQUMsQ0FBRTtNQUVwQyxJQUFNd0osV0FBVyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBQztNQUUvQztNQUNBLElBQU1yTSxnQkFBZ0IsR0FBd0IsSUFBSSxDQUFDWixlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDLENBQUNFLGdCQUFnQjtNQUNuRyxJQUFRZCxlQUFlLEdBQUssSUFBSSxDQUF4QkEsZUFBZTtNQUN2QixJQUFNb04scUJBQXFCLEdBQUc5USxLQUFLLENBQUNnQixJQUFJLENBQUN3RCxnQkFBZ0IsQ0FBQ3hGLElBQUksRUFBRSxDQUFDLENBQUMrSyxJQUFJLENBQUMsVUFBQ3pQLENBQUMsRUFBQzBQLENBQUM7UUFBQSxPQUFHMVAsQ0FBQyxHQUFDMFAsQ0FBQztNQUFBLEVBQUMsRUFBQztNQUNuRixJQUFNckYsT0FBTyxHQUFHLElBQUksQ0FBQ2YsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQyxDQUFDSyxPQUFPO01BRTVEO01BRUE7TUFDQSxJQUFJb00sY0FBYyxHQUFHM0osU0FBUztNQUM5QixJQUFJNEosYUFBYSxHQUFHN0osS0FBSyxFQUFDO01BRTFCLElBQUl5SixVQUFVLEVBQUU7UUFFWjtRQUNBLElBQUlHLGNBQWMsR0FBSXpKLFFBQVEsR0FBRyxDQUFFLEVBQUU7VUFFakN5SixjQUFjLEdBQUl6SixRQUFRLEdBQUcsQ0FBRTtVQUMvQixJQUFJeUosY0FBYyxHQUFHQyxhQUFhLEVBQUUsT0FBT0gsV0FBVzs7T0FJN0QsTUFBTTtRQUFFO1FBRUw7UUFDQSxJQUFJRyxhQUFhLEdBQUcxSixRQUFRLEVBQUU7VUFFMUIsSUFBTTJKLElBQUksR0FBR0QsYUFBYSxHQUFHMUosUUFBUTtVQUNyQzBKLGFBQWEsSUFBSUMsSUFBSTtVQUNyQkYsY0FBYyxJQUFJRSxJQUFJOzs7TUFNOUI7TUFDQSxJQUFNQyxVQUFVLEdBQUdILGNBQWMsR0FBR0MsYUFBYSxHQUFHLENBQUM7TUFFckQ7TUFDQSxJQUFNRyxjQUFjLEdBQUdELFVBQVUsR0FBRzdKLFNBQVM7TUFDN0MsSUFBTStKLGdCQUFnQixHQUNqQi9KLFNBQVMsSUFBSSxDQUFDLEdBQ1gySixhQUFhLEdBQ2JELGNBQWMsSUFBSUksY0FBYyxHQUFHLENBQUMsQ0FBQztNQUU3QyxJQUFJRSxpQkFBaUIsRUFBQztNQUN0QixJQUFJVixXQUFXLEVBQUU7UUFDYlUsaUJBQWlCLEdBQUdMLGFBQWE7T0FDcEMsTUFBTTtRQUFFO1FBQ0xLLGlCQUFpQixHQUFHTixjQUFjLEdBQUcsQ0FBQzs7TUFHMUM7TUFFQTtNQUNBLElBQU1PLG9CQUFvQixHQUFHUixxQkFBcUIsQ0FBQ2xCLFNBQVMsQ0FBQyxVQUFBeFYsS0FBSyxFQUFHO1FBRWpFLE9BQVFBLEtBQUssSUFBSWlYLGlCQUFpQjtNQUV0QyxDQUFDLENBQUM7TUFFRjtNQUNBLElBQU1FLGdCQUFnQixHQUFHVCxxQkFBcUIsQ0FBQ2xCLFNBQVMsQ0FBQyxVQUFBeFYsS0FBSyxFQUFHO1FBRTdELE9BQVFBLEtBQUssSUFBSTRXLGFBQWEsSUFBTTVXLEtBQUssSUFBSTJXLGNBQWU7TUFFaEUsQ0FBQyxDQUFDO01BRUY7TUFDQSxJQUFNUyxxQkFBcUIsR0FBR3hSLEtBQUssQ0FBQ2dCLElBQUksQ0FBQzhQLHFCQUFxQixDQUFDLENBQUM3UixPQUFPLEVBQUU7TUFDekUsSUFBSXdTLGlCQUFpQixHQUFHRCxxQkFBcUIsQ0FBQzVCLFNBQVMsQ0FBQyxVQUFBeFYsS0FBSyxFQUFFO1FBRTNELE9BQVFBLEtBQUssSUFBSTJXLGNBQWMsSUFBTTNXLEtBQUssSUFBSTRXLGFBQWM7TUFFaEUsQ0FBQyxDQUFDO01BQ0Y7TUFDQSxJQUFJUyxpQkFBaUIsSUFBSSxDQUFDLENBQUMsRUFBRTtRQUV6QkEsaUJBQWlCLEdBQUlYLHFCQUFxQixDQUFDeFMsTUFBTSxHQUFHLENBQUMsR0FBSW1ULGlCQUFpQjtRQUMxRSxJQUFJQSxpQkFBaUIsR0FBR0YsZ0JBQWdCLEVBQUVFLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7TUFJcEU7TUFFQTtNQUNBLElBQUlDLHFCQUFxQjtRQUFFO1FBQ3ZCQyx1QkFBdUIsRUFBQztNQUU1QjtNQUNBLElBQUlKLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxFQUFFO1FBQUU7UUFFMUJHLHFCQUFxQixHQUFHLEVBQUU7UUFDMUJDLHVCQUF1QixHQUFHLEVBQUU7T0FFL0IsTUFBTSxJQUFJRixpQkFBaUIsSUFBSSxDQUFDLENBQUMsRUFBRTtRQUFFO1FBRWxDO1FBQ0FDLHFCQUFxQixHQUFHWixxQkFBcUIsQ0FBQ3pSLEtBQUssQ0FBQ2tTLGdCQUFnQixDQUFDO1FBRXJFLElBQUlaLFdBQVcsRUFBRTtVQUViZ0IsdUJBQXVCLEdBQUdELHFCQUFxQixDQUFDclMsS0FBSyxFQUFFO1NBRTFELE1BQU07VUFFSCxJQUFJaVMsb0JBQW9CLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFFNUJLLHVCQUF1QixHQUFHLEVBQUU7V0FFL0IsTUFBTTtZQUVIQSx1QkFBdUIsR0FBR2IscUJBQXFCLENBQUN6UixLQUFLLENBQUNpUyxvQkFBb0IsQ0FBQzs7O09BTXRGLE1BQU07UUFBRTtRQUVMSSxxQkFBcUIsR0FBR1oscUJBQXFCLENBQUN6UixLQUFLLENBQUNrUyxnQkFBZ0IsRUFBRUUsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDO1FBRTVGLElBQUlkLFdBQVcsRUFBRTtVQUViZ0IsdUJBQXVCLEdBQUdiLHFCQUFxQixDQUFDelIsS0FBSyxDQUFDaVMsb0JBQW9CLENBQUM7U0FFOUUsTUFBTTtVQUVILElBQUlBLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxFQUFFO1lBRTVCSyx1QkFBdUIsR0FBRyxFQUFFO1dBRS9CLE1BQU07WUFFSEEsdUJBQXVCLEdBQUdiLHFCQUFxQixDQUFDelIsS0FBSyxDQUFDaVMsb0JBQW9CLENBQUM7Ozs7TUFRdkY7TUFFQTtNQUNBO01BQ0EsSUFBSU0seUJBQXlCLEdBQUcsRUFBRTtRQUFFO1FBQ2hDQyx3QkFBd0IsR0FBRyxFQUFFO1FBQUU7UUFDL0JDLHNCQUFzQixHQUFHLEVBQUUsRUFBQztNQUVoQyxJQUFJbkIsV0FBVyxFQUFFO1FBRWJpQix5QkFBeUIsR0FBR0YscUJBQXFCO09BRXBELE1BQU07UUFBRTtRQUVMRyx3QkFBd0IsR0FBR0gscUJBQXFCO1FBRWhEO1FBQUEsSUFBQUssVUFBQSxHQUFBbFMsMEJBQUEsQ0FDb0JnUyx3QkFBd0I7VUFBQUcsTUFBQTtRQUFBO1VBQTVDLEtBQUFELFVBQUEsQ0FBQXBXLENBQUEsTUFBQXFXLE1BQUEsR0FBQUQsVUFBQSxDQUFBOVgsQ0FBQSxJQUFBOEMsSUFBQSxHQUE4QztZQUFBLElBQW5Db0ssTUFBSyxHQUFBNkssTUFBQSxDQUFBNVgsS0FBQTtZQUVaMFgsc0JBQXNCLENBQUM3VCxJQUFJLENBQUN1RyxnQkFBZ0IsQ0FBQ0UsR0FBRyxDQUFDeUMsTUFBSyxDQUFDLENBQUM7WUFDeEQzQyxnQkFBZ0IsVUFBTyxDQUFDMkMsTUFBSyxDQUFDOztRQUVqQyxTQUFBNUcsR0FBQTtVQUFBd1IsVUFBQSxDQUFBbFksQ0FBQSxDQUFBMEcsR0FBQTtRQUFBO1VBQUF3UixVQUFBLENBQUFyVyxDQUFBO1FBQUE7O01BSUw7TUFFQTtNQUNBLElBQUlpVixXQUFXLEVBQUVnQix1QkFBdUIsQ0FBQzFTLE9BQU8sRUFBRTtNQUVsRCxJQUFNZ1QsdUJBQXVCLEdBQUcsRUFBRSxFQUFDO01BQ25DLElBQU1DLDBCQUEwQixHQUFlLElBQUkvTixHQUFHLEVBQUUsRUFBQztNQUV6RDtNQUNBLElBQU1nTyxjQUFjLEdBQUcsU0FBakJBLGNBQWNBLENBQUdoTCxLQUFLLEVBQUc7UUFFM0IsSUFBTVUsTUFBTSxHQUFHckQsZ0JBQWdCLENBQUNFLEdBQUcsQ0FBQ3lDLEtBQUssQ0FBQztRQUMxQyxJQUFNb0osUUFBUSxHQUFHcEosS0FBSyxHQUFHZ0ssY0FBYztRQUV2QyxJQUFJUCxVQUFVLEVBQUU7VUFDWnNCLDBCQUEwQixDQUFDMUksR0FBRyxDQUFDckMsS0FBSyxDQUFDO1VBQ3JDK0ssMEJBQTBCLFVBQU8sQ0FBQzNCLFFBQVEsQ0FBQzs7UUFHL0MvTCxnQkFBZ0IsQ0FBQ2tFLEdBQUcsQ0FBQzZILFFBQVEsRUFBRTFJLE1BQU0sQ0FBQztRQUN0Q25FLGVBQWUsQ0FBQ2dCLEdBQUcsQ0FBQ21ELE1BQU0sQ0FBQyxDQUFDVixLQUFLLEdBQUdvSixRQUFRO1FBQzVDMEIsdUJBQXVCLENBQUNoVSxJQUFJLENBQUNzUyxRQUFRLENBQUM7TUFFMUMsQ0FBQztNQUVEO01BQ0FvQix1QkFBdUIsQ0FBQ3JWLE9BQU8sQ0FBQzZWLGNBQWMsQ0FBQztNQUUvQztNQUVBLElBQU0vTSxpQ0FBaUMsR0FBRyxFQUFFLEVBQUM7TUFDN0MsSUFBSWdOLHVCQUF1QixHQUFHLEVBQUU7TUFFaEMsSUFBSXpCLFdBQVcsRUFBRTtRQUFBLElBQUEwQixVQUFBLEdBQUF4UywwQkFBQSxDQUVPK1IseUJBQXlCO1VBQUFVLE1BQUE7UUFBQTtVQUE3QyxLQUFBRCxVQUFBLENBQUExVyxDQUFBLE1BQUEyVyxNQUFBLEdBQUFELFVBQUEsQ0FBQXBZLENBQUEsSUFBQThDLElBQUEsR0FBK0M7WUFBQSxJQUFwQ29LLE9BQUssR0FBQW1MLE1BQUEsQ0FBQWxZLEtBQUE7WUFFWm9LLGdCQUFnQixVQUFPLENBQUMyQyxPQUFLLENBQUM7O1FBRWpDLFNBQUE1RyxHQUFBO1VBQUE4UixVQUFBLENBQUF4WSxDQUFBLENBQUEwRyxHQUFBO1FBQUE7VUFBQThSLFVBQUEsQ0FBQTNXLENBQUE7UUFBQTtPQUVKLE1BQU07UUFBRTtRQUFBLElBQUE2VyxVQUFBLEdBQUExUywwQkFBQSxDQUVnQmlTLHNCQUFzQjtVQUFBVSxNQUFBO1FBQUE7VUFBM0MsS0FBQUQsVUFBQSxDQUFBNVcsQ0FBQSxNQUFBNlcsTUFBQSxHQUFBRCxVQUFBLENBQUF0WSxDQUFBLElBQUE4QyxJQUFBLEdBQTZDO1lBQUEsSUFBbEM4SyxNQUFNLEdBQUEySyxNQUFBLENBQUFwWSxLQUFBO1lBRWIsSUFBQXFZLHFCQUFBLEdBQXdCL08sZUFBZSxDQUFDZ0IsR0FBRyxDQUFDbUQsTUFBTSxDQUFDO2NBQTNDVSxXQUFXLEdBQUFrSyxxQkFBQSxDQUFYbEssV0FBVztZQUNuQm5ELGlDQUFpQyxDQUFDbkgsSUFBSSxDQUFDO2NBQUM0SixNQUFNLEVBQU5BLE1BQU07Y0FBRVUsV0FBVyxFQUFYQTtZQUFXLENBQUMsQ0FBQztZQUM3RDdFLGVBQWUsVUFBTyxDQUFDbUUsTUFBTSxDQUFDO1lBQzlCbEQsT0FBTyxVQUFPLENBQUNrRCxNQUFNLENBQUM7O1VBSTFCO1FBQUEsU0FBQXRILEdBQUE7VUFBQWdTLFVBQUEsQ0FBQTFZLENBQUEsQ0FBQTBHLEdBQUE7UUFBQTtVQUFBZ1MsVUFBQSxDQUFBN1csQ0FBQTtRQUFBO1FBQ0EsSUFBTWdYLDhCQUE4QixHQUFHMVMsS0FBSyxDQUFDZ0IsSUFBSSxDQUFDa1IsMEJBQTBCLENBQUM7UUFFN0UsU0FBQVMsRUFBQSxNQUFBQyxxQkFBQSxHQUFvQkYsOEJBQThCLEVBQUFDLEVBQUEsR0FBQUMscUJBQUEsQ0FBQXRVLE1BQUEsRUFBQXFVLEVBQUEsSUFBRTtVQUEvQyxJQUFNeEwsT0FBSyxHQUFBeUwscUJBQUEsQ0FBQUQsRUFBQTtVQUVabk8sZ0JBQWdCLFVBQU8sQ0FBQzJDLE9BQUssQ0FBQzs7UUFJbENpTCx1QkFBdUIsR0FBR1Asd0JBQXdCLENBQUN0RyxNQUFNLENBQUNtSCw4QkFBOEIsQ0FBQzs7TUFJN0YsSUFBSS9CLFdBQVcsRUFBRXNCLHVCQUF1QixDQUFDaFQsT0FBTyxFQUFFLEVBQUM7TUFFbkQ7TUFFQTtNQUNBLE9BQU8sQ0FBQ21TLGdCQUFnQixFQUFFRCxjQUFjLEVBQUVjLHVCQUF1QixFQUFFRyx1QkFBdUIsRUFBRVIseUJBQXlCLEVBQUV4TSxpQ0FBaUMsQ0FBQztJQUU3SjtJQUVBO0lBRUE7SUFDQTtFQUFBO0lBQUFqRCxHQUFBO0lBQUEvSCxLQUFBLEVBQ1EsU0FBQW1OLHNCQUFzQmpELFVBQVUsRUFBRTZDLEtBQUs7TUFFM0MsSUFBSSxDQUFDdkQsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQyxDQUFDTyxZQUFZLENBQUMyRSxHQUFHLENBQUNyQyxLQUFLLENBQUM7SUFFaEU7RUFBQztJQUFBaEYsR0FBQTtJQUFBL0gsS0FBQSxFQUVPLFNBQUFvTix3QkFBd0JsRCxVQUFVLEVBQUU2QyxLQUFLO01BRTdDLElBQU12RCxlQUFlLEdBQUcsSUFBSSxDQUFDQSxlQUFlLENBQUNjLEdBQUcsQ0FBQ0osVUFBVSxDQUFDO01BRTVELElBQUlWLGVBQWUsRUFBRTtRQUFFO1FBQ25CQSxlQUFlLENBQUNpQixZQUFZLFVBQU8sQ0FBQ3NDLEtBQUssQ0FBQzs7SUFHbEQ7RUFBQztJQUFBaEYsR0FBQTtJQUFBL0gsS0FBQSxFQUVPLFNBQUFxTixhQUFBLEVBQVk7TUFFaEIsT0FBTyxJQUFJLENBQUNqRSxZQUFZLEVBQUU7SUFFOUI7SUFFQTtFQUFBO0lBQUFyQixHQUFBO0lBQUEvSCxLQUFBLEVBQ1EsU0FBQXNOLHVCQUF1QnBELFVBQVUsRUFBRTZDLEtBQUs7TUFFNUMsSUFBQTBMLHNCQUFBLEdBQTZCLElBQUksQ0FBQ2pQLGVBQWUsQ0FBQ2MsR0FBRyxDQUFDSixVQUFVLENBQUM7UUFBekRFLGdCQUFnQixHQUFBcU8sc0JBQUEsQ0FBaEJyTyxnQkFBZ0I7TUFFeEIsSUFBTXFELE1BQU0sR0FDUHJELGdCQUFnQixDQUFDcUosR0FBRyxDQUFDMUcsS0FBSyxDQUFDLEdBQ3hCM0MsZ0JBQWdCLENBQUNFLEdBQUcsQ0FBQ3lDLEtBQUssQ0FBQyxHQUMxQixJQUFJLENBQUNNLFlBQVksRUFBRztNQUU3QixPQUFPSSxNQUFNO0lBRWpCO0lBRUM7RUFBQTtJQUFBMUYsR0FBQTtJQUFBL0gsS0FBQSxFQUNhLFNBQUF1TixhQUFhckQsVUFBVSxFQUFFc0QsU0FBUyxFQUFFVCxLQUFLLEVBQUVVLE1BQU0sRUFBRUMsa0JBQWtCLEVBQW1CO01BQUEsSUFBakJDLFNBQVMsR0FBQUMsU0FBQSxDQUFBMUosTUFBQSxRQUFBMEosU0FBQSxRQUFBbkYsU0FBQSxHQUFBbUYsU0FBQSxNQUFHLEtBQUs7Ozs7OztjQUVsRyxJQUFJLENBQUNSLHVCQUF1QixDQUFDbEQsVUFBVSxFQUFFNkMsS0FBSyxDQUFDO2NBRXpDdkQsZUFBZSxHQUFHLElBQUksQ0FBQ0EsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztjQUFBLElBRXZEVixlQUFlO2dCQUFBa1AsU0FBQSxDQUFBclYsSUFBQTtnQkFBQTtjQUFBO2NBQUEsT0FBQXFWLFNBQUEsQ0FBQXhWLE1BQUEsV0FBUyxJQUFJO1lBQUE7Y0FFakM7Y0FDQTtjQUVNeVYsVUFBVSxHQUFHQyxnQkFBZ0IsQ0FBQzdMLEtBQUssRUFBRVUsTUFBTSxDQUFDO2NBQUFpTCxTQUFBLENBQUFyVixJQUFBO2NBRTlCLE9BQU0sSUFBSSxDQUFDNFEscUJBQXFCLEVBQUU7WUFBQTtjQUFoRDlGLFdBQVcsR0FBQXVLLFNBQUEsQ0FBQTNWLElBQUE7Y0FFWG1NLE1BQU0sR0FDUnRHLE9BQUEsWUFBQW9HLGFBQUE7Z0JBQUEsYUFBaUIsZUFBZTtnQkFBQ2pILEdBQUcsRUFBSTBGLE1BQU07Z0JBQUEsZUFBaUJBLE1BQU07Z0JBQUEsY0FBZ0JWO2NBQUssR0FDdEZuRSxPQUFBLFlBQUFvRyxhQUFBLENBQUNqRyxzQkFBQSxDQUFBOFAsUUFBUTtnQkFBQzlRLEdBQUcsRUFBSTBGLE1BQU07Z0JBQUVxTCxJQUFJLEVBQUlIO2NBQVUsRyxLQUFNbkwsU0FBUyxFLElBQWMsQ0FDdEU7Y0FFVixJQUFJLENBQUN5QixrQkFBa0IsQ0FBQ2QsV0FBVyxFQUFFVixNQUFNLEVBQUV5QixNQUFNLENBQUM7Y0FFOUM2SixjQUFjLEdBQUc7Z0JBQ25CSixVQUFVLEVBQVZBLFVBQVU7Z0JBQ1Y1TCxLQUFLLEVBQUxBLEtBQUs7Z0JBQ0xVLE1BQU0sRUFBTkEsTUFBTTtnQkFDTnZELFVBQVUsRUFBVkEsVUFBVTtnQkFDVndELGtCQUFrQixFQUFsQkEsa0JBQWtCO2dCQUNsQkYsU0FBUyxFQUFUQSxTQUFTO2dCQUNUVyxXQUFXLEVBQVhBO2VBQ0g7Y0FFRCxJQUFJLENBQUM3RSxlQUFlLENBQUNnRixHQUFHLENBQUNiLE1BQU0sRUFBRXNMLGNBQWMsQ0FBQztjQUNoRHZQLGVBQWUsQ0FBQ2UsT0FBTyxDQUFDNkUsR0FBRyxDQUFDM0IsTUFBTSxDQUFDO2NBQ25DakUsZUFBZSxDQUFDWSxnQkFBZ0IsQ0FBQ2tFLEdBQUcsQ0FBQ3ZCLEtBQUssRUFBRVUsTUFBTSxDQUFDO2NBRW5ELElBQUksQ0FBQ0UsU0FBUyxFQUFFLElBQUksQ0FBQ3JDLGlCQUFpQixFQUFFO2NBQUEsT0FBQW9OLFNBQUEsQ0FBQXhWLE1BQUEsV0FFakM2VixjQUFjO1lBQUE7WUFBQTtjQUFBLE9BQUFMLFNBQUEsQ0FBQXhULElBQUE7VUFBQTtRQUFBLEdBQUE4VCxRQUFBO01BQUEsQ0FFeEI7O0lBRUQ7RUFBQTtJQUFBalIsR0FBQTtJQUFBL0gsS0FBQSxFQUNjLFNBQUEwVCxZQUNWeEosVUFBVSxFQUNWNkMsS0FBSyxFQUNMK0YsT0FBTyxFQUNQUixxQkFBcUIsRUFDckJrQixxQkFBcUIsRUFDckJMLG9CQUFvQjs7Ozs7O2NBR2QxRixNQUFNLEdBQUcsSUFBSSxDQUFDSixZQUFZLEVBQUU7Y0FBQTRMLFNBQUEsQ0FBQWxVLElBQUE7Y0FBQWtVLFNBQUEsQ0FBQTVWLElBQUE7Y0FNaEIsT0FBTXlQLE9BQU8sQ0FBQy9GLEtBQUssRUFBRVUsTUFBTSxDQUFDO1lBQUE7Y0FBMUN5TCxXQUFXLEdBQUFELFNBQUEsQ0FBQWxXLElBQUE7Y0FDWCxJQUFJbVcsV0FBVyxLQUFLLElBQUksRUFBRUMsV0FBVyxHQUFHRCxXQUFXO2NBQUFELFNBQUEsQ0FBQTVWLElBQUE7Y0FBQTtZQUFBO2NBQUE0VixTQUFBLENBQUFsVSxJQUFBO2NBQUFrVSxTQUFBLENBQUEzRSxFQUFBLEdBQUEyRSxTQUFBO2NBSW5ERSxXQUFXLEdBQUdELFdBQVcsR0FBR3pRLFNBQVM7Y0FDckMyUSxLQUFLLEdBQUFILFNBQUEsQ0FBQTNFLEVBQUk7WUFBQTtjQUliLElBQUs0RSxXQUFXLEtBQUssSUFBSSxJQUFNQSxXQUFXLEtBQUt6USxTQUFVLEVBQUU7Z0JBRXZELElBQUksQ0FBQ0csT0FBQSxXQUFLLENBQUN5USxjQUFjLENBQUNILFdBQVcsQ0FBQyxFQUFFO2tCQUNwQ0MsV0FBVyxHQUFHRCxXQUFXO2tCQUN6QkEsV0FBVyxHQUFHelEsU0FBUztrQkFDdkIyUSxLQUFLLEdBQUcsSUFBSTFXLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQzs7O2NBR2pELE1BRUl3VyxXQUFXLEtBQUssSUFBSSxJQUFNQSxXQUFXLEtBQUt6USxTQUFVO2dCQUFBd1EsU0FBQSxDQUFBNVYsSUFBQTtnQkFBQTtjQUFBO2NBRy9DcUssa0JBQWtCLEdBQUc7Z0JBQ3ZCNEUscUJBQXFCLEVBQXJCQSxxQkFBcUI7Z0JBQ3JCZ0gsc0JBQXNCLEVBQUM7a0JBQUN6SyxPQUFPLEVBQUM7b0JBQUM5QixLQUFLLEVBQUxBLEtBQUs7b0JBQUNVLE1BQU0sRUFBTkE7a0JBQU07Z0JBQUM7ZUFDakQ7Y0FDRCxJQUFJeUwsV0FBVyxDQUFDdFIsS0FBSyxDQUFDOUgsY0FBYyxDQUFDLG9CQUFvQixDQUFDLEVBQUU7Z0JBQ3hEeVosT0FBTyxHQUFHM1EsT0FBQSxXQUFLLENBQUM0USxZQUFZLENBQUNOLFdBQVcsRUFBRTtrQkFBQ3hMLGtCQUFrQixFQUFsQkE7Z0JBQWtCLENBQUMsQ0FBQztlQUNsRSxNQUFNO2dCQUNINkwsT0FBTyxHQUFHTCxXQUFXOztjQUd6QjtjQUFBRCxTQUFBLENBQUE1VixJQUFBO2NBQ0ksT0FBTSxJQUFJLENBQUNrSyxZQUFZLENBQUNyRCxVQUFVLEVBQUNxUCxPQUFPLEVBQUV4TSxLQUFLLEVBQUVVLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDO1lBQUE7Y0FBQXVMLFNBQUEsQ0FBQTVWLElBQUE7Y0FBQTtZQUFBO2NBSXhGLElBQUk2VixXQUFXLEtBQUt6USxTQUFTLEVBQUU7Z0JBRTNCK0sscUJBQXFCLElBQ2pCQSxxQkFBcUIsQ0FBQ3pHLEtBQUssRUFBRVUsTUFBTSxFQUFFMEwsV0FBVyxFQUFFLFNBQVMsRUFBRUMsS0FBSyxDQUFDO2VBRTFFLE1BQU07Z0JBQUU7Z0JBRUw1RixxQkFBcUIsSUFDakJBLHFCQUFxQixDQUFDekcsS0FBSyxFQUFFVSxNQUFNLEVBQUUwTCxXQUFXLEVBQUUsU0FBUyxFQUFFLElBQUl6VyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBRTFGeVEsb0JBQW9CLENBQUNwRyxLQUFLLENBQUM7O1lBRTlCO1lBQUE7Y0FBQSxPQUFBa00sU0FBQSxDQUFBL1QsSUFBQTtVQUFBO1FBQUEsR0FBQXVVLFFBQUE7TUFBQSxDQUlSOztJQUVEO0lBQ0E7RUFBQTtJQUFBMVIsR0FBQTtJQUFBL0gsS0FBQSxFQUNRLFNBQUE2TixvQkFBb0IzRCxVQUFVLEVBQUU2QyxLQUFLLEVBQUVyQixrQkFBa0I7TUFFN0QsSUFBTWdPLFVBQVUsR0FDWCxDQUFDOVQsS0FBSyxDQUFDQyxPQUFPLENBQUNrSCxLQUFLLENBQUMsR0FDbEIsQ0FBQ0EsS0FBSyxDQUFDLEdBQ1BBLEtBQUs7TUFFYixJQUFBNE0sc0JBQUEsR0FBc0MsSUFBSSxDQUFDblEsZUFBZSxDQUFDYyxHQUFHLENBQUNKLFVBQVUsQ0FBQztRQUFsRUUsZ0JBQWdCLEdBQUF1UCxzQkFBQSxDQUFoQnZQLGdCQUFnQjtRQUFFRyxPQUFPLEdBQUFvUCxzQkFBQSxDQUFQcFAsT0FBTztNQUVqQyxJQUFRakIsZUFBZSxHQUFLLElBQUksQ0FBeEJBLGVBQWU7TUFFdkIsSUFBUThFLHFCQUFxQixHQUFLLElBQUksQ0FBOUJBLHFCQUFxQjtNQUU3QixJQUFNd0wsVUFBVSxHQUFHLEVBQUU7TUFBQSxJQUFBQyxVQUFBLEdBQUFwVSwwQkFBQSxDQUVEaVUsVUFBVTtRQUFBSSxNQUFBO01BQUE7UUFBOUIsS0FBQUQsVUFBQSxDQUFBdFksQ0FBQSxNQUFBdVksTUFBQSxHQUFBRCxVQUFBLENBQUFoYSxDQUFBLElBQUE4QyxJQUFBLEdBQWdDO1VBQUEsSUFBckJvSyxPQUFLLEdBQUErTSxNQUFBLENBQUE5WixLQUFBO1VBRVosSUFBTXlOLE1BQU0sR0FBR3JELGdCQUFnQixDQUFDRSxHQUFHLENBQUN5QyxPQUFLLENBQUM7VUFFMUMsSUFBSVUsTUFBTSxLQUFLaEYsU0FBUyxFQUFFLFNBQVEsQ0FBQztVQUVuQ21SLFVBQVUsQ0FBQy9WLElBQUksQ0FBQztZQUFDa0osS0FBSyxFQUFMQSxPQUFLO1lBQUNVLE1BQU0sRUFBTkE7VUFBTSxDQUFDLENBQUM7VUFDL0IsSUFBQXNNLHFCQUFBLEdBQXdCelEsZUFBZSxDQUFDZ0IsR0FBRyxDQUFDbUQsTUFBTSxDQUFDO1lBQTNDVSxXQUFXLEdBQUE0TCxxQkFBQSxDQUFYNUwsV0FBVztVQUVuQkMscUJBQXFCLENBQUNELFdBQVcsRUFBQ1YsTUFBTSxDQUFDO1VBRXpDbkUsZUFBZSxVQUFPLENBQUNtRSxNQUFNLENBQUM7VUFDOUJsRCxPQUFPLFVBQU8sQ0FBQ2tELE1BQU0sQ0FBQztVQUN0QnJELGdCQUFnQixVQUFPLENBQUMyQyxPQUFLLENBQUM7O01BRWpDLFNBQUE1RyxHQUFBO1FBQUEwVCxVQUFBLENBQUFwYSxDQUFBLENBQUEwRyxHQUFBO01BQUE7UUFBQTBULFVBQUEsQ0FBQXZZLENBQUE7TUFBQTtNQUVEb0ssa0JBQWtCLElBQUlBLGtCQUFrQixDQUFDa08sVUFBVSxDQUFDO0lBRXhEO0lBc0JBO0VBQUE7SUFBQTdSLEdBQUE7SUFBQS9ILEtBQUEsRUFDUSxTQUFBK04sVUFBVU4sTUFBTTtNQUVwQixPQUFPLElBQUksQ0FBQ25FLGVBQWUsQ0FBQ21LLEdBQUcsQ0FBQ2hHLE1BQU0sQ0FBQztJQUUzQztFQUFDO0lBQUExRixHQUFBO0lBQUEvSCxLQUFBLEVBRU8sU0FBQWdPLGtCQUFrQlAsTUFBTTtNQUU1QixJQUFJLElBQUksQ0FBQ00sU0FBUyxDQUFDTixNQUFNLENBQUMsRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ25FLGVBQWUsQ0FBQ2dCLEdBQUcsQ0FBQ21ELE1BQU0sQ0FBQzs7SUFHL0M7RUFBQztFQUFBLE9BQUF4RSxRQUFBO0FBQUE7QUFseUNMK1Esa0JBQUEsR0FBQS9RLFFBQUE7QUFzeUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEsSUFBTTJQLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUk3TCxLQUFLLEVBQUVVLE1BQU0sRUFBSTtFQUV2QyxJQUFNa0wsVUFBVSxHQUFHLElBQUE1UCxzQkFBQSxDQUFBa1Isb0JBQW9CLEdBQUU7RUFFekMsSUFBTUMsU0FBUyxHQUFHdkIsVUFBVSxDQUFDd0IsT0FBTztFQUNwQ0QsU0FBUyxDQUFDRSxLQUFLLENBQUNDLFFBQVEsR0FBRyxRQUFRO0VBRW5DSCxTQUFTLENBQUNJLE9BQU8sQ0FBQ3JaLElBQUksR0FBRyxpQkFBaUI7RUFDMUNpWixTQUFTLENBQUNJLE9BQU8sQ0FBQ3ZOLEtBQUssR0FBR0EsS0FBSztFQUMvQm1OLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDQyxXQUFXLEdBQUc5TSxNQUFNO0VBRXRDLE9BQU9rTCxVQUFVO0FBRXJCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1pbmZpbml0ZS1ncmlkLXNjcm9sbGVyLy4vc3JjL3BvcnRhbGNhY2hlL2NhY2hlQVBJLnRzeD9lZGE0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNhY2hlQVBJLnRzeFxuLy8gY29weXJpZ2h0IChjKSAyMDE5LTIwMjMgSGVucmlrIEJlY2htYW5uLCBUb3JvbnRvLCBMaWNlbmNlOiBNSVRcblxuLypcbiAgICBUaGlzIG1vZHVsZSBtYW5hZ2VzIHRoZSBJbmZpbml0ZUdyaWRTY3JvbGxlciBsaW1pdGVkIChzcGFyc2UpIGNhY2hlLiBJdCBhbHNvIHByb3ZpZGVzIHN1cHBvcnQgZm9yIFxuICAgIHNlcnZpY2VzIHdoaWNoIGFsbG93IHRoZSBob3N0IHRvIGFjdGl2ZWx5IG1hbmFnZSBtYW55IGFzcGVjdHMgb2YgdGhlIGNhY2hlLiBTZWUgZG9jdW1lbnRhdGlvblxuICAgIGFib3V0IHRoZSB1c2VyIGZ1bmN0aW9uc0NhbGxiYWNrIGNhbGxiYWNrIGZvciBkZXRhaWxzLiBUaGUgY2FjaGVNYXggcHJvcGVydHkgYWxsb3dzIGZvciBjb250cm9sIG9mIHRoZVxuICAgIG1heGltdW0gZGV2aWNlIG1lbW9yeSBjb25zdW1wdGlvbiBvZiB0aGUgY2FjaGUuXG5cbiAgICBUaGUgaW5maW5pdGUgZ3JpZCBzY3JvbGxlciBzdG9yZXMgdXNlciBjZWxsIGNvbnRlbnQgKGNvbXBvbmVudHMpIGluIGEgY2VudHJhbCBoaWRkZW4gY2FjaGUsIFxuICAgIGZyb20gd2hlbmNlIHRoZSBjb21wb25lbnRzIGFyZSBwdWxsZWQgaW50byB0aGUgcmVsZXZhbnQgQ2VsbEZyYW1lcyBmb3IgZGlzcGxheS4gVGhlIHVzZXIgY29tcG9uZW50cyBhcmUgXG4gICAgc3RvcmVkIGluIFJlYWN0IHBvcnRhbHMsIHdpdGggZWFjaCBwb3J0YWwgaW5zdGFudGlhdGVkIGluIGEgY29udGFpbmVyIGRpdiAoZGF0YS10eXBlID0gJ3BvcnRhbHdyYXBwZXInKS4gXG4gICAgVGhlc2UgY29udGFpbmVyIGRpdnMgYXJlIHBhcnQgb2YgYSBzdGFuZGFyZCBSZWFjdCBjb21wb25lbnQgbGlzdCBpbiB0aGUgcmVhbCBET00uIFRoZSBjb250YWluZWQgcG9ydGFscyBcbiAgICB0aGVtc2VsdmVzIGFyZSBub3QgcGFydCBvZiB0aGUgcmVhbCBET00sIGJ1dCBhcmUgcGFydCBvZiBSZWFjdCdzIHZpcnR1YWwgRE9NLlxuXG4gICAgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9wb3J0YWxzLmh0bWwgZm9yIGdlbmVyYWwgaW5mb3JtYXRpb24gYWJvdXQgUmVhY3QgcG9ydGFscy5cbiAgICBTZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcmVhY3QtcmV2ZXJzZS1wb3J0YWwgZm9yIHRoZSB1dGlsaXR5IHRoYXQgSW5maW5pdGVHcmlkU2Nyb2xsZXJcbiAgICB1c2VzIHRvIG1hbmFnZSBwb3J0YWxzLlxuXG4gICAgVGhpcyBjYWNoaW5nIGhhcyBtYW55IGFkdmFudGFnZXMsIG5vdGFibHkgdGhlIGFiaWxpdHkgdG8gbW92ZSBjZWxscyBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIHRoZVxuICAgIGhlYWQgYW5kIHRhaWwgZ3JpZHMgb2YgdGhlIENyYWRsZSB3aXRob3V0IGxvc2luZyBzdGF0ZSwgYW5kIHRoZSBhYmlsaXR5IHRvIG1haW50YWluIHN0YXRlIGZvciBcbiAgICBjb21wbGV4IGNvbXBvbmVudHMgd2hpY2ggbW92ZSBiZXlvbmQgdGhlIHNjb3BlIG9mIHRoZSBjb250ZW50IG9mIHRoZSBDcmFkbGUuIFxuXG4gICAgVGhlcmUgaXMgYW4gaW1wb3J0YW50IHNpZGUgZWZmZWN0IHRvIGNvbnNpZGVyLiBJbnN0YW50aWF0ZWQgY29tcG9uZW50cyB3aGljaCBhcmUgcmVtb3ZlZCBmcm9tIHRoZSByZWFsIERPTSBcbiAgICBpbnRvIHRoZSBwb3J0YWwgb2YgdGhlIHZpcnR1YWwgRE9NIGhhdmUgdGhlaXIgc2Nyb2xsIHBvc2l0aW9ucywgd2lkdGgsIGFuZCBoZWlnaHQgc2V0IHRvIHplcm8uIFRoZXJlZm9yZSBpZiBcbiAgICBjb21wb25lbnRzIHJlbHkgb24gdGhlc2UgdmFsdWVzIGZvciBjb25maWd1cmF0aW9uLCB0aGV5IG11c3QgaGF2ZSBhIHdheSBvZiBzdG9yaW5nIHRob3NlIHZhbHVlcyBpbiBzdGF0ZSBcbiAgICAobm90YWJseSB0aGUgU2Nyb2xsIFBvcyAtIHNjcm9sbExlZnQgb3Igc2Nyb2xsVG9wKSwgcmVjb2duaXppbmcgd2hlbiB0aGUgY29tcG9uZW50IGNvbWVzIG91dCBvZiB0aGUgcG9ydGFsIGNhY2hlIFxuICAgIGludG8gdGhlIHJlYWwgRE9NICh3aWR0aCBhbmQgaGVpZ2h0IGFyZSB0eXBpY2FsbHkgbm8gbG9uZ2VyIGJvdGggMCksIGFuZCByZXNwb25kaW5nIHRvIGNoYW5nZSBpbiBcbiAgICBjYWNoZSBzdGF0ZSBhcHByb3ByaWF0ZWx5LlxuXG4gICAgVGlwczpcbiAgICAgICAgLSB5b3VyIGNvbXBvbmVudCBpcyBpbiBjYWNoZSB3aGVuIGJvdGggd2lkdGggYW5kIGhlaWdodCA9IDBcbiAgICAgICAgLSB5b3VyIGNvbXBvbmVudCBpcyBvdXQgb2YgY2FjaGUgd2hlbiBib3RoIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGJhY2sgdG8gbm9ybWFsXG4gICAgICAgIC0gaWYgeW91IGNyZWF0ZSBhbiBlbXB0eSAnc2Nyb2xsZXJQcm9wZXJ0aWVzJyBwcm9wZXJ0eSBmb3IgeW91ciBjb21wb25lbnQsIENlbGxGcmFtZSB3aWxsXG4gICAgICAgICAgICBzZXQgaXQgdG8gYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmIGFuZCBjZWxsRnJhbWVQcm9wZXJ0aWVzUmVmXG4gICAgICAgIC0gaWYgeW91ciBjb21wb25lbnQgZG9lcyBub3Qgc2Nyb2xsLCB0aGVyZSBzaG91bGQgYmUgbm8gaXNzdWVzLlxuXG4qL1xuXG4vLyBpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgY3JlYXRlSHRtbFBvcnRhbE5vZGUsIEluUG9ydGFsIH0gZnJvbSAncmVhY3QtcmV2ZXJzZS1wb3J0YWwnXG5cbmltcG9ydCBDYWNoZVBhcnRpdGlvbiBmcm9tICcuL0NhY2hlUGFydGl0aW9uJ1xuXG4vLyB0aGUgY2FjaGUgaXRzZWxmIGlzIG1haW50YWluZWQgaW4gdGhlIHJvb3QgaW5maW5pdGVncmlkc2Nyb2xsZXIgY29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWNoZUFQSSB7XG5cbiAgICBjb25zdHJ1Y3RvcihDQUNIRV9QQVJUSVRJT05fU0laRSkge1xuXG4gICAgICAgIHRoaXMuQ0FDSEVfUEFSVElUSU9OX1NJWkUgPSBDQUNIRV9QQVJUSVRJT05fU0laRVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnbG9iYWxJdGVtSUQgPSAwXG4gICAgcHJpdmF0ZSBnbG9iYWxQYXJ0aXRpb25JRCA9IDBcblxuICAgIHByaXZhdGUgaXRlbU1ldGFkYXRhTWFwID0gbmV3IE1hcCgpXG5cbiAgICBwcml2YXRlIHNjcm9sbGVyRGF0YU1hcCA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBwYXJ0aXRpb25Qcm9wcyA9IHtcblxuICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YU1hcDpuZXcgTWFwKCksXG4gICAgICAgIHBhcnRpdGlvbk1hcDogbmV3IE1hcCgpLFxuICAgICAgICBwYXJ0aXRpb25SZW5kZXJMaXN0Om51bGwsXG4gICAgICAgIHBhcnRpdGlvblJlcG9Gb3JjZVVwZGF0ZTpudWxsLFxuICAgICAgICBwYXJ0aXRpb25Nb2RpZmllZFNldDogbmV3IFNldCgpLFxuXG4gICAgICAgIHBhcnRpdGlvblB0cjpudWxsLCAvLyBhY3RpdmUgcGFydGl0aW9uLCBmb3IgZm9sbG93dXBcblxuICAgIH1cblxuICAgIHByaXZhdGUgQ0FDSEVfUEFSVElUSU9OX1NJWkVcblxuICAgIC8vIHB1YmxpYyBtZWFzdXJlTWVtb3J5KHNvdXJjZSwgc2Nyb2xsZXJJRCkge1xuICAgIC8vICAgY29uc29sZS5sb2coJ3VzZWRKU0hlYXBTaXplJywnLScrc2Nyb2xsZXJJRCsnLScsc291cmNlLCBwZXJmb3JtYW5jZVsnbWVtb3J5J11bJ3VzZWRKU0hlYXBTaXplJ10pXG4gICAgLy8gfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09WyBTY3JvbGxlciBSZWdpc3RyYXRpb24gJiBNYWludGVuYW5jZSBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gdGhlIG9ubHkgbWVtYmVyIGFjY2Vzc2VkIGRpcmVjdGx5LiBBbGwgb3RoZXIgYWNjZXNzIGlzIHRocm91Z2ggdGhlIGZhY2FkZVxuICAgIHJlZ2lzdGVyU2Nyb2xsZXIoc2Nyb2xsZXJJRCkge1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLnNldChzY3JvbGxlcklELCBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcmFkbGVQYXJhbWV0ZXJzOm51bGwsXG4gICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcDogbmV3IE1hcCgpLCBcbiAgICAgICAgICAgICAgICAvLyBzb21lIHBvcnRhbHMgbWF5IGhhdmUgYmVlbiByZXF1ZXN0ZWQgYnkgcmVxdWVzdGlkbGVjYWxsYmFjaywgbm90IHlldCBjcmVhdGVkXG4gICAgICAgICAgICAgICAgaXRlbVNldDogbmV3IFNldCgpLCAvLyBmb3Igc2Nyb2xsZXJJRCBsaW1pdGVkIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRTZXQ6bmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdDpudWxsLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICAgICAgLy8gdGhpcy5tZWFzdXJlTWVtb3J5KCdSRUdJU1RFUicsIHNjcm9sbGVySUQpXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmFjYWRlKHNjcm9sbGVySUQpXG5cbiAgICB9XG5cbiAgICAvLyBhIGZhY2FkZSBpcyB1c2VkIHRvIGFjY29tbW9kYXRlIGFjY2VzcyBieSBtdWx0aXBsZSBSSUdTIHNjcm9sbGVyc1xuICAgIHByaXZhdGUgZ2V0RmFjYWRlID0gKHNjcm9sbGVySUQpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0ge1xuXG4gICAgICAgICAgICAvLyBtZWFzdXJlTWVtb3J5Oihzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLm1lYXN1cmVNZW1vcnkoc291cmNlLCBzY3JvbGxlcklEKVxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIGdldCBhbmQgc2V0IGRhdGFcbiAgICAgICAgICAgIGdldCBpbmRleFRvSXRlbUlETWFwKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEluZGV4VG9JdGVtSURNYXAoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEluZGV4VG9JdGVtSURNYXA6KCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaXRlbVNldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtU2V0KClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRJdGVtU2V0OigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pdGVtU2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwOnRoaXMuaXRlbU1ldGFkYXRhTWFwLFxuICAgICAgICAgICAgZ2V0IHJlcXVlc3RlZFNldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXF1ZXN0ZWRTZXQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFJlcXVlc3RlZFNldDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5yZXF1ZXN0ZWRTZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgcGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlKGZuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUoZm4pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlOihmbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlID0gZm5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY3JhZGxlUGFyYW1ldGVycyhwYXJtcyl7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDcmFkbGVQYXJhbWV0ZXJzKHBhcm1zKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldENyYWRsZVBhcmFtZXRlcnM6KHBhcm1zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmNyYWRsZVBhcmFtZXRlcnMgPSBwYXJtc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBwb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QobGlzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0KGxpc3QpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0OihsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLnBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCA9IGxpc3RcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKVxuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBnZXRJbnN0YW5jZTooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIG1ldGhvZHNcbiAgICAgICAgICAgIHVuUmVnaXN0ZXJTY3JvbGxlcjooaXRlbVNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVuUmVnaXN0ZXJTY3JvbGxlcihzY3JvbGxlcklELCBpdGVtU2V0KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclBhcnRpdGlvblJlcG86KCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclBhcnRpdGlvblJlcG8oKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbmRlclBvcnRhbExpc3RzOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJQb3J0YWxMaXN0cygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJDYWNoZTooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJDYWNoZShzY3JvbGxlcklEKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYW5nZUNhY2hlTGlzdFNpemU6KG5ld2xpc3RzaXplLCBkZWxldGVMaXN0Q2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VDYWNoZUxpc3RTaXplKHNjcm9sbGVySUQsIG5ld2xpc3RzaXplLCBkZWxldGVMaXN0Q2FsbGJhY2spIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoYW5nZUNhY2hlTGlzdFJhbmdlOihuZXdsaXN0cmFuZ2UsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4geyBcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VDYWNoZUxpc3RSYW5nZShzY3JvbGxlcklELCBuZXdsaXN0cmFuZ2UsIGRlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXRjaENhY2hlVG9DcmFkbGU6KGNyYWRsZUluZGV4TGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2hDYWNoZVRvQ3JhZGxlKHNjcm9sbGVySUQsIGNyYWRsZUluZGV4TGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVDYWNoZVRvTWF4OihjYWNoZU1heCwgY3JhZGxlSW5kZXhMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlQ2FjaGVUb01heChzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlSW5kZXhMaXN0LCBkZWxldGVMaXN0Q2FsbGJhY2spXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3VhcmRBZ2FpbnN0UnVuYXdheUNhY2hpbmc6KGNhY2hlTWF4LCBjcmFkbGVMaXN0TGVuZ3RoLCBNQVhfQ0FDSEVfT1ZFUl9SVU4pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyhzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlTGlzdExlbmd0aCwgTUFYX0NBQ0hFX09WRVJfUlVOKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZWxvYWQ6KGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVsb2FkKHNjcm9sbGVySUQsIGZpbmFsQ2FsbGJhY2ssIG51bGxJdGVtU2V0TWF4TGlzdHNpemUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FjaGVJbmRleE1hcDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FjaGVJbmRleE1hcChzY3JvbGxlcklEKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENyYWRsZUluZGV4TWFwOihjcmFkbGVJbmRleExpc3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDcmFkbGVJbmRleE1hcChzY3JvbGxlcklELCBjcmFkbGVJbmRleExpc3QpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FjaGVJdGVtTWFwOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDYWNoZUl0ZW1NYXAoc2Nyb2xsZXJJRClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlSW5kZXg6KHRvbG93aW5kZXgsIGZyb21sb3dpbmRleCwgZnJvbWhpZ2hpbmRleCApID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSW5kZXgoc2Nyb2xsZXJJRCwgdG9sb3dpbmRleCwgZnJvbWxvd2luZGV4LCBmcm9taGlnaGluZGV4KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc2VydFJlbW92ZUluZGV4OihpbmRleCwgaGlnaHJhbmdlLCBpbmNyZW1lbnQsIGxpc3RzaXplICkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydFJlbW92ZUluZGV4KHNjcm9sbGVySUQsIGluZGV4LCBoaWdocmFuZ2UsIGluY3JlbWVudCwgbGlzdHNpemUgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyUGVuZGluZ1BvcnRhbDooaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclBlbmRpbmdQb3J0YWwoc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5yZWdpc3RlclBlbmRpbmdQb3J0YWw6KGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5yZWdpc3RlclBlbmRpbmdQb3J0YWwoc2Nyb2xsZXJJRCwgaW5kZXgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TmV3SXRlbUlEOigpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROZXdJdGVtSUQoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE5ld09yRXhpc3RpbmdJdGVtSUQ6KGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV3T3JFeGlzdGluZ0l0ZW1JRChzY3JvbGxlcklELCBpbmRleClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVQb3J0YWw6KGNvbXBvbmVudCwgaW5kZXgsIGl0ZW1JRCwgc2Nyb2xsZXJQcm9wZXJ0aWVzLCBpc1ByZWxvYWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBvcnRhbChzY3JvbGxlcklELCBjb21wb25lbnQsIGluZGV4LCBpdGVtSUQsIHNjcm9sbGVyUHJvcGVydGllcywgaXNQcmVsb2FkID0gZmFsc2UpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUG9ydGFsQnlJbmRleDooaW5kZXgsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgaW5kZXgsIGRlbGV0ZUxpc3RDYWxsYmFjaylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcHBseVBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdDooKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3Qoc2Nyb2xsZXJJRClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNQb3J0YWw6KGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc1BvcnRhbChpdGVtSUQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UG9ydGFsTWV0YWRhdGE6KGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBvcnRhbE1ldGFkYXRhKGl0ZW1JRClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWNhZGVcbiAgICB9XG5cbiAgICBwcml2YXRlIHVuUmVnaXN0ZXJTY3JvbGxlciA9IChzY3JvbGxlcklELCBpdGVtU2V0KSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBzY3JvbGxlckRhdGFNYXAsIGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuXG4gICAgICAgIGlmICggc2Nyb2xsZXJEYXRhTWFwLnNpemUgPT0gMSApIHJldHVybiAvLyBhbHJlYWR5IGdldHRpbmcgZGlzbWFudGxlZDsgYXZvaWQgY29uZmxpY3RcblxuICAgICAgICBzY3JvbGxlckRhdGFNYXAuZGVsZXRlKHNjcm9sbGVySUQpXG4gICAgICAgIGl0ZW1TZXQuZm9yRWFjaCgoaXRlbUlEKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHBhcnRpdGlvbklEIH0gPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGl0aW9uUG9ydGFsKHBhcnRpdGlvbklELGl0ZW1JRClcbiAgICAgICAgICAgIGl0ZW1NZXRhZGF0YU1hcC5kZWxldGUoaXRlbUlEKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcbiAgICAgICAgLy8gdGhpcy5tZWFzdXJlTWVtb3J5KCdVTlJFR0lTVEVSJywgc2Nyb2xsZXJJRClcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVsgQ0FDSEUgUEFSVElUSU9OIE1BTkFHRU1FTlQgXT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHBhcnRpdGlvbnMgYXJlIGFkZGVkIGJ1dCBub3QgcmVtb3ZlZFxuXG4gICAgcHJpdmF0ZSByZW5kZXJQYXJ0aXRpb25SZXBvID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVuZGVyTGlzdCA9IEFycmF5LmZyb20odGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NYXAudmFsdWVzKCkpXG5cbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUodGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZW5kZXJMaXN0KVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRQYXJ0aXRpb24gPSAoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcGFydGl0aW9uSUQgPSB0aGlzLmdsb2JhbFBhcnRpdGlvbklEKytcbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5zZXQocGFydGl0aW9uSUQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9ydGFsTWFwOm5ldyBNYXAoKSwgXG4gICAgICAgICAgICAgICAgbWFwY291bnQ6MCwgLy8gcG9ydGFsTWFwIHVwZGF0ZSBjYW4gYmUgYXN5bmMsIHNvIG1hcGNvdW50IGlzIHVzZWRcbiAgICAgICAgICAgICAgICBwb3J0YWxSZW5kZXJMaXN0Om51bGwsIFxuICAgICAgICAgICAgICAgIG1vZGlmaWVkOmZhbHNlLFxuICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlOm51bGwsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uSUQsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHJlc29sdmVmdW5jID0ge1xuICAgICAgICAgICAgY3VycmVudDpudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVmdW5jLmN1cnJlbnQgPSByZXNvbHZlXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlc29sdmVmdW5jLmN1cnJlbnQocGFydGl0aW9uSUQpXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTWFwLnNldChwYXJ0aXRpb25JRCxcbiAgICAgICAgICAgIDxDYWNoZVBhcnRpdGlvbiBcbiAgICAgICAgICAgICAgICBrZXkgPSB7cGFydGl0aW9uSUR9IFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvblByb3BzID0ge3RoaXMucGFydGl0aW9uUHJvcHN9IFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbklEID0ge3BhcnRpdGlvbklEfSBcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHsgY2FsbGJhY2sgfSAvPilcblxuICAgICAgICB0aGlzLnJlbmRlclBhcnRpdGlvblJlcG8oKVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGZpbmRQYXJ0aXRpb25XaXRoUm9vbSgpIHtcblxuICAgICAgICBjb25zdCB7IENBQ0hFX1BBUlRJVElPTl9TSVpFIH0gPSB0aGlzXG5cbiAgICAgICAgY29uc3QgeyBwYXJ0aXRpb25NZXRhZGF0YU1hcCB9ID0gdGhpcy5wYXJ0aXRpb25Qcm9wc1xuICAgICAgICBsZXQgeyBwYXJ0aXRpb25QdHIgfSA9IHRoaXMucGFydGl0aW9uUHJvcHNcblxuICAgICAgICBsZXQgcGFydGl0aW9uTWV0YWRhdGFcbiAgICAgICAgaWYgKHBhcnRpdGlvblB0ciAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YSA9IHBhcnRpdGlvbk1ldGFkYXRhTWFwLmdldChwYXJ0aXRpb25QdHIpXG5cbiAgICAgICAgICAgIGlmIChwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCA8IENBQ0hFX1BBUlRJVElPTl9TSVpFKSB7XG5cbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aXRpb25QdHJcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBwYXJ0aXRpb25QdHIgPSBudWxsXG4gICAgICAgIGZvciAoY29uc3QgW3BhcnRpdGlvbklELCBwYXJ0aXRpb25NZXRhZGF0YV0gb2YgcGFydGl0aW9uTWV0YWRhdGFNYXApIHtcblxuICAgICAgICAgICAgaWYgKHBhcnRpdGlvbk1ldGFkYXRhLm1hcGNvdW50IDwgQ0FDSEVfUEFSVElUSU9OX1NJWkUpIHtcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvblB0ciA9IHBhcnRpdGlvbklEXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRpdGlvblB0ciA9PT0gbnVsbCkge1xuXG4gICAgICAgICAgICBwYXJ0aXRpb25QdHIgPSBhd2FpdCB0aGlzLmFkZFBhcnRpdGlvbigpXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YSA9IHBhcnRpdGlvbk1ldGFkYXRhTWFwLmdldChwYXJ0aXRpb25QdHIpXG4gICAgICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5tYXBjb3VudCArPSAxIFxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvblB0ciA9IHBhcnRpdGlvblB0clxuXG4gICAgICAgIHJldHVybiBwYXJ0aXRpb25QdHJcblxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkUGFydGl0aW9uUG9ydGFsID0gKHBhcnRpdGlvbklELCBpdGVtSUQsIHBvcnRhbCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsTWFwLnNldChpdGVtSUQscG9ydGFsKVxuXG4gICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTW9kaWZpZWRTZXQuYWRkKHBhcnRpdGlvbklEKVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVQYXJ0aXRpb25Qb3J0YWwgPSAocGFydGl0aW9uSUQsIGl0ZW1JRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsTWFwLmRlbGV0ZShpdGVtSUQpXG4gICAgICAgIHBhcnRpdGlvbk1ldGFkYXRhLm1hcGNvdW50IC09IDEgXG5cbiAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25Nb2RpZmllZFNldC5hZGQocGFydGl0aW9uSUQpXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBhcnRpdGlvbiA9IChwYXJ0aXRpb25JRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBhcnRpdGlvbk1ldGFkYXRhID0gdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25NZXRhZGF0YU1hcC5nZXQocGFydGl0aW9uSUQpXG5cbiAgICAgICAgaWYgKCFwYXJ0aXRpb25NZXRhZGF0YSkgcmV0dXJuXG5cbiAgICAgICAgcGFydGl0aW9uTWV0YWRhdGEucG9ydGFsUmVuZGVyTGlzdCA9ICBBcnJheS5mcm9tKHBhcnRpdGlvbk1ldGFkYXRhLnBvcnRhbE1hcC52YWx1ZXMoKSlcblxuICAgICAgICAvLyBpZiBmb3JjZVVwZGF0ZSBoYXMgbm90IHlldCBiZWVuIGFzc2lnbmVkLCBpdCBpcyBpbiB0aGUgd29ya3MgZnJvbSBmaXJzdCBjYWxsIG9mIHBhcnRpdGlvblxuICAgICAgICBwYXJ0aXRpb25NZXRhZGF0YS5mb3JjZVVwZGF0ZSAmJiBwYXJ0aXRpb25NZXRhZGF0YS5mb3JjZVVwZGF0ZShwYXJ0aXRpb25NZXRhZGF0YS5wb3J0YWxSZW5kZXJMaXN0KVxuXG4gICAgfVxuXG4gICAgLy8gc2V0IHN0YXRlIG9mIHRoZSBDYWNoZVBhcnRpdGlvbiBjb21wb25lbnQgb2YgdGhlIHNjcm9sbGVyIHRvIHRyaWdnZXIgcmVuZGVyXG4gICAgcHJpdmF0ZSByZW5kZXJQb3J0YWxMaXN0cyA9ICgpID0+IHtcblxuICAgICAgICBjb25zdCB7IHBhcnRpdGlvbk1vZGlmaWVkU2V0IH0gPSB0aGlzLnBhcnRpdGlvblByb3BzXG5cbiAgICAgICAgaWYgKHBhcnRpdGlvbk1vZGlmaWVkU2V0LnNpemUpIHtcblxuICAgICAgICAgICAgcGFydGl0aW9uTW9kaWZpZWRTZXQuZm9yRWFjaCgocGFydGl0aW9uSUQpID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFydGl0aW9uKHBhcnRpdGlvbklEKVxuXG4gICAgICAgICAgICB9KSAgICAgICAgICAgIFxuXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1vZGlmaWVkU2V0LmNsZWFyKClcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNsZWFyQ2FjaGUgPSAoc2Nyb2xsZXJJRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsZXJEYXRhTWFwLCBpdGVtTWV0YWRhdGFNYXAgfSA9IHRoaXNcbiAgICAgICAgY29uc3QgZGF0YW1hcCA9IHNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcbiAgICAgICAgY29uc3Qge2luZGV4VG9JdGVtSURNYXAsIGl0ZW1TZXQsIHJlcXVlc3RlZFNldH0gPSBkYXRhbWFwXG5cbiAgICAgICAgaWYgKHNjcm9sbGVyRGF0YU1hcC5zaXplID09IDEpIHtcblxuICAgICAgICAgICAgLy8gY2xlYXIgYmFzZSBkYXRhXG4gICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuY2xlYXIoKVxuXG4gICAgICAgICAgICAvLyBjbGVhciBjYWNoZSBwYXJ0aXRpb25zXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1ldGFkYXRhTWFwLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uTWFwLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUmVuZGVyTGlzdCA9IFtdXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvblByb3BzLnBhcnRpdGlvbk1vZGlmaWVkU2V0LmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uUHJvcHMucGFydGl0aW9uUHRyID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5wYXJ0aXRpb25Qcm9wcy5wYXJ0aXRpb25SZXBvRm9yY2VVcGRhdGUobnVsbClcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpdGVtU2V0LmZvckVhY2goKGl0ZW1JRCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFydGl0aW9uSUQgfSA9IGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFydGl0aW9uUG9ydGFsKHBhcnRpdGlvbklELGl0ZW1JRClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBvcnRhbExpc3RzKClcblxuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5jbGVhcigpXG4gICAgICAgIGl0ZW1TZXQuY2xlYXIoKVxuICAgICAgICByZXF1ZXN0ZWRTZXQuY2xlYXIoKVxuXG4gICAgfVxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT1bIFJFUE9TSVRPUlkgQU5EIExJU1QgTUFOQUdFTUVOVCBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgYmFzaWMgb3BlcmF0aW9ucyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIGNhbGxlZCBmcm9tIENyYWRsZS5udWxsSXRlbVNldE1heExpc3RzaXplLCBhbmQgc2VydmljZUhhbmRsZXIuc2V0TGlzdFNpemVcbiAgICBwcml2YXRlIGNoYW5nZUNhY2hlTGlzdFNpemUgPSAoc2Nyb2xsZXJJRCwgbmV3bGlzdHNpemUsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGlmIChuZXdsaXN0c2l6ZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKHNjcm9sbGVySUQpIFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXRjaCBjYWNoZSB0byBuZXdsaXN0c2l6ZVxuICAgICAgICBjb25zdCBwb3J0YWxJbmRleE1hcDpNYXA8bnVtYmVyLG51bWJlcj4gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaW5kZXhUb0l0ZW1JRE1hcFxuICAgICAgICBjb25zdCBtYXBrZXlzTGlzdCA9IEFycmF5LmZyb20ocG9ydGFsSW5kZXhNYXAua2V5cygpKVxuXG4gICAgICAgIG1hcGtleXNMaXN0LnNvcnQoKGEsYikgPT4gYSAtIGIpIC8vIGFzY2VuZGluZ1xuXG4gICAgICAgIGNvbnN0IHsgY3JhZGxlUGFyYW1ldGVycyB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgY29uc3QgeyB2aXJ0dWFsTGlzdFByb3BzIH0gPSBjcmFkbGVQYXJhbWV0ZXJzLmNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgeyBsb3dpbmRleCB9ID0gdmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGNvbnN0IGhpZ2hlc3RpbmRleCA9IG1hcGtleXNMaXN0LmF0KC0xKVxuXG4gICAgICAgIGlmIChoaWdoZXN0aW5kZXggPiAoKG5ld2xpc3RzaXplICsgbG93aW5kZXgpIC0xKSkgeyAvLyBwYXJlIHRoZSBjYWNoZVxuXG4gICAgICAgICAgICBjb25zdCBwYXJlbGlzdCA9IG1hcGtleXNMaXN0LmZpbHRlcigoaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZWhpZ2hpbmRleCA9IG5ld2xpc3RzaXplICsgbG93aW5kZXggLSAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID4gKGNvbXBhcmVoaWdoaW5kZXgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgcGFyZWxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZUNhY2hlTGlzdFJhbmdlID0gKHNjcm9sbGVySUQsIG5ld2xpc3RyYW5nZSwgZGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7IFxuXG5cbiAgICAgICAgaWYgKG5ld2xpc3RyYW5nZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNhY2hlKHNjcm9sbGVySUQpIFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gbWF0Y2ggY2FjaGUgdG8gbmV3bGlzdHNpemVcbiAgICAgICAgY29uc3QgcG9ydGFsSW5kZXhNYXA6TWFwPG51bWJlcixudW1iZXI+ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcbiAgICAgICAgY29uc3QgbWFwa2V5c0xpc3QgPSBBcnJheS5mcm9tKHBvcnRhbEluZGV4TWFwLmtleXMoKSlcblxuICAgICAgICBtYXBrZXlzTGlzdC5zb3J0KChhLGIpID0+IGEgLSBiKSAvLyBhc2NlbmRpbmdcblxuICAgICAgICAvLyBjb25zdCB7IGNyYWRsZVBhcmFtZXRlcnMgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIC8vIGNvbnN0IHsgdmlydHVhbExpc3RQcm9wcyB9ID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIGNvbnN0IHsgbG93Y3VycmVudGluZGV4LCBoaWdoY3VycmVudGluZGV4IH0gPSB2aXJ0dWFsTGlzdFByb3BzXG5cbiAgICAgICAgY29uc3QgWyBsb3duZXdpbmRleCwgaGlnaG5ld2luZGV4IF0gPSBuZXdsaXN0cmFuZ2VcblxuICAgICAgICBjb25zdCBoaWdoZXN0aW5kZXggPSBtYXBrZXlzTGlzdC5hdCgtMSlcbiAgICAgICAgY29uc3QgbG93ZXN0aW5kZXggPSBtYXBrZXlzTGlzdC5hdCgwKVxuXG4gICAgICAgIGlmIChoaWdoZXN0aW5kZXggPiBoaWdobmV3aW5kZXgpIHsgLy8gcGFyZSB0aGUgY2FjaGVcblxuICAgICAgICAgICAgY29uc3QgY29tcGFyZWluZGV4ID0gaGlnaG5ld2luZGV4XG4gICAgICAgICAgICBjb25zdCBwYXJlbGlzdCA9IG1hcGtleXNMaXN0LmZpbHRlcigoaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID4gKGNvbXBhcmVpbmRleClcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuZGVsZXRlUG9ydGFsQnlJbmRleChzY3JvbGxlcklELCBwYXJlbGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG93ZXN0aW5kZXggPCBsb3duZXdpbmRleCkgeyAvLyBwYXJlIHRoZSBjYWNoZVxuXG4gICAgICAgICAgICBjb25zdCBjb21wYXJlaW5kZXggPSBsb3duZXdpbmRleFxuICAgICAgICAgICAgY29uc3QgcGFyZWxpc3QgPSBtYXBrZXlzTGlzdC5maWx0ZXIoKGluZGV4KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA8IChjb21wYXJlaW5kZXgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgcGFyZWxpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICB9XG5cbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgY2FjaGUgc2l6ZSBsaW1pdCBlbmZvcmNlZW50IF0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgbWF0Y2hDYWNoZVRvQ3JhZGxlID0gKHNjcm9sbGVySUQsIGNyYWRsZUluZGV4TGlzdCwgZGVsZXRlTGlzdENhbGxiYWNrKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbWFwa2V5cyA9IEFycmF5LmZyb20odGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXAua2V5cygpKVxuXG4gICAgICAgIGNvbnN0IGRlbGtleXMgPSBtYXBrZXlzLmZpbHRlcihrZXkgPT4gIWNyYWRsZUluZGV4TGlzdC5pbmNsdWRlcyhrZXkpKVxuXG4gICAgICAgIGlmIChkZWxrZXlzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgZGVsa2V5cywgZGVsZXRlTGlzdENhbGxiYWNrKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHBhcmVDYWNoZVRvTWF4ID0gKHNjcm9sbGVySUQsIGNhY2hlTWF4LCBjcmFkbGVJbmRleExpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGNvbnN0IG1vZGVsTGVuZ3RoID0gY3JhZGxlSW5kZXhMaXN0Lmxlbmd0aFxuXG4gICAgICAgIC8vIGRldGVybWluZSBuZWVkIGZvciBwYXJpbmdcbiAgICAgICAgaWYgKCghY2FjaGVNYXgpIHx8ICghbW9kZWxMZW5ndGgpKSByZXR1cm4gZmFsc2VcblxuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChtb2RlbExlbmd0aCwgY2FjaGVNYXgpXG5cbiAgICAgICAgY29uc3QgcG9ydGFsSW5kZXhNYXA6TWFwPG51bWJlciwgbnVtYmVyPiA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pbmRleFRvSXRlbUlETWFwLFxuICAgICAgICAgICAgcmVxdWVzdGVkU2V0OlNldDxudW1iZXI+ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLnJlcXVlc3RlZFNldFxuXG4gICAgICAgIGlmICgocG9ydGFsSW5kZXhNYXAuc2l6ZSArIHJlcXVlc3RlZFNldC5zaXplKSA8PSBtYXgpIHJldHVybiBmYWxzZVxuXG4gICAgICAgIC8vIHNvcnQgdGhlIG1hcCBrZXlzXG4gICAgICAgIGNvbnN0IG1hcGtleXNsaXN0ID0gQXJyYXkuZnJvbShwb3J0YWxJbmRleE1hcC5rZXlzKCkpLFxuICAgICAgICAgICAgcmVxdWVzdGVka2V5cyA9IEFycmF5LmZyb20ocmVxdWVzdGVkU2V0LmtleXMoKSlcblxuICAgICAgICBjb25zdCBtYXBrZXlzID0gWy4uLm1hcGtleXNsaXN0LC4uLnJlcXVlc3RlZGtleXNdXG5cbiAgICAgICAgbWFwa2V5cy5zb3J0KChhLGIpID0+IGEgLSBiKVxuXG4gICAgICAgIC8vIGdldCBudW1iZXIgdG8gcGFyZVxuICAgICAgICBjb25zdCBtYXBMZW5ndGggPSBtYXBrZXlzLmxlbmd0aCxcbiAgICAgICAgICAgIHBhcmVjb3VudCA9IG1hcExlbmd0aCAtIG1heFxuXG4gICAgICAgIC8vIGRpc3RyaWJ1dGUgcGFyaW5nIHByb3BvcnRpb25hbGx5IGF0IGZyb250IGFuZCBiYWNrXG4gICAgICAgIGNvbnN0IGhlYWRpbmRleCA9IGNyYWRsZUluZGV4TGlzdFswXSxcbiAgICAgICAgICAgIHRhaWxpbmRleCA9IGNyYWRsZUluZGV4TGlzdFttb2RlbExlbmd0aCAtIDFdLFxuICAgICAgICAgICAgaGVhZHBvcyA9IG1hcGtleXMuaW5kZXhPZihoZWFkaW5kZXgpLFxuICAgICAgICAgICAgdGFpbHBvcyA9IG1hcGtleXMuaW5kZXhPZih0YWlsaW5kZXgpXG5cbiAgICAgICAgY29uc3QgaGVhZHJvb20gPSBoZWFkcG9zLFxuICAgICAgICAgICAgdGFpbHJvb20gPSBtYXBMZW5ndGggLSAodGFpbHBvcyArIDEpLFxuICAgICAgICAgICAgcGFyZXJvb20gPSBoZWFkcm9vbSArIHRhaWxyb29tXG5cbiAgICAgICAgY29uc3QgaGVhZHBhcmVjb3VudCA9IE1hdGguZmxvb3IoKGhlYWRyb29tL3BhcmVyb29tKSpwYXJlY291bnQpLFxuICAgICAgICAgICAgdGFpbHBhcmVjb3VudCA9IHBhcmVjb3VudCAtIGhlYWRwYXJlY291bnRcblxuICAgICAgICAvLyBjb2xsZWN0IGluZGV4ZXMgdG8gcGFyZVxuICAgICAgICBjb25zdCBoZWFkbGlzdCA9IG1hcGtleXMuc2xpY2UoMCxoZWFkcGFyZWNvdW50KSxcbiAgICAgICAgICAgIHRhaWxsaXN0ID0gbWFwa2V5cy5zbGljZShtYXBMZW5ndGggLSB0YWlscGFyZWNvdW50KVxuXG4gICAgICAgIGNvbnN0IGRlbExpc3QgPSBbLi4uaGVhZGxpc3QsLi4udGFpbGxpc3RdXG5cbiAgICAgICAgdGhpcy5kZWxldGVQb3J0YWxCeUluZGV4KHNjcm9sbGVySUQsIGRlbExpc3QsIGRlbGV0ZUxpc3RDYWxsYmFjaylcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyA9IChzY3JvbGxlcklELCBjYWNoZU1heCwgY3JhZGxlTGlzdExlbmd0aCwgTUFYX0NBQ0hFX09WRVJfUlVOKSA9PiB7XG5cbiAgICAgICAgaWYgKCFjYWNoZU1heCkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgY29uc3QgeyBpbmRleFRvSXRlbUlETWFwLCByZXF1ZXN0ZWRTZXQgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KGNyYWRsZUxpc3RMZW5ndGgsIGNhY2hlTWF4KVxuXG4gICAgICAgIGlmICgoaW5kZXhUb0l0ZW1JRE1hcC5zaXplICsgcmVxdWVzdGVkU2V0LnNpemUpIDw9ICgobWF4KSAqIE1BWF9DQUNIRV9PVkVSX1JVTikpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWVcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgcHJlbG9hZCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHByaXZhdGUgcHJlbG9hZCA9IChzY3JvbGxlcklELCBmaW5hbENhbGxiYWNrLCBudWxsSXRlbVNldE1heExpc3RzaXplKSA9PiB7XG5cbiAgICAgICAgY29uc3QgeyBjcmFkbGVQYXJhbWV0ZXJzIH0gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcblxuICAgICAgICBjb25zdCB7IHNjcm9sbGVyUHJvcGVydGllc1JlZiB9ID0gY3JhZGxlUGFyYW1ldGVyc1xuXG4gICAgICAgIGNvbnN0IHsgc3RhdGVIYW5kbGVyLCBzZXJ2aWNlSGFuZGxlciB9ID0gY3JhZGxlUGFyYW1ldGVycy5oYW5kbGVyc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyA9IGNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50LFxuICAgICAgICAgICAgY3JhZGxlSW50ZXJuYWxQcm9wZXJ0aWVzID0gY3JhZGxlUGFyYW1ldGVycy5jcmFkbGVJbnRlcm5hbFByb3BlcnRpZXNSZWYuY3VycmVudFxuXG4gICAgICAgIC8vIGNvbnN0IHsgZ2V0SXRlbSwgY2FjaGVNYXggfSA9IGNyYWRsZUluaGVyaXRlZFByb3BlcnRpZXMsXG4gICAgICAgIGNvbnN0IHsgZ2V0SXRlbSB9ID0gY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllcyxcbiAgICAgICAgICAgIC8vIHtzaXplOmxpc3RzaXplLCBsb3dpbmRleCwgaGlnaGluZGV4fSA9IGNyYWRsZUludGVybmFsUHJvcGVydGllcy52aXJ0dWFsTGlzdFByb3BzXG4gICAgICAgICAgICB7bG93aW5kZXgsIGhpZ2hpbmRleH0gPSBjcmFkbGVJbnRlcm5hbFByb3BlcnRpZXMudmlydHVhbExpc3RQcm9wc1xuXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW11cblxuICAgICAgICAvLyBsZXQgY2FjaGVTaXplID0gY2FjaGVNYXggPz8gMFxuXG4gICAgICAgIC8vIGNhY2hlU2l6ZSA9IE1hdGgubWluKGNhY2hlU2l6ZSwgbGlzdHNpemUpXG5cbiAgICAgICAgLy8gY29uc3QgcHJlbG9hZHNpemUgPSBcbiAgICAgICAgLy8gICAgIGNhY2hlU2l6ZT9cbiAgICAgICAgLy8gICAgICAgICBjYWNoZVNpemU6XG4gICAgICAgIC8vICAgICAgICAgbGlzdHNpemVcblxuICAgICAgICBjb25zdCBicmVha2xvb3AgPSB7XG4gICAgICAgICAgICBjdXJyZW50OmZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXhMaXN0c2l6ZUludGVycnVwdCA9IChpbmRleCkgPT4ge1xuICAgICAgICAgICAgYnJlYWtsb29wLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgICAgICBudWxsSXRlbVNldE1heExpc3RzaXplKGluZGV4KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlSGFuZGxlci5pc01vdW50ZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBpbmRleFRvSXRlbUlETWFwID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXBcblxuICAgICAgICAgICAgY29uc3QgeyBwcmVsb2FkSW5kZXhDYWxsYmFjaywgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrIH0gPSBzZXJ2aWNlSGFuZGxlci5jYWxsYmFja3NcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSBsb3dpbmRleDsgaW5kZXggPD0gaGlnaGluZGV4OyBpbmRleCsrKSB7XG5cbiAgICAgICAgICAgICAgICBwcmVsb2FkSW5kZXhDYWxsYmFjayAmJiBwcmVsb2FkSW5kZXhDYWxsYmFjayhpbmRleClcbiAgICAgICAgICAgICAgICBpZiAoIWluZGV4VG9JdGVtSURNYXAuaGFzKGluZGV4KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnByZWxvYWRJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEl0ZW0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUV4Y2VwdGlvbkNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGlzdHNpemVJbnRlcnJ1cHRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYnJlYWtsb29wLmN1cnJlbnQpIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpLnRoZW4oXG4gICAgICAgICAgICAoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9ydGFsTGlzdHMoKVxuICAgICAgICAgICAgICAgIGZpbmFsQ2FsbGJhY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09WyBTTkFQU0hPVFMgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHByaXZhdGUgZ2V0Q2FjaGVJbmRleE1hcChzY3JvbGxlcklEKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNYXAodGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmluZGV4VG9JdGVtSURNYXApXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENyYWRsZUluZGV4TWFwKHNjcm9sbGVySUQsIGNyYWRsZUluZGV4TGlzdCkge1xuXG4gICAgICAgIGNvbnN0IGNyYWRsZU1hcCA9IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIHsgaW5kZXhUb0l0ZW1JRE1hcCB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBjcmFkbGVJbmRleExpc3QpIHtcblxuICAgICAgICAgICAgY3JhZGxlTWFwLnNldChpbmRleCwgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpKVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3JhZGxlTWFwXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENhY2hlSXRlbU1hcChzY3JvbGxlcklEKSB7XG5cbiAgICAgICAgY29uc3QgY2FjaGVsaXN0ID0gbmV3IE1hcCgpXG4gICAgICAgIGNvbnN0IHsgaXRlbVNldCB9ID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG4gICAgICAgIGNvbnN0IHsgaXRlbU1ldGFkYXRhTWFwIH0gPSB0aGlzXG5cbiAgICAgICAgLy8gZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5pdGVtTWV0YWRhdGFNYXApIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtSUQgb2YgaXRlbVNldCkge1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBpdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRClcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICB9ID0gbWV0YWRhdGFcblxuICAgICAgICAgICAgY2FjaGVsaXN0LnNldChpdGVtSUQse1xuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWNoZWxpc3RcblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBTRVJWSUNFIFNVUFBPUlQgXT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBtb3ZlIGluZGV4ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIG1vdmUgaXMgY29lcmNlZCBieSBzZXJ2aWNlaGFuZGxlciB0byBiZSB3aXRoaW4gY3VycmVudCBsaXN0IGJvdW5kc1xuICAgIHByaXZhdGUgbW92ZUluZGV4KHNjcm9sbGVySUQsIHRvbG93aW5kZXgsIGZyb21sb3dpbmRleCwgZnJvbWhpZ2hpbmRleCApIHtcblxuICAgICAgICBjb25zdCBpbmRleFRvSXRlbUlETWFwOk1hcDxudW1iZXIsIG51bWJlcj4gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaW5kZXhUb0l0ZW1JRE1hcFxuICAgICAgICBjb25zdCB7IGl0ZW1NZXRhZGF0YU1hcCB9ID0gdGhpc1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tIGRlZmluZSBwYXJhbWV0ZXJzIC0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGNvbnN0IG1vdmVibG9ja3NpemUgPSBmcm9taGlnaGluZGV4IC0gZnJvbWxvd2luZGV4ICsgMSxcbiAgICAgICAgICAgIG1vdmVpbmNyZW1lbnQgPSB0b2xvd2luZGV4IC0gZnJvbWxvd2luZGV4LFxuICAgICAgICAgICAgdG9oaWdoaW5kZXggPSB0b2xvd2luZGV4ICsgKG1vdmVibG9ja3NpemUgLSAxKVxuXG4gICAgICAgIGNvbnN0IG1vdmVkaXJlY3Rpb24gPSBcbiAgICAgICAgICAgIChtb3ZlaW5jcmVtZW50ID4gMCk/IC8vIG1vdmUgYmxvY2sgdXAgaW4gbGlzdFxuICAgICAgICAgICAgICAgICd1cCc6IC8vIHNoaWZ0IGRvd24sIG1ha2Ugcm9vbSBmb3Igc2hpZnRpbmdpbmRleCBhYm92ZVxuICAgICAgICAgICAgICAgICdkb3duJyAgIC8vIHNoaWZ0IHVwLCBtYWtlIHJvb20gZm9yIHNoaWZ0aW5naW5kZXggYmVsb3dcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0gZmluZCBib3VuZHMgb2YgZnJvbSBhbmQgdG8gYmxvY2tzIGluIGNhY2hlIC0tLS0tLS0tLS0tLS1cblxuICAgICAgICBjb25zdCBvcmRlcmVkaW5kZXhsaXN0ID0gQXJyYXkuZnJvbShpbmRleFRvSXRlbUlETWFwLmtleXMoKSkuc29ydCgoYSxiKT0+YS1iKVxuXG4gICAgICAgIGNvbnN0IHJldmVyc2VvcmRlcmVkaW5kZXhsaXN0ID0gb3JkZXJlZGluZGV4bGlzdC5zbGljZSgpLnJldmVyc2UoKVxuXG4gICAgICAgIGNvbnN0IHRvbG93aW5kZXhwdHIgPSBvcmRlcmVkaW5kZXhsaXN0LmZpbmRJbmRleCh2YWx1ZSA9PiB2YWx1ZSA+PSB0b2xvd2luZGV4KSxcbiAgICAgICAgICAgIGZyb21sb3dpbmRleHB0ciA9IG9yZGVyZWRpbmRleGxpc3QuZmluZEluZGV4KHZhbHVlID0+IHZhbHVlID49IGZyb21sb3dpbmRleClcblxuICAgICAgICBsZXQgdG9oaWdoaW5kZXhwdHIgPSByZXZlcnNlb3JkZXJlZGluZGV4bGlzdC5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPD0gdG9oaWdoaW5kZXgpLFxuICAgICAgICAgICAgZnJvbWhpZ2hpbmRleHB0ciA9IHJldmVyc2VvcmRlcmVkaW5kZXhsaXN0LmZpbmRJbmRleCh2YWx1ZSA9PiB2YWx1ZSA8PSBmcm9taGlnaGluZGV4KVxuXG4gICAgICAgIC8vIGdldCByZXF1aXJlZCBpbnZlcnNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlbGlzdGNvdW50ID0gb3JkZXJlZGluZGV4bGlzdC5sZW5ndGhcbiAgICAgICAgICAgIGlmICh0b2hpZ2hpbmRleHB0ciAhPSAtMSkgdG9oaWdoaW5kZXhwdHIgPSAoY2FjaGVsaXN0Y291bnQgLTEpIC0gdG9oaWdoaW5kZXhwdHJcbiAgICAgICAgICAgIGlmIChmcm9taGlnaGluZGV4cHRyICE9IC0xKSBmcm9taGlnaGluZGV4cHRyID0gKGNhY2hlbGlzdGNvdW50IC0xKSAtIGZyb21oaWdoaW5kZXhwdHJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gY2FwdHVyZSBpbmRleCBkYXRhIHRvIG1vdmUgLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgIGxldCBsaXN0dG9wcm9jZXNzZm9ybW92ZVxuICAgICAgICBpZiAoKGZyb21sb3dpbmRleHB0ciA9PSAtMSkgJiYgKGZyb21oaWdoaW5kZXhwdHIgPT0gLTEpKSB7IC8vIHNjb3BlIGlzIG91dCBvZiB2aWV3XG5cbiAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3Jtb3ZlID0gW11cblxuICAgICAgICB9IGVsc2UgaWYgKGZyb21oaWdoaW5kZXhwdHIgPT0gLTEpIHsgLy8gc2NvcGUgaXMgcGFydGlhbGx5IGluIHZpZXdcblxuICAgICAgICAgICAgbGlzdHRvcHJvY2Vzc2Zvcm1vdmUgPSBvcmRlcmVkaW5kZXhsaXN0LnNsaWNlKGZyb21sb3dpbmRleHB0cilcblxuICAgICAgICB9IGVsc2UgeyAvLyBzY29wZSBpcyBlbnRpcmVseSBpbiB2aWV3XG5cbiAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3Jtb3ZlID0gb3JkZXJlZGluZGV4bGlzdC5zbGljZShmcm9tbG93aW5kZXhwdHIsIGZyb21oaWdoaW5kZXhwdHIgKyAxKVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9jZXNzdG9tb3ZlTWFwID0gbmV3IE1hcCgpXG4gICAgICAgIGNvbnN0IGNhcHR1cmVtb3ZlaW5kZXhGbiA9IChpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICBwcm9jZXNzdG9tb3ZlTWFwLnNldChpbmRleCwgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpKVxuXG4gICAgICAgIH1cblxuICAgICAgICBsaXN0dG9wcm9jZXNzZm9ybW92ZS5mb3JFYWNoKGNhcHR1cmVtb3ZlaW5kZXhGbilcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tIGdldCBsaXN0IG9mIGluZGV4ZXMgdG8gc2hpZnQgb3V0IG9mIHRoZSB3YXkgLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIFxuICAgICAgICBsZXQgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlXG4gICAgICAgIGlmIChtb3ZlZGlyZWN0aW9uID09ICdkb3duJykgeyAvLyBibG9jayBpcyBtb3ZpbmcgZG93biwgc2hpZnQgaXMgdXA7IHRvaW5kZXggPCBmcm9taW5kZXhcblxuICAgICAgICAgICAgaWYgKCh0b2xvd2luZGV4cHRyID09IC0xKSAmJiAoZnJvbWxvd2luZGV4cHRyID09IC0xKSkge1xuXG4gICAgICAgICAgICAgICAgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlID0gW11cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChmcm9tbG93aW5kZXhwdHIgPT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UodG9sb3dpbmRleHB0cilcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UodG9sb3dpbmRleHB0ciwgZnJvbWxvd2luZGV4cHRyKVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHsgLy8gc2hpZnRkaXJlY3Rpb24gPT0gLTE7IGJsb2NrIGlzIG1vdmluZyB1cCwgc2hpZnQgaXMgZG93bjsgZnJvbWluZGV4IDwgdG9pbmRleFxuXG4gICAgICAgICAgICBpZiAodG9oaWdoaW5kZXhwdHIgPT0gLTEgJiYgZnJvbWhpZ2hpbmRleHB0ciA9PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlID0gW11cblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2hpZ2hpbmRleHB0ciA9PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgbGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlID0gb3JkZXJlZGluZGV4bGlzdC5zbGljZShmcm9taGlnaGluZGV4cHRyICsgMSlcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGxpc3R0b3Byb2Nlc3Nmb3JkaXNwbGFjZSA9IG9yZGVyZWRpbmRleGxpc3Quc2xpY2UoZnJvbWhpZ2hpbmRleHB0ciArIDEsIHRvaGlnaGluZGV4cHRyICsgMSlcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vdmVkaXJlY3Rpb24gPT0gJ2Rvd24nKSBsaXN0dG9wcm9jZXNzZm9yZGlzcGxhY2UucmV2ZXJzZSgpXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0gbW92ZSBpbmRleGVzIG91dCBvZiB0aGUgd2F5IC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkZGlzcGxhY2VMaXN0ID0gW11cblxuICAgICAgICBjb25zdCBwcm9jZXNzc2Rpc3BsYWNlaW5kZXhGbiA9IChpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBpdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChpbmRleClcblxuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXggPSBcbiAgICAgICAgICAgICAgICAobW92ZWRpcmVjdGlvbiA9PSAndXAnKT9cbiAgICAgICAgICAgICAgICAgICAgaW5kZXggLSBtb3ZlYmxvY2tzaXplOlxuICAgICAgICAgICAgICAgICAgICBpbmRleCArIG1vdmVibG9ja3NpemVcblxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5zZXQobmV3SW5kZXgsaXRlbUlEKVxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpLmluZGV4ID0gbmV3SW5kZXhcbiAgICAgICAgICAgIHByb2Nlc3NlZGRpc3BsYWNlTGlzdC5wdXNoKG5ld0luZGV4KVxuXG4gICAgICAgIH1cblxuICAgICAgICBsaXN0dG9wcm9jZXNzZm9yZGlzcGxhY2UuZm9yRWFjaChwcm9jZXNzc2Rpc3BsYWNlaW5kZXhGbilcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0gcmVwbGFjZSBzaGlmdGVkIGluZGV4IHNwYWNlIHdpdGggbW92ZWQgaW5kZXhlcyAtLS0tLS0tLS0tXG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkbW92ZUxpc3QgPSBbXVxuICAgICAgICBjb25zdCBwcm9jZXNzbW92ZWluZGV4Rm4gPSAoaXRlbUlELCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXggPSBpbmRleCArIG1vdmVpbmNyZW1lbnQgLy8gc3dhcFxuXG4gICAgICAgICAgICBpbmRleFRvSXRlbUlETWFwLnNldChuZXdJbmRleCwgaXRlbUlEKVxuICAgICAgICAgICAgaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpLmluZGV4ID0gbmV3SW5kZXhcbiAgICAgICAgICAgIHByb2Nlc3NlZG1vdmVMaXN0LnB1c2gobmV3SW5kZXgpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2Nlc3N0b21vdmVNYXAuZm9yRWFjaChwcm9jZXNzbW92ZWluZGV4Rm4pXG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS1yZXR1cm4gbGlzdCBvZiBwcm9jZXNzZWQgaW5kZXhlcyB0byBjYWxsZXIgLS0tLS0tLS1cbiAgICAgICAgLy8gZm9yIHN5bmNocm5pemF0aW9uIHdpdGggY3JhZGxlIGNlbGxGcmFtZXNcblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRJbmRleGVzID0gWy4uLnByb2Nlc3NlZGRpc3BsYWNlTGlzdCwuLi5wcm9jZXNzZWRtb3ZlTGlzdF0uc29ydCgoYSxiKT0+YS1iKVxuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRJbmRleGVzXG5cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBpbnNlcnQvcmVtb3ZlIGluZGV4ZXMgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gaW5zZXJ0IG9yIHJlbW92ZSBpbmRleGVzOiBtdWNoIG9mIHRoaXMgZGVhbHMgd2l0aCB0aGUgZmFjdCB0aGF0IHRoZSBjYWNoZSBpcyBzcGFyc2UuXG4gICAgcHJpdmF0ZSBpbnNlcnRSZW1vdmVJbmRleChzY3JvbGxlcklELCBpbmRleCwgaGlnaHJhbmdlLCBpbmNyZW1lbnQsIGxpc3RzaXplICkgeyAvLyBpbmNyZW1lbnQgaXMgKzEgb3IgLTFcblxuICAgICAgICAvLyBjbGFyaXR5XG4gICAgICAgIGNvbnN0IGlzSW5zZXJ0aW5nID0gKGluY3JlbWVudCA9PSAxKVxuICAgICAgICBjb25zdCBpc1JlbW92aW5nID0gKGluY3JlbWVudCA9PSAtMSlcblxuICAgICAgICBjb25zdCBlbXB0eXJldHVybiA9IFtudWxsLCBudWxsLCBbXSxbXSxbXSwgW11dIC8vIG5vIGFjdGlvbiByZXR1cm4gdmFsdWVcblxuICAgICAgICAvLyBjYWNoZSByZXNvdXJjZXNcbiAgICAgICAgY29uc3QgaW5kZXhUb0l0ZW1JRE1hcDpNYXA8bnVtYmVyLCBudW1iZXI+ICA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5pbmRleFRvSXRlbUlETWFwXG4gICAgICAgIGNvbnN0IHsgaXRlbU1ldGFkYXRhTWFwIH0gPSB0aGlzXG4gICAgICAgIGNvbnN0IG9yZGVyZWRDYWNoZUluZGV4TGlzdCA9IEFycmF5LmZyb20oaW5kZXhUb0l0ZW1JRE1hcC5rZXlzKCkpLnNvcnQoKGEsYik9PmEtYikgLy8gYXNjZW5kaW5nIG9yZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1TZXQgPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRCkuaXRlbVNldFxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0gZGVmaW5lIGNvbnRpZ3VvdXMgcmFuZ2UgcGFyYW1ldGVyczsgYWRkIHNlbnRpbmVscyAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBoaWdoIHJhbmdlIGlzIHRoZSBoaWdoZXN0IGluZGV4IG51bWJlciBvZiB0aGUgaW5zZXJ0L3JlbW92ZSByYW5nZVxuICAgICAgICBsZXQgaGlnaHJhbmdlaW5kZXggPSBoaWdocmFuZ2VcbiAgICAgICAgbGV0IGxvd3JhbmdlaW5kZXggPSBpbmRleCAvLyBzZW1hbnRpY3MgLSBuYW1lIHN5bW1ldHJ5XG5cbiAgICAgICAgaWYgKGlzUmVtb3ZpbmcpIHtcblxuICAgICAgICAgICAgLy8gcmVtb3ZhbCBtdXN0IGJlIGVudGlyZWx5IHdpdGhpbiBzY29wZSBvZiB0aGUgbGlzdFxuICAgICAgICAgICAgaWYgKGhpZ2hyYW5nZWluZGV4ID4gKGxpc3RzaXplIC0gMSkpIHtcblxuICAgICAgICAgICAgICAgIGhpZ2hyYW5nZWluZGV4ID0gKGxpc3RzaXplIC0gMSlcbiAgICAgICAgICAgICAgICBpZiAoaGlnaHJhbmdlaW5kZXggPCBsb3dyYW5nZWluZGV4KSByZXR1cm4gZW1wdHlyZXR1cm5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIGlzSW5zZXJ0aW5nXG5cbiAgICAgICAgICAgIC8vIGFkZGl0aW9uIGNhbiBhdCBtb3N0IHN0YXJ0IGF0IHRoZSBuZXh0IGxvd3JhbmdlaW5kZXggYWJvdmUgdGhlIGN1cnJlbnQgbGlzdDsgYWthIGFwcGVuZFxuICAgICAgICAgICAgaWYgKGxvd3JhbmdlaW5kZXggPiBsaXN0c2l6ZSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IGxvd3JhbmdlaW5kZXggLSBsaXN0c2l6ZVxuICAgICAgICAgICAgICAgIGxvd3JhbmdlaW5kZXggLT0gZGlmZlxuICAgICAgICAgICAgICAgIGhpZ2hyYW5nZWluZGV4IC09IGRpZmZcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyByYW5nZWNvdW50IGlzIHRoZSBhYnNvbHV0ZSBudW1iZXIgaW4gdGhlIGluc2VydC9yZW1vdmUgY29udGlndW91cyByYW5nZVxuICAgICAgICBjb25zdCByYW5nZWNvdW50ID0gaGlnaHJhbmdlaW5kZXggLSBsb3dyYW5nZWluZGV4ICsgMVxuXG4gICAgICAgIC8vIHJhbmdlIGluY3JlbWVudCBhZGRzIHNpZ24gdG8gcmFuZ2Vjb3VudCB0byBpbmRpY2F0ZSBhZGQvcmVtb3ZlXG4gICAgICAgIGNvbnN0IHJhbmdlaW5jcmVtZW50ID0gcmFuZ2Vjb3VudCAqIGluY3JlbWVudFxuICAgICAgICBjb25zdCBzdGFydENoYW5nZUluZGV4ID0gXG4gICAgICAgICAgICAoaW5jcmVtZW50ID09IDEpP1xuICAgICAgICAgICAgICAgIGxvd3JhbmdlaW5kZXg6XG4gICAgICAgICAgICAgICAgaGlnaHJhbmdlaW5kZXggKyAocmFuZ2VpbmNyZW1lbnQgKyAxKVxuXG4gICAgICAgIGxldCB0b1NoaWZ0U3RhcnRJbmRleCAvLyBzdGFydCBvZiBpbmRleGVzIHRvIHNoaWZ0IHVwIChpbnNlcnQpIG9yIGRvd24gKHJlbW92ZSlcbiAgICAgICAgaWYgKGlzSW5zZXJ0aW5nKSB7XG4gICAgICAgICAgICB0b1NoaWZ0U3RhcnRJbmRleCA9IGxvd3JhbmdlaW5kZXhcbiAgICAgICAgfSBlbHNlIHsgLy8gaXNSZW1vdmluZ1xuICAgICAgICAgICAgdG9TaGlmdFN0YXJ0SW5kZXggPSBoaWdocmFuZ2VpbmRleCArIDFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0gZGVmaW5lIHJhbmdlIGJvdW5kYXJpZXMgd2l0aGluIG9yZGVyZWQgY2FjaGUgaW5kZXggbGlzdCAtLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyBvYnRhaW4gc3RhcnB0ciBmb3IgaW5kZXhlcyB0byBzaGlmdFxuICAgICAgICBjb25zdCB0b1NoaWZ0U3RhcnRDYWNoZVB0ciA9IG9yZGVyZWRDYWNoZUluZGV4TGlzdC5maW5kSW5kZXgodmFsdWUgPT4ge1xuXG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlID49IHRvU2hpZnRTdGFydEluZGV4KVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gb2J0YWluIGxvd0NhY2hlUmFuZ2VQdHIuLi5cbiAgICAgICAgY29uc3QgbG93Q2FjaGVSYW5nZVB0ciA9IG9yZGVyZWRDYWNoZUluZGV4TGlzdC5maW5kSW5kZXgodmFsdWUgPT4ge1xuXG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlID49IGxvd3JhbmdlaW5kZXgpICYmICh2YWx1ZSA8PSBoaWdocmFuZ2VpbmRleClcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIG9idGFpbiBoaWdoQ2FjaGVSYW5nZVB0ci4uLlxuICAgICAgICBjb25zdCByZXZlcnNlQ2FjaGVJbmRleExpc3QgPSBBcnJheS5mcm9tKG9yZGVyZWRDYWNoZUluZGV4TGlzdCkucmV2ZXJzZSgpXG4gICAgICAgIGxldCBoaWdoQ2FjaGVSYW5nZVB0ciA9IHJldmVyc2VDYWNoZUluZGV4TGlzdC5maW5kSW5kZXgodmFsdWU9PiB7XG5cbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgPD0gaGlnaHJhbmdlaW5kZXgpICYmICh2YWx1ZSA+PSBsb3dyYW5nZWluZGV4KVxuXG4gICAgICAgIH0pXG4gICAgICAgIC8vIHRha2UgaW52ZXJzZSBvZiBoaWdoQ2FjaGVSYW5nZVB0ciBmb3Igbm9uLXJldmVyc2Ugc29ydFxuICAgICAgICBpZiAoaGlnaENhY2hlUmFuZ2VQdHIgIT0gLTEpIHtcblxuICAgICAgICAgICAgaGlnaENhY2hlUmFuZ2VQdHIgPSAob3JkZXJlZENhY2hlSW5kZXhMaXN0Lmxlbmd0aCAtIDEpIC0gaGlnaENhY2hlUmFuZ2VQdHJcbiAgICAgICAgICAgIGlmIChoaWdoQ2FjaGVSYW5nZVB0ciA8IGxvd0NhY2hlUmFuZ2VQdHIpIGhpZ2hDYWNoZVJhbmdlUHRyID0gLTFcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0gaXNvbGF0ZSBpbmRleCByYW5nZSBsaXN0IGFuZCBzaGlmdCBsaXN0IC0tLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNhY2hlIGlucHV0c1xuICAgICAgICBsZXQgY2FjaGVSYW5nZUluZGV4ZXNMaXN0LCAvLyBmb3IgZWl0aGVyIGluc2VydCBvciByZW1vdmVcbiAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0IC8vIGZvciBlaXRoZXIgaW5zZXJ0IG9yIHJlbW92ZVxuXG4gICAgICAgIC8vIGdldCBpbnB1dHNcbiAgICAgICAgaWYgKGxvd0NhY2hlUmFuZ2VQdHIgPT0gLTEpIHsgLy8gY29yZSBzY29wZSBpcyBvdXQgb2Ygdmlld1xuXG4gICAgICAgICAgICBjYWNoZVJhbmdlSW5kZXhlc0xpc3QgPSBbXVxuICAgICAgICAgICAgY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QgPSBbXVxuXG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaENhY2hlUmFuZ2VQdHIgPT0gLTEpIHsgLy8gY29yZSBzY29wZSBpcyBwYXJ0aWFsbHkgaW4gdmlldzsgbG93Q2FjaGVSYW5nZVB0ciBpcyBhdmFpbGFibGVcblxuICAgICAgICAgICAgLy8gYWxsIGl0ZW1zIGFib3ZlIGxvd0NhY2hlUmFuZ2VQdHIgbXVzdCBoYXZlIGluZGV4ZXMgcmVzZXRcbiAgICAgICAgICAgIGNhY2hlUmFuZ2VJbmRleGVzTGlzdCA9IG9yZGVyZWRDYWNoZUluZGV4TGlzdC5zbGljZShsb3dDYWNoZVJhbmdlUHRyKVxuXG4gICAgICAgICAgICBpZiAoaXNJbnNlcnRpbmcpIHtcblxuICAgICAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gY2FjaGVSYW5nZUluZGV4ZXNMaXN0LnNsaWNlKClcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmICh0b1NoaWZ0U3RhcnRDYWNoZVB0ciA9PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gW11cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3Quc2xpY2UodG9TaGlmdFN0YXJ0Q2FjaGVQdHIpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7IC8vIHJhbmdlIGZ1bGx5IGluIHZpZXdcblxuICAgICAgICAgICAgY2FjaGVSYW5nZUluZGV4ZXNMaXN0ID0gb3JkZXJlZENhY2hlSW5kZXhMaXN0LnNsaWNlKGxvd0NhY2hlUmFuZ2VQdHIsIGhpZ2hDYWNoZVJhbmdlUHRyICsgMSlcblxuICAgICAgICAgICAgaWYgKGlzSW5zZXJ0aW5nKSB7XG5cbiAgICAgICAgICAgICAgICBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdCA9IG9yZGVyZWRDYWNoZUluZGV4TGlzdC5zbGljZSh0b1NoaWZ0U3RhcnRDYWNoZVB0cilcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGlmICh0b1NoaWZ0U3RhcnRDYWNoZVB0ciA9PSAtMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0ID0gW11cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QgPSBvcmRlcmVkQ2FjaGVJbmRleExpc3Quc2xpY2UodG9TaGlmdFN0YXJ0Q2FjaGVQdHIpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0gbGlzdCBjYWNoZSBpbmRleGVzIGFuZCBpdGVtcyB0byByZXBsYWNlIG9yIHJlbW92ZSAtLS0tLS0tLS0tLVxuXG4gICAgICAgIC8vIGNhY2hlIG91dHB1dHNcbiAgICAgICAgLy8gZm9yIGluc2VydCwgdGhlIHJhbmdlIGJlaW5nIGluc2VydGVkOyBmb3IgcmVtb3ZlLCBhbnkgdGFpbCBjcmFkbGUgaXRlbXMgYWJhbmRvbmVkXG4gICAgICAgIGxldCBjYWNoZUluZGV4ZXNUb1JlcGxhY2VMaXN0ID0gW10sIC8vIGZvciBpbnNlcnQsIHRoZSByYW5nZSBiZWluZyBpbnNlcnRlZFxuICAgICAgICAgICAgY2FjaGVJbmRleGVzVG9SZW1vdmVMaXN0ID0gW10sIC8vIGZvciByZW1vdmUsIHRoZSByYW5nZSBiZWluZyByZW1vdmVkXG4gICAgICAgICAgICBjYWNoZUl0ZW1zVG9SZW1vdmVMaXN0ID0gW10gLy8gZm9yIHJlbW92ZSwgZGVyaXZlZCBmcm9tIHRoZSBwcmV2aW91c1xuXG4gICAgICAgIGlmIChpc0luc2VydGluZykge1xuXG4gICAgICAgICAgICBjYWNoZUluZGV4ZXNUb1JlcGxhY2VMaXN0ID0gY2FjaGVSYW5nZUluZGV4ZXNMaXN0XG5cbiAgICAgICAgfSBlbHNlIHsgLy8gaXNSZW1vdmluZ1xuXG4gICAgICAgICAgICBjYWNoZUluZGV4ZXNUb1JlbW92ZUxpc3QgPSBjYWNoZVJhbmdlSW5kZXhlc0xpc3RcblxuICAgICAgICAgICAgLy8gZ2V0IGNhY2hlSXRlbXNUb1JlbW92ZUxpc3RcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgY2FjaGVJbmRleGVzVG9SZW1vdmVMaXN0KSB7XG5cbiAgICAgICAgICAgICAgICBjYWNoZUl0ZW1zVG9SZW1vdmVMaXN0LnB1c2goaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpKVxuICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tIGNvbmR1Y3QgY2FjaGUgb3BlcmF0aW9uczsgY2FwdHVyZSBsaXN0IG9mIHNoaWZ0ZWQgaW5kZXhlcyAtLS0tLS0tLS0tXG5cbiAgICAgICAgLy8gaW5jcmVtZW50IGhpZ2hlciBmcm9tIHRvcCBvZiBsaXN0IHRvIHByZXNlcnZlIGxvd2VyIHZhbHVlcyBmb3Igc3Vic2VxdWVudCBpbmNyZW1lbnRcbiAgICAgICAgaWYgKGlzSW5zZXJ0aW5nKSBjYWNoZVRvU2hpZnRJbmRleGVzTGlzdC5yZXZlcnNlKCkgXG5cbiAgICAgICAgY29uc3QgY2FjaGVJbmRleGVzU2hpZnRlZExpc3QgPSBbXSAvLyB0cmFjayBzaGlmdGVkIGluZGV4ZXNcbiAgICAgICAgY29uc3QgY2FjaGVJbmRleGVzVHJhbnNmZXJyZWRTZXQ6U2V0PG51bWJlcj4gPSBuZXcgU2V0KCkgLy8gb2J0YWluIGxpc3Qgb2Ygb3JwaGFuZWQgaW5kZXhlc1xuXG4gICAgICAgIC8vIGZ1bmN0aW9uIG1vZGlmeSBpbmRleC10by1pdGVtaWQgbWFwLCBhbmQgbWV0YWRhdGEgbWFwLCBmb3IgaW5kZXggc2hpZnRzXG4gICAgICAgIGNvbnN0IHByb2Nlc3NJbmRleEZuID0gaW5kZXggPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBpdGVtSUQgPSBpbmRleFRvSXRlbUlETWFwLmdldChpbmRleClcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4ID0gaW5kZXggKyByYW5nZWluY3JlbWVudFxuXG4gICAgICAgICAgICBpZiAoaXNSZW1vdmluZykge1xuICAgICAgICAgICAgICAgIGNhY2hlSW5kZXhlc1RyYW5zZmVycmVkU2V0LmFkZChpbmRleClcbiAgICAgICAgICAgICAgICBjYWNoZUluZGV4ZXNUcmFuc2ZlcnJlZFNldC5kZWxldGUobmV3SW5kZXgpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuc2V0KG5ld0luZGV4LCBpdGVtSUQpXG4gICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuZ2V0KGl0ZW1JRCkuaW5kZXggPSBuZXdJbmRleFxuICAgICAgICAgICAgY2FjaGVJbmRleGVzU2hpZnRlZExpc3QucHVzaChuZXdJbmRleClcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2FsayB0aHJvdWdoIGl0ZW1zIHRvIHNoaWZ0XG4gICAgICAgIGNhY2hlVG9TaGlmdEluZGV4ZXNMaXN0LmZvckVhY2gocHJvY2Vzc0luZGV4Rm4pXG5cbiAgICAgICAgLy8gZGVsZXRlIHJlbWFpbmluZyBpbmRleGVzIGFuZCBpdGVtcyBub3cgZHVwbGljYXRlczsgdHJhY2sgcG9ydGFsIGRhdGEgdG8gcmVtb3ZlIGFmdGVyIGNyYWRsZSB1cGRhdGVkXG5cbiAgICAgICAgY29uc3QgcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ID0gW10gLy8gaG9sZCBwb3J0YWxzIGZvciBkZWxldGlvbiB1bnRpbCBhZnRlciBhZnRlciBjcmFkbGUgc3luY2hcbiAgICAgICAgbGV0IGNhY2hlSW5kZXhlc1JlbW92ZWRMaXN0ID0gW11cblxuICAgICAgICBpZiAoaXNJbnNlcnRpbmcpIHtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBjYWNoZUluZGV4ZXNUb1JlcGxhY2VMaXN0KSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5kZWxldGUoaW5kZXgpXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgeyAvLyBpc1JlbW92aW5nXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbUlEIG9mIGNhY2hlSXRlbXNUb1JlbW92ZUxpc3QpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFydGl0aW9uSUQgfSA9IGl0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuICAgICAgICAgICAgICAgIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdC5wdXNoKHtpdGVtSUQsIHBhcnRpdGlvbklEfSlcbiAgICAgICAgICAgICAgICBpdGVtTWV0YWRhdGFNYXAuZGVsZXRlKGl0ZW1JRClcbiAgICAgICAgICAgICAgICBpdGVtU2V0LmRlbGV0ZShpdGVtSUQpXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWJhbmRvbmVkIGluZGV4ZXMgZnJvbSByZW1vdmUgcHJvY2Vzc1xuICAgICAgICAgICAgY29uc3Qgb3JwaGFuZWRJbmRleGVzVHJhbnNmZXJyZWRMaXN0ID0gQXJyYXkuZnJvbShjYWNoZUluZGV4ZXNUcmFuc2ZlcnJlZFNldClcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBvcnBoYW5lZEluZGV4ZXNUcmFuc2ZlcnJlZExpc3QpIHtcblxuICAgICAgICAgICAgICAgIGluZGV4VG9JdGVtSURNYXAuZGVsZXRlKGluZGV4KVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSW5kZXhlc1JlbW92ZWRMaXN0ID0gY2FjaGVJbmRleGVzVG9SZW1vdmVMaXN0LmNvbmNhdChvcnBoYW5lZEluZGV4ZXNUcmFuc2ZlcnJlZExpc3QpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0luc2VydGluZykgY2FjaGVJbmRleGVzU2hpZnRlZExpc3QucmV2ZXJzZSgpIC8vIHJldHVybiB0byBhc2NlbmRpbmcgb3JkZXJcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0gcmV0dXJucyAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAvLyByZXR1cm4gdmFsdWVzIGZvciBjYWxsZXIgdG8gc2VuZCB0byBjb250ZW50aGFuZGxlciBmb3IgY3JhZGxlIHN5bmNocm9uaXphdGlvblxuICAgICAgICByZXR1cm4gW3N0YXJ0Q2hhbmdlSW5kZXgsIHJhbmdlaW5jcmVtZW50LCBjYWNoZUluZGV4ZXNTaGlmdGVkTGlzdCwgY2FjaGVJbmRleGVzUmVtb3ZlZExpc3QsIGNhY2hlSW5kZXhlc1RvUmVwbGFjZUxpc3QsIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdF1cblxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09WyBJTkRJVklEVUFMIFBPUlRBTCBNQU5BR0VNRU5UIF09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyB1c2VkIGZvciBzaXplIGNhbGN1bGF0aW9uIGluIHBhcmVDYWNoZVRvTWF4XG4gICAgLy8gcmVnaXN0ZXJzIGluZGV4ZXMgd2hlbiByZXF1ZXN0ZWQgYnV0IGJlZm9yZSByZXRyaWV2ZWQgYW5kIGVudGVyZWQgaW50byBjYWNoZVxuICAgIHByaXZhdGUgcmVnaXN0ZXJQZW5kaW5nUG9ydGFsKHNjcm9sbGVySUQsIGluZGV4KSB7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLnJlcXVlc3RlZFNldC5hZGQoaW5kZXgpXG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHVucmVnaXN0ZXJQZW5kaW5nUG9ydGFsKHNjcm9sbGVySUQsIGluZGV4KSB7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsZXJEYXRhTWFwID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgaWYgKHNjcm9sbGVyRGF0YU1hcCkgeyAvLyBvdGhlcndpc2Ugc2Nyb2xsZXIgaGFzIGJlZW4gZGVsZXRlZFxuICAgICAgICAgICAgc2Nyb2xsZXJEYXRhTWFwLnJlcXVlc3RlZFNldC5kZWxldGUoaW5kZXgpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TmV3SXRlbUlEKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbEl0ZW1JRCsrXG5cbiAgICB9XG5cbiAgICAvLyBnZXQgbmV3IG9yIGV4aXN0aW5nIGl0ZW1JRCBmb3IgY29udGVudGZ1bmN0aW9ucy5jcmVhdGVDZWxsRnJhbWVcbiAgICBwcml2YXRlIGdldE5ld09yRXhpc3RpbmdJdGVtSUQoc2Nyb2xsZXJJRCwgaW5kZXgpIHtcblxuICAgICAgICBjb25zdCB7IGluZGV4VG9JdGVtSURNYXAgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGNvbnN0IGl0ZW1JRCA9IFxuICAgICAgICAgICAgKGluZGV4VG9JdGVtSURNYXAuaGFzKGluZGV4KSk/XG4gICAgICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpOlxuICAgICAgICAgICAgICAgICh0aGlzLmdldE5ld0l0ZW1JRCgpKVxuXG4gICAgICAgIHJldHVybiBpdGVtSURcblxuICAgIH1cblxuICAgICAvLyBjcmVhdGUgbmV3IHBvcnRhbFxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlUG9ydGFsKHNjcm9sbGVySUQsIGNvbXBvbmVudCwgaW5kZXgsIGl0ZW1JRCwgc2Nyb2xsZXJQcm9wZXJ0aWVzLCBpc1ByZWxvYWQgPSBmYWxzZSkge1xuXG4gICAgICAgIHRoaXMudW5yZWdpc3RlclBlbmRpbmdQb3J0YWwoc2Nyb2xsZXJJRCwgaW5kZXgpXG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsZXJEYXRhTWFwID0gdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpXG5cbiAgICAgICAgaWYgKCFzY3JvbGxlckRhdGFNYXApIHJldHVybiBudWxsXG5cbiAgICAgICAgLy8gY29uc3QgeyBsYXlvdXQsIGNlbGxIZWlnaHQsIGNlbGxXaWR0aCwgb3JpZW50YXRpb24gfSA9IFxuICAgICAgICAvLyAgICAgdGhpcy5zY3JvbGxlckRhdGFNYXAuZ2V0KHNjcm9sbGVySUQpLmNyYWRsZVBhcmFtZXRlcnMuY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZi5jdXJyZW50XG5cbiAgICAgICAgY29uc3QgcG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUoaW5kZXgsIGl0ZW1JRClcblxuICAgICAgICBjb25zdCBwYXJ0aXRpb25JRCA9IGF3YWl0IHRoaXMuZmluZFBhcnRpdGlvbldpdGhSb29tKClcblxuICAgICAgICBjb25zdCBwb3J0YWwgPSBcbiAgICAgICAgICAgIDxkaXYgZGF0YS10eXBlID0gJ3BvcnRhbHdyYXBwZXInIGtleSA9IHtpdGVtSUR9IGRhdGEtaXRlbWlkID0ge2l0ZW1JRH0gZGF0YS1pbmRleCA9IHtpbmRleH0+XG4gICAgICAgICAgICAgICAgPEluUG9ydGFsIGtleSA9IHtpdGVtSUR9IG5vZGUgPSB7cG9ydGFsTm9kZX0gPiB7IGNvbXBvbmVudCB9IDwvSW5Qb3J0YWw+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICB0aGlzLmFkZFBhcnRpdGlvblBvcnRhbChwYXJ0aXRpb25JRCwgaXRlbUlELCBwb3J0YWwpXG5cbiAgICAgICAgY29uc3QgcG9ydGFsTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBwb3J0YWxOb2RlLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpdGVtSUQsXG4gICAgICAgICAgICBzY3JvbGxlcklELFxuICAgICAgICAgICAgc2Nyb2xsZXJQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgcGFydGl0aW9uSUQsXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLml0ZW1NZXRhZGF0YU1hcC5zZXQoaXRlbUlELCBwb3J0YWxNZXRhZGF0YSlcbiAgICAgICAgc2Nyb2xsZXJEYXRhTWFwLml0ZW1TZXQuYWRkKGl0ZW1JRClcbiAgICAgICAgc2Nyb2xsZXJEYXRhTWFwLmluZGV4VG9JdGVtSURNYXAuc2V0KGluZGV4LCBpdGVtSUQpXG5cbiAgICAgICAgaWYgKCFpc1ByZWxvYWQpIHRoaXMucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG4gICAgICAgIHJldHVybiBwb3J0YWxNZXRhZGF0YVxuXG4gICAgfVxuXG4gICAgLy8gdXNlZCBmb3IgcHJlbG9hZGluZyBuZXcgaXRlbVxuICAgIHByaXZhdGUgYXN5bmMgcHJlbG9hZEl0ZW0oXG4gICAgICAgIHNjcm9sbGVySUQsXG4gICAgICAgIGluZGV4LCBcbiAgICAgICAgZ2V0SXRlbSwgXG4gICAgICAgIHNjcm9sbGVyUHJvcGVydGllc1JlZiwgXG4gICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayxcbiAgICAgICAgbWF4TGlzdHNpemVJbnRlcnJ1cHRcbiAgICApIHtcblxuICAgICAgICBjb25zdCBpdGVtSUQgPSB0aGlzLmdldE5ld0l0ZW1JRCgpXG5cbiAgICAgICAgbGV0IHJldHVybnZhbHVlLCB1c2VyY29udGVudCwgZXJyb3JcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICB1c2VyY29udGVudCA9IGF3YWl0IGdldEl0ZW0oaW5kZXgsIGl0ZW1JRClcbiAgICAgICAgICAgIGlmICh1c2VyY29udGVudCA9PT0gbnVsbCkgcmV0dXJudmFsdWUgPSB1c2VyY29udGVudFxuXG4gICAgICAgIH0gY2F0Y2goZSkge1xuXG4gICAgICAgICAgICByZXR1cm52YWx1ZSA9IHVzZXJjb250ZW50ID0gdW5kZWZpbmVkXG4gICAgICAgICAgICBlcnJvciA9IGVcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh1c2VyY29udGVudCAhPT0gbnVsbCkgJiYgKHVzZXJjb250ZW50ICE9PSB1bmRlZmluZWQpKSB7XG5cbiAgICAgICAgICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQodXNlcmNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJudmFsdWUgPSB1c2VyY29udGVudFxuICAgICAgICAgICAgICAgIHVzZXJjb250ZW50ID0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ2ludmFsaWQgUmVhY3QgZWxlbWVudCcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodXNlcmNvbnRlbnQgIT09IG51bGwpICYmICh1c2VyY29udGVudCAhPT0gdW5kZWZpbmVkKSkge1xuXG4gICAgICAgICAgICBsZXQgY29udGVudCBcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbGVyUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxlclByb3BlcnRpZXNSZWYsXG4gICAgICAgICAgICAgICAgY2VsbEZyYW1lUHJvcGVydGllc1JlZjp7Y3VycmVudDp7aW5kZXgsaXRlbUlEfX1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyY29udGVudC5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnc2Nyb2xsZXJQcm9wZXJ0aWVzJykpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gUmVhY3QuY2xvbmVFbGVtZW50KHVzZXJjb250ZW50LCB7c2Nyb2xsZXJQcm9wZXJ0aWVzfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IHVzZXJjb250ZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IHBvcnRhbERhdGEgPSBcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZVBvcnRhbChzY3JvbGxlcklELGNvbnRlbnQsIGluZGV4LCBpdGVtSUQsIHNjcm9sbGVyUHJvcGVydGllcywgdHJ1ZSkgLy8gdHJ1ZSA9IGlzUHJlbG9hZFxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICh1c2VyY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2sgJiYgXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayhpbmRleCwgaXRlbUlELCByZXR1cm52YWx1ZSwgJ3ByZWxvYWQnLCBlcnJvcilcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gdXNlcmNvbnRlbnQgPT09IG51bGw7IGxhc3QgaXRlbSBpbiBsaXN0XG5cbiAgICAgICAgICAgICAgICBpdGVtRXhjZXB0aW9uQ2FsbGJhY2sgJiYgXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1FeGNlcHRpb25DYWxsYmFjayhpbmRleCwgaXRlbUlELCByZXR1cm52YWx1ZSwgJ3ByZWxvYWQnLCBuZXcgRXJyb3IoJ2VuZCBvZiBsaXN0JykpXG5cbiAgICAgICAgICAgICAgICBtYXhMaXN0c2l6ZUludGVycnVwdChpbmRleClcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIGRlbGV0ZSBhIHBvcnRhbCBsaXN0IGl0ZW1cbiAgICAvLyBhY2NlcHRzIGFuIGFycmF5IG9mIGluZGV4ZXNcbiAgICBwcml2YXRlIGRlbGV0ZVBvcnRhbEJ5SW5kZXgoc2Nyb2xsZXJJRCwgaW5kZXgsIGRlbGV0ZUxpc3RDYWxsYmFjaykge1xuXG4gICAgICAgIGNvbnN0IGluZGV4QXJyYXkgPSBcbiAgICAgICAgICAgICghQXJyYXkuaXNBcnJheShpbmRleCkpP1xuICAgICAgICAgICAgICAgIFtpbmRleF06XG4gICAgICAgICAgICAgICAgaW5kZXhcblxuICAgICAgICBjb25zdCB7IGluZGV4VG9JdGVtSURNYXAsIGl0ZW1TZXQgfSA9IHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKVxuXG4gICAgICAgIGNvbnN0IHsgaXRlbU1ldGFkYXRhTWFwIH0gPSB0aGlzXG5cbiAgICAgICAgY29uc3QgeyByZW1vdmVQYXJ0aXRpb25Qb3J0YWwgfSA9IHRoaXNcblxuICAgICAgICBjb25zdCBkZWxldGVMaXN0ID0gW11cblxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGluZGV4QXJyYXkpIHtcblxuICAgICAgICAgICAgY29uc3QgaXRlbUlEID0gaW5kZXhUb0l0ZW1JRE1hcC5nZXQoaW5kZXgpXG5cbiAgICAgICAgICAgIGlmIChpdGVtSUQgPT09IHVuZGVmaW5lZCkgY29udGludWUgLy8gYXN5bmMgbWlzbWF0Y2hcblxuICAgICAgICAgICAgZGVsZXRlTGlzdC5wdXNoKHtpbmRleCxpdGVtSUR9KVxuICAgICAgICAgICAgY29uc3QgeyBwYXJ0aXRpb25JRCB9ID0gaXRlbU1ldGFkYXRhTWFwLmdldChpdGVtSUQpXG5cbiAgICAgICAgICAgIHJlbW92ZVBhcnRpdGlvblBvcnRhbChwYXJ0aXRpb25JRCxpdGVtSUQpXG5cbiAgICAgICAgICAgIGl0ZW1NZXRhZGF0YU1hcC5kZWxldGUoaXRlbUlEKVxuICAgICAgICAgICAgaXRlbVNldC5kZWxldGUoaXRlbUlEKVxuICAgICAgICAgICAgaW5kZXhUb0l0ZW1JRE1hcC5kZWxldGUoaW5kZXgpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZUxpc3RDYWxsYmFjayAmJiBkZWxldGVMaXN0Q2FsbGJhY2soZGVsZXRlTGlzdClcblxuICAgIH1cblxuICAgIHByaXZhdGUgYXBwbHlQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QgPSAoc2Nyb2xsZXJJRCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHsgcG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0IH0gPSB0aGlzLnNjcm9sbGVyRGF0YU1hcC5nZXQoc2Nyb2xsZXJJRClcblxuICAgICAgICBpZiAocG9ydGFsUGFydGl0aW9uSXRlbXNGb3JEZWxldGVMaXN0ICYmIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQYXJ0aXRpb25Qb3J0YWwoaXRlbS5wYXJ0aXRpb25JRCwgaXRlbS5pdGVtSUQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhTWFwLmdldChzY3JvbGxlcklEKS5wb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QgPSBbXSAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyUG9ydGFsTGlzdHMoKVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHF1ZXJ5IGV4aXN0ZW5jZSBvZiBhIHBvcnRhbCBsaXN0IGl0ZW1cbiAgICBwcml2YXRlIGhhc1BvcnRhbChpdGVtSUQpIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtTWV0YWRhdGFNYXAuaGFzKGl0ZW1JRClcblxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UG9ydGFsTWV0YWRhdGEoaXRlbUlEKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzUG9ydGFsKGl0ZW1JRCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1NZXRhZGF0YU1hcC5nZXQoaXRlbUlEKVxuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1bIFV0aWxpdHkgZnVuY3Rpb24gXT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gZ2V0IGEgcmVhY3QtcmV2ZXJzZS1wb3J0YWwgSW5Qb3J0YWwgY29tcG9uZW50LCB3aXRoIGl0cyBtZXRhZGF0YVxuLy8gd2l0aCB1c2VyIGNvbnRlbnQgYW5kIGNvbnRhaW5lclxuLy8gc2VlIGFsc28gc29tZSBzdHlsZXMgc2V0IGluIENlbGxGcmFtZVxuXG5jb25zdCBjcmVhdGVQb3J0YWxOb2RlID0gKGluZGV4LCBpdGVtSUQpID0+IHtcblxuICAgIGNvbnN0IHBvcnRhbE5vZGUgPSBjcmVhdGVIdG1sUG9ydGFsTm9kZSgpXG5cbiAgICBjb25zdCBjb250YWluZXIgPSBwb3J0YWxOb2RlLmVsZW1lbnRcbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuXG4gICAgY29udGFpbmVyLmRhdGFzZXQudHlwZSA9ICdjb250ZW50ZW52ZWxvcGUnXG4gICAgY29udGFpbmVyLmRhdGFzZXQuaW5kZXggPSBpbmRleFxuICAgIGNvbnRhaW5lci5kYXRhc2V0LmNhY2hlaXRlbWlkID0gaXRlbUlEXG5cbiAgICByZXR1cm4gcG9ydGFsTm9kZVxuXG59ICAgICBcbiJdLCJuYW1lcyI6WyJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiZSIsInQiLCJyIiwiT2JqZWN0IiwibiIsImhhc093blByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImkiLCJhIiwiYyIsImFzeW5jSXRlcmF0b3IiLCJ1IiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ3cmFwIiwiR2VuZXJhdG9yIiwiY3JlYXRlIiwiQ29udGV4dCIsIm1ha2VJbnZva2VNZXRob2QiLCJ0cnlDYXRjaCIsInR5cGUiLCJhcmciLCJjYWxsIiwiaCIsImwiLCJmIiwicyIsInkiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwicCIsImQiLCJnZXRQcm90b3R5cGVPZiIsInYiLCJ2YWx1ZXMiLCJnIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiaW52b2tlIiwicmVzb2x2ZSIsIl9fYXdhaXQiLCJ0aGVuIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJFcnJvciIsImRvbmUiLCJtZXRob2QiLCJkZWxlZ2F0ZSIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsIlR5cGVFcnJvciIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXNOYU4iLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJrZXlzIiwicmV2ZXJzZSIsInBvcCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJydmFsIiwiaGFuZGxlIiwiY29tcGxldGUiLCJmaW5pc2giLCJfY2F0Y2giLCJkZWxlZ2F0ZVlpZWxkIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJhbGxvd0FycmF5TGlrZSIsIml0IiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiRiIsIl9lIiwibm9ybWFsQ29tcGxldGlvbiIsImRpZEVyciIsImVyciIsInN0ZXAiLCJfZTIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiaXRlciIsImZyb20iLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX25vbkl0ZXJhYmxlUmVzdCIsIm1pbkxlbiIsInRvU3RyaW5nIiwidGVzdCIsImxlbiIsImFycjIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIk51bWJlciIsInJlYWN0XzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZXF1aXJlIiwicmVhY3RfcmV2ZXJzZV9wb3J0YWxfMSIsIkNhY2hlUGFydGl0aW9uXzEiLCJDYWNoZUFQSSIsIkNBQ0hFX1BBUlRJVElPTl9TSVpFIiwiX3RoaXMiLCJnbG9iYWxJdGVtSUQiLCJnbG9iYWxQYXJ0aXRpb25JRCIsIml0ZW1NZXRhZGF0YU1hcCIsIk1hcCIsInNjcm9sbGVyRGF0YU1hcCIsInBhcnRpdGlvblByb3BzIiwicGFydGl0aW9uTWV0YWRhdGFNYXAiLCJwYXJ0aXRpb25NYXAiLCJwYXJ0aXRpb25SZW5kZXJMaXN0IiwicGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlIiwicGFydGl0aW9uTW9kaWZpZWRTZXQiLCJTZXQiLCJwYXJ0aXRpb25QdHIiLCJnZXRGYWNhZGUiLCJzY3JvbGxlcklEIiwiZmFjYWRlIiwiaW5kZXhUb0l0ZW1JRE1hcCIsImdldEluZGV4VG9JdGVtSURNYXAiLCJnZXQiLCJpdGVtU2V0IiwiZ2V0SXRlbVNldCIsInJlcXVlc3RlZFNldCIsImdldFJlcXVlc3RlZFNldCIsImZuIiwic2V0UGFydGl0aW9uUmVwb0ZvcmNlVXBkYXRlIiwiY3JhZGxlUGFyYW1ldGVycyIsInBhcm1zIiwic2V0Q3JhZGxlUGFyYW1ldGVycyIsInBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCIsImxpc3QiLCJzZXRQb3J0YWxQYXJ0aXRpb25JdGVtc0ZvckRlbGV0ZUxpc3QiLCJnZXRJbnN0YW5jZSIsInVuUmVnaXN0ZXJTY3JvbGxlciIsInJlbmRlclBhcnRpdGlvblJlcG8iLCJyZW5kZXJQb3J0YWxMaXN0cyIsImNsZWFyQ2FjaGUiLCJjaGFuZ2VDYWNoZUxpc3RTaXplIiwibmV3bGlzdHNpemUiLCJkZWxldGVMaXN0Q2FsbGJhY2siLCJjaGFuZ2VDYWNoZUxpc3RSYW5nZSIsIm5ld2xpc3RyYW5nZSIsIm1hdGNoQ2FjaGVUb0NyYWRsZSIsImNyYWRsZUluZGV4TGlzdCIsInBhcmVDYWNoZVRvTWF4IiwiY2FjaGVNYXgiLCJndWFyZEFnYWluc3RSdW5hd2F5Q2FjaGluZyIsImNyYWRsZUxpc3RMZW5ndGgiLCJNQVhfQ0FDSEVfT1ZFUl9SVU4iLCJwcmVsb2FkIiwiZmluYWxDYWxsYmFjayIsIm51bGxJdGVtU2V0TWF4TGlzdHNpemUiLCJnZXRDYWNoZUluZGV4TWFwIiwiZ2V0Q3JhZGxlSW5kZXhNYXAiLCJnZXRDYWNoZUl0ZW1NYXAiLCJtb3ZlSW5kZXgiLCJ0b2xvd2luZGV4IiwiZnJvbWxvd2luZGV4IiwiZnJvbWhpZ2hpbmRleCIsImluc2VydFJlbW92ZUluZGV4IiwiaW5kZXgiLCJoaWdocmFuZ2UiLCJpbmNyZW1lbnQiLCJsaXN0c2l6ZSIsInJlZ2lzdGVyUGVuZGluZ1BvcnRhbCIsInVucmVnaXN0ZXJQZW5kaW5nUG9ydGFsIiwiZ2V0TmV3SXRlbUlEIiwiZ2V0TmV3T3JFeGlzdGluZ0l0ZW1JRCIsImNyZWF0ZVBvcnRhbCIsImNvbXBvbmVudCIsIml0ZW1JRCIsInNjcm9sbGVyUHJvcGVydGllcyIsImlzUHJlbG9hZCIsImFyZ3VtZW50cyIsImRlbGV0ZVBvcnRhbEJ5SW5kZXgiLCJhcHBseVBvcnRhbFBhcnRpdGlvbkl0ZW1zRm9yRGVsZXRlTGlzdCIsImhhc1BvcnRhbCIsImdldFBvcnRhbE1ldGFkYXRhIiwic2l6ZSIsIl9pdGVtTWV0YWRhdGFNYXAkZ2V0IiwicGFydGl0aW9uSUQiLCJyZW1vdmVQYXJ0aXRpb25Qb3J0YWwiLCJhZGRQYXJ0aXRpb24iLCJzZXQiLCJwb3J0YWxNYXAiLCJtYXBjb3VudCIsInBvcnRhbFJlbmRlckxpc3QiLCJtb2RpZmllZCIsImZvcmNlVXBkYXRlIiwicmVzb2x2ZWZ1bmMiLCJjdXJyZW50IiwicHJvbWlzZSIsImNhbGxiYWNrIiwiY3JlYXRlRWxlbWVudCIsImFkZFBhcnRpdGlvblBvcnRhbCIsInBvcnRhbCIsInBhcnRpdGlvbk1ldGFkYXRhIiwiYWRkIiwicmVuZGVyUGFydGl0aW9uIiwiY2xlYXIiLCJkYXRhbWFwIiwiX2l0ZW1NZXRhZGF0YU1hcCRnZXQyIiwicG9ydGFsSW5kZXhNYXAiLCJtYXBrZXlzTGlzdCIsInNvcnQiLCJiIiwiX3RoaXMkc2Nyb2xsZXJEYXRhTWFwIiwidmlydHVhbExpc3RQcm9wcyIsImNyYWRsZUludGVybmFsUHJvcGVydGllc1JlZiIsImxvd2luZGV4IiwiaGlnaGVzdGluZGV4IiwiYXQiLCJwYXJlbGlzdCIsImZpbHRlciIsImNvbXBhcmVoaWdoaW5kZXgiLCJfbmV3bGlzdHJhbmdlIiwibG93bmV3aW5kZXgiLCJoaWdobmV3aW5kZXgiLCJsb3dlc3RpbmRleCIsImNvbXBhcmVpbmRleCIsIm1hcGtleXMiLCJkZWxrZXlzIiwiaW5jbHVkZXMiLCJtb2RlbExlbmd0aCIsIm1heCIsIk1hdGgiLCJtYXBrZXlzbGlzdCIsInJlcXVlc3RlZGtleXMiLCJjb25jYXQiLCJtYXBMZW5ndGgiLCJwYXJlY291bnQiLCJoZWFkaW5kZXgiLCJ0YWlsaW5kZXgiLCJoZWFkcG9zIiwiaW5kZXhPZiIsInRhaWxwb3MiLCJoZWFkcm9vbSIsInRhaWxyb29tIiwicGFyZXJvb20iLCJoZWFkcGFyZWNvdW50IiwiZmxvb3IiLCJ0YWlscGFyZWNvdW50IiwiaGVhZGxpc3QiLCJ0YWlsbGlzdCIsImRlbExpc3QiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXAyIiwiX3RoaXMkc2Nyb2xsZXJEYXRhTWFwMyIsInNjcm9sbGVyUHJvcGVydGllc1JlZiIsIl9jcmFkbGVQYXJhbWV0ZXJzJGhhbiIsImhhbmRsZXJzUmVmIiwic3RhdGVIYW5kbGVyIiwic2VydmljZUhhbmRsZXIiLCJjcmFkbGVJbmhlcml0ZWRQcm9wZXJ0aWVzIiwiY3JhZGxlSW5oZXJpdGVkUHJvcGVydGllc1JlZiIsImNyYWRsZUludGVybmFsUHJvcGVydGllcyIsImdldEl0ZW0iLCJfY3JhZGxlSW50ZXJuYWxQcm9wZXIiLCJoaWdoaW5kZXgiLCJwcm9taXNlcyIsImJyZWFrbG9vcCIsIm1heExpc3RzaXplSW50ZXJydXB0IiwiaXNNb3VudGVkUmVmIiwiX3NlcnZpY2VIYW5kbGVyJGNhbGxiIiwiY2FsbGJhY2tzIiwicHJlbG9hZEluZGV4Q2FsbGJhY2siLCJpdGVtRXhjZXB0aW9uQ2FsbGJhY2siLCJoYXMiLCJwcmVsb2FkSXRlbSIsImFsbFNldHRsZWQiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXA0IiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJpdGVtIiwicmVnaXN0ZXJTY3JvbGxlciIsImZpbmRQYXJ0aXRpb25XaXRoUm9vbSIsIl9jb250ZXh0IiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIl9zdGVwMiR2YWx1ZSIsInQwIiwiX2NhbGxlZSIsImNyYWRsZU1hcCIsIl90aGlzJHNjcm9sbGVyRGF0YU1hcDUiLCJfaXRlcmF0b3IzIiwiX3N0ZXAzIiwiY2FjaGVsaXN0IiwiX3RoaXMkc2Nyb2xsZXJEYXRhTWFwNiIsIl9pdGVyYXRvcjQiLCJfc3RlcDQiLCJtZXRhZGF0YSIsIm1vdmVibG9ja3NpemUiLCJtb3ZlaW5jcmVtZW50IiwidG9oaWdoaW5kZXgiLCJtb3ZlZGlyZWN0aW9uIiwib3JkZXJlZGluZGV4bGlzdCIsInJldmVyc2VvcmRlcmVkaW5kZXhsaXN0IiwidG9sb3dpbmRleHB0ciIsImZpbmRJbmRleCIsImZyb21sb3dpbmRleHB0ciIsInRvaGlnaGluZGV4cHRyIiwiZnJvbWhpZ2hpbmRleHB0ciIsImNhY2hlbGlzdGNvdW50IiwibGlzdHRvcHJvY2Vzc2Zvcm1vdmUiLCJwcm9jZXNzdG9tb3ZlTWFwIiwiY2FwdHVyZW1vdmVpbmRleEZuIiwibGlzdHRvcHJvY2Vzc2ZvcmRpc3BsYWNlIiwicHJvY2Vzc2VkZGlzcGxhY2VMaXN0IiwicHJvY2Vzc3NkaXNwbGFjZWluZGV4Rm4iLCJuZXdJbmRleCIsInByb2Nlc3NlZG1vdmVMaXN0IiwicHJvY2Vzc21vdmVpbmRleEZuIiwicHJvY2Vzc2VkSW5kZXhlcyIsImlzSW5zZXJ0aW5nIiwiaXNSZW1vdmluZyIsImVtcHR5cmV0dXJuIiwib3JkZXJlZENhY2hlSW5kZXhMaXN0IiwiaGlnaHJhbmdlaW5kZXgiLCJsb3dyYW5nZWluZGV4IiwiZGlmZiIsInJhbmdlY291bnQiLCJyYW5nZWluY3JlbWVudCIsInN0YXJ0Q2hhbmdlSW5kZXgiLCJ0b1NoaWZ0U3RhcnRJbmRleCIsInRvU2hpZnRTdGFydENhY2hlUHRyIiwibG93Q2FjaGVSYW5nZVB0ciIsInJldmVyc2VDYWNoZUluZGV4TGlzdCIsImhpZ2hDYWNoZVJhbmdlUHRyIiwiY2FjaGVSYW5nZUluZGV4ZXNMaXN0IiwiY2FjaGVUb1NoaWZ0SW5kZXhlc0xpc3QiLCJjYWNoZUluZGV4ZXNUb1JlcGxhY2VMaXN0IiwiY2FjaGVJbmRleGVzVG9SZW1vdmVMaXN0IiwiY2FjaGVJdGVtc1RvUmVtb3ZlTGlzdCIsIl9pdGVyYXRvcjUiLCJfc3RlcDUiLCJjYWNoZUluZGV4ZXNTaGlmdGVkTGlzdCIsImNhY2hlSW5kZXhlc1RyYW5zZmVycmVkU2V0IiwicHJvY2Vzc0luZGV4Rm4iLCJjYWNoZUluZGV4ZXNSZW1vdmVkTGlzdCIsIl9pdGVyYXRvcjYiLCJfc3RlcDYiLCJfaXRlcmF0b3I3IiwiX3N0ZXA3IiwiX2l0ZW1NZXRhZGF0YU1hcCRnZXQzIiwib3JwaGFuZWRJbmRleGVzVHJhbnNmZXJyZWRMaXN0IiwiX2kiLCJfb3JwaGFuZWRJbmRleGVzVHJhbnMiLCJfdGhpcyRzY3JvbGxlckRhdGFNYXA3IiwiX2NvbnRleHQyIiwicG9ydGFsTm9kZSIsImNyZWF0ZVBvcnRhbE5vZGUiLCJJblBvcnRhbCIsIm5vZGUiLCJwb3J0YWxNZXRhZGF0YSIsIl9jYWxsZWUyIiwiX2NvbnRleHQzIiwidXNlcmNvbnRlbnQiLCJyZXR1cm52YWx1ZSIsImVycm9yIiwiaXNWYWxpZEVsZW1lbnQiLCJjZWxsRnJhbWVQcm9wZXJ0aWVzUmVmIiwiY29udGVudCIsImNsb25lRWxlbWVudCIsIl9jYWxsZWUzIiwiaW5kZXhBcnJheSIsIl90aGlzJHNjcm9sbGVyRGF0YU1hcDgiLCJkZWxldGVMaXN0IiwiX2l0ZXJhdG9yOCIsIl9zdGVwOCIsIl9pdGVtTWV0YWRhdGFNYXAkZ2V0NCIsImV4cG9ydHMiLCJjcmVhdGVIdG1sUG9ydGFsTm9kZSIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93IiwiZGF0YXNldCIsImNhY2hlaXRlbWlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/portalcache/cacheAPI.tsx\n')},"./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   ErrorBoundaryContext: () => (/* binding */ ErrorBoundaryContext),\n/* harmony export */   useErrorBoundary: () => (/* binding */ useErrorBoundary),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\'use client\';\n\n\nconst ErrorBoundaryContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: "imperative-api"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There\'s an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we\'d end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don\'t check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: "keys"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(fallback)) {\n        childToRender = fallback;\n      } else if (typeof fallbackRender === "function") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent, props);\n      } else {\n        {\n          console.error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");\n        }\n        throw error;\n      }\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== "boolean" || typeof value.resetErrorBoundary !== "function") {\n    throw new Error("ErrorBoundaryContext not found");\n  }\n  return true;\n}\n\nfunction useErrorBoundary() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    error: null,\n    hasError: false\n  });\n  const memoized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    resetBoundary: () => {\n      context === null || context === void 0 ? void 0 : context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context === null || context === void 0 ? void 0 : context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundary, errorBoundaryProps, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || "Unknown";\n  Wrapped.displayName = "withErrorBoundary(".concat(name, ")");\n  return Wrapped;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5kZXZlbG9wbWVudC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDMkg7O0FBRTNILDZCQUE2QixvREFBYTs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNENBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsMEVBQTBFLGFBQWE7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFEQUFjO0FBQ3hCO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSLHdCQUF3QixvREFBYTtBQUNyQyxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvREFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixpREFBVTtBQUM1QjtBQUNBLDRCQUE0QiwrQ0FBUTtBQUNwQztBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQiw4Q0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaURBQVUsaUJBQWlCLG9EQUFhLG9DQUFvQyxvREFBYTtBQUMzRztBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvcmVhY3QtZXJyb3ItYm91bmRhcnkvZGlzdC9yZWFjdC1lcnJvci1ib3VuZGFyeS5kZXZlbG9wbWVudC5lc20uanM/Mzk4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBDb21wb25lbnQsIGlzVmFsaWRFbGVtZW50LCBjcmVhdGVFbGVtZW50LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlTWVtbywgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgRXJyb3JCb3VuZGFyeUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGRpZENhdGNoOiBmYWxzZSxcbiAgZXJyb3I6IG51bGxcbn07XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZXNldEVycm9yQm91bmRhcnkgPSB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBkaWRDYXRjaDogdHJ1ZSxcbiAgICAgIGVycm9yXG4gICAgfTtcbiAgfVxuICByZXNldEVycm9yQm91bmRhcnkoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZXJyb3JcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRvblJlc2V0LCBfdGhpcyRwcm9wcztcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgKF90aGlzJHByb3BzJG9uUmVzZXQgPSAoX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzKS5vblJlc2V0KSA9PT0gbnVsbCB8fCBfdGhpcyRwcm9wcyRvblJlc2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm9wcyRvblJlc2V0LmNhbGwoX3RoaXMkcHJvcHMsIHtcbiAgICAgICAgYXJncyxcbiAgICAgICAgcmVhc29uOiBcImltcGVyYXRpdmUtYXBpXCJcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgaW5mbykge1xuICAgIHZhciBfdGhpcyRwcm9wcyRvbkVycm9yLCBfdGhpcyRwcm9wczI7XG4gICAgKF90aGlzJHByb3BzJG9uRXJyb3IgPSAoX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcykub25FcnJvcikgPT09IG51bGwgfHwgX3RoaXMkcHJvcHMkb25FcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvcHMkb25FcnJvci5jYWxsKF90aGlzJHByb3BzMiwgZXJyb3IsIGluZm8pO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpZENhdGNoXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgcmVzZXRLZXlzXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBUaGVyZSdzIGFuIGVkZ2UgY2FzZSB3aGVyZSBpZiB0aGUgdGhpbmcgdGhhdCB0cmlnZ2VyZWQgdGhlIGVycm9yIGhhcHBlbnMgdG8gKmFsc28qIGJlIGluIHRoZSByZXNldEtleXMgYXJyYXksXG4gICAgLy8gd2UnZCBlbmQgdXAgcmVzZXR0aW5nIHRoZSBlcnJvciBib3VuZGFyeSBpbW1lZGlhdGVseS5cbiAgICAvLyBUaGlzIHdvdWxkIGxpa2VseSB0cmlnZ2VyIGEgc2Vjb25kIGVycm9yIHRvIGJlIHRocm93bi5cbiAgICAvLyBTbyB3ZSBtYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBjaGVjayB0aGUgcmVzZXRLZXlzIG9uIHRoZSBmaXJzdCBjYWxsIG9mIGNEVSBhZnRlciB0aGUgZXJyb3IgaXMgc2V0LlxuXG4gICAgaWYgKGRpZENhdGNoICYmIHByZXZTdGF0ZS5lcnJvciAhPT0gbnVsbCAmJiBoYXNBcnJheUNoYW5nZWQocHJldlByb3BzLnJlc2V0S2V5cywgcmVzZXRLZXlzKSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzJG9uUmVzZXQyLCBfdGhpcyRwcm9wczM7XG4gICAgICAoX3RoaXMkcHJvcHMkb25SZXNldDIgPSAoX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcykub25SZXNldCkgPT09IG51bGwgfHwgX3RoaXMkcHJvcHMkb25SZXNldDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHByb3BzJG9uUmVzZXQyLmNhbGwoX3RoaXMkcHJvcHMzLCB7XG4gICAgICAgIG5leHQ6IHJlc2V0S2V5cyxcbiAgICAgICAgcHJldjogcHJldlByb3BzLnJlc2V0S2V5cyxcbiAgICAgICAgcmVhc29uOiBcImtleXNcIlxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIGZhbGxiYWNrUmVuZGVyLFxuICAgICAgRmFsbGJhY2tDb21wb25lbnQsXG4gICAgICBmYWxsYmFja1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIGRpZENhdGNoLFxuICAgICAgZXJyb3JcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgY2hpbGRUb1JlbmRlciA9IGNoaWxkcmVuO1xuICAgIGlmIChkaWRDYXRjaCkge1xuICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICByZXNldEVycm9yQm91bmRhcnk6IHRoaXMucmVzZXRFcnJvckJvdW5kYXJ5XG4gICAgICB9O1xuICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGZhbGxiYWNrKSkge1xuICAgICAgICBjaGlsZFRvUmVuZGVyID0gZmFsbGJhY2s7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmYWxsYmFja1JlbmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNoaWxkVG9SZW5kZXIgPSBmYWxsYmFja1JlbmRlcihwcm9wcyk7XG4gICAgICB9IGVsc2UgaWYgKEZhbGxiYWNrQ29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkVG9SZW5kZXIgPSBjcmVhdGVFbGVtZW50KEZhbGxiYWNrQ29tcG9uZW50LCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcInJlYWN0LWVycm9yLWJvdW5kYXJ5IHJlcXVpcmVzIGVpdGhlciBhIGZhbGxiYWNrLCBmYWxsYmFja1JlbmRlciwgb3IgRmFsbGJhY2tDb21wb25lbnQgcHJvcFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGRpZENhdGNoLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgcmVzZXRFcnJvckJvdW5kYXJ5OiB0aGlzLnJlc2V0RXJyb3JCb3VuZGFyeVxuICAgICAgfVxuICAgIH0sIGNoaWxkVG9SZW5kZXIpO1xuICB9XG59XG5mdW5jdGlvbiBoYXNBcnJheUNoYW5nZWQoKSB7XG4gIGxldCBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgbGV0IGIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuICByZXR1cm4gYS5sZW5ndGggIT09IGIubGVuZ3RoIHx8IGEuc29tZSgoaXRlbSwgaW5kZXgpID0+ICFPYmplY3QuaXMoaXRlbSwgYltpbmRleF0pKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0RXJyb3JCb3VuZGFyeUNvbnRleHQodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlLmRpZENhdGNoICE9PSBcImJvb2xlYW5cIiB8fCB0eXBlb2YgdmFsdWUucmVzZXRFcnJvckJvdW5kYXJ5ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvckJvdW5kYXJ5Q29udGV4dCBub3QgZm91bmRcIik7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHVzZUVycm9yQm91bmRhcnkoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEVycm9yQm91bmRhcnlDb250ZXh0KTtcbiAgYXNzZXJ0RXJyb3JCb3VuZGFyeUNvbnRleHQoY29udGV4dCk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGVycm9yOiBudWxsLFxuICAgIGhhc0Vycm9yOiBmYWxzZVxuICB9KTtcbiAgY29uc3QgbWVtb2l6ZWQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgcmVzZXRCb3VuZGFyeTogKCkgPT4ge1xuICAgICAgY29udGV4dCA9PT0gbnVsbCB8fCBjb250ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZXh0LnJlc2V0RXJyb3JCb3VuZGFyeSgpO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNob3dCb3VuZGFyeTogZXJyb3IgPT4gc2V0U3RhdGUoe1xuICAgICAgZXJyb3IsXG4gICAgICBoYXNFcnJvcjogdHJ1ZVxuICAgIH0pXG4gIH0pLCBbY29udGV4dCA9PT0gbnVsbCB8fCBjb250ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZXh0LnJlc2V0RXJyb3JCb3VuZGFyeV0pO1xuICBpZiAoc3RhdGUuaGFzRXJyb3IpIHtcbiAgICB0aHJvdyBzdGF0ZS5lcnJvcjtcbiAgfVxuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbmZ1bmN0aW9uIHdpdGhFcnJvckJvdW5kYXJ5KGNvbXBvbmVudCwgZXJyb3JCb3VuZGFyeVByb3BzKSB7XG4gIGNvbnN0IFdyYXBwZWQgPSBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiBjcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIGVycm9yQm91bmRhcnlQcm9wcywgY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHtcbiAgICAuLi5wcm9wcyxcbiAgICByZWZcbiAgfSkpKTtcblxuICAvLyBGb3JtYXQgZm9yIGRpc3BsYXkgaW4gRGV2VG9vbHNcbiAgY29uc3QgbmFtZSA9IGNvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnQubmFtZSB8fCBcIlVua25vd25cIjtcbiAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IFwid2l0aEVycm9yQm91bmRhcnkoXCIuY29uY2F0KG5hbWUsIFwiKVwiKTtcbiAgcmV0dXJuIFdyYXBwZWQ7XG59XG5cbmV4cG9ydCB7IEVycm9yQm91bmRhcnksIEVycm9yQm91bmRhcnlDb250ZXh0LCB1c2VFcnJvckJvdW5kYXJ5LCB3aXRoRXJyb3JCb3VuZGFyeSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-error-boundary/dist/react-error-boundary.development.esm.js\n')},"./node_modules/react-reverse-portal/dist/web/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InPortal: () => (/* binding */ InPortal),\n/* harmony export */   OutPortal: () => (/* binding */ OutPortal),\n/* harmony export */   createHtmlPortalNode: () => (/* binding */ createHtmlPortalNode),\n/* harmony export */   createSvgPortalNode: () => (/* binding */ createSvgPortalNode)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = \'html\';\nvar ELEMENT_TYPE_SVG = \'svg\';\n// ReactDOM can handle several different namespaces, but they\'re not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = \'http://www.w3.org/2000/svg\';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error("Unrecognized element type \\"" + elementType + "\\" for validateElementType.");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType, options) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement(\'div\');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, \'g\');\n    }\n    else {\n        throw new Error("Invalid element type \\"" + elementType + "\\" for createPortalNode: must be \\"html\\" or \\"svg\\".");\n    }\n    if (options && typeof options === "object") {\n        for (var _i = 0, _a = Object.entries(options.attributes); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            element.setAttribute(key, value);\n        }\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode\'s elementType needs to match\n            // the elementType it\'s being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error("Invalid element type for portal: \\"" + elementType + "\\" portalNodes must be used with " + elementType + " elements, but OutPortal is within <" + newParent.tagName + ">.");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren\'t currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {\n            if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child))\n                return child;\n            return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we\'re switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode.setPortalProps({});\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n        node.setPortalProps({});\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQ087QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQXFCLENBQUMsMkNBQWM7QUFDbkQsaUJBQWlCLGlEQUFvQjtBQUNyQztBQUNBLG1CQUFtQiwrQ0FBa0I7QUFDckMsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDLENBQUMsZ0RBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDRDQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGdCQUFnQixpQkFBaUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBbUIsVUFBVSwyQkFBMkI7QUFDdkU7QUFDQTtBQUNBLENBQUMsQ0FBQyxnREFBbUI7QUFDckI7QUFDQTtBQUMyRTtBQUMzRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LWluZmluaXRlLWdyaWQtc2Nyb2xsZXIvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmV2ZXJzZS1wb3J0YWwvZGlzdC93ZWIvaW5kZXguanM/ZTAwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG4vLyBJbnRlcm5hbGx5LCB0aGUgcG9ydGFsTm9kZSBtdXN0IGJlIGZvciBlaXRoZXIgSFRNTCBvciBTVkcgZWxlbWVudHNcbnZhciBFTEVNRU5UX1RZUEVfSFRNTCA9ICdodG1sJztcbnZhciBFTEVNRU5UX1RZUEVfU1ZHID0gJ3N2Zyc7XG4vLyBSZWFjdERPTSBjYW4gaGFuZGxlIHNldmVyYWwgZGlmZmVyZW50IG5hbWVzcGFjZXMsIGJ1dCB0aGV5J3JlIG5vdCBleHBvcnRlZCBwdWJsaWNseVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjg3YWFiZGZlMWI3NDYxZTczMzFhYmIzNjAxZDllNmJiMjc1NDRiYy9wYWNrYWdlcy9yZWFjdC1kb20vc3JjL3NoYXJlZC9ET01OYW1lc3BhY2VzLmpzI0w4LUwxMFxudmFyIFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xudmFyIHZhbGlkYXRlRWxlbWVudFR5cGUgPSBmdW5jdGlvbiAoZG9tRWxlbWVudCwgZWxlbWVudFR5cGUpIHtcbiAgICBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9IVE1MKSB7XG4gICAgICAgIHJldHVybiBkb21FbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgfVxuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gRUxFTUVOVF9UWVBFX1NWRykge1xuICAgICAgICByZXR1cm4gZG9tRWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBlbGVtZW50IHR5cGUgXFxcIlwiICsgZWxlbWVudFR5cGUgKyBcIlxcXCIgZm9yIHZhbGlkYXRlRWxlbWVudFR5cGUuXCIpO1xufTtcbi8vIFRoaXMgaXMgdGhlIGludGVybmFsIGltcGxlbWVudGF0aW9uOiB0aGUgcHVibGljIGVudHJ5IHBvaW50cyBzZXQgZWxlbWVudFR5cGUgdG8gYW4gYXBwcm9wcmlhdGUgdmFsdWVcbnZhciBjcmVhdGVQb3J0YWxOb2RlID0gZnVuY3Rpb24gKGVsZW1lbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgdmFyIGluaXRpYWxQcm9wcyA9IHt9O1xuICAgIHZhciBwYXJlbnQ7XG4gICAgdmFyIGxhc3RQbGFjZWhvbGRlcjtcbiAgICB2YXIgZWxlbWVudDtcbiAgICBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9IVE1MKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IEVMRU1FTlRfVFlQRV9TVkcpIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCAnZycpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBlbGVtZW50IHR5cGUgXFxcIlwiICsgZWxlbWVudFR5cGUgKyBcIlxcXCIgZm9yIGNyZWF0ZVBvcnRhbE5vZGU6IG11c3QgYmUgXFxcImh0bWxcXFwiIG9yIFxcXCJzdmdcXFwiLlwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuYXR0cmlidXRlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGtleSA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBvcnRhbE5vZGUgPSB7XG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRUeXBlOiBlbGVtZW50VHlwZSxcbiAgICAgICAgc2V0UG9ydGFsUHJvcHM6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgaW5pdGlhbFByb3BzID0gcHJvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEluaXRpYWxQb3J0YWxQcm9wczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxQcm9wcztcbiAgICAgICAgfSxcbiAgICAgICAgbW91bnQ6IGZ1bmN0aW9uIChuZXdQYXJlbnQsIG5ld1BsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBpZiAobmV3UGxhY2Vob2xkZXIgPT09IGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgbW91bnRlZCAtIG5vb3AuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9ydGFsTm9kZS51bm1vdW50KCk7XG4gICAgICAgICAgICAvLyBUbyBzdXBwb3J0IFNWRyBhbmQgb3RoZXIgbm9uLWh0bWwgZWxlbWVudHMsIHRoZSBwb3J0YWxOb2RlJ3MgZWxlbWVudFR5cGUgbmVlZHMgdG8gbWF0Y2hcbiAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50VHlwZSBpdCdzIGJlaW5nIHJlbmRlcmVkIGludG9cbiAgICAgICAgICAgIGlmIChuZXdQYXJlbnQgIT09IHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVFbGVtZW50VHlwZShuZXdQYXJlbnQsIGVsZW1lbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVsZW1lbnQgdHlwZSBmb3IgcG9ydGFsOiBcXFwiXCIgKyBlbGVtZW50VHlwZSArIFwiXFxcIiBwb3J0YWxOb2RlcyBtdXN0IGJlIHVzZWQgd2l0aCBcIiArIGVsZW1lbnRUeXBlICsgXCIgZWxlbWVudHMsIGJ1dCBPdXRQb3J0YWwgaXMgd2l0aGluIDxcIiArIG5ld1BhcmVudC50YWdOYW1lICsgXCI+LlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdQYXJlbnQucmVwbGFjZUNoaWxkKHBvcnRhbE5vZGUuZWxlbWVudCwgbmV3UGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgcGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgbGFzdFBsYWNlaG9sZGVyID0gbmV3UGxhY2Vob2xkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnQ6IGZ1bmN0aW9uIChleHBlY3RlZFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICBpZiAoZXhwZWN0ZWRQbGFjZWhvbGRlciAmJiBleHBlY3RlZFBsYWNlaG9sZGVyICE9PSBsYXN0UGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHVubW91bnRzIGZvciBwbGFjZWhvbGRlcnMgdGhhdCBhcmVuJ3QgY3VycmVudGx5IG1vdW50ZWRcbiAgICAgICAgICAgICAgICAvLyBUaGV5IHdpbGwgaGF2ZSBiZWVuIGF1dG9tYXRpY2FsbHkgdW5tb3VudGVkIGFscmVhZHkgYnkgYSBzdWJzZXF1ZW50IG1vdW50KClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIGxhc3RQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobGFzdFBsYWNlaG9sZGVyLCBwb3J0YWxOb2RlLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsYXN0UGxhY2Vob2xkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBwb3J0YWxOb2RlO1xufTtcbnZhciBJblBvcnRhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5Qb3J0YWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5Qb3J0YWwocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZFByb3BzQ2hhbm5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMucHJvcHMubm9kZSwge1xuICAgICAgICAgICAgICAgIHNldFBvcnRhbFByb3BzOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVyZW5kZXIgdGhlIGNoaWxkIG5vZGUgaGVyZSBpZi93aGVuIHRoZSBvdXQgcG9ydGFsIHByb3BzIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG5vZGVQcm9wczogcHJvcHMgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbm9kZVByb3BzOiBfdGhpcy5wcm9wcy5ub2RlLmdldEluaXRpYWxQb3J0YWxQcm9wcygpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEluUG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wc0NoYW5uZWwoKTtcbiAgICB9O1xuICAgIEluUG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRkUHJvcHNDaGFubmVsKCk7XG4gICAgfTtcbiAgICBJblBvcnRhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgX3RoaXMuc3RhdGUubm9kZVByb3BzKTtcbiAgICAgICAgfSksIG5vZGUuZWxlbWVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW5Qb3J0YWw7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpKTtcbnZhciBPdXRQb3J0YWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE91dFBvcnRhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRQb3J0YWwocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBsYWNlaG9sZGVyTm9kZSA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgICAgICBfdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvcHNGb3JUYXJnZXQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCB7IG5vZGU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgdGhpcy5wcm9wcy5ub2RlLnNldFBvcnRhbFByb3BzKHByb3BzRm9yVGFyZ2V0KTtcbiAgICB9O1xuICAgIE91dFBvcnRhbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdGhpcy5wbGFjZWhvbGRlck5vZGUuY3VycmVudDtcbiAgICAgICAgdmFyIHBhcmVudCA9IHBsYWNlaG9sZGVyLnBhcmVudE5vZGU7XG4gICAgICAgIG5vZGUubW91bnQocGFyZW50LCBwbGFjZWhvbGRlcik7XG4gICAgICAgIHRoaXMucGFzc1Byb3BzVGhyb3VnaFBvcnRhbCgpO1xuICAgIH07XG4gICAgT3V0UG9ydGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdlIHJlLW1vdW50IG9uIHVwZGF0ZSwganVzdCBpbiBjYXNlIHdlIHdlcmUgdW5tb3VudGVkIChlLmcuIGJ5XG4gICAgICAgIC8vIGEgc2Vjb25kIE91dFBvcnRhbCwgd2hpY2ggaGFzIG5vdyBiZWVuIHJlbW92ZWQpXG4gICAgICAgIHZhciBub2RlID0gdGhpcy5wcm9wcy5ub2RlO1xuICAgICAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgcG9ydGFsIG5vZGVzLCB3ZSBuZWVkIHRvIGNsZWFuIHVwIHRoZSBjdXJyZW50IG9uZSBmaXJzdC5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvcnRhbE5vZGUgJiYgbm9kZSAhPT0gdGhpcy5jdXJyZW50UG9ydGFsTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9ydGFsTm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9ydGFsTm9kZS5zZXRQb3J0YWxQcm9wcyh7fSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3J0YWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyTm9kZS5jdXJyZW50O1xuICAgICAgICB2YXIgcGFyZW50ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgICAgbm9kZS5tb3VudChwYXJlbnQsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgdGhpcy5wYXNzUHJvcHNUaHJvdWdoUG9ydGFsKCk7XG4gICAgfTtcbiAgICBPdXRQb3J0YWwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMucHJvcHMubm9kZTtcbiAgICAgICAgbm9kZS51bm1vdW50KHRoaXMucGxhY2Vob2xkZXJOb2RlLmN1cnJlbnQpO1xuICAgICAgICBub2RlLnNldFBvcnRhbFByb3BzKHt9KTtcbiAgICB9O1xuICAgIE91dFBvcnRhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW5kZXIgYSBwbGFjZWhvbGRlciB0byB0aGUgRE9NLCBzbyB3ZSBjYW4gZ2V0IGEgcmVmZXJlbmNlIGludG9cbiAgICAgICAgLy8gb3VyIGxvY2F0aW9uIGluIHRoZSBET00sIGFuZCBzd2FwIGl0IG91dCBmb3IgdGhlIHBvcnRhbGVkIG5vZGUuXG4gICAgICAgIC8vIEEgPGRpdj4gcGxhY2Vob2xkZXIgd29ya3MgZmluZSBldmVuIGZvciBTVkcuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiB0aGlzLnBsYWNlaG9sZGVyTm9kZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPdXRQb3J0YWw7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpKTtcbnZhciBjcmVhdGVIdG1sUG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUuYmluZChudWxsLCBFTEVNRU5UX1RZUEVfSFRNTCk7XG52YXIgY3JlYXRlU3ZnUG9ydGFsTm9kZSA9IGNyZWF0ZVBvcnRhbE5vZGUuYmluZChudWxsLCBFTEVNRU5UX1RZUEVfU1ZHKTtcbmV4cG9ydCB7IGNyZWF0ZUh0bWxQb3J0YWxOb2RlLCBjcmVhdGVTdmdQb3J0YWxOb2RlLCBJblBvcnRhbCwgT3V0UG9ydGFsLCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-reverse-portal/dist/web/index.js\n')},"./node_modules/requestidlecallback/index.js":(module,exports,__webpack_require__)=>{eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}(function(){\n\t'use strict';\n\tvar scheduleStart, throttleDelay, lazytimer, lazyraf;\n\tvar root = typeof window != 'undefined' ?\n\t\twindow :\n\t\ttypeof __webpack_require__.g != undefined ?\n\t\t\t__webpack_require__.g :\n\t\t\tthis || {};\n\tvar requestAnimationFrame = root.cancelRequestAnimationFrame && root.requestAnimationFrame || setTimeout;\n\tvar cancelRequestAnimationFrame = root.cancelRequestAnimationFrame || clearTimeout;\n\tvar tasks = [];\n\tvar runAttempts = 0;\n\tvar isRunning = false;\n\tvar remainingTime = 7;\n\tvar minThrottle = 35;\n\tvar throttle = 125;\n\tvar index = 0;\n\tvar taskStart = 0;\n\tvar tasklength = 0;\n\tvar IdleDeadline = {\n\t\tget didTimeout(){\n\t\t\treturn false;\n\t\t},\n\t\ttimeRemaining: function(){\n\t\t\tvar timeRemaining = remainingTime - (Date.now() - taskStart);\n\t\t\treturn timeRemaining < 0 ? 0 : timeRemaining;\n\t\t},\n\t};\n\tvar setInactive = debounce(function(){\n\t\tremainingTime = 22;\n\t\tthrottle = 66;\n\t\tminThrottle = 0;\n\t});\n\n\tfunction debounce(fn){\n\t\tvar id, timestamp;\n\t\tvar wait = 99;\n\t\tvar check = function(){\n\t\t\tvar last = (Date.now()) - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tid = setTimeout(check, wait - last);\n\t\t\t} else {\n\t\t\t\tid = null;\n\t\t\t\tfn();\n\t\t\t}\n\t\t};\n\t\treturn function(){\n\t\t\ttimestamp = Date.now();\n\t\t\tif(!id){\n\t\t\t\tid = setTimeout(check, wait);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction abortRunning(){\n\t\tif(isRunning){\n\t\t\tif(lazyraf){\n\t\t\t\tcancelRequestAnimationFrame(lazyraf);\n\t\t\t}\n\t\t\tif(lazytimer){\n\t\t\t\tclearTimeout(lazytimer);\n\t\t\t}\n\t\t\tisRunning = false;\n\t\t}\n\t}\n\n\tfunction onInputorMutation(){\n\t\tif(throttle != 125){\n\t\t\tremainingTime = 7;\n\t\t\tthrottle = 125;\n\t\t\tminThrottle = 35;\n\n\t\t\tif(isRunning) {\n\t\t\t\tabortRunning();\n\t\t\t\tscheduleLazy();\n\t\t\t}\n\t\t}\n\t\tsetInactive();\n\t}\n\n\tfunction scheduleAfterRaf() {\n\t\tlazyraf = null;\n\t\tlazytimer = setTimeout(runTasks, 0);\n\t}\n\n\tfunction scheduleRaf(){\n\t\tlazytimer = null;\n\t\trequestAnimationFrame(scheduleAfterRaf);\n\t}\n\n\tfunction scheduleLazy(){\n\n\t\tif(isRunning){return;}\n\t\tthrottleDelay = throttle - (Date.now() - taskStart);\n\n\t\tscheduleStart = Date.now();\n\n\t\tisRunning = true;\n\n\t\tif(minThrottle && throttleDelay < minThrottle){\n\t\t\tthrottleDelay = minThrottle;\n\t\t}\n\n\t\tif(throttleDelay > 9){\n\t\t\tlazytimer = setTimeout(scheduleRaf, throttleDelay);\n\t\t} else {\n\t\t\tthrottleDelay = 0;\n\t\t\tscheduleRaf();\n\t\t}\n\t}\n\n\tfunction runTasks(){\n\t\tvar task, i, len;\n\t\tvar timeThreshold = remainingTime > 9 ?\n\t\t\t9 :\n\t\t\t1\n\t\t;\n\n\t\ttaskStart = Date.now();\n\t\tisRunning = false;\n\n\t\tlazytimer = null;\n\n\t\tif(runAttempts > 2 || taskStart - throttleDelay - 50 < scheduleStart){\n\t\t\tfor(i = 0, len = tasks.length; i < len && IdleDeadline.timeRemaining() > timeThreshold; i++){\n\t\t\t\ttask = tasks.shift();\n\t\t\t\ttasklength++;\n\t\t\t\tif(task){\n\t\t\t\t\ttask(IdleDeadline);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(tasks.length){\n\t\t\tscheduleLazy();\n\t\t} else {\n\t\t\trunAttempts = 0;\n\t\t}\n\t}\n\n\tfunction requestIdleCallbackShim(task){\n\t\tindex++;\n\t\ttasks.push(task);\n\t\tscheduleLazy();\n\t\treturn index;\n\t}\n\n\tfunction cancelIdleCallbackShim(id){\n\t\tvar index = id - 1 - tasklength;\n\t\tif(tasks[index]){\n\t\t\ttasks[index] = null;\n\t\t}\n\t}\n\n\tif(!root.requestIdleCallback || !root.cancelIdleCallback){\n\t\troot.requestIdleCallback = requestIdleCallbackShim;\n\t\troot.cancelIdleCallback = cancelIdleCallbackShim;\n\n\t\tif(root.document && document.addEventListener){\n\t\t\troot.addEventListener('scroll', onInputorMutation, true);\n\t\t\troot.addEventListener('resize', onInputorMutation);\n\n\t\t\tdocument.addEventListener('focus', onInputorMutation, true);\n\t\t\tdocument.addEventListener('mouseover', onInputorMutation, true);\n\t\t\t['click', 'keypress', 'touchstart', 'mousedown'].forEach(function(name){\n\t\t\t\tdocument.addEventListener(name, onInputorMutation, {capture: true, passive: true});\n\t\t\t});\n\n\t\t\tif(root.MutationObserver){\n\t\t\t\tnew MutationObserver( onInputorMutation ).observe( document.documentElement, {childList: true, subtree: true, attributes: true} );\n\t\t\t}\n\t\t}\n\t} else {\n\t\ttry{\n\t\t\troot.requestIdleCallback(function(){}, {timeout: 0});\n\t\t} catch(e){\n\t\t\t(function(rIC){\n\t\t\t\tvar timeRemainingProto, timeRemaining;\n\t\t\t\troot.requestIdleCallback = function(fn, timeout){\n\t\t\t\t\tif(timeout && typeof timeout.timeout == 'number'){\n\t\t\t\t\t\treturn rIC(fn, timeout.timeout);\n\t\t\t\t\t}\n\t\t\t\t\treturn rIC(fn);\n\t\t\t\t};\n\t\t\t\tif(root.IdleCallbackDeadline && (timeRemainingProto = IdleCallbackDeadline.prototype)){\n\t\t\t\t\ttimeRemaining = Object.getOwnPropertyDescriptor(timeRemainingProto, 'timeRemaining');\n\t\t\t\t\tif(!timeRemaining || !timeRemaining.configurable || !timeRemaining.get){return;}\n\t\t\t\t\tObject.defineProperty(timeRemainingProto, 'timeRemaining', {\n\t\t\t\t\t\tvalue:  function(){\n\t\t\t\t\t\t\treturn timeRemaining.get.call(this);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})(root.requestIdleCallback)\n\t\t}\n\t}\n\n\treturn {\n\t\trequest: requestIdleCallbackShim,\n\t\tcancel: cancelIdleCallbackShim,\n\t};\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVxdWVzdGlkbGVjYWxsYmFjay9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDckIsR0FBRyxLQUFLLEVBSU47QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFCQUFNO0FBQ2YsR0FBRyxxQkFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyx5REFBeUQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw2QkFBNkI7QUFDckYsSUFBSTs7QUFFSjtBQUNBLGtGQUFrRixrREFBa0Q7QUFDcEk7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxHQUFHLFdBQVc7QUFDdEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtaW5maW5pdGUtZ3JpZC1zY3JvbGxlci8uL25vZGVfbW9kdWxlcy9yZXF1ZXN0aWRsZWNhbGxiYWNrL2luZGV4LmpzPzg3MTAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmlkbGVDYWxsYmFja1NoaW0gPSBmYWN0b3J5KCk7XG5cdH1cbn0oZnVuY3Rpb24oKXtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgc2NoZWR1bGVTdGFydCwgdGhyb3R0bGVEZWxheSwgbGF6eXRpbWVyLCBsYXp5cmFmO1xuXHR2YXIgcm9vdCA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgP1xuXHRcdHdpbmRvdyA6XG5cdFx0dHlwZW9mIGdsb2JhbCAhPSB1bmRlZmluZWQgP1xuXHRcdFx0Z2xvYmFsIDpcblx0XHRcdHRoaXMgfHwge307XG5cdHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByb290LmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBzZXRUaW1lb3V0O1xuXHR2YXIgY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcm9vdC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgY2xlYXJUaW1lb3V0O1xuXHR2YXIgdGFza3MgPSBbXTtcblx0dmFyIHJ1bkF0dGVtcHRzID0gMDtcblx0dmFyIGlzUnVubmluZyA9IGZhbHNlO1xuXHR2YXIgcmVtYWluaW5nVGltZSA9IDc7XG5cdHZhciBtaW5UaHJvdHRsZSA9IDM1O1xuXHR2YXIgdGhyb3R0bGUgPSAxMjU7XG5cdHZhciBpbmRleCA9IDA7XG5cdHZhciB0YXNrU3RhcnQgPSAwO1xuXHR2YXIgdGFza2xlbmd0aCA9IDA7XG5cdHZhciBJZGxlRGVhZGxpbmUgPSB7XG5cdFx0Z2V0IGRpZFRpbWVvdXQoKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdGltZVJlbWFpbmluZyA9IHJlbWFpbmluZ1RpbWUgLSAoRGF0ZS5ub3coKSAtIHRhc2tTdGFydCk7XG5cdFx0XHRyZXR1cm4gdGltZVJlbWFpbmluZyA8IDAgPyAwIDogdGltZVJlbWFpbmluZztcblx0XHR9LFxuXHR9O1xuXHR2YXIgc2V0SW5hY3RpdmUgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdHJlbWFpbmluZ1RpbWUgPSAyMjtcblx0XHR0aHJvdHRsZSA9IDY2O1xuXHRcdG1pblRocm90dGxlID0gMDtcblx0fSk7XG5cblx0ZnVuY3Rpb24gZGVib3VuY2UoZm4pe1xuXHRcdHZhciBpZCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIGNoZWNrID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBsYXN0ID0gKERhdGUubm93KCkpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0aWQgPSBzZXRUaW1lb3V0KGNoZWNrLCB3YWl0IC0gbGFzdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZCA9IG51bGw7XG5cdFx0XHRcdGZuKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKXtcblx0XHRcdHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cdFx0XHRpZighaWQpe1xuXHRcdFx0XHRpZCA9IHNldFRpbWVvdXQoY2hlY2ssIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhYm9ydFJ1bm5pbmcoKXtcblx0XHRpZihpc1J1bm5pbmcpe1xuXHRcdFx0aWYobGF6eXJhZil7XG5cdFx0XHRcdGNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZShsYXp5cmFmKTtcblx0XHRcdH1cblx0XHRcdGlmKGxhenl0aW1lcil7XG5cdFx0XHRcdGNsZWFyVGltZW91dChsYXp5dGltZXIpO1xuXHRcdFx0fVxuXHRcdFx0aXNSdW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25JbnB1dG9yTXV0YXRpb24oKXtcblx0XHRpZih0aHJvdHRsZSAhPSAxMjUpe1xuXHRcdFx0cmVtYWluaW5nVGltZSA9IDc7XG5cdFx0XHR0aHJvdHRsZSA9IDEyNTtcblx0XHRcdG1pblRocm90dGxlID0gMzU7XG5cblx0XHRcdGlmKGlzUnVubmluZykge1xuXHRcdFx0XHRhYm9ydFJ1bm5pbmcoKTtcblx0XHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldEluYWN0aXZlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzY2hlZHVsZUFmdGVyUmFmKCkge1xuXHRcdGxhenlyYWYgPSBudWxsO1xuXHRcdGxhenl0aW1lciA9IHNldFRpbWVvdXQocnVuVGFza3MsIDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2NoZWR1bGVSYWYoKXtcblx0XHRsYXp5dGltZXIgPSBudWxsO1xuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzY2hlZHVsZUFmdGVyUmFmKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjaGVkdWxlTGF6eSgpe1xuXG5cdFx0aWYoaXNSdW5uaW5nKXtyZXR1cm47fVxuXHRcdHRocm90dGxlRGVsYXkgPSB0aHJvdHRsZSAtIChEYXRlLm5vdygpIC0gdGFza1N0YXJ0KTtcblxuXHRcdHNjaGVkdWxlU3RhcnQgPSBEYXRlLm5vdygpO1xuXG5cdFx0aXNSdW5uaW5nID0gdHJ1ZTtcblxuXHRcdGlmKG1pblRocm90dGxlICYmIHRocm90dGxlRGVsYXkgPCBtaW5UaHJvdHRsZSl7XG5cdFx0XHR0aHJvdHRsZURlbGF5ID0gbWluVGhyb3R0bGU7XG5cdFx0fVxuXG5cdFx0aWYodGhyb3R0bGVEZWxheSA+IDkpe1xuXHRcdFx0bGF6eXRpbWVyID0gc2V0VGltZW91dChzY2hlZHVsZVJhZiwgdGhyb3R0bGVEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm90dGxlRGVsYXkgPSAwO1xuXHRcdFx0c2NoZWR1bGVSYWYoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBydW5UYXNrcygpe1xuXHRcdHZhciB0YXNrLCBpLCBsZW47XG5cdFx0dmFyIHRpbWVUaHJlc2hvbGQgPSByZW1haW5pbmdUaW1lID4gOSA/XG5cdFx0XHQ5IDpcblx0XHRcdDFcblx0XHQ7XG5cblx0XHR0YXNrU3RhcnQgPSBEYXRlLm5vdygpO1xuXHRcdGlzUnVubmluZyA9IGZhbHNlO1xuXG5cdFx0bGF6eXRpbWVyID0gbnVsbDtcblxuXHRcdGlmKHJ1bkF0dGVtcHRzID4gMiB8fCB0YXNrU3RhcnQgLSB0aHJvdHRsZURlbGF5IC0gNTAgPCBzY2hlZHVsZVN0YXJ0KXtcblx0XHRcdGZvcihpID0gMCwgbGVuID0gdGFza3MubGVuZ3RoOyBpIDwgbGVuICYmIElkbGVEZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lVGhyZXNob2xkOyBpKyspe1xuXHRcdFx0XHR0YXNrID0gdGFza3Muc2hpZnQoKTtcblx0XHRcdFx0dGFza2xlbmd0aCsrO1xuXHRcdFx0XHRpZih0YXNrKXtcblx0XHRcdFx0XHR0YXNrKElkbGVEZWFkbGluZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZih0YXNrcy5sZW5ndGgpe1xuXHRcdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ1bkF0dGVtcHRzID0gMDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrU2hpbSh0YXNrKXtcblx0XHRpbmRleCsrO1xuXHRcdHRhc2tzLnB1c2godGFzayk7XG5cdFx0c2NoZWR1bGVMYXp5KCk7XG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FuY2VsSWRsZUNhbGxiYWNrU2hpbShpZCl7XG5cdFx0dmFyIGluZGV4ID0gaWQgLSAxIC0gdGFza2xlbmd0aDtcblx0XHRpZih0YXNrc1tpbmRleF0pe1xuXHRcdFx0dGFza3NbaW5kZXhdID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZighcm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICFyb290LmNhbmNlbElkbGVDYWxsYmFjayl7XG5cdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFja1NoaW07XG5cdFx0cm9vdC5jYW5jZWxJZGxlQ2FsbGJhY2sgPSBjYW5jZWxJZGxlQ2FsbGJhY2tTaGltO1xuXG5cdFx0aWYocm9vdC5kb2N1bWVudCAmJiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdHJvb3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0cm9vdC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbklucHV0b3JNdXRhdGlvbik7XG5cblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25JbnB1dG9yTXV0YXRpb24sIHRydWUpO1xuXHRcdFx0WydjbGljaycsICdrZXlwcmVzcycsICd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb25JbnB1dG9yTXV0YXRpb24sIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYocm9vdC5NdXRhdGlvbk9ic2VydmVyKXtcblx0XHRcdFx0bmV3IE11dGF0aW9uT2JzZXJ2ZXIoIG9uSW5wdXRvck11dGF0aW9uICkub2JzZXJ2ZSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnl7XG5cdFx0XHRyb290LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24oKXt9LCB7dGltZW91dDogMH0pO1xuXHRcdH0gY2F0Y2goZSl7XG5cdFx0XHQoZnVuY3Rpb24ocklDKXtcblx0XHRcdFx0dmFyIHRpbWVSZW1haW5pbmdQcm90bywgdGltZVJlbWFpbmluZztcblx0XHRcdFx0cm9vdC5yZXF1ZXN0SWRsZUNhbGxiYWNrID0gZnVuY3Rpb24oZm4sIHRpbWVvdXQpe1xuXHRcdFx0XHRcdGlmKHRpbWVvdXQgJiYgdHlwZW9mIHRpbWVvdXQudGltZW91dCA9PSAnbnVtYmVyJyl7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcklDKGZuLCB0aW1lb3V0LnRpbWVvdXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcklDKGZuKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYocm9vdC5JZGxlQ2FsbGJhY2tEZWFkbGluZSAmJiAodGltZVJlbWFpbmluZ1Byb3RvID0gSWRsZUNhbGxiYWNrRGVhZGxpbmUucHJvdG90eXBlKSl7XG5cdFx0XHRcdFx0dGltZVJlbWFpbmluZyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGltZVJlbWFpbmluZ1Byb3RvLCAndGltZVJlbWFpbmluZycpO1xuXHRcdFx0XHRcdGlmKCF0aW1lUmVtYWluaW5nIHx8ICF0aW1lUmVtYWluaW5nLmNvbmZpZ3VyYWJsZSB8fCAhdGltZVJlbWFpbmluZy5nZXQpe3JldHVybjt9XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVSZW1haW5pbmdQcm90bywgJ3RpbWVSZW1haW5pbmcnLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aW1lUmVtYWluaW5nLmdldC5jYWxsKHRoaXMpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pKHJvb3QucmVxdWVzdElkbGVDYWxsYmFjaylcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHJlcXVlc3Q6IHJlcXVlc3RJZGxlQ2FsbGJhY2tTaGltLFxuXHRcdGNhbmNlbDogY2FuY2VsSWRsZUNhbGxiYWNrU2hpbSxcblx0fTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/requestidlecallback/index.js\n")},react:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE_react__},"react-dom":Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE_react_dom__}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var B=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(B.exports,B,B.exports,__webpack_require__),B.exports}__webpack_require__.n=Q=>{var F=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(F,{a:F}),F},__webpack_require__.d=(Q,F)=>{for(var B in F)__webpack_require__.o(F,B)&&!__webpack_require__.o(Q,B)&&Object.defineProperty(Q,B,{enumerable:!0,get:F[B]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/InfiniteGridScroller.tsx");return __webpack_exports__})()));